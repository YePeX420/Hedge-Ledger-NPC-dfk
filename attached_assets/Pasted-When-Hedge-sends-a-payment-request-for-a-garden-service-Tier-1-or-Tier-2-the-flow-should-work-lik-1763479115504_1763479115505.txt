When Hedge sends a payment request for a garden service (Tier 1 or Tier 2), the flow should work like this:

1) After Hedge posts the payment instructions

For example:

â€œSend exactly 25 JEWEL from wallet X to address Y. This request expires in 2 hours.â€

We consider that user to have an active pending payment with:

status = 'awaiting_payment'

expiresAt = requestedAt + 2 hours

2) If the user replies â€œsent / done / paid / etc.â€

If, after that payment message, the user sends something like:

"sent"

"done"

"paid"

"I sent it"

"payment done"

"just paid"

( case-insensitive, simple substring match is fine )

Then Hedge should:

Immediately run a manual payment verification for that specific pending job:

Same matching logic as the transaction monitor:

to === HEDGE_WALLET_ADDRESS

amount >= expectedAmount

within the last N blocks / reasonable time window

fromWallet matches expected wallet if we have it

If payment is found:

Set job:

status = 'payment_verified'

txHash populated

Reply to user:

â€œNice, I can see your payment on-chain. Iâ€™ll start your garden analysis now. ğŸ§®â€

Immediately kick off:

Tier 1 â†’ insights-processor

Tier 2 â†’ optimization-processor

If payment is not found yet:

Reply:

â€œI donâ€™t see it confirmed on-chain yet. It might still be pending. Iâ€™ll keep watching and start as soon as it appears.â€

Do nothing else â€” leave the background monitor + expiry logic as-is.

3) If the user does NOT reply at all

The existing behavior stays:

The transaction monitor keeps watching for up to 2 hours.

If payment is detected during that window:

job â†’ payment_verified â†’ analysis runs â†’ report sent.

If no payment is detected by expiresAt:

job â†’ expired

Optional DM:

â€œThe payment window expired before I could see a transaction. If you still want the service, just ask me again and Iâ€™ll create a new payment request.â€

4) Important behavior notes

The â€œsent/done/paidâ€ fast-track only triggers when:

There is an active awaiting_payment garden job for that user AND

The message comes after the payment instructions in that channel/DM.

If there is no pending payment, those words should just be handled by the normal DM logic (or ignored).