function y9(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function ls(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yy={exports:{}},Kd={};var HA;function b9(){if(HA)return Kd;HA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:l}}return Kd.Fragment=t,Kd.jsx=r,Kd.jsxs=r,Kd}var VA;function j9(){return VA||(VA=1,Yy.exports=b9()),Yy.exports}var n=j9(),Qy={exports:{}},Wd={},Xy={exports:{}},Zy={};var qA;function w9(){return qA||(qA=1,(function(e){function t(z,Z){var $=z.length;z.push(Z);e:for(;0<$;){var de=$-1>>>1,B=z[de];if(0<s(B,Z))z[de]=Z,z[$]=B,$=de;else break e}}function r(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var Z=z[0],$=z.pop();if($!==Z){z[0]=$;e:for(var de=0,B=z.length,_=B>>>1;de<_;){var Q=2*(de+1)-1,fe=z[Q],Ne=Q+1,re=z[Ne];if(0>s(fe,$))Ne<B&&0>s(re,fe)?(z[de]=re,z[Ne]=$,de=Ne):(z[de]=fe,z[Q]=$,de=Q);else if(Ne<B&&0>s(re,$))z[de]=re,z[Ne]=$,de=Ne;else break e}}return Z}function s(z,Z){var $=z.sortIndex-Z.sortIndex;return $!==0?$:z.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,g=null,v=3,y=!1,N=!1,b=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(z){for(var Z=r(m);Z!==null;){if(Z.callback===null)a(m);else if(Z.startTime<=z)a(m),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=r(m)}}function k(z){if(b=!1,T(z),!N)if(r(f)!==null)N=!0,P||(P=!0,q());else{var Z=r(m);Z!==null&&ee(k,Z.startTime-z)}}var P=!1,M=-1,I=5,Y=-1;function L(){return w?!0:!(e.unstable_now()-Y<I)}function R(){if(w=!1,P){var z=e.unstable_now();Y=z;var Z=!0;try{e:{N=!1,b&&(b=!1,E(M),M=-1),y=!0;var $=v;try{t:{for(T(z),g=r(f);g!==null&&!(g.expirationTime>z&&L());){var de=g.callback;if(typeof de=="function"){g.callback=null,v=g.priorityLevel;var B=de(g.expirationTime<=z);if(z=e.unstable_now(),typeof B=="function"){g.callback=B,T(z),Z=!0;break t}g===r(f)&&a(f),T(z)}else a(f);g=r(f)}if(g!==null)Z=!0;else{var _=r(m);_!==null&&ee(k,_.startTime-z),Z=!1}}break e}finally{g=null,v=$,y=!1}Z=void 0}}finally{Z?q():P=!1}}}var q;if(typeof A=="function")q=function(){A(R)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,K=ve.port2;ve.port1.onmessage=R,q=function(){K.postMessage(null)}}else q=function(){C(R,0)};function ee(z,Z){M=C(function(){z(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var $=v;v=Z;try{return z()}finally{v=$}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=v;v=z;try{return Z()}finally{v=$}},e.unstable_scheduleCallback=function(z,Z,$){var de=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?de+$:de):$=de,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=$+B,z={id:h++,callback:Z,priorityLevel:z,startTime:$,expirationTime:B,sortIndex:-1},$>de?(z.sortIndex=$,t(m,z),r(f)===null&&z===r(m)&&(b?(E(M),M=-1):b=!0,ee(k,$-de))):(z.sortIndex=B,t(f,z),N||y||(N=!0,P||(P=!0,q()))),z},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(z){var Z=v;return function(){var $=v;v=Z;try{return z.apply(this,arguments)}finally{v=$}}}})(Zy)),Zy}var KA;function N9(){return KA||(KA=1,Xy.exports=w9()),Xy.exports}var Jy={exports:{}},at={};var WA;function S9(){if(WA)return at;WA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(_){return _===null||typeof _!="object"?null:(_=v&&_[v]||_["@@iterator"],typeof _=="function"?_:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function C(_,Q,fe){this.props=_,this.context=Q,this.refs=w,this.updater=fe||N}C.prototype.isReactComponent={},C.prototype.setState=function(_,Q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Q,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function E(){}E.prototype=C.prototype;function A(_,Q,fe){this.props=_,this.context=Q,this.refs=w,this.updater=fe||N}var T=A.prototype=new E;T.constructor=A,b(T,C.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function P(){}var M={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Y(_,Q,fe){var Ne=fe.ref;return{$$typeof:e,type:_,key:Q,ref:Ne!==void 0?Ne:null,props:fe}}function L(_,Q){return Y(_.type,Q,_.props)}function R(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function q(_){var Q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(fe){return Q[fe]})}var ve=/\/+/g;function K(_,Q){return typeof _=="object"&&_!==null&&_.key!=null?q(""+_.key):Q.toString(36)}function ee(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(P,P):(_.status="pending",_.then(function(Q){_.status==="pending"&&(_.status="fulfilled",_.value=Q)},function(Q){_.status==="pending"&&(_.status="rejected",_.reason=Q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function z(_,Q,fe,Ne,re){var Le=typeof _;(Le==="undefined"||Le==="boolean")&&(_=null);var pe=!1;if(_===null)pe=!0;else switch(Le){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(_.$$typeof){case e:case t:pe=!0;break;case h:return pe=_._init,z(pe(_._payload),Q,fe,Ne,re)}}if(pe)return re=re(_),pe=Ne===""?"."+K(_,0):Ne,k(re)?(fe="",pe!=null&&(fe=pe.replace(ve,"$&/")+"/"),z(re,Q,fe,"",function(Pe){return Pe})):re!=null&&(R(re)&&(re=L(re,fe+(re.key==null||_&&_.key===re.key?"":(""+re.key).replace(ve,"$&/")+"/")+pe)),Q.push(re)),1;pe=0;var Ke=Ne===""?".":Ne+":";if(k(_))for(var me=0;me<_.length;me++)Ne=_[me],Le=Ke+K(Ne,me),pe+=z(Ne,Q,fe,Le,re);else if(me=y(_),typeof me=="function")for(_=me.call(_),me=0;!(Ne=_.next()).done;)Ne=Ne.value,Le=Ke+K(Ne,me++),pe+=z(Ne,Q,fe,Le,re);else if(Le==="object"){if(typeof _.then=="function")return z(ee(_),Q,fe,Ne,re);throw Q=String(_),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Z(_,Q,fe){if(_==null)return _;var Ne=[],re=0;return z(_,Ne,"","",function(Le){return Q.call(fe,Le,re++)}),Ne}function $(_){if(_._status===-1){var Q=_._result;Q=Q(),Q.then(function(fe){(_._status===0||_._status===-1)&&(_._status=1,_._result=fe)},function(fe){(_._status===0||_._status===-1)&&(_._status=2,_._result=fe)}),_._status===-1&&(_._status=0,_._result=Q)}if(_._status===1)return _._result.default;throw _._result}var de=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},B={map:Z,forEach:function(_,Q,fe){Z(_,function(){Q.apply(this,arguments)},fe)},count:function(_){var Q=0;return Z(_,function(){Q++}),Q},toArray:function(_){return Z(_,function(Q){return Q})||[]},only:function(_){if(!R(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return at.Activity=g,at.Children=B,at.Component=C,at.Fragment=r,at.Profiler=s,at.PureComponent=A,at.StrictMode=a,at.Suspense=f,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,at.__COMPILER_RUNTIME={__proto__:null,c:function(_){return M.H.useMemoCache(_)}},at.cache=function(_){return function(){return _.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(_,Q,fe){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Ne=b({},_.props),re=_.key;if(Q!=null)for(Le in Q.key!==void 0&&(re=""+Q.key),Q)!I.call(Q,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&Q.ref===void 0||(Ne[Le]=Q[Le]);var Le=arguments.length-2;if(Le===1)Ne.children=fe;else if(1<Le){for(var pe=Array(Le),Ke=0;Ke<Le;Ke++)pe[Ke]=arguments[Ke+2];Ne.children=pe}return Y(_.type,re,Ne)},at.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:l,_context:_},_},at.createElement=function(_,Q,fe){var Ne,re={},Le=null;if(Q!=null)for(Ne in Q.key!==void 0&&(Le=""+Q.key),Q)I.call(Q,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(re[Ne]=Q[Ne]);var pe=arguments.length-2;if(pe===1)re.children=fe;else if(1<pe){for(var Ke=Array(pe),me=0;me<pe;me++)Ke[me]=arguments[me+2];re.children=Ke}if(_&&_.defaultProps)for(Ne in pe=_.defaultProps,pe)re[Ne]===void 0&&(re[Ne]=pe[Ne]);return Y(_,Le,re)},at.createRef=function(){return{current:null}},at.forwardRef=function(_){return{$$typeof:d,render:_}},at.isValidElement=R,at.lazy=function(_){return{$$typeof:h,_payload:{_status:-1,_result:_},_init:$}},at.memo=function(_,Q){return{$$typeof:m,type:_,compare:Q===void 0?null:Q}},at.startTransition=function(_){var Q=M.T,fe={};M.T=fe;try{var Ne=_(),re=M.S;re!==null&&re(fe,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(P,de)}catch(Le){de(Le)}finally{Q!==null&&fe.types!==null&&(Q.types=fe.types),M.T=Q}},at.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},at.use=function(_){return M.H.use(_)},at.useActionState=function(_,Q,fe){return M.H.useActionState(_,Q,fe)},at.useCallback=function(_,Q){return M.H.useCallback(_,Q)},at.useContext=function(_){return M.H.useContext(_)},at.useDebugValue=function(){},at.useDeferredValue=function(_,Q){return M.H.useDeferredValue(_,Q)},at.useEffect=function(_,Q){return M.H.useEffect(_,Q)},at.useEffectEvent=function(_){return M.H.useEffectEvent(_)},at.useId=function(){return M.H.useId()},at.useImperativeHandle=function(_,Q,fe){return M.H.useImperativeHandle(_,Q,fe)},at.useInsertionEffect=function(_,Q){return M.H.useInsertionEffect(_,Q)},at.useLayoutEffect=function(_,Q){return M.H.useLayoutEffect(_,Q)},at.useMemo=function(_,Q){return M.H.useMemo(_,Q)},at.useOptimistic=function(_,Q){return M.H.useOptimistic(_,Q)},at.useReducer=function(_,Q,fe){return M.H.useReducer(_,Q,fe)},at.useRef=function(_){return M.H.useRef(_)},at.useState=function(_){return M.H.useState(_)},at.useSyncExternalStore=function(_,Q,fe){return M.H.useSyncExternalStore(_,Q,fe)},at.useTransition=function(){return M.H.useTransition()},at.version="19.2.0",at}var GA;function _c(){return GA||(GA=1,Jy.exports=S9()),Jy.exports}var e0={exports:{}},nr={};var YA;function C9(){if(YA)return nr;YA=1;var e=_c();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},nr.flushSync=function(f){var m=c.T,h=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=h,a.d.f()}},nr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},nr.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},nr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):h==="script"&&a.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},nr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},nr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin);a.d.L(f,h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},nr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},nr.requestFormReset=function(f){a.d.r(f)},nr.unstable_batchedUpdates=function(f,m){return f(m)},nr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},nr.useFormStatus=function(){return c.H.useHostTransitionStatus()},nr.version="19.2.0",nr}var QA;function t4(){if(QA)return e0.exports;QA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),e0.exports=C9(),e0.exports}var XA;function E9(){if(XA)return Wd;XA=1;var e=N9(),t=_c(),r=t4();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(a(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var u=i,x=o;;){var j=u.return;if(j===null)break;var S=j.alternate;if(S===null){if(x=j.return,x!==null){u=x;continue}break}if(j.child===S.child){for(S=j.child;S;){if(S===u)return f(j),i;if(S===x)return f(j),o;S=S.sibling}throw Error(a(188))}if(u.return!==x.return)u=j,x=S;else{for(var O=!1,D=j.child;D;){if(D===u){O=!0,u=j,x=S;break}if(D===x){O=!0,x=j,u=S;break}D=D.sibling}if(!O){for(D=S.child;D;){if(D===u){O=!0,u=S,x=j;break}if(D===x){O=!0,x=S,u=j;break}D=D.sibling}if(!O)throw Error(a(189))}}if(u.alternate!==x)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var ve=Symbol.for("react.client.reference");function K(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ve?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList";case Y:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case A:return i.displayName||"Context";case E:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return o=i.displayName||null,o!==null?o:K(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return K(i(o))}catch{}}return null}var ee=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},de=[],B=-1;function _(i){return{current:i}}function Q(i){0>B||(i.current=de[B],de[B]=null,B--)}function fe(i,o){B++,de[B]=i.current,i.current=o}var Ne=_(null),re=_(null),Le=_(null),pe=_(null);function Ke(i,o){switch(fe(Le,o),fe(re,i),fe(Ne,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?fA(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=fA(o),i=mA(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(Ne),fe(Ne,i)}function me(){Q(Ne),Q(re),Q(Le)}function Pe(i){i.memoizedState!==null&&fe(pe,i);var o=Ne.current,u=mA(o,i.type);o!==u&&(fe(re,i),fe(Ne,u))}function De(i){re.current===i&&(Q(Ne),Q(re)),pe.current===i&&(Q(pe),Ud._currentValue=$)}var xe,tt;function Ge(i){if(xe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",tt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+i+tt}var Lt=!1;function kt(i,o){if(!i||Lt)return"";Lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ge){var he=ge}Reflect.construct(i,[],we)}else{try{we.call()}catch(ge){he=ge}i.call(we.prototype)}}else{try{throw Error()}catch(ge){he=ge}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=x.DetermineComponentFrameRoot(),O=S[0],D=S[1];if(O&&D){var H=O.split(`
`),ce=D.split(`
`);for(j=x=0;x<H.length&&!H[x].includes("DetermineComponentFrameRoot");)x++;for(;j<ce.length&&!ce[j].includes("DetermineComponentFrameRoot");)j++;if(x===H.length||j===ce.length)for(x=H.length-1,j=ce.length-1;1<=x&&0<=j&&H[x]!==ce[j];)j--;for(;1<=x&&0<=j;x--,j--)if(H[x]!==ce[j]){if(x!==1||j!==1)do if(x--,j--,0>j||H[x]!==ce[j]){var ye=`
`+H[x].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=x&&0<=j);break}}}finally{Lt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ge(u):""}function J(i,o){switch(i.tag){case 26:case 27:case 5:return Ge(i.type);case 16:return Ge("Lazy");case 13:return i.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return kt(i.type,!1);case 11:return kt(i.type.render,!1);case 1:return kt(i.type,!0);case 31:return Ge("Activity");default:return""}}function ae(i){try{var o="",u=null;do o+=J(i,u),u=i,i=i.return;while(i);return o}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Ze=Object.prototype.hasOwnProperty,st=e.unstable_scheduleCallback,sn=e.unstable_cancelCallback,vr=e.unstable_shouldYield,jn=e.unstable_requestPaint,Je=e.unstable_now,dl=e.unstable_getCurrentPriorityLevel,ul=e.unstable_ImmediatePriority,mn=e.unstable_UserBlockingPriority,mo=e.unstable_NormalPriority,$f=e.unstable_LowPriority,fl=e.unstable_IdlePriority,ra=e.log,Lg=e.unstable_setDisableYieldValue,ml=null,F=null;function Qe(i){if(typeof ra=="function"&&Lg(i),F&&typeof F.setStrictMode=="function")try{F.setStrictMode(ml,i)}catch{}}var nt=Math.clz32?Math.clz32:Wn,Oa=Math.log,ms=Math.LN2;function Wn(i){return i>>>=0,i===0?32:31-(Oa(i)/ms|0)|0}var aa=256,Ff=262144,zf=4194304;function hl(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Bf(i,o,u){var x=i.pendingLanes;if(x===0)return 0;var j=0,S=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var D=x&134217727;return D!==0?(x=D&~S,x!==0?j=hl(x):(O&=D,O!==0?j=hl(O):u||(u=D&~i,u!==0&&(j=hl(u))))):(D=x&~S,D!==0?j=hl(D):O!==0?j=hl(O):u||(u=x&~i,u!==0&&(j=hl(u)))),j===0?0:o!==0&&o!==j&&(o&S)===0&&(S=j&-j,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:j}function td(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function iB(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WS(){var i=zf;return zf<<=1,(zf&62914560)===0&&(zf=4194304),i}function Ig(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function nd(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function lB(i,o,u,x,j,S){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var D=i.entanglements,H=i.expirationTimes,ce=i.hiddenUpdates;for(u=O&~u;0<u;){var ye=31-nt(u),we=1<<ye;D[ye]=0,H[ye]=-1;var he=ce[ye];if(he!==null)for(ce[ye]=null,ye=0;ye<he.length;ye++){var ge=he[ye];ge!==null&&(ge.lane&=-536870913)}u&=~we}x!==0&&GS(i,x,0),S!==0&&j===0&&i.tag!==0&&(i.suspendedLanes|=S&~(O&~o))}function GS(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var x=31-nt(o);i.entangledLanes|=o,i.entanglements[x]=i.entanglements[x]|1073741824|u&261930}function YS(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var x=31-nt(u),j=1<<x;j&o|i[x]&o&&(i[x]|=o),u&=~j}}function QS(i,o){var u=o&-o;return u=(u&42)!==0?1:$g(u),(u&(i.suspendedLanes|o))!==0?0:u}function $g(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Fg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function XS(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:LA(i.type))}function ZS(i,o){var u=Z.p;try{return Z.p=i,o()}finally{Z.p=u}}var fi=Math.random().toString(36).slice(2),Gn="__reactFiber$"+fi,yr="__reactProps$"+fi,ho="__reactContainer$"+fi,zg="__reactEvents$"+fi,oB="__reactListeners$"+fi,cB="__reactHandles$"+fi,JS="__reactResources$"+fi,rd="__reactMarker$"+fi;function Bg(i){delete i[Gn],delete i[yr],delete i[zg],delete i[oB],delete i[cB]}function po(i){var o=i[Gn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ho]||u[Gn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=bA(i);i!==null;){if(u=i[Gn])return u;i=bA(i)}return o}i=u,u=i.parentNode}return null}function xo(i){if(i=i[Gn]||i[ho]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function ad(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function go(i){var o=i[JS];return o||(o=i[JS]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function zn(i){i[rd]=!0}var e2=new Set,t2={};function pl(i,o){vo(i,o),vo(i+"Capture",o)}function vo(i,o){for(t2[i]=o,i=0;i<o.length;i++)e2.add(o[i])}var dB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),n2={},r2={};function uB(i){return Ze.call(r2,i)?!0:Ze.call(n2,i)?!1:dB.test(i)?r2[i]=!0:(n2[i]=!0,!1)}function Uf(i,o,u){if(uB(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Hf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function hs(i,o,u,x){if(x===null)i.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+x)}}function sa(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function a2(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function fB(i,o,u){var x=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var j=x.get,S=x.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return j.call(this)},set:function(O){u=""+O,S.call(this,O)}}),Object.defineProperty(i,o,{enumerable:x.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ug(i){if(!i._valueTracker){var o=a2(i)?"checked":"value";i._valueTracker=fB(i,o,""+i[o])}}function s2(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),x="";return i&&(x=a2(i)?i.checked?"true":"false":i.value),i=x,i!==u?(o.setValue(i),!0):!1}function Vf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var mB=/[\n"\\]/g;function ia(i){return i.replace(mB,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Hg(i,o,u,x,j,S,O,D){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+sa(o)):i.value!==""+sa(o)&&(i.value=""+sa(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Vg(i,O,sa(o)):u!=null?Vg(i,O,sa(u)):x!=null&&i.removeAttribute("value"),j==null&&S!=null&&(i.defaultChecked=!!S),j!=null&&(i.checked=j&&typeof j!="function"&&typeof j!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+sa(D):i.removeAttribute("name")}function i2(i,o,u,x,j,S,O,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Ug(i);return}u=u!=null?""+sa(u):"",o=o!=null?""+sa(o):u,D||o===i.value||(i.value=o),i.defaultValue=o}x=x??j,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=D?i.checked:!!x,i.defaultChecked=!!x,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Ug(i)}function Vg(i,o,u){o==="number"&&Vf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function yo(i,o,u,x){if(i=i.options,o){o={};for(var j=0;j<u.length;j++)o["$"+u[j]]=!0;for(u=0;u<i.length;u++)j=o.hasOwnProperty("$"+i[u].value),i[u].selected!==j&&(i[u].selected=j),j&&x&&(i[u].defaultSelected=!0)}else{for(u=""+sa(u),o=null,j=0;j<i.length;j++){if(i[j].value===u){i[j].selected=!0,x&&(i[j].defaultSelected=!0);return}o!==null||i[j].disabled||(o=i[j])}o!==null&&(o.selected=!0)}}function l2(i,o,u){if(o!=null&&(o=""+sa(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+sa(u):""}function o2(i,o,u,x){if(o==null){if(x!=null){if(u!=null)throw Error(a(92));if(ee(x)){if(1<x.length)throw Error(a(93));x=x[0]}u=x}u==null&&(u=""),o=u}u=sa(o),i.defaultValue=u,x=i.textContent,x===u&&x!==""&&x!==null&&(i.value=x),Ug(i)}function bo(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var hB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function c2(i,o,u){var x=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?x?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":x?i.setProperty(o,u):typeof u!="number"||u===0||hB.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function d2(i,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,u!=null){for(var x in u)!u.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var j in o)x=o[j],o.hasOwnProperty(j)&&u[j]!==x&&c2(i,j,x)}else for(var S in o)o.hasOwnProperty(S)&&c2(i,S,o[S])}function qg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qf(i){return xB.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ps(){}var Kg=null;function Wg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jo=null,wo=null;function u2(i){var o=xo(i);if(o&&(i=o.stateNode)){var u=i[yr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Hg(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ia(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var x=u[o];if(x!==i&&x.form===i.form){var j=x[yr]||null;if(!j)throw Error(a(90));Hg(x,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(o=0;o<u.length;o++)x=u[o],x.form===i.form&&s2(x)}break e;case"textarea":l2(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&yo(i,!!u.multiple,o,!1)}}}var Gg=!1;function f2(i,o,u){if(Gg)return i(o,u);Gg=!0;try{var x=i(o);return x}finally{if(Gg=!1,(jo!==null||wo!==null)&&(_m(),jo&&(o=jo,i=wo,wo=jo=null,u2(o),i)))for(o=0;o<i.length;o++)u2(i[o])}}function sd(i,o){var u=i.stateNode;if(u===null)return null;var x=u[yr]||null;if(x===null)return null;u=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yg=!1;if(xs)try{var id={};Object.defineProperty(id,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",id,id),window.removeEventListener("test",id,id)}catch{Yg=!1}var mi=null,Qg=null,Kf=null;function m2(){if(Kf)return Kf;var i,o=Qg,u=o.length,x,j="value"in mi?mi.value:mi.textContent,S=j.length;for(i=0;i<u&&o[i]===j[i];i++);var O=u-i;for(x=1;x<=O&&o[u-x]===j[S-x];x++);return Kf=j.slice(i,1<x?1-x:void 0)}function Wf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Gf(){return!0}function h2(){return!1}function br(i){function o(u,x,j,S,O){this._reactName=u,this._targetInst=j,this.type=x,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Gf:h2,this.isPropagationStopped=h2,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),o}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=br(xl),ld=g({},xl,{view:0,detail:0}),gB=br(ld),Xg,Zg,od,Qf=g({},ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==od&&(od&&i.type==="mousemove"?(Xg=i.screenX-od.screenX,Zg=i.screenY-od.screenY):Zg=Xg=0,od=i),Xg)},movementY:function(i){return"movementY"in i?i.movementY:Zg}}),p2=br(Qf),vB=g({},Qf,{dataTransfer:0}),yB=br(vB),bB=g({},ld,{relatedTarget:0}),Jg=br(bB),jB=g({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),wB=br(jB),NB=g({},xl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),SB=br(NB),CB=g({},xl,{data:0}),x2=br(CB),EB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OB(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=PB[i])?!!o[i]:!1}function ev(){return OB}var TB=g({},ld,{key:function(i){if(i.key){var o=EB[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Wf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?AB[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(i){return i.type==="keypress"?Wf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kB=br(TB),_B=g({},Qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g2=br(_B),RB=g({},ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),MB=br(RB),DB=g({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),LB=br(DB),IB=g({},Qf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$B=br(IB),FB=g({},xl,{newState:0,oldState:0}),zB=br(FB),BB=[9,13,27,32],tv=xs&&"CompositionEvent"in window,cd=null;xs&&"documentMode"in document&&(cd=document.documentMode);var UB=xs&&"TextEvent"in window&&!cd,v2=xs&&(!tv||cd&&8<cd&&11>=cd),y2=" ",b2=!1;function j2(i,o){switch(i){case"keyup":return BB.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var No=!1;function HB(i,o){switch(i){case"compositionend":return w2(o);case"keypress":return o.which!==32?null:(b2=!0,y2);case"textInput":return i=o.data,i===y2&&b2?null:i;default:return null}}function VB(i,o){if(No)return i==="compositionend"||!tv&&j2(i,o)?(i=m2(),Kf=Qg=mi=null,No=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return v2&&o.locale!=="ko"?null:o.data;default:return null}}var qB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N2(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!qB[i.type]:o==="textarea"}function S2(i,o,u,x){jo?wo?wo.push(x):wo=[x]:jo=x,o=Fm(o,"onChange"),0<o.length&&(u=new Yf("onChange","change",null,u,x),i.push({event:u,listeners:o}))}var dd=null,ud=null;function KB(i){iA(i,0)}function Xf(i){var o=ad(i);if(s2(o))return i}function C2(i,o){if(i==="change")return o}var E2=!1;if(xs){var nv;if(xs){var rv="oninput"in document;if(!rv){var A2=document.createElement("div");A2.setAttribute("oninput","return;"),rv=typeof A2.oninput=="function"}nv=rv}else nv=!1;E2=nv&&(!document.documentMode||9<document.documentMode)}function P2(){dd&&(dd.detachEvent("onpropertychange",O2),ud=dd=null)}function O2(i){if(i.propertyName==="value"&&Xf(ud)){var o=[];S2(o,ud,i,Wg(i)),f2(KB,o)}}function WB(i,o,u){i==="focusin"?(P2(),dd=o,ud=u,dd.attachEvent("onpropertychange",O2)):i==="focusout"&&P2()}function GB(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xf(ud)}function YB(i,o){if(i==="click")return Xf(o)}function QB(i,o){if(i==="input"||i==="change")return Xf(o)}function XB(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Dr=typeof Object.is=="function"?Object.is:XB;function fd(i,o){if(Dr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),x=Object.keys(o);if(u.length!==x.length)return!1;for(x=0;x<u.length;x++){var j=u[x];if(!Ze.call(o,j)||!Dr(i[j],o[j]))return!1}return!0}function T2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function k2(i,o){var u=T2(i);i=0;for(var x;u;){if(u.nodeType===3){if(x=i+u.textContent.length,i<=o&&x>=o)return{node:u,offset:o-i};i=x}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=T2(u)}}function _2(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?_2(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function R2(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Vf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Vf(i.document)}return o}function av(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var ZB=xs&&"documentMode"in document&&11>=document.documentMode,So=null,sv=null,md=null,iv=!1;function M2(i,o,u){var x=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;iv||So==null||So!==Vf(x)||(x=So,"selectionStart"in x&&av(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),md&&fd(md,x)||(md=x,x=Fm(sv,"onSelect"),0<x.length&&(o=new Yf("onSelect","select",null,o,u),i.push({event:o,listeners:x}),o.target=So)))}function gl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Co={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionrun:gl("Transition","TransitionRun"),transitionstart:gl("Transition","TransitionStart"),transitioncancel:gl("Transition","TransitionCancel"),transitionend:gl("Transition","TransitionEnd")},lv={},D2={};xs&&(D2=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function vl(i){if(lv[i])return lv[i];if(!Co[i])return i;var o=Co[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in D2)return lv[i]=o[u];return i}var L2=vl("animationend"),I2=vl("animationiteration"),$2=vl("animationstart"),JB=vl("transitionrun"),e8=vl("transitionstart"),t8=vl("transitioncancel"),F2=vl("transitionend"),z2=new Map,ov="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ov.push("scrollEnd");function Ta(i,o){z2.set(i,o),pl(o,[i])}var Zf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},la=[],Eo=0,cv=0;function Jf(){for(var i=Eo,o=cv=Eo=0;o<i;){var u=la[o];la[o++]=null;var x=la[o];la[o++]=null;var j=la[o];la[o++]=null;var S=la[o];if(la[o++]=null,x!==null&&j!==null){var O=x.pending;O===null?j.next=j:(j.next=O.next,O.next=j),x.pending=j}S!==0&&B2(u,j,S)}}function em(i,o,u,x){la[Eo++]=i,la[Eo++]=o,la[Eo++]=u,la[Eo++]=x,cv|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function dv(i,o,u,x){return em(i,o,u,x),tm(i)}function yl(i,o){return em(i,null,null,o),tm(i)}function B2(i,o,u){i.lanes|=u;var x=i.alternate;x!==null&&(x.lanes|=u);for(var j=!1,S=i.return;S!==null;)S.childLanes|=u,x=S.alternate,x!==null&&(x.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(j=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,j&&o!==null&&(j=31-nt(u),i=S.hiddenUpdates,x=i[j],x===null?i[j]=[o]:x.push(o),o.lane=u|536870912),S):null}function tm(i){if(50<Dd)throw Dd=0,yy=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ao={};function n8(i,o,u,x){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(i,o,u,x){return new n8(i,o,u,x)}function uv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gs(i,o){var u=i.alternate;return u===null?(u=Lr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function U2(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function nm(i,o,u,x,j,S){var O=0;if(x=i,typeof i=="function")uv(i)&&(O=1);else if(typeof i=="string")O=l9(i,u,Ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Y:return i=Lr(31,u,o,j),i.elementType=Y,i.lanes=S,i;case b:return bl(u.children,j,S,o);case w:O=8,j|=24;break;case C:return i=Lr(12,u,o,j|2),i.elementType=C,i.lanes=S,i;case k:return i=Lr(13,u,o,j),i.elementType=k,i.lanes=S,i;case P:return i=Lr(19,u,o,j),i.elementType=P,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:O=10;break e;case E:O=9;break e;case T:O=11;break e;case M:O=14;break e;case I:O=16,x=null;break e}O=29,u=Error(a(130,i===null?"null":typeof i,"")),x=null}return o=Lr(O,u,o,j),o.elementType=i,o.type=x,o.lanes=S,o}function bl(i,o,u,x){return i=Lr(7,i,x,o),i.lanes=u,i}function fv(i,o,u){return i=Lr(6,i,null,o),i.lanes=u,i}function H2(i){var o=Lr(18,null,null,0);return o.stateNode=i,o}function mv(i,o,u){return o=Lr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var V2=new WeakMap;function oa(i,o){if(typeof i=="object"&&i!==null){var u=V2.get(i);return u!==void 0?u:(o={value:i,source:o,stack:ae(o)},V2.set(i,o),o)}return{value:i,source:o,stack:ae(o)}}var Po=[],Oo=0,rm=null,hd=0,ca=[],da=0,hi=null,Wa=1,Ga="";function vs(i,o){Po[Oo++]=hd,Po[Oo++]=rm,rm=i,hd=o}function q2(i,o,u){ca[da++]=Wa,ca[da++]=Ga,ca[da++]=hi,hi=i;var x=Wa;i=Ga;var j=32-nt(x)-1;x&=~(1<<j),u+=1;var S=32-nt(o)+j;if(30<S){var O=j-j%5;S=(x&(1<<O)-1).toString(32),x>>=O,j-=O,Wa=1<<32-nt(o)+j|u<<j|x,Ga=S+i}else Wa=1<<S|u<<j|x,Ga=i}function hv(i){i.return!==null&&(vs(i,1),q2(i,1,0))}function pv(i){for(;i===rm;)rm=Po[--Oo],Po[Oo]=null,hd=Po[--Oo],Po[Oo]=null;for(;i===hi;)hi=ca[--da],ca[da]=null,Ga=ca[--da],ca[da]=null,Wa=ca[--da],ca[da]=null}function K2(i,o){ca[da++]=Wa,ca[da++]=Ga,ca[da++]=hi,Wa=o.id,Ga=o.overflow,hi=i}var Yn=null,Kt=null,jt=!1,pi=null,ua=!1,xv=Error(a(519));function xi(i){var o=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pd(oa(o,i)),xv}function W2(i){var o=i.stateNode,u=i.type,x=i.memoizedProps;switch(o[Gn]=i,o[yr]=x,u){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(u=0;u<Id.length;u++)ht(Id[u],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":ht("invalid",o),i2(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":ht("invalid",o);break;case"textarea":ht("invalid",o),o2(o,x.value,x.defaultValue,x.children)}u=x.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||x.suppressHydrationWarning===!0||dA(o.textContent,u)?(x.popover!=null&&(ht("beforetoggle",o),ht("toggle",o)),x.onScroll!=null&&ht("scroll",o),x.onScrollEnd!=null&&ht("scrollend",o),x.onClick!=null&&(o.onclick=ps),o=!0):o=!1,o||xi(i,!0)}function G2(i){for(Yn=i.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:ua=!1;return;case 27:case 3:ua=!0;return;default:Yn=Yn.return}}function To(i){if(i!==Yn)return!1;if(!jt)return G2(i),jt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||My(i.type,i.memoizedProps)),u=!u),u&&Kt&&xi(i),G2(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Kt=yA(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Kt=yA(i)}else o===27?(o=Kt,Ti(i.type)?(i=Fy,Fy=null,Kt=i):Kt=o):Kt=Yn?ma(i.stateNode.nextSibling):null;return!0}function jl(){Kt=Yn=null,jt=!1}function gv(){var i=pi;return i!==null&&(Sr===null?Sr=i:Sr.push.apply(Sr,i),pi=null),i}function pd(i){pi===null?pi=[i]:pi.push(i)}var vv=_(null),wl=null,ys=null;function gi(i,o,u){fe(vv,o._currentValue),o._currentValue=u}function bs(i){i._currentValue=vv.current,Q(vv)}function yv(i,o,u){for(;i!==null;){var x=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),i===u)break;i=i.return}}function bv(i,o,u,x){var j=i.child;for(j!==null&&(j.return=i);j!==null;){var S=j.dependencies;if(S!==null){var O=j.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=j;for(var H=0;H<o.length;H++)if(D.context===o[H]){S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),yv(S.return,u,i),x||(O=null);break e}S=D.next}}else if(j.tag===18){if(O=j.return,O===null)throw Error(a(341));O.lanes|=u,S=O.alternate,S!==null&&(S.lanes|=u),yv(O,u,i),O=null}else O=j.child;if(O!==null)O.return=j;else for(O=j;O!==null;){if(O===i){O=null;break}if(j=O.sibling,j!==null){j.return=O.return,O=j;break}O=O.return}j=O}}function ko(i,o,u,x){i=null;for(var j=o,S=!1;j!==null;){if(!S){if((j.flags&524288)!==0)S=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var O=j.alternate;if(O===null)throw Error(a(387));if(O=O.memoizedProps,O!==null){var D=j.type;Dr(j.pendingProps.value,O.value)||(i!==null?i.push(D):i=[D])}}else if(j===pe.current){if(O=j.alternate,O===null)throw Error(a(387));O.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(i!==null?i.push(Ud):i=[Ud])}j=j.return}i!==null&&bv(o,i,u,x),o.flags|=262144}function am(i){for(i=i.firstContext;i!==null;){if(!Dr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Nl(i){wl=i,ys=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qn(i){return Y2(wl,i)}function sm(i,o){return wl===null&&Nl(i),Y2(i,o)}function Y2(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ys===null){if(i===null)throw Error(a(308));ys=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ys=ys.next=o;return u}var r8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,x){i.push(x)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},a8=e.unstable_scheduleCallback,s8=e.unstable_NormalPriority,wn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jv(){return{controller:new r8,data:new Map,refCount:0}}function xd(i){i.refCount--,i.refCount===0&&a8(s8,function(){i.controller.abort()})}var gd=null,wv=0,_o=0,Ro=null;function i8(i,o){if(gd===null){var u=gd=[];wv=0,_o=Cy(),Ro={status:"pending",value:void 0,then:function(x){u.push(x)}}}return wv++,o.then(Q2,Q2),o}function Q2(){if(--wv===0&&gd!==null){Ro!==null&&(Ro.status="fulfilled");var i=gd;gd=null,_o=0,Ro=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function l8(i,o){var u=[],x={status:"pending",value:null,reason:null,then:function(j){u.push(j)}};return i.then(function(){x.status="fulfilled",x.value=o;for(var j=0;j<u.length;j++)(0,u[j])(o)},function(j){for(x.status="rejected",x.reason=j,j=0;j<u.length;j++)(0,u[j])(void 0)}),x}var X2=z.S;z.S=function(i,o){ME=Je(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&i8(i,o),X2!==null&&X2(i,o)};var Sl=_(null);function Nv(){var i=Sl.current;return i!==null?i:Bt.pooledCache}function im(i,o){o===null?fe(Sl,Sl.current):fe(Sl,o.pool)}function Z2(){var i=Nv();return i===null?null:{parent:wn._currentValue,pool:i}}var Mo=Error(a(460)),Sv=Error(a(474)),lm=Error(a(542)),om={then:function(){}};function J2(i){return i=i.status,i==="fulfilled"||i==="rejected"}function eC(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(ps,ps),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,nC(i),i;default:if(typeof o.status=="string")o.then(ps,ps);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(x){if(o.status==="pending"){var j=o;j.status="fulfilled",j.value=x}},function(x){if(o.status==="pending"){var j=o;j.status="rejected",j.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,nC(i),i}throw El=o,Mo}}function Cl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(El=u,Mo):u}}var El=null;function tC(){if(El===null)throw Error(a(459));var i=El;return El=null,i}function nC(i){if(i===Mo||i===lm)throw Error(a(483))}var Do=null,vd=0;function cm(i){var o=vd;return vd+=1,Do===null&&(Do=[]),eC(Do,i,o)}function yd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function dm(i,o){throw o.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function rC(i){function o(ne,G){if(i){var oe=ne.deletions;oe===null?(ne.deletions=[G],ne.flags|=16):oe.push(G)}}function u(ne,G){if(!i)return null;for(;G!==null;)o(ne,G),G=G.sibling;return null}function x(ne){for(var G=new Map;ne!==null;)ne.key!==null?G.set(ne.key,ne):G.set(ne.index,ne),ne=ne.sibling;return G}function j(ne,G){return ne=gs(ne,G),ne.index=0,ne.sibling=null,ne}function S(ne,G,oe){return ne.index=oe,i?(oe=ne.alternate,oe!==null?(oe=oe.index,oe<G?(ne.flags|=67108866,G):oe):(ne.flags|=67108866,G)):(ne.flags|=1048576,G)}function O(ne){return i&&ne.alternate===null&&(ne.flags|=67108866),ne}function D(ne,G,oe,je){return G===null||G.tag!==6?(G=fv(oe,ne.mode,je),G.return=ne,G):(G=j(G,oe),G.return=ne,G)}function H(ne,G,oe,je){var We=oe.type;return We===b?ye(ne,G,oe.props.children,je,oe.key):G!==null&&(G.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&Cl(We)===G.type)?(G=j(G,oe.props),yd(G,oe),G.return=ne,G):(G=nm(oe.type,oe.key,oe.props,null,ne.mode,je),yd(G,oe),G.return=ne,G)}function ce(ne,G,oe,je){return G===null||G.tag!==4||G.stateNode.containerInfo!==oe.containerInfo||G.stateNode.implementation!==oe.implementation?(G=mv(oe,ne.mode,je),G.return=ne,G):(G=j(G,oe.children||[]),G.return=ne,G)}function ye(ne,G,oe,je,We){return G===null||G.tag!==7?(G=bl(oe,ne.mode,je,We),G.return=ne,G):(G=j(G,oe),G.return=ne,G)}function we(ne,G,oe){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=fv(""+G,ne.mode,oe),G.return=ne,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return oe=nm(G.type,G.key,G.props,null,ne.mode,oe),yd(oe,G),oe.return=ne,oe;case N:return G=mv(G,ne.mode,oe),G.return=ne,G;case I:return G=Cl(G),we(ne,G,oe)}if(ee(G)||q(G))return G=bl(G,ne.mode,oe,null),G.return=ne,G;if(typeof G.then=="function")return we(ne,cm(G),oe);if(G.$$typeof===A)return we(ne,sm(ne,G),oe);dm(ne,G)}return null}function he(ne,G,oe,je){var We=G!==null?G.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return We!==null?null:D(ne,G,""+oe,je);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return oe.key===We?H(ne,G,oe,je):null;case N:return oe.key===We?ce(ne,G,oe,je):null;case I:return oe=Cl(oe),he(ne,G,oe,je)}if(ee(oe)||q(oe))return We!==null?null:ye(ne,G,oe,je,null);if(typeof oe.then=="function")return he(ne,G,cm(oe),je);if(oe.$$typeof===A)return he(ne,G,sm(ne,oe),je);dm(ne,oe)}return null}function ge(ne,G,oe,je,We){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ne=ne.get(oe)||null,D(G,ne,""+je,We);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return ne=ne.get(je.key===null?oe:je.key)||null,H(G,ne,je,We);case N:return ne=ne.get(je.key===null?oe:je.key)||null,ce(G,ne,je,We);case I:return je=Cl(je),ge(ne,G,oe,je,We)}if(ee(je)||q(je))return ne=ne.get(oe)||null,ye(G,ne,je,We,null);if(typeof je.then=="function")return ge(ne,G,oe,cm(je),We);if(je.$$typeof===A)return ge(ne,G,oe,sm(G,je),We);dm(G,je)}return null}function Ue(ne,G,oe,je){for(var We=null,Ct=null,qe=G,ct=G=0,bt=null;qe!==null&&ct<oe.length;ct++){qe.index>ct?(bt=qe,qe=null):bt=qe.sibling;var Et=he(ne,qe,oe[ct],je);if(Et===null){qe===null&&(qe=bt);break}i&&qe&&Et.alternate===null&&o(ne,qe),G=S(Et,G,ct),Ct===null?We=Et:Ct.sibling=Et,Ct=Et,qe=bt}if(ct===oe.length)return u(ne,qe),jt&&vs(ne,ct),We;if(qe===null){for(;ct<oe.length;ct++)qe=we(ne,oe[ct],je),qe!==null&&(G=S(qe,G,ct),Ct===null?We=qe:Ct.sibling=qe,Ct=qe);return jt&&vs(ne,ct),We}for(qe=x(qe);ct<oe.length;ct++)bt=ge(qe,ne,ct,oe[ct],je),bt!==null&&(i&&bt.alternate!==null&&qe.delete(bt.key===null?ct:bt.key),G=S(bt,G,ct),Ct===null?We=bt:Ct.sibling=bt,Ct=bt);return i&&qe.forEach(function(Di){return o(ne,Di)}),jt&&vs(ne,ct),We}function Ye(ne,G,oe,je){if(oe==null)throw Error(a(151));for(var We=null,Ct=null,qe=G,ct=G=0,bt=null,Et=oe.next();qe!==null&&!Et.done;ct++,Et=oe.next()){qe.index>ct?(bt=qe,qe=null):bt=qe.sibling;var Di=he(ne,qe,Et.value,je);if(Di===null){qe===null&&(qe=bt);break}i&&qe&&Di.alternate===null&&o(ne,qe),G=S(Di,G,ct),Ct===null?We=Di:Ct.sibling=Di,Ct=Di,qe=bt}if(Et.done)return u(ne,qe),jt&&vs(ne,ct),We;if(qe===null){for(;!Et.done;ct++,Et=oe.next())Et=we(ne,Et.value,je),Et!==null&&(G=S(Et,G,ct),Ct===null?We=Et:Ct.sibling=Et,Ct=Et);return jt&&vs(ne,ct),We}for(qe=x(qe);!Et.done;ct++,Et=oe.next())Et=ge(qe,ne,ct,Et.value,je),Et!==null&&(i&&Et.alternate!==null&&qe.delete(Et.key===null?ct:Et.key),G=S(Et,G,ct),Ct===null?We=Et:Ct.sibling=Et,Ct=Et);return i&&qe.forEach(function(v9){return o(ne,v9)}),jt&&vs(ne,ct),We}function Ft(ne,G,oe,je){if(typeof oe=="object"&&oe!==null&&oe.type===b&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:e:{for(var We=oe.key;G!==null;){if(G.key===We){if(We=oe.type,We===b){if(G.tag===7){u(ne,G.sibling),je=j(G,oe.props.children),je.return=ne,ne=je;break e}}else if(G.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&Cl(We)===G.type){u(ne,G.sibling),je=j(G,oe.props),yd(je,oe),je.return=ne,ne=je;break e}u(ne,G);break}else o(ne,G);G=G.sibling}oe.type===b?(je=bl(oe.props.children,ne.mode,je,oe.key),je.return=ne,ne=je):(je=nm(oe.type,oe.key,oe.props,null,ne.mode,je),yd(je,oe),je.return=ne,ne=je)}return O(ne);case N:e:{for(We=oe.key;G!==null;){if(G.key===We)if(G.tag===4&&G.stateNode.containerInfo===oe.containerInfo&&G.stateNode.implementation===oe.implementation){u(ne,G.sibling),je=j(G,oe.children||[]),je.return=ne,ne=je;break e}else{u(ne,G);break}else o(ne,G);G=G.sibling}je=mv(oe,ne.mode,je),je.return=ne,ne=je}return O(ne);case I:return oe=Cl(oe),Ft(ne,G,oe,je)}if(ee(oe))return Ue(ne,G,oe,je);if(q(oe)){if(We=q(oe),typeof We!="function")throw Error(a(150));return oe=We.call(oe),Ye(ne,G,oe,je)}if(typeof oe.then=="function")return Ft(ne,G,cm(oe),je);if(oe.$$typeof===A)return Ft(ne,G,sm(ne,oe),je);dm(ne,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,G!==null&&G.tag===6?(u(ne,G.sibling),je=j(G,oe),je.return=ne,ne=je):(u(ne,G),je=fv(oe,ne.mode,je),je.return=ne,ne=je),O(ne)):u(ne,G)}return function(ne,G,oe,je){try{vd=0;var We=Ft(ne,G,oe,je);return Do=null,We}catch(qe){if(qe===Mo||qe===lm)throw qe;var Ct=Lr(29,qe,null,ne.mode);return Ct.lanes=je,Ct.return=ne,Ct}finally{}}}var Al=rC(!0),aC=rC(!1),vi=!1;function Cv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ev(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bi(i,o,u){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Pt&2)!==0){var j=x.pending;return j===null?o.next=o:(o.next=j.next,j.next=o),x.pending=o,o=tm(i),B2(i,null,u),o}return em(i,x,o,u),tm(i)}function bd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,YS(i,u)}}function Av(i,o){var u=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,u===x)){var j=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?j=S=O:S=S.next=O,u=u.next}while(u!==null);S===null?j=S=o:S=S.next=o}else j=S=o;u={baseState:x.baseState,firstBaseUpdate:j,lastBaseUpdate:S,shared:x.shared,callbacks:x.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Pv=!1;function jd(){if(Pv){var i=Ro;if(i!==null)throw i}}function wd(i,o,u,x){Pv=!1;var j=i.updateQueue;vi=!1;var S=j.firstBaseUpdate,O=j.lastBaseUpdate,D=j.shared.pending;if(D!==null){j.shared.pending=null;var H=D,ce=H.next;H.next=null,O===null?S=ce:O.next=ce,O=H;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,D=ye.lastBaseUpdate,D!==O&&(D===null?ye.firstBaseUpdate=ce:D.next=ce,ye.lastBaseUpdate=H))}if(S!==null){var we=j.baseState;O=0,ye=ce=H=null,D=S;do{var he=D.lane&-536870913,ge=he!==D.lane;if(ge?(yt&he)===he:(x&he)===he){he!==0&&he===_o&&(Pv=!0),ye!==null&&(ye=ye.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ue=i,Ye=D;he=o;var Ft=u;switch(Ye.tag){case 1:if(Ue=Ye.payload,typeof Ue=="function"){we=Ue.call(Ft,we,he);break e}we=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ye.payload,he=typeof Ue=="function"?Ue.call(Ft,we,he):Ue,he==null)break e;we=g({},we,he);break e;case 2:vi=!0}}he=D.callback,he!==null&&(i.flags|=64,ge&&(i.flags|=8192),ge=j.callbacks,ge===null?j.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ye===null?(ce=ye=ge,H=we):ye=ye.next=ge,O|=he;if(D=D.next,D===null){if(D=j.shared.pending,D===null)break;ge=D,D=ge.next,ge.next=null,j.lastBaseUpdate=ge,j.shared.pending=null}}while(!0);ye===null&&(H=we),j.baseState=H,j.firstBaseUpdate=ce,j.lastBaseUpdate=ye,S===null&&(j.shared.lanes=0),Ci|=O,i.lanes=O,i.memoizedState=we}}function sC(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function iC(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)sC(u[i],o)}var Lo=_(null),um=_(0);function lC(i,o){i=Os,fe(um,i),fe(Lo,o),Os=i|o.baseLanes}function Ov(){fe(um,Os),fe(Lo,Lo.current)}function Tv(){Os=um.current,Q(Lo),Q(um)}var Ir=_(null),fa=null;function ji(i){var o=i.alternate;fe(hn,hn.current&1),fe(Ir,i),fa===null&&(o===null||Lo.current!==null||o.memoizedState!==null)&&(fa=i)}function kv(i){fe(hn,hn.current),fe(Ir,i),fa===null&&(fa=i)}function oC(i){i.tag===22?(fe(hn,hn.current),fe(Ir,i),fa===null&&(fa=i)):wi()}function wi(){fe(hn,hn.current),fe(Ir,Ir.current)}function $r(i){Q(Ir),fa===i&&(fa=null),Q(hn)}var hn=_(0);function fm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Iy(u)||$y(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var js=0,it=null,It=null,Nn=null,mm=!1,Io=!1,Pl=!1,hm=0,Nd=0,$o=null,o8=0;function ln(){throw Error(a(321))}function _v(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Dr(i[u],o[u]))return!1;return!0}function Rv(i,o,u,x,j,S){return js=S,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=i===null||i.memoizedState===null?qC:Gv,Pl=!1,S=u(x,j),Pl=!1,Io&&(S=dC(o,u,x,j)),cC(i),S}function cC(i){z.H=Ed;var o=It!==null&&It.next!==null;if(js=0,Nn=It=it=null,mm=!1,Nd=0,$o=null,o)throw Error(a(300));i===null||Sn||(i=i.dependencies,i!==null&&am(i)&&(Sn=!0))}function dC(i,o,u,x){it=i;var j=0;do{if(Io&&($o=null),Nd=0,Io=!1,25<=j)throw Error(a(301));if(j+=1,Nn=It=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}z.H=KC,S=o(u,x)}while(Io);return S}function c8(){var i=z.H,o=i.useState()[0];return o=typeof o.then=="function"?Sd(o):o,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(it.flags|=1024),o}function Mv(){var i=hm!==0;return hm=0,i}function Dv(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Lv(i){if(mm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}mm=!1}js=0,Nn=It=it=null,Io=!1,Nd=hm=0,$o=null}function cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?it.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function pn(){if(It===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=Nn===null?it.memoizedState:Nn.next;if(o!==null)Nn=o,It=i;else{if(i===null)throw it.alternate===null?Error(a(467)):Error(a(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Nn===null?it.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sd(i){var o=Nd;return Nd+=1,$o===null&&($o=[]),i=eC($o,i,o),o=it,(Nn===null?o.memoizedState:Nn.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?qC:Gv),i}function xm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sd(i);if(i.$$typeof===A)return Qn(i)}throw Error(a(438,String(i)))}function Iv(i){var o=null,u=it.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var x=it.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(j){return j.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=pm(),it.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),x=0;x<i;x++)u[x]=L;return o.index++,u}function ws(i,o){return typeof o=="function"?o(i):o}function gm(i){var o=pn();return $v(o,It,i)}function $v(i,o,u){var x=i.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=u;var j=i.baseQueue,S=x.pending;if(S!==null){if(j!==null){var O=j.next;j.next=S.next,S.next=O}o.baseQueue=j=S,x.pending=null}if(S=i.baseState,j===null)i.memoizedState=S;else{o=j.next;var D=O=null,H=null,ce=o,ye=!1;do{var we=ce.lane&-536870913;if(we!==ce.lane?(yt&we)===we:(js&we)===we){var he=ce.revertLane;if(he===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),we===_o&&(ye=!0);else if((js&he)===he){ce=ce.next,he===_o&&(ye=!0);continue}else we={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},H===null?(D=H=we,O=S):H=H.next=we,it.lanes|=he,Ci|=he;we=ce.action,Pl&&u(S,we),S=ce.hasEagerState?ce.eagerState:u(S,we)}else he={lane:we,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},H===null?(D=H=he,O=S):H=H.next=he,it.lanes|=we,Ci|=we;ce=ce.next}while(ce!==null&&ce!==o);if(H===null?O=S:H.next=D,!Dr(S,i.memoizedState)&&(Sn=!0,ye&&(u=Ro,u!==null)))throw u;i.memoizedState=S,i.baseState=O,i.baseQueue=H,x.lastRenderedState=S}return j===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function Fv(i){var o=pn(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var x=u.dispatch,j=u.pending,S=o.memoizedState;if(j!==null){u.pending=null;var O=j=j.next;do S=i(S,O.action),O=O.next;while(O!==j);Dr(S,o.memoizedState)||(Sn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,x]}function uC(i,o,u){var x=it,j=pn(),S=jt;if(S){if(u===void 0)throw Error(a(407));u=u()}else u=o();var O=!Dr((It||j).memoizedState,u);if(O&&(j.memoizedState=u,Sn=!0),j=j.queue,Uv(hC.bind(null,x,j,i),[i]),j.getSnapshot!==o||O||Nn!==null&&Nn.memoizedState.tag&1){if(x.flags|=2048,Fo(9,{destroy:void 0},mC.bind(null,x,j,u,o),null),Bt===null)throw Error(a(349));S||(js&127)!==0||fC(x,o,u)}return u}function fC(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=it.updateQueue,o===null?(o=pm(),it.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function mC(i,o,u,x){o.value=u,o.getSnapshot=x,pC(o)&&xC(i)}function hC(i,o,u){return u(function(){pC(o)&&xC(i)})}function pC(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Dr(i,u)}catch{return!0}}function xC(i){var o=yl(i,2);o!==null&&Cr(o,i,2)}function zv(i){var o=cr();if(typeof i=="function"){var u=i;if(i=u(),Pl){Qe(!0);try{u()}finally{Qe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:i},o}function gC(i,o,u,x){return i.baseState=u,$v(i,It,typeof x=="function"?x:ws)}function d8(i,o,u,x,j){if(bm(i))throw Error(a(485));if(i=o.action,i!==null){var S={payload:j,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};z.T!==null?u(!0):S.isTransition=!1,x(S),u=o.pending,u===null?(S.next=o.pending=S,vC(o,S)):(S.next=u.next,o.pending=u.next=S)}}function vC(i,o){var u=o.action,x=o.payload,j=i.state;if(o.isTransition){var S=z.T,O={};z.T=O;try{var D=u(j,x),H=z.S;H!==null&&H(O,D),yC(i,o,D)}catch(ce){Bv(i,o,ce)}finally{S!==null&&O.types!==null&&(S.types=O.types),z.T=S}}else try{S=u(j,x),yC(i,o,S)}catch(ce){Bv(i,o,ce)}}function yC(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(x){bC(i,o,x)},function(x){return Bv(i,o,x)}):bC(i,o,u)}function bC(i,o,u){o.status="fulfilled",o.value=u,jC(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,vC(i,u)))}function Bv(i,o,u){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=u,jC(o),o=o.next;while(o!==x)}i.action=null}function jC(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function wC(i,o){return o}function NC(i,o){if(jt){var u=Bt.formState;if(u!==null){e:{var x=it;if(jt){if(Kt){t:{for(var j=Kt,S=ua;j.nodeType!==8;){if(!S){j=null;break t}if(j=ma(j.nextSibling),j===null){j=null;break t}}S=j.data,j=S==="F!"||S==="F"?j:null}if(j){Kt=ma(j.nextSibling),x=j.data==="F!";break e}}xi(x)}x=!1}x&&(o=u[0])}}return u=cr(),u.memoizedState=u.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wC,lastRenderedState:o},u.queue=x,u=UC.bind(null,it,x),x.dispatch=u,x=zv(!1),S=Wv.bind(null,it,!1,x.queue),x=cr(),j={state:o,dispatch:null,action:i,pending:null},x.queue=j,u=d8.bind(null,it,j,S,u),j.dispatch=u,x.memoizedState=i,[o,u,!1]}function SC(i){var o=pn();return CC(o,It,i)}function CC(i,o,u){if(o=$v(i,o,wC)[0],i=gm(ws)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=Sd(o)}catch(O){throw O===Mo?lm:O}else x=o;o=pn();var j=o.queue,S=j.dispatch;return u!==o.memoizedState&&(it.flags|=2048,Fo(9,{destroy:void 0},u8.bind(null,j,u),null)),[x,S,i]}function u8(i,o){i.action=o}function EC(i){var o=pn(),u=It;if(u!==null)return CC(o,u,i);pn(),o=o.memoizedState,u=pn();var x=u.queue.dispatch;return u.memoizedState=i,[o,x,!1]}function Fo(i,o,u,x){return i={tag:i,create:u,deps:x,inst:o,next:null},o=it.updateQueue,o===null&&(o=pm(),it.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(x=u.next,u.next=i,i.next=x,o.lastEffect=i),i}function AC(){return pn().memoizedState}function vm(i,o,u,x){var j=cr();it.flags|=i,j.memoizedState=Fo(1|o,{destroy:void 0},u,x===void 0?null:x)}function ym(i,o,u,x){var j=pn();x=x===void 0?null:x;var S=j.memoizedState.inst;It!==null&&x!==null&&_v(x,It.memoizedState.deps)?j.memoizedState=Fo(o,S,u,x):(it.flags|=i,j.memoizedState=Fo(1|o,S,u,x))}function PC(i,o){vm(8390656,8,i,o)}function Uv(i,o){ym(2048,8,i,o)}function f8(i){it.flags|=4;var o=it.updateQueue;if(o===null)o=pm(),it.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function OC(i){var o=pn().memoizedState;return f8({ref:o,nextImpl:i}),function(){if((Pt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}function TC(i,o){return ym(4,2,i,o)}function kC(i,o){return ym(4,4,i,o)}function _C(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function RC(i,o,u){u=u!=null?u.concat([i]):null,ym(4,4,_C.bind(null,o,i),u)}function Hv(){}function MC(i,o){var u=pn();o=o===void 0?null:o;var x=u.memoizedState;return o!==null&&_v(o,x[1])?x[0]:(u.memoizedState=[i,o],i)}function DC(i,o){var u=pn();o=o===void 0?null:o;var x=u.memoizedState;if(o!==null&&_v(o,x[1]))return x[0];if(x=i(),Pl){Qe(!0);try{i()}finally{Qe(!1)}}return u.memoizedState=[x,o],x}function Vv(i,o,u){return u===void 0||(js&1073741824)!==0&&(yt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=LE(),it.lanes|=i,Ci|=i,u)}function LC(i,o,u,x){return Dr(u,o)?u:Lo.current!==null?(i=Vv(i,u,x),Dr(i,o)||(Sn=!0),i):(js&42)===0||(js&1073741824)!==0&&(yt&261930)===0?(Sn=!0,i.memoizedState=u):(i=LE(),it.lanes|=i,Ci|=i,o)}function IC(i,o,u,x,j){var S=Z.p;Z.p=S!==0&&8>S?S:8;var O=z.T,D={};z.T=D,Wv(i,!1,o,u);try{var H=j(),ce=z.S;if(ce!==null&&ce(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ye=l8(H,x);Cd(i,o,ye,Br(i))}else Cd(i,o,x,Br(i))}catch(we){Cd(i,o,{then:function(){},status:"rejected",reason:we},Br())}finally{Z.p=S,O!==null&&D.types!==null&&(O.types=D.types),z.T=O}}function m8(){}function qv(i,o,u,x){if(i.tag!==5)throw Error(a(476));var j=$C(i).queue;IC(i,j,o,$,u===null?m8:function(){return FC(i),u(x)})}function $C(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function FC(i){var o=$C(i);o.next===null&&(o=i.alternate.memoizedState),Cd(i,o.next.queue,{},Br())}function Kv(){return Qn(Ud)}function zC(){return pn().memoizedState}function BC(){return pn().memoizedState}function h8(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Br();i=yi(u);var x=bi(o,i,u);x!==null&&(Cr(x,o,u),bd(x,o,u)),o={cache:jv()},i.payload=o;return}o=o.return}}function p8(i,o,u){var x=Br();u={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bm(i)?HC(o,u):(u=dv(i,o,u,x),u!==null&&(Cr(u,i,x),VC(u,o,x)))}function UC(i,o,u){var x=Br();Cd(i,o,u,x)}function Cd(i,o,u,x){var j={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(bm(i))HC(o,j);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var O=o.lastRenderedState,D=S(O,u);if(j.hasEagerState=!0,j.eagerState=D,Dr(D,O))return em(i,o,j,0),Bt===null&&Jf(),!1}catch{}finally{}if(u=dv(i,o,j,x),u!==null)return Cr(u,i,x),VC(u,o,x),!0}return!1}function Wv(i,o,u,x){if(x={lane:2,revertLane:Cy(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},bm(i)){if(o)throw Error(a(479))}else o=dv(i,u,x,2),o!==null&&Cr(o,i,2)}function bm(i){var o=i.alternate;return i===it||o!==null&&o===it}function HC(i,o){Io=mm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function VC(i,o,u){if((u&4194048)!==0){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,YS(i,u)}}var Ed={readContext:Qn,use:xm,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Ed.useEffectEvent=ln;var qC={readContext:Qn,use:xm,useCallback:function(i,o){return cr().memoizedState=[i,o===void 0?null:o],i},useContext:Qn,useEffect:PC,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,vm(4194308,4,_C.bind(null,o,i),u)},useLayoutEffect:function(i,o){return vm(4194308,4,i,o)},useInsertionEffect:function(i,o){vm(4,2,i,o)},useMemo:function(i,o){var u=cr();o=o===void 0?null:o;var x=i();if(Pl){Qe(!0);try{i()}finally{Qe(!1)}}return u.memoizedState=[x,o],x},useReducer:function(i,o,u){var x=cr();if(u!==void 0){var j=u(o);if(Pl){Qe(!0);try{u(o)}finally{Qe(!1)}}}else j=o;return x.memoizedState=x.baseState=j,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:j},x.queue=i,i=i.dispatch=p8.bind(null,it,i),[x.memoizedState,i]},useRef:function(i){var o=cr();return i={current:i},o.memoizedState=i},useState:function(i){i=zv(i);var o=i.queue,u=UC.bind(null,it,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Hv,useDeferredValue:function(i,o){var u=cr();return Vv(u,i,o)},useTransition:function(){var i=zv(!1);return i=IC.bind(null,it,i.queue,!0,!1),cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var x=it,j=cr();if(jt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Bt===null)throw Error(a(349));(yt&127)!==0||fC(x,o,u)}j.memoizedState=u;var S={value:u,getSnapshot:o};return j.queue=S,PC(hC.bind(null,x,S,i),[i]),x.flags|=2048,Fo(9,{destroy:void 0},mC.bind(null,x,S,u,o),null),u},useId:function(){var i=cr(),o=Bt.identifierPrefix;if(jt){var u=Ga,x=Wa;u=(x&~(1<<32-nt(x)-1)).toString(32)+u,o="_"+o+"R_"+u,u=hm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=o8++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Kv,useFormState:NC,useActionState:NC,useOptimistic:function(i){var o=cr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Wv.bind(null,it,!0,u),u.dispatch=o,[i,o]},useMemoCache:Iv,useCacheRefresh:function(){return cr().memoizedState=h8.bind(null,it)},useEffectEvent:function(i){var o=cr(),u={impl:i};return o.memoizedState=u,function(){if((Pt&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},Gv={readContext:Qn,use:xm,useCallback:MC,useContext:Qn,useEffect:Uv,useImperativeHandle:RC,useInsertionEffect:TC,useLayoutEffect:kC,useMemo:DC,useReducer:gm,useRef:AC,useState:function(){return gm(ws)},useDebugValue:Hv,useDeferredValue:function(i,o){var u=pn();return LC(u,It.memoizedState,i,o)},useTransition:function(){var i=gm(ws)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Sd(i),o]},useSyncExternalStore:uC,useId:zC,useHostTransitionStatus:Kv,useFormState:SC,useActionState:SC,useOptimistic:function(i,o){var u=pn();return gC(u,It,i,o)},useMemoCache:Iv,useCacheRefresh:BC};Gv.useEffectEvent=OC;var KC={readContext:Qn,use:xm,useCallback:MC,useContext:Qn,useEffect:Uv,useImperativeHandle:RC,useInsertionEffect:TC,useLayoutEffect:kC,useMemo:DC,useReducer:Fv,useRef:AC,useState:function(){return Fv(ws)},useDebugValue:Hv,useDeferredValue:function(i,o){var u=pn();return It===null?Vv(u,i,o):LC(u,It.memoizedState,i,o)},useTransition:function(){var i=Fv(ws)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Sd(i),o]},useSyncExternalStore:uC,useId:zC,useHostTransitionStatus:Kv,useFormState:EC,useActionState:EC,useOptimistic:function(i,o){var u=pn();return It!==null?gC(u,It,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Iv,useCacheRefresh:BC};KC.useEffectEvent=OC;function Yv(i,o,u,x){o=i.memoizedState,u=u(x,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Qv={enqueueSetState:function(i,o,u){i=i._reactInternals;var x=Br(),j=yi(x);j.payload=o,u!=null&&(j.callback=u),o=bi(i,j,x),o!==null&&(Cr(o,i,x),bd(o,i,x))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var x=Br(),j=yi(x);j.tag=1,j.payload=o,u!=null&&(j.callback=u),o=bi(i,j,x),o!==null&&(Cr(o,i,x),bd(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Br(),x=yi(u);x.tag=2,o!=null&&(x.callback=o),o=bi(i,x,u),o!==null&&(Cr(o,i,u),bd(o,i,u))}};function WC(i,o,u,x,j,S,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,S,O):o.prototype&&o.prototype.isPureReactComponent?!fd(u,x)||!fd(j,S):!0}function GC(i,o,u,x){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,x),o.state!==i&&Qv.enqueueReplaceState(o,o.state,null)}function Ol(i,o){var u=o;if("ref"in o){u={};for(var x in o)x!=="ref"&&(u[x]=o[x])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var j in i)u[j]===void 0&&(u[j]=i[j])}return u}function YC(i){Zf(i)}function QC(i){console.error(i)}function XC(i){Zf(i)}function jm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function ZC(i,o,u){try{var x=i.onCaughtError;x(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function Xv(i,o,u){return u=yi(u),u.tag=3,u.payload={element:null},u.callback=function(){jm(i,o)},u}function JC(i){return i=yi(i),i.tag=3,i}function eE(i,o,u,x){var j=u.type.getDerivedStateFromError;if(typeof j=="function"){var S=x.value;i.payload=function(){return j(S)},i.callback=function(){ZC(o,u,x)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){ZC(o,u,x),typeof j!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var D=x.stack;this.componentDidCatch(x.value,{componentStack:D!==null?D:""})})}function x8(i,o,u,x,j){if(u.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=u.alternate,o!==null&&ko(o,u,j,!0),u=Ir.current,u!==null){switch(u.tag){case 31:case 13:return fa===null?Rm():u.alternate===null&&on===0&&(on=3),u.flags&=-257,u.flags|=65536,u.lanes=j,x===om?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([x]):o.add(x),wy(i,x,j)),!1;case 22:return u.flags|=65536,x===om?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([x]):u.add(x)),wy(i,x,j)),!1}throw Error(a(435,u.tag))}return wy(i,x,j),Rm(),!1}if(jt)return o=Ir.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=j,x!==xv&&(i=Error(a(422),{cause:x}),pd(oa(i,u)))):(x!==xv&&(o=Error(a(423),{cause:x}),pd(oa(o,u))),i=i.current.alternate,i.flags|=65536,j&=-j,i.lanes|=j,x=oa(x,u),j=Xv(i.stateNode,x,j),Av(i,j),on!==4&&(on=2)),!1;var S=Error(a(520),{cause:x});if(S=oa(S,u),Md===null?Md=[S]:Md.push(S),on!==4&&(on=2),o===null)return!0;x=oa(x,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=j&-j,u.lanes|=i,i=Xv(u.stateNode,x,i),Av(u,i),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ei===null||!Ei.has(S))))return u.flags|=65536,j&=-j,u.lanes|=j,j=JC(j),eE(j,i,u,x),Av(u,j),!1}u=u.return}while(u!==null);return!1}var Zv=Error(a(461)),Sn=!1;function Xn(i,o,u,x){o.child=i===null?aC(o,null,u,x):Al(o,i.child,u,x)}function tE(i,o,u,x,j){u=u.render;var S=o.ref;if("ref"in x){var O={};for(var D in x)D!=="ref"&&(O[D]=x[D])}else O=x;return Nl(o),x=Rv(i,o,u,O,S,j),D=Mv(),i!==null&&!Sn?(Dv(i,o,j),Ns(i,o,j)):(jt&&D&&hv(o),o.flags|=1,Xn(i,o,x,j),o.child)}function nE(i,o,u,x,j){if(i===null){var S=u.type;return typeof S=="function"&&!uv(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,rE(i,o,S,x,j)):(i=nm(u.type,null,x,o,o.mode,j),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!iy(i,j)){var O=S.memoizedProps;if(u=u.compare,u=u!==null?u:fd,u(O,x)&&i.ref===o.ref)return Ns(i,o,j)}return o.flags|=1,i=gs(S,x),i.ref=o.ref,i.return=o,o.child=i}function rE(i,o,u,x,j){if(i!==null){var S=i.memoizedProps;if(fd(S,x)&&i.ref===o.ref)if(Sn=!1,o.pendingProps=x=S,iy(i,j))(i.flags&131072)!==0&&(Sn=!0);else return o.lanes=i.lanes,Ns(i,o,j)}return Jv(i,o,u,x,j)}function aE(i,o,u,x){var j=x.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(x=o.child=i.child,j=0;x!==null;)j=j|x.lanes|x.childLanes,x=x.sibling;x=j&~S}else x=0,o.child=null;return sE(i,o,S,u,x)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&im(o,S!==null?S.cachePool:null),S!==null?lC(o,S):Ov(),oC(o);else return x=o.lanes=536870912,sE(i,o,S!==null?S.baseLanes|u:u,u,x)}else S!==null?(im(o,S.cachePool),lC(o,S),wi(),o.memoizedState=null):(i!==null&&im(o,null),Ov(),wi());return Xn(i,o,j,u),o.child}function Ad(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function sE(i,o,u,x,j){var S=Nv();return S=S===null?null:{parent:wn._currentValue,pool:S},o.memoizedState={baseLanes:u,cachePool:S},i!==null&&im(o,null),Ov(),oC(o),i!==null&&ko(i,o,x,!0),o.childLanes=j,null}function wm(i,o){return o=Sm({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function iE(i,o,u){return Al(o,i.child,null,u),i=wm(o,o.pendingProps),i.flags|=2,$r(o),o.memoizedState=null,i}function g8(i,o,u){var x=o.pendingProps,j=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(jt){if(x.mode==="hidden")return i=wm(o,x),o.lanes=536870912,Ad(null,i);if(kv(o),(i=Kt)?(i=vA(i,ua),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:hi!==null?{id:Wa,overflow:Ga}:null,retryLane:536870912,hydrationErrors:null},u=H2(i),u.return=o,o.child=u,Yn=o,Kt=null)):i=null,i===null)throw xi(o);return o.lanes=536870912,null}return wm(o,x)}var S=i.memoizedState;if(S!==null){var O=S.dehydrated;if(kv(o),j)if(o.flags&256)o.flags&=-257,o=iE(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(a(558));else if(Sn||ko(i,o,u,!1),j=(u&i.childLanes)!==0,Sn||j){if(x=Bt,x!==null&&(O=QS(x,u),O!==0&&O!==S.retryLane))throw S.retryLane=O,yl(i,O),Cr(x,i,O),Zv;Rm(),o=iE(i,o,u)}else i=S.treeContext,Kt=ma(O.nextSibling),Yn=o,jt=!0,pi=null,ua=!1,i!==null&&K2(o,i),o=wm(o,x),o.flags|=4096;return o}return i=gs(i.child,{mode:x.mode,children:x.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Nm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Jv(i,o,u,x,j){return Nl(o),u=Rv(i,o,u,x,void 0,j),x=Mv(),i!==null&&!Sn?(Dv(i,o,j),Ns(i,o,j)):(jt&&x&&hv(o),o.flags|=1,Xn(i,o,u,j),o.child)}function lE(i,o,u,x,j,S){return Nl(o),o.updateQueue=null,u=dC(o,x,u,j),cC(i),x=Mv(),i!==null&&!Sn?(Dv(i,o,S),Ns(i,o,S)):(jt&&x&&hv(o),o.flags|=1,Xn(i,o,u,S),o.child)}function oE(i,o,u,x,j){if(Nl(o),o.stateNode===null){var S=Ao,O=u.contextType;typeof O=="object"&&O!==null&&(S=Qn(O)),S=new u(x,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Qv,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=x,S.state=o.memoizedState,S.refs={},Cv(o),O=u.contextType,S.context=typeof O=="object"&&O!==null?Qn(O):Ao,S.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Yv(o,u,O,x),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&Qv.enqueueReplaceState(S,S.state,null),wd(o,x,S,j),jd(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(i===null){S=o.stateNode;var D=o.memoizedProps,H=Ol(u,D);S.props=H;var ce=S.context,ye=u.contextType;O=Ao,typeof ye=="object"&&ye!==null&&(O=Qn(ye));var we=u.getDerivedStateFromProps;ye=typeof we=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ye||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||ce!==O)&&GC(o,S,x,O),vi=!1;var he=o.memoizedState;S.state=he,wd(o,x,S,j),jd(),ce=o.memoizedState,D||he!==ce||vi?(typeof we=="function"&&(Yv(o,u,we,x),ce=o.memoizedState),(H=vi||WC(o,u,H,x,he,ce,O))?(ye||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=ce),S.props=x,S.state=ce,S.context=O,x=H):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{S=o.stateNode,Ev(i,o),O=o.memoizedProps,ye=Ol(u,O),S.props=ye,we=o.pendingProps,he=S.context,ce=u.contextType,H=Ao,typeof ce=="object"&&ce!==null&&(H=Qn(ce)),D=u.getDerivedStateFromProps,(ce=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==we||he!==H)&&GC(o,S,x,H),vi=!1,he=o.memoizedState,S.state=he,wd(o,x,S,j),jd();var ge=o.memoizedState;O!==we||he!==ge||vi||i!==null&&i.dependencies!==null&&am(i.dependencies)?(typeof D=="function"&&(Yv(o,u,D,x),ge=o.memoizedState),(ye=vi||WC(o,u,ye,x,he,ge,H)||i!==null&&i.dependencies!==null&&am(i.dependencies))?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(x,ge,H),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(x,ge,H)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=ge),S.props=x,S.state=ge,S.context=H,x=ye):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),x=!1)}return S=x,Nm(i,o),x=(o.flags&128)!==0,S||x?(S=o.stateNode,u=x&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&x?(o.child=Al(o,i.child,null,j),o.child=Al(o,null,u,j)):Xn(i,o,u,j),o.memoizedState=S.state,i=o.child):i=Ns(i,o,j),i}function cE(i,o,u,x){return jl(),o.flags|=256,Xn(i,o,u,x),o.child}var ey={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ty(i){return{baseLanes:i,cachePool:Z2()}}function ny(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=zr),i}function dE(i,o,u){var x=o.pendingProps,j=!1,S=(o.flags&128)!==0,O;if((O=S)||(O=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),O&&(j=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(jt){if(j?ji(o):wi(),(i=Kt)?(i=vA(i,ua),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:hi!==null?{id:Wa,overflow:Ga}:null,retryLane:536870912,hydrationErrors:null},u=H2(i),u.return=o,o.child=u,Yn=o,Kt=null)):i=null,i===null)throw xi(o);return $y(i)?o.lanes=32:o.lanes=536870912,null}var D=x.children;return x=x.fallback,j?(wi(),j=o.mode,D=Sm({mode:"hidden",children:D},j),x=bl(x,j,u,null),D.return=o,x.return=o,D.sibling=x,o.child=D,x=o.child,x.memoizedState=ty(u),x.childLanes=ny(i,O,u),o.memoizedState=ey,Ad(null,x)):(ji(o),ry(o,D))}var H=i.memoizedState;if(H!==null&&(D=H.dehydrated,D!==null)){if(S)o.flags&256?(ji(o),o.flags&=-257,o=ay(i,o,u)):o.memoizedState!==null?(wi(),o.child=i.child,o.flags|=128,o=null):(wi(),D=x.fallback,j=o.mode,x=Sm({mode:"visible",children:x.children},j),D=bl(D,j,u,null),D.flags|=2,x.return=o,D.return=o,x.sibling=D,o.child=x,Al(o,i.child,null,u),x=o.child,x.memoizedState=ty(u),x.childLanes=ny(i,O,u),o.memoizedState=ey,o=Ad(null,x));else if(ji(o),$y(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var ce=O.dgst;O=ce,x=Error(a(419)),x.stack="",x.digest=O,pd({value:x,source:null,stack:null}),o=ay(i,o,u)}else if(Sn||ko(i,o,u,!1),O=(u&i.childLanes)!==0,Sn||O){if(O=Bt,O!==null&&(x=QS(O,u),x!==0&&x!==H.retryLane))throw H.retryLane=x,yl(i,x),Cr(O,i,x),Zv;Iy(D)||Rm(),o=ay(i,o,u)}else Iy(D)?(o.flags|=192,o.child=i.child,o=null):(i=H.treeContext,Kt=ma(D.nextSibling),Yn=o,jt=!0,pi=null,ua=!1,i!==null&&K2(o,i),o=ry(o,x.children),o.flags|=4096);return o}return j?(wi(),D=x.fallback,j=o.mode,H=i.child,ce=H.sibling,x=gs(H,{mode:"hidden",children:x.children}),x.subtreeFlags=H.subtreeFlags&65011712,ce!==null?D=gs(ce,D):(D=bl(D,j,u,null),D.flags|=2),D.return=o,x.return=o,x.sibling=D,o.child=x,Ad(null,x),x=o.child,D=i.child.memoizedState,D===null?D=ty(u):(j=D.cachePool,j!==null?(H=wn._currentValue,j=j.parent!==H?{parent:H,pool:H}:j):j=Z2(),D={baseLanes:D.baseLanes|u,cachePool:j}),x.memoizedState=D,x.childLanes=ny(i,O,u),o.memoizedState=ey,Ad(i.child,x)):(ji(o),u=i.child,i=u.sibling,u=gs(u,{mode:"visible",children:x.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function ry(i,o){return o=Sm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Sm(i,o){return i=Lr(22,i,null,o),i.lanes=0,i}function ay(i,o,u){return Al(o,i.child,null,u),i=ry(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function uE(i,o,u){i.lanes|=o;var x=i.alternate;x!==null&&(x.lanes|=o),yv(i.return,o,u)}function sy(i,o,u,x,j,S){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:u,tailMode:j,treeForkCount:S}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=u,O.tailMode=j,O.treeForkCount=S)}function fE(i,o,u){var x=o.pendingProps,j=x.revealOrder,S=x.tail;x=x.children;var O=hn.current,D=(O&2)!==0;if(D?(O=O&1|2,o.flags|=128):O&=1,fe(hn,O),Xn(i,o,x,u),x=jt?hd:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uE(i,u,o);else if(i.tag===19)uE(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(j){case"forwards":for(u=o.child,j=null;u!==null;)i=u.alternate,i!==null&&fm(i)===null&&(j=u),u=u.sibling;u=j,u===null?(j=o.child,o.child=null):(j=u.sibling,u.sibling=null),sy(o,!1,j,u,S,x);break;case"backwards":case"unstable_legacy-backwards":for(u=null,j=o.child,o.child=null;j!==null;){if(i=j.alternate,i!==null&&fm(i)===null){o.child=j;break}i=j.sibling,j.sibling=u,u=j,j=i}sy(o,!0,u,null,S,x);break;case"together":sy(o,!1,null,null,void 0,x);break;default:o.memoizedState=null}return o.child}function Ns(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ci|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(ko(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,u=gs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=gs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function iy(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&am(i)))}function v8(i,o,u){switch(o.tag){case 3:Ke(o,o.stateNode.containerInfo),gi(o,wn,i.memoizedState.cache),jl();break;case 27:case 5:Pe(o);break;case 4:Ke(o,o.stateNode.containerInfo);break;case 10:gi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,kv(o),null;break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(ji(o),o.flags|=128,null):(u&o.child.childLanes)!==0?dE(i,o,u):(ji(o),i=Ns(i,o,u),i!==null?i.sibling:null);ji(o);break;case 19:var j=(i.flags&128)!==0;if(x=(u&o.childLanes)!==0,x||(ko(i,o,u,!1),x=(u&o.childLanes)!==0),j){if(x)return fE(i,o,u);o.flags|=128}if(j=o.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),fe(hn,hn.current),x)break;return null;case 22:return o.lanes=0,aE(i,o,u,o.pendingProps);case 24:gi(o,wn,i.memoizedState.cache)}return Ns(i,o,u)}function mE(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Sn=!0;else{if(!iy(i,u)&&(o.flags&128)===0)return Sn=!1,v8(i,o,u);Sn=(i.flags&131072)!==0}else Sn=!1,jt&&(o.flags&1048576)!==0&&q2(o,hd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var x=o.pendingProps;if(i=Cl(o.elementType),o.type=i,typeof i=="function")uv(i)?(x=Ol(i,x),o.tag=1,o=oE(null,o,i,x,u)):(o.tag=0,o=Jv(null,o,i,x,u));else{if(i!=null){var j=i.$$typeof;if(j===T){o.tag=11,o=tE(null,o,i,x,u);break e}else if(j===M){o.tag=14,o=nE(null,o,i,x,u);break e}}throw o=K(i)||i,Error(a(306,o,""))}}return o;case 0:return Jv(i,o,o.type,o.pendingProps,u);case 1:return x=o.type,j=Ol(x,o.pendingProps),oE(i,o,x,j,u);case 3:e:{if(Ke(o,o.stateNode.containerInfo),i===null)throw Error(a(387));x=o.pendingProps;var S=o.memoizedState;j=S.element,Ev(i,o),wd(o,x,null,u);var O=o.memoizedState;if(x=O.cache,gi(o,wn,x),x!==S.cache&&bv(o,[wn],u,!0),jd(),x=O.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=cE(i,o,x,u);break e}else if(x!==j){j=oa(Error(a(424)),o),pd(j),o=cE(i,o,x,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Kt=ma(i.firstChild),Yn=o,jt=!0,pi=null,ua=!0,u=aC(o,null,x,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(jl(),x===j){o=Ns(i,o,u);break e}Xn(i,o,x,u)}o=o.child}return o;case 26:return Nm(i,o),i===null?(u=SA(o.type,null,o.pendingProps,null))?o.memoizedState=u:jt||(u=o.type,i=o.pendingProps,x=zm(Le.current).createElement(u),x[Gn]=o,x[yr]=i,Zn(x,u,i),zn(x),o.stateNode=x):o.memoizedState=SA(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Pe(o),i===null&&jt&&(x=o.stateNode=jA(o.type,o.pendingProps,Le.current),Yn=o,ua=!0,j=Kt,Ti(o.type)?(Fy=j,Kt=ma(x.firstChild)):Kt=j),Xn(i,o,o.pendingProps.children,u),Nm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&jt&&((j=x=Kt)&&(x=G8(x,o.type,o.pendingProps,ua),x!==null?(o.stateNode=x,Yn=o,Kt=ma(x.firstChild),ua=!1,j=!0):j=!1),j||xi(o)),Pe(o),j=o.type,S=o.pendingProps,O=i!==null?i.memoizedProps:null,x=S.children,My(j,S)?x=null:O!==null&&My(j,O)&&(o.flags|=32),o.memoizedState!==null&&(j=Rv(i,o,c8,null,null,u),Ud._currentValue=j),Nm(i,o),Xn(i,o,x,u),o.child;case 6:return i===null&&jt&&((i=u=Kt)&&(u=Y8(u,o.pendingProps,ua),u!==null?(o.stateNode=u,Yn=o,Kt=null,i=!0):i=!1),i||xi(o)),null;case 13:return dE(i,o,u);case 4:return Ke(o,o.stateNode.containerInfo),x=o.pendingProps,i===null?o.child=Al(o,null,x,u):Xn(i,o,x,u),o.child;case 11:return tE(i,o,o.type,o.pendingProps,u);case 7:return Xn(i,o,o.pendingProps,u),o.child;case 8:return Xn(i,o,o.pendingProps.children,u),o.child;case 12:return Xn(i,o,o.pendingProps.children,u),o.child;case 10:return x=o.pendingProps,gi(o,o.type,x.value),Xn(i,o,x.children,u),o.child;case 9:return j=o.type._context,x=o.pendingProps.children,Nl(o),j=Qn(j),x=x(j),o.flags|=1,Xn(i,o,x,u),o.child;case 14:return nE(i,o,o.type,o.pendingProps,u);case 15:return rE(i,o,o.type,o.pendingProps,u);case 19:return fE(i,o,u);case 31:return g8(i,o,u);case 22:return aE(i,o,u,o.pendingProps);case 24:return Nl(o),x=Qn(wn),i===null?(j=Nv(),j===null&&(j=Bt,S=jv(),j.pooledCache=S,S.refCount++,S!==null&&(j.pooledCacheLanes|=u),j=S),o.memoizedState={parent:x,cache:j},Cv(o),gi(o,wn,j)):((i.lanes&u)!==0&&(Ev(i,o),wd(o,null,null,u),jd()),j=i.memoizedState,S=o.memoizedState,j.parent!==x?(j={parent:x,cache:x},o.memoizedState=j,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=j),gi(o,wn,x)):(x=S.cache,gi(o,wn,x),x!==j.cache&&bv(o,[wn],u,!0))),Xn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Ss(i){i.flags|=4}function ly(i,o,u,x,j){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(j&335544128)===j)if(i.stateNode.complete)i.flags|=8192;else if(zE())i.flags|=8192;else throw El=om,Sv}else i.flags&=-16777217}function hE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!OA(o))if(zE())i.flags|=8192;else throw El=om,Sv}function Cm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?WS():536870912,i.lanes|=o,Ho|=o)}function Pd(i,o){if(!jt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,x=0;if(o)for(var j=i.child;j!==null;)u|=j.lanes|j.childLanes,x|=j.subtreeFlags&65011712,x|=j.flags&65011712,j.return=i,j=j.sibling;else for(j=i.child;j!==null;)u|=j.lanes|j.childLanes,x|=j.subtreeFlags,x|=j.flags,j.return=i,j=j.sibling;return i.subtreeFlags|=x,i.childLanes=u,o}function y8(i,o,u){var x=o.pendingProps;switch(pv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return u=o.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),bs(wn),me(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(To(o)?Ss(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gv())),Wt(o),null;case 26:var j=o.type,S=o.memoizedState;return i===null?(Ss(o),S!==null?(Wt(o),hE(o,S)):(Wt(o),ly(o,j,null,x,u))):S?S!==i.memoizedState?(Ss(o),Wt(o),hE(o,S)):(Wt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==x&&Ss(o),Wt(o),ly(o,j,i,x,u)),null;case 27:if(De(o),u=Le.current,j=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Ss(o);else{if(!x){if(o.stateNode===null)throw Error(a(166));return Wt(o),null}i=Ne.current,To(o)?W2(o):(i=jA(j,x,u),o.stateNode=i,Ss(o))}return Wt(o),null;case 5:if(De(o),j=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Ss(o);else{if(!x){if(o.stateNode===null)throw Error(a(166));return Wt(o),null}if(S=Ne.current,To(o))W2(o);else{var O=zm(Le.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof x.is=="string"?O.createElement("select",{is:x.is}):O.createElement("select"),x.multiple?S.multiple=!0:x.size&&(S.size=x.size);break;default:S=typeof x.is=="string"?O.createElement(j,{is:x.is}):O.createElement(j)}}S[Gn]=o,S[yr]=x;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=S;e:switch(Zn(S,j,x),j){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Ss(o)}}return Wt(o),ly(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==x&&Ss(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(a(166));if(i=Le.current,To(o)){if(i=o.stateNode,u=o.memoizedProps,x=null,j=Yn,j!==null)switch(j.tag){case 27:case 5:x=j.memoizedProps}i[Gn]=o,i=!!(i.nodeValue===u||x!==null&&x.suppressHydrationWarning===!0||dA(i.nodeValue,u)),i||xi(o,!0)}else i=zm(i).createTextNode(x),i[Gn]=o,o.stateNode=i}return Wt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(x=To(o),u!==null){if(i===null){if(!x)throw Error(a(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[Gn]=o}else jl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),i=!1}else u=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?($r(o),o):($r(o),null);if((o.flags&128)!==0)throw Error(a(558))}return Wt(o),null;case 13:if(x=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(j=To(o),x!==null&&x.dehydrated!==null){if(i===null){if(!j)throw Error(a(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(a(317));j[Gn]=o}else jl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),j=!1}else j=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=j),j=!0;if(!j)return o.flags&256?($r(o),o):($r(o),null)}return $r(o),(o.flags&128)!==0?(o.lanes=u,o):(u=x!==null,i=i!==null&&i.memoizedState!==null,u&&(x=o.child,j=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(j=x.alternate.memoizedState.cachePool.pool),S=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(S=x.memoizedState.cachePool.pool),S!==j&&(x.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Cm(o,o.updateQueue),Wt(o),null);case 4:return me(),i===null&&Oy(o.stateNode.containerInfo),Wt(o),null;case 10:return bs(o.type),Wt(o),null;case 19:if(Q(hn),x=o.memoizedState,x===null)return Wt(o),null;if(j=(o.flags&128)!==0,S=x.rendering,S===null)if(j)Pd(x,!1);else{if(on!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=fm(i),S!==null){for(o.flags|=128,Pd(x,!1),i=S.updateQueue,o.updateQueue=i,Cm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)U2(u,i),u=u.sibling;return fe(hn,hn.current&1|2),jt&&vs(o,x.treeForkCount),o.child}i=i.sibling}x.tail!==null&&Je()>Tm&&(o.flags|=128,j=!0,Pd(x,!1),o.lanes=4194304)}else{if(!j)if(i=fm(S),i!==null){if(o.flags|=128,j=!0,i=i.updateQueue,o.updateQueue=i,Cm(o,i),Pd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!jt)return Wt(o),null}else 2*Je()-x.renderingStartTime>Tm&&u!==536870912&&(o.flags|=128,j=!0,Pd(x,!1),o.lanes=4194304);x.isBackwards?(S.sibling=o.child,o.child=S):(i=x.last,i!==null?i.sibling=S:o.child=S,x.last=S)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Je(),i.sibling=null,u=hn.current,fe(hn,j?u&1|2:u&1),jt&&vs(o,x.treeForkCount),i):(Wt(o),null);case 22:case 23:return $r(o),Tv(),x=o.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(u&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),u=o.updateQueue,u!==null&&Cm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==u&&(o.flags|=2048),i!==null&&Q(Sl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),bs(wn),Wt(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function b8(i,o){switch(pv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return bs(wn),me(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return De(o),null;case 31:if(o.memoizedState!==null){if($r(o),o.alternate===null)throw Error(a(340));jl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if($r(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));jl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Q(hn),null;case 4:return me(),null;case 10:return bs(o.type),null;case 22:case 23:return $r(o),Tv(),i!==null&&Q(Sl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return bs(wn),null;case 25:return null;default:return null}}function pE(i,o){switch(pv(o),o.tag){case 3:bs(wn),me();break;case 26:case 27:case 5:De(o);break;case 4:me();break;case 31:o.memoizedState!==null&&$r(o);break;case 13:$r(o);break;case 19:Q(hn);break;case 10:bs(o.type);break;case 22:case 23:$r(o),Tv(),i!==null&&Q(Sl);break;case 24:bs(wn)}}function Od(i,o){try{var u=o.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var j=x.next;u=j;do{if((u.tag&i)===i){x=void 0;var S=u.create,O=u.inst;x=S(),O.destroy=x}u=u.next}while(u!==j)}}catch(D){Rt(o,o.return,D)}}function Ni(i,o,u){try{var x=o.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var S=j.next;x=S;do{if((x.tag&i)===i){var O=x.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,j=o;var H=u,ce=D;try{ce()}catch(ye){Rt(j,H,ye)}}}x=x.next}while(x!==S)}}catch(ye){Rt(o,o.return,ye)}}function xE(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{iC(o,u)}catch(x){Rt(i,i.return,x)}}}function gE(i,o,u){u.props=Ol(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(x){Rt(i,o,x)}}function Td(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof u=="function"?i.refCleanup=u(x):u.current=x}}catch(j){Rt(i,o,j)}}function Ya(i,o){var u=i.ref,x=i.refCleanup;if(u!==null)if(typeof x=="function")try{x()}catch(j){Rt(i,o,j)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(j){Rt(i,o,j)}else u.current=null}function vE(i){var o=i.type,u=i.memoizedProps,x=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&x.focus();break e;case"img":u.src?x.src=u.src:u.srcSet&&(x.srcset=u.srcSet)}}catch(j){Rt(i,i.return,j)}}function oy(i,o,u){try{var x=i.stateNode;U8(x,i.type,u,o),x[yr]=o}catch(j){Rt(i,i.return,j)}}function yE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ti(i.type)||i.tag===4}function cy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ti(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dy(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ps));else if(x!==4&&(x===27&&Ti(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(dy(i,o,u),i=i.sibling;i!==null;)dy(i,o,u),i=i.sibling}function Em(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(x!==4&&(x===27&&Ti(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Em(i,o,u),i=i.sibling;i!==null;)Em(i,o,u),i=i.sibling}function bE(i){var o=i.stateNode,u=i.memoizedProps;try{for(var x=i.type,j=o.attributes;j.length;)o.removeAttributeNode(j[0]);Zn(o,x,u),o[Gn]=i,o[yr]=u}catch(S){Rt(i,i.return,S)}}var Cs=!1,Cn=!1,uy=!1,jE=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function j8(i,o){if(i=i.containerInfo,_y=Wm,i=R2(i),av(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var x=u.getSelection&&u.getSelection();if(x&&x.rangeCount!==0){u=x.anchorNode;var j=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var O=0,D=-1,H=-1,ce=0,ye=0,we=i,he=null;t:for(;;){for(var ge;we!==u||j!==0&&we.nodeType!==3||(D=O+j),we!==S||x!==0&&we.nodeType!==3||(H=O+x),we.nodeType===3&&(O+=we.nodeValue.length),(ge=we.firstChild)!==null;)he=we,we=ge;for(;;){if(we===i)break t;if(he===u&&++ce===j&&(D=O),he===S&&++ye===x&&(H=O),(ge=we.nextSibling)!==null)break;we=he,he=we.parentNode}we=ge}u=D===-1||H===-1?null:{start:D,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ry={focusedElem:i,selectionRange:u},Wm=!1,Bn=o;Bn!==null;)if(o=Bn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Bn=i;else for(;Bn!==null;){switch(o=Bn,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)j=i[u],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=o,j=S.memoizedProps,S=S.memoizedState,x=u.stateNode;try{var Ue=Ol(u.type,j);i=x.getSnapshotBeforeUpdate(Ue,S),x.__reactInternalSnapshotBeforeUpdate=i}catch(Ye){Rt(u,u.return,Ye)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Ly(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ly(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,Bn=i;break}Bn=o.return}}function wE(i,o,u){var x=u.flags;switch(u.tag){case 0:case 11:case 15:As(i,u),x&4&&Od(5,u);break;case 1:if(As(i,u),x&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Rt(u,u.return,O)}else{var j=Ol(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(j,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Rt(u,u.return,O)}}x&64&&xE(u),x&512&&Td(u,u.return);break;case 3:if(As(i,u),x&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{iC(i,o)}catch(O){Rt(u,u.return,O)}}break;case 27:o===null&&x&4&&bE(u);case 26:case 5:As(i,u),o===null&&x&4&&vE(u),x&512&&Td(u,u.return);break;case 12:As(i,u);break;case 31:As(i,u),x&4&&CE(i,u);break;case 13:As(i,u),x&4&&EE(i,u),x&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=T8.bind(null,u),Q8(i,u))));break;case 22:if(x=u.memoizedState!==null||Cs,!x){o=o!==null&&o.memoizedState!==null||Cn,j=Cs;var S=Cn;Cs=x,(Cn=o)&&!S?Ps(i,u,(u.subtreeFlags&8772)!==0):As(i,u),Cs=j,Cn=S}break;case 30:break;default:As(i,u)}}function NE(i){var o=i.alternate;o!==null&&(i.alternate=null,NE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Bg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,jr=!1;function Es(i,o,u){for(u=u.child;u!==null;)SE(i,o,u),u=u.sibling}function SE(i,o,u){if(F&&typeof F.onCommitFiberUnmount=="function")try{F.onCommitFiberUnmount(ml,u)}catch{}switch(u.tag){case 26:Cn||Ya(u,o),Es(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Cn||Ya(u,o);var x=Zt,j=jr;Ti(u.type)&&(Zt=u.stateNode,jr=!1),Es(i,o,u),Fd(u.stateNode),Zt=x,jr=j;break;case 5:Cn||Ya(u,o);case 6:if(x=Zt,j=jr,Zt=null,Es(i,o,u),Zt=x,jr=j,Zt!==null)if(jr)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(u.stateNode)}catch(S){Rt(u,o,S)}else try{Zt.removeChild(u.stateNode)}catch(S){Rt(u,o,S)}break;case 18:Zt!==null&&(jr?(i=Zt,xA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Xo(i)):xA(Zt,u.stateNode));break;case 4:x=Zt,j=jr,Zt=u.stateNode.containerInfo,jr=!0,Es(i,o,u),Zt=x,jr=j;break;case 0:case 11:case 14:case 15:Ni(2,u,o),Cn||Ni(4,u,o),Es(i,o,u);break;case 1:Cn||(Ya(u,o),x=u.stateNode,typeof x.componentWillUnmount=="function"&&gE(u,o,x)),Es(i,o,u);break;case 21:Es(i,o,u);break;case 22:Cn=(x=Cn)||u.memoizedState!==null,Es(i,o,u),Cn=x;break;default:Es(i,o,u)}}function CE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xo(i)}catch(u){Rt(o,o.return,u)}}}function EE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xo(i)}catch(u){Rt(o,o.return,u)}}function w8(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new jE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new jE),o;default:throw Error(a(435,i.tag))}}function Am(i,o){var u=w8(i);o.forEach(function(x){if(!u.has(x)){u.add(x);var j=k8.bind(null,i,x);x.then(j,j)}})}function wr(i,o){var u=o.deletions;if(u!==null)for(var x=0;x<u.length;x++){var j=u[x],S=i,O=o,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(Ti(D.type)){Zt=D.stateNode,jr=!1;break e}break;case 5:Zt=D.stateNode,jr=!1;break e;case 3:case 4:Zt=D.stateNode.containerInfo,jr=!0;break e}D=D.return}if(Zt===null)throw Error(a(160));SE(S,O,j),Zt=null,jr=!1,S=j.alternate,S!==null&&(S.return=null),j.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)AE(o,i),o=o.sibling}var ka=null;function AE(i,o){var u=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wr(o,i),Nr(i),x&4&&(Ni(3,i,i.return),Od(3,i),Ni(5,i,i.return));break;case 1:wr(o,i),Nr(i),x&512&&(Cn||u===null||Ya(u,u.return)),x&64&&Cs&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?x:u.concat(x))));break;case 26:var j=ka;if(wr(o,i),Nr(i),x&512&&(Cn||u===null||Ya(u,u.return)),x&4){var S=u!==null?u.memoizedState:null;if(x=i.memoizedState,u===null)if(x===null)if(i.stateNode===null){e:{x=i.type,u=i.memoizedProps,j=j.ownerDocument||j;t:switch(x){case"title":S=j.getElementsByTagName("title")[0],(!S||S[rd]||S[Gn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=j.createElement(x),j.head.insertBefore(S,j.querySelector("head > title"))),Zn(S,x,u),S[Gn]=i,zn(S),x=S;break e;case"link":var O=AA("link","href",j).get(x+(u.href||""));if(O){for(var D=0;D<O.length;D++)if(S=O[D],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(D,1);break t}}S=j.createElement(x),Zn(S,x,u),j.head.appendChild(S);break;case"meta":if(O=AA("meta","content",j).get(x+(u.content||""))){for(D=0;D<O.length;D++)if(S=O[D],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(D,1);break t}}S=j.createElement(x),Zn(S,x,u),j.head.appendChild(S);break;default:throw Error(a(468,x))}S[Gn]=i,zn(S),x=S}i.stateNode=x}else PA(j,i.type,i.stateNode);else i.stateNode=EA(j,x,i.memoizedProps);else S!==x?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,x===null?PA(j,i.type,i.stateNode):EA(j,x,i.memoizedProps)):x===null&&i.stateNode!==null&&oy(i,i.memoizedProps,u.memoizedProps)}break;case 27:wr(o,i),Nr(i),x&512&&(Cn||u===null||Ya(u,u.return)),u!==null&&x&4&&oy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(wr(o,i),Nr(i),x&512&&(Cn||u===null||Ya(u,u.return)),i.flags&32){j=i.stateNode;try{bo(j,"")}catch(Ue){Rt(i,i.return,Ue)}}x&4&&i.stateNode!=null&&(j=i.memoizedProps,oy(i,j,u!==null?u.memoizedProps:j)),x&1024&&(uy=!0);break;case 6:if(wr(o,i),Nr(i),x&4){if(i.stateNode===null)throw Error(a(162));x=i.memoizedProps,u=i.stateNode;try{u.nodeValue=x}catch(Ue){Rt(i,i.return,Ue)}}break;case 3:if(Hm=null,j=ka,ka=Bm(o.containerInfo),wr(o,i),ka=j,Nr(i),x&4&&u!==null&&u.memoizedState.isDehydrated)try{Xo(o.containerInfo)}catch(Ue){Rt(i,i.return,Ue)}uy&&(uy=!1,PE(i));break;case 4:x=ka,ka=Bm(i.stateNode.containerInfo),wr(o,i),Nr(i),ka=x;break;case 12:wr(o,i),Nr(i);break;case 31:wr(o,i),Nr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Am(i,x)));break;case 13:wr(o,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Om=Je()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Am(i,x)));break;case 22:j=i.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,ce=Cs,ye=Cn;if(Cs=ce||j,Cn=ye||H,wr(o,i),Cn=ye,Cs=ce,Nr(i),x&8192)e:for(o=i.stateNode,o._visibility=j?o._visibility&-2:o._visibility|1,j&&(u===null||H||Cs||Cn||Tl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(S=H.stateNode,j)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=H.stateNode;var we=H.memoizedProps.style,he=we!=null&&we.hasOwnProperty("display")?we.display:null;D.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ue){Rt(H,H.return,Ue)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=j?"":H.memoizedProps}catch(Ue){Rt(H,H.return,Ue)}}}else if(o.tag===18){if(u===null){H=o;try{var ge=H.stateNode;j?gA(ge,!0):gA(H.stateNode,!1)}catch(Ue){Rt(H,H.return,Ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=i.updateQueue,x!==null&&(u=x.retryQueue,u!==null&&(x.retryQueue=null,Am(i,u))));break;case 19:wr(o,i),Nr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Am(i,x)));break;case 30:break;case 21:break;default:wr(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{for(var u,x=i.return;x!==null;){if(yE(x)){u=x;break}x=x.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var j=u.stateNode,S=cy(i);Em(i,S,j);break;case 5:var O=u.stateNode;u.flags&32&&(bo(O,""),u.flags&=-33);var D=cy(i);Em(i,D,O);break;case 3:case 4:var H=u.stateNode.containerInfo,ce=cy(i);dy(i,ce,H);break;default:throw Error(a(161))}}catch(ye){Rt(i,i.return,ye)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function PE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;PE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function As(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)wE(i,o.alternate,o),o=o.sibling}function Tl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ni(4,o,o.return),Tl(o);break;case 1:Ya(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&gE(o,o.return,u),Tl(o);break;case 27:Fd(o.stateNode);case 26:case 5:Ya(o,o.return),Tl(o);break;case 22:o.memoizedState===null&&Tl(o);break;case 30:Tl(o);break;default:Tl(o)}i=i.sibling}}function Ps(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,j=i,S=o,O=S.flags;switch(S.tag){case 0:case 11:case 15:Ps(j,S,u),Od(4,S);break;case 1:if(Ps(j,S,u),x=S,j=x.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(ce){Rt(x,x.return,ce)}if(x=S,j=x.updateQueue,j!==null){var D=x.stateNode;try{var H=j.shared.hiddenCallbacks;if(H!==null)for(j.shared.hiddenCallbacks=null,j=0;j<H.length;j++)sC(H[j],D)}catch(ce){Rt(x,x.return,ce)}}u&&O&64&&xE(S),Td(S,S.return);break;case 27:bE(S);case 26:case 5:Ps(j,S,u),u&&x===null&&O&4&&vE(S),Td(S,S.return);break;case 12:Ps(j,S,u);break;case 31:Ps(j,S,u),u&&O&4&&CE(j,S);break;case 13:Ps(j,S,u),u&&O&4&&EE(j,S);break;case 22:S.memoizedState===null&&Ps(j,S,u),Td(S,S.return);break;case 30:break;default:Ps(j,S,u)}o=o.sibling}}function fy(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&xd(u))}function my(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&xd(i))}function _a(i,o,u,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)OE(i,o,u,x),o=o.sibling}function OE(i,o,u,x){var j=o.flags;switch(o.tag){case 0:case 11:case 15:_a(i,o,u,x),j&2048&&Od(9,o);break;case 1:_a(i,o,u,x);break;case 3:_a(i,o,u,x),j&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&xd(i)));break;case 12:if(j&2048){_a(i,o,u,x),i=o.stateNode;try{var S=o.memoizedProps,O=S.id,D=S.onPostCommit;typeof D=="function"&&D(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Rt(o,o.return,H)}}else _a(i,o,u,x);break;case 31:_a(i,o,u,x);break;case 13:_a(i,o,u,x);break;case 23:break;case 22:S=o.stateNode,O=o.alternate,o.memoizedState!==null?S._visibility&2?_a(i,o,u,x):kd(i,o):S._visibility&2?_a(i,o,u,x):(S._visibility|=2,zo(i,o,u,x,(o.subtreeFlags&10256)!==0||!1)),j&2048&&fy(O,o);break;case 24:_a(i,o,u,x),j&2048&&my(o.alternate,o);break;default:_a(i,o,u,x)}}function zo(i,o,u,x,j){for(j=j&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,O=o,D=u,H=x,ce=O.flags;switch(O.tag){case 0:case 11:case 15:zo(S,O,D,H,j),Od(8,O);break;case 23:break;case 22:var ye=O.stateNode;O.memoizedState!==null?ye._visibility&2?zo(S,O,D,H,j):kd(S,O):(ye._visibility|=2,zo(S,O,D,H,j)),j&&ce&2048&&fy(O.alternate,O);break;case 24:zo(S,O,D,H,j),j&&ce&2048&&my(O.alternate,O);break;default:zo(S,O,D,H,j)}o=o.sibling}}function kd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,x=o,j=x.flags;switch(x.tag){case 22:kd(u,x),j&2048&&fy(x.alternate,x);break;case 24:kd(u,x),j&2048&&my(x.alternate,x);break;default:kd(u,x)}o=o.sibling}}var _d=8192;function Bo(i,o,u){if(i.subtreeFlags&_d)for(i=i.child;i!==null;)TE(i,o,u),i=i.sibling}function TE(i,o,u){switch(i.tag){case 26:Bo(i,o,u),i.flags&_d&&i.memoizedState!==null&&o9(u,ka,i.memoizedState,i.memoizedProps);break;case 5:Bo(i,o,u);break;case 3:case 4:var x=ka;ka=Bm(i.stateNode.containerInfo),Bo(i,o,u),ka=x;break;case 22:i.memoizedState===null&&(x=i.alternate,x!==null&&x.memoizedState!==null?(x=_d,_d=16777216,Bo(i,o,u),_d=x):Bo(i,o,u));break;default:Bo(i,o,u)}}function kE(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Rd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];Bn=x,RE(x,i)}kE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_E(i),i=i.sibling}function _E(i){switch(i.tag){case 0:case 11:case 15:Rd(i),i.flags&2048&&Ni(9,i,i.return);break;case 3:Rd(i);break;case 12:Rd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Pm(i)):Rd(i);break;default:Rd(i)}}function Pm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];Bn=x,RE(x,i)}kE(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ni(8,o,o.return),Pm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Pm(o));break;default:Pm(o)}i=i.sibling}}function RE(i,o){for(;Bn!==null;){var u=Bn;switch(u.tag){case 0:case 11:case 15:Ni(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var x=u.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:xd(u.memoizedState.cache)}if(x=u.child,x!==null)x.return=u,Bn=x;else e:for(u=i;Bn!==null;){x=Bn;var j=x.sibling,S=x.return;if(NE(x),x===u){Bn=null;break e}if(j!==null){j.return=S,Bn=j;break e}Bn=S}}}var N8={getCacheForType:function(i){var o=Qn(wn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Qn(wn).controller.signal}},S8=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Bt=null,mt=null,yt=0,_t=0,Fr=null,Si=!1,Uo=!1,hy=!1,Os=0,on=0,Ci=0,kl=0,py=0,zr=0,Ho=0,Md=null,Sr=null,xy=!1,Om=0,ME=0,Tm=1/0,km=null,Ei=null,Tn=0,Ai=null,Vo=null,Ts=0,gy=0,vy=null,DE=null,Dd=0,yy=null;function Br(){return(Pt&2)!==0&&yt!==0?yt&-yt:z.T!==null?Cy():XS()}function LE(){if(zr===0)if((yt&536870912)===0||jt){var i=Ff;Ff<<=1,(Ff&3932160)===0&&(Ff=262144),zr=i}else zr=536870912;return i=Ir.current,i!==null&&(i.flags|=32),zr}function Cr(i,o,u){(i===Bt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(qo(i,0),Pi(i,yt,zr,!1)),nd(i,u),((Pt&2)===0||i!==Bt)&&(i===Bt&&((Pt&2)===0&&(kl|=u),on===4&&Pi(i,yt,zr,!1)),Qa(i))}function IE(i,o,u){if((Pt&6)!==0)throw Error(a(327));var x=!u&&(o&127)===0&&(o&i.expiredLanes)===0||td(i,o),j=x?A8(i,o):jy(i,o,!0),S=x;do{if(j===0){Uo&&!x&&Pi(i,o,0,!1);break}else{if(u=i.current.alternate,S&&!C8(u)){j=jy(i,o,!1),S=!1;continue}if(j===2){if(S=o,i.errorRecoveryDisabledLanes&S)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var D=i;j=Md;var H=D.current.memoizedState.isDehydrated;if(H&&(qo(D,O).flags|=256),O=jy(D,O,!1),O!==2){if(hy&&!H){D.errorRecoveryDisabledLanes|=S,kl|=S,j=4;break e}S=Sr,Sr=j,S!==null&&(Sr===null?Sr=S:Sr.push.apply(Sr,S))}j=O}if(S=!1,j!==2)continue}}if(j===1){qo(i,0),Pi(i,o,0,!0);break}e:{switch(x=i,S=j,S){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Pi(x,o,zr,!Si);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(j=Om+300-Je(),10<j)){if(Pi(x,o,zr,!Si),Bf(x,0,!0)!==0)break e;Ts=o,x.timeoutHandle=hA($E.bind(null,x,u,Sr,km,xy,o,zr,kl,Ho,Si,S,"Throttled",-0,0),j);break e}$E(x,u,Sr,km,xy,o,zr,kl,Ho,Si,S,null,-0,0)}}break}while(!0);Qa(i)}function $E(i,o,u,x,j,S,O,D,H,ce,ye,we,he,ge){if(i.timeoutHandle=-1,we=o.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ps},TE(o,S,we);var Ue=(S&62914560)===S?Om-Je():(S&4194048)===S?ME-Je():0;if(Ue=c9(we,Ue),Ue!==null){Ts=S,i.cancelPendingCommit=Ue(KE.bind(null,i,o,S,u,x,j,O,D,H,ye,we,null,he,ge)),Pi(i,S,O,!ce);return}}KE(i,o,S,u,x,j,O,D,H)}function C8(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var x=0;x<u.length;x++){var j=u[x],S=j.getSnapshot;j=j.value;try{if(!Dr(S(),j))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pi(i,o,u,x){o&=~py,o&=~kl,i.suspendedLanes|=o,i.pingedLanes&=~o,x&&(i.warmLanes|=o),x=i.expirationTimes;for(var j=o;0<j;){var S=31-nt(j),O=1<<S;x[S]=-1,j&=~O}u!==0&&GS(i,u,o)}function _m(){return(Pt&6)===0?(Ld(0),!1):!0}function by(){if(mt!==null){if(_t===0)var i=mt.return;else i=mt,ys=wl=null,Lv(i),Do=null,vd=0,i=mt;for(;i!==null;)pE(i.alternate,i),i=i.return;mt=null}}function qo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,q8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ts=0,by(),Bt=i,mt=u=gs(i.current,null),yt=o,_t=0,Fr=null,Si=!1,Uo=td(i,o),hy=!1,Ho=zr=py=kl=Ci=on=0,Sr=Md=null,xy=!1,(o&8)!==0&&(o|=o&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=o;0<x;){var j=31-nt(x),S=1<<j;o|=i[j],x&=~S}return Os=o,Jf(),u}function FE(i,o){it=null,z.H=Ed,o===Mo||o===lm?(o=tC(),_t=3):o===Sv?(o=tC(),_t=4):_t=o===Zv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Fr=o,mt===null&&(on=1,jm(i,oa(o,i.current)))}function zE(){var i=Ir.current;return i===null?!0:(yt&4194048)===yt?fa===null:(yt&62914560)===yt||(yt&536870912)!==0?i===fa:!1}function BE(){var i=z.H;return z.H=Ed,i===null?Ed:i}function UE(){var i=z.A;return z.A=N8,i}function Rm(){on=4,Si||(yt&4194048)!==yt&&Ir.current!==null||(Uo=!0),(Ci&134217727)===0&&(kl&134217727)===0||Bt===null||Pi(Bt,yt,zr,!1)}function jy(i,o,u){var x=Pt;Pt|=2;var j=BE(),S=UE();(Bt!==i||yt!==o)&&(km=null,qo(i,o)),o=!1;var O=on;e:do try{if(_t!==0&&mt!==null){var D=mt,H=Fr;switch(_t){case 8:by(),O=6;break e;case 3:case 2:case 9:case 6:Ir.current===null&&(o=!0);var ce=_t;if(_t=0,Fr=null,Ko(i,D,H,ce),u&&Uo){O=0;break e}break;default:ce=_t,_t=0,Fr=null,Ko(i,D,H,ce)}}E8(),O=on;break}catch(ye){FE(i,ye)}while(!0);return o&&i.shellSuspendCounter++,ys=wl=null,Pt=x,z.H=j,z.A=S,mt===null&&(Bt=null,yt=0,Jf()),O}function E8(){for(;mt!==null;)HE(mt)}function A8(i,o){var u=Pt;Pt|=2;var x=BE(),j=UE();Bt!==i||yt!==o?(km=null,Tm=Je()+500,qo(i,o)):Uo=td(i,o);e:do try{if(_t!==0&&mt!==null){o=mt;var S=Fr;t:switch(_t){case 1:_t=0,Fr=null,Ko(i,o,S,1);break;case 2:case 9:if(J2(S)){_t=0,Fr=null,VE(o);break}o=function(){_t!==2&&_t!==9||Bt!==i||(_t=7),Qa(i)},S.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:J2(S)?(_t=0,Fr=null,VE(o)):(_t=0,Fr=null,Ko(i,o,S,7));break;case 5:var O=null;switch(mt.tag){case 26:O=mt.memoizedState;case 5:case 27:var D=mt;if(O?OA(O):D.stateNode.complete){_t=0,Fr=null;var H=D.sibling;if(H!==null)mt=H;else{var ce=D.return;ce!==null?(mt=ce,Mm(ce)):mt=null}break t}}_t=0,Fr=null,Ko(i,o,S,5);break;case 6:_t=0,Fr=null,Ko(i,o,S,6);break;case 8:by(),on=6;break e;default:throw Error(a(462))}}P8();break}catch(ye){FE(i,ye)}while(!0);return ys=wl=null,z.H=x,z.A=j,Pt=u,mt!==null?0:(Bt=null,yt=0,Jf(),on)}function P8(){for(;mt!==null&&!vr();)HE(mt)}function HE(i){var o=mE(i.alternate,i,Os);i.memoizedProps=i.pendingProps,o===null?Mm(i):mt=o}function VE(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=lE(u,o,o.pendingProps,o.type,void 0,yt);break;case 11:o=lE(u,o,o.pendingProps,o.type.render,o.ref,yt);break;case 5:Lv(o);default:pE(u,o),o=mt=U2(o,Os),o=mE(u,o,Os)}i.memoizedProps=i.pendingProps,o===null?Mm(i):mt=o}function Ko(i,o,u,x){ys=wl=null,Lv(o),Do=null,vd=0;var j=o.return;try{if(x8(i,j,o,u,yt)){on=1,jm(i,oa(u,i.current)),mt=null;return}}catch(S){if(j!==null)throw mt=j,S;on=1,jm(i,oa(u,i.current)),mt=null;return}o.flags&32768?(jt||x===1?i=!0:Uo||(yt&536870912)!==0?i=!1:(Si=i=!0,(x===2||x===9||x===3||x===6)&&(x=Ir.current,x!==null&&x.tag===13&&(x.flags|=16384))),qE(o,i)):Mm(o)}function Mm(i){var o=i;do{if((o.flags&32768)!==0){qE(o,Si);return}i=o.return;var u=y8(o.alternate,o,Os);if(u!==null){mt=u;return}if(o=o.sibling,o!==null){mt=o;return}mt=o=i}while(o!==null);on===0&&(on=5)}function qE(i,o){do{var u=b8(i.alternate,i);if(u!==null){u.flags&=32767,mt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){mt=i;return}mt=i=u}while(i!==null);on=6,mt=null}function KE(i,o,u,x,j,S,O,D,H){i.cancelPendingCommit=null;do Dm();while(Tn!==0);if((Pt&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(S=o.lanes|o.childLanes,S|=cv,lB(i,u,S,O,D,H),i===Bt&&(mt=Bt=null,yt=0),Vo=o,Ai=i,Ts=u,gy=S,vy=j,DE=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_8(mo,function(){return XE(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=z.T,z.T=null,j=Z.p,Z.p=2,O=Pt,Pt|=4;try{j8(i,o,u)}finally{Pt=O,Z.p=j,z.T=x}}Tn=1,WE(),GE(),YE()}}function WE(){if(Tn===1){Tn=0;var i=Ai,o=Vo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=z.T,z.T=null;var x=Z.p;Z.p=2;var j=Pt;Pt|=4;try{AE(o,i);var S=Ry,O=R2(i.containerInfo),D=S.focusedElem,H=S.selectionRange;if(O!==D&&D&&D.ownerDocument&&_2(D.ownerDocument.documentElement,D)){if(H!==null&&av(D)){var ce=H.start,ye=H.end;if(ye===void 0&&(ye=ce),"selectionStart"in D)D.selectionStart=ce,D.selectionEnd=Math.min(ye,D.value.length);else{var we=D.ownerDocument||document,he=we&&we.defaultView||window;if(he.getSelection){var ge=he.getSelection(),Ue=D.textContent.length,Ye=Math.min(H.start,Ue),Ft=H.end===void 0?Ye:Math.min(H.end,Ue);!ge.extend&&Ye>Ft&&(O=Ft,Ft=Ye,Ye=O);var ne=k2(D,Ye),G=k2(D,Ft);if(ne&&G&&(ge.rangeCount!==1||ge.anchorNode!==ne.node||ge.anchorOffset!==ne.offset||ge.focusNode!==G.node||ge.focusOffset!==G.offset)){var oe=we.createRange();oe.setStart(ne.node,ne.offset),ge.removeAllRanges(),Ye>Ft?(ge.addRange(oe),ge.extend(G.node,G.offset)):(oe.setEnd(G.node,G.offset),ge.addRange(oe))}}}}for(we=[],ge=D;ge=ge.parentNode;)ge.nodeType===1&&we.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<we.length;D++){var je=we[D];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}Wm=!!_y,Ry=_y=null}finally{Pt=j,Z.p=x,z.T=u}}i.current=o,Tn=2}}function GE(){if(Tn===2){Tn=0;var i=Ai,o=Vo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=z.T,z.T=null;var x=Z.p;Z.p=2;var j=Pt;Pt|=4;try{wE(i,o.alternate,o)}finally{Pt=j,Z.p=x,z.T=u}}Tn=3}}function YE(){if(Tn===4||Tn===3){Tn=0,jn();var i=Ai,o=Vo,u=Ts,x=DE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Tn=5:(Tn=0,Vo=Ai=null,QE(i,i.pendingLanes));var j=i.pendingLanes;if(j===0&&(Ei=null),Fg(u),o=o.stateNode,F&&typeof F.onCommitFiberRoot=="function")try{F.onCommitFiberRoot(ml,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=z.T,j=Z.p,Z.p=2,z.T=null;try{for(var S=i.onRecoverableError,O=0;O<x.length;O++){var D=x[O];S(D.value,{componentStack:D.stack})}}finally{z.T=o,Z.p=j}}(Ts&3)!==0&&Dm(),Qa(i),j=i.pendingLanes,(u&261930)!==0&&(j&42)!==0?i===yy?Dd++:(Dd=0,yy=i):Dd=0,Ld(0)}}function QE(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,xd(o)))}function Dm(){return WE(),GE(),YE(),XE()}function XE(){if(Tn!==5)return!1;var i=Ai,o=gy;gy=0;var u=Fg(Ts),x=z.T,j=Z.p;try{Z.p=32>u?32:u,z.T=null,u=vy,vy=null;var S=Ai,O=Ts;if(Tn=0,Vo=Ai=null,Ts=0,(Pt&6)!==0)throw Error(a(331));var D=Pt;if(Pt|=4,_E(S.current),OE(S,S.current,O,u),Pt=D,Ld(0,!1),F&&typeof F.onPostCommitFiberRoot=="function")try{F.onPostCommitFiberRoot(ml,S)}catch{}return!0}finally{Z.p=j,z.T=x,QE(i,o)}}function ZE(i,o,u){o=oa(u,o),o=Xv(i.stateNode,o,2),i=bi(i,o,2),i!==null&&(nd(i,2),Qa(i))}function Rt(i,o,u){if(i.tag===3)ZE(i,i,u);else for(;o!==null;){if(o.tag===3){ZE(o,i,u);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ei===null||!Ei.has(x))){i=oa(u,i),u=JC(2),x=bi(o,u,2),x!==null&&(eE(u,x,o,i),nd(x,2),Qa(x));break}}o=o.return}}function wy(i,o,u){var x=i.pingCache;if(x===null){x=i.pingCache=new S8;var j=new Set;x.set(o,j)}else j=x.get(o),j===void 0&&(j=new Set,x.set(o,j));j.has(u)||(hy=!0,j.add(u),i=O8.bind(null,i,o,u),o.then(i,i))}function O8(i,o,u){var x=i.pingCache;x!==null&&x.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(yt&u)===u&&(on===4||on===3&&(yt&62914560)===yt&&300>Je()-Om?(Pt&2)===0&&qo(i,0):py|=u,Ho===yt&&(Ho=0)),Qa(i)}function JE(i,o){o===0&&(o=WS()),i=yl(i,o),i!==null&&(nd(i,o),Qa(i))}function T8(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),JE(i,u)}function k8(i,o){var u=0;switch(i.tag){case 31:case 13:var x=i.stateNode,j=i.memoizedState;j!==null&&(u=j.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(a(314))}x!==null&&x.delete(o),JE(i,u)}function _8(i,o){return st(i,o)}var Lm=null,Wo=null,Ny=!1,Im=!1,Sy=!1,Oi=0;function Qa(i){i!==Wo&&i.next===null&&(Wo===null?Lm=Wo=i:Wo=Wo.next=i),Im=!0,Ny||(Ny=!0,M8())}function Ld(i,o){if(!Sy&&Im){Sy=!0;do for(var u=!1,x=Lm;x!==null;){if(i!==0){var j=x.pendingLanes;if(j===0)var S=0;else{var O=x.suspendedLanes,D=x.pingedLanes;S=(1<<31-nt(42|i)+1)-1,S&=j&~(O&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,rA(x,S))}else S=yt,S=Bf(x,x===Bt?S:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(S&3)===0||td(x,S)||(u=!0,rA(x,S));x=x.next}while(u);Sy=!1}}function R8(){eA()}function eA(){Im=Ny=!1;var i=0;Oi!==0&&V8()&&(i=Oi);for(var o=Je(),u=null,x=Lm;x!==null;){var j=x.next,S=tA(x,o);S===0?(x.next=null,u===null?Lm=j:u.next=j,j===null&&(Wo=u)):(u=x,(i!==0||(S&3)!==0)&&(Im=!0)),x=j}Tn!==0&&Tn!==5||Ld(i),Oi!==0&&(Oi=0)}function tA(i,o){for(var u=i.suspendedLanes,x=i.pingedLanes,j=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var O=31-nt(S),D=1<<O,H=j[O];H===-1?((D&u)===0||(D&x)!==0)&&(j[O]=iB(D,o)):H<=o&&(i.expiredLanes|=D),S&=~D}if(o=Bt,u=yt,u=Bf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,u===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&sn(x),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||td(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(x!==null&&sn(x),Fg(u)){case 2:case 8:u=mn;break;case 32:u=mo;break;case 268435456:u=fl;break;default:u=mo}return x=nA.bind(null,i),u=st(u,x),i.callbackPriority=o,i.callbackNode=u,o}return x!==null&&x!==null&&sn(x),i.callbackPriority=2,i.callbackNode=null,2}function nA(i,o){if(Tn!==0&&Tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Dm()&&i.callbackNode!==u)return null;var x=yt;return x=Bf(i,i===Bt?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(IE(i,x,o),tA(i,Je()),i.callbackNode!=null&&i.callbackNode===u?nA.bind(null,i):null)}function rA(i,o){if(Dm())return null;IE(i,o,!0)}function M8(){K8(function(){(Pt&6)!==0?st(ul,R8):eA()})}function Cy(){if(Oi===0){var i=_o;i===0&&(i=aa,aa<<=1,(aa&261888)===0&&(aa=256)),Oi=i}return Oi}function aA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qf(""+i)}function sA(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function D8(i,o,u,x,j){if(o==="submit"&&u&&u.stateNode===j){var S=aA((j[yr]||null).action),O=x.submitter;O&&(o=(o=O[yr]||null)?aA(o.formAction):O.getAttribute("formAction"),o!==null&&(S=o,O=null));var D=new Yf("action","action",null,x,j);i.push({event:D,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Oi!==0){var H=O?sA(j,O):new FormData(j);qv(u,{pending:!0,data:H,method:j.method,action:S},null,H)}}else typeof S=="function"&&(D.preventDefault(),H=O?sA(j,O):new FormData(j),qv(u,{pending:!0,data:H,method:j.method,action:S},S,H))},currentTarget:j}]})}}for(var Ey=0;Ey<ov.length;Ey++){var Ay=ov[Ey],L8=Ay.toLowerCase(),I8=Ay[0].toUpperCase()+Ay.slice(1);Ta(L8,"on"+I8)}Ta(L2,"onAnimationEnd"),Ta(I2,"onAnimationIteration"),Ta($2,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(JB,"onTransitionRun"),Ta(e8,"onTransitionStart"),Ta(t8,"onTransitionCancel"),Ta(F2,"onTransitionEnd"),vo("onMouseEnter",["mouseout","mouseover"]),vo("onMouseLeave",["mouseout","mouseover"]),vo("onPointerEnter",["pointerout","pointerover"]),vo("onPointerLeave",["pointerout","pointerover"]),pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Id));function iA(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var x=i[u],j=x.event;x=x.listeners;e:{var S=void 0;if(o)for(var O=x.length-1;0<=O;O--){var D=x[O],H=D.instance,ce=D.currentTarget;if(D=D.listener,H!==S&&j.isPropagationStopped())break e;S=D,j.currentTarget=ce;try{S(j)}catch(ye){Zf(ye)}j.currentTarget=null,S=H}else for(O=0;O<x.length;O++){if(D=x[O],H=D.instance,ce=D.currentTarget,D=D.listener,H!==S&&j.isPropagationStopped())break e;S=D,j.currentTarget=ce;try{S(j)}catch(ye){Zf(ye)}j.currentTarget=null,S=H}}}}function ht(i,o){var u=o[zg];u===void 0&&(u=o[zg]=new Set);var x=i+"__bubble";u.has(x)||(lA(o,i,2,!1),u.add(x))}function Py(i,o,u){var x=0;o&&(x|=4),lA(u,i,x,o)}var $m="_reactListening"+Math.random().toString(36).slice(2);function Oy(i){if(!i[$m]){i[$m]=!0,e2.forEach(function(u){u!=="selectionchange"&&($8.has(u)||Py(u,!1,i),Py(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[$m]||(o[$m]=!0,Py("selectionchange",!1,o))}}function lA(i,o,u,x){switch(LA(o)){case 2:var j=f9;break;case 8:j=m9;break;default:j=Vy}u=j.bind(null,o,u,i),j=void 0,!Yg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(j=!0),x?j!==void 0?i.addEventListener(o,u,{capture:!0,passive:j}):i.addEventListener(o,u,!0):j!==void 0?i.addEventListener(o,u,{passive:j}):i.addEventListener(o,u,!1)}function Ty(i,o,u,x,j){var S=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var O=x.tag;if(O===3||O===4){var D=x.stateNode.containerInfo;if(D===j)break;if(O===4)for(O=x.return;O!==null;){var H=O.tag;if((H===3||H===4)&&O.stateNode.containerInfo===j)return;O=O.return}for(;D!==null;){if(O=po(D),O===null)return;if(H=O.tag,H===5||H===6||H===26||H===27){x=S=O;continue e}D=D.parentNode}}x=x.return}f2(function(){var ce=S,ye=Wg(u),we=[];e:{var he=z2.get(i);if(he!==void 0){var ge=Yf,Ue=i;switch(i){case"keypress":if(Wf(u)===0)break e;case"keydown":case"keyup":ge=kB;break;case"focusin":Ue="focus",ge=Jg;break;case"focusout":Ue="blur",ge=Jg;break;case"beforeblur":case"afterblur":ge=Jg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=p2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=yB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=MB;break;case L2:case I2:case $2:ge=wB;break;case F2:ge=LB;break;case"scroll":case"scrollend":ge=gB;break;case"wheel":ge=$B;break;case"copy":case"cut":case"paste":ge=SB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=g2;break;case"toggle":case"beforetoggle":ge=zB}var Ye=(o&4)!==0,Ft=!Ye&&(i==="scroll"||i==="scrollend"),ne=Ye?he!==null?he+"Capture":null:he;Ye=[];for(var G=ce,oe;G!==null;){var je=G;if(oe=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||oe===null||ne===null||(je=sd(G,ne),je!=null&&Ye.push($d(G,je,oe))),Ft)break;G=G.return}0<Ye.length&&(he=new ge(he,Ue,null,u,ye),we.push({event:he,listeners:Ye}))}}if((o&7)===0){e:{if(he=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",he&&u!==Kg&&(Ue=u.relatedTarget||u.fromElement)&&(po(Ue)||Ue[ho]))break e;if((ge||he)&&(he=ye.window===ye?ye:(he=ye.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(Ue=u.relatedTarget||u.toElement,ge=ce,Ue=Ue?po(Ue):null,Ue!==null&&(Ft=l(Ue),Ye=Ue.tag,Ue!==Ft||Ye!==5&&Ye!==27&&Ye!==6)&&(Ue=null)):(ge=null,Ue=ce),ge!==Ue)){if(Ye=p2,je="onMouseLeave",ne="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ye=g2,je="onPointerLeave",ne="onPointerEnter",G="pointer"),Ft=ge==null?he:ad(ge),oe=Ue==null?he:ad(Ue),he=new Ye(je,G+"leave",ge,u,ye),he.target=Ft,he.relatedTarget=oe,je=null,po(ye)===ce&&(Ye=new Ye(ne,G+"enter",Ue,u,ye),Ye.target=oe,Ye.relatedTarget=Ft,je=Ye),Ft=je,ge&&Ue)t:{for(Ye=F8,ne=ge,G=Ue,oe=0,je=ne;je;je=Ye(je))oe++;je=0;for(var We=G;We;We=Ye(We))je++;for(;0<oe-je;)ne=Ye(ne),oe--;for(;0<je-oe;)G=Ye(G),je--;for(;oe--;){if(ne===G||G!==null&&ne===G.alternate){Ye=ne;break t}ne=Ye(ne),G=Ye(G)}Ye=null}else Ye=null;ge!==null&&oA(we,he,ge,Ye,!1),Ue!==null&&Ft!==null&&oA(we,Ft,Ue,Ye,!0)}}e:{if(he=ce?ad(ce):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Ct=C2;else if(N2(he))if(E2)Ct=QB;else{Ct=GB;var qe=WB}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&qg(ce.elementType)&&(Ct=C2):Ct=YB;if(Ct&&(Ct=Ct(i,ce))){S2(we,Ct,u,ye);break e}qe&&qe(i,he,ce),i==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&Vg(he,"number",he.value)}switch(qe=ce?ad(ce):window,i){case"focusin":(N2(qe)||qe.contentEditable==="true")&&(So=qe,sv=ce,md=null);break;case"focusout":md=sv=So=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,M2(we,u,ye);break;case"selectionchange":if(ZB)break;case"keydown":case"keyup":M2(we,u,ye)}var ct;if(tv)e:{switch(i){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else No?j2(i,u)&&(bt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(bt="onCompositionStart");bt&&(v2&&u.locale!=="ko"&&(No||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&No&&(ct=m2()):(mi=ye,Qg="value"in mi?mi.value:mi.textContent,No=!0)),qe=Fm(ce,bt),0<qe.length&&(bt=new x2(bt,i,null,u,ye),we.push({event:bt,listeners:qe}),ct?bt.data=ct:(ct=w2(u),ct!==null&&(bt.data=ct)))),(ct=UB?HB(i,u):VB(i,u))&&(bt=Fm(ce,"onBeforeInput"),0<bt.length&&(qe=new x2("onBeforeInput","beforeinput",null,u,ye),we.push({event:qe,listeners:bt}),qe.data=ct)),D8(we,i,ce,u,ye)}iA(we,o)})}function $d(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Fm(i,o){for(var u=o+"Capture",x=[];i!==null;){var j=i,S=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||S===null||(j=sd(i,u),j!=null&&x.unshift($d(i,j,S)),j=sd(i,o),j!=null&&x.push($d(i,j,S))),i.tag===3)return x;i=i.return}return[]}function F8(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function oA(i,o,u,x,j){for(var S=o._reactName,O=[];u!==null&&u!==x;){var D=u,H=D.alternate,ce=D.stateNode;if(D=D.tag,H!==null&&H===x)break;D!==5&&D!==26&&D!==27||ce===null||(H=ce,j?(ce=sd(u,S),ce!=null&&O.unshift($d(u,ce,H))):j||(ce=sd(u,S),ce!=null&&O.push($d(u,ce,H)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var z8=/\r\n?/g,B8=/\u0000|\uFFFD/g;function cA(i){return(typeof i=="string"?i:""+i).replace(z8,`
`).replace(B8,"")}function dA(i,o){return o=cA(o),cA(i)===o}function $t(i,o,u,x,j,S){switch(u){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||bo(i,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&bo(i,""+x);break;case"className":Hf(i,"class",x);break;case"tabIndex":Hf(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Hf(i,u,x);break;case"style":d2(i,x,S);break;case"data":if(o!=="object"){Hf(i,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=qf(""+x),i.setAttribute(u,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&$t(i,o,"name",j.name,j,null),$t(i,o,"formEncType",j.formEncType,j,null),$t(i,o,"formMethod",j.formMethod,j,null),$t(i,o,"formTarget",j.formTarget,j,null)):($t(i,o,"encType",j.encType,j,null),$t(i,o,"method",j.method,j,null),$t(i,o,"target",j.target,j,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=qf(""+x),i.setAttribute(u,x);break;case"onClick":x!=null&&(i.onclick=ps);break;case"onScroll":x!=null&&ht("scroll",i);break;case"onScrollEnd":x!=null&&ht("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(u=x.__html,u!=null){if(j.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}u=qf(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""+x):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":x===!0?i.setAttribute(u,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,x):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(u,x):i.removeAttribute(u);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(u):i.setAttribute(u,x);break;case"popover":ht("beforetoggle",i),ht("toggle",i),Uf(i,"popover",x);break;case"xlinkActuate":hs(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":hs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":hs(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":hs(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":hs(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":hs(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":hs(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":hs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":hs(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Uf(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=pB.get(u)||u,Uf(i,u,x))}}function ky(i,o,u,x,j,S){switch(u){case"style":d2(i,x,S);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(u=x.__html,u!=null){if(j.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof x=="string"?bo(i,x):(typeof x=="number"||typeof x=="bigint")&&bo(i,""+x);break;case"onScroll":x!=null&&ht("scroll",i);break;case"onScrollEnd":x!=null&&ht("scrollend",i);break;case"onClick":x!=null&&(i.onclick=ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!t2.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(j=u.endsWith("Capture"),o=u.slice(2,j?u.length-7:void 0),S=i[yr]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(o,S,j),typeof x=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,x,j);break e}u in i?i[u]=x:x===!0?i.setAttribute(u,""):Uf(i,u,x)}}}function Zn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",i),ht("load",i);var x=!1,j=!1,S;for(S in u)if(u.hasOwnProperty(S)){var O=u[S];if(O!=null)switch(S){case"src":x=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:$t(i,o,S,O,u,null)}}j&&$t(i,o,"srcSet",u.srcSet,u,null),x&&$t(i,o,"src",u.src,u,null);return;case"input":ht("invalid",i);var D=S=O=j=null,H=null,ce=null;for(x in u)if(u.hasOwnProperty(x)){var ye=u[x];if(ye!=null)switch(x){case"name":j=ye;break;case"type":O=ye;break;case"checked":H=ye;break;case"defaultChecked":ce=ye;break;case"value":S=ye;break;case"defaultValue":D=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,o));break;default:$t(i,o,x,ye,u,null)}}i2(i,S,D,H,ce,O,j,!1);return;case"select":ht("invalid",i),x=O=S=null;for(j in u)if(u.hasOwnProperty(j)&&(D=u[j],D!=null))switch(j){case"value":S=D;break;case"defaultValue":O=D;break;case"multiple":x=D;default:$t(i,o,j,D,u,null)}o=S,u=O,i.multiple=!!x,o!=null?yo(i,!!x,o,!1):u!=null&&yo(i,!!x,u,!0);return;case"textarea":ht("invalid",i),S=j=x=null;for(O in u)if(u.hasOwnProperty(O)&&(D=u[O],D!=null))switch(O){case"value":x=D;break;case"defaultValue":j=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(91));break;default:$t(i,o,O,D,u,null)}o2(i,x,j,S);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(x=u[H],x!=null))switch(H){case"selected":i.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:$t(i,o,H,x,u,null)}return;case"dialog":ht("beforetoggle",i),ht("toggle",i),ht("cancel",i),ht("close",i);break;case"iframe":case"object":ht("load",i);break;case"video":case"audio":for(x=0;x<Id.length;x++)ht(Id[x],i);break;case"image":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"embed":case"source":case"link":ht("error",i),ht("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in u)if(u.hasOwnProperty(ce)&&(x=u[ce],x!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:$t(i,o,ce,x,u,null)}return;default:if(qg(o)){for(ye in u)u.hasOwnProperty(ye)&&(x=u[ye],x!==void 0&&ky(i,o,ye,x,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(x=u[D],x!=null&&$t(i,o,D,x,u,null))}function U8(i,o,u,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,S=null,O=null,D=null,H=null,ce=null,ye=null;for(ge in u){var we=u[ge];if(u.hasOwnProperty(ge)&&we!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":H=we;default:x.hasOwnProperty(ge)||$t(i,o,ge,null,x,we)}}for(var he in x){var ge=x[he];if(we=u[he],x.hasOwnProperty(he)&&(ge!=null||we!=null))switch(he){case"type":S=ge;break;case"name":j=ge;break;case"checked":ce=ge;break;case"defaultChecked":ye=ge;break;case"value":O=ge;break;case"defaultValue":D=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,o));break;default:ge!==we&&$t(i,o,he,ge,x,we)}}Hg(i,O,D,H,ce,ye,S,j);return;case"select":ge=O=D=he=null;for(S in u)if(H=u[S],u.hasOwnProperty(S)&&H!=null)switch(S){case"value":break;case"multiple":ge=H;default:x.hasOwnProperty(S)||$t(i,o,S,null,x,H)}for(j in x)if(S=x[j],H=u[j],x.hasOwnProperty(j)&&(S!=null||H!=null))switch(j){case"value":he=S;break;case"defaultValue":D=S;break;case"multiple":O=S;default:S!==H&&$t(i,o,j,S,x,H)}o=D,u=O,x=ge,he!=null?yo(i,!!u,he,!1):!!x!=!!u&&(o!=null?yo(i,!!u,o,!0):yo(i,!!u,u?[]:"",!1));return;case"textarea":ge=he=null;for(D in u)if(j=u[D],u.hasOwnProperty(D)&&j!=null&&!x.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:$t(i,o,D,null,x,j)}for(O in x)if(j=x[O],S=u[O],x.hasOwnProperty(O)&&(j!=null||S!=null))switch(O){case"value":he=j;break;case"defaultValue":ge=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(91));break;default:j!==S&&$t(i,o,O,j,x,S)}l2(i,he,ge);return;case"option":for(var Ue in u)if(he=u[Ue],u.hasOwnProperty(Ue)&&he!=null&&!x.hasOwnProperty(Ue))switch(Ue){case"selected":i.selected=!1;break;default:$t(i,o,Ue,null,x,he)}for(H in x)if(he=x[H],ge=u[H],x.hasOwnProperty(H)&&he!==ge&&(he!=null||ge!=null))switch(H){case"selected":i.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:$t(i,o,H,he,x,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in u)he=u[Ye],u.hasOwnProperty(Ye)&&he!=null&&!x.hasOwnProperty(Ye)&&$t(i,o,Ye,null,x,he);for(ce in x)if(he=x[ce],ge=u[ce],x.hasOwnProperty(ce)&&he!==ge&&(he!=null||ge!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,o));break;default:$t(i,o,ce,he,x,ge)}return;default:if(qg(o)){for(var Ft in u)he=u[Ft],u.hasOwnProperty(Ft)&&he!==void 0&&!x.hasOwnProperty(Ft)&&ky(i,o,Ft,void 0,x,he);for(ye in x)he=x[ye],ge=u[ye],!x.hasOwnProperty(ye)||he===ge||he===void 0&&ge===void 0||ky(i,o,ye,he,x,ge);return}}for(var ne in u)he=u[ne],u.hasOwnProperty(ne)&&he!=null&&!x.hasOwnProperty(ne)&&$t(i,o,ne,null,x,he);for(we in x)he=x[we],ge=u[we],!x.hasOwnProperty(we)||he===ge||he==null&&ge==null||$t(i,o,we,he,x,ge)}function uA(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H8(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),x=0;x<u.length;x++){var j=u[x],S=j.transferSize,O=j.initiatorType,D=j.duration;if(S&&D&&uA(O)){for(O=0,D=j.responseEnd,x+=1;x<u.length;x++){var H=u[x],ce=H.startTime;if(ce>D)break;var ye=H.transferSize,we=H.initiatorType;ye&&uA(we)&&(H=H.responseEnd,O+=ye*(H<D?1:(D-ce)/(H-ce)))}if(--x,o+=8*(S+O)/(j.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _y=null,Ry=null;function zm(i){return i.nodeType===9?i:i.ownerDocument}function fA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mA(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function My(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dy=null;function V8(){var i=window.event;return i&&i.type==="popstate"?i===Dy?!1:(Dy=i,!0):(Dy=null,!1)}var hA=typeof setTimeout=="function"?setTimeout:void 0,q8=typeof clearTimeout=="function"?clearTimeout:void 0,pA=typeof Promise=="function"?Promise:void 0,K8=typeof queueMicrotask=="function"?queueMicrotask:typeof pA<"u"?function(i){return pA.resolve(null).then(i).catch(W8)}:hA;function W8(i){setTimeout(function(){throw i})}function Ti(i){return i==="head"}function xA(i,o){var u=o,x=0;do{var j=u.nextSibling;if(i.removeChild(u),j&&j.nodeType===8)if(u=j.data,u==="/$"||u==="/&"){if(x===0){i.removeChild(j),Xo(o);return}x--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")x++;else if(u==="html")Fd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Fd(u);for(var S=u.firstChild;S;){var O=S.nextSibling,D=S.nodeName;S[rd]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=O}}else u==="body"&&Fd(i.ownerDocument.body);u=j}while(u);Xo(o)}function gA(i,o){var u=i;i=0;do{var x=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=x}while(u)}function Ly(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ly(u),Bg(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function G8(i,o,u,x){for(;i.nodeType===1;){var j=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[rd])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==j.rel||i.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||i.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||i.getAttribute("title")!==(j.title==null?null:j.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(j.src==null?null:j.src)||i.getAttribute("type")!==(j.type==null?null:j.type)||i.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=j.name==null?null:""+j.name;if(j.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=ma(i.nextSibling),i===null)break}return null}function Y8(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ma(i.nextSibling),i===null))return null;return i}function vA(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ma(i.nextSibling),i===null))return null;return i}function Iy(i){return i.data==="$?"||i.data==="$~"}function $y(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Q8(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var x=function(){o(),u.removeEventListener("DOMContentLoaded",x)};u.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function ma(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Fy=null;function yA(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return ma(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function bA(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function jA(i,o,u){switch(o=zm(u),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Fd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Bg(i)}var ha=new Map,wA=new Set;function Bm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ks=Z.d;Z.d={f:X8,r:Z8,D:J8,C:e9,L:t9,m:n9,X:a9,S:r9,M:s9};function X8(){var i=ks.f(),o=_m();return i||o}function Z8(i){var o=xo(i);o!==null&&o.tag===5&&o.type==="form"?FC(o):ks.r(i)}var Go=typeof document>"u"?null:document;function NA(i,o,u){var x=Go;if(x&&typeof o=="string"&&o){var j=ia(o);j='link[rel="'+i+'"][href="'+j+'"]',typeof u=="string"&&(j+='[crossorigin="'+u+'"]'),wA.has(j)||(wA.add(j),i={rel:i,crossOrigin:u,href:o},x.querySelector(j)===null&&(o=x.createElement("link"),Zn(o,"link",i),zn(o),x.head.appendChild(o)))}}function J8(i){ks.D(i),NA("dns-prefetch",i,null)}function e9(i,o){ks.C(i,o),NA("preconnect",i,o)}function t9(i,o,u){ks.L(i,o,u);var x=Go;if(x&&i&&o){var j='link[rel="preload"][as="'+ia(o)+'"]';o==="image"&&u&&u.imageSrcSet?(j+='[imagesrcset="'+ia(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(j+='[imagesizes="'+ia(u.imageSizes)+'"]')):j+='[href="'+ia(i)+'"]';var S=j;switch(o){case"style":S=Yo(i);break;case"script":S=Qo(i)}ha.has(S)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ha.set(S,i),x.querySelector(j)!==null||o==="style"&&x.querySelector(zd(S))||o==="script"&&x.querySelector(Bd(S))||(o=x.createElement("link"),Zn(o,"link",i),zn(o),x.head.appendChild(o)))}}function n9(i,o){ks.m(i,o);var u=Go;if(u&&i){var x=o&&typeof o.as=="string"?o.as:"script",j='link[rel="modulepreload"][as="'+ia(x)+'"][href="'+ia(i)+'"]',S=j;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Qo(i)}if(!ha.has(S)&&(i=g({rel:"modulepreload",href:i},o),ha.set(S,i),u.querySelector(j)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Bd(S)))return}x=u.createElement("link"),Zn(x,"link",i),zn(x),u.head.appendChild(x)}}}function r9(i,o,u){ks.S(i,o,u);var x=Go;if(x&&i){var j=go(x).hoistableStyles,S=Yo(i);o=o||"default";var O=j.get(S);if(!O){var D={loading:0,preload:null};if(O=x.querySelector(zd(S)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ha.get(S))&&zy(i,u);var H=O=x.createElement("link");zn(H),Zn(H,"link",i),H._p=new Promise(function(ce,ye){H.onload=ce,H.onerror=ye}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Um(O,o,x)}O={type:"stylesheet",instance:O,count:1,state:D},j.set(S,O)}}}function a9(i,o){ks.X(i,o);var u=Go;if(u&&i){var x=go(u).hoistableScripts,j=Qo(i),S=x.get(j);S||(S=u.querySelector(Bd(j)),S||(i=g({src:i,async:!0},o),(o=ha.get(j))&&By(i,o),S=u.createElement("script"),zn(S),Zn(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(j,S))}}function s9(i,o){ks.M(i,o);var u=Go;if(u&&i){var x=go(u).hoistableScripts,j=Qo(i),S=x.get(j);S||(S=u.querySelector(Bd(j)),S||(i=g({src:i,async:!0,type:"module"},o),(o=ha.get(j))&&By(i,o),S=u.createElement("script"),zn(S),Zn(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(j,S))}}function SA(i,o,u,x){var j=(j=Le.current)?Bm(j):null;if(!j)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Yo(u.href),u=go(j).hoistableStyles,x=u.get(o),x||(x={type:"style",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Yo(u.href);var S=go(j).hoistableStyles,O=S.get(i);if(O||(j=j.ownerDocument||j,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,O),(S=j.querySelector(zd(i)))&&!S._p&&(O.instance=S,O.state.loading=5),ha.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ha.set(i,u),S||i9(j,i,u,O.state))),o&&x===null)throw Error(a(528,""));return O}if(o&&x!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qo(u),u=go(j).hoistableScripts,x=u.get(o),x||(x={type:"script",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Yo(i){return'href="'+ia(i)+'"'}function zd(i){return'link[rel="stylesheet"]['+i+"]"}function CA(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function i9(i,o,u,x){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=i.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),Zn(o,"link",u),zn(o),i.head.appendChild(o))}function Qo(i){return'[src="'+ia(i)+'"]'}function Bd(i){return"script[async]"+i}function EA(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var x=i.querySelector('style[data-href~="'+ia(u.href)+'"]');if(x)return o.instance=x,zn(x),x;var j=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),zn(x),Zn(x,"style",j),Um(x,u.precedence,i),o.instance=x;case"stylesheet":j=Yo(u.href);var S=i.querySelector(zd(j));if(S)return o.state.loading|=4,o.instance=S,zn(S),S;x=CA(u),(j=ha.get(j))&&zy(x,j),S=(i.ownerDocument||i).createElement("link"),zn(S);var O=S;return O._p=new Promise(function(D,H){O.onload=D,O.onerror=H}),Zn(S,"link",x),o.state.loading|=4,Um(S,u.precedence,i),o.instance=S;case"script":return S=Qo(u.src),(j=i.querySelector(Bd(S)))?(o.instance=j,zn(j),j):(x=u,(j=ha.get(S))&&(x=g({},u),By(x,j)),i=i.ownerDocument||i,j=i.createElement("script"),zn(j),Zn(j,"link",x),i.head.appendChild(j),o.instance=j);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,Um(x,u.precedence,i));return o.instance}function Um(i,o,u){for(var x=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=x.length?x[x.length-1]:null,S=j,O=0;O<x.length;O++){var D=x[O];if(D.dataset.precedence===o)S=D;else if(S!==j)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function zy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function By(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Hm=null;function AA(i,o,u){if(Hm===null){var x=new Map,j=Hm=new Map;j.set(u,x)}else j=Hm,x=j.get(u),x||(x=new Map,j.set(u,x));if(x.has(i))return x;for(x.set(i,null),u=u.getElementsByTagName(i),j=0;j<u.length;j++){var S=u[j];if(!(S[rd]||S[Gn]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(o)||"";O=i+O;var D=x.get(O);D?D.push(S):x.set(O,[S])}}return x}function PA(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function l9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function OA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function o9(i,o,u,x){if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var j=Yo(x.href),S=o.querySelector(zd(j));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Vm.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=S,zn(S);return}S=o.ownerDocument||o,x=CA(x),(j=ha.get(j))&&zy(x,j),S=S.createElement("link"),zn(S);var O=S;O._p=new Promise(function(D,H){O.onload=D,O.onerror=H}),Zn(S,"link",x),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Vm.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Uy=0;function c9(i,o){return i.stylesheets&&i.count===0&&Km(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var x=setTimeout(function(){if(i.stylesheets&&Km(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&Uy===0&&(Uy=62500*H8());var j=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Km(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Uy?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(x),clearTimeout(j)}}:null}function Vm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Km(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qm=null;function Km(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qm=new Map,o.forEach(d9,i),qm=null,Vm.call(i))}function d9(i,o){if(!(o.state.loading&4)){var u=qm.get(i);if(u)var x=u.get(null);else{u=new Map,qm.set(i,u);for(var j=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<j.length;S++){var O=j[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),x=O)}x&&u.set(null,x)}j=o.instance,O=j.getAttribute("data-precedence"),S=u.get(O)||x,S===x&&u.set(null,j),u.set(O,j),this.count++,x=Vm.bind(this),j.addEventListener("load",x),j.addEventListener("error",x),S?S.parentNode.insertBefore(j,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(j,i.firstChild)),o.state.loading|=4}}var Ud={$$typeof:A,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function u9(i,o,u,x,j,S,O,D,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ig(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ig(0),this.hiddenUpdates=Ig(null),this.identifierPrefix=x,this.onUncaughtError=j,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function TA(i,o,u,x,j,S,O,D,H,ce,ye,we){return i=new u9(i,o,u,O,H,ce,ye,we,D),o=1,S===!0&&(o|=24),S=Lr(3,null,null,o),i.current=S,S.stateNode=i,o=jv(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:x,isDehydrated:u,cache:o},Cv(S),i}function kA(i){return i?(i=Ao,i):Ao}function _A(i,o,u,x,j,S){j=kA(j),x.context===null?x.context=j:x.pendingContext=j,x=yi(o),x.payload={element:u},S=S===void 0?null:S,S!==null&&(x.callback=S),u=bi(i,x,o),u!==null&&(Cr(u,i,o),bd(u,i,o))}function RA(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Hy(i,o){RA(i,o),(i=i.alternate)&&RA(i,o)}function MA(i){if(i.tag===13||i.tag===31){var o=yl(i,67108864);o!==null&&Cr(o,i,67108864),Hy(i,67108864)}}function DA(i){if(i.tag===13||i.tag===31){var o=Br();o=$g(o);var u=yl(i,o);u!==null&&Cr(u,i,o),Hy(i,o)}}var Wm=!0;function f9(i,o,u,x){var j=z.T;z.T=null;var S=Z.p;try{Z.p=2,Vy(i,o,u,x)}finally{Z.p=S,z.T=j}}function m9(i,o,u,x){var j=z.T;z.T=null;var S=Z.p;try{Z.p=8,Vy(i,o,u,x)}finally{Z.p=S,z.T=j}}function Vy(i,o,u,x){if(Wm){var j=qy(x);if(j===null)Ty(i,o,x,Gm,u),IA(i,x);else if(p9(j,i,o,u,x))x.stopPropagation();else if(IA(i,x),o&4&&-1<h9.indexOf(i)){for(;j!==null;){var S=xo(j);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=hl(S.pendingLanes);if(O!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var H=1<<31-nt(O);D.entanglements[1]|=H,O&=~H}Qa(S),(Pt&6)===0&&(Tm=Je()+500,Ld(0))}}break;case 31:case 13:D=yl(S,2),D!==null&&Cr(D,S,2),_m(),Hy(S,2)}if(S=qy(x),S===null&&Ty(i,o,x,Gm,u),S===j)break;j=S}j!==null&&x.stopPropagation()}else Ty(i,o,x,null,u)}}function qy(i){return i=Wg(i),Ky(i)}var Gm=null;function Ky(i){if(Gm=null,i=po(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Gm=i,null}function LA(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dl()){case ul:return 2;case mn:return 8;case mo:case $f:return 32;case fl:return 268435456;default:return 32}default:return 32}}var Wy=!1,ki=null,_i=null,Ri=null,Hd=new Map,Vd=new Map,Mi=[],h9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IA(i,o){switch(i){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Hd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vd.delete(o.pointerId)}}function qd(i,o,u,x,j,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:u,eventSystemFlags:x,nativeEvent:S,targetContainers:[j]},o!==null&&(o=xo(o),o!==null&&MA(o)),i):(i.eventSystemFlags|=x,o=i.targetContainers,j!==null&&o.indexOf(j)===-1&&o.push(j),i)}function p9(i,o,u,x,j){switch(o){case"focusin":return ki=qd(ki,i,o,u,x,j),!0;case"dragenter":return _i=qd(_i,i,o,u,x,j),!0;case"mouseover":return Ri=qd(Ri,i,o,u,x,j),!0;case"pointerover":var S=j.pointerId;return Hd.set(S,qd(Hd.get(S)||null,i,o,u,x,j)),!0;case"gotpointercapture":return S=j.pointerId,Vd.set(S,qd(Vd.get(S)||null,i,o,u,x,j)),!0}return!1}function $A(i){var o=po(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,ZS(i.priority,function(){DA(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,ZS(i.priority,function(){DA(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ym(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=qy(i.nativeEvent);if(u===null){u=i.nativeEvent;var x=new u.constructor(u.type,u);Kg=x,u.target.dispatchEvent(x),Kg=null}else return o=xo(u),o!==null&&MA(o),i.blockedOn=u,!1;o.shift()}return!0}function FA(i,o,u){Ym(i)&&u.delete(o)}function x9(){Wy=!1,ki!==null&&Ym(ki)&&(ki=null),_i!==null&&Ym(_i)&&(_i=null),Ri!==null&&Ym(Ri)&&(Ri=null),Hd.forEach(FA),Vd.forEach(FA)}function Qm(i,o){i.blockedOn===o&&(i.blockedOn=null,Wy||(Wy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,x9)))}var Xm=null;function zA(i){Xm!==i&&(Xm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Xm===i&&(Xm=null);for(var o=0;o<i.length;o+=3){var u=i[o],x=i[o+1],j=i[o+2];if(typeof x!="function"){if(Ky(x||u)===null)continue;break}var S=xo(u);S!==null&&(i.splice(o,3),o-=3,qv(S,{pending:!0,data:j,method:u.method,action:x},x,j))}}))}function Xo(i){function o(H){return Qm(H,i)}ki!==null&&Qm(ki,i),_i!==null&&Qm(_i,i),Ri!==null&&Qm(Ri,i),Hd.forEach(o),Vd.forEach(o);for(var u=0;u<Mi.length;u++){var x=Mi[u];x.blockedOn===i&&(x.blockedOn=null)}for(;0<Mi.length&&(u=Mi[0],u.blockedOn===null);)$A(u),u.blockedOn===null&&Mi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(x=0;x<u.length;x+=3){var j=u[x],S=u[x+1],O=j[yr]||null;if(typeof S=="function")O||zA(u);else if(O){var D=null;if(S&&S.hasAttribute("formAction")){if(j=S,O=S[yr]||null)D=O.formAction;else if(Ky(j)!==null)continue}else D=O.action;typeof D=="function"?u[x+1]=D:(u.splice(x,3),x-=3),zA(u)}}}function BA(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return j=O})},focusReset:"manual",scroll:"manual"})}function o(){j!==null&&(j(),j=null),x||setTimeout(u,20)}function u(){if(!x&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,j=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){x=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),j!==null&&(j(),j=null)}}}function Gy(i){this._internalRoot=i}Zm.prototype.render=Gy.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,x=Br();_A(u,x,i,o,null,null)},Zm.prototype.unmount=Gy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;_A(i.current,2,null,i,null,null),_m(),o[ho]=null}};function Zm(i){this._internalRoot=i}Zm.prototype.unstable_scheduleHydration=function(i){if(i){var o=XS();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Mi.length&&o!==0&&o<Mi[u].priority;u++);Mi.splice(u,0,i),u===0&&$A(i)}};var UA=t.version;if(UA!=="19.2.0")throw Error(a(527,UA,"19.2.0"));Z.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var g9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jm.isDisabled&&Jm.supportsFiber)try{ml=Jm.inject(g9),F=Jm}catch{}}return Wd.createRoot=function(i,o){if(!s(i))throw Error(a(299));var u=!1,x="",j=YC,S=QC,O=XC;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(j=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=TA(i,1,!1,null,null,u,x,null,j,S,O,BA),i[ho]=o.current,Oy(i),new Gy(o)},Wd.hydrateRoot=function(i,o,u){if(!s(i))throw Error(a(299));var x=!1,j="",S=YC,O=QC,D=XC,H=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=TA(i,1,!0,o,u??null,x,j,H,S,O,D,BA),o.context=kA(null),u=o.current,x=Br(),x=$g(x),j=yi(x),j.callback=null,bi(u,j,x),u=x,o.current.lanes=u,nd(o,u),Qa(o),i[ho]=o.current,Oy(i),new Zm(o)},Wd.version="19.2.0",Wd}var ZA;function A9(){if(ZA)return Qy.exports;ZA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qy.exports=E9(),Qy.exports}var P9=A9();function O9(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,s,l,c=[],d="",f=e.split("/");for(f[0]||f.shift();s=f.shift();)r=s[0],r==="*"?(c.push(r),d+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=s.indexOf("?",1),l=s.indexOf(".",1),c.push(s.substring(1,~a?a:~l?l:s.length)),d+=~a&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~a?"?":"")+"\\"+s.substring(l))):d+="/"+s;return{keys:c,pattern:new RegExp("^"+d+(t?"(?=$|/)":"/?$"),"i")}}var p=_c();const gn=ls(p),Gu=y9({__proto__:null,default:gn},[p]);var t0={exports:{}},n0={};var JA;function T9(){if(JA)return n0;JA=1;var e=_c();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,v){var y=v(),N=a({inst:{value:y,getSnapshot:v}}),b=N[0].inst,w=N[1];return l(function(){b.value=y,b.getSnapshot=v,f(b)&&w({inst:b})},[g,y,v]),s(function(){return f(b)&&w({inst:b}),g(function(){f(b)&&w({inst:b})})},[g]),c(y),y}function f(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!r(g,y)}catch{return!0}}function m(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return n0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,n0}var eP;function n4(){return eP||(eP=1,t0.exports=T9()),t0.exports}var r4=n4();const k9=Gu.useInsertionEffect,_9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a4=_9?p.useLayoutEffect:p.useEffect,R9=k9||a4,zw=e=>{const t=p.useRef([e,(...r)=>t[0](...r)]).current;return R9(()=>{t[0]=e}),t[1]},M9="popstate",Bw="pushState",Uw="replaceState",D9="hashchange",tP=[M9,Bw,Uw,D9],L9=e=>{for(const t of tP)addEventListener(t,e);return()=>{for(const t of tP)removeEventListener(t,e)}},s4=(e,t)=>r4.useSyncExternalStore(L9,e,t),I9=()=>location.search,$9=({ssrSearch:e=""}={})=>s4(I9,()=>e),nP=()=>location.pathname,F9=({ssrPath:e}={})=>s4(nP,e?()=>e:nP),z9=(e,{replace:t=!1,state:r=null}={})=>history[t?Uw:Bw](r,"",e),B9=(e={})=>[F9(e),z9],rP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[rP]>"u"){for(const e of[Bw,Uw]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,rP,{value:!0})}const U9=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",i4=(e="")=>e==="/"?"":e,H9=(e,t)=>e[0]==="~"?e.slice(1):i4(t)+e,V9=(e="",t)=>U9(ij(i4(e)),ij(t)),q9=e=>e[0]==="?"?e.slice(1):e,ij=e=>{try{return decodeURI(e)}catch{return e}},K9=e=>ij(q9(e)),l4={hook:B9,searchHook:$9,parser:O9,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},o4=p.createContext(l4),al=()=>p.useContext(o4),c4={},d4=p.createContext(c4),Yu=()=>p.useContext(d4),Qu=e=>{const[t,r]=e.hook(e);return[V9(e.base,t),zw((a,s)=>r(H9(a,e.base),s))]},Ha=()=>Qu(al()),W9=()=>{const e=al();return K9(e.searchHook(e))},Hw=(e,t,r,a)=>{const{pattern:s,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),c=s.exec(r)||[],[d,...f]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((g,v)=>[g,f[v]])):c.groups;let h={...f};return m&&Object.assign(h,m),h})(),...a?[d]:[]]:[!1,null]},G9=e=>Hw(al().parser,e,Ha()[0]),Y9=({children:e,...t})=>{const r=al(),a=t.hook?l4:r;let s=a;const[l,c]=t.ssrPath?.split("?")??[];c&&(t.ssrSearch=c,t.ssrPath=l),t.hrefs=t.hrefs??t.hook?.hrefs;let d=p.useRef({}),f=d.current,m=f;for(let h in a){const g=h==="base"?a[h]+(t[h]||""):t[h]||a[h];f===m&&g!==m[h]&&(d.current=m={...m}),m[h]=g,(g!==a[h]||g!==s[h])&&(s=m)}return p.createElement(o4.Provider,{value:s,children:e})},aP=({children:e,component:t},r)=>t?p.createElement(t,{params:r}):typeof e=="function"?e(r):e,Q9=e=>{let t=p.useRef(c4);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([a,s])=>s!==r[a])?e:r},pt=({path:e,nest:t,match:r,...a})=>{const s=al(),[l]=Qu(s),[c,d,f]=r??Hw(s.parser,e,l,t),m=Q9({...Yu(),...d});if(!c)return null;const h=f?p.createElement(Y9,{base:f},aP(a,m)):aP(a,m);return p.createElement(d4.Provider,{value:m,children:h})},Kl=p.forwardRef((e,t)=>{const r=al(),[a,s]=Qu(r),{to:l="",href:c=l,onClick:d,asChild:f,children:m,className:h,replace:g,state:v,...y}=e,N=zw(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(d?.(w),w.defaultPrevented||(w.preventDefault(),s(c,e)))}),b=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return f&&p.isValidElement(m)?p.cloneElement(m,{onClick:N,href:b}):p.createElement("a",{...y,onClick:N,href:b,className:h?.call?h(a===c):h,children:m,ref:t})}),u4=e=>Array.isArray(e)?e.flatMap(t=>u4(t&&t.type===p.Fragment?t.props.children:t)):[e],X9=({children:e,location:t})=>{const r=al(),[a]=Qu(r);for(const s of u4(e)){let l=0;if(p.isValidElement(s)&&(l=Hw(r.parser,s.props.path,t||a,s.props.nest))[0])return p.cloneElement(s,{match:l})}return null},Z9=e=>{const{to:t,href:r=t}=e,a=al(),[,s]=Qu(a),l=zw(()=>s(t||r,e)),{ssrContext:c}=a;return a4(()=>{l()},[]),c&&(c.redirectTo=t),null};var Rc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},J9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},eU=class{#e=J9;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ll=new eU;function tU(e){setTimeout(e,0)}var Wl=typeof window>"u"||"Deno"in globalThis;function ur(){}function nU(e,t){return typeof e=="function"?e(t):e}function lj(e){return typeof e=="number"&&e>=0&&e!==1/0}function f4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ui(e,t){return typeof e=="function"?e(t):e}function ba(e,t){return typeof e=="function"?e(t):e}function sP(e,t){const{type:r="all",exact:a,fetchStatus:s,predicate:l,queryKey:c,stale:d}=e;if(c){if(a){if(t.queryHash!==Vw(c,t.options))return!1}else if(!pu(t.queryKey,c))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||l&&!l(t))}function iP(e,t){const{exact:r,status:a,predicate:s,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Gl(t.options.mutationKey)!==Gl(l))return!1}else if(!pu(t.options.mutationKey,l))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function Vw(e,t){return(t?.queryKeyHashFn||Gl)(e)}function Gl(e){return JSON.stringify(e,(t,r)=>oj(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function pu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>pu(e[r],t[r])):!1}var rU=Object.prototype.hasOwnProperty;function m4(e,t){if(e===t)return e;const r=lP(e)&&lP(t);if(!r&&!(oj(e)&&oj(t)))return t;const s=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),c=l.length,d=r?new Array(c):{};let f=0;for(let m=0;m<c;m++){const h=r?m:l[m],g=e[h],v=t[h];if(g===v){d[h]=g,(r?m<s:rU.call(e,h))&&f++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){d[h]=v;continue}const y=m4(g,v);d[h]=y,y===g&&f++}return s===c&&f===s?e:d}function Jh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function lP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function oj(e){if(!oP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!oP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oP(e){return Object.prototype.toString.call(e)==="[object Object]"}function aU(e){return new Promise(t=>{Ll.setTimeout(t,e)})}function cj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?m4(e,t):t}function sU(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function iU(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var qw=Symbol();function h4(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===qw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function p4(e,t){return typeof e=="function"?e(...t):!!e}var lU=class extends Rc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Wl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Kw=new lU;function dj(){let e,t;const r=new Promise((s,l)=>{e=s,t=l});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),t(s)},r}var oU=tU;function cU(){let e=[],t=0,r=d=>{d()},a=d=>{d()},s=oU;const l=d=>{t?e.push(d):s(()=>{r(d)})},c=()=>{const d=e;e=[],d.length&&s(()=>{a(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{s=d}}}var Rn=cU(),dU=class extends Rc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Wl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},ep=new dU;function uU(e){return Math.min(1e3*2**e,3e4)}function x4(e){return(e??"online")==="online"?ep.isOnline():!0}var uj=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function g4(e){let t=!1,r=0,a;const s=dj(),l=()=>s.status!=="pending",c=b=>{if(!l()){const w=new uj(b);v(w),e.onCancel?.(w)}},d=()=>{t=!0},f=()=>{t=!1},m=()=>Kw.isFocused()&&(e.networkMode==="always"||ep.isOnline())&&e.canRun(),h=()=>x4(e.networkMode)&&e.canRun(),g=b=>{l()||(a?.(),s.resolve(b))},v=b=>{l()||(a?.(),s.reject(b))},y=()=>new Promise(b=>{a=w=>{(l()||m())&&b(w)},e.onPause?.()}).then(()=>{a=void 0,l()||e.onContinue?.()}),N=()=>{if(l())return;let b;const w=r===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(C){b=Promise.reject(C)}Promise.resolve(b).then(g).catch(C=>{if(l())return;const E=e.retry??(Wl?0:3),A=e.retryDelay??uU,T=typeof A=="function"?A(r,C):A,k=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(t||!k){v(C);return}r++,e.onFail?.(r,C),aU(T).then(()=>m()?void 0:y()).then(()=>{t?v(C):N()})})};return{promise:s,status:()=>s.status,cancel:c,continue:()=>(a?.(),s),cancelRetry:d,continueRetry:f,canStart:h,start:()=>(h()?N():y().then(N),s)}}var v4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lj(this.gcTime)&&(this.#e=Ll.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ll.clearTimeout(this.#e),this.#e=void 0)}},fU=class extends v4{#e;#t;#n;#a;#r;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=dP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=dP(this.options);t.data!==void 0&&(this.setState(cP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=cj(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ba(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ui(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!f4(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},s=()=>{const d=h4(this.options,t),m=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(h),h})();return this.#l=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return a(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=g4({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof uj&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof uj){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...y4(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...cP(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Rn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function y4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function dP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mU=class extends Rc{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#l=dj(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#i;#l;#s;#p;#f;#m;#c;#d;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),uP(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ba(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Jh(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&fP(this.#t,r,this.options,t)&&this.#u(),this.updateResult(),a&&(this.#t!==r||ba(this.options.enabled,this.#t)!==ba(t.enabled,this.#t)||Ui(this.options.staleTime,this.#t)!==Ui(t.staleTime,this.#t))&&this.#x();const s=this.#g();a&&(this.#t!==r||ba(this.options.enabled,this.#t)!==ba(t.enabled,this.#t)||s!==this.#o)&&this.#v(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return pU(this,r)&&(this.#a=r,this.#i=this.options,this.#r=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#u(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ur)),t}#x(){this.#b();const e=Ui(this.options.staleTime,this.#t);if(Wl||this.#a.isStale||!lj(e))return;const r=f4(this.#a.dataUpdatedAt,e)+1;this.#c=Ll.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#j(),this.#o=e,!(Wl||ba(this.options.enabled,this.#t)===!1||!lj(this.#o)||this.#o===0)&&(this.#d=Ll.setInterval(()=>{(this.options.refetchIntervalInBackground||Kw.isFocused())&&this.#u()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(Ll.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(Ll.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const r=this.#t,a=this.options,s=this.#a,l=this.#r,c=this.#i,f=e!==r?e.state:this.#n,{state:m}=e;let h={...m},g=!1,v;if(t._optimisticResults){const I=this.hasListeners(),Y=!I&&uP(e,t),L=I&&fP(e,r,t,a);(Y||L)&&(h={...h,...y4(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:N,status:b}=h;v=h.data;let w=!1;if(t.placeholderData!==void 0&&v===void 0&&b==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(I=s.data,w=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,I!==void 0&&(b="success",v=cj(s?.data,I,t),g=!0)}if(t.select&&v!==void 0&&!w)if(s&&v===l?.data&&t.select===this.#p)v=this.#f;else try{this.#p=t.select,v=t.select(v),v=cj(s?.data,v,t),this.#f=v,this.#s=null}catch(I){this.#s=I}this.#s&&(y=this.#s,v=this.#f,N=Date.now(),b="error");const C=h.fetchStatus==="fetching",E=b==="pending",A=b==="error",T=E&&C,k=v!==void 0,M={status:b,fetchStatus:h.fetchStatus,isPending:E,isSuccess:b==="success",isError:A,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:N,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:A&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&k,isStale:Ww(e,t),refetch:this.refetch,promise:this.#l,isEnabled:ba(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=R=>{M.status==="error"?R.reject(M.error):M.data!==void 0&&R.resolve(M.data)},Y=()=>{const R=this.#l=M.promise=dj();I(R)},L=this.#l;switch(L.status){case"pending":e.queryHash===r.queryHash&&I(L);break;case"fulfilled":(M.status==="error"||M.data!==L.value)&&Y();break;case"rejected":(M.status!=="error"||M.error!==L.reason)&&Y();break}}return M}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#i=this.options,this.#r.data!==void 0&&(this.#m=this.#t),Jh(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!this.#h.size)return!0;const l=new Set(s??this.#h);return this.options.throwOnError&&l.add("error"),Object.keys(this.#a).some(c=>{const d=c;return this.#a[d]!==e[d]&&l.has(d)})};this.#N({listeners:r()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Rn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function hU(e,t){return ba(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uP(e,t){return hU(e,t)||e.state.data!==void 0&&fj(e,t,t.refetchOnMount)}function fj(e,t,r){if(ba(t.enabled,e)!==!1&&Ui(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&Ww(e,t)}return!1}function fP(e,t,r,a){return(e!==t||ba(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ww(e,r)}function Ww(e,t){return ba(t.enabled,e)!==!1&&e.isStaleByTime(Ui(t.staleTime,e))}function pU(e,t){return!Jh(e.getCurrentResult(),t)}function mP(e){return{onFetch:(t,r)=>{const a=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let h=!1;const g=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},v=h4(t.options,t.fetchOptions),y=async(N,b,w)=>{if(h)return Promise.reject();if(b==null&&N.pages.length)return Promise.resolve(N);const E=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:b,direction:w?"backward":"forward",meta:t.options.meta};return g(P),P})(),A=await v(E),{maxPages:T}=t.options,k=w?iU:sU;return{pages:k(N.pages,A,T),pageParams:k(N.pageParams,b,T)}};if(s&&l.length){const N=s==="backward",b=N?xU:hP,w={pages:l,pageParams:c},C=b(a,w);d=await y(w,C,N)}else{const N=e??l.length;do{const b=f===0?c[0]??a.initialPageParam:hP(a,d);if(f>0&&b==null)break;d=await y(d,b),f++}while(f<N)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function hP(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function xU(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var gU=class extends v4{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||b4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=g4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",s=!this.#a.canStart();try{if(a)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:s})}const l=await this.#a.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#n.config.onError?.(l,e,this.state.context,this,r),await this.options.onError?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,e,this.state.context,r),l}finally{this.#r({type:"error",error:l})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Rn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function b4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vU=class extends Rc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const a=new gU({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#e.add(e);const t=eh(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=eh(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=eh(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(s=>s.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=eh(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Rn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>iP(t,r))}findAll(e={}){return this.getAll().filter(t=>iP(e,t))}notify(e){Rn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Rn.batch(()=>Promise.all(e.map(t=>t.continue().catch(ur))))}};function eh(e){return e.options.scope?.id}var yU=class extends Rc{#e;#t=void 0;#n;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Jh(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Gl(r.mutationKey)!==Gl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(t,r){return this.#a=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??b4();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Rn.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,a,s),this.#a.onSettled?.(t.data,null,r,a,s)):t?.type==="error"&&(this.#a.onError?.(t.error,r,a,s),this.#a.onSettled?.(void 0,t.error,r,a,s))}this.listeners.forEach(r=>{r(this.#t)})})}},bU=class extends Rc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const a=t.queryKey,s=t.queryHash??Vw(a,t);let l=this.get(s);return l||(l=new fU({client:e,queryKey:a,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Rn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>sP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>sP(e,r)):t}notify(e){Rn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Rn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Rn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},jU=class{#e;#t;#n;#a;#r;#i;#l;#s;constructor(e={}){this.#e=e.queryCache||new bU,this.#t=e.mutationCache||new vU,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Kw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ep.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ui(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(a.queryHash)?.state.data,c=nU(t,l);if(c!==void 0)return this.#e.build(this,a).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return Rn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Rn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Rn.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Rn.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(ur).catch(ur)}invalidateQueries(e,t={}){return Rn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Rn.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let l=s.fetch(void 0,r);return r.throwOnError||(l=l.catch(ur)),s.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Ui(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ur).catch(ur)}fetchInfiniteQuery(e){return e.behavior=mP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ur).catch(ur)}ensureInfiniteQueryData(e){return e.behavior=mP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ep.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(Gl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(a=>{pu(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Gl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(a=>{pu(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qw&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},j4=p.createContext(void 0),w4=e=>{const t=p.useContext(j4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wU=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(j4.Provider,{value:e,children:t})),N4=p.createContext(!1),NU=()=>p.useContext(N4);N4.Provider;function SU(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var CU=p.createContext(SU()),EU=()=>p.useContext(CU),AU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},PU=e=>{p.useEffect(()=>{e.clearReset()},[e])},OU=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||p4(r,[e.error,a])),TU=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>r(a(...s)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},kU=(e,t)=>e.isLoading&&e.isFetching&&!t,_U=(e,t)=>e?.suspense&&t.isPending,pP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function RU(e,t,r){const a=NU(),s=EU(),l=w4(),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=a?"isRestoring":"optimistic",TU(c),AU(c,s),PU(s);const d=!l.getQueryCache().get(c.queryHash),[f]=p.useState(()=>new t(l,c)),m=f.getOptimisticResult(c),h=!a&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(g=>{const v=h?f.subscribe(Rn.batchCalls(g)):ur;return f.updateResult(),v},[f,h]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),p.useEffect(()=>{f.setOptions(c)},[c,f]),_U(c,m))throw pP(c,f,s);if(OU({result:m,errorResetBoundary:s,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!Wl&&kU(m,a)&&(d?pP(c,f,s):l.getQueryCache().get(c.queryHash)?.promise)?.catch(ur).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?m:f.trackResult(m)}function _e(e,t){return RU(e,mU)}function Oe(e,t){const r=w4(),[a]=p.useState(()=>new yU(r,e));p.useEffect(()=>{a.setOptions(e)},[a,e]);const s=p.useSyncExternalStore(p.useCallback(c=>a.subscribe(Rn.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=p.useCallback((c,d)=>{a.mutate(c,d).catch(ur)},[a]);if(s.error&&p4(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}const ou="";async function S4(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ze(e,t,r){const a=t.startsWith("/")?`${ou}${t}`:t,s=await fetch(a,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await S4(s),s}const MU=({on401:e})=>async({queryKey:t})=>{const r=t.join("/"),a=r.startsWith("/")?`${ou}${r}`:r,s=await fetch(a,{credentials:"include"});return await S4(s),await s.json()},Te=new jU({defaultOptions:{queries:{queryFn:MU({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),DU=1,LU=1e6;let r0=0;function IU(){return r0=(r0+1)%Number.MAX_SAFE_INTEGER,r0.toString()}const a0=new Map,xP=e=>{if(a0.has(e))return;const t=setTimeout(()=>{a0.delete(e),cu({type:"REMOVE_TOAST",toastId:e})},LU);a0.set(e,t)},$U=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DU)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?xP(r):e.toasts.forEach(a=>{xP(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Dh=[];let Lh={toasts:[]};function cu(e){Lh=$U(Lh,e),Dh.forEach(t=>{t(Lh)})}function FU({...e}){const t=IU(),r=s=>cu({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>cu({type:"DISMISS_TOAST",toastId:t});return cu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:r}}function fn(){const[e,t]=p.useState(Lh);return p.useEffect(()=>(Dh.push(t),()=>{const r=Dh.indexOf(t);r>-1&&Dh.splice(r,1)}),[e]),{...e,toast:FU,dismiss:r=>cu({type:"DISMISS_TOAST",toastId:r})}}var os=t4();const zU=ls(os);function $e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function gP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yn(...e){return t=>{let r=!1;const a=e.map(s=>{const l=gP(s,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let s=0;s<a.length;s++){const l=a[s];typeof l=="function"?l():gP(e[s],null)}}}}function et(...e){return p.useCallback(yn(...e),e)}function BU(e,t){const r=p.createContext(t),a=l=>{const{children:c,...d}=l,f=p.useMemo(()=>d,Object.values(d));return n.jsx(r.Provider,{value:f,children:c})};a.displayName=e+"Provider";function s(l){const c=p.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,s]}function xr(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c),f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...N}=g,b=v?.[e]?.[f]||d,w=p.useMemo(()=>N,Object.values(N));return n.jsx(b.Provider,{value:w,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,N=p.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,UU(s,...t)]}function UU(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function vP(e){const t=HU(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(qU);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function HU(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=WU(s),d=KU(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VU=Symbol("radix.slottable");function qU(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VU}function KU(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function WU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Xu(e){const t=e+"CollectionProvider",[r,a]=xr(t),[s,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:w,children:C}=b,E=gn.useRef(null),A=gn.useRef(new Map).current;return n.jsx(s,{scope:w,itemMap:A,collectionRef:E,children:C})};c.displayName=t;const d=e+"CollectionSlot",f=vP(d),m=gn.forwardRef((b,w)=>{const{scope:C,children:E}=b,A=l(d,C),T=et(w,A.collectionRef);return n.jsx(f,{ref:T,children:E})});m.displayName=d;const h=e+"CollectionItemSlot",g="data-radix-collection-item",v=vP(h),y=gn.forwardRef((b,w)=>{const{scope:C,children:E,...A}=b,T=gn.useRef(null),k=et(w,T),P=l(h,C);return gn.useEffect(()=>(P.itemMap.set(T,{ref:T,...A}),()=>void P.itemMap.delete(T))),n.jsx(v,{[g]:"",ref:k,children:E})});y.displayName=h;function N(b){const w=l(e+"CollectionConsumer",b);return gn.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const A=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(w.itemMap.values()).sort((P,M)=>A.indexOf(P.ref.current)-A.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:m,ItemSlot:y},N,a]}function GU(e){const t=YU(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(XU);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function YU(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=JU(s),d=ZU(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QU=Symbol("radix.slottable");function XU(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QU}function ZU(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function JU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var e7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],C4=e7.reduce((e,t)=>{const r=GU(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function t7(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}function An(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>t.current?.(...r),[])}function n7(e,t=globalThis?.document){const r=An(e);p.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var r7="DismissableLayer",mj="dismissableLayer.update",a7="dismissableLayer.pointerDownOutside",s7="dismissableLayer.focusOutside",yP,E4=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zu=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,m=p.useContext(E4),[h,g]=p.useState(null),v=h?.ownerDocument??globalThis?.document,[,y]=p.useState({}),N=et(t,M=>g(M)),b=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(w),E=h?b.indexOf(h):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,T=E>=C,k=l7(M=>{const I=M.target,Y=[...m.branches].some(L=>L.contains(I));!T||Y||(s?.(M),c?.(M),M.defaultPrevented||d?.())},v),P=o7(M=>{const I=M.target;[...m.branches].some(L=>L.contains(I))||(l?.(M),c?.(M),M.defaultPrevented||d?.())},v);return n7(M=>{E===m.layers.size-1&&(a?.(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},v),p.useEffect(()=>{if(h)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(yP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),bP(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=yP)}},[h,v,r,m]),p.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),bP())},[h,m]),p.useEffect(()=>{const M=()=>y({});return document.addEventListener(mj,M),()=>document.removeEventListener(mj,M)},[]),n.jsx(C4.div,{...f,ref:N,style:{pointerEvents:A?T?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,P.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,k.onPointerDownCapture)})});Zu.displayName=r7;var i7="DismissableLayerBranch",A4=p.forwardRef((e,t)=>{const r=p.useContext(E4),a=p.useRef(null),s=et(t,a);return p.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),n.jsx(C4.div,{...e,ref:s})});A4.displayName=i7;function l7(e,t=globalThis?.document){const r=An(e),a=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let f=function(){P4(a7,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);a.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function o7(e,t=globalThis?.document){const r=An(e),a=p.useRef(!1);return p.useEffect(()=>{const s=l=>{l.target&&!a.current&&P4(s7,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function bP(){const e=new CustomEvent(mj);document.dispatchEvent(e)}function P4(e,t,r,{discrete:a}){const s=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?t7(s,l):s.dispatchEvent(l)}var c7=Zu,d7=A4;function u7(e){const t=f7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(h7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function f7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=x7(s),d=p7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var m7=Symbol("radix.slottable");function h7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===m7}function p7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function x7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var g7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],v7=g7.reduce((e,t)=>{const r=u7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),dn=globalThis?.document?p.useLayoutEffect:()=>{},y7="Portal",px=p.forwardRef((e,t)=>{const{container:r,...a}=e,[s,l]=p.useState(!1);dn(()=>l(!0),[]);const c=r||s&&globalThis?.document?.body;return c?zU.createPortal(n.jsx(v7.div,{...a,ref:t}),c):null});px.displayName=y7;function b7(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var ta=e=>{const{present:t,children:r}=e,a=j7(t),s=typeof r=="function"?r({present:a.isPresent}):p.Children.only(r),l=et(a.ref,w7(s));return typeof r=="function"||a.isPresent?p.cloneElement(s,{ref:l}):null};ta.displayName="Presence";function j7(e){const[t,r]=p.useState(),a=p.useRef(null),s=p.useRef(e),l=p.useRef("none"),c=e?"mounted":"unmounted",[d,f]=b7(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=th(a.current);l.current=d==="mounted"?m:"none"},[d]),dn(()=>{const m=a.current,h=s.current;if(h!==e){const v=l.current,y=th(m);e?f("MOUNT"):y==="none"||m?.display==="none"?f("UNMOUNT"):f(h&&v!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),dn(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,g=y=>{const b=th(a.current).includes(CSS.escape(y.animationName));if(y.target===t&&b&&(f("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},v=y=>{y.target===t&&(l.current=th(a.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{a.current=m?getComputedStyle(m):null,r(m)},[])}}function th(e){return e?.animationName||"none"}function w7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function N7(e){const t=S7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(E7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function S7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=P7(s),d=A7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var C7=Symbol("radix.slottable");function E7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===C7}function A7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function P7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var O7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mc=O7.reduce((e,t)=>{const r=N7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function T7(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}var k7=Gu[" useInsertionEffect ".trim().toString()]||dn;function Zr({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,l,c]=_7({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:s;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const g=h.current;g!==d&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=d},[d,a])}const m=p.useCallback(h=>{if(d){const g=R7(h)?h(e):h;g!==e&&c.current?.(g)}else l(h)},[d,e,l,c]);return[f,m]}function _7({defaultProp:e,onChange:t}){const[r,a]=p.useState(e),s=p.useRef(r),l=p.useRef(t);return k7(()=>{l.current=t},[t]),p.useEffect(()=>{s.current!==r&&(l.current?.(r),s.current=r)},[r,s]),[r,a,l]}function R7(e){return typeof e=="function"}function M7(e){const t=D7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(I7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function D7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=F7(s),d=$7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L7=Symbol("radix.slottable");function I7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L7}function $7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function F7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var z7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B7=z7.reduce((e,t)=>{const r=M7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),O4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),U7="VisuallyHidden",xx=p.forwardRef((e,t)=>n.jsx(B7.span,{...e,ref:t,style:{...O4,...e.style}}));xx.displayName=U7;var H7=xx,Gw="ToastProvider",[Yw,V7,q7]=Xu("Toast"),[T4]=xr("Toast",[q7]),[K7,gx]=T4(Gw),k4=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:l=50,children:c}=e,[d,f]=p.useState(null),[m,h]=p.useState(0),g=p.useRef(!1),v=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gw}\`. Expected non-empty \`string\`.`),n.jsx(Yw.Provider,{scope:t,children:n.jsx(K7,{scope:t,label:r,duration:a,swipeDirection:s,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:f,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:c})})};k4.displayName=Gw;var _4="ToastViewport",W7=["F8"],hj="toast.viewportPause",pj="toast.viewportResume",R4=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=W7,label:s="Notifications ({hotkey})",...l}=e,c=gx(_4,r),d=V7(r),f=p.useRef(null),m=p.useRef(null),h=p.useRef(null),g=p.useRef(null),v=et(t,g,c.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=c.toastCount>0;p.useEffect(()=>{const w=C=>{a.length!==0&&a.every(A=>C[A]||C.code===A)&&g.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[a]),p.useEffect(()=>{const w=f.current,C=g.current;if(N&&w&&C){const E=()=>{if(!c.isClosePausedRef.current){const P=new CustomEvent(hj);C.dispatchEvent(P),c.isClosePausedRef.current=!0}},A=()=>{if(c.isClosePausedRef.current){const P=new CustomEvent(pj);C.dispatchEvent(P),c.isClosePausedRef.current=!1}},T=P=>{!w.contains(P.relatedTarget)&&A()},k=()=>{w.contains(document.activeElement)||A()};return w.addEventListener("focusin",E),w.addEventListener("focusout",T),w.addEventListener("pointermove",E),w.addEventListener("pointerleave",k),window.addEventListener("blur",E),window.addEventListener("focus",A),()=>{w.removeEventListener("focusin",E),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",E),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",E),window.removeEventListener("focus",A)}}},[N,c.isClosePausedRef]);const b=p.useCallback(({tabbingDirection:w})=>{const E=d().map(A=>{const T=A.ref.current,k=[T,...iH(T)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?E.reverse():E).flat()},[d]);return p.useEffect(()=>{const w=g.current;if(w){const C=E=>{const A=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!A){const k=document.activeElement,P=E.shiftKey;if(E.target===w&&P){m.current?.focus();return}const Y=b({tabbingDirection:P?"backwards":"forwards"}),L=Y.findIndex(R=>R===k);s0(Y.slice(L+1))?E.preventDefault():P?m.current?.focus():h.current?.focus()}};return w.addEventListener("keydown",C),()=>w.removeEventListener("keydown",C)}},[d,b]),n.jsxs(d7,{ref:f,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&n.jsx(xj,{ref:m,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"forwards"});s0(w)}}),n.jsx(Yw.Slot,{scope:r,children:n.jsx(Mc.ol,{tabIndex:-1,...l,ref:v})}),N&&n.jsx(xj,{ref:h,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"backwards"});s0(w)}})]})});R4.displayName=_4;var M4="ToastFocusProxy",xj=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...s}=e,l=gx(M4,r);return n.jsx(xx,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&a()}})});xj.displayName=M4;var Ju="Toast",G7="toast.swipeStart",Y7="toast.swipeMove",Q7="toast.swipeCancel",X7="toast.swipeEnd",D4=p.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:s,onOpenChange:l,...c}=e,[d,f]=Zr({prop:a,defaultProp:s??!0,onChange:l,caller:Ju});return n.jsx(ta,{present:r||d,children:n.jsx(eH,{open:d,...c,ref:t,onClose:()=>f(!1),onPause:An(e.onPause),onResume:An(e.onResume),onSwipeStart:$e(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(e.onSwipeMove,m=>{const{x:h,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:$e(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(e.onSwipeEnd,m=>{const{x:h,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),f(!1)})})})});D4.displayName=Ju;var[Z7,J7]=T4(Ju,{onClose(){}}),eH=p.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:l,onClose:c,onEscapeKeyDown:d,onPause:f,onResume:m,onSwipeStart:h,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:y,...N}=e,b=gx(Ju,r),[w,C]=p.useState(null),E=et(t,K=>C(K)),A=p.useRef(null),T=p.useRef(null),k=s||b.duration,P=p.useRef(0),M=p.useRef(k),I=p.useRef(0),{onToastAdd:Y,onToastRemove:L}=b,R=An(()=>{w?.contains(document.activeElement)&&b.viewport?.focus(),c()}),q=p.useCallback(K=>{!K||K===1/0||(window.clearTimeout(I.current),P.current=new Date().getTime(),I.current=window.setTimeout(R,K))},[R]);p.useEffect(()=>{const K=b.viewport;if(K){const ee=()=>{q(M.current),m?.()},z=()=>{const Z=new Date().getTime()-P.current;M.current=M.current-Z,window.clearTimeout(I.current),f?.()};return K.addEventListener(hj,z),K.addEventListener(pj,ee),()=>{K.removeEventListener(hj,z),K.removeEventListener(pj,ee)}}},[b.viewport,k,f,m,q]),p.useEffect(()=>{l&&!b.isClosePausedRef.current&&q(k)},[l,k,b.isClosePausedRef,q]),p.useEffect(()=>(Y(),()=>L()),[Y,L]);const ve=p.useMemo(()=>w?U4(w):null,[w]);return b.viewport?n.jsxs(n.Fragment,{children:[ve&&n.jsx(tH,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:ve}),n.jsx(Z7,{scope:r,onClose:R,children:os.createPortal(n.jsx(Yw.ItemSlot,{scope:r,children:n.jsx(c7,{asChild:!0,onEscapeKeyDown:$e(d,()=>{b.isFocusedToastEscapeKeyDownRef.current||R(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Mc.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":b.swipeDirection,...N,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:$e(e.onKeyDown,K=>{K.key==="Escape"&&(d?.(K.nativeEvent),K.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:$e(e.onPointerDown,K=>{K.button===0&&(A.current={x:K.clientX,y:K.clientY})}),onPointerMove:$e(e.onPointerMove,K=>{if(!A.current)return;const ee=K.clientX-A.current.x,z=K.clientY-A.current.y,Z=!!T.current,$=["left","right"].includes(b.swipeDirection),de=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,B=$?de(0,ee):0,_=$?0:de(0,z),Q=K.pointerType==="touch"?10:2,fe={x:B,y:_},Ne={originalEvent:K,delta:fe};Z?(T.current=fe,nh(Y7,g,Ne,{discrete:!1})):jP(fe,b.swipeDirection,Q)?(T.current=fe,nh(G7,h,Ne,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(ee)>Q||Math.abs(z)>Q)&&(A.current=null)}),onPointerUp:$e(e.onPointerUp,K=>{const ee=T.current,z=K.target;if(z.hasPointerCapture(K.pointerId)&&z.releasePointerCapture(K.pointerId),T.current=null,A.current=null,ee){const Z=K.currentTarget,$={originalEvent:K,delta:ee};jP(ee,b.swipeDirection,b.swipeThreshold)?nh(X7,y,$,{discrete:!0}):nh(Q7,v,$,{discrete:!0}),Z.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),tH=e=>{const{__scopeToast:t,children:r,...a}=e,s=gx(Ju,t),[l,c]=p.useState(!1),[d,f]=p.useState(!1);return aH(()=>c(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:n.jsx(px,{asChild:!0,children:n.jsx(xx,{...a,children:l&&n.jsxs(n.Fragment,{children:[s.label," ",r]})})})},nH="ToastTitle",L4=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Mc.div,{...a,ref:t})});L4.displayName=nH;var rH="ToastDescription",I4=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Mc.div,{...a,ref:t})});I4.displayName=rH;var $4="ToastAction",F4=p.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?n.jsx(B4,{altText:r,asChild:!0,children:n.jsx(Qw,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$4}\`. Expected non-empty \`string\`.`),null)});F4.displayName=$4;var z4="ToastClose",Qw=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,s=J7(z4,r);return n.jsx(B4,{asChild:!0,children:n.jsx(Mc.button,{type:"button",...a,ref:t,onClick:$e(e.onClick,s.onClose)})})});Qw.displayName=z4;var B4=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...s}=e;return n.jsx(Mc.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function U4(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),sH(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!s)if(l){const c=a.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...U4(a))}}),t}function nh(e,t,r,{discrete:a}){const s=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?T7(s,l):s.dispatchEvent(l)}var jP=(e,t,r=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),l=a>s;return t==="left"||t==="right"?l&&a>r:!l&&s>r};function aH(e=()=>{}){const t=An(e);dn(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function sH(e){return e.nodeType===e.ELEMENT_NODE}function iH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function s0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var lH=k4,H4=R4,V4=D4,q4=L4,K4=I4,W4=F4,G4=Qw;function Y4(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Y4(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function wt(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Y4(e))&&(a&&(a+=" "),a+=t);return a}const wP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,NP=wt,vx=(e,t)=>r=>{var a;if(t?.variants==null)return NP(e,r?.class,r?.className);const{variants:s,defaultVariants:l}=t,c=Object.keys(s).map(m=>{const h=r?.[m],g=l?.[m];if(h===null)return null;const v=wP(h)||wP(g);return s[m][v]}),d=r&&Object.entries(r).reduce((m,h)=>{let[g,v]=h;return v===void 0||(m[g]=v),m},{}),f=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:g,className:v,...y}=h;return Object.entries(y).every(N=>{let[b,w]=N;return Array.isArray(w)?w.includes({...l,...d}[b]):{...l,...d}[b]===w})?[...m,g,v]:m},[]);return NP(e,c,f,r?.class,r?.className)};const oH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),SP=e=>{const t=cH(e);return t.charAt(0).toUpperCase()+t.slice(1)},Q4=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),dH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var uH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fH=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},f)=>p.createElement("svg",{ref:f,...uH,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:Q4("lucide",s),...!l&&!dH(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>p.createElement(m,h)),...Array.isArray(l)?l:[l]]));const Ce=(e,t)=>{const r=p.forwardRef(({className:a,...s},l)=>p.createElement(fH,{ref:l,iconNode:t,className:Q4(`lucide-${oH(SP(e))}`,`lucide-${e}`,a),...s}));return r.displayName=SP(e),r};const mH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tp=Ce("activity",mH);const hH=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],dc=Ce("archive",hH);const pH=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],np=Ce("arrow-down-right",pH);const xH=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],vc=Ce("arrow-left-right",xH);const gH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wi=Ce("arrow-left",gH);const vH=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],rp=Ce("arrow-up-right",vH);const yH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ih=Ce("award",yH);const bH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jH=Ce("book-open",bH);const wH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],zs=Ce("calculator",wH);const NH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xw=Ce("calendar",NH);const SH=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],CH=Ce("cat",SH);const EH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],CP=Ce("chart-column",EH);const AH=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],du=Ce("chart-pie",AH);const PH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X4=Ce("check",PH);const OH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dc=Ce("chevron-down",OH);const TH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ef=Ce("chevron-right",TH);const kH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z4=Ce("chevron-up",kH);const _H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sr=Ce("circle-alert",_H);const RH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wa=Ce("circle-check-big",RH);const MH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],EP=Ce("circle-check",MH);const DH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],LH=Ce("circle-dollar-sign",DH);const IH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Il=Ce("circle-x",IH);const $H=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tf=Ce("clock",$H);const FH=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Tr=Ce("coins",FH);const zH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ap=Ce("copy",zH);const BH=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ws=Ce("crown",BH);const UH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],es=Ce("database",UH);const HH=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],VH=Ce("diamond",HH);const qH=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],J4=Ce("dna",qH);const KH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gi=Ce("dollar-sign",KH);const WH=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],xu=Ce("droplets",WH);const GH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mr=Ce("external-link",GH);const YH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yc=Ce("eye",YH);const QH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Zw=Ce("file-check",QH);const XH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ZH=Ce("file-text",XH);const JH=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],eV=Ce("fish",JH);const tV=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],sp=Ce("flame",tV);const nV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eM=Ce("funnel",nV);const rV=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],nf=Ce("gem",rV);const aV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],AP=Ce("globe",aV);const sV=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],iV=Ce("hammer",sV);const lV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],oV=Ce("history",lV);const cV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dV=Ce("image",cV);const uV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],au=Ce("info",uV);const fV=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],tM=Ce("key",fV);const mV=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],gj=Ce("landmark",mV);const hV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pV=Ce("layout-dashboard",hV);const xV=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],gV=Ce("leaf",xV);const vV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],yV=Ce("link",vV);const bV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Me=Ce("loader-circle",bV);const jV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],wV=Ce("lock-open",jV);const NV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SV=Ce("lock",NV);const CV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EV=Ce("log-out",CV);const AV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],PV=Ce("map-pin",AV);const OV=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],TV=Ce("medal",OV);const kV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_V=Ce("menu",kV);const RV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],MV=Ce("pencil",RV);const DV=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],nM=Ce("percent",DV);const LV=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],rM=Ce("pickaxe",LV);const IV=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Dn=Ce("play",IV);const $V=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yl=Ce("plus",$V);const FV=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],zV=Ce("power",FV);const BV=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],UV=Ce("receipt",BV);const HV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rt=Ce("refresh-cw",HV);const VV=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Jw=Ce("rocket",VV);const qV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gu=Ce("rotate-ccw",qV);const KV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vj=Ce("save",KV);const WV=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],GV=Ce("scale",WV);const YV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gs=Ce("search",YV);const QV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aM=Ce("settings",QV);const XV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ql=Ce("shield",XV);const ZV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],JV=Ce("shopping-cart",ZV);const eq=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rf=Ce("sparkles",eq);const tq=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],vu=Ce("sprout",tq);const nq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yi=Ce("square-pen",nq);const rq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Jr=Ce("square",rq);const aq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],e1=Ce("star",aq);const sq=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],yu=Ce("sword",sq);const iq=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Or=Ce("swords",iq);const lq=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],sM=Ce("tag",lq);const oq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Fa=Ce("target",oq);const cq=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],dq=Ce("timer",cq);const uq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],t1=Ce("trash-2",uq);const fq=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],iM=Ce("trees",fq);const mq=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],bu=Ce("trending-down",mq);const hq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],er=Ce("trending-up",hq);const pq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$l=Ce("triangle-alert",pq);const xq=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Yr=Ce("trophy",xq);const gq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vq=Ce("upload",gq);const yq=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PP=Ce("user-check",yq);const bq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$h=Ce("user",bq);const jq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rr=Ce("users",jq);const wq=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Lc=Ce("wallet",wq);const Nq=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],lM=Ce("wrench",Nq);const Sq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],n1=Ce("x",Sq);const Cq=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lr=Ce("zap",Cq),Eq=(e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r},Aq=(e,t)=>({classGroupId:e,validator:t}),oM=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),ip="-",OP=[],Pq="arbitrary..",Oq=e=>{const t=kq(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Tq(c);const d=c.split(ip),f=d[0]===""&&d.length>1?1:0;return cM(d,f,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=a[c],m=r[c];return f?m?Eq(m,f):f:m||OP}return r[c]||OP}}},cM=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],l=r.nextPart.get(s);if(l){const m=cM(e,t+1,l);if(m)return m}const c=r.validators;if(c===null)return;const d=t===0?e.join(ip):e.slice(t).join(ip),f=c.length;for(let m=0;m<f;m++){const h=c[m];if(h.validator(d))return h.classGroupId}},Tq=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?Pq+a:void 0})(),kq=e=>{const{theme:t,classGroups:r}=e;return _q(r,t)},_q=(e,t)=>{const r=oM();for(const a in e){const s=e[a];r1(s,r,a,t)}return r},r1=(e,t,r,a)=>{const s=e.length;for(let l=0;l<s;l++){const c=e[l];Rq(c,t,r,a)}},Rq=(e,t,r,a)=>{if(typeof e=="string"){Mq(e,t,r);return}if(typeof e=="function"){Dq(e,t,r,a);return}Lq(e,t,r,a)},Mq=(e,t,r)=>{const a=e===""?t:dM(t,e);a.classGroupId=r},Dq=(e,t,r,a)=>{if(Iq(e)){r1(e(a),t,r,a);return}t.validators===null&&(t.validators=[]),t.validators.push(Aq(r,e))},Lq=(e,t,r,a)=>{const s=Object.entries(e),l=s.length;for(let c=0;c<l;c++){const[d,f]=s[c];r1(f,dM(t,d),r,a)}},dM=(e,t)=>{let r=e;const a=t.split(ip),s=a.length;for(let l=0;l<s;l++){const c=a[l];let d=r.nextPart.get(c);d||(d=oM(),r.nextPart.set(c,d)),r=d}return r},Iq=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,$q=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const s=(l,c)=>{r[l]=c,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(l){let c=r[l];if(c!==void 0)return c;if((c=a[l])!==void 0)return s(l,c),c},set(l,c){l in r?r[l]=c:s(l,c)}}},yj="!",TP=":",Fq=[],kP=(e,t,r,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:s}),zq=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const l=[];let c=0,d=0,f=0,m;const h=s.length;for(let b=0;b<h;b++){const w=s[b];if(c===0&&d===0){if(w===TP){l.push(s.slice(f,b)),f=b+1;continue}if(w==="/"){m=b;continue}}w==="["?c++:w==="]"?c--:w==="("?d++:w===")"&&d--}const g=l.length===0?s:s.slice(f);let v=g,y=!1;g.endsWith(yj)?(v=g.slice(0,-1),y=!0):g.startsWith(yj)&&(v=g.slice(1),y=!0);const N=m&&m>f?m-f:void 0;return kP(l,y,v,N)};if(t){const s=t+TP,l=a;a=c=>c.startsWith(s)?l(c.slice(s.length)):kP(Fq,!1,c,void 0,!0)}if(r){const s=a;a=l=>r({className:l,parseClassName:s})}return a},Bq=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{t.set(r,1e6+a)}),r=>{const a=[];let s=[];for(let l=0;l<r.length;l++){const c=r[l],d=c[0]==="[",f=t.has(c);d||f?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(c)):s.push(c)}return s.length>0&&(s.sort(),a.push(...s)),a}},Uq=e=>({cache:$q(e.cacheSize),parseClassName:zq(e),sortModifiers:Bq(e),...Oq(e)}),Hq=/\s+/,Vq=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:l}=t,c=[],d=e.trim().split(Hq);let f="";for(let m=d.length-1;m>=0;m-=1){const h=d[m],{isExternal:g,modifiers:v,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:b}=r(h);if(g){f=h+(f.length>0?" "+f:f);continue}let w=!!b,C=a(w?N.substring(0,b):N);if(!C){if(!w){f=h+(f.length>0?" "+f:f);continue}if(C=a(N),!C){f=h+(f.length>0?" "+f:f);continue}w=!1}const E=v.length===0?"":v.length===1?v[0]:l(v).join(":"),A=y?E+yj:E,T=A+C;if(c.indexOf(T)>-1)continue;c.push(T);const k=s(C,w);for(let P=0;P<k.length;++P){const M=k[P];c.push(A+M)}f=h+(f.length>0?" "+f:f)}return f},qq=(...e)=>{let t=0,r,a,s="";for(;t<e.length;)(r=e[t++])&&(a=uM(r))&&(s&&(s+=" "),s+=a);return s},uM=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=uM(e[a]))&&(r&&(r+=" "),r+=t);return r},Kq=(e,...t)=>{let r,a,s,l;const c=f=>{const m=t.reduce((h,g)=>g(h),e());return r=Uq(m),a=r.cache.get,s=r.cache.set,l=d,d(f)},d=f=>{const m=a(f);if(m)return m;const h=Vq(f,r);return s(f,h),h};return l=c,(...f)=>l(qq(...f))},Wq=[],kn=e=>{const t=r=>r[e]||Wq;return t.isThemeGetter=!0,t},fM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Gq=/^\d+\/\d+$/,Yq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Zq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zo=e=>Gq.test(e),ft=e=>!!e&&!Number.isNaN(Number(e)),Li=e=>!!e&&Number.isInteger(Number(e)),i0=e=>e.endsWith("%")&&ft(e.slice(0,-1)),_s=e=>Yq.test(e),eK=()=>!0,tK=e=>Qq.test(e)&&!Xq.test(e),hM=()=>!1,nK=e=>Zq.test(e),rK=e=>Jq.test(e),aK=e=>!He(e)&&!Ve(e),sK=e=>Ic(e,gM,hM),He=e=>fM.test(e),_l=e=>Ic(e,vM,tK),l0=e=>Ic(e,dK,ft),_P=e=>Ic(e,pM,hM),iK=e=>Ic(e,xM,rK),rh=e=>Ic(e,yM,nK),Ve=e=>mM.test(e),Gd=e=>$c(e,vM),lK=e=>$c(e,uK),RP=e=>$c(e,pM),oK=e=>$c(e,gM),cK=e=>$c(e,xM),ah=e=>$c(e,yM,!0),Ic=(e,t,r)=>{const a=fM.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},$c=(e,t,r=!1)=>{const a=mM.exec(e);return a?a[1]?t(a[1]):r:!1},pM=e=>e==="position"||e==="percentage",xM=e=>e==="image"||e==="url",gM=e=>e==="length"||e==="size"||e==="bg-size",vM=e=>e==="length",dK=e=>e==="number",uK=e=>e==="family-name",yM=e=>e==="shadow",fK=()=>{const e=kn("color"),t=kn("font"),r=kn("text"),a=kn("font-weight"),s=kn("tracking"),l=kn("leading"),c=kn("breakpoint"),d=kn("container"),f=kn("spacing"),m=kn("radius"),h=kn("shadow"),g=kn("inset-shadow"),v=kn("text-shadow"),y=kn("drop-shadow"),N=kn("blur"),b=kn("perspective"),w=kn("aspect"),C=kn("ease"),E=kn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...T(),Ve,He],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],I=()=>[Ve,He,f],Y=()=>[Zo,"full","auto",...I()],L=()=>[Li,"none","subgrid",Ve,He],R=()=>["auto",{span:["full",Li,Ve,He]},Li,Ve,He],q=()=>[Li,"auto",Ve,He],ve=()=>["auto","min","max","fr",Ve,He],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...I()],Z=()=>[Zo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],$=()=>[e,Ve,He],de=()=>[...T(),RP,_P,{position:[Ve,He]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_=()=>["auto","cover","contain",oK,sK,{size:[Ve,He]}],Q=()=>[i0,Gd,_l],fe=()=>["","none","full",m,Ve,He],Ne=()=>["",ft,Gd,_l],re=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[ft,i0,RP,_P],Ke=()=>["","none",N,Ve,He],me=()=>["none",ft,Ve,He],Pe=()=>["none",ft,Ve,He],De=()=>[ft,Ve,He],xe=()=>[Zo,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_s],breakpoint:[_s],color:[eK],container:[_s],"drop-shadow":[_s],ease:["in","out","in-out"],font:[aK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_s],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_s],shadow:[_s],spacing:["px",ft],text:[_s],"text-shadow":[_s],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zo,He,Ve,w]}],container:["container"],columns:[{columns:[ft,He,Ve,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",Ve,He]}],basis:[{basis:[Zo,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Zo,"auto","initial","none",He]}],grow:[{grow:["",ft,Ve,He]}],shrink:[{shrink:["",ft,Ve,He]}],order:[{order:[Li,"first","last","none",Ve,He]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[d,"screen",...Z()]}],"min-w":[{"min-w":[d,"screen","none",...Z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,Gd,_l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ve,l0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",i0,He]}],"font-family":[{font:[lK,He,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ve,He]}],"line-clamp":[{"line-clamp":[ft,"none",Ve,l0]}],leading:[{leading:[l,...I()]}],"list-image":[{"list-image":["none",Ve,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",Ve,_l]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[ft,"auto",Ve,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,Ve,He],radial:["",Ve,He],conic:[Li,Ve,He]},cK,iK]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,Ve,He]}],"outline-w":[{outline:["",ft,Gd,_l]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",h,ah,rh]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,ah,rh]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[ft,_l]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",v,ah,rh]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[ft,Ve,He]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ve,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,He]}],filter:[{filter:["","none",Ve,He]}],blur:[{blur:Ke()}],brightness:[{brightness:[ft,Ve,He]}],contrast:[{contrast:[ft,Ve,He]}],"drop-shadow":[{"drop-shadow":["","none",y,ah,rh]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",ft,Ve,He]}],"hue-rotate":[{"hue-rotate":[ft,Ve,He]}],invert:[{invert:["",ft,Ve,He]}],saturate:[{saturate:[ft,Ve,He]}],sepia:[{sepia:["",ft,Ve,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,He]}],"backdrop-blur":[{"backdrop-blur":Ke()}],"backdrop-brightness":[{"backdrop-brightness":[ft,Ve,He]}],"backdrop-contrast":[{"backdrop-contrast":[ft,Ve,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,Ve,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,Ve,He]}],"backdrop-invert":[{"backdrop-invert":["",ft,Ve,He]}],"backdrop-opacity":[{"backdrop-opacity":[ft,Ve,He]}],"backdrop-saturate":[{"backdrop-saturate":[ft,Ve,He]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,Ve,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",Ve,He]}],ease:[{ease:["linear","initial",C,Ve,He]}],delay:[{delay:[ft,Ve,He]}],animate:[{animate:["none",E,Ve,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ve,He]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[Ve,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,He]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[ft,Gd,_l,l0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mK=Kq(fK);function Re(...e){return mK(wt(e))}const hK=lH,bM=p.forwardRef(({className:e,...t},r)=>n.jsx(H4,{ref:r,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bM.displayName=H4.displayName;const pK=vx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jM=p.forwardRef(({className:e,variant:t,...r},a)=>n.jsx(V4,{ref:a,className:Re(pK({variant:t}),e),...r}));jM.displayName=V4.displayName;const xK=p.forwardRef(({className:e,...t},r)=>n.jsx(W4,{ref:r,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));xK.displayName=W4.displayName;const wM=p.forwardRef(({className:e,...t},r)=>n.jsx(G4,{ref:r,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(n1,{className:"h-4 w-4"})}));wM.displayName=G4.displayName;const NM=p.forwardRef(({className:e,...t},r)=>n.jsx(q4,{ref:r,className:Re("text-sm font-semibold",e),...t}));NM.displayName=q4.displayName;const SM=p.forwardRef(({className:e,...t},r)=>n.jsx(K4,{ref:r,className:Re("text-sm opacity-90",e),...t}));SM.displayName=K4.displayName;function gK(){const{toasts:e}=fn();return n.jsxs(hK,{children:[e.map(function({id:t,title:r,description:a,action:s,...l}){return n.jsxs(jM,{...l,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(NM,{children:r}),a&&n.jsx(SM,{children:a})]}),s,n.jsx(wM,{})]},t)}),n.jsx(bM,{})]})}var vK=Gu[" useId ".trim().toString()]||(()=>{}),yK=0;function Ia(e){const[t,r]=p.useState(vK());return dn(()=>{r(a=>a??String(yK++))},[e]),t?`radix-${t}`:""}const bK=["top","right","bottom","left"],Qi=Math.min,qr=Math.max,lp=Math.round,sh=Math.floor,ts=e=>({x:e,y:e}),jK={left:"right",right:"left",bottom:"top",top:"bottom"},wK={start:"end",end:"start"};function bj(e,t,r){return qr(e,Qi(t,r))}function Ys(e,t){return typeof e=="function"?e(t):e}function Qs(e){return e.split("-")[0]}function Fc(e){return e.split("-")[1]}function a1(e){return e==="x"?"y":"x"}function s1(e){return e==="y"?"height":"width"}const NK=new Set(["top","bottom"]);function Za(e){return NK.has(Qs(e))?"y":"x"}function i1(e){return a1(Za(e))}function SK(e,t,r){r===void 0&&(r=!1);const a=Fc(e),s=i1(e),l=s1(s);let c=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=op(c)),[c,op(c)]}function CK(e){const t=op(e);return[jj(e),t,jj(t)]}function jj(e){return e.replace(/start|end/g,t=>wK[t])}const MP=["left","right"],DP=["right","left"],EK=["top","bottom"],AK=["bottom","top"];function PK(e,t,r){switch(e){case"top":case"bottom":return r?t?DP:MP:t?MP:DP;case"left":case"right":return t?EK:AK;default:return[]}}function OK(e,t,r,a){const s=Fc(e);let l=PK(Qs(e),r==="start",a);return s&&(l=l.map(c=>c+"-"+s),t&&(l=l.concat(l.map(jj)))),l}function op(e){return e.replace(/left|right|bottom|top/g,t=>jK[t])}function TK(e){return{top:0,right:0,bottom:0,left:0,...e}}function CM(e){return typeof e!="number"?TK(e):{top:e,right:e,bottom:e,left:e}}function cp(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function LP(e,t,r){let{reference:a,floating:s}=e;const l=Za(t),c=i1(t),d=s1(c),f=Qs(t),m=l==="y",h=a.x+a.width/2-s.width/2,g=a.y+a.height/2-s.height/2,v=a[d]/2-s[d]/2;let y;switch(f){case"top":y={x:h,y:a.y-s.height};break;case"bottom":y={x:h,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:g};break;case"left":y={x:a.x-s.width,y:g};break;default:y={x:a.x,y:a.y}}switch(Fc(t)){case"start":y[c]-=v*(r&&m?-1:1);break;case"end":y[c]+=v*(r&&m?-1:1);break}return y}const kK=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:g}=LP(m,a,f),v=a,y={},N=0;for(let b=0;b<d.length;b++){const{name:w,fn:C}=d[b],{x:E,y:A,data:T,reset:k}=await C({x:h,y:g,initialPlacement:a,placement:v,strategy:s,middlewareData:y,rects:m,platform:c,elements:{reference:e,floating:t}});h=E??h,g=A??g,y={...y,[w]:{...y[w],...T}},k&&N<=50&&(N++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(m=k.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:h,y:g}=LP(m,v,f)),b=-1)}return{x:h,y:g,placement:v,strategy:s,middlewareData:y}};async function ju(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=Ys(t,e),N=CM(y),w=d[v?g==="floating"?"reference":"floating":g],C=cp(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(w)))==null||r?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:h,strategy:f})),E=g==="floating"?{x:a,y:s,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),T=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},k=cp(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:A,strategy:f}):E);return{top:(C.top-k.top+N.top)/T.y,bottom:(k.bottom-C.bottom+N.bottom)/T.y,left:(C.left-k.left+N.left)/T.x,right:(k.right-C.right+N.right)/T.x}}const _K=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:m,padding:h=0}=Ys(e,t)||{};if(m==null)return{};const g=CM(h),v={x:r,y:a},y=i1(s),N=s1(y),b=await c.getDimensions(m),w=y==="y",C=w?"top":"left",E=w?"bottom":"right",A=w?"clientHeight":"clientWidth",T=l.reference[N]+l.reference[y]-v[y]-l.floating[N],k=v[y]-l.reference[y],P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let M=P?P[A]:0;(!M||!await(c.isElement==null?void 0:c.isElement(P)))&&(M=d.floating[A]||l.floating[N]);const I=T/2-k/2,Y=M/2-b[N]/2-1,L=Qi(g[C],Y),R=Qi(g[E],Y),q=L,ve=M-b[N]-R,K=M/2-b[N]/2+I,ee=bj(q,K,ve),z=!f.arrow&&Fc(s)!=null&&K!==ee&&l.reference[N]/2-(K<q?L:R)-b[N]/2<0,Z=z?K<q?K-q:K-ve:0;return{[y]:v[y]+Z,data:{[y]:ee,centerOffset:K-ee-Z,...z&&{alignmentOffset:Z}},reset:z}}}),RK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...w}=Ys(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=Qs(s),E=Za(d),A=Qs(d)===d,T=await(f.isRTL==null?void 0:f.isRTL(m.floating)),k=v||(A||!b?[op(d)]:CK(d)),P=N!=="none";!v&&P&&k.push(...OK(d,b,N,T));const M=[d,...k],I=await ju(t,w),Y=[];let L=((a=l.flip)==null?void 0:a.overflows)||[];if(h&&Y.push(I[C]),g){const K=SK(s,c,T);Y.push(I[K[0]],I[K[1]])}if(L=[...L,{placement:s,overflows:Y}],!Y.every(K=>K<=0)){var R,q;const K=(((R=l.flip)==null?void 0:R.index)||0)+1,ee=M[K];if(ee&&(!(g==="alignment"?E!==Za(ee):!1)||L.every($=>Za($.placement)===E?$.overflows[0]>0:!0)))return{data:{index:K,overflows:L},reset:{placement:ee}};let z=(q=L.filter(Z=>Z.overflows[0]<=0).sort((Z,$)=>Z.overflows[1]-$.overflows[1])[0])==null?void 0:q.placement;if(!z)switch(y){case"bestFit":{var ve;const Z=(ve=L.filter($=>{if(P){const de=Za($.placement);return de===E||de==="y"}return!0}).map($=>[$.placement,$.overflows.filter(de=>de>0).reduce((de,B)=>de+B,0)]).sort(($,de)=>$[1]-de[1])[0])==null?void 0:ve[0];Z&&(z=Z);break}case"initialPlacement":z=d;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function IP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $P(e){return bK.some(t=>e[t]>=0)}const MK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=Ys(e,t);switch(a){case"referenceHidden":{const l=await ju(t,{...s,elementContext:"reference"}),c=IP(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:$P(c)}}}case"escaped":{const l=await ju(t,{...s,altBoundary:!0}),c=IP(l,r.floating);return{data:{escapedOffsets:c,escaped:$P(c)}}}default:return{}}}}},EM=new Set(["left","top"]);async function DK(e,t){const{placement:r,platform:a,elements:s}=e,l=await(a.isRTL==null?void 0:a.isRTL(s.floating)),c=Qs(r),d=Fc(r),f=Za(r)==="y",m=EM.has(c)?-1:1,h=l&&f?-1:1,g=Ys(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:N}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof N=="number"&&(y=d==="end"?N*-1:N),f?{x:y*h,y:v*m}:{x:v*m,y:y*h}}const LK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:l,placement:c,middlewareData:d}=t,f=await DK(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:s+f.x,y:l+f.y,data:{...f,placement:c}}}}},IK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:w=>{let{x:C,y:E}=w;return{x:C,y:E}}},...f}=Ys(e,t),m={x:r,y:a},h=await ju(t,f),g=Za(Qs(s)),v=a1(g);let y=m[v],N=m[g];if(l){const w=v==="y"?"top":"left",C=v==="y"?"bottom":"right",E=y+h[w],A=y-h[C];y=bj(E,y,A)}if(c){const w=g==="y"?"top":"left",C=g==="y"?"bottom":"right",E=N+h[w],A=N-h[C];N=bj(E,N,A)}const b=d.fn({...t,[v]:y,[g]:N});return{...b,data:{x:b.x-r,y:b.y-a,enabled:{[v]:l,[g]:c}}}}}},$K=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Ys(e,t),h={x:r,y:a},g=Za(s),v=a1(g);let y=h[v],N=h[g];const b=Ys(d,t),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const A=v==="y"?"height":"width",T=l.reference[v]-l.floating[A]+w.mainAxis,k=l.reference[v]+l.reference[A]-w.mainAxis;y<T?y=T:y>k&&(y=k)}if(m){var C,E;const A=v==="y"?"width":"height",T=EM.has(Qs(s)),k=l.reference[g]-l.floating[A]+(T&&((C=c.offset)==null?void 0:C[g])||0)+(T?0:w.crossAxis),P=l.reference[g]+l.reference[A]+(T?0:((E=c.offset)==null?void 0:E[g])||0)-(T?w.crossAxis:0);N<k?N=k:N>P&&(N=P)}return{[v]:y,[g]:N}}}},FK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...m}=Ys(e,t),h=await ju(t,m),g=Qs(s),v=Fc(s),y=Za(s)==="y",{width:N,height:b}=l.floating;let w,C;g==="top"||g==="bottom"?(w=g,C=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(C=g,w=v==="end"?"top":"bottom");const E=b-h.top-h.bottom,A=N-h.left-h.right,T=Qi(b-h[w],E),k=Qi(N-h[C],A),P=!t.middlewareData.shift;let M=T,I=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=A),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(M=E),P&&!v){const L=qr(h.left,0),R=qr(h.right,0),q=qr(h.top,0),ve=qr(h.bottom,0);y?I=N-2*(L!==0||R!==0?L+R:qr(h.left,h.right)):M=b-2*(q!==0||ve!==0?q+ve:qr(h.top,h.bottom))}await f({...t,availableWidth:I,availableHeight:M});const Y=await c.getDimensions(d.floating);return N!==Y.width||b!==Y.height?{reset:{rects:!0}}:{}}}};function yx(){return typeof window<"u"}function zc(e){return AM(e)?(e.nodeName||"").toLowerCase():"#document"}function Qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cs(e){var t;return(t=(AM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AM(e){return yx()?e instanceof Node||e instanceof Qr(e).Node:!1}function za(e){return yx()?e instanceof Element||e instanceof Qr(e).Element:!1}function rs(e){return yx()?e instanceof HTMLElement||e instanceof Qr(e).HTMLElement:!1}function FP(e){return!yx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qr(e).ShadowRoot}const zK=new Set(["inline","contents"]);function af(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Ba(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!zK.has(s)}const BK=new Set(["table","td","th"]);function UK(e){return BK.has(zc(e))}const HK=[":popover-open",":modal"];function bx(e){return HK.some(t=>{try{return e.matches(t)}catch{return!1}})}const VK=["transform","translate","scale","rotate","perspective"],qK=["transform","translate","scale","rotate","perspective","filter"],KK=["paint","layout","strict","content"];function l1(e){const t=o1(),r=za(e)?Ba(e):e;return VK.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||qK.some(a=>(r.willChange||"").includes(a))||KK.some(a=>(r.contain||"").includes(a))}function WK(e){let t=Xi(e);for(;rs(t)&&!bc(t);){if(l1(t))return t;if(bx(t))return null;t=Xi(t)}return null}function o1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GK=new Set(["html","body","#document"]);function bc(e){return GK.has(zc(e))}function Ba(e){return Qr(e).getComputedStyle(e)}function jx(e){return za(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xi(e){if(zc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||FP(e)&&e.host||cs(e);return FP(t)?t.host:t}function PM(e){const t=Xi(e);return bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:rs(t)&&af(t)?t:PM(t)}function wu(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=PM(e),l=s===((a=e.ownerDocument)==null?void 0:a.body),c=Qr(s);if(l){const d=wj(c);return t.concat(c,c.visualViewport||[],af(s)?s:[],d&&r?wu(d):[])}return t.concat(s,wu(s,[],r))}function wj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function OM(e){const t=Ba(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=rs(e),l=s?e.offsetWidth:r,c=s?e.offsetHeight:a,d=lp(r)!==l||lp(a)!==c;return d&&(r=l,a=c),{width:r,height:a,$:d}}function c1(e){return za(e)?e:e.contextElement}function uc(e){const t=c1(e);if(!rs(t))return ts(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:l}=OM(t);let c=(l?lp(r.width):r.width)/a,d=(l?lp(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const YK=ts(0);function TM(e){const t=Qr(e);return!o1()||!t.visualViewport?YK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QK(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qr(e)?!1:t}function Xl(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),l=c1(e);let c=ts(1);t&&(a?za(a)&&(c=uc(a)):c=uc(e));const d=QK(l,r,a)?TM(l):ts(0);let f=(s.left+d.x)/c.x,m=(s.top+d.y)/c.y,h=s.width/c.x,g=s.height/c.y;if(l){const v=Qr(l),y=a&&za(a)?Qr(a):a;let N=v,b=wj(N);for(;b&&a&&y!==N;){const w=uc(b),C=b.getBoundingClientRect(),E=Ba(b),A=C.left+(b.clientLeft+parseFloat(E.paddingLeft))*w.x,T=C.top+(b.clientTop+parseFloat(E.paddingTop))*w.y;f*=w.x,m*=w.y,h*=w.x,g*=w.y,f+=A,m+=T,N=Qr(b),b=wj(N)}}return cp({width:h,height:g,x:f,y:m})}function wx(e,t){const r=jx(e).scrollLeft;return t?t.left+r:Xl(cs(e)).left+r}function kM(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-wx(e,r),s=r.top+t.scrollTop;return{x:a,y:s}}function XK(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const l=s==="fixed",c=cs(a),d=t?bx(t.floating):!1;if(a===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},m=ts(1);const h=ts(0),g=rs(a);if((g||!g&&!l)&&((zc(a)!=="body"||af(c))&&(f=jx(a)),rs(a))){const y=Xl(a);m=uc(a),h.x=y.x+a.clientLeft,h.y=y.y+a.clientTop}const v=c&&!g&&!l?kM(c,f):ts(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+v.x,y:r.y*m.y-f.scrollTop*m.y+h.y+v.y}}function ZK(e){return Array.from(e.getClientRects())}function JK(e){const t=cs(e),r=jx(e),a=e.ownerDocument.body,s=qr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=qr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let c=-r.scrollLeft+wx(e);const d=-r.scrollTop;return Ba(a).direction==="rtl"&&(c+=qr(t.clientWidth,a.clientWidth)-s),{width:s,height:l,x:c,y:d}}const zP=25;function eW(e,t){const r=Qr(e),a=cs(e),s=r.visualViewport;let l=a.clientWidth,c=a.clientHeight,d=0,f=0;if(s){l=s.width,c=s.height;const h=o1();(!h||h&&t==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}const m=wx(a);if(m<=0){const h=a.ownerDocument,g=h.body,v=getComputedStyle(g),y=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,N=Math.abs(a.clientWidth-g.clientWidth-y);N<=zP&&(l-=N)}else m<=zP&&(l+=m);return{width:l,height:c,x:d,y:f}}const tW=new Set(["absolute","fixed"]);function nW(e,t){const r=Xl(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,l=rs(e)?uc(e):ts(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=s*l.x,m=a*l.y;return{width:c,height:d,x:f,y:m}}function BP(e,t,r){let a;if(t==="viewport")a=eW(e,r);else if(t==="document")a=JK(cs(e));else if(za(t))a=nW(t,r);else{const s=TM(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return cp(a)}function _M(e,t){const r=Xi(e);return r===t||!za(r)||bc(r)?!1:Ba(r).position==="fixed"||_M(r,t)}function rW(e,t){const r=t.get(e);if(r)return r;let a=wu(e,[],!1).filter(d=>za(d)&&zc(d)!=="body"),s=null;const l=Ba(e).position==="fixed";let c=l?Xi(e):e;for(;za(c)&&!bc(c);){const d=Ba(c),f=l1(c);!f&&d.position==="fixed"&&(s=null),(l?!f&&!s:!f&&d.position==="static"&&!!s&&tW.has(s.position)||af(c)&&!f&&_M(e,c))?a=a.filter(h=>h!==c):s=d,c=Xi(c)}return t.set(e,a),a}function aW(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const c=[...r==="clippingAncestors"?bx(t)?[]:rW(t,this._c):[].concat(r),a],d=c[0],f=c.reduce((m,h)=>{const g=BP(t,h,s);return m.top=qr(g.top,m.top),m.right=Qi(g.right,m.right),m.bottom=Qi(g.bottom,m.bottom),m.left=qr(g.left,m.left),m},BP(t,d,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function sW(e){const{width:t,height:r}=OM(e);return{width:t,height:r}}function iW(e,t,r){const a=rs(t),s=cs(t),l=r==="fixed",c=Xl(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=ts(0);function m(){f.x=wx(s)}if(a||!a&&!l)if((zc(t)!=="body"||af(s))&&(d=jx(t)),a){const y=Xl(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else s&&m();l&&!a&&s&&m();const h=s&&!a&&!l?kM(s,d):ts(0),g=c.left+d.scrollLeft-f.x-h.x,v=c.top+d.scrollTop-f.y-h.y;return{x:g,y:v,width:c.width,height:c.height}}function o0(e){return Ba(e).position==="static"}function UP(e,t){if(!rs(e)||Ba(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return cs(e)===r&&(r=r.ownerDocument.body),r}function RM(e,t){const r=Qr(e);if(bx(e))return r;if(!rs(e)){let s=Xi(e);for(;s&&!bc(s);){if(za(s)&&!o0(s))return s;s=Xi(s)}return r}let a=UP(e,t);for(;a&&UK(a)&&o0(a);)a=UP(a,t);return a&&bc(a)&&o0(a)&&!l1(a)?r:a||WK(e)||r}const lW=async function(e){const t=this.getOffsetParent||RM,r=this.getDimensions,a=await r(e.floating);return{reference:iW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function oW(e){return Ba(e).direction==="rtl"}const cW={convertOffsetParentRelativeRectToViewportRelativeRect:XK,getDocumentElement:cs,getClippingRect:aW,getOffsetParent:RM,getElementRects:lW,getClientRects:ZK,getDimensions:sW,getScale:uc,isElement:za,isRTL:oW};function MM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dW(e,t){let r=null,a;const s=cs(e);function l(){var d;clearTimeout(a),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:g,width:v,height:y}=m;if(d||t(),!v||!y)return;const N=sh(g),b=sh(s.clientWidth-(h+v)),w=sh(s.clientHeight-(g+y)),C=sh(h),A={rootMargin:-N+"px "+-b+"px "+-w+"px "+-C+"px",threshold:qr(0,Qi(1,f))||1};let T=!0;function k(P){const M=P[0].intersectionRatio;if(M!==f){if(!T)return c();M?c(!1,M):a=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!MM(m,e.getBoundingClientRect())&&c(),T=!1}try{r=new IntersectionObserver(k,{...A,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,A)}r.observe(e)}return c(!0),l}function uW(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=a,m=c1(e),h=s||l?[...m?wu(m):[],...wu(t)]:[];h.forEach(C=>{s&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const g=m&&d?dW(m,r):null;let v=-1,y=null;c&&(y=new ResizeObserver(C=>{let[E]=C;E&&E.target===m&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),r()}),m&&!f&&y.observe(m),y.observe(t));let N,b=f?Xl(e):null;f&&w();function w(){const C=Xl(e);b&&!MM(b,C)&&r(),b=C,N=requestAnimationFrame(w)}return r(),()=>{var C;h.forEach(E=>{s&&E.removeEventListener("scroll",r),l&&E.removeEventListener("resize",r)}),g?.(),(C=y)==null||C.disconnect(),y=null,f&&cancelAnimationFrame(N)}}const fW=LK,mW=IK,hW=RK,pW=FK,xW=MK,HP=_K,gW=$K,vW=(e,t,r)=>{const a=new Map,s={platform:cW,...r},l={...s.platform,_c:a};return kK(e,t,{...s,platform:l})};var yW=typeof document<"u",bW=function(){},Fh=yW?p.useLayoutEffect:bW;function dp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!dp(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const l=s[a];if(!(l==="_owner"&&e.$$typeof)&&!dp(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function DM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function VP(e,t){const r=DM(e);return Math.round(t*r)/r}function c0(e){const t=p.useRef(e);return Fh(()=>{t.current=e}),t}function jW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[h,g]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=p.useState(a);dp(v,a)||y(a);const[N,b]=p.useState(null),[w,C]=p.useState(null),E=p.useCallback($=>{$!==P.current&&(P.current=$,b($))},[]),A=p.useCallback($=>{$!==M.current&&(M.current=$,C($))},[]),T=l||N,k=c||w,P=p.useRef(null),M=p.useRef(null),I=p.useRef(h),Y=f!=null,L=c0(f),R=c0(s),q=c0(m),ve=p.useCallback(()=>{if(!P.current||!M.current)return;const $={placement:t,strategy:r,middleware:v};R.current&&($.platform=R.current),vW(P.current,M.current,$).then(de=>{const B={...de,isPositioned:q.current!==!1};K.current&&!dp(I.current,B)&&(I.current=B,os.flushSync(()=>{g(B)}))})},[v,t,r,R,q]);Fh(()=>{m===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[m]);const K=p.useRef(!1);Fh(()=>(K.current=!0,()=>{K.current=!1}),[]),Fh(()=>{if(T&&(P.current=T),k&&(M.current=k),T&&k){if(L.current)return L.current(T,k,ve);ve()}},[T,k,ve,L,Y]);const ee=p.useMemo(()=>({reference:P,floating:M,setReference:E,setFloating:A}),[E,A]),z=p.useMemo(()=>({reference:T,floating:k}),[T,k]),Z=p.useMemo(()=>{const $={position:r,left:0,top:0};if(!z.floating)return $;const de=VP(z.floating,h.x),B=VP(z.floating,h.y);return d?{...$,transform:"translate("+de+"px, "+B+"px)",...DM(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:de,top:B}},[r,d,z.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:ve,refs:ee,elements:z,floatingStyles:Z}),[h,ve,ee,z,Z])}const wW=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?HP({element:a.current,padding:s}).fn(r):{}:a?HP({element:a,padding:s}).fn(r):{}}}},NW=(e,t)=>({...fW(e),options:[e,t]}),SW=(e,t)=>({...mW(e),options:[e,t]}),CW=(e,t)=>({...gW(e),options:[e,t]}),EW=(e,t)=>({...hW(e),options:[e,t]}),AW=(e,t)=>({...pW(e),options:[e,t]}),PW=(e,t)=>({...xW(e),options:[e,t]}),OW=(e,t)=>({...wW(e),options:[e,t]});function TW(e){const t=kW(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(RW);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function kW(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=DW(s),d=MW(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _W=Symbol("radix.slottable");function RW(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_W}function MW(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function DW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var LW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IW=LW.reduce((e,t)=>{const r=TW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),$W="Arrow",LM=p.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...l}=e;return n.jsx(IW.svg,{...l,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});LM.displayName=$W;var FW=LM;function zW(e){const t=BW(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(HW);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function BW(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=qW(s),d=VW(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UW=Symbol("radix.slottable");function HW(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UW}function VW(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function qW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var KW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IM=KW.reduce((e,t)=>{const r=zW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Nx(e){const[t,r]=p.useState(void 0);return dn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const l=s[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var d1="Popper",[$M,Sx]=xr(d1),[WW,FM]=$M(d1),zM=e=>{const{__scopePopper:t,children:r}=e,[a,s]=p.useState(null);return n.jsx(WW,{scope:t,anchor:a,onAnchorChange:s,children:r})};zM.displayName=d1;var BM="PopperAnchor",UM=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,l=FM(BM,r),c=p.useRef(null),d=et(t,c),f=p.useRef(null);return p.useEffect(()=>{const m=f.current;f.current=a?.current||c.current,m!==f.current&&l.onAnchorChange(f.current)}),a?null:n.jsx(IM.div,{...s,ref:d})});UM.displayName=BM;var u1="PopperContent",[GW,YW]=$M(u1),HM=p.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:N,...b}=e,w=FM(u1,r),[C,E]=p.useState(null),A=et(t,pe=>E(pe)),[T,k]=p.useState(null),P=Nx(T),M=P?.width??0,I=P?.height??0,Y=a+(l!=="center"?"-"+l:""),L=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(m)?m:[m],q=R.length>0,ve={padding:L,boundary:R.filter(XW),altBoundary:q},{refs:K,floatingStyles:ee,placement:z,isPositioned:Z,middlewareData:$}=jW({strategy:"fixed",placement:Y,whileElementsMounted:(...pe)=>uW(...pe,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[NW({mainAxis:s+I,alignmentAxis:c}),f&&SW({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?CW():void 0,...ve}),f&&EW({...ve}),AW({...ve,apply:({elements:pe,rects:Ke,availableWidth:me,availableHeight:Pe})=>{const{width:De,height:xe}=Ke.reference,tt=pe.floating.style;tt.setProperty("--radix-popper-available-width",`${me}px`),tt.setProperty("--radix-popper-available-height",`${Pe}px`),tt.setProperty("--radix-popper-anchor-width",`${De}px`),tt.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),T&&OW({element:T,padding:d}),ZW({arrowWidth:M,arrowHeight:I}),v&&PW({strategy:"referenceHidden",...ve})]}),[de,B]=KM(z),_=An(N);dn(()=>{Z&&_?.()},[Z,_]);const Q=$.arrow?.x,fe=$.arrow?.y,Ne=$.arrow?.centerOffset!==0,[re,Le]=p.useState();return dn(()=>{C&&Le(window.getComputedStyle(C).zIndex)},[C]),n.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Z?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(GW,{scope:r,placedSide:de,onArrowChange:k,arrowX:Q,arrowY:fe,shouldHideArrow:Ne,children:n.jsx(IM.div,{"data-side":de,"data-align":B,...b,ref:A,style:{...b.style,animation:Z?void 0:"none"}})})})});HM.displayName=u1;var VM="PopperArrow",QW={top:"bottom",right:"left",bottom:"top",left:"right"},qM=p.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,l=YW(VM,a),c=QW[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(FW,{...s,ref:r,style:{...s.style,display:"block"}})})});qM.displayName=VM;function XW(e){return e!==null}var ZW=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:s}=t,c=s.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,h]=KM(r),g={start:"0%",center:"50%",end:"100%"}[h],v=(s.arrow?.x??0)+d/2,y=(s.arrow?.y??0)+f/2;let N="",b="";return m==="bottom"?(N=c?g:`${v}px`,b=`${-f}px`):m==="top"?(N=c?g:`${v}px`,b=`${a.floating.height+f}px`):m==="right"?(N=`${-f}px`,b=c?g:`${y}px`):m==="left"&&(N=`${a.floating.width+f}px`,b=c?g:`${y}px`),{data:{x:N,y:b}}}});function KM(e){const[t,r="center"]=e.split("-");return[t,r]}var WM=zM,GM=UM,YM=HM,QM=qM;function JW(e){const t=eG(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(nG);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function eG(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=aG(s),d=rG(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XM=Symbol("radix.slottable");function tG(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=XM,t}function nG(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XM}function rG(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function aG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iG=sG.reduce((e,t)=>{const r=JW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),[Cx]=xr("Tooltip",[Sx]),Ex=Sx(),ZM="TooltipProvider",lG=700,Nj="tooltip.open",[oG,f1]=Cx(ZM),JM=e=>{const{__scopeTooltip:t,delayDuration:r=lG,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:l}=e,c=p.useRef(!0),d=p.useRef(!1),f=p.useRef(0);return p.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),n.jsx(oG,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:p.useCallback(m=>{d.current=m},[]),disableHoverableContent:s,children:l})};JM.displayName=ZM;var Nu="Tooltip",[cG,Ax]=Cx(Nu),eD=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:s,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=e,f=f1(Nu,e.__scopeTooltip),m=Ex(t),[h,g]=p.useState(null),v=Ia(),y=p.useRef(0),N=c??f.disableHoverableContent,b=d??f.delayDuration,w=p.useRef(!1),[C,E]=Zr({prop:a,defaultProp:s??!1,onChange:M=>{M?(f.onOpen(),document.dispatchEvent(new CustomEvent(Nj))):f.onClose(),l?.(M)},caller:Nu}),A=p.useMemo(()=>C?w.current?"delayed-open":"instant-open":"closed",[C]),T=p.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w.current=!1,E(!0)},[E]),k=p.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E(!1)},[E]),P=p.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{w.current=!0,E(!0),y.current=0},b)},[b,E]);return p.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),n.jsx(WM,{...m,children:n.jsx(cG,{scope:t,contentId:v,open:C,stateAttribute:A,trigger:h,onTriggerChange:g,onTriggerEnter:p.useCallback(()=>{f.isOpenDelayedRef.current?P():T()},[f.isOpenDelayedRef,P,T]),onTriggerLeave:p.useCallback(()=>{N?k():(window.clearTimeout(y.current),y.current=0)},[k,N]),onOpen:T,onClose:k,disableHoverableContent:N,children:r})})};eD.displayName=Nu;var Sj="TooltipTrigger",tD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Ax(Sj,r),l=f1(Sj,r),c=Ex(r),d=p.useRef(null),f=et(t,d,s.onTriggerChange),m=p.useRef(!1),h=p.useRef(!1),g=p.useCallback(()=>m.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),n.jsx(GM,{asChild:!0,...c,children:n.jsx(iG.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:f,onPointerMove:$e(e.onPointerMove,v=>{v.pointerType!=="touch"&&!h.current&&!l.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:$e(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:$e(e.onPointerDown,()=>{s.open&&s.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:$e(e.onFocus,()=>{m.current||s.onOpen()}),onBlur:$e(e.onBlur,s.onClose),onClick:$e(e.onClick,s.onClose)})})});tD.displayName=Sj;var dG="TooltipPortal",[wbe,uG]=Cx(dG,{forceMount:void 0}),jc="TooltipContent",nD=p.forwardRef((e,t)=>{const r=uG(jc,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...l}=e,c=Ax(jc,e.__scopeTooltip);return n.jsx(ta,{present:a||c.open,children:c.disableHoverableContent?n.jsx(rD,{side:s,...l,ref:t}):n.jsx(fG,{side:s,...l,ref:t})})}),fG=p.forwardRef((e,t)=>{const r=Ax(jc,e.__scopeTooltip),a=f1(jc,e.__scopeTooltip),s=p.useRef(null),l=et(t,s),[c,d]=p.useState(null),{trigger:f,onClose:m}=r,h=s.current,{onPointerInTransitChange:g}=a,v=p.useCallback(()=>{d(null),g(!1)},[g]),y=p.useCallback((N,b)=>{const w=N.currentTarget,C={x:N.clientX,y:N.clientY},E=gG(C,w.getBoundingClientRect()),A=vG(C,E),T=yG(b.getBoundingClientRect()),k=jG([...A,...T]);d(k),g(!0)},[g]);return p.useEffect(()=>()=>v(),[v]),p.useEffect(()=>{if(f&&h){const N=w=>y(w,h),b=w=>y(w,f);return f.addEventListener("pointerleave",N),h.addEventListener("pointerleave",b),()=>{f.removeEventListener("pointerleave",N),h.removeEventListener("pointerleave",b)}}},[f,h,y,v]),p.useEffect(()=>{if(c){const N=b=>{const w=b.target,C={x:b.clientX,y:b.clientY},E=f?.contains(w)||h?.contains(w),A=!bG(C,c);E?v():A&&(v(),m())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[f,h,c,m,v]),n.jsx(rD,{...e,ref:l})}),[mG,hG]=Cx(Nu,{isInside:!1}),pG=tG("TooltipContent"),rD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=e,f=Ax(jc,r),m=Ex(r),{onClose:h}=f;return p.useEffect(()=>(document.addEventListener(Nj,h),()=>document.removeEventListener(Nj,h)),[h]),p.useEffect(()=>{if(f.trigger){const g=v=>{v.target?.contains(f.trigger)&&h()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,h]),n.jsx(Zu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:h,children:n.jsxs(YM,{"data-state":f.stateAttribute,...m,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(pG,{children:a}),n.jsx(mG,{scope:r,isInside:!0,children:n.jsx(H7,{id:f.contentId,role:"tooltip",children:s||a})})]})})});nD.displayName=jc;var aD="TooltipArrow",xG=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Ex(r);return hG(aD,r).isInside?null:n.jsx(QM,{...s,...a,ref:t})});xG.displayName=aD;function gG(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(r,a,s,l)){case l:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function vG(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function yG(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function bG(e,t){const{x:r,y:a}=e;let s=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],m=d.x,h=d.y,g=f.x,v=f.y;h>a!=v>a&&r<(g-m)*(a-h)/(v-h)+m&&(s=!s)}return s}function jG(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),wG(t)}function wG(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var NG=JM,SG=eD,CG=tD,sD=nD;const iD=NG,uu=SG,fu=CG,fc=p.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(sD,{ref:a,sideOffset:t,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));fc.displayName=sD.displayName;const lD=p.createContext(null);function EG({children:e}){const[t,r]=p.useState(null),[a,s]=p.useState(!0),l=p.useCallback(async()=>{try{const m=await fetch(`${ou}/auth/status`,{credentials:"include"});if(!m.ok){r(null);return}const h=await m.json();h.authenticated&&h.user?r({discordId:h.user.discordId,username:h.user.username,avatar:h.user.avatar,isAdmin:h.user.isAdmin}):r(null)}catch(m){console.error("Auth check failed:",m),r(null)}finally{s(!1)}},[]);p.useEffect(()=>{l()},[l]);const c=p.useCallback(()=>{window.location.href=`${ou}/auth/discord`},[]),d=p.useCallback(async()=>{try{await fetch(`${ou}/auth/logout`,{method:"POST",credentials:"include"})}catch(m){console.error("Logout failed:",m)}finally{r(null),window.location.href="/admin/login"}},[]),f={user:t,isLoading:a,isAuthenticated:!!t,isAdmin:t?.isAdmin??!1,login:c,logout:d,refreshAuth:l};return n.jsx(lD.Provider,{value:f,children:e})}function m1(){const e=p.useContext(lD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function AG({children:e,requireAdmin:t=!0}){const{isLoading:r,isAuthenticated:a,isAdmin:s}=m1();return r?n.jsx("div",{className:"flex items-center justify-center h-screen bg-background","data-testid":"loading-auth",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(Me,{className:"w-8 h-8 animate-spin text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Checking authentication..."})]})}):a?t&&!s?n.jsx("div",{className:"flex items-center justify-center h-screen bg-background","data-testid":"access-denied",children:n.jsxs("div",{className:"text-center space-y-4 p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-destructive",children:"Access Denied"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access the admin dashboard."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact an administrator if you believe this is an error."})]})}):n.jsx(n.Fragment,{children:e}):n.jsx(Z9,{to:"/admin/login"})}var PG=Symbol.for("react.lazy"),up=Gu[" use ".trim().toString()];function OG(e){return typeof e=="object"&&e!==null&&"then"in e}function oD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===PG&&"_payload"in e&&OG(e._payload)}function cD(e){const t=kG(e),r=p.forwardRef((a,s)=>{let{children:l,...c}=a;oD(l)&&typeof up=="function"&&(l=up(l._payload));const d=p.Children.toArray(l),f=d.find(RG);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}var TG=cD("Slot");function kG(e){const t=p.forwardRef((r,a)=>{let{children:s,...l}=r;if(oD(s)&&typeof up=="function"&&(s=up(s._payload)),p.isValidElement(s)){const c=DG(s),d=MG(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _G=Symbol("radix.slottable");function RG(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_G}function MG(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function DG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const h1=vx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),se=p.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},l)=>{const c=a?TG:"button";return n.jsx(c,{className:Re(h1({variant:t,size:r,className:e})),ref:l,...s})});se.displayName="Button";const LG=vx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function W({className:e,variant:t,...r}){return n.jsx("div",{className:Re(LG({variant:t}),e),...r})}function IG(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c);d.displayName=l+"Context";const f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...N}=g,b=v?.[e]?.[f]||d,w=p.useMemo(()=>N,Object.values(N));return n.jsx(b.Provider,{value:w,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,N=p.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,$G(s,...t)]}function $G(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var FG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],co=FG.reduce((e,t)=>{const r=cD(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function zG(){return r4.useSyncExternalStore(BG,()=>!0,()=>!1)}function BG(){return()=>{}}var p1="Avatar",[UG]=IG(p1),[HG,dD]=UG(p1),uD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[s,l]=p.useState("idle");return n.jsx(HG,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:n.jsx(co.span,{...a,ref:t})})});uD.displayName=p1;var fD="AvatarImage",mD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...l}=e,c=dD(fD,r),d=VG(a,l),f=An(m=>{s(m),c.onImageLoadingStatusChange(m)});return dn(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?n.jsx(co.img,{...l,ref:t,src:a}):null});mD.displayName=fD;var hD="AvatarFallback",pD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...s}=e,l=dD(hD,r),[c,d]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const f=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(f)}},[a]),c&&l.imageLoadingStatus!=="loaded"?n.jsx(co.span,{...s,ref:t}):null});pD.displayName=hD;function qP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function VG(e,{referrerPolicy:t,crossOrigin:r}){const a=zG(),s=p.useRef(null),l=a?(s.current||(s.current=new window.Image),s.current):null,[c,d]=p.useState(()=>qP(l,e));return dn(()=>{d(qP(l,e))},[l,e]),dn(()=>{const f=g=>()=>{d(g)};if(!l)return;const m=f("loaded"),h=f("error");return l.addEventListener("load",m),l.addEventListener("error",h),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",h)}},[l,r,t]),c}var xD=uD,gD=mD,vD=pD;const yD=({className:e,...t})=>n.jsx(xD,{className:Re(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t});yD.displayName=xD.displayName;const bD=({className:e,...t})=>n.jsx(gD,{className:Re("aspect-square h-full w-full",e),...t});bD.displayName=gD.displayName;const jD=({className:e,...t})=>n.jsx(vD,{className:Re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t});jD.displayName=vD.displayName;const qG=[{href:"/admin",label:"Dashboard",icon:pV},{href:"/admin/users",label:"Users",icon:Rr},{href:"/admin/value-allocation",label:"Value Allocation",icon:du},{href:"/admin/tokens",label:"Token Registry",icon:Tr},{href:"/admin/pools",label:"Pools",icon:xu},{href:"/admin/pool-indexer",label:"Pool Indexer V2",icon:es},{href:"/admin/pool-indexer-v1",label:"Pool Indexer V1",icon:es},{href:"/admin/pool-indexer-harmony",label:"Pool Indexer Harmony",icon:es},{href:"/admin/jeweler",label:"Jeweler",icon:nf},{href:"/admin/gardening-quest",label:"Gardening Quest",icon:vu},{href:"/admin/gardening-calc",label:"Gardening Calculator",icon:zs},{href:"/admin/battle-ready",label:"Battle-Ready Heroes",icon:Or},{href:"/admin/summoning-calculator",label:"Summoning Calculator",icon:J4},{href:"/admin/summon-sniper",label:"Summon Sniper",icon:Fa},{href:"/admin/pve-droprates",label:"PVE Drop Rates",icon:Or},{href:"/admin/challenges",label:"Challenges",icon:Yr},{href:"/admin/level-racer",label:"Level Racer",icon:Or},{href:"/admin/hedge/combat-sync",label:"Hedge: Combat Sync",icon:rt},{href:"/admin/hedge/plans",label:"Hedge: Plans & Access",icon:Ws},{href:"/admin/expenses",label:"Expenses",icon:UV},{href:"/admin/bridge",label:"Bridge",icon:vc},{href:"/admin/extractors",label:"Extractors",icon:bu},{href:"/admin/settings",label:"Settings",icon:aM}];function KG({children:e}){const{user:t,logout:r}=m1(),[a]=Ha(),[s,l]=p.useState(!1),{data:c}=_e({queryKey:["/api/admin/environment"],staleTime:1/0}),d=t?.avatar?`https://cdn.discordapp.com/avatars/${t.discordId}/${t.avatar}.png`:null,f=()=>{l(!1)};return n.jsxs("div",{className:"flex h-screen w-full bg-background","data-testid":"admin-layout",children:[s&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),n.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 border-r bg-card flex flex-col
        transform transition-transform duration-200 ease-in-out
        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-primary-foreground font-bold text-sm",children:"HL"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"font-semibold text-sm",children:"Hedge Ledger"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin"}),c&&n.jsx(W,{variant:c.isProduction?"default":"secondary",className:"text-[10px] px-1 py-0","data-testid":"badge-environment",children:c.isProduction?"PROD":"DEV"})]})]}),n.jsx(se,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",onClick:()=>l(!1),"data-testid":"button-close-sidebar",children:n.jsx(n1,{className:"h-4 w-4"})})]})}),n.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:qG.map(m=>{const h=a===m.href||m.href!=="/admin"&&a.startsWith(m.href),g=m.icon;return n.jsx(Kl,{href:m.href,onClick:f,children:n.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer ${h?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,"data-testid":`nav-${m.label.toLowerCase()}`,children:[n.jsx(g,{className:"w-4 h-4"}),n.jsx("span",{children:m.label}),h&&n.jsx(ef,{className:"w-4 h-4 ml-auto"})]})},m.href)})}),n.jsx("div",{className:"p-3 border-t",children:n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-accent/50",children:[n.jsxs(yD,{className:"w-8 h-8",children:[d&&n.jsx(bD,{src:d,alt:t?.username}),n.jsx(jD,{className:"text-xs",children:t?.username?.charAt(0).toUpperCase()||"?"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate","data-testid":"user-username",children:t?.username}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin"})]}),n.jsx(se,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8","data-testid":"button-logout",children:n.jsx(EV,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("header",{className:"lg:hidden flex items-center gap-3 p-3 border-b bg-card",children:[n.jsx(se,{variant:"ghost",size:"icon",onClick:()=>l(!0),"data-testid":"button-open-sidebar",children:n.jsx(_V,{className:"h-5 w-5"})}),n.jsx("span",{className:"font-semibold",children:"Hedge Ledger"}),c&&n.jsx(W,{variant:c.isProduction?"default":"secondary",className:"text-[10px] px-1 py-0",children:c.isProduction?"PROD":"DEV"})]}),n.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}const X=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Re("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));X.displayName="Card";const ie=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Re("flex flex-col space-y-1.5 p-6",e),...t}));ie.displayName="CardHeader";const le=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Re("text-2xl font-semibold leading-none tracking-tight",e),...t}));le.displayName="CardTitle";const Se=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));Se.displayName="CardDescription";const te=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Re("p-6 pt-0",e),...t}));te.displayName="CardContent";const WG=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Re("flex items-center p-6 pt-0",e),...t}));WG.displayName="CardFooter";function GG(){const{isLoading:e,isAuthenticated:t,isAdmin:r,login:a}=m1(),[,s]=Ha();return p.useEffect(()=>{!e&&t&&r&&s("/admin")},[e,t,r,s]),e?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:n.jsx(Me,{className:"w-8 h-8 animate-spin text-white"})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4","data-testid":"admin-login-page",children:n.jsxs(X,{className:"w-full max-w-md",children:[n.jsxs(ie,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:n.jsx("span",{className:"text-2xl font-bold text-white",children:"HL"})}),n.jsxs("div",{children:[n.jsx(le,{className:"text-2xl",children:"Hedge Ledger Admin"}),n.jsx(Se,{className:"mt-2",children:"Sign in with Discord to access the admin dashboard"})]})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs(se,{onClick:a,className:"w-full h-12 text-base gap-3 bg-[#5865F2] hover:bg-[#4752C4]","data-testid":"button-discord-login",children:[n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),"Sign in with Discord"]}),n.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Only authorized Discord accounts can access the admin area."})]})]})})}function Ae({className:e,...t}){return n.jsx("div",{className:Re("animate-pulse rounded-md bg-muted",e),...t})}function YG(){const{data:e,isLoading:t}=_e({queryKey:["/api/analytics/overview"]}),{data:r,isLoading:a}=_e({queryKey:["/api/admin/hedge-wallet"],refetchInterval:6e4});return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-dashboard",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Overview of Hedge Ledger activity and metrics"})]}),n.jsxs(X,{className:"border-primary/20 bg-primary/5",children:[n.jsx(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:n.jsxs("div",{children:[n.jsxs(le,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Lc,{className:"h-5 w-5"}),"Hedge Wallet"]}),n.jsx(Se,{className:"font-mono text-xs",children:r?.wallet||"Loading..."})]})}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-wrap gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"JEWEL"}),a?n.jsx(Ae,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"stat-hedge-jewel",children:parseFloat(r?.balances?.jewel||"0").toFixed(4)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"CRYSTAL"}),a?n.jsx(Ae,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-blue-500","data-testid":"stat-hedge-crystal",children:parseFloat(r?.balances?.crystal||"0").toFixed(4)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"cJEWEL (Staked)"}),a?n.jsx(Ae,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"stat-hedge-cjewel",children:parseFloat(r?.balances?.cjewel||"0").toFixed(4)})]})]})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Players"}),n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:t?n.jsx(Ae,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-players",children:e?.players.total??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.players.withBalance??0," with active balances"]})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"JEWEL Deposits"}),n.jsx(tp,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:t?n.jsx(Ae,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-jewel",children:parseFloat(e?.deposits.totalJewel??"0").toFixed(2)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.deposits.completed??0," completed deposits"]})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Revenue"}),n.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:t?n.jsx(Ae,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"stat-total-revenue",children:["$",parseFloat(e?.revenue.totalRevenue??"0").toFixed(2)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Profit: $",parseFloat(e?.revenue.totalProfit??"0").toFixed(2)]})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Queries"}),n.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:t?n.jsx(Ae,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-queries",children:e?.revenue.totalQueries??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.revenue.paidQueries??0," paid queries"]})]})})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Recent Activity"}),n.jsx(Se,{children:"Latest player interactions and system events"})]}),n.jsx(te,{children:n.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity feed will be displayed here. Navigate to Users to manage player profiles."})})]})]})}const Xe=p.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:Re("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));Xe.displayName="Input";function Su(e,[t,r]){return Math.min(r,Math.max(t,e))}var QG=p.createContext(void 0);function Bc(e){const t=p.useContext(QG);return e||t||"ltr"}var d0=0;function wD(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KP()),document.body.insertAdjacentElement("beforeend",e[1]??KP()),d0++,()=>{d0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),d0--}},[])}function KP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function XG(e){const t=ZG(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(eY);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function ZG(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=nY(s),d=tY(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JG=Symbol("radix.slottable");function eY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JG}function tY(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function nY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aY=rY.reduce((e,t)=>{const r=XG(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),u0="focusScope.autoFocusOnMount",f0="focusScope.autoFocusOnUnmount",WP={bubbles:!1,cancelable:!0},sY="FocusScope",x1=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...c}=e,[d,f]=p.useState(null),m=An(s),h=An(l),g=p.useRef(null),v=et(t,b=>f(b)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let b=function(A){if(y.paused||!d)return;const T=A.target;d.contains(T)?g.current=T:Ii(g.current,{select:!0})},w=function(A){if(y.paused||!d)return;const T=A.relatedTarget;T!==null&&(d.contains(T)||Ii(g.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const k of A)k.removedNodes.length>0&&Ii(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const E=new MutationObserver(C);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),E.disconnect()}}},[a,d,y.paused]),p.useEffect(()=>{if(d){YP.add(y);const b=document.activeElement;if(!d.contains(b)){const C=new CustomEvent(u0,WP);d.addEventListener(u0,m),d.dispatchEvent(C),C.defaultPrevented||(iY(uY(ND(d)),{select:!0}),document.activeElement===b&&Ii(d))}return()=>{d.removeEventListener(u0,m),setTimeout(()=>{const C=new CustomEvent(f0,WP);d.addEventListener(f0,h),d.dispatchEvent(C),C.defaultPrevented||Ii(b??document.body,{select:!0}),d.removeEventListener(f0,h),YP.remove(y)},0)}}},[d,m,h,y]);const N=p.useCallback(b=>{if(!r&&!a||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(w&&C){const E=b.currentTarget,[A,T]=lY(E);A&&T?!b.shiftKey&&C===T?(b.preventDefault(),r&&Ii(A,{select:!0})):b.shiftKey&&C===A&&(b.preventDefault(),r&&Ii(T,{select:!0})):C===E&&b.preventDefault()}},[r,a,y.paused]);return n.jsx(aY.div,{tabIndex:-1,...c,ref:v,onKeyDown:N})});x1.displayName=sY;function iY(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Ii(a,{select:t}),document.activeElement!==r)return}function lY(e){const t=ND(e),r=GP(t,e),a=GP(t.reverse(),e);return[r,a]}function ND(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function GP(e,t){for(const r of e)if(!oY(r,{upTo:t}))return r}function oY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cY(e){return e instanceof HTMLInputElement&&"select"in e}function Ii(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&cY(e)&&t&&e.select()}}var YP=dY();function dY(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=QP(e,t),e.unshift(t)},remove(t){e=QP(e,t),e[0]?.resume()}}}function QP(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function uY(e){return e.filter(t=>t.tagName!=="A")}function SD(e){const t=fY(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(hY);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function fY(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=xY(s),d=pY(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mY=Symbol("radix.slottable");function hY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mY}function pY(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function xY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],na=gY.reduce((e,t)=>{const r=SD(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Px(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var vY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jo=new WeakMap,ih=new WeakMap,lh={},m0=0,CD=function(e){return e&&(e.host||CD(e.parentNode))},yY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=CD(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},bY=function(e,t,r,a){var s=yY(t,Array.isArray(e)?e:[e]);lh[r]||(lh[r]=new WeakMap);var l=lh[r],c=[],d=new Set,f=new Set(s),m=function(g){!g||d.has(g)||(d.add(g),m(g.parentNode))};s.forEach(m);var h=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(v){if(d.has(v))h(v);else try{var y=v.getAttribute(a),N=y!==null&&y!=="false",b=(Jo.get(v)||0)+1,w=(l.get(v)||0)+1;Jo.set(v,b),l.set(v,w),c.push(v),b===1&&N&&ih.set(v,!0),w===1&&v.setAttribute(r,"true"),N||v.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return h(t),d.clear(),m0++,function(){c.forEach(function(g){var v=Jo.get(g)-1,y=l.get(g)-1;Jo.set(g,v),l.set(g,y),v||(ih.has(g)||g.removeAttribute(a),ih.delete(g)),y||g.removeAttribute(r)}),m0--,m0||(Jo=new WeakMap,Jo=new WeakMap,ih=new WeakMap,lh={})}},ED=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=vY(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),bY(a,s,r,"aria-hidden")):function(){return null}},Xa=function(){return Xa=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Xa.apply(this,arguments)};function AD(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function jY(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,l;a<s;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}var zh="right-scroll-bar-position",Bh="width-before-scroll-bar",wY="with-scroll-bars-hidden",NY="--removed-body-scroll-bar-size";function h0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function SY(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var CY=typeof window<"u"?p.useLayoutEffect:p.useEffect,XP=new WeakMap;function EY(e,t){var r=SY(null,function(a){return e.forEach(function(s){return h0(s,a)})});return CY(function(){var a=XP.get(r);if(a){var s=new Set(a),l=new Set(e),c=r.current;s.forEach(function(d){l.has(d)||h0(d,null)}),l.forEach(function(d){s.has(d)||h0(d,c)})}XP.set(r,e)},[e]),r}function AY(e){return e}function PY(e,t){t===void 0&&(t=AY);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,a);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(a=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){a=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var h=c;c=[],h.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),r={push:function(h){c.push(h),m()},filter:function(h){return c=c.filter(h),r}}}};return s}function OY(e){e===void 0&&(e={});var t=PY(null);return t.options=Xa({async:!0,ssr:!1},e),t}var PD=function(e){var t=e.sideCar,r=AD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Xa({},r))};PD.isSideCarExport=!0;function TY(e,t){return e.useMedium(t),PD}var OD=OY(),p0=function(){},Ox=p.forwardRef(function(e,t){var r=p.useRef(null),a=p.useState({onScrollCapture:p0,onWheelCapture:p0,onTouchMoveCapture:p0}),s=a[0],l=a[1],c=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,h=e.enabled,g=e.shards,v=e.sideCar,y=e.noRelative,N=e.noIsolation,b=e.inert,w=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,A=e.gapMode,T=AD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,P=EY([r,t]),M=Xa(Xa({},T),s);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:OD,removeScrollBar:m,shards:g,noRelative:y,noIsolation:N,inert:b,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:A}),c?p.cloneElement(p.Children.only(d),Xa(Xa({},M),{ref:P})):p.createElement(E,Xa({},M,{className:f,ref:P}),d))});Ox.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ox.classNames={fullWidth:Bh,zeroRight:zh};var kY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _Y(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kY();return t&&e.setAttribute("nonce",t),e}function RY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function MY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var DY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=_Y())&&(RY(t,r),MY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LY=function(){var e=DY();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},TD=function(){var e=LY(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},IY={left:0,top:0,right:0,gap:0},x0=function(e){return parseInt(e||"",10)||0},$Y=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[x0(r),x0(a),x0(s)]},FY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return IY;var t=$Y(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},zY=TD(),mc="data-scroll-locked",BY=function(e,t,r,a){var s=e.left,l=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(wY,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(mc,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zh,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Bh,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(zh," .").concat(zh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Bh," .").concat(Bh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(mc,`] {
    `).concat(NY,": ").concat(d,`px;
  }
`)},ZP=function(){var e=parseInt(document.body.getAttribute(mc)||"0",10);return isFinite(e)?e:0},UY=function(){p.useEffect(function(){return document.body.setAttribute(mc,(ZP()+1).toString()),function(){var e=ZP()-1;e<=0?document.body.removeAttribute(mc):document.body.setAttribute(mc,e.toString())}},[])},HY=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;UY();var l=p.useMemo(function(){return FY(s)},[s]);return p.createElement(zY,{styles:BY(l,!t,s,r?"":"!important")})},Cj=!1;if(typeof window<"u")try{var oh=Object.defineProperty({},"passive",{get:function(){return Cj=!0,!0}});window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{Cj=!1}var ec=Cj?{passive:!1}:!1,VY=function(e){return e.tagName==="TEXTAREA"},kD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!VY(e)&&r[t]==="visible")},qY=function(e){return kD(e,"overflowY")},KY=function(e){return kD(e,"overflowX")},JP=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=_D(e,a);if(s){var l=RD(e,a),c=l[1],d=l[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},WY=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},GY=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},_D=function(e,t){return e==="v"?qY(t):KY(t)},RD=function(e,t){return e==="v"?WY(t):GY(t)},YY=function(e,t){return e==="h"&&t==="rtl"?-1:1},QY=function(e,t,r,a,s){var l=YY(e,window.getComputedStyle(t).direction),c=l*a,d=r.target,f=t.contains(d),m=!1,h=c>0,g=0,v=0;do{if(!d)break;var y=RD(e,d),N=y[0],b=y[1],w=y[2],C=b-w-l*N;(N||C)&&_D(e,d)&&(g+=C,v+=N);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(h&&Math.abs(g)<1||!h&&Math.abs(v)<1)&&(m=!0),m},ch=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eO=function(e){return[e.deltaX,e.deltaY]},tO=function(e){return e&&"current"in e?e.current:e},XY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},JY=0,tc=[];function eQ(e){var t=p.useRef([]),r=p.useRef([0,0]),a=p.useRef(),s=p.useState(JY++)[0],l=p.useState(TD)[0],c=p.useRef(e);p.useEffect(function(){c.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var b=jY([e.lockRef.current],(e.shards||[]).map(tO),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var C=ch(b),E=r.current,A="deltaX"in b?b.deltaX:E[0]-C[0],T="deltaY"in b?b.deltaY:E[1]-C[1],k,P=b.target,M=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in b&&M==="h"&&P.type==="range")return!1;var I=JP(M,P);if(!I)return!0;if(I?k=M:(k=M==="v"?"h":"v",I=JP(M,P)),!I)return!1;if(!a.current&&"changedTouches"in b&&(A||T)&&(a.current=k),!k)return!0;var Y=a.current||k;return QY(Y,w,b,Y==="h"?A:T)},[]),f=p.useCallback(function(b){var w=b;if(!(!tc.length||tc[tc.length-1]!==l)){var C="deltaY"in w?eO(w):ch(w),E=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&XY(k.delta,C)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var A=(c.current.shards||[]).map(tO).filter(Boolean).filter(function(k){return k.contains(w.target)}),T=A.length>0?d(w,A[0]):!c.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),m=p.useCallback(function(b,w,C,E){var A={name:b,delta:w,target:C,should:E,shadowParent:tQ(C)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(T){return T!==A})},1)},[]),h=p.useCallback(function(b){r.current=ch(b),a.current=void 0},[]),g=p.useCallback(function(b){m(b.type,eO(b),b.target,d(b,e.lockRef.current))},[]),v=p.useCallback(function(b){m(b.type,ch(b),b.target,d(b,e.lockRef.current))},[]);p.useEffect(function(){return tc.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",f,ec),document.addEventListener("touchmove",f,ec),document.addEventListener("touchstart",h,ec),function(){tc=tc.filter(function(b){return b!==l}),document.removeEventListener("wheel",f,ec),document.removeEventListener("touchmove",f,ec),document.removeEventListener("touchstart",h,ec)}},[]);var y=e.removeScrollBar,N=e.inert;return p.createElement(p.Fragment,null,N?p.createElement(l,{styles:ZY(s)}):null,y?p.createElement(HY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function tQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nQ=TY(OD,eQ);var g1=p.forwardRef(function(e,t){return p.createElement(Ox,Xa({},e,{ref:t,sideCar:nQ}))});g1.classNames=Ox.classNames;var rQ=[" ","Enter","ArrowUp","ArrowDown"],aQ=[" ","Enter"],Zl="Select",[Tx,kx,sQ]=Xu(Zl),[Uc]=xr(Zl,[sQ,Sx]),_x=Sx(),[iQ,sl]=Uc(Zl),[lQ,oQ]=Uc(Zl),MD=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:m,name:h,autoComplete:g,disabled:v,required:y,form:N}=e,b=_x(t),[w,C]=p.useState(null),[E,A]=p.useState(null),[T,k]=p.useState(!1),P=Bc(m),[M,I]=Zr({prop:a,defaultProp:s??!1,onChange:l,caller:Zl}),[Y,L]=Zr({prop:c,defaultProp:d,onChange:f,caller:Zl}),R=p.useRef(null),q=w?N||!!w.closest("form"):!0,[ve,K]=p.useState(new Set),ee=Array.from(ve).map(z=>z.props.value).join(";");return n.jsx(WM,{...b,children:n.jsxs(iQ,{required:y,scope:t,trigger:w,onTriggerChange:C,valueNode:E,onValueNodeChange:A,valueNodeHasChildren:T,onValueNodeHasChildrenChange:k,contentId:Ia(),value:Y,onValueChange:L,open:M,onOpenChange:I,dir:P,triggerPointerDownPosRef:R,disabled:v,children:[n.jsx(Tx.Provider,{scope:t,children:n.jsx(lQ,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{K(Z=>new Set(Z).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{K(Z=>{const $=new Set(Z);return $.delete(z),$})},[]),children:r})}),q?n.jsxs(a5,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:g,value:Y,onChange:z=>L(z.target.value),disabled:v,form:N,children:[Y===void 0?n.jsx("option",{value:""}):null,Array.from(ve)]},ee):null]})})};MD.displayName=Zl;var DD="SelectTrigger",LD=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,l=_x(r),c=sl(DD,r),d=c.disabled||a,f=et(t,c.onTriggerChange),m=kx(r),h=p.useRef("touch"),[g,v,y]=i5(b=>{const w=m().filter(A=>!A.disabled),C=w.find(A=>A.value===c.value),E=l5(w,b,C);E!==void 0&&c.onValueChange(E.value)}),N=b=>{d||(c.onOpenChange(!0),y()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return n.jsx(GM,{asChild:!0,...l,children:n.jsx(na.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":s5(c.value)?"":void 0,...s,ref:f,onClick:$e(s.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&N(b)}),onPointerDown:$e(s.onPointerDown,b=>{h.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:$e(s.onKeyDown,b=>{const w=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(w&&b.key===" ")&&rQ.includes(b.key)&&(N(),b.preventDefault())})})})});LD.displayName=DD;var ID="SelectValue",$D=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:l,placeholder:c="",...d}=e,f=sl(ID,r),{onValueNodeHasChildrenChange:m}=f,h=l!==void 0,g=et(t,f.onValueNodeChange);return dn(()=>{m(h)},[m,h]),n.jsx(na.span,{...d,ref:g,style:{pointerEvents:"none"},children:s5(f.value)?n.jsx(n.Fragment,{children:c}):l})});$D.displayName=ID;var cQ="SelectIcon",FD=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(na.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});FD.displayName=cQ;var dQ="SelectPortal",zD=e=>n.jsx(px,{asChild:!0,...e});zD.displayName=dQ;var Jl="SelectContent",BD=p.forwardRef((e,t)=>{const r=sl(Jl,e.__scopeSelect),[a,s]=p.useState();if(dn(()=>{s(new DocumentFragment)},[]),!r.open){const l=a;return l?os.createPortal(n.jsx(UD,{scope:e.__scopeSelect,children:n.jsx(Tx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),l):null}return n.jsx(HD,{...e,ref:t})});BD.displayName=Jl;var Ra=10,[UD,il]=Uc(Jl),uQ="SelectContentImpl",fQ=SD("SelectContent.RemoveScroll"),HD=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:N,hideWhenDetached:b,avoidCollisions:w,...C}=e,E=sl(Jl,r),[A,T]=p.useState(null),[k,P]=p.useState(null),M=et(t,pe=>T(pe)),[I,Y]=p.useState(null),[L,R]=p.useState(null),q=kx(r),[ve,K]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(A)return ED(A)},[A]),wD();const z=p.useCallback(pe=>{const[Ke,...me]=q().map(xe=>xe.ref.current),[Pe]=me.slice(-1),De=document.activeElement;for(const xe of pe)if(xe===De||(xe?.scrollIntoView({block:"nearest"}),xe===Ke&&k&&(k.scrollTop=0),xe===Pe&&k&&(k.scrollTop=k.scrollHeight),xe?.focus(),document.activeElement!==De))return},[q,k]),Z=p.useCallback(()=>z([I,A]),[z,I,A]);p.useEffect(()=>{ve&&Z()},[ve,Z]);const{onOpenChange:$,triggerPointerDownPosRef:de}=E;p.useEffect(()=>{if(A){let pe={x:0,y:0};const Ke=Pe=>{pe={x:Math.abs(Math.round(Pe.pageX)-(de.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(de.current?.y??0))}},me=Pe=>{pe.x<=10&&pe.y<=10?Pe.preventDefault():A.contains(Pe.target)||$(!1),document.removeEventListener("pointermove",Ke),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",Ke),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ke),document.removeEventListener("pointerup",me,{capture:!0})}}},[A,$,de]),p.useEffect(()=>{const pe=()=>$(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[$]);const[B,_]=i5(pe=>{const Ke=q().filter(De=>!De.disabled),me=Ke.find(De=>De.ref.current===document.activeElement),Pe=l5(Ke,pe,me);Pe&&setTimeout(()=>Pe.ref.current.focus())}),Q=p.useCallback((pe,Ke,me)=>{const Pe=!ee.current&&!me;(E.value!==void 0&&E.value===Ke||Pe)&&(Y(pe),Pe&&(ee.current=!0))},[E.value]),fe=p.useCallback(()=>A?.focus(),[A]),Ne=p.useCallback((pe,Ke,me)=>{const Pe=!ee.current&&!me;(E.value!==void 0&&E.value===Ke||Pe)&&R(pe)},[E.value]),re=a==="popper"?Ej:VD,Le=re===Ej?{side:d,sideOffset:f,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:N,hideWhenDetached:b,avoidCollisions:w}:{};return n.jsx(UD,{scope:r,content:A,viewport:k,onViewportChange:P,itemRefCallback:Q,selectedItem:I,onItemLeave:fe,itemTextRefCallback:Ne,focusSelectedItem:Z,selectedItemText:L,position:a,isPositioned:ve,searchRef:B,children:n.jsx(g1,{as:fQ,allowPinchZoom:!0,children:n.jsx(x1,{asChild:!0,trapped:E.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:$e(s,pe=>{E.trigger?.focus({preventScroll:!0}),pe.preventDefault()}),children:n.jsx(Zu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:n.jsx(re,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:pe=>pe.preventDefault(),...C,...Le,onPlaced:()=>K(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:$e(C.onKeyDown,pe=>{const Ke=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ke&&pe.key.length===1&&_(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Pe=q().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const De=pe.target,xe=Pe.indexOf(De);Pe=Pe.slice(xe+1)}setTimeout(()=>z(Pe)),pe.preventDefault()}})})})})})})});HD.displayName=uQ;var mQ="SelectItemAlignedPosition",VD=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,l=sl(Jl,r),c=il(Jl,r),[d,f]=p.useState(null),[m,h]=p.useState(null),g=et(t,M=>h(M)),v=kx(r),y=p.useRef(!1),N=p.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:C,focusSelectedItem:E}=c,A=p.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&b&&w&&C){const M=l.trigger.getBoundingClientRect(),I=m.getBoundingClientRect(),Y=l.valueNode.getBoundingClientRect(),L=C.getBoundingClientRect();if(l.dir!=="rtl"){const De=L.left-I.left,xe=Y.left-De,tt=M.left-xe,Ge=M.width+tt,Lt=Math.max(Ge,I.width),kt=window.innerWidth-Ra,J=Su(xe,[Ra,Math.max(Ra,kt-Lt)]);d.style.minWidth=Ge+"px",d.style.left=J+"px"}else{const De=I.right-L.right,xe=window.innerWidth-Y.right-De,tt=window.innerWidth-M.right-xe,Ge=M.width+tt,Lt=Math.max(Ge,I.width),kt=window.innerWidth-Ra,J=Su(xe,[Ra,Math.max(Ra,kt-Lt)]);d.style.minWidth=Ge+"px",d.style.right=J+"px"}const R=v(),q=window.innerHeight-Ra*2,ve=b.scrollHeight,K=window.getComputedStyle(m),ee=parseInt(K.borderTopWidth,10),z=parseInt(K.paddingTop,10),Z=parseInt(K.borderBottomWidth,10),$=parseInt(K.paddingBottom,10),de=ee+z+ve+$+Z,B=Math.min(w.offsetHeight*5,de),_=window.getComputedStyle(b),Q=parseInt(_.paddingTop,10),fe=parseInt(_.paddingBottom,10),Ne=M.top+M.height/2-Ra,re=q-Ne,Le=w.offsetHeight/2,pe=w.offsetTop+Le,Ke=ee+z+pe,me=de-Ke;if(Ke<=Ne){const De=R.length>0&&w===R[R.length-1].ref.current;d.style.bottom="0px";const xe=m.clientHeight-b.offsetTop-b.offsetHeight,tt=Math.max(re,Le+(De?fe:0)+xe+Z),Ge=Ke+tt;d.style.height=Ge+"px"}else{const De=R.length>0&&w===R[0].ref.current;d.style.top="0px";const tt=Math.max(Ne,ee+b.offsetTop+(De?Q:0)+Le)+me;d.style.height=tt+"px",b.scrollTop=Ke-Ne+b.offsetTop}d.style.margin=`${Ra}px 0`,d.style.minHeight=B+"px",d.style.maxHeight=q+"px",a?.(),requestAnimationFrame(()=>y.current=!0)}},[v,l.trigger,l.valueNode,d,m,b,w,C,l.dir,a]);dn(()=>A(),[A]);const[T,k]=p.useState();dn(()=>{m&&k(window.getComputedStyle(m).zIndex)},[m]);const P=p.useCallback(M=>{M&&N.current===!0&&(A(),E?.(),N.current=!1)},[A,E]);return n.jsx(pQ,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:n.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:n.jsx(na.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VD.displayName=mQ;var hQ="SelectPopperPosition",Ej=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=Ra,...l}=e,c=_x(r);return n.jsx(YM,{...c,...l,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ej.displayName=hQ;var[pQ,v1]=Uc(Jl,{}),Aj="SelectViewport",qD=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,l=il(Aj,r),c=v1(Aj,r),d=et(t,l.onViewportChange),f=p.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Tx.Slot,{scope:r,children:n.jsx(na.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:$e(s.onScroll,m=>{const h=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v?.current&&g){const y=Math.abs(f.current-h.scrollTop);if(y>0){const N=window.innerHeight-Ra*2,b=parseFloat(g.style.minHeight),w=parseFloat(g.style.height),C=Math.max(b,w);if(C<N){const E=C+y,A=Math.min(N,E),T=E-A;g.style.height=A+"px",g.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,g.style.justifyContent="flex-end")}}}f.current=h.scrollTop})})})]})});qD.displayName=Aj;var KD="SelectGroup",[xQ,gQ]=Uc(KD),vQ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=Ia();return n.jsx(xQ,{scope:r,id:s,children:n.jsx(na.div,{role:"group","aria-labelledby":s,...a,ref:t})})});vQ.displayName=KD;var WD="SelectLabel",GD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=gQ(WD,r);return n.jsx(na.div,{id:s.id,...a,ref:t})});GD.displayName=WD;var fp="SelectItem",[yQ,YD]=Uc(fp),QD=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:l,...c}=e,d=sl(fp,r),f=il(fp,r),m=d.value===a,[h,g]=p.useState(l??""),[v,y]=p.useState(!1),N=et(t,E=>f.itemRefCallback?.(E,a,s)),b=Ia(),w=p.useRef("touch"),C=()=>{s||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(yQ,{scope:r,value:a,disabled:s,textId:b,isSelected:m,onItemTextChange:p.useCallback(E=>{g(A=>A||(E?.textContent??"").trim())},[]),children:n.jsx(Tx.ItemSlot,{scope:r,value:a,disabled:s,textValue:h,children:n.jsx(na.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:N,onFocus:$e(c.onFocus,()=>y(!0)),onBlur:$e(c.onBlur,()=>y(!1)),onClick:$e(c.onClick,()=>{w.current!=="mouse"&&C()}),onPointerUp:$e(c.onPointerUp,()=>{w.current==="mouse"&&C()}),onPointerDown:$e(c.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:$e(c.onPointerMove,E=>{w.current=E.pointerType,s?f.onItemLeave?.():w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:$e(c.onKeyDown,E=>{f.searchRef?.current!==""&&E.key===" "||(aQ.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});QD.displayName=fp;var su="SelectItemText",XD=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...l}=e,c=sl(su,r),d=il(su,r),f=YD(su,r),m=oQ(su,r),[h,g]=p.useState(null),v=et(t,C=>g(C),f.onItemTextChange,C=>d.itemTextRefCallback?.(C,f.value,f.disabled)),y=h?.textContent,N=p.useMemo(()=>n.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=m;return dn(()=>(b(N),()=>w(N)),[b,w,N]),n.jsxs(n.Fragment,{children:[n.jsx(na.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?os.createPortal(l.children,c.valueNode):null]})});XD.displayName=su;var ZD="SelectItemIndicator",JD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return YD(ZD,r).isSelected?n.jsx(na.span,{"aria-hidden":!0,...a,ref:t}):null});JD.displayName=ZD;var Pj="SelectScrollUpButton",e5=p.forwardRef((e,t)=>{const r=il(Pj,e.__scopeSelect),a=v1(Pj,e.__scopeSelect),[s,l]=p.useState(!1),c=et(t,a.onScrollButtonChange);return dn(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),s?n.jsx(n5,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});e5.displayName=Pj;var Oj="SelectScrollDownButton",t5=p.forwardRef((e,t)=>{const r=il(Oj,e.__scopeSelect),a=v1(Oj,e.__scopeSelect),[s,l]=p.useState(!1),c=et(t,a.onScrollButtonChange);return dn(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,h=Math.ceil(f.scrollTop)<m;l(h)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),s?n.jsx(n5,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});t5.displayName=Oj;var n5=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,l=il("SelectScrollButton",r),c=p.useRef(null),d=kx(r),f=p.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return p.useEffect(()=>()=>f(),[f]),dn(()=>{d().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),n.jsx(na.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:$e(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:$e(s.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:$e(s.onPointerLeave,()=>{f()})})}),bQ="SelectSeparator",r5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(na.div,{"aria-hidden":!0,...a,ref:t})});r5.displayName=bQ;var Tj="SelectArrow",jQ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=_x(r),l=sl(Tj,r),c=il(Tj,r);return l.open&&c.position==="popper"?n.jsx(QM,{...s,...a,ref:t}):null});jQ.displayName=Tj;var wQ="SelectBubbleInput",a5=p.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const s=p.useRef(null),l=et(a,s),c=Px(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&h){const g=new Event("change",{bubbles:!0});h.call(d,t),d.dispatchEvent(g)}},[c,t]),n.jsx(na.select,{...r,style:{...O4,...r.style},ref:l,defaultValue:t})});a5.displayName=wQ;function s5(e){return e===""||e===void 0}function i5(e){const t=An(e),r=p.useRef(""),a=p.useRef(0),s=p.useCallback(c=>{const d=r.current+c;t(d),(function f(m){r.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=p.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,l]}function l5(e,t,r){const s=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=NQ(e,Math.max(l,0));s.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function NQ(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var SQ=MD,o5=LD,CQ=$D,EQ=FD,AQ=zD,c5=BD,PQ=qD,d5=GD,u5=QD,OQ=XD,TQ=JD,f5=e5,m5=t5,h5=r5;const dt=SQ,ut=CQ,lt=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(o5,{ref:a,className:Re("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(EQ,{asChild:!0,children:n.jsx(Dc,{className:"h-4 w-4 opacity-50"})})]}));lt.displayName=o5.displayName;const p5=p.forwardRef(({className:e,...t},r)=>n.jsx(f5,{ref:r,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Z4,{className:"h-4 w-4"})}));p5.displayName=f5.displayName;const x5=p.forwardRef(({className:e,...t},r)=>n.jsx(m5,{ref:r,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Dc,{className:"h-4 w-4"})}));x5.displayName=m5.displayName;const ot=p.forwardRef(({className:e,children:t,position:r="popper",...a},s)=>n.jsx(AQ,{children:n.jsxs(c5,{ref:s,style:{backgroundColor:"hsl(220, 13%, 20%)"},className:Re("relative z-[9999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(p5,{}),n.jsx(PQ,{className:Re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(x5,{})]})}));ot.displayName=c5.displayName;const kQ=p.forwardRef(({className:e,...t},r)=>n.jsx(d5,{ref:r,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));kQ.displayName=d5.displayName;const be=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(u5,{ref:a,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(TQ,{children:n.jsx(X4,{className:"h-4 w-4"})})}),n.jsx(OQ,{children:t})]}));be.displayName=u5.displayName;const _Q=p.forwardRef(({className:e,...t},r)=>n.jsx(h5,{ref:r,className:Re("-mx-1 my-1 h-px bg-muted",e),...t}));_Q.displayName=h5.displayName;const xt=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Re("w-full caption-bottom text-sm",e),...t})}));xt.displayName="Table";const gt=p.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Re("[&_tr]:border-b",e),...t}));gt.displayName="TableHeader";const vt=p.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Re("[&_tr:last-child]:border-0",e),...t}));vt.displayName="TableBody";const RQ=p.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));RQ.displayName="TableFooter";const Ee=p.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ee.displayName="TableRow";const V=p.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));V.displayName="TableHead";const U=p.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));U.displayName="TableCell";const MQ=p.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Re("mt-4 text-sm text-muted-foreground",e),...t}));MQ.displayName="TableCaption";const DQ=["ALL","GUEST","ADVENTURER","PLAYER","INVESTOR","EXTRACTOR","UNKNOWN"],LQ=["ALL","0","1","2","3","4"],g0={0:"Common",1:"Uncommon",2:"Rare",3:"Legendary",4:"Mythic"},IQ={0:"bg-gray-400 text-white",1:"bg-green-500 text-white",2:"bg-blue-500 text-white",3:"bg-purple-500 text-white",4:"bg-orange-500 text-white"};function $Q(){const{toast:e}=fn(),[t,r]=p.useState(""),[a,s]=p.useState("ALL"),[l,c]=p.useState("ALL"),[d,f]=p.useState("discordUsername"),[m,h]=p.useState("asc"),[,g]=Ha(),{data:v,isLoading:y,refetch:N,isRefetching:b}=_e({queryKey:["/api/admin/users"]}),w=Oe({mutationFn:async({userId:L,tier:R})=>ze(`/api/admin/users/${L}/tier`,{method:"PATCH",body:JSON.stringify({tier:R})}),onSuccess:()=>{e({title:"Success",description:"User tier updated"}),Te.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{e({title:"Error",description:"Failed to update tier",variant:"destructive"})}});Oe({mutationFn:async L=>ze(`/api/admin/users/${L}/refresh-snapshot`,{method:"POST"}),onSuccess:(L,R)=>{e({title:"Snapshot refreshed",description:"User snapshot updated."}),Te.invalidateQueries({queryKey:["/api/admin/users"]}),Te.invalidateQueries({queryKey:[`/api/admin/users/${R}/profile`]})},onError:()=>{e({title:"Error",description:"Failed to refresh snapshot",variant:"destructive"})}});const E=(v?.users??[]).filter(L=>{if(t){const R=t.toLowerCase();if(!L.discordUsername.toLowerCase().includes(R)&&!L.discordId.includes(R)&&!L.walletAddress?.toLowerCase().includes(R))return!1}return!(a!=="ALL"&&L.archetype!==a||l!=="ALL"&&L.tier!==parseInt(l))}).sort((L,R)=>{let q=0;return d==="discordUsername"?q=L.discordUsername.localeCompare(R.discordUsername):d==="tier"&&(q=L.tier-R.tier),m==="asc"?q:-q}),A=L=>{d===L?h(m==="asc"?"desc":"asc"):(f(L),h("asc"))},T=({field:L})=>d!==L?null:m==="asc"?n.jsx(Z4,{className:"w-4 h-4"}):n.jsx(Dc,{className:"w-4 h-4"}),k=L=>{switch(L){case"INVESTOR":return"default";case"PLAYER":return"secondary";case"ADVENTURER":return"outline";case"EXTRACTOR":return"destructive";default:return"outline"}},P=L=>{switch(L){case"PROGRESSION_GAMER":return"secondary";case"INVESTOR_GROWTH":return"default";case"INVESTOR_EXTRACTOR":return"destructive";case"SOCIAL_COMMUNITY":return"outline";case"NEW_EXPLORER":return"outline";default:return"outline"}},M=L=>L?{PROGRESSION_GAMER:"Gamer",INVESTOR_GROWTH:"Growth",INVESTOR_EXTRACTOR:"Extractor",SOCIAL_COMMUNITY:"Social",NEW_EXPLORER:"New"}[L]||L:null,I=L=>IQ[L??0]||"bg-gray-400 text-white",Y=async(L,R)=>{R&&R.stopPropagation();try{await navigator.clipboard.writeText(L),e({title:"Copied!",description:"Wallet address copied to clipboard"})}catch{e({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}};return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-users-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage player profiles, tiers, and classifications"})]}),n.jsxs(se,{onClick:()=>N(),variant:"outline",disabled:b,"data-testid":"button-refresh-users",children:[n.jsx(rt,{className:`w-4 h-4 mr-2 ${b?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-3",children:n.jsx(le,{className:"text-base",children:"Filters"})}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Xe,{placeholder:"Search by username, Discord ID, or wallet...",value:t,onChange:L=>r(L.target.value),className:"pl-9","data-testid":"input-search-users"})]})}),n.jsxs(dt,{value:a,onValueChange:s,children:[n.jsx(lt,{className:"w-[150px]","data-testid":"select-archetype-filter",children:n.jsx(ut,{placeholder:"Archetype"})}),n.jsx(ot,{children:DQ.map(L=>n.jsx(be,{value:L,children:L==="ALL"?"All Archetypes":L},L))})]}),n.jsxs(dt,{value:l,onValueChange:c,children:[n.jsx(lt,{className:"w-[120px]","data-testid":"select-tier-filter",children:n.jsx(ut,{placeholder:"Tier"})}),n.jsx(ot,{children:LQ.map(L=>n.jsx(be,{value:L,children:L==="ALL"?"All Tiers":g0[L]},L))})]})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{children:["Players (",E.length,")"]}),n.jsx(Se,{children:"Click on a user row to view detailed profile"})]}),n.jsx(te,{children:y?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((L,R)=>n.jsx(Ae,{className:"h-12 w-full"},R))}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"cursor-pointer select-none",onClick:()=>A("discordUsername"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Discord",n.jsx(T,{field:"discordUsername"})]})}),n.jsx(V,{children:"Wallet"}),n.jsx(V,{children:"Archetype"}),n.jsx(V,{children:"Intent"}),n.jsx(V,{className:"cursor-pointer select-none",onClick:()=>A("tier"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Tier",n.jsx(T,{field:"tier"})]})}),n.jsx(V,{children:"State"}),n.jsx(V,{children:"Flags"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(vt,{children:E.length===0?n.jsx(Ee,{children:n.jsx(U,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No users found matching your filters"})}):E.map(L=>n.jsxs(Ee,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-user-${L.id}`,onClick:()=>g(`/admin/users/${L.discordId}/dashboard`),children:[n.jsx(U,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:L.discordUsername}),n.jsx("div",{className:"text-xs text-muted-foreground",children:L.discordId})]})}),n.jsx(U,{children:L.walletAddress?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("span",{className:"font-mono text-xs",children:[L.walletAddress.slice(0,6),"...",L.walletAddress.slice(-4)]}),n.jsx(se,{size:"icon",variant:"ghost",onClick:R=>Y(L.walletAddress,R),"data-testid":`button-copy-wallet-${L.id}`,children:n.jsx(ap,{className:"h-4 w-4"})})]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"Not linked"})}),n.jsx(U,{children:n.jsx(W,{variant:k(L.archetype),children:L.archetype})}),n.jsx(U,{children:L.intentArchetype?n.jsx(W,{variant:P(L.intentArchetype),children:M(L.intentArchetype)}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"--"})}),n.jsx(U,{children:n.jsx(W,{className:I(L.tier??0),children:g0[L.tier??0]})}),n.jsx(U,{children:n.jsx("span",{className:"text-sm",children:L.state})}),n.jsx(U,{children:n.jsxs("div",{className:"flex gap-1 flex-wrap",children:[L.flags?.isWhale&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Whale"}),L.flags?.isExtractor&&n.jsx(W,{variant:"destructive",className:"text-xs",children:"Extractor"}),L.flags?.isHighPotential&&n.jsx(W,{variant:"default",className:"text-xs",children:"High Pot."})]})}),n.jsx(U,{children:n.jsxs(dt,{value:(L.tier??0).toString(),onValueChange:R=>{w.mutate({userId:L.id,tier:parseInt(R)})},children:[n.jsx(lt,{className:"w-[100px] h-8","data-testid":`select-tier-${L.id}`,children:n.jsx(ut,{})}),n.jsx(ot,{children:[0,1,2,3,4].map(R=>n.jsx(be,{value:R.toString(),children:g0[R]},R))})]})})]},L.id))})]})})})]})]})}function FQ(){const{userId:e}=Yu(),[t,r]=p.useState(!1),{data:a,isLoading:s,error:l}=_e({queryKey:[`/api/admin/users/${e}/profile`]});if(s)return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(Ae,{className:"h-12 w-64"}),n.jsx(Ae,{className:"h-96"})]});if(l||!a)return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsx(Kl,{href:"/admin/users",children:n.jsx(se,{variant:"ghost",size:"icon",children:n.jsx(Wi,{className:"h-4 w-4"})})}),n.jsx("div",{className:"mt-4 text-red-500",children:"Failed to load user profile"})]});const c=a.createdAt?new Date(a.createdAt).toISOString().split("T")[0]:"N/A";async function d(){try{r(!0);const f=await fetch(`/api/admin/users/${e}/refresh-snapshot`,{method:"POST"});if(!f.ok){const m=await f.json().catch(()=>({}));throw new Error(m.error||"Failed to refresh snapshot")}Te.invalidateQueries({queryKey:[`/api/admin/users/${e}/profile`]}),alert("Snapshot refreshed successfully.")}catch(f){console.error("Snapshot refresh failed:",f.message),alert("Failed to refresh snapshot.")}finally{r(!1)}}return n.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"user-profile-container",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Kl,{href:"/admin/users",children:n.jsx(se,{variant:"ghost",size:"icon","data-testid":"button-back",children:n.jsx(Wi,{className:"h-4 w-4"})})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold","data-testid":"profile-title",children:[a.discordUsername,"'s Account"]}),n.jsxs("p",{className:"text-muted-foreground","data-testid":"profile-subtitle",children:["User ID: ",a.discordId]})]})]}),n.jsxs(X,{"data-testid":"card-profile",children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Your Hedge Ledger Account"}),n.jsx(Se,{children:"Admin view of user account dashboard"})]}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Profile"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Discord:"})," ",a.discordUsername]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Tier:"})," ",n.jsx(W,{children:a.tier})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total queries:"})," ",a.totalQueries]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Member since:"})," ",c]})]})]}),n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Wallets"}),a.wallets&&a.wallets.length>0?n.jsxs("div",{className:"space-y-2",children:[a.wallets.slice(0,5).map((f,m)=>{const h=`${f.address.slice(0,6)}${f.address.slice(-4)}`,g=f.verified?" Verified":" Not verified";return n.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[n.jsxs("div",{children:[m+1,"."," ",n.jsx("code",{className:"text-xs",children:h})," ","(",f.chain,")  ",g]}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1 break-all",children:f.address})]},f.id)}),a.wallets.length>5&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ ",a.wallets.length-5," more wallets"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"No wallets linked yet."})]}),n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"LP Positions"}),a.lpPositions&&a.lpPositions.length>0?n.jsxs("div",{className:"space-y-3",children:[a.lpPositions.slice(0,5).map(f=>n.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[n.jsxs("div",{className:"font-medium",children:[f.poolName," (",f.chain,")"]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[" ",f.lpAmount," LP",n.jsx("br",{})," 24h APR (with quests): ",f.apr24h,"%"]})]},f.id)),a.lpPositions.length>5&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ ",a.lpPositions.length-5," more LP positions"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"No LP positions detected yet."})]}),n.jsxs("div",{className:"border-t pt-4 space-y-4",children:[n.jsx(se,{className:"w-full",variant:"default","data-testid":"button-view-dashboard",onClick:()=>window.open(`${window.location.origin}/account?userId=${a.discordId}`,"_blank"),children:"View User Dashboard"}),n.jsx(se,{className:"w-full",variant:"secondary",onClick:d,disabled:t,children:t?"Refreshing snapshot...":"Refresh Snapshot (Admin)"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Early Access  features and on-chain automation are still being rolled out."})]})]})]})]})}function zQ(e){const t=BQ(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(HQ);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function BQ(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=qQ(s),d=VQ(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UQ=Symbol("radix.slottable");function HQ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UQ}function VQ(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function qQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var KQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],g5=KQ.reduce((e,t)=>{const r=zQ(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Rx="Switch",[WQ]=xr(Rx),[GQ,YQ]=WQ(Rx),v5=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:m,form:h,...g}=e,[v,y]=p.useState(null),N=et(t,A=>y(A)),b=p.useRef(!1),w=v?h||!!v.closest("form"):!0,[C,E]=Zr({prop:s,defaultProp:l??!1,onChange:m,caller:Rx});return n.jsxs(GQ,{scope:r,checked:C,disabled:d,children:[n.jsx(g5.button,{type:"button",role:"switch","aria-checked":C,"aria-required":c,"data-state":w5(C),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:N,onClick:$e(e.onClick,A=>{E(T=>!T),w&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),w&&n.jsx(j5,{control:v,bubbles:!b.current,name:a,value:f,checked:C,required:c,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});v5.displayName=Rx;var y5="SwitchThumb",b5=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=YQ(y5,r);return n.jsx(g5.span,{"data-state":w5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});b5.displayName=y5;var QQ="SwitchBubbleInput",j5=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...s},l)=>{const c=p.useRef(null),d=et(c,l),f=Px(r),m=Nx(t);return p.useEffect(()=>{const h=c.current;if(!h)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&y){const N=new Event("click",{bubbles:a});y.call(h,r),h.dispatchEvent(N)}},[f,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:d,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});j5.displayName=QQ;function w5(e){return e?"checked":"unchecked"}var N5=v5,XQ=b5;const Wr=p.forwardRef(({className:e,...t},r)=>n.jsx(N5,{className:Re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(XQ,{className:Re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Wr.displayName=N5.displayName;var ZQ="Separator",nO="horizontal",JQ=["horizontal","vertical"],S5=p.forwardRef((e,t)=>{const{decorative:r,orientation:a=nO,...s}=e,l=eX(a)?a:nO,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return n.jsx(co.div,{"data-orientation":l,...d,...s,ref:t})});S5.displayName=ZQ;function eX(e){return JQ.includes(e)}var C5=S5;const Mn=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},s)=>n.jsx(C5,{ref:s,decorative:r,orientation:t,className:Re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Mn.displayName=C5.displayName;function dh(e){if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toLocaleString()}function v0(e){return(typeof e=="number"&&isFinite(e)?e:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function rO(e,t=2){if(e==null||e==="")return 0 .toFixed(t);const r=typeof e=="number"?e:parseFloat(String(e));return isFinite(r)?r.toFixed(t):0 .toFixed(t)}function tX(){const{discordId:e}=Yu(),{toast:t}=fn();console.log("[UserDashboard] Component mounted, discordId:",e);const{data:r,isLoading:a,error:s}=_e({queryKey:["/api/user/summary",e],enabled:!!e}),l=r?.user,c=Oe({mutationFn:async b=>{if(!e)throw new Error("Missing discordId");const w=await fetch(`/api/user/settings/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)});if(!w.ok){const C=await w.json().catch(()=>({}));throw new Error(C.error||"Failed to update settings")}return await w.json()},onMutate:async b=>{await Te.cancelQueries({queryKey:["/api/user/summary",e]});const w=Te.getQueryData(["/api/user/summary",e]);return w?.user&&Te.setQueryData(["/api/user/summary",e],{...w,user:{...w.user,userSettings:{...w.user.userSettings,...b}}}),{previous:w}},onError:(b,w,C)=>{C?.previous&&Te.setQueryData(["/api/user/summary",e],C.previous),t({title:"Failed to save settings",description:b.message,variant:"destructive"})},onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"Settings updated"})}}),d=p.useMemo(()=>{switch(l?.archetype){case"INVESTOR":return"default";case"PLAYER":return"secondary";case"ADVENTURER":return"outline";case"EXTRACTOR":return"destructive";default:return"outline"}},[l?.archetype]),f=b=>{switch(b){case"PROGRESSION_GAMER":return"secondary";case"INVESTOR_GROWTH":return"default";case"INVESTOR_EXTRACTOR":return"destructive";case"SOCIAL_COMMUNITY":return"outline";case"NEW_EXPLORER":return"outline";default:return"outline"}},m=b=>b?{PROGRESSION_GAMER:"Progression Gamer",INVESTOR_GROWTH:"Growth Investor",INVESTOR_EXTRACTOR:"Extractor",SOCIAL_COMMUNITY:"Social/Community",NEW_EXPLORER:"New Explorer"}[b]||b:null,h=async()=>{l?.walletAddress&&(await navigator.clipboard.writeText(l.walletAddress),t({title:"Wallet copied"}))},g=(b,w)=>{c.mutate({[b]:w})},v=Oe({mutationFn:async()=>{if(!l?.id)throw new Error("No user ID");return ze("POST",`/api/admin/users/${l.id}/refresh-snapshot`)},onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"Snapshot refreshed",description:"DFK data has been updated."})},onError:b=>{t({title:"Failed to refresh snapshot",description:b.message,variant:"destructive"})}}),y=Oe({mutationFn:async()=>{if(!l?.id)throw new Error("No user ID");return ze("POST",`/api/admin/users/${l.id}/reclassify`)},onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"User reclassified",description:"Intent classification has been updated."})},onError:b=>{t({title:"Failed to reclassify user",description:b.message,variant:"destructive"})}});if(a)return n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx(Ae,{className:"h-9 w-64"}),n.jsx(Ae,{className:"h-40"}),n.jsx(Ae,{className:"h-40"})]});if(s||!l)return n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx(Kl,{href:"/admin/users",children:n.jsx(se,{variant:"ghost",size:"icon",children:n.jsx(Wi,{className:"h-4 w-4"})})}),n.jsx(X,{children:n.jsxs(ie,{children:[n.jsx(le,{children:"Error loading user"}),n.jsx(Se,{children:"Unable to load user dashboard. Please return to the Users list."})]})})]});const N=l.dfkSnapshot;return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-user-dashboard",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kl,{href:"/admin/users",children:n.jsx(se,{variant:"ghost",size:"icon",children:n.jsx(Wi,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"text-2xl font-bold",children:l.discordUsername}),n.jsxs("p",{className:"text-muted-foreground text-sm",children:["Discord ID: ",l.discordId]})]}),n.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n.jsx(W,{variant:d,children:l.archetype}),l.intentArchetype&&n.jsx(W,{variant:f(l.intentArchetype),children:m(l.intentArchetype)}),n.jsxs(W,{className:"bg-blue-600 text-white",children:["Tier ",l.tier??0]}),n.jsx(W,{variant:"outline",children:l.state})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Account Overview"}),n.jsx(Se,{children:"Wallet and profile snapshot powered by stored data (no live on-chain calls)."})]}),l.lastUpdatedAt&&n.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Updated ",dh(l.lastUpdatedAt)]})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Linked Wallets"}),l.linkedWallets&&l.linkedWallets.length>0?n.jsx("div",{className:"space-y-2",children:l.linkedWallets.map((b,w)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap","data-testid":`wallet-row-${w}`,children:[n.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[b.address.slice(0,6),"...",b.address.slice(-4)]}),b.isPrimary&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"PRIMARY"}),n.jsx(W,{variant:b.isVerified?"default":"outline",className:"text-xs",children:b.isVerified?"VERIFIED":"NOT VERIFIED"}),n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(b.address).then(()=>{t({title:"Wallet copied",description:b.address})}).catch(()=>{t({title:"Copy failed",variant:"destructive"})})},"data-testid":`button-copy-wallet-${w}`,children:n.jsx(ap,{className:"h-4 w-4"})})]},b.address))}):l.walletAddress?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[l.walletAddress.slice(0,6),"...",l.walletAddress.slice(-4)]}),n.jsx(W,{variant:"outline",className:"text-xs",children:"NOT VERIFIED"}),n.jsx(se,{size:"icon",variant:"ghost",onClick:h,children:n.jsx(ap,{className:"h-4 w-4"})})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No wallets linked"})]}),n.jsx(Mn,{}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Flags"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(l.flags||{}).filter(([,b])=>b).length===0&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"None"}),Object.entries(l.flags||{}).filter(([,b])=>b).map(([b])=>n.jsx(W,{variant:"secondary",className:"text-xs",children:b},b))]})]}),n.jsx(Mn,{orientation:"vertical",className:"h-10"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Behavior Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.behaviorTags?.length?l.behaviorTags.map(b=>n.jsx(W,{variant:"outline",className:"text-xs",children:b},b)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No tags"})})]})]})]})]}),l.intentArchetype||l.intentScores?n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Intent Classification"}),n.jsx(Se,{children:"AI-powered player classification based on behavior patterns and wallet activity."})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending||!l?.id,"data-testid":"button-reclassify",children:[n.jsx(rt,{className:`h-4 w-4 mr-2 ${y.isPending?"animate-spin":""}`}),y.isPending?"Reclassifying...":"Reclassify"]})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Primary Intent:"}),l.intentArchetype?n.jsx(W,{variant:f(l.intentArchetype),className:"text-sm",children:m(l.intentArchetype)}):n.jsx(W,{variant:"outline",className:"text-sm text-muted-foreground",children:"Unclassified"})]}),l.intentScores&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Intent Scores"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Progression Gamer"}),n.jsx("span",{className:"font-mono",children:l.intentScores.progressionScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.progressionScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Growth Investor"}),n.jsx("span",{className:"font-mono",children:l.intentScores.investorGrowthScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.investorGrowthScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Extractor"}),n.jsx("span",{className:"font-mono",children:l.intentScores.extractorScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.extractorScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Social/Community"}),n.jsx("span",{className:"font-mono",children:l.intentScores.socialScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.socialScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"New Explorer"}),n.jsx("span",{className:"font-mono",children:l.intentScores.onboardingScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-yellow-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.onboardingScore??0,100))}%`}})})]})]})]})]})})]}):n.jsx(X,{children:n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Intent Classification"}),n.jsx(Se,{children:"This user has not been classified yet. Click to run intent classification."})]}),n.jsxs(se,{variant:"default",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending||!l?.id,"data-testid":"button-reclassify-initial",children:[n.jsx(rt,{className:`h-4 w-4 mr-2 ${y.isPending?"animate-spin":""}`}),y.isPending?"Classifying...":"Run Classification"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(le,{children:"DeFi Kingdoms Snapshot"}),n.jsx(Se,{children:"Cached hero and garden metrics for this player."})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>v.mutate(),disabled:v.isPending||!l?.id,"data-testid":"button-refresh-snapshot",children:[n.jsx(rt,{className:`h-4 w-4 mr-2 ${v.isPending?"animate-spin":""}`}),v.isPending?"Refreshing...":"Refresh"]})]}),n.jsxs(te,{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Hero Count"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.heroCount??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"LP Positions"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.lpPositions?.length??N?.lpPositionsCount??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total LP Value (USD)"}),n.jsxs("p",{className:"text-lg font-semibold",children:["$",N?.totalLPValue?.toFixed(2)??"0.00"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"DFK Age (days)"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.dfkAgeDays??""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"JEWEL"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.jewelBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"CRYSTAL"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.crystalBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.cJewelBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL Lock (days)"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.cJewelLockDaysRemaining??""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"First TX"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.firstTxAt?dh(N.firstTxAt):"N/A"})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Recent Optimizations"}),n.jsx(Se,{children:"Latest garden optimization jobs for this player."})]}),n.jsx(se,{variant:"outline",size:"sm","data-testid":"button-expire-all",onClick:async()=>{try{if(!(await fetch(`/api/user/${e}/expire-optimizations`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to expire optimizations");t({title:"All stale optimizations marked as expired"}),Te.invalidateQueries({queryKey:["/api/user/summary",e]})}catch{t({title:"Error",description:"Failed to expire optimizations",variant:"destructive"})}},children:"Mark All Expired"})]}),n.jsx(te,{className:"space-y-3",children:l.recentOptimizations?.length?l.recentOptimizations.map(b=>n.jsxs("div",{className:"p-3 rounded-lg border flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:b.service||"garden_optimization"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:dh(b.createdAt)})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsx(W,{variant:"outline",className:"uppercase text-[11px]",children:b.status}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[b.paymentJewel?`${b.paymentJewel} JEWEL`:"",b.poolCount?`  ${b.poolCount} pools`:""]})]})]},b.id)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No optimization history found."})})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:["Bridge Activity",l.bridgeActivity&&l.bridgeActivity.netExtractedUsd>100&&n.jsxs(W,{variant:"outline",className:"text-orange-600 border-orange-600",children:[n.jsx($l,{className:"h-3 w-3 mr-1"}),"Extractor"]})]}),n.jsx(Se,{children:"Cross-chain bridge flows for this wallet."})]}),n.jsx(te,{children:l.bridgeActivity?n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridged In"}),n.jsxs("p",{className:"text-xl font-semibold text-green-600 flex items-center gap-1","data-testid":"text-bridge-in",children:[n.jsx(np,{className:"h-4 w-4"}),"$",v0(l.bridgeActivity.totalBridgedInUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.bridgeActivity.heroesIn??0," heroes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridged Out"}),n.jsxs("p",{className:"text-xl font-semibold text-red-600 flex items-center gap-1","data-testid":"text-bridge-out",children:[n.jsx(rp,{className:"h-4 w-4"}),"$",v0(l.bridgeActivity.totalBridgedOutUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.bridgeActivity.heroesOut??0," heroes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Extracted"}),n.jsxs("p",{className:`text-xl font-semibold ${(l.bridgeActivity.netExtractedUsd??0)>0?"text-orange-600":"text-green-600"}`,"data-testid":"text-net-extracted",children:["$",v0(l.bridgeActivity.netExtractedUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Score: ",l.bridgeActivity.extractorScore??0,"/10"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Bridge"}),n.jsx("p",{className:"text-sm","data-testid":"text-last-bridge",children:l.bridgeActivity.lastBridgeAt?dh(l.bridgeActivity.lastBridgeAt):"N/A"}),l.bridgeActivity.extractorFlags&&l.bridgeActivity.extractorFlags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.bridgeActivity.extractorFlags.map(b=>n.jsx(W,{variant:"outline",className:"text-xs",children:b.replace(/_/g," ")},b))})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No bridge activity found for this wallet. Run the bridge indexer to populate data."})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(le,{children:"LP Positions Details"}),n.jsx(Se,{children:"Breakdown of staked LP tokens across garden pools."})]}),n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-refresh-lp-positions",children:n.jsx(rt,{className:`h-4 w-4 ${v.isPending?"animate-spin":""}`})})]}),n.jsx(te,{children:N?.lpPositions&&N.lpPositions.length>0?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-xs text-muted-foreground font-medium pb-2 border-b",children:[n.jsx("div",{children:"Pool"}),n.jsx("div",{className:"text-right",children:"PID"}),n.jsx("div",{className:"text-right",children:"Staked LP"}),n.jsx("div",{className:"text-right",children:"Value (USD)"})]}),N.lpPositions.map((b,w)=>n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm py-2 border-b border-muted/50","data-testid":`row-lp-position-${b.pid??w}`,children:[n.jsx("div",{className:"font-medium",children:(b.poolName||b.pairName)?.replace(/wJEWEL/g,"JEWEL")||`Pool ${b.pid??w}`}),n.jsx("div",{className:"text-right text-muted-foreground",children:b.pid??"-"}),n.jsx("div",{className:"text-right font-mono",children:rO(b.lpBalance??b.stakedAmount,4)}),n.jsxs("div",{className:"text-right font-semibold",children:["$",rO(b.userTVL,2)]})]},b.pid??w)),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm pt-2 font-semibold",children:[n.jsx("div",{className:"col-span-3 text-right",children:"Total:"}),n.jsxs("div",{className:"text-right",children:["$",N.totalLPValue?.toFixed(2)??"0.00"]})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:'No LP positions found. Click "Refresh Snapshot" above to fetch latest data.'})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Hedge Settings"}),n.jsx(Se,{children:"Per-user notification preferences."})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notify me when APR drops on one of my pools"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Uses cached pool data; no live RPC calls."})]}),n.jsx(Wr,{checked:l.userSettings.notifyOnAprDrop,onCheckedChange:b=>g("notifyOnAprDrop",b),disabled:c.isPending})]}),n.jsx(Mn,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notify me when a new optimization report is ready"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Alerts when fresh optimization output is available."})]}),n.jsx(Wr,{checked:l.userSettings.notifyOnNewOptimization,onCheckedChange:b=>g("notifyOnNewOptimization",b),disabled:c.isPending})]})]})]})]})}function nX(){return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-expenses-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Expenses"}),n.jsx("p",{className:"text-muted-foreground",children:"Track OpenAI, Replit, and other operational costs"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{variant:"outline","data-testid":"button-upload-expenses",children:[n.jsx(vq,{className:"w-4 h-4 mr-2"}),"Upload CSV"]}),n.jsxs(se,{"data-testid":"button-add-expense",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Add Expense"]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Monthly Expenses"}),n.jsx(Se,{children:"Expense tracking and reconciliation will be implemented in Phase 8"})]}),n.jsx(te,{children:n.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[n.jsx("p",{children:"Expense management coming soon."}),n.jsx("p",{className:"text-sm mt-2",children:"This will include OpenAI API costs, Replit compute costs, and manual expense entries."})]})})]})]})}var rX="Label",E5=p.forwardRef((e,t)=>n.jsx(co.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));E5.displayName=rX;var A5=E5;const aX=vx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=p.forwardRef(({className:e,...t},r)=>n.jsx(A5,{ref:r,className:Re(aX(),e),...t}));ke.displayName=A5.displayName;function y0({enabled:e,onToggle:t,accent:r="emerald",testId:a}){const s=r==="emerald"?"from-emerald-400 via-emerald-500 to-emerald-600":"from-blue-400 via-blue-500 to-blue-600";return n.jsxs("button",{type:"button",onClick:()=>t(!e),"data-testid":a,className:`relative inline-flex h-8 w-20 items-center rounded-full px-2 text-xs font-semibold tracking-wide transition-all duration-200
        ${e?"bg-gradient-to-r "+s+" text-white":"bg-slate-500 text-slate-200"}
      `,children:[n.jsx("span",{className:`z-10 transition-opacity duration-200 ${e?"opacity-100":"opacity-80"}`,children:e?"ON":"OFF"}),n.jsx("span",{className:`absolute h-7 w-7 rounded-full bg-white shadow transform transition-transform duration-200
          ${e?"translate-x-6":"-translate-x-1"}
        `})]})}function sX(){const[e,t]=p.useState({paymentBypass:!1,verboseLogging:!1,oauthBypass:!1}),[r,a]=p.useState(!1);async function s(){if(!r){a(!0);try{const c=await fetch("/api/admin/restart-server",{method:"POST",headers:{"Content-Type":"application/json"}});c.ok?setTimeout(()=>{window.location.reload()},3e3):(console.error("Restart failed with status:",c.status),a(!1))}catch(c){console.error("Failed to restart server:",c),setTimeout(()=>{window.location.reload()},2e3)}}}p.useEffect(()=>{async function c(){try{const d=await fetch("/api/admin/debug-settings");if(!d.ok)return;const f=await d.json();t(m=>({...m,...f}))}catch(d){console.error("Failed to load debug settings:",d)}}c()},[]);async function l(c,d){const f={...e,[c]:d};t(f);try{await fetch("/api/admin/debug-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),Te.invalidateQueries({queryKey:["/api/admin/debug-settings"]})}catch(m){console.error("Failed to update debug settings:",m)}}return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-settings-page",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure Hedge Ledger behavior and debug options"})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Debug Settings"}),n.jsx(Se,{children:"Options for testing and development"})]}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{children:"Payment Bypass"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip JEWEL payment verification for garden optimization testing"})]}),n.jsx(y0,{enabled:e.paymentBypass,onToggle:c=>l("paymentBypass",c),accent:"emerald",testId:"switch-payment-bypass"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{children:"Verbose Logging"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable detailed console logging for debugging"})]}),n.jsx(y0,{enabled:e.verboseLogging,onToggle:c=>l("verboseLogging",c),accent:"blue",testId:"switch-verbose-logging"})]}),e.oauthBypassAllowed&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{children:"OAuth Bypass"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip Discord OAuth for admin dashboard testing (allows unauthenticated access)"})]}),n.jsx(y0,{enabled:e.oauthBypass,onToggle:c=>l("oauthBypass",c),accent:"emerald",testId:"switch-oauth-bypass"})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Bot Configuration"}),n.jsx(Se,{children:"General bot settings (changes require restart)"})]}),n.jsx(te,{children:n.jsx("div",{className:"py-8 text-center text-muted-foreground",children:n.jsx("p",{children:"Configuration options coming soon."})})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Server Control"}),n.jsx(Se,{children:"Restart the server to apply code changes"})]}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{children:"Restart Server"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Restart the backend server process to apply code changes. The page will reload automatically."})]}),n.jsx(se,{onClick:s,disabled:r,variant:"destructive","data-testid":"button-restart-server",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}),"Restarting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rt,{className:"h-4 w-4 mr-2"}),"Restart Server"]})})]})})]})]})}function iX(e){const t=lX(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(cX);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function lX(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=uX(s),d=dX(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oX=Symbol("radix.slottable");function cX(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oX}function dX(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function uX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sf=fX.reduce((e,t)=>{const r=iX(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function mX(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var y1="ScrollArea",[P5]=xr(y1),[hX,Aa]=P5(y1),O5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:l=600,...c}=e,[d,f]=p.useState(null),[m,h]=p.useState(null),[g,v]=p.useState(null),[y,N]=p.useState(null),[b,w]=p.useState(null),[C,E]=p.useState(0),[A,T]=p.useState(0),[k,P]=p.useState(!1),[M,I]=p.useState(!1),Y=et(t,R=>f(R)),L=Bc(s);return n.jsx(hX,{scope:r,type:a,dir:L,scrollHideDelay:l,scrollArea:d,viewport:m,onViewportChange:h,content:g,onContentChange:v,scrollbarX:y,onScrollbarXChange:N,scrollbarXEnabled:k,onScrollbarXEnabledChange:P,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:I,onCornerWidthChange:E,onCornerHeightChange:T,children:n.jsx(sf.div,{dir:L,...c,ref:Y,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});O5.displayName=y1;var T5="ScrollAreaViewport",k5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:s,...l}=e,c=Aa(T5,r),d=p.useRef(null),f=et(t,d,c.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(sf.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});k5.displayName=T5;var ds="ScrollAreaScrollbar",b1=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Aa(ds,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=s,d=e.orientation==="horizontal";return p.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),s.type==="hover"?n.jsx(pX,{...a,ref:t,forceMount:r}):s.type==="scroll"?n.jsx(xX,{...a,ref:t,forceMount:r}):s.type==="auto"?n.jsx(_5,{...a,ref:t,forceMount:r}):s.type==="always"?n.jsx(j1,{...a,ref:t}):null});b1.displayName=ds;var pX=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Aa(ds,e.__scopeScrollArea),[l,c]=p.useState(!1);return p.useEffect(()=>{const d=s.scrollArea;let f=0;if(d){const m=()=>{window.clearTimeout(f),c(!0)},h=()=>{f=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",h),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),n.jsx(ta,{present:r||l,children:n.jsx(_5,{"data-state":l?"visible":"hidden",...a,ref:t})})}),xX=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Aa(ds,e.__scopeScrollArea),l=e.orientation==="horizontal",c=Dx(()=>f("SCROLL_END"),100),[d,f]=mX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,s.scrollHideDelay,f]),p.useEffect(()=>{const m=s.viewport,h=l?"scrollLeft":"scrollTop";if(m){let g=m[h];const v=()=>{const y=m[h];g!==y&&(f("SCROLL"),c()),g=y};return m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[s.viewport,l,f,c]),n.jsx(ta,{present:r||d!=="hidden",children:n.jsx(j1,{"data-state":d==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:$e(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:$e(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),_5=p.forwardRef((e,t)=>{const r=Aa(ds,e.__scopeScrollArea),{forceMount:a,...s}=e,[l,c]=p.useState(!1),d=e.orientation==="horizontal",f=Dx(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?m:h)}},10);return wc(r.viewport,f),wc(r.content,f),n.jsx(ta,{present:a||l,children:n.jsx(j1,{"data-state":l?"visible":"hidden",...s,ref:t})})}),j1=p.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,s=Aa(ds,e.__scopeScrollArea),l=p.useRef(null),c=p.useRef(0),[d,f]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=I5(d.viewport,d.content),h={...a,sizes:d,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:v=>l.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function g(v,y){return wX(v,c.current,d,y)}return r==="horizontal"?n.jsx(gX,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollLeft,y=aO(v,d,s.dir);l.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=g(v,s.dir))}}):r==="vertical"?n.jsx(vX,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollTop,y=aO(v,d);l.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=g(v))}}):null}),gX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,l=Aa(ds,e.__scopeScrollArea),[c,d]=p.useState(),f=p.useRef(null),m=et(t,f,l.onScrollbarXChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(M5,{"data-orientation":"horizontal",...s,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mx(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,g)=>{if(l.viewport){const v=l.viewport.scrollLeft+h.deltaX;e.onWheelScroll(v),F5(v,g)&&h.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:hp(c.paddingLeft),paddingEnd:hp(c.paddingRight)}})}})}),vX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,l=Aa(ds,e.__scopeScrollArea),[c,d]=p.useState(),f=p.useRef(null),m=et(t,f,l.onScrollbarYChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(M5,{"data-orientation":"vertical",...s,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mx(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,g)=>{if(l.viewport){const v=l.viewport.scrollTop+h.deltaY;e.onWheelScroll(v),F5(v,g)&&h.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:hp(c.paddingTop),paddingEnd:hp(c.paddingBottom)}})}})}),[yX,R5]=P5(ds),M5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:h,onResize:g,...v}=e,y=Aa(ds,r),[N,b]=p.useState(null),w=et(t,Y=>b(Y)),C=p.useRef(null),E=p.useRef(""),A=y.viewport,T=a.content-a.viewport,k=An(h),P=An(f),M=Dx(g,10);function I(Y){if(C.current){const L=Y.clientX-C.current.left,R=Y.clientY-C.current.top;m({x:L,y:R})}}return p.useEffect(()=>{const Y=L=>{const R=L.target;N?.contains(R)&&k(L,T)};return document.addEventListener("wheel",Y,{passive:!1}),()=>document.removeEventListener("wheel",Y,{passive:!1})},[A,N,T,k]),p.useEffect(P,[a,P]),wc(N,M),wc(y.content,M),n.jsx(yX,{scope:r,scrollbar:N,hasThumb:s,onThumbChange:An(l),onThumbPointerUp:An(c),onThumbPositionChange:P,onThumbPointerDown:An(d),children:n.jsx(sf.div,{...v,ref:w,style:{position:"absolute",...v.style},onPointerDown:$e(e.onPointerDown,Y=>{Y.button===0&&(Y.target.setPointerCapture(Y.pointerId),C.current=N.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),I(Y))}),onPointerMove:$e(e.onPointerMove,I),onPointerUp:$e(e.onPointerUp,Y=>{const L=Y.target;L.hasPointerCapture(Y.pointerId)&&L.releasePointerCapture(Y.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),C.current=null})})})}),mp="ScrollAreaThumb",D5=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=R5(mp,e.__scopeScrollArea);return n.jsx(ta,{present:r||s.hasThumb,children:n.jsx(bX,{ref:t,...a})})}),bX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...s}=e,l=Aa(mp,r),c=R5(mp,r),{onThumbPositionChange:d}=c,f=et(t,g=>c.onThumbChange(g)),m=p.useRef(void 0),h=Dx(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const g=l.viewport;if(g){const v=()=>{if(h(),!m.current){const y=NX(g,d);m.current=y,d()}};return d(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[l.viewport,h,d]),n.jsx(sf.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:$e(e.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),N=g.clientX-y.left,b=g.clientY-y.top;c.onThumbPointerDown({x:N,y:b})}),onPointerUp:$e(e.onPointerUp,c.onThumbPointerUp)})});D5.displayName=mp;var w1="ScrollAreaCorner",L5=p.forwardRef((e,t)=>{const r=Aa(w1,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?n.jsx(jX,{...e,ref:t}):null});L5.displayName=w1;var jX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,s=Aa(w1,r),[l,c]=p.useState(0),[d,f]=p.useState(0),m=!!(l&&d);return wc(s.scrollbarX,()=>{const h=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(h),f(h)}),wc(s.scrollbarY,()=>{const h=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(h),c(h)}),m?n.jsx(sf.div,{...a,ref:t,style:{width:l,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function hp(e){return e?parseInt(e,10):0}function I5(e,t){const r=e/t;return isNaN(r)?0:r}function Mx(e){const t=I5(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function wX(e,t,r,a="ltr"){const s=Mx(r),l=s/2,c=t||l,d=s-c,f=r.scrollbar.paddingStart+c,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,h=r.content-r.viewport,g=a==="ltr"?[0,h]:[h*-1,0];return $5([f,m],g)(e)}function aO(e,t,r="ltr"){const a=Mx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-s,c=t.content-t.viewport,d=l-a,f=r==="ltr"?[0,c]:[c*-1,0],m=Su(e,f);return $5([0,c],[0,d])(m)}function $5(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function F5(e,t){return e>0&&e<t}var NX=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function s(){const l={left:e.scrollLeft,top:e.scrollTop},c=r.left!==l.left,d=r.top!==l.top;(c||d)&&t(),r=l,a=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(a)};function Dx(e,t){const r=An(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function wc(e,t){const r=An(t);dn(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,r])}var z5=O5,SX=k5,CX=L5;const Hi=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(z5,{ref:a,className:Re("relative overflow-hidden",e),...r,children:[n.jsx(SX,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(B5,{}),n.jsx(CX,{})]}));Hi.displayName=z5.displayName;const B5=p.forwardRef(({className:e,orientation:t="vertical",...r},a)=>n.jsx(b1,{ref:a,orientation:t,className:Re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(D5,{className:"relative flex-1 rounded-full bg-border"})}));B5.displayName=b1.displayName;function EX(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c);d.displayName=l+"Context";const f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...N}=g,b=v?.[e]?.[f]||d,w=p.useMemo(()=>N,Object.values(N));return n.jsx(b.Provider,{value:w,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,N=p.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,AX(s,...t)]}function AX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var N1="Progress",S1=100,[PX]=EX(N1),[OX,TX]=PX(N1),U5=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:l=kX,...c}=e;(s||s===0)&&!sO(s)&&console.error(_X(`${s}`,"Progress"));const d=sO(s)?s:S1;a!==null&&!iO(a,d)&&console.error(RX(`${a}`,"Progress"));const f=iO(a,d)?a:null,m=pp(f)?l(f,d):void 0;return n.jsx(OX,{scope:r,value:f,max:d,children:n.jsx(co.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":pp(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":q5(f,d),"data-value":f??void 0,"data-max":d,...c,ref:t})})});U5.displayName=N1;var H5="ProgressIndicator",V5=p.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=TX(H5,r);return n.jsx(co.div,{"data-state":q5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});V5.displayName=H5;function kX(e,t){return`${Math.round(e/t*100)}%`}function q5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function pp(e){return typeof e=="number"}function sO(e){return pp(e)&&!isNaN(e)&&e>0}function iO(e,t){return pp(e)&&!isNaN(e)&&e<=t&&e>=0}function _X(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${S1}\`.`}function RX(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${S1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var K5=U5,MX=V5;const Xt=p.forwardRef(({className:e,value:t,...r},a)=>n.jsx(K5,{ref:a,className:Re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(MX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`,backfaceVisibility:"hidden",willChange:"transform"}})}));Xt.displayName=K5.displayName;var DX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function C1(e){if(typeof e!="string")return!1;var t=DX;return t.includes(e)}var LX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IX=new Set(LX);function W5(e){return typeof e!="string"?!1:IX.has(e)}function G5(e){return typeof e=="string"&&e.startsWith("data-")}function kr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(W5(r)||G5(r))&&(t[r]=e[r]);return t}function eo(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return kr(t)}return typeof e=="object"&&!Array.isArray(e)?kr(e):null}function or(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(W5(r)||G5(r)||C1(r))&&(t[r]=e[r]);return t}function $X(e){return e==null?null:p.isValidElement(e)?or(e.props):typeof e=="object"&&!Array.isArray(e)?or(e):null}var FX=["children","width","height","viewBox","className","style","title","desc"];function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kj.apply(null,arguments)}function zX(e,t){if(e==null)return{};var r,a,s=BX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var E1=p.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=zX(e,FX),g=l||{width:a,height:s,x:0,y:0},v=wt("recharts-surface",c);return p.createElement("svg",kj({},or(h),{className:v,width:a,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),p.createElement("title",null,f),p.createElement("desc",null,m),r)}),UX=["children","className"];function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_j.apply(null,arguments)}function HX(e,t){if(e==null)return{};var r,a,s=VX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var un=p.forwardRef((e,t)=>{var{children:r,className:a}=e,s=HX(e,UX),l=wt("recharts-layer",a);return p.createElement("g",_j({className:l},or(s),{ref:t}),r)}),Y5=p.createContext(null),qX=()=>p.useContext(Y5);function qt(e){return function(){return e}}const Q5=Math.cos,xp=Math.sin,Va=Math.sqrt,gp=Math.PI,Lx=2*gp,Rj=Math.PI,Mj=2*Rj,Rl=1e-6,KX=Mj-Rl;function X5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function WX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X5;const r=10**t;return function(a){this._+=a[0];for(let s=1,l=a.length;s<l;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class GX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X5:WX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,l,c){this._append`C${+t},${+r},${+a},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,a,s,l){if(t=+t,r=+r,a=+a,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=a-t,m=s-r,h=c-t,g=d-r,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Rl)if(!(Math.abs(g*f-m*h)>Rl)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let y=a-c,N=s-d,b=f*f+m*m,w=y*y+N*N,C=Math.sqrt(b),E=Math.sqrt(v),A=l*Math.tan((Rj-Math.acos((b+v-w)/(2*C*E)))/2),T=A/E,k=A/C;Math.abs(T-1)>Rl&&this._append`L${t+T*h},${r+T*g}`,this._append`A${l},${l},0,0,${+(g*y>h*N)},${this._x1=t+k*f},${this._y1=r+k*m}`}}arc(t,r,a,s,l,c){if(t=+t,r=+r,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),f=a*Math.sin(s),m=t+d,h=r+f,g=1^c,v=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Rl||Math.abs(this._y1-h)>Rl)&&this._append`L${m},${h}`,a&&(v<0&&(v=v%Mj+Mj),v>KX?this._append`A${a},${a},0,1,${g},${t-d},${r-f}A${a},${a},0,1,${g},${this._x1=m},${this._y1=h}`:v>Rl&&this._append`A${a},${a},0,${+(v>=Rj)},${g},${this._x1=t+a*Math.cos(l)},${this._y1=r+a*Math.sin(l)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function A1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new GX(t)}function P1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Z5(e){this._context=e}Z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ix(e){return new Z5(e)}function J5(e){return e[0]}function e3(e){return e[1]}function t3(e,t){var r=qt(!0),a=null,s=Ix,l=null,c=A1(d);e=typeof e=="function"?e:e===void 0?J5:qt(e),t=typeof t=="function"?t:t===void 0?e3:qt(t);function d(f){var m,h=(f=P1(f)).length,g,v=!1,y;for(a==null&&(l=s(y=c())),m=0;m<=h;++m)!(m<h&&r(g=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(g,m,f),+t(g,m,f));if(y)return l=null,y+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:qt(!!f),d):r},d.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),d):s},d.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),d):a},d}function uh(e,t,r){var a=null,s=qt(!0),l=null,c=Ix,d=null,f=A1(m);e=typeof e=="function"?e:e===void 0?J5:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?e3:qt(+r);function m(g){var v,y,N,b=(g=P1(g)).length,w,C=!1,E,A=new Array(b),T=new Array(b);for(l==null&&(d=c(E=f())),v=0;v<=b;++v){if(!(v<b&&s(w=g[v],v,g))===C)if(C=!C)y=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),N=v-1;N>=y;--N)d.point(A[N],T[N]);d.lineEnd(),d.areaEnd()}C&&(A[v]=+e(w,v,g),T[v]=+t(w,v,g),d.point(a?+a(w,v,g):A[v],r?+r(w,v,g):T[v]))}if(E)return d=null,E+""||null}function h(){return t3().defined(s).curve(c).context(l)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:qt(+g),a=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:qt(+g),m):e},m.x1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:qt(+g),m):a},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:qt(+g),r=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:qt(+g),m):t},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:qt(+g),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(a).y(t)},m.defined=function(g){return arguments.length?(s=typeof g=="function"?g:qt(!!g),m):s},m.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),m):c},m.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),m):l},m}class n3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function YX(e){return new n3(e,!0)}function QX(e){return new n3(e,!1)}const O1={draw(e,t){const r=Va(t/gp);e.moveTo(r,0),e.arc(0,0,r,0,Lx)}},XX={draw(e,t){const r=Va(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},r3=Va(1/3),ZX=r3*2,JX={draw(e,t){const r=Va(t/ZX),a=r*r3;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},eZ={draw(e,t){const r=Va(t),a=-r/2;e.rect(a,a,r,r)}},tZ=.8908130915292852,a3=xp(gp/10)/xp(7*gp/10),nZ=xp(Lx/10)*a3,rZ=-Q5(Lx/10)*a3,aZ={draw(e,t){const r=Va(t*tZ),a=nZ*r,s=rZ*r;e.moveTo(0,-r),e.lineTo(a,s);for(let l=1;l<5;++l){const c=Lx*l/5,d=Q5(c),f=xp(c);e.lineTo(f*r,-d*r),e.lineTo(d*a-f*s,f*a+d*s)}e.closePath()}},b0=Va(3),sZ={draw(e,t){const r=-Va(t/(b0*3));e.moveTo(0,r*2),e.lineTo(-b0*r,-r),e.lineTo(b0*r,-r),e.closePath()}},pa=-.5,xa=Va(3)/2,Dj=1/Va(12),iZ=(Dj/2+1)*3,lZ={draw(e,t){const r=Va(t/iZ),a=r/2,s=r*Dj,l=a,c=r*Dj+r,d=-l,f=c;e.moveTo(a,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(pa*a-xa*s,xa*a+pa*s),e.lineTo(pa*l-xa*c,xa*l+pa*c),e.lineTo(pa*d-xa*f,xa*d+pa*f),e.lineTo(pa*a+xa*s,pa*s-xa*a),e.lineTo(pa*l+xa*c,pa*c-xa*l),e.lineTo(pa*d+xa*f,pa*f-xa*d),e.closePath()}};function oZ(e,t){let r=null,a=A1(s);e=typeof e=="function"?e:qt(e||O1),t=typeof t=="function"?t:qt(t===void 0?64:+t);function s(){let l;if(r||(r=l=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:qt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),s):t},s.context=function(l){return arguments.length?(r=l??null,s):r},s}function vp(){}function yp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function s3(e){this._context=e}s3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cZ(e){return new s3(e)}function i3(e){this._context=e}i3.prototype={areaStart:vp,areaEnd:vp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dZ(e){return new i3(e)}function l3(e){this._context=e}l3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:yp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uZ(e){return new l3(e)}function o3(e){this._context=e}o3.prototype={areaStart:vp,areaEnd:vp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fZ(e){return new o3(e)}function lO(e){return e<0?-1:1}function oO(e,t,r){var a=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(a||s<0&&-0),c=(r-e._y1)/(s||a<0&&-0),d=(l*s+c*a)/(a+s);return(lO(l)+lO(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function cO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function j0(e,t,r){var a=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-a)/3;e._context.bezierCurveTo(a+d,s+d*t,l-d,c-d*r,l,c)}function bp(e){this._context=e}bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:j0(this,this._t0,cO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,j0(this,cO(this,r=oO(this,e,t)),r);break;default:j0(this,this._t0,r=oO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function c3(e){this._context=new d3(e)}(c3.prototype=Object.create(bp.prototype)).point=function(e,t){bp.prototype.point.call(this,t,e)};function d3(e){this._context=e}d3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,l){this._context.bezierCurveTo(t,e,a,r,l,s)}};function mZ(e){return new bp(e)}function hZ(e){return new c3(e)}function u3(e){this._context=e}u3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=dO(e),s=dO(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(a[0][l],s[0][l],a[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dO(e){var t,r=e.length-1,a,s=new Array(r),l=new Array(r),c=new Array(r);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/l[t-1],l[t]-=a,c[t]-=a*c[t-1];for(s[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function pZ(e){return new u3(e)}function $x(e,t){this._context=e,this._t=t}$x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xZ(e){return new $x(e,.5)}function gZ(e){return new $x(e,0)}function vZ(e){return new $x(e,1)}function Nc(e,t){if((c=e.length)>1)for(var r=1,a,s,l=e[t[0]],c,d=l.length;r<c;++r)for(s=l,l=e[t[r]],a=0;a<d;++a)l[a][1]+=l[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Lj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yZ(e,t){return e[t]}function bZ(e){const t=[];return t.key=e,t}function jZ(){var e=qt([]),t=Lj,r=Nc,a=yZ;function s(l){var c=Array.from(e.apply(this,arguments),bZ),d,f=c.length,m=-1,h;for(const g of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+a(g,c[d].key,m,l)]).data=g;for(d=0,h=P1(t(c));d<f;++d)c[h[d]].index=d;return r(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:qt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(a=typeof l=="function"?l:qt(+l),s):a},s.order=function(l){return arguments.length?(t=l==null?Lj:typeof l=="function"?l:qt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(r=l??Nc,s):r},s}function wZ(e,t){if((a=e.length)>0){for(var r,a,s=0,l=e[0].length,c;s<l;++s){for(c=r=0;r<a;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<a;++r)e[r][s][1]/=c}Nc(e,t)}}function NZ(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,l=a.length;r<l;++r){for(var c=0,d=0;c<s;++c)d+=e[c][r][1]||0;a[r][1]+=a[r][0]=-d/2}Nc(e,t)}}function SZ(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,l,c;a<l;++a){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],g=h[a][1]||0,v=h[a-1][1]||0,y=(g-v)/2,N=0;N<d;++N){var b=e[t[N]],w=b[a][1]||0,C=b[a-1][1]||0;y+=w-C}f+=g,m+=y*g}s[a-1][1]+=s[a-1][0]=r,f&&(r-=m/f)}s[a-1][1]+=s[a-1][0]=r,Nc(e,t)}}var w0={},N0={},uO;function CZ(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(N0)),N0}var S0={},fO;function f3(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(S0)),S0}var C0={},mO;function T1(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(C0)),C0}var E0={},A0={},hO;function EZ(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(A0)),A0}var pO;function k1(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EZ(),r=T1();function a(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const l=[],c=s.length;if(c===0)return l;let d=0,f="",m="",h=!1;for(s.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=s[d];m?g==="\\"&&d+1<c?(d++,f+=s[d]):g===m?m="":f+=g:h?g==='"'||g==="'"?m=g:g==="]"?(h=!1,l.push(f),f=""):f+=g:g==="["?(h=!0,f&&(l.push(f),f="")):g==="."?f&&(l.push(f),f=""):f+=g,d++}return f&&l.push(f),l}e.toPath=a})(E0)),E0}var xO;function _1(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CZ(),r=f3(),a=T1(),s=k1();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?r.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=a.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return m;h=h[f[g]]}return h===void 0?m:h}e.get=l})(w0)),w0}var P0,gO;function AZ(){return gO||(gO=1,P0=_1().get),P0}var PZ=AZ();const to=ls(PZ);var qn=e=>e===0?0:e>0?1:-1,_r=e=>typeof e=="number"&&e!=+e,Xs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fe=e=>(typeof e=="number"||e instanceof Number)&&!_r(e),Sa=e=>Fe(e)||typeof e=="string",OZ=0,Cu=e=>{var t=++OZ;return"".concat(e||"").concat(t)},ir=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&typeof t!="string")return a;var l;if(Xs(t)){if(r==null)return a;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return _r(l)&&(l=a),s&&r!=null&&l>r&&(l=r),l},m3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function Qt(e,t,r){return Fe(e)&&Fe(t)?e+r*(t-e):t}function h3(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):to(a,t))===r)}var rn=e=>e===null||typeof e>"u",lf=e=>rn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function TZ(e){return e!=null}function of(){}var kZ=["type","size","sizeType"];function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ij.apply(null,arguments)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(a){_Z(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _Z(e,t,r){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DZ(e,t){if(e==null)return{};var r,a,s=LZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function LZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var p3={symbolCircle:O1,symbolCross:XX,symbolDiamond:JX,symbolSquare:eZ,symbolStar:aZ,symbolTriangle:sZ,symbolWye:lZ},IZ=Math.PI/180,$Z=e=>{var t="symbol".concat(lf(e));return p3[t]||O1},FZ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*IZ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zZ=(e,t)=>{p3["symbol".concat(lf(e))]=t},R1=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=DZ(e,kZ),l=yO(yO({},s),{},{type:t,size:r,sizeType:a}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var v=$Z(c),y=oZ().type(v).size(FZ(r,a,c)),N=y();if(N!==null)return N},{className:f,cx:m,cy:h}=l,g=or(l);return Fe(m)&&Fe(h)&&Fe(r)?p.createElement("path",Ij({},g,{className:wt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};R1.registerSymbol=zZ;var x3=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,M1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{C1(s)&&(a[s]=(l=>r[s](r,l)))}),a},BZ=(e,t,r)=>a=>(e(t,r,a),null),cf=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var l=e[s];C1(s)&&typeof l=="function"&&(a||(a={}),a[s]=BZ(l,t,r))}),a};function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function UZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(a){HZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function HZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(e,t){var r=UZ({},e),a=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),r);return l}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jp.apply(null,arguments)}function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function KZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(a){WZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WZ(e,t,r){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ya=32,QZ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function XZ(e){var{data:t,iconType:r,inactiveColor:a}=e,s=ya/2,l=ya/6,c=ya/3,d=t.inactive?a:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var m;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:s,x2:ya,y2:s,className:"recharts-legend-icon"})}if(f==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(ya,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(f==="rect")return p.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ya/8,"h").concat(ya,"v").concat(ya*3/4,"h").concat(-ya,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var h=KZ({},t);return delete h.legendIcon,p.cloneElement(t.legendIcon,h)}return p.createElement(R1,{fill:d,cx:s,cy:s,size:ya,sizeType:"diameter",type:f})}function ZZ(e){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:l,iconType:c}=e,d={x:0,y:0,width:ya,height:ya},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var v=h.formatter||s,y=wt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var N=h.inactive?l:h.color,b=v?v(h.value,h,g):h.value;return p.createElement("li",jp({className:y,style:f,key:"legend-item-".concat(g)},cf(e,h,g)),p.createElement(E1,{width:r,height:r,viewBox:d,style:m,"aria-label":"".concat(b," legend icon")},p.createElement(XZ,{data:h,iconType:c,inactiveColor:l})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},b))})}var JZ=e=>{var t=bn(e,QZ),{payload:r,layout:a,align:s}=t;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:l},p.createElement(ZZ,jp({},t,{payload:r})))},O0={},T0={},wO;function eJ(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let l=0;l<r.length;l++){const c=r[l],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(T0)),T0}var k0={},NO;function g3(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(k0)),k0}var _0={},R0={},M0={},SO;function tJ(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(M0)),M0}var CO;function D1(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tJ();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(R0)),R0}var D0={},EO;function nJ(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(D0)),D0}var AO;function rJ(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D1(),r=nJ();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(_0)),_0}var L0={},I0={},PO;function aJ(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1();function r(a){return function(s){return t.get(s,a)}}e.property=r})(I0)),I0}var $0={},F0={},z0={},B0={},OO;function v3(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(B0)),B0}var U0={},TO;function y3(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(U0)),U0}var H0={},kO;function b3(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(H0)),H0}var _O;function sJ(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v3(),r=y3(),a=b3();function s(h,g,v){return typeof v!="function"?s(h,g,()=>{}):l(h,g,function y(N,b,w,C,E,A){const T=v(N,b,w,C,E,A);return T!==void 0?!!T:l(N,b,y,A)},new Map)}function l(h,g,v,y){if(g===h)return!0;switch(typeof g){case"object":return c(h,g,v,y);case"function":return Object.keys(g).length>0?l(h,{...g},v,y):a.eq(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:a.eq(h,g)}}function c(h,g,v,y){if(g==null)return!0;if(Array.isArray(g))return f(h,g,v,y);if(g instanceof Map)return d(h,g,v,y);if(g instanceof Set)return m(h,g,v,y);const N=Object.keys(g);if(h==null)return N.length===0;if(N.length===0)return!0;if(y?.has(g))return y.get(g)===h;y?.set(g,h);try{for(let b=0;b<N.length;b++){const w=N[b];if(!r.isPrimitive(h)&&!(w in h)||g[w]===void 0&&h[w]!==void 0||g[w]===null&&h[w]!==null||!v(h[w],g[w],w,h,g,y))return!1}return!0}finally{y?.delete(g)}}function d(h,g,v,y){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[N,b]of g.entries()){const w=h.get(N);if(v(w,b,N,h,g,y)===!1)return!1}return!0}function f(h,g,v,y){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const N=new Set;for(let b=0;b<g.length;b++){const w=g[b];let C=!1;for(let E=0;E<h.length;E++){if(N.has(E))continue;const A=h[E];let T=!1;if(v(A,w,b,h,g,y)&&(T=!0),T){N.add(E),C=!0;break}}if(!C)return!1}return!0}function m(h,g,v,y){return g.size===0?!0:h instanceof Set?f([...h],[...g],v,y):!1}e.isMatchWith=s,e.isSetMatch=m})(z0)),z0}var RO;function j3(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sJ();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(F0)),F0}var V0={},q0={},K0={},MO;function iJ(){return MO||(MO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(K0)),K0}var W0={},DO;function w3(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(W0)),W0}var G0={},LO;function N3(){return LO||(LO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",N="[object Error]",b="[object DataView]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",I="[object BigInt64Array]",Y="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=b,e.dateTag=d,e.errorTag=N,e.float32ArrayTag=Y,e.float64ArrayTag=L,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=M,e.int8ArrayTag=k,e.mapTag=f,e.numberTag=a,e.objectTag=y,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=C})(G0)),G0}var Y0={},IO;function lJ(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Y0)),Y0}var $O;function S3(){return $O||($O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iJ(),r=w3(),a=N3(),s=y3(),l=lJ();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,v,y=new Map,N=void 0){const b=N?.(h,g,v,y);if(b!==void 0)return b;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const w=new Array(h.length);y.set(h,w);for(let C=0;C<h.length;C++)w[C]=d(h[C],C,v,y,N);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;y.set(h,w);for(const[C,E]of h)w.set(C,d(E,C,v,y,N));return w}if(h instanceof Set){const w=new Set;y.set(h,w);for(const C of h)w.add(d(C,void 0,v,y,N));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,w);for(let C=0;C<h.length;C++)w[C]=d(h[C],C,v,y,N);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,w),f(w,h,v,y,N),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return y.set(h,w),f(w,h,v,y,N),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return y.set(h,w),f(w,h,v,y,N),w}if(h instanceof Error){const w=new h.constructor;return y.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,f(w,h,v,y,N),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return y.set(h,w),f(w,h,v,y,N),w}if(h instanceof Number){const w=new Number(h.valueOf());return y.set(h,w),f(w,h,v,y,N),w}if(h instanceof String){const w=new String(h.valueOf());return y.set(h,w),f(w,h,v,y,N),w}if(typeof h=="object"&&m(h)){const w=Object.create(Object.getPrototypeOf(h));return y.set(h,w),f(w,h,v,y,N),w}return h}function f(h,g,v=h,y,N){const b=[...Object.keys(g),...t.getSymbols(g)];for(let w=0;w<b.length;w++){const C=b[w],E=Object.getOwnPropertyDescriptor(h,C);(E==null||E.writable)&&(h[C]=d(g[C],C,v,y,N))}}function m(h){switch(r.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f})(q0)),q0}var FO;function oJ(){return FO||(FO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S3();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(V0)),V0}var zO;function cJ(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j3(),r=oJ();function a(s){return s=r.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=a})($0)),$0}var Q0={},X0={},Z0={},BO;function dJ(){return BO||(BO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S3(),r=N3();function a(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l?.(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s?.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=a})(Z0)),Z0}var UO;function uJ(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dJ();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(X0)),X0}var J0={},eb={},HO;function C3(){return HO||(HO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(eb)),eb}var tb={},VO;function fJ(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w3();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(tb)),tb}var qO;function mJ(){return qO||(qO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f3(),r=C3(),a=fJ(),s=k1();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const g=f[h];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||a.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=l})(J0)),J0}var KO;function hJ(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j3(),r=T1(),a=uJ(),s=_1(),l=mJ();function c(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=a.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(Q0)),Q0}var WO;function pJ(){return WO||(WO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g3(),r=aJ(),a=cJ(),s=hJ();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(L0)),L0}var GO;function xJ(){return GO||(GO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eJ(),r=g3(),a=rJ(),s=pJ();function l(c,d=r.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l})(O0)),O0}var nb,YO;function gJ(){return YO||(YO=1,nb=xJ().uniqBy),nb}var vJ=gJ();const QO=ls(vJ);function E3(e,t,r){return t===!0?QO(e,r):typeof t=="function"?QO(e,t):e}var rb={exports:{}},ab={};var XO;function yJ(){if(XO)return ab;XO=1;var e=_c(),t=n4();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return ab.useSyncExternalStoreWithSelector=function(m,h,g,v,y){var N=l(null);if(N.current===null){var b={hasValue:!1,value:null};N.current=b}else b=N.current;N=d(function(){function C(P){if(!E){if(E=!0,A=P,P=v(P),y!==void 0&&b.hasValue){var M=b.value;if(y(M,P))return T=M}return T=P}if(M=T,a(A,P))return M;var I=v(P);return y!==void 0&&y(M,I)?(A=P,M):(A=P,T=I)}var E=!1,A,T,k=g===void 0?null:g;return[function(){return C(h())},k===null?void 0:function(){return C(k())}]},[h,g,v,y]);var w=s(m,N[0],N[1]);return c(function(){b.hasValue=!0,b.value=w},[w]),f(w),w},ab}var ZO;function bJ(){return ZO||(ZO=1,rb.exports=yJ()),rb.exports}var jJ=bJ(),L1=p.createContext(null),wJ=e=>e,Vt=()=>{var e=p.useContext(L1);return e?e.store.dispatch:wJ},Uh=()=>{},NJ=()=>Uh,SJ=(e,t)=>e===t;function Ie(e){var t=p.useContext(L1);return jJ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:NJ,t?t.store.getState:Uh,t?t.store.getState:Uh,t?e:Uh,SJ)}function CJ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function EJ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function AJ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var JO=e=>Array.isArray(e)?e:[e];function PJ(e){const t=Array.isArray(e[0])?e[0]:e;return AJ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function OJ(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var TJ=class{constructor(e){this.value=e}deref(){return this.value}},kJ=typeof WeakRef<"u"?WeakRef:TJ,_J=0,eT=1;function fh(){return{s:_J,v:void 0,o:null,p:null}}function A3(e,t={}){let r=fh();const{resultEqualityCheck:a}=t;let s,l=0;function c(){let d=r;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const b=N.get(y);b===void 0?(d=fh(),N.set(y,d)):d=b}else{let N=d.p;N===null&&(d.p=N=new Map);const b=N.get(y);b===void 0?(d=fh(),N.set(y,d)):d=b}}const m=d;let h;if(d.s===eT)h=d.v;else if(h=e.apply(null,arguments),l++,a){const g=s?.deref?.()??s;g!=null&&a(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new kJ(h):h}return m.s=eT,m.v=h,h}return c.clearCache=()=>{r=fh(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function RJ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),CJ(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:y=A3,argsMemoizeOptions:N=[]}=h,b=JO(v),w=JO(N),C=PJ(s),E=g(function(){return l++,m.apply(null,arguments)},...b),A=y(function(){c++;const k=OJ(C,arguments);return d=E.apply(null,k),d},...w);return Object.assign(A,{resultFunc:m,memoizedResultFunc:E,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var ue=RJ(A3),MJ=Object.assign((e,t=ue)=>{EJ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(l=>e[l]);return t(a,(...l)=>l.reduce((c,d,f)=>(c[r[f]]=d,c),{}))},{withTypes:()=>MJ}),sb={},ib={},lb={},tT;function DJ(){return tT||(tT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,l)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return l==="desc"?1:-1;if(a>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=r})(lb)),lb}var ob={},cb={},nT;function P3(){return nT||(nT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(cb)),cb}var rT;function LJ(){return rT||(rT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P3(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(a.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s})(ob)),ob}var aT;function IJ(){return aT||(aT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DJ(),r=LJ(),a=k1();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const m=(y,N)=>{let b=y;for(let w=0;w<N.length&&b!=null;++w)b=b[N[w]];return b},h=(y,N)=>N==null||y==null?N:typeof y=="object"&&"key"in y?Object.hasOwn(N,y.key)?N[y.key]:m(N,y.path):typeof y=="function"?y(N):Array.isArray(y)?m(N,y):typeof N=="object"?N[y]:N,g=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:a.toPath(y)}));return l.map(y=>({original:y,criteria:g.map(N=>h(N,y))})).slice().sort((y,N)=>{for(let b=0;b<g.length;b++){const w=t.compareValues(y.criteria[b],N.criteria[b],d[b]);if(w!==0)return w}return 0}).map(y=>y.original)}e.orderBy=s})(ib)),ib}var db={},sT;function $J(){return sT||(sT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],l=Math.floor(a),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(r,0),s}e.flatten=t})(db)),db}var ub={},iT;function O3(){return iT||(iT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C3(),r=D1(),a=v3(),s=b3();function l(c,d,f){return a.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l})(ub)),ub}var lT;function FJ(){return lT||(lT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IJ(),r=$J(),a=O3();function s(l,...c){const d=c.length;return d>1&&a.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=s})(sb)),sb}var fb,oT;function zJ(){return oT||(oT=1,fb=FJ().sortBy),fb}var BJ=zJ();const Fx=ls(BJ);var T3=e=>e.legend.settings,UJ=e=>e.legend.size,HJ=e=>e.legend.payload,VJ=ue([HJ,T3],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?Fx(a,r):a});function qJ(){return Ie(VJ)}var mh=1;function k3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>mh||Math.abs(c.left-t.left)>mh||Math.abs(c.top-t.top)>mh||Math.abs(c.width-t.width)>mh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Jn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",cT=KJ,mb=()=>Math.random().toString(36).substring(7).split("").join("."),WJ={INIT:`@@redux/INIT${mb()}`,REPLACE:`@@redux/REPLACE${mb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mb()}`},wp=WJ;function I1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _3(e,t,r){if(typeof e!="function")throw new Error(Jn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Jn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Jn(1));return r(_3)(e,t)}let a=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((w,C)=>{c.set(C,w)}))}function h(){if(f)throw new Error(Jn(3));return s}function g(w){if(typeof w!="function")throw new Error(Jn(4));if(f)throw new Error(Jn(5));let C=!0;m();const E=d++;return c.set(E,w),function(){if(C){if(f)throw new Error(Jn(6));C=!1,m(),c.delete(E),l=null}}}function v(w){if(!I1(w))throw new Error(Jn(7));if(typeof w.type>"u")throw new Error(Jn(8));if(typeof w.type!="string")throw new Error(Jn(17));if(f)throw new Error(Jn(9));try{f=!0,s=a(s,w)}finally{f=!1}return(l=c).forEach(E=>{E()}),w}function y(w){if(typeof w!="function")throw new Error(Jn(10));a=w,v({type:wp.REPLACE})}function N(){const w=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Jn(11));function E(){const T=C;T.next&&T.next(h())}return E(),{unsubscribe:w(E)}},[cT](){return this}}}return v({type:wp.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:y,[cT]:N}}function GJ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:wp.INIT})>"u")throw new Error(Jn(12));if(typeof r(void 0,{type:wp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jn(13))})}function R3(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const a=Object.keys(r);let s;try{GJ(r)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<a.length;h++){const g=a[h],v=r[g],y=c[g],N=v(y,d);if(typeof N>"u")throw d&&d.type,new Error(Jn(14));m[g]=N,f=f||N!==y}return f=f||a.length!==Object.keys(c).length,f?m:c}}function Np(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function YJ(...e){return t=>(r,a)=>{const s=t(r,a);let l=()=>{throw new Error(Jn(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=Np(...d)(s.dispatch),{...s,dispatch:l}}}function M3(e){return I1(e)&&"type"in e&&typeof e.type=="string"}var D3=Symbol.for("immer-nothing"),dT=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function Ma(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Gr=Object,Sc=Gr.getPrototypeOf,Sp="constructor",zx="prototype",$j="configurable",Cp="enumerable",Hh="writable",Eu="value",Zs=e=>!!e&&!!e[pr];function Ua(e){return e?L3(e)||Bx(e)||!!e[dT]||!!e[Sp]?.[dT]||Ux(e)||Hx(e):!1}var QJ=Gr[zx][Sp].toString(),uT=new WeakMap;function L3(e){if(!e||!$1(e))return!1;const t=Sc(e);if(t===null||t===Gr[zx])return!0;const r=Gr.hasOwnProperty.call(t,Sp)&&t[Sp];if(r===Object)return!0;if(!ic(r))return!1;let a=uT.get(r);return a===void 0&&(a=Function.toString.call(r),uT.set(r,a)),a===QJ}function df(e,t,r=!0){uf(e)===0?(r?Reflect.ownKeys(e):Gr.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function uf(e){const t=e[pr];return t?t.type_:Bx(e)?1:Ux(e)?2:Hx(e)?3:0}var fT=(e,t,r=uf(e))=>r===2?e.has(t):Gr[zx].hasOwnProperty.call(e,t),Fj=(e,t,r=uf(e))=>r===2?e.get(t):e[t],Ep=(e,t,r,a=uf(e))=>{a===2?e.set(t,r):a===3?e.add(r):e[t]=r};function XJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Bx=Array.isArray,Ux=e=>e instanceof Map,Hx=e=>e instanceof Set,$1=e=>typeof e=="object",ic=e=>typeof e=="function",hb=e=>typeof e=="boolean",Ds=e=>e.copy_||e.base_,F1=e=>e.modified_?e.copy_:e.base_;function zj(e,t){if(Ux(e))return new Map(e);if(Hx(e))return new Set(e);if(Bx(e))return Array[zx].slice.call(e);const r=L3(e);if(t===!0||t==="class_only"&&!r){const a=Gr.getOwnPropertyDescriptors(e);delete a[pr];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d[Hh]===!1&&(d[Hh]=!0,d[$j]=!0),(d.get||d.set)&&(a[c]={[$j]:!0,[Hh]:!0,[Cp]:d[Cp],[Eu]:e[c]})}return Gr.create(Sc(e),a)}else{const a=Sc(e);if(a!==null&&r)return{...e};const s=Gr.create(a);return Gr.assign(s,e)}}function z1(e,t=!1){return Vx(e)||Zs(e)||!Ua(e)||(uf(e)>1&&Gr.defineProperties(e,{set:hh,add:hh,clear:hh,delete:hh}),Gr.freeze(e),t&&df(e,(r,a)=>{z1(a,!0)},!1)),e}function ZJ(){Ma(2)}var hh={[Eu]:ZJ};function Vx(e){return e===null||!$1(e)?!0:Gr.isFrozen(e)}var Ap="MapSet",Bj="Patches",I3={};function Cc(e){const t=I3[e];return t||Ma(0,e),t}var JJ=e=>!!I3[e],Au,$3=()=>Au,eee=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:JJ(Ap)?Cc(Ap):void 0});function mT(e,t){t&&(e.patchPlugin_=Cc(Bj),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Uj(e){Hj(e),e.drafts_.forEach(tee),e.drafts_=null}function Hj(e){e===Au&&(Au=e.parent_)}var hT=e=>Au=eee(Au,e);function tee(e){const t=e[pr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[pr].modified_&&(Uj(t),Ma(4)),Ua(e)&&(e=xT(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[pr].base_,e,t)}else e=xT(t,r);return nee(t,e,!0),Uj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==D3?e:void 0}function xT(e,t){if(Vx(t))return t;const r=t[pr];if(!r)return B1(t,e.handledSet_,e);if(!qx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:a}=r;if(a)for(;a.length>0;)a.pop()(e);B3(r,e)}return r.copy_}function nee(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&z1(t,r)}function F3(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var qx=(e,t)=>e.scope_===t,ree=[];function z3(e,t,r,a){const s=Ds(e),l=e.type_;if(a!==void 0&&Fj(s,a,l)===t){Ep(s,a,r,l);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;df(s,(f,m)=>{if(Zs(m)){const h=d.get(m)||[];h.push(f),d.set(m,h)}})}const c=e.draftLocations_.get(t)??ree;for(const d of c)Ep(s,d,r,l)}function aee(e,t,r){e.callbacks_.push(function(s){const l=t;if(!l||!qx(l,s))return;s.mapSetPlugin_?.fixSetContents(l);const c=F1(l);z3(e,l.draft_??l,c,r),B3(l,s)})}function B3(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}F3(e)}}function see(e,t,r){const{scope_:a}=e;if(Zs(r)){const s=r[pr];qx(s,a)&&s.callbacks_.push(function(){Vh(e);const c=F1(s);z3(e,r,c,t)})}else Ua(r)&&e.callbacks_.push(function(){const l=Ds(e);Fj(l,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&B1(Fj(e.copy_,t,e.type_),a.handledSet_,a)})}function B1(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Zs(e)||t.has(e)||!Ua(e)||Vx(e)||(t.add(e),df(e,(a,s)=>{if(Zs(s)){const l=s[pr];if(qx(l,r)){const c=F1(l);Ep(e,a,c,e.type_),F3(l)}}else Ua(s)&&B1(s,t,r)})),e}function iee(e,t){const r=Bx(e),a={type_:r?1:0,scope_:t?t.scope_:$3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,l=U1;r&&(s=[a],l=Pu);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,[d,a]}var U1={get(e,t){if(t===pr)return e;const r=Ds(e);if(!fT(r,t,e.type_))return lee(e,r,t);const a=r[t];if(e.finalized_||!Ua(a))return a;if(a===pb(e.base_,t)){Vh(e);const s=e.type_===1?+t:t,l=qj(e.scope_,a,e,s);return e.copy_[s]=l}return a},has(e,t){return t in Ds(e)},ownKeys(e){return Reflect.ownKeys(Ds(e))},set(e,t,r){const a=U3(Ds(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=pb(Ds(e),t),l=s?.[pr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(XJ(r,s)&&(r!==void 0||fT(e.base_,t,e.type_)))return!0;Vh(e),Vj(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),see(e,t,r)),!0},deleteProperty(e,t){return Vh(e),pb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Vj(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ds(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{[Hh]:!0,[$j]:e.type_!==1||t!=="length",[Cp]:a[Cp],[Eu]:r[t]}},defineProperty(){Ma(11)},getPrototypeOf(e){return Sc(e.base_)},setPrototypeOf(){Ma(12)}},Pu={};df(U1,(e,t)=>{Pu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Pu.deleteProperty=function(e,t){return Pu.set.call(this,e,t,void 0)};Pu.set=function(e,t,r){return U1.set.call(this,e[0],t,r,e[0])};function pb(e,t){const r=e[pr];return(r?Ds(r):e)[t]}function lee(e,t,r){const a=U3(t,r);return a?Eu in a?a[Eu]:a.get?.call(e.draft_):void 0}function U3(e,t){if(!(t in e))return;let r=Sc(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Sc(r)}}function Vj(e){e.modified_||(e.modified_=!0,e.parent_&&Vj(e.parent_))}function Vh(e){e.copy_||(e.assigned_=new Map,e.copy_=zj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,a,s)=>{if(ic(r)&&!ic(a)){const c=a;a=r;const d=this;return function(m=c,...h){return d.produce(m,g=>a.call(this,g,...h))}}ic(a)||Ma(6),s!==void 0&&!ic(s)&&Ma(7);let l;if(Ua(r)){const c=hT(this),d=qj(c,r,void 0);let f=!0;try{l=a(d),f=!1}finally{f?Uj(c):Hj(c)}return mT(c,s),pT(l,c)}else if(!r||!$1(r)){if(l=a(r),l===void 0&&(l=r),l===D3&&(l=void 0),this.autoFreeze_&&z1(l,!0),s){const c=[],d=[];Cc(Bj).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:d}),s(c,d)}return l}else Ma(1,r)},this.produceWithPatches=(r,a)=>{if(ic(r))return(d,...f)=>this.produceWithPatches(d,m=>r(m,...f));let s,l;return[this.produce(r,a,(d,f)=>{s=d,l=f}),s,l]},hb(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),hb(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),hb(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ua(t)||Ma(8),Zs(t)&&(t=$a(t));const r=hT(this),a=qj(r,t,void 0);return a[pr].isManual_=!0,Hj(r),a}finishDraft(t,r){const a=t&&t[pr];(!a||!a.isManual_)&&Ma(9);const{scope_:s}=a;return mT(s,r),pT(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const l=r[a];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}a>-1&&(r=r.slice(a+1));const s=Cc(Bj).applyPatches_;return Zs(t)?s(t,r):this.produce(t,l=>s(l,r))}};function qj(e,t,r,a){const[s,l]=Ux(t)?Cc(Ap).proxyMap_(t,r):Hx(t)?Cc(Ap).proxySet_(t,r):iee(t,r);return(r?.scope_??$3()).drafts_.push(s),l.callbacks_=r?.callbacks_??[],l.key_=a,r&&a!==void 0?aee(r,l,a):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),s}function $a(e){return Zs(e)||Ma(10,e),H3(e)}function H3(e){if(!Ua(e)||Vx(e))return e;const t=e[pr];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=zj(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=zj(e,!0);return df(r,(s,l)=>{Ep(r,s,H3(l))},a),t&&(t.finalized_=!1),r}var cee=new oee,V3=cee.produce;function q3(e){return({dispatch:r,getState:a})=>s=>l=>typeof l=="function"?l(r,a,e):s(l)}var dee=q3(),uee=q3,fee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Np:Np.apply(null,arguments)};function Ca(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(Xr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>M3(a)&&a.type===e,r}var K3=class iu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,iu.prototype)}static get[Symbol.species](){return iu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new iu(...t[0].concat(this)):new iu(...t.concat(this))}};function gT(e){return Ua(e)?V3(e,()=>{}):e}function ph(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function mee(e){return typeof e=="boolean"}var hee=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new K3;return r&&(mee(r)?c.push(dee):c.push(uee(r.extraArgument))),c},W3="RTK_autoBatch",en=()=>e=>({payload:e,meta:{[W3]:!0}}),vT=e=>t=>{setTimeout(t,e)},G3=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vT(10):e.type==="callback"?e.queueNotification:vT(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const g=()=>s&&h(),v=a.subscribe(g);return d.add(h),()=>{v(),d.delete(h)}},dispatch(h){try{return s=!h?.meta?.[W3],l=!s,l&&(c||(c=!0,f(m))),a.dispatch(h)}finally{s=!0}}})},pee=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new K3(e);return a&&s.push(G3(typeof a=="object"?a:void 0)),s};function xee(e){const t=hee(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(I1(r))d=R3(r);else throw new Error(Xr(1));let f;typeof a=="function"?f=a(t):f=t();let m=Np;s&&(m=fee({trace:!1,...typeof s=="object"&&s}));const h=YJ(...f),g=pee(h);let v=typeof c=="function"?c(g):g();const y=m(...v);return _3(d,l,y)}function Y3(e){const t={},r=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Xr(28));if(d in t)throw new Error(Xr(29));return t[d]=c,s},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return r.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return e(s),[t,r,a]}function gee(e){return typeof e=="function"}function vee(e,t){let[r,a,s]=Y3(t),l;if(gee(e))l=()=>gT(e());else{const d=gT(e);l=()=>d}function c(d=l(),f){let m=[r[f.type],...a.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,g)=>{if(g)if(Zs(h)){const y=g(h,f);return y===void 0?h:y}else{if(Ua(h))return V3(h,v=>g(v,f));{const v=g(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},d)}return c.getInitialState=l,c}var yee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bee=(e=21)=>{let t="",r=e;for(;r--;)t+=yee[Math.random()*64|0];return t},jee=Symbol.for("rtk-slice-createasyncthunk");function wee(e,t){return`${e}/${t}`}function Nee({creators:e}={}){const t=e?.asyncThunk?.[jee];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(Xr(11));const c=(typeof a.reducers=="function"?a.reducers(Cee()):a.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,T){const k=typeof A=="string"?A:A.type;if(!k)throw new Error(Xr(12));if(k in f.sliceCaseReducersByType)throw new Error(Xr(13));return f.sliceCaseReducersByType[k]=T,m},addMatcher(A,T){return f.sliceMatchers.push({matcher:A,reducer:T}),m},exposeAction(A,T){return f.actionCreators[A]=T,m},exposeCaseReducer(A,T){return f.sliceCaseReducersByName[A]=T,m}};d.forEach(A=>{const T=c[A],k={reducerName:A,type:wee(s,A),createNotation:typeof a.reducers=="function"};Aee(T)?Oee(k,T,m,t):Eee(k,T,m)});function h(){const[A={},T=[],k=void 0]=typeof a.extraReducers=="function"?Y3(a.extraReducers):[a.extraReducers],P={...A,...f.sliceCaseReducersByType};return vee(a.initialState,M=>{for(let I in P)M.addCase(I,P[I]);for(let I of f.sliceMatchers)M.addMatcher(I.matcher,I.reducer);for(let I of T)M.addMatcher(I.matcher,I.reducer);k&&M.addDefaultCase(k)})}const g=A=>A,v=new Map,y=new WeakMap;let N;function b(A,T){return N||(N=h()),N(A,T)}function w(){return N||(N=h()),N.getInitialState()}function C(A,T=!1){function k(M){let I=M[A];return typeof I>"u"&&T&&(I=ph(y,k,w)),I}function P(M=g){const I=ph(v,T,()=>new WeakMap);return ph(I,M,()=>{const Y={};for(const[L,R]of Object.entries(a.selectors??{}))Y[L]=See(R,M,()=>ph(y,M,w),T);return Y})}return{reducerPath:A,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const E={name:s,reducer:b,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:w,...C(l),injectInto(A,{reducerPath:T,...k}={}){const P=T??l;return A.inject({reducerPath:P,reducer:b},k),{...E,...C(P,!0)}}};return E}}function See(e,t,r,a){function s(l,...c){let d=t(l);return typeof d>"u"&&a&&(d=r()),e(d,...c)}return s.unwrapped=e,s}var Mr=Nee();function Cee(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Eee({type:e,reducerName:t,createNotation:r},a,s){let l,c;if("reducer"in a){if(r&&!Pee(a))throw new Error(Xr(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?Ca(e,c):Ca(e))}function Aee(e){return e._reducerDefinitionType==="asyncThunk"}function Pee(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Oee({type:e,reducerName:t},r,a,s){if(!s)throw new Error(Xr(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=r,g=s(e,l,h);a.exposeAction(t,g),c&&a.addCase(g.fulfilled,c),d&&a.addCase(g.pending,d),f&&a.addCase(g.rejected,f),m&&a.addMatcher(g.settled,m),a.exposeCaseReducer(t,{fulfilled:c||xh,pending:d||xh,rejected:f||xh,settled:m||xh})}function xh(){}var Tee="task",Q3="listener",X3="completed",H1="cancelled",kee=`task-${H1}`,_ee=`task-${X3}`,Kj=`${Q3}-${H1}`,Ree=`${Q3}-${X3}`,Kx=class{constructor(e){this.code=e,this.message=`${Tee} ${H1} (reason: ${e})`}name="TaskAbortError";message},V1=(e,t)=>{if(typeof e!="function")throw new TypeError(Xr(32))},Pp=()=>{},Z3=(e,t=Pp)=>(e.catch(t),e),J3=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ul=e=>{if(e.aborted)throw new Kx(e.reason)};function eL(e,t){let r=Pp;return new Promise((a,s)=>{const l=()=>s(new Kx(e.reason));if(e.aborted){l();return}r=J3(e,l),t.finally(()=>r()).then(a,s)}).finally(()=>{r=Pp})}var Mee=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Kx?"cancelled":"rejected",error:r}}finally{t?.()}},Op=e=>t=>Z3(eL(e,t).then(r=>(Ul(e),r))),tL=e=>{const t=Op(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:hc}=Object,yT={},Wx="listenerMiddleware",Dee=(e,t)=>{const r=a=>J3(e,()=>a.abort(e.reason));return(a,s)=>{V1(a);const l=new AbortController;r(l);const c=Mee(async()=>{Ul(e),Ul(l.signal);const d=await a({pause:Op(l.signal),delay:tL(l.signal),signal:l.signal});return Ul(l.signal),d},()=>l.abort(_ee));return s?.autoJoin&&t.push(c.catch(Pp)),{result:Op(e)(c),cancel(){l.abort(kee)}}}},Lee=(e,t)=>{const r=async(a,s)=>{Ul(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:a,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await eL(t,Promise.race(d));return Ul(t),f}finally{l()}};return(a,s)=>Z3(r(a,s))},nL=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:l}=e;if(t)s=Ca(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(Xr(21));return V1(l),{predicate:s,type:t,effect:l}},rL=hc(e=>{const{type:t,predicate:r,effect:a}=nL(e);return{id:bee(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Xr(22))}}},{withTypes:()=>rL}),bT=(e,t)=>{const{type:r,effect:a,predicate:s}=nL(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===s)&&l.effect===a)},Wj=e=>{e.pending.forEach(t=>{t.abort(Kj)})},Iee=(e,t)=>()=>{for(const r of t.keys())Wj(r);e.clear()},jT=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},aL=hc(Ca(`${Wx}/add`),{withTypes:()=>aL}),$ee=Ca(`${Wx}/removeAll`),sL=hc(Ca(`${Wx}/remove`),{withTypes:()=>sL}),Fee=(...e)=>{console.error(`${Wx}/error`,...e)},ff=(e={})=>{const t=new Map,r=new Map,a=y=>{const N=r.get(y)??0;r.set(y,N+1)},s=y=>{const N=r.get(y)??1;N===1?r.delete(y):r.set(y,N-1)},{extra:l,onError:c=Fee}=e;V1(c);const d=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),N=>{y.unsubscribe(),N?.cancelActive&&Wj(y)}),f=y=>{const N=bT(t,y)??rL(y);return d(N)};hc(f,{withTypes:()=>f});const m=y=>{const N=bT(t,y);return N&&(N.unsubscribe(),y.cancelActive&&Wj(N)),!!N};hc(m,{withTypes:()=>m});const h=async(y,N,b,w)=>{const C=new AbortController,E=Lee(f,C.signal),A=[];try{y.pending.add(C),a(y),await Promise.resolve(y.effect(N,hc({},b,{getOriginalState:w,condition:(T,k)=>E(T,k).then(Boolean),take:E,delay:tL(C.signal),pause:Op(C.signal),extra:l,signal:C.signal,fork:Dee(C.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((T,k,P)=>{T!==C&&(T.abort(Kj),P.delete(T))})},cancel:()=>{C.abort(Kj),y.pending.delete(C)},throwIfCancelled:()=>{Ul(C.signal)}})))}catch(T){T instanceof Kx||jT(c,T,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(Ree),s(y),y.pending.delete(C)}},g=Iee(t,r);return{middleware:y=>N=>b=>{if(!M3(b))return N(b);if(aL.match(b))return f(b.payload);if($ee.match(b)){g();return}if(sL.match(b))return m(b.payload);let w=y.getState();const C=()=>{if(w===yT)throw new Error(Xr(23));return w};let E;try{if(E=N(b),t.size>0){const A=y.getState(),T=Array.from(t.values());for(const k of T){let P=!1;try{P=k.predicate(b,A,w)}catch(M){P=!1,jT(c,M,{raisedBy:"predicate"})}P&&h(k,b,y,C)}}}finally{w=yT}return E},startListening:f,stopListening:m,clearListeners:g}};function Xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iL=Mr({name:"chartLayout",initialState:zee,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Bee,setLayout:Uee,setChartSize:Hee,setScale:Vee}=iL.actions,qee=iL.reducer;function lL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(a){Kee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t,r){return rn(e)||rn(t)?r:Sa(t)?to(e,t,r):typeof t=="function"?t(e):r}var Yee=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Fe(e[l]))return lc(lc({},e),{},{[l]:e[l]+(a||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Fe(e[c]))return lc(lc({},e),{},{[c]:e[c]+(s||0)})}return e},ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",oL=(e,t,r,a)=>{if(a)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(r),c},cL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:g,niceTicks:v,axisType:y}=e;if(!c)return null;var N=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,b=s==="category"&&c.bandwidth?c.bandwidth()/N:0;if(b=y==="angleAxis"&&l&&l.length>=2?qn(l[0]-l[1])*2*b:b,g||v){var w=(g||v||[]).map((C,E)=>{var A=a?a.indexOf(C):C;return{coordinate:c(A)+b,value:C,offset:b,index:E}});return w.filter(C=>!_r(C.coordinate))}return f&&m?m.map((C,E)=>({coordinate:c(C)+b,value:C,index:E,offset:b})):c.ticks&&h!=null?c.ticks(h).map((C,E)=>({coordinate:c(C)+b,value:C,offset:b,index:E})):c.domain().map((C,E)=>({coordinate:c(C)+b,value:a?a[C]:C,index:E,offset:b}))},NT=1e-4,Qee=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-NT,l=Math.max(a[0],a[1])+NT,c=e(t[0]),d=e(t[r-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[r-1]])}},Xee=(e,t)=>{if(!t||t.length!==2||!Fe(t[0])||!Fe(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Fe(e[0])||e[0]<r)&&(s[0]=r),(!Fe(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},Zee=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,l=0,c=0;c<t;++c){var d=_r(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=s,e[c][r][1]=s+d,s=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+d,l=e[c][r][1])}},Jee=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,l=0;l<t;++l){var c=_r(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},ete={sign:Zee,expand:wZ,none:Nc,silhouette:NZ,wiggle:SZ,positive:Jee},tte=(e,t,r)=>{var a=ete[r],s=jZ().keys(t).value((l,c)=>Number(Ut(l,c,0))).order(Lj).offset(a);return s(e)};function dL(e){return e==null?void 0:String(e)}function ST(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rn(s[t.dataKey])){var d=h3(r,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return r[l]?r[l].coordinate+a/2:null}var f=Ut(s,rn(c)?t.dataKey:c);return rn(f)?null:t.scale(f)}var CT=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+a:null;var d=Ut(l,t.dataKey,t.scale.domain()[c]);return rn(d)?null:t.scale(d)-s/2+a},nte=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},rte=e=>{var t=e.flat(2).filter(Fe);return[Math.min(...t),Math.max(...t)]},ate=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ste=(e,t,r)=>{if(e!=null)return ate(Object.keys(e).reduce((a,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=lL(m,t,r),g=rte(h);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},ET=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ec=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=Fx(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function PT(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:l}=e;return lc(lc({},t),{},{dataKey:r,payload:a,value:s,name:l})}function Hc(e,t){if(e)return String(e);if(typeof t=="string")return t}var ite=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},lte=(e,t)=>t==="centric"?e.angle:e.radius,li=e=>e.layout.width,oi=e=>e.layout.height,ote=e=>e.layout.scale,uL=e=>e.layout.margin,Gx=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Yx=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fL="data-recharts-item-index",mL="data-recharts-item-data-key",mf=60;function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(a){cte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cte(e,t,r){return(t=dte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fte=e=>e.brush.height;function mte(e){var t=Yx(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:mf;return r+s}return r},0)}function hte(e){var t=Yx(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:mf;return r+s}return r},0)}function pte(e){var t=Gx(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function xte(e){var t=Gx(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var Ln=ue([li,oi,uL,fte,mte,hte,pte,xte,T3,UJ],(e,t,r,a,s,l,c,d,f,m)=>{var h={left:(r.left||0)+s,right:(r.right||0)+l},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},v=gh(gh({},g),h),y=v.bottom;v.bottom+=a,v=Yee(v,f,m);var N=e-v.left-v.right,b=t-v.top-v.bottom;return gh(gh({brushBottom:y},v),{},{width:Math.max(N,0),height:Math.max(b,0)})}),gte=ue(Ln,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),q1=ue(li,oi,(e,t)=>({x:0,y:0,width:e,height:t})),vte=p.createContext(null),tr=()=>p.useContext(vte)!=null,Qx=e=>e.brush,Xx=ue([Qx,Ln,uL],(e,t,r)=>({height:e.height,x:Fe(e.x)?e.x:t.left,y:Fe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Fe(e.width)?e.width:t.width})),xb={},gb={},vb={},TT;function yte(){return TT||(TT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{m&&h(),b()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},a)},N=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{N(),c=void 0,d=null},w=()=>{h()},C=function(...E){if(s?.aborted)return;c=this,d=E;const A=v==null;y(),f&&A&&h()};return C.schedule=y,C.cancel=b,C.flush=w,s?.addEventListener("abort",b,{once:!0}),C}e.debounce=t})(vb)),vb}var kT;function bte(){return kT||(kT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yte();function r(a,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,g=null;const v=t.debounce(function(...b){h=a.apply(this,b),g=null},s,{edges:m}),y=function(...b){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(h=a.apply(this,b),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,b),h)},N=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=N,y}e.debounce=r})(gb)),gb}var _T;function jte(){return _T||(_T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bte();function r(a,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=r})(xb)),xb}var yb,RT;function wte(){return RT||(RT=1,yb=jte().throttle),yb}var Nte=wte();const Ste=ls(Nte);var Tp=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>s[c++]))}},hL=(e,t,r)=>{var{width:a="100%",height:s="100%",aspect:l,maxHeight:c}=r,d=Xs(a)?e:Number(a),f=Xs(s)?t:Number(s);return l&&l>0&&(d?f=d/l:f&&(d=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},Cte={width:0,height:0,overflow:"visible"},Ete={width:0,overflowX:"visible"},Ate={height:0,overflowY:"visible"},Pte={},Ote=e=>{var{width:t,height:r}=e,a=Xs(t),s=Xs(r);return a&&s?Cte:a?Ete:s?Ate:Pte};function Tte(e){var{width:t,height:r,aspect:a}=e,s=t,l=r;return s===void 0&&l===void 0?(s="100%",l="100%"):s===void 0?s=a&&a>0?void 0:"100%":l===void 0&&(l=a&&a>0?void 0:"100%"),{width:s,height:l}}function Dt(e){return Number.isFinite(e)}function as(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gj.apply(null,arguments)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function DT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(a){kte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kte(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Rte(e,"string");return typeof t=="symbol"?t:t+""}function Rte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pL=p.createContext({width:-1,height:-1});function Mte(e){return as(e.width)&&as(e.height)}function xL(e){var{children:t,width:r,height:a}=e,s=p.useMemo(()=>({width:r,height:a}),[r,a]);return Mte(s)?p.createElement(pL.Provider,{value:s},t):null}var K1=()=>p.useContext(pL),Dte=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:l,minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:g,className:v,onResize:y,style:N={}}=e,b=p.useRef(null),w=p.useRef();w.current=y,p.useImperativeHandle(t,()=>b.current);var[C,E]=p.useState({containerWidth:a.width,containerHeight:a.height}),A=p.useCallback((I,Y)=>{E(L=>{var R=Math.round(I),q=Math.round(Y);return L.containerWidth===R&&L.containerHeight===q?L:{containerWidth:R,containerHeight:q}})},[]);p.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return of;var I=q=>{var ve,{width:K,height:ee}=q[0].contentRect;A(K,ee),(ve=w.current)===null||ve===void 0||ve.call(w,K,ee)};h>0&&(I=Ste(I,h,{trailing:!0,leading:!1}));var Y=new ResizeObserver(I),{width:L,height:R}=b.current.getBoundingClientRect();return A(L,R),Y.observe(b.current),()=>{Y.disconnect()}},[A,h]);var{containerWidth:T,containerHeight:k}=C;Tp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:M}=hL(T,k,{width:s,height:l,aspect:r,maxHeight:f});return Tp(P!=null&&P>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,s,l,c,d,r),p.createElement("div",{id:g?"".concat(g):void 0,className:wt("recharts-responsive-container",v),style:DT(DT({},N),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:b},p.createElement("div",{style:Ote({width:s,height:l})},p.createElement(xL,{width:P,height:M},m)))}),Ou=p.forwardRef((e,t)=>{var r=K1();if(as(r.width)&&as(r.height))return e.children;var{width:a,height:s}=Tte({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=hL(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Fe(l)&&Fe(c)?p.createElement(xL,{width:l,height:c},e.children):p.createElement(Dte,Gj({},e,{width:a,height:s,ref:t}))});function gL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var hf=()=>{var e,t=tr(),r=Ie(gte),a=Ie(Xx),s=(e=Ie(Qx))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},Lte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vL=()=>{var e;return(e=Ie(Ln))!==null&&e!==void 0?e:Lte},W1=()=>Ie(li),G1=()=>Ie(oi),Ite=()=>Ie(e=>e.layout.margin),Nt=e=>e.layout.layoutType,Vc=()=>Ie(Nt),$te=()=>{var e=Vc();if(e==="horizontal"||e==="vertical")return e},Fte=()=>{var e=Vc();return e!==void 0},Zx=e=>{var t=Vt(),r=tr(),{width:a,height:s}=e,l=K1(),c=a,d=s;return l&&(c=l.width>0?l.width:a,d=l.height>0?l.height:s),p.useEffect(()=>{!r&&as(c)&&as(d)&&t(Hee({width:c,height:d}))},[t,r,c,d]),null},yL=Symbol.for("immer-nothing"),LT=Symbol.for("immer-draftable"),ea=Symbol.for("immer-state");function Da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tu=Object.getPrototypeOf;function Ac(e){return!!e&&!!e[ea]}function no(e){return e?bL(e)||Array.isArray(e)||!!e[LT]||!!e.constructor?.[LT]||pf(e)||eg(e):!1}var zte=Object.prototype.constructor.toString(),IT=new WeakMap;function bL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=IT.get(r);return a===void 0&&(a=Function.toString.call(r),IT.set(r,a)),a===zte}function kp(e,t,r=!0){Jx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function Jx(e){const t=e[ea];return t?t.type_:Array.isArray(e)?1:pf(e)?2:eg(e)?3:0}function Yj(e,t){return Jx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jL(e,t,r){const a=Jx(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function Bte(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pf(e){return e instanceof Map}function eg(e){return e instanceof Set}function Ml(e){return e.copy_||e.base_}function Qj(e,t){if(pf(e))return new Map(e);if(eg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=bL(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[ea];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Tu(e),a)}else{const a=Tu(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function Y1(e,t=!1){return tg(e)||Ac(e)||!no(e)||(Jx(e)>1&&Object.defineProperties(e,{set:vh,add:vh,clear:vh,delete:vh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Y1(r,!0))),e}function Ute(){Da(2)}var vh={value:Ute};function tg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Hte={};function ro(e){const t=Hte[e];return t||Da(0,e),t}var ku;function wL(){return ku}function Vte(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $T(e,t){t&&(ro("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Xj(e){Zj(e),e.drafts_.forEach(qte),e.drafts_=null}function Zj(e){e===ku&&(ku=e.parent_)}function FT(e){return ku=Vte(ku,e)}function qte(e){const t=e[ea];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ea].modified_&&(Xj(t),Da(4)),no(e)&&(e=_p(t,e),t.parent_||Rp(t,e)),t.patches_&&ro("Patches").generateReplacementPatches_(r[ea].base_,e,t.patches_,t.inversePatches_)):e=_p(t,r,[]),Xj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yL?e:void 0}function _p(e,t,r){if(tg(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[ea];if(!s)return kp(t,(l,c)=>BT(e,s,t,l,c,r),a),t;if(s.scope_!==e)return t;if(!s.modified_)return Rp(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let c=l,d=!1;s.type_===3&&(c=new Set(l),l.clear(),d=!0),kp(c,(f,m)=>BT(e,s,l,f,m,r,d),a),Rp(e,l,!1),r&&e.patches_&&ro("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function BT(e,t,r,a,s,l,c){if(s==null||typeof s!="object"&&!c)return;const d=tg(s);if(!(d&&!c)){if(Ac(s)){const f=l&&t&&t.type_!==3&&!Yj(t.assigned_,a)?l.concat(a):void 0,m=_p(e,s,f);if(jL(r,a,m),Ac(m))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(no(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&d)return;_p(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(pf(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&Rp(e,s)}}}function Rp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Y1(t,r)}function Kte(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:wL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,l=Q1;r&&(s=[a],l=_u);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,d}var Q1={get(e,t){if(t===ea)return e;const r=Ml(e);if(!Yj(r,t))return Wte(e,r,t);const a=r[t];return e.finalized_||!no(a)?a:a===bb(e.base_,t)?(jb(e),e.copy_[t]=ew(a,e)):a},has(e,t){return t in Ml(e)},ownKeys(e){return Reflect.ownKeys(Ml(e))},set(e,t,r){const a=NL(Ml(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=bb(Ml(e),t),l=s?.[ea];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Bte(r,s)&&(r!==void 0||Yj(e.base_,t)))return!0;jb(e),Jj(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return bb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jb(e),Jj(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ml(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Da(11)},getPrototypeOf(e){return Tu(e.base_)},setPrototypeOf(){Da(12)}},_u={};kp(Q1,(e,t)=>{_u[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_u.deleteProperty=function(e,t){return _u.set.call(this,e,t,void 0)};_u.set=function(e,t,r){return Q1.set.call(this,e[0],t,r,e[0])};function bb(e,t){const r=e[ea];return(r?Ml(r):e)[t]}function Wte(e,t,r){const a=NL(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function NL(e,t){if(!(t in e))return;let r=Tu(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Tu(r)}}function Jj(e){e.modified_||(e.modified_=!0,e.parent_&&Jj(e.parent_))}function jb(e){e.copy_||(e.copy_=Qj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&Da(6),a!==void 0&&typeof a!="function"&&Da(7);let s;if(no(t)){const l=FT(this),c=ew(t,void 0);let d=!0;try{s=r(c),d=!1}finally{d?Xj(l):Zj(l)}return $T(l,a),zT(s,l)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===yL&&(s=void 0),this.autoFreeze_&&Y1(s,!0),a){const l=[],c=[];ro("Patches").generateReplacementPatches_(t,s,l,c),a(l,c)}return s}else Da(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let a,s;return[this.produce(t,r,(c,d)=>{a=c,s=d}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){no(e)||Da(8),Ac(e)&&(e=Yte(e));const t=FT(this),r=ew(e,void 0);return r[ea].isManual_=!0,Zj(t),r}finishDraft(e,t){const r=e&&e[ea];(!r||!r.isManual_)&&Da(9);const{scope_:a}=r;return $T(a,t),zT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=ro("Patches").applyPatches_;return Ac(e)?a(e,t):this.produce(e,s=>a(s,t))}};function ew(e,t){const r=pf(e)?ro("MapSet").proxyMap_(e,t):eg(e)?ro("MapSet").proxySet_(e,t):Kte(e,t);return(t?t.scope_:wL()).drafts_.push(r),r}function Yte(e){return Ac(e)||Da(10,e),SL(e)}function SL(e){if(!no(e)||tg(e))return e;const t=e[ea];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qj(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Qj(e,!0);return kp(r,(s,l)=>{jL(r,s,SL(l))},a),t&&(t.finalized_=!1),r}var Qte=new Gte;Qte.produce;var Xte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},CL=Mr({name:"legend",initialState:Xte,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:en()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,s=$a(e).payload.indexOf(r);s>-1&&(e.payload[s]=a)},prepare:en()},removeLegendPayload:{reducer(e,t){var r=$a(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:en()}}}),{setLegendSize:UT,setLegendSettings:Zte,addLegendPayload:EL,replaceLegendPayload:AL,removeLegendPayload:PL}=CL.actions,Jte=CL.reducer,ene=["contextPayload"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tw.apply(null,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(a){tne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tne(e,t,r){return(t=nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=rne(e,"string");return typeof t=="symbol"?t:t+""}function rne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ane(e,t){if(e==null)return{};var r,a,s=sne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ine(e){return e.value}function lne(e){var{contextPayload:t}=e,r=ane(e,ene),a=E3(t,e.payloadUniqBy,ine),s=Pc(Pc({},r),{},{payload:a});return p.isValidElement(e.content)?p.cloneElement(e.content,s):typeof e.content=="function"?p.createElement(e.content,s):p.createElement(JZ,s)}function one(e,t,r,a,s,l){var{layout:c,align:d,verticalAlign:f}=t,m,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?m={left:((a||0)-l.width)/2}:m=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((s||0)-l.height)/2}:h=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Pc(Pc({},m),h)}function cne(e){var t=Vt();return p.useEffect(()=>{t(Zte(e))},[t,e]),null}function dne(e){var t=Vt();return p.useEffect(()=>(t(UT(e)),()=>{t(UT({width:0,height:0}))}),[t,e]),null}function une(e,t,r,a){return e==="vertical"&&Fe(t)?{height:t}:e==="horizontal"?{width:r||a}:null}var fne={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function xf(e){var t=bn(e,fne),r=qJ(),a=qX(),s=Ite(),{width:l,height:c,wrapperStyle:d,portal:f}=t,[m,h]=k3([r]),g=W1(),v=G1();if(g==null||v==null)return null;var y=g-(s?.left||0)-(s?.right||0),N=une(t.layout,c,l,y),b=f?d:Pc(Pc({position:"absolute",width:N?.width||l||"auto",height:N?.height||c||"auto"},one(d,t,s,g,v,m)),d),w=f??a;if(w==null||r==null)return null;var C=p.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:h},p.createElement(cne,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&p.createElement(dne,{width:m.width,height:m.height}),p.createElement(lne,tw({},t,N,{margin:s,chartWidth:g,chartHeight:v,contextPayload:r})));return os.createPortal(C,w)}xf.displayName="Legend";function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nw.apply(null,arguments)}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(a){mne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mne(e,t,r){return(t=hne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hne(e){var t=pne(e,"string");return typeof t=="symbol"?t:t+""}function pne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xne(e){return Array.isArray(e)&&Sa(e[0])&&Sa(e[1])?e.join(" ~ "):e}var gne=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(l&&l.length){var k={padding:0,margin:0},P=(d?Fx(l,d):l).map((M,I)=>{if(M.type==="none")return null;var Y=M.formatter||c||xne,{value:L,name:R}=M,q=L,ve=R;if(Y){var K=Y(L,R,M,I,l);if(Array.isArray(K))[q,ve]=K;else if(K!=null)q=K;else return null}var ee=wb({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:ee},Sa(ve)?p.createElement("span",{className:"recharts-tooltip-item-name"},ve):null,Sa(ve)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},q),p.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:k},P)}return null},N=wb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=wb({margin:0},s),w=!rn(h),C=w?h:"",E=wt("recharts-default-tooltip",f),A=wt("recharts-tooltip-label",m);w&&g&&l!==void 0&&l!==null&&(C=g(h,l));var T=v?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",nw({className:E,style:N},T),p.createElement("p",{className:A,style:b},p.isValidElement(C)?C:"".concat(C)),y())},Yd="recharts-tooltip-wrapper",vne={visibility:"hidden"};function yne(e){var{coordinate:t,translateX:r,translateY:a}=e;return wt(Yd,{["".concat(Yd,"-right")]:Fe(r)&&t&&Fe(t.x)&&r>=t.x,["".concat(Yd,"-left")]:Fe(r)&&t&&Fe(t.x)&&r<t.x,["".concat(Yd,"-bottom")]:Fe(a)&&t&&Fe(t.y)&&a>=t.y,["".concat(Yd,"-top")]:Fe(a)&&t&&Fe(t.y)&&a<t.y})}function qT(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&Fe(l[a]))return l[a];var h=r[a]-d-(s>0?s:0),g=r[a]+s;if(t[a])return c[a]?h:g;var v=f[a];if(v==null)return 0;if(c[a]){var y=h,N=v;return y<N?Math.max(g,v):Math.max(h,v)}if(m==null)return 0;var b=g+d,w=v+m;return b>w?Math.max(h,v):Math.max(g,v)}function bne(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jne(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,g;return c.height>0&&c.width>0&&r?(h=qT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=qT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=bne({translateX:h,translateY:g,useTranslate3d:d})):m=vne,{cssProperties:m,cssClasses:yne({translateX:h,translateY:g,coordinate:r})}}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(a){rw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rw(e,t,r){return(t=wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wne(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Sne extends p.PureComponent{constructor(){super(...arguments),rw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),rw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:N,lastBoundingBox:b,innerRef:w,hasPortalFromProps:C}=this.props,{cssClasses:E,cssProperties:A}=jne({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:y}),T=C?{}:yh(yh({transition:f&&t?"transform ".concat(a,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),k=yh(yh({},T),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},N);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:k,ref:w},l)}}var OL=()=>{var e;return(e=Ie(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aw.apply(null,arguments)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function GT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(a){Cne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cne(e,t,r){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ene(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YT={curveBasisClosed:dZ,curveBasisOpen:uZ,curveBasis:cZ,curveBumpX:YX,curveBumpY:QX,curveLinearClosed:fZ,curveLinear:Ix,curveMonotoneX:mZ,curveMonotoneY:hZ,curveNatural:pZ,curveStep:xZ,curveStepAfter:vZ,curveStepBefore:gZ},Mp=e=>Dt(e.x)&&Dt(e.y),QT=e=>e.base!=null&&Mp(e.base)&&Mp(e),Qd=e=>e.x,Xd=e=>e.y,Pne=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(lf(e));return(r==="curveMonotone"||r==="curveBump")&&t?YT["".concat(r).concat(t==="vertical"?"Y":"X")]:YT[r]||Ix},One=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:l=!1}=e,c=Pne(t,s),d=l?r.filter(Mp):r,f;if(Array.isArray(a)){var m=r.map((y,N)=>GT(GT({},y),{},{base:a[N]}));s==="vertical"?f=uh().y(Xd).x1(Qd).x0(y=>y.base.x):f=uh().x(Qd).y1(Xd).y0(y=>y.base.y);var h=f.defined(QT).curve(c),g=l?m.filter(QT):m;return h(g)}s==="vertical"&&Fe(a)?f=uh().y(Xd).x1(Qd).x0(a):Fe(a)?f=uh().x(Qd).y1(Xd).y0(a):f=t3().x(Qd).y(Xd);var v=f.defined(Mp).curve(c);return v(d)},pc=e=>{var{className:t,points:r,path:a,pathRef:s}=e;if((!r||!r.length)&&!a)return null;var l=r&&r.length?One(e):a;return p.createElement("path",aw({},kr(e),M1(e),{className:wt("recharts-curve",t),d:l===null?void 0:l,ref:s}))},Tne=["x","y","top","left","width","height","className"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sw.apply(null,arguments)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(a){_ne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _ne(e,t,r){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e,t){if(e==null)return{};var r,a,s=Lne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Lne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ine=(e,t,r,a,s,l)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(t,"h").concat(r),$ne=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=Dne(e,Tne),m=kne({x:t,y:r,top:a,left:s,width:l,height:c},f);return!Fe(t)||!Fe(r)||!Fe(l)||!Fe(c)||!Fe(a)||!Fe(s)?null:p.createElement("path",sw({},or(m),{className:wt("recharts-cross",d),d:Ine(t,r,l,c,a,s)}))};function Fne(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function JT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(a){zne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zne(e,t,r){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hne=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TL=(e,t,r)=>e.map(a=>"".concat(Hne(a)," ").concat(t,"ms ").concat(r)).join(","),Vne=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),Ru=(e,t)=>Object.keys(t).reduce((r,a)=>JT(JT({},r),{},{[a]:e(a,t[a])}),{});function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){qne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qne(e,t,r){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dp=(e,t,r)=>e+(t-e)*r,iw=e=>{var{from:t,to:r}=e;return t!==r},kL=(e,t,r)=>{var a=Ru((s,l)=>{if(iw(l)){var[c,d]=e(l.from,l.to,l.velocity);return _n(_n({},l),{},{from:c,velocity:d})}return l},t);return r<1?Ru((s,l)=>iw(l)?_n(_n({},l),{},{velocity:Dp(l.velocity,a[s].velocity,r),from:Dp(l.from,a[s].from,r)}):l,t):kL(e,a,r-1)};function Gne(e,t,r,a,s,l){var c,d=a.reduce((v,y)=>_n(_n({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),f=()=>Ru((v,y)=>y.from,d),m=()=>!Object.values(d).filter(iw).length,h=null,g=v=>{c||(c=v);var y=v-c,N=y/r.dt;d=kL(r,d,N),s(_n(_n(_n({},e),t),f())),c=v,m()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{var v;(v=h)===null||v===void 0||v()})}function Yne(e,t,r,a,s,l,c){var d=null,f=s.reduce((g,v)=>_n(_n({},g),{},{[v]:[e[v],t[v]]}),{}),m,h=g=>{m||(m=g);var v=(g-m)/a,y=Ru((b,w)=>Dp(...w,r(v)),f);if(l(_n(_n(_n({},e),t),y)),v<1)d=c.setTimeout(h);else{var N=Ru((b,w)=>Dp(...w,r(1)),f);l(_n(_n(_n({},e),t),N))}};return()=>(d=c.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}const Qne=(e,t,r,a,s,l)=>{var c=Vne(e,t);return r==null?()=>(s(_n(_n({},e),t)),()=>{}):r.isStepper===!0?Gne(e,t,r,c,s,l):Yne(e,t,r,a,c,s,l)};var Lp=1e-4,_L=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],RL=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),tk=(e,t)=>r=>{var a=_L(e,t);return RL(a,r)},Xne=(e,t)=>r=>{var a=_L(e,t),s=[...a.map((l,c)=>l*c).slice(1),0];return RL(s,r)},Zne=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,l=r[0].split("(");if(l[0]==="cubic-bezier"&&((s=l[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return r.length===4?r:[0,0,1,1]},Jne=(e,t,r,a)=>{var s=tk(e,r),l=tk(t,a),c=Xne(e,r),d=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,g=h,v=0;v<8;++v){var y=s(g)-h,N=c(g);if(Math.abs(y-h)<Lp||N<Lp)return l(g);g=d(g-y/N)}return l(g)};return f.isStepper=!1,f},nk=function(){return Jne(...Zne(...arguments))},ere=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*r,h=f*a,g=f+(m-h)*s/1e3,v=f*s/1e3+c;return Math.abs(v-d)<Lp&&Math.abs(g)<Lp?[d,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},tre=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nk(e);case"spring":return ere();default:if(e.split("(")[0]==="cubic-bezier")return nk(e)}return typeof e=="function"?e:null};function nre(e){var t,r=()=>null,a=!1,s=null,l=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class rre{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,l=c=>{c-a>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{s!=null&&cancelAnimationFrame(s)}}}function are(){return nre(new rre)}var sre=p.createContext(are);function ire(e,t){var r=p.useContext(sre);return p.useMemo(()=>t??r(e),[e,t,r])}var lre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qc={devToolsEnabled:!1,isSsr:lre()},ore={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},rk={t:0},Nb={t:1};function gf(e){var t=bn(e,ore),{isActive:r,canBegin:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=r==="auto"?!qc.isSsr:r,g=ire(t.animationId,t.animationManager),[v,y]=p.useState(h?rk:Nb),N=p.useRef(null);return p.useEffect(()=>{h||y(Nb)},[h]),p.useEffect(()=>{if(!h||!a)return of;var b=Qne(rk,Nb,tre(l),s,y,g.getTimeoutController()),w=()=>{N.current=b()};return g.start([f,c,w,s,d]),()=>{g.stop(),N.current&&N.current(),d()}},[h,a,s,l,c,f,d,g]),m(v.t)}function vf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Cu(t)),a=p.useRef(e);return a.current!==e&&(r.current=Cu(t),a.current=e),r.current}var cre=["radius"],dre=["radius"];function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(a){ure(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ure(e,t,r){return(t=fre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=mre(e,"string");return typeof t=="symbol"?t:t+""}function mre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ip.apply(null,arguments)}function ik(e,t){if(e==null)return{};var r,a,s=hre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hre(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var lk=(e,t,r,a,s)=>{var l=Math.min(Math.abs(r)/2,Math.abs(a)/2),c=a>=0?1:-1,d=r>=0?1:-1,f=a>=0&&r>=0||a<0&&r<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>l?l:s[g];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+r-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*h[1])),m+="L ".concat(e+r,",").concat(t+a-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-d*h[2],",").concat(t+a)),m+="L ".concat(e+d*h[3],",").concat(t+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+a-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var y=Math.min(l,s);m="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+d*y,",").concat(t,`
            L `).concat(e+r-d*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*y,`
            L `).concat(e+r,",").concat(t+a-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+r-d*y,",").concat(t+a,`
            L `).concat(e+d*y,",").concat(t+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e,",").concat(t+a-c*y," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return m},ok={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ML=e=>{var t=bn(e,ok),r=p.useRef(null),[a,s]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Z=r.current.getTotalLength();Z&&s(Z)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:N,isUpdateAnimationActive:b}=t,w=p.useRef(d),C=p.useRef(f),E=p.useRef(l),A=p.useRef(c),T=p.useMemo(()=>({x:l,y:c,width:d,height:f,radius:m}),[l,c,d,f,m]),k=vf(T,"rectangle-");if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var P=wt("recharts-rectangle",h);if(!b){var M=or(t),{radius:I}=M,Y=ik(M,cre);return p.createElement("path",Ip({},Y,{radius:typeof m=="number"?m:void 0,className:P,d:lk(l,c,d,f,m)}))}var L=w.current,R=C.current,q=E.current,ve=A.current,K="0px ".concat(a===-1?1:a,"px"),ee="".concat(a,"px 0px"),z=TL(["strokeDasharray"],v,typeof g=="string"?g:ok.animationEasing);return p.createElement(gf,{animationId:k,key:k,canBegin:a>0,duration:v,easing:g,isActive:b,begin:y},Z=>{var $=Qt(L,d,Z),de=Qt(R,f,Z),B=Qt(q,l,Z),_=Qt(ve,c,Z);r.current&&(w.current=$,C.current=de,E.current=B,A.current=_);var Q;N?Z>0?Q={transition:z,strokeDasharray:ee}:Q={strokeDasharray:K}:Q={strokeDasharray:ee};var fe=or(t),{radius:Ne}=fe,re=ik(fe,dre);return p.createElement("path",Ip({},re,{radius:typeof m=="number"?m:void 0,className:P,d:lk(B,_,$,de,m),ref:r,style:sk(sk({},Q),t.style)}))})};function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(a){pre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pre(e,t,r){return(t=xre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p=Math.PI/180,vre=e=>e*180/Math.PI,Pn=(e,t,r,a)=>({x:e+Math.cos(-$p*a)*r,y:t+Math.sin(-$p*a)*r}),DL=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},yre=(e,t)=>{var{x:r,y:a}=e,{x:s,y:l}=t;return Math.sqrt((r-s)**2+(a-l)**2)},bre=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:l}=t,c=yre({x:r,y:a},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(r-s)/c,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:c,angle:vre(f),angleInRadian:f}},jre=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),l=Math.min(a,s);return{startAngle:t-l*360,endAngle:r-l*360}},wre=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),l=Math.floor(a/360),c=Math.min(s,l);return e+c*360},Nre=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:s,angle:l}=bre({x:r,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=jre(t),h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?dk(dk({},t),{},{radius:s,angle:wre(h,t)}):null};function LL(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:l}=e,c=Pn(t,r,a,s),d=Pn(t,r,a,l);return{points:[c,d],cx:t,cy:r,radius:a,startAngle:s,endAngle:l}}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lw.apply(null,arguments)}var Sre=(e,t)=>{var r=qn(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},bh=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+a,h=Math.asin(d/m)/$p,g=f?s:s+l*h,v=Pn(t,r,m,g),y=Pn(t,r,a,g),N=f?s-l*h:s,b=Pn(t,r,m*Math.cos(h*$p),N);return{center:v,circleTangency:y,lineTangency:b,theta:h}},IL=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,d=Sre(l,c),f=l+d,m=Pn(t,r,s,l),h=Pn(t,r,s,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var v=Pn(t,r,a,l),y=Pn(t,r,a,f);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},Cre=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=qn(m-f),{circleTangency:g,lineTangency:v,theta:y}=bh({cx:t,cy:r,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:N,lineTangency:b,theta:w}=bh({cx:t,cy:r,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),C=d?Math.abs(f-m):Math.abs(f-m)-y-w;if(C<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):IL({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var{circleTangency:A,lineTangency:T,theta:k}=bh({cx:t,cy:r,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:P,lineTangency:M,theta:I}=bh({cx:t,cy:r,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),Y=d?Math.abs(f-m):Math.abs(f-m)-k-I;if(Y<0&&l===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},Ere={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$L=e=>{var t=bn(e,Ere),{cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:g}=t;if(l<s||m===h)return null;var v=wt("recharts-sector",g),y=l-s,N=ir(c,y,0,!0),b;return N>0&&Math.abs(m-h)<360?b=Cre({cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(N,y/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):b=IL({cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),p.createElement("path",lw({},or(t),{className:v,d:b}))};function Are(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(x3(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:l,outerRadius:c,angle:d}=t,f=Pn(a,s,l,d),m=Pn(a,s,c,d);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return LL(t)}}var Sb={},Cb={},Eb={},uk;function Pre(){return uk||(uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P3();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(Eb)),Eb}var fk;function Ore(){return fk||(fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pre();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(Cb)),Cb}var mk;function Tre(){return mk||(mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O3(),r=Ore();function a(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=r.toFinite(s),l===void 0?(l=s,s=0):l=r.toFinite(l),c=c===void 0?s<l?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=a})(Sb)),Sb}var Ab,hk;function kre(){return hk||(hk=1,Ab=Tre().range),Ab}var _re=kre();const FL=ls(_re);function Vi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function X1(e){let t,r,a;e.length!==2?(t=Vi,r=(d,f)=>Vi(e(d),f),a=(d,f)=>e(d)-f):(t=e===Vi||e===Rre?e:Mre,r=e,a=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<0?m=g+1:h=g}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<=0?m=g+1:h=g}while(m<h)}return m}function c(d,f,m=0,h=d.length){const g=s(d,f,m,h-1);return g>m&&a(d[g-1],f)>-a(d[g],f)?g-1:g}return{left:s,center:c,right:l}}function Mre(){return 0}function zL(e){return e===null?NaN:+e}function*Dre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Lre=X1(Vi),yf=Lre.right;X1(zL).center;class pk extends Map{constructor(t,r=Fre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(xk(this,t))}has(t){return super.has(xk(this,t))}set(t,r){return super.set(Ire(this,t),r)}delete(t){return super.delete($re(this,t))}}function xk({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Ire({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function $re({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Fre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zre(e=Vi){if(e===Vi)return BL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function BL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Bre=Math.sqrt(50),Ure=Math.sqrt(10),Hre=Math.sqrt(2);function Fp(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),l=a/Math.pow(10,s),c=l>=Bre?10:l>=Ure?5:l>=Hre?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=r&&r<2?Fp(e,t,r*2):[d,f,m]}function ow(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,l,c]=a?Fp(t,e,r):Fp(e,t,r);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(a)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function cw(e,t,r){return t=+t,e=+e,r=+r,Fp(e,t,r)[2]}function dw(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?cw(t,e,r):cw(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function gk(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function vk(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function UL(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?BL:zre(s);a>r;){if(a-r>600){const f=a-r+1,m=t-r+1,h=Math.log(f),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(f-g)/f)*(m-f/2<0?-1:1),y=Math.max(r,Math.floor(t-m*g/f+v)),N=Math.min(a,Math.floor(t+(f-m)*g/f+v));UL(e,t,y,N,s)}const l=e[t];let c=r,d=a;for(Zd(e,r,t),s(e[a],l)>0&&Zd(e,r,a);c<d;){for(Zd(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[r],l)===0?Zd(e,r,d):(++d,Zd(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function Zd(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Vre(e,t,r){if(e=Float64Array.from(Dre(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return vk(e);if(t>=1)return gk(e);var a,s=(a-1)*t,l=Math.floor(s),c=gk(UL(e,l).subarray(0,l+1)),d=vk(e.subarray(l+1));return c+(d-c)*(s-l)}}function qre(e,t,r=zL){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,l=Math.floor(s),c=+r(e[l],l,e),d=+r(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function Kre(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(s);++a<s;)l[a]=e+a*r;return l}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uw=Symbol("implicit");function Z1(){var e=new pk,t=[],r=[],a=uw;function s(l){let c=e.get(l);if(c===void 0){if(a!==uw)return a;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new pk;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(r=Array.from(l),s):r.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return Z1(t,r).unknown(a)},Pa.apply(s,arguments),s}function J1(){var e=Z1().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function g(){var v=t().length,y=s<a,N=y?s:a,b=y?a:s;l=(b-N)/Math.max(1,v-f+m*2),d&&(l=Math.floor(l)),N+=(b-N-l*(v-f))*h,c=l*(1-f),d&&(N=Math.round(N),c=Math.round(c));var w=Kre(v).map(function(C){return N+l*C});return r(y?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([a,s]=v,a=+a,s=+s,g()):[a,s]},e.rangeRound=function(v){return[a,s]=v,a=+a,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,g()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return J1(t(),[a,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},Pa.apply(g(),arguments)}function HL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HL(t())},e}function Wre(){return HL(J1.apply(null,arguments).paddingInner(1))}function eN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function VL(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function bf(){}var Mu=.7,zp=1/Mu,xc="\\s*([+-]?\\d+)\\s*",Du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gre=/^#([0-9a-f]{3,8})$/,Yre=new RegExp(`^rgb\\(${xc},${xc},${xc}\\)$`),Qre=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),Xre=new RegExp(`^rgba\\(${xc},${xc},${xc},${Du}\\)$`),Zre=new RegExp(`^rgba\\(${ns},${ns},${ns},${Du}\\)$`),Jre=new RegExp(`^hsl\\(${Du},${ns},${ns}\\)$`),eae=new RegExp(`^hsla\\(${Du},${ns},${ns},${Du}\\)$`),yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eN(bf,Lu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bk,formatHex:bk,formatHex8:tae,formatHsl:nae,formatRgb:jk,toString:jk});function bk(){return this.rgb().formatHex()}function tae(){return this.rgb().formatHex8()}function nae(){return qL(this).formatHsl()}function jk(){return this.rgb().formatRgb()}function Lu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Gre.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wk(t):r===3?new Pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Yre.exec(e))?new Pr(t[1],t[2],t[3],1):(t=Qre.exec(e))?new Pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xre.exec(e))?jh(t[1],t[2],t[3],t[4]):(t=Zre.exec(e))?jh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Jre.exec(e))?Ck(t[1],t[2]/100,t[3]/100,1):(t=eae.exec(e))?Ck(t[1],t[2]/100,t[3]/100,t[4]):yk.hasOwnProperty(e)?wk(yk[e]):e==="transparent"?new Pr(NaN,NaN,NaN,0):null}function wk(e){return new Pr(e>>16&255,e>>8&255,e&255,1)}function jh(e,t,r,a){return a<=0&&(e=t=r=NaN),new Pr(e,t,r,a)}function rae(e){return e instanceof bf||(e=Lu(e)),e?(e=e.rgb(),new Pr(e.r,e.g,e.b,e.opacity)):new Pr}function fw(e,t,r,a){return arguments.length===1?rae(e):new Pr(e,t,r,a??1)}function Pr(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}eN(Pr,fw,VL(bf,{brighter(e){return e=e==null?zp:Math.pow(zp,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mu:Math.pow(Mu,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pr(Hl(this.r),Hl(this.g),Hl(this.b),Bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nk,formatHex:Nk,formatHex8:aae,formatRgb:Sk,toString:Sk}));function Nk(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function aae(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sk(){const e=Bp(this.opacity);return`${e===1?"rgb(":"rgba("}${Hl(this.r)}, ${Hl(this.g)}, ${Hl(this.b)}${e===1?")":`, ${e})`}`}function Bp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fl(e){return e=Hl(e),(e<16?"0":"")+e.toString(16)}function Ck(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new La(e,t,r,a)}function qL(e){if(e instanceof La)return new La(e.h,e.s,e.l,e.opacity);if(e instanceof bf||(e=Lu(e)),!e)return new La;if(e instanceof La)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),l=Math.max(t,r,a),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(r-a)/d+(r<a)*6:r===l?c=(a-t)/d+2:c=(t-r)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new La(c,d,f,e.opacity)}function sae(e,t,r,a){return arguments.length===1?qL(e):new La(e,t,r,a??1)}function La(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}eN(La,sae,VL(bf,{brighter(e){return e=e==null?zp:Math.pow(zp,e),new La(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mu:Math.pow(Mu,e),new La(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Pr(Pb(e>=240?e-240:e+120,s,a),Pb(e,s,a),Pb(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new La(Ek(this.h),wh(this.s),wh(this.l),Bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bp(this.opacity);return`${e===1?"hsl(":"hsla("}${Ek(this.h)}, ${wh(this.s)*100}%, ${wh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ek(e){return e=(e||0)%360,e<0?e+360:e}function wh(e){return Math.max(0,Math.min(1,e||0))}function Pb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tN=e=>()=>e;function iae(e,t){return function(r){return e+r*t}}function lae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function oae(e){return(e=+e)==1?KL:function(t,r){return r-t?lae(t,r,e):tN(isNaN(t)?r:t)}}function KL(e,t){var r=t-e;return r?iae(e,r):tN(isNaN(e)?t:e)}const Ak=(function e(t){var r=oae(t);function a(s,l){var c=r((s=fw(s)).r,(l=fw(l)).r),d=r(s.g,l.g),f=r(s.b,l.b),m=KL(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return a.gamma=e,a})(1);function cae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(l){for(s=0;s<r;++s)a[s]=e[s]*(1-l)+t[s]*l;return a}}function dae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uae(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),l=new Array(r),c;for(c=0;c<a;++c)s[c]=Kc(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(d){for(c=0;c<a;++c)l[c]=s[c](d);return l}}function fae(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Up(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mae(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Kc(e[s],t[s]):a[s]=t[s];return function(l){for(s in r)a[s]=r[s](l);return a}}var mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ob=new RegExp(mw.source,"g");function hae(e){return function(){return e}}function pae(e){return function(t){return e(t)+""}}function xae(e,t){var r=mw.lastIndex=Ob.lastIndex=0,a,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(a=mw.exec(e))&&(s=Ob.exec(t));)(l=s.index)>r&&(l=t.slice(r,l),d[c]?d[c]+=l:d[++c]=l),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:Up(a,s)})),r=Ob.lastIndex;return r<t.length&&(l=t.slice(r),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?pae(f[0].x):hae(t):(t=f.length,function(m){for(var h=0,g;h<t;++h)d[(g=f[h]).i]=g.x(m);return d.join("")})}function Kc(e,t){var r=typeof t,a;return t==null||r==="boolean"?tN(t):(r==="number"?Up:r==="string"?(a=Lu(t))?(t=a,Ak):xae:t instanceof Lu?Ak:t instanceof Date?fae:dae(t)?cae:Array.isArray(t)?uae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mae:Up)(e,t)}function nN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gae(e,t){t===void 0&&(t=e,e=Kc);for(var r=0,a=t.length-1,s=t[0],l=new Array(a<0?0:a);r<a;)l[r]=e(s,s=t[++r]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return l[d](c-d)}}function vae(e){return function(){return e}}function Hp(e){return+e}var Pk=[0,1];function hr(e){return e}function hw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vae(isNaN(t)?NaN:.5)}function yae(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function bae(e,t,r){var a=e[0],s=e[1],l=t[0],c=t[1];return s<a?(a=hw(s,a),l=r(c,l)):(a=hw(a,s),l=r(l,c)),function(d){return l(a(d))}}function jae(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),l=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=hw(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(d){var f=yf(e,d,1,a)-1;return l[f](s[f](d))}}function jf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ng(){var e=Pk,t=Pk,r=Kc,a,s,l,c=hr,d,f,m;function h(){var v=Math.min(e.length,t.length);return c!==hr&&(c=yae(e[0],e[v-1])),d=v>2?jae:bae,f=m=null,g}function g(v){return v==null||isNaN(v=+v)?l:(f||(f=d(e.map(a),t,r)))(a(c(v)))}return g.invert=function(v){return c(s((m||(m=d(t,e.map(a),Up)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Hp),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=nN,h()},g.clamp=function(v){return arguments.length?(c=v?!0:hr,h()):c!==hr},g.interpolate=function(v){return arguments.length?(r=v,h()):r},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,y){return a=v,s=y,h()}}function rN(){return ng()(hr,hr)}function wae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Oc(e){return e=Vp(Math.abs(e)),e?e[1]:NaN}function Nae(e,t){return function(r,a){for(var s=r.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>a&&(d=Math.max(1,a-f)),l.push(r.substring(s-=d,s+d)),!((f+=d+1)>a));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function Sae(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Cae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iu(e){if(!(t=Cae.exec(e)))throw new Error("invalid format: "+e);var t;return new aN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Iu.prototype=aN.prototype;function aN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Eae(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var WL;function Aae(e,t){var r=Vp(e,t);if(!r)return e+"";var a=r[0],s=r[1],l=s-(WL=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return l===c?a:l>c?a+new Array(l-c+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+Vp(e,Math.max(0,t+l-1))[0]}function Ok(e,t){var r=Vp(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const Tk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ok(e*100,t),r:Ok,s:Aae,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kk(e){return e}var _k=Array.prototype.map,Rk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pae(e){var t=e.grouping===void 0||e.thousands===void 0?kk:Nae(_k.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?kk:Sae(_k.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(g){g=Iu(g);var v=g.fill,y=g.align,N=g.sign,b=g.symbol,w=g.zero,C=g.width,E=g.comma,A=g.precision,T=g.trim,k=g.type;k==="n"?(E=!0,k="g"):Tk[k]||(A===void 0&&(A=12),T=!0,k="g"),(w||v==="0"&&y==="=")&&(w=!0,v="0",y="=");var P=b==="$"?r:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M=b==="$"?a:/[%p]/.test(k)?c:"",I=Tk[k],Y=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function L(R){var q=P,ve=M,K,ee,z;if(k==="c")ve=I(R)+ve,R="";else{R=+R;var Z=R<0||1/R<0;if(R=isNaN(R)?f:I(Math.abs(R),A),T&&(R=Eae(R)),Z&&+R==0&&N!=="+"&&(Z=!1),q=(Z?N==="("?N:d:N==="-"||N==="("?"":N)+q,ve=(k==="s"?Rk[8+WL/3]:"")+ve+(Z&&N==="("?")":""),Y){for(K=-1,ee=R.length;++K<ee;)if(z=R.charCodeAt(K),48>z||z>57){ve=(z===46?s+R.slice(K+1):R.slice(K))+ve,R=R.slice(0,K);break}}}E&&!w&&(R=t(R,1/0));var $=q.length+R.length+ve.length,de=$<C?new Array(C-$+1).join(v):"";switch(E&&w&&(R=t(de+R,de.length?C-ve.length:1/0),de=""),y){case"<":R=q+R+ve+de;break;case"=":R=q+de+R+ve;break;case"^":R=de.slice(0,$=de.length>>1)+q+R+ve+de.slice($);break;default:R=de+q+R+ve;break}return l(R)}return L.toString=function(){return g+""},L}function h(g,v){var y=m((g=Iu(g),g.type="f",g)),N=Math.max(-8,Math.min(8,Math.floor(Oc(v)/3)))*3,b=Math.pow(10,-N),w=Rk[8+N/3];return function(C){return y(b*C)+w}}return{format:m,formatPrefix:h}}var Nh,sN,GL;Oae({thousands:",",grouping:[3],currency:["$",""]});function Oae(e){return Nh=Pae(e),sN=Nh.format,GL=Nh.formatPrefix,Nh}function Tae(e){return Math.max(0,-Oc(Math.abs(e)))}function kae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oc(t)/3)))*3-Oc(Math.abs(e)))}function _ae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Oc(t)-Oc(e))+1}function YL(e,t,r,a){var s=dw(e,t,r),l;switch(a=Iu(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(l=kae(s,c))&&(a.precision=l),GL(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(l=_ae(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=l-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(l=Tae(s))&&(a.precision=l-(a.type==="%")*2);break}}return sN(a)}function ll(e){var t=e.domain;return e.ticks=function(r){var a=t();return ow(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return YL(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,l=a.length-1,c=a[s],d=a[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=cw(c,d,r),m===f)return a[s]=c,a[l]=d,t(a);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function QL(){var e=rN();return e.copy=function(){return jf(e,QL())},Pa.apply(e,arguments),ll(e)}function XL(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Hp),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return XL(e).unknown(t)},e=arguments.length?Array.from(e,Hp):[0,1],ll(r)}function ZL(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],l=e[a],c;return l<s&&(c=r,r=a,a=c,c=s,s=l,l=c),e[r]=t.floor(s),e[a]=t.ceil(l),e}function Mk(e){return Math.log(e)}function Dk(e){return Math.exp(e)}function Rae(e){return-Math.log(-e)}function Mae(e){return-Math.exp(-e)}function Dae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Lae(e){return e===10?Dae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Iae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Lk(e){return(t,r)=>-e(-t,r)}function iN(e){const t=e(Mk,Dk),r=t.domain;let a=10,s,l;function c(){return s=Iae(a),l=Lae(a),r()[0]<0?(s=Lk(s),l=Lk(l),e(Rae,Mae)):e(Mk,Dk),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const f=r();let m=f[0],h=f[f.length-1];const g=h<m;g&&([m,h]=[h,m]);let v=s(m),y=s(h),N,b;const w=d==null?10:+d;let C=[];if(!(a%1)&&y-v<w){if(v=Math.floor(v),y=Math.ceil(y),m>0){for(;v<=y;++v)for(N=1;N<a;++N)if(b=v<0?N/l(-v):N*l(v),!(b<m)){if(b>h)break;C.push(b)}}else for(;v<=y;++v)for(N=a-1;N>=1;--N)if(b=v>0?N/l(-v):N*l(v),!(b<m)){if(b>h)break;C.push(b)}C.length*2<w&&(C=ow(m,h,w))}else C=ow(v,y,Math.min(y-v,w)).map(l);return g?C.reverse():C},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=a===10?"s":","),typeof f!="function"&&(!(a%1)&&(f=Iu(f)).precision==null&&(f.trim=!0),f=sN(f)),d===1/0)return f;const m=Math.max(1,a*d/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*a<a-.5&&(g*=a),g<=m?f(h):""}},t.nice=()=>r(ZL(r(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function JL(){const e=iN(ng()).domain([1,10]);return e.copy=()=>jf(e,JL()).base(e.base()),Pa.apply(e,arguments),e}function Ik(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $k(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lN(e){var t=1,r=e(Ik(t),$k(t));return r.constant=function(a){return arguments.length?e(Ik(t=+a),$k(t)):t},ll(r)}function eI(){var e=lN(ng());return e.copy=function(){return jf(e,eI()).constant(e.constant())},Pa.apply(e,arguments)}function Fk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $ae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fae(e){return e<0?-e*e:e*e}function oN(e){var t=e(hr,hr),r=1;function a(){return r===1?e(hr,hr):r===.5?e($ae,Fae):e(Fk(r),Fk(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},ll(t)}function cN(){var e=oN(ng());return e.copy=function(){return jf(e,cN()).exponent(e.exponent())},Pa.apply(e,arguments),e}function zae(){return cN.apply(null,arguments).exponent(.5)}function zk(e){return Math.sign(e)*e*e}function Bae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tI(){var e=rN(),t=[0,1],r=!1,a;function s(l){var c=Bae(e(l));return isNaN(c)?a:r?Math.round(c):c}return s.invert=function(l){return e.invert(zk(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Hp)).map(zk)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(r=!!l,s):r},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return tI(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Pa.apply(s,arguments),ll(s)}function nI(){var e=[],t=[],r=[],a;function s(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=qre(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?a:t[yf(r,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Vi),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(a=c,l):a},l.quantiles=function(){return r.slice()},l.copy=function(){return nI().domain(e).range(t).unknown(a)},Pa.apply(l,arguments)}function rI(){var e=0,t=1,r=1,a=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[yf(a,f,0,r)]:l}function d(){var f=-1;for(a=new Array(r);++f<r;)a[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(r=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=r?[a[r-1],t]:[a[m-1],a[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return a.slice()},c.copy=function(){return rI().domain([e,t]).range(s).unknown(l)},Pa.apply(ll(c),arguments)}function aI(){var e=[.5],t=[0,1],r,a=1;function s(l){return l!=null&&l<=l?t[yf(e,l,0,a)]:r}return s.domain=function(l){return arguments.length?(e=Array.from(l),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return aI().domain(e).range(t).unknown(r)},Pa.apply(s,arguments)}const Tb=new Date,kb=new Date;function In(e,t,r,a){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>In(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),r&&(s.count=(l,c)=>(Tb.setTime(+l),kb.setTime(+c),e(Tb),e(kb),Math.floor(r(Tb,kb))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(a?c=>a(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const qp=In(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?In(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qp);qp.range;const $s=1e3,Na=$s*60,Fs=Na*60,Js=Fs*24,dN=Js*7,Bk=Js*30,_b=Js*365,zl=In(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$s)},(e,t)=>(t-e)/$s,e=>e.getUTCSeconds());zl.range;const uN=In(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$s)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getMinutes());uN.range;const fN=In(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCMinutes());fN.range;const mN=In(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$s-e.getMinutes()*Na)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getHours());mN.range;const hN=In(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getUTCHours());hN.range;const wf=In(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Na)/Js,e=>e.getDate()-1);wf.range;const rg=In(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Js,e=>e.getUTCDate()-1);rg.range;const sI=In(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Js,e=>Math.floor(e/Js));sI.range;function uo(e){return In(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Na)/dN)}const ag=uo(0),Kp=uo(1),Uae=uo(2),Hae=uo(3),Tc=uo(4),Vae=uo(5),qae=uo(6);ag.range;Kp.range;Uae.range;Hae.range;Tc.range;Vae.range;qae.range;function fo(e){return In(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dN)}const sg=fo(0),Wp=fo(1),Kae=fo(2),Wae=fo(3),kc=fo(4),Gae=fo(5),Yae=fo(6);sg.range;Wp.range;Kae.range;Wae.range;kc.range;Gae.range;Yae.range;const pN=In(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pN.range;const xN=In(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xN.range;const ei=In(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:In(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ei.range;const ti=In(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:In(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ti.range;function iI(e,t,r,a,s,l){const c=[[zl,1,$s],[zl,5,5*$s],[zl,15,15*$s],[zl,30,30*$s],[l,1,Na],[l,5,5*Na],[l,15,15*Na],[l,30,30*Na],[s,1,Fs],[s,3,3*Fs],[s,6,6*Fs],[s,12,12*Fs],[a,1,Js],[a,2,2*Js],[r,1,dN],[t,1,Bk],[t,3,3*Bk],[e,1,_b]];function d(m,h,g){const v=h<m;v&&([m,h]=[h,m]);const y=g&&typeof g.range=="function"?g:f(m,h,g),N=y?y.range(m,+h+1):[];return v?N.reverse():N}function f(m,h,g){const v=Math.abs(h-m)/g,y=X1(([,,w])=>w).right(c,v);if(y===c.length)return e.every(dw(m/_b,h/_b,g));if(y===0)return qp.every(Math.max(dw(m,h,g),1));const[N,b]=c[v/c[y-1][2]<c[y][2]/v?y-1:y];return N.every(b)}return[d,f]}const[Qae,Xae]=iI(ti,xN,sg,sI,hN,fN),[Zae,Jae]=iI(ei,pN,ag,wf,mN,uN);function Rb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ese(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=eu(s),h=tu(s),g=eu(l),v=tu(l),y=eu(c),N=tu(c),b=eu(d),w=tu(d),C=eu(f),E=tu(f),A={a:Z,A:$,b:de,B,c:null,d:Wk,e:Wk,f:Nse,g:Rse,G:Dse,H:bse,I:jse,j:wse,L:lI,m:Sse,M:Cse,p:_,q:Q,Q:Qk,s:Xk,S:Ese,u:Ase,U:Pse,V:Ose,w:Tse,W:kse,x:null,X:null,y:_se,Y:Mse,Z:Lse,"%":Yk},T={a:fe,A:Ne,b:re,B:Le,c:null,d:Gk,e:Gk,f:zse,g:Qse,G:Zse,H:Ise,I:$se,j:Fse,L:cI,m:Bse,M:Use,p:pe,q:Ke,Q:Qk,s:Xk,S:Hse,u:Vse,U:qse,V:Kse,w:Wse,W:Gse,x:null,X:null,y:Yse,Y:Xse,Z:Jse,"%":Yk},k={a:L,A:R,b:q,B:ve,c:K,d:qk,e:qk,f:xse,g:Vk,G:Hk,H:Kk,I:Kk,j:fse,L:pse,m:use,M:mse,p:Y,q:dse,Q:vse,s:yse,S:hse,u:sse,U:ise,V:lse,w:ase,W:ose,x:ee,X:z,y:Vk,Y:Hk,Z:cse,"%":gse};A.x=P(r,A),A.X=P(a,A),A.c=P(t,A),T.x=P(r,T),T.X=P(a,T),T.c=P(t,T);function P(me,Pe){return function(De){var xe=[],tt=-1,Ge=0,Lt=me.length,kt,J,ae;for(De instanceof Date||(De=new Date(+De));++tt<Lt;)me.charCodeAt(tt)===37&&(xe.push(me.slice(Ge,tt)),(J=Uk[kt=me.charAt(++tt)])!=null?kt=me.charAt(++tt):J=kt==="e"?" ":"0",(ae=Pe[kt])&&(kt=ae(De,J)),xe.push(kt),Ge=tt+1);return xe.push(me.slice(Ge,tt)),xe.join("")}}function M(me,Pe){return function(De){var xe=Jd(1900,void 0,1),tt=I(xe,me,De+="",0),Ge,Lt;if(tt!=De.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Pe&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Ge=Mb(Jd(xe.y,0,1)),Lt=Ge.getUTCDay(),Ge=Lt>4||Lt===0?Wp.ceil(Ge):Wp(Ge),Ge=rg.offset(Ge,(xe.V-1)*7),xe.y=Ge.getUTCFullYear(),xe.m=Ge.getUTCMonth(),xe.d=Ge.getUTCDate()+(xe.w+6)%7):(Ge=Rb(Jd(xe.y,0,1)),Lt=Ge.getDay(),Ge=Lt>4||Lt===0?Kp.ceil(Ge):Kp(Ge),Ge=wf.offset(Ge,(xe.V-1)*7),xe.y=Ge.getFullYear(),xe.m=Ge.getMonth(),xe.d=Ge.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Lt="Z"in xe?Mb(Jd(xe.y,0,1)).getUTCDay():Rb(Jd(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Lt+5)%7:xe.w+xe.U*7-(Lt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,Mb(xe)):Rb(xe)}}function I(me,Pe,De,xe){for(var tt=0,Ge=Pe.length,Lt=De.length,kt,J;tt<Ge;){if(xe>=Lt)return-1;if(kt=Pe.charCodeAt(tt++),kt===37){if(kt=Pe.charAt(tt++),J=k[kt in Uk?Pe.charAt(tt++):kt],!J||(xe=J(me,De,xe))<0)return-1}else if(kt!=De.charCodeAt(xe++))return-1}return xe}function Y(me,Pe,De){var xe=m.exec(Pe.slice(De));return xe?(me.p=h.get(xe[0].toLowerCase()),De+xe[0].length):-1}function L(me,Pe,De){var xe=y.exec(Pe.slice(De));return xe?(me.w=N.get(xe[0].toLowerCase()),De+xe[0].length):-1}function R(me,Pe,De){var xe=g.exec(Pe.slice(De));return xe?(me.w=v.get(xe[0].toLowerCase()),De+xe[0].length):-1}function q(me,Pe,De){var xe=C.exec(Pe.slice(De));return xe?(me.m=E.get(xe[0].toLowerCase()),De+xe[0].length):-1}function ve(me,Pe,De){var xe=b.exec(Pe.slice(De));return xe?(me.m=w.get(xe[0].toLowerCase()),De+xe[0].length):-1}function K(me,Pe,De){return I(me,t,Pe,De)}function ee(me,Pe,De){return I(me,r,Pe,De)}function z(me,Pe,De){return I(me,a,Pe,De)}function Z(me){return c[me.getDay()]}function $(me){return l[me.getDay()]}function de(me){return f[me.getMonth()]}function B(me){return d[me.getMonth()]}function _(me){return s[+(me.getHours()>=12)]}function Q(me){return 1+~~(me.getMonth()/3)}function fe(me){return c[me.getUTCDay()]}function Ne(me){return l[me.getUTCDay()]}function re(me){return f[me.getUTCMonth()]}function Le(me){return d[me.getUTCMonth()]}function pe(me){return s[+(me.getUTCHours()>=12)]}function Ke(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Pe=P(me+="",A);return Pe.toString=function(){return me},Pe},parse:function(me){var Pe=M(me+="",!1);return Pe.toString=function(){return me},Pe},utcFormat:function(me){var Pe=P(me+="",T);return Pe.toString=function(){return me},Pe},utcParse:function(me){var Pe=M(me+="",!0);return Pe.toString=function(){return me},Pe}}}var Uk={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,tse=/^%/,nse=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",l=s.length;return a+(l<r?new Array(r-l+1).join(t)+s:s)}function rse(e){return e.replace(nse,"\\$&")}function eu(e){return new RegExp("^(?:"+e.map(rse).join("|")+")","i")}function tu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ase(e,t,r){var a=Kn.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function sse(e,t,r){var a=Kn.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function ise(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function lse(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function ose(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Hk(e,t,r){var a=Kn.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Vk(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function cse(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function dse(e,t,r){var a=Kn.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function use(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function qk(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function fse(e,t,r){var a=Kn.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function Kk(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function mse(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function hse(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function pse(e,t,r){var a=Kn.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function xse(e,t,r){var a=Kn.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function gse(e,t,r){var a=tse.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function vse(e,t,r){var a=Kn.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function yse(e,t,r){var a=Kn.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function Wk(e,t){return At(e.getDate(),t,2)}function bse(e,t){return At(e.getHours(),t,2)}function jse(e,t){return At(e.getHours()%12||12,t,2)}function wse(e,t){return At(1+wf.count(ei(e),e),t,3)}function lI(e,t){return At(e.getMilliseconds(),t,3)}function Nse(e,t){return lI(e,t)+"000"}function Sse(e,t){return At(e.getMonth()+1,t,2)}function Cse(e,t){return At(e.getMinutes(),t,2)}function Ese(e,t){return At(e.getSeconds(),t,2)}function Ase(e){var t=e.getDay();return t===0?7:t}function Pse(e,t){return At(ag.count(ei(e)-1,e),t,2)}function oI(e){var t=e.getDay();return t>=4||t===0?Tc(e):Tc.ceil(e)}function Ose(e,t){return e=oI(e),At(Tc.count(ei(e),e)+(ei(e).getDay()===4),t,2)}function Tse(e){return e.getDay()}function kse(e,t){return At(Kp.count(ei(e)-1,e),t,2)}function _se(e,t){return At(e.getFullYear()%100,t,2)}function Rse(e,t){return e=oI(e),At(e.getFullYear()%100,t,2)}function Mse(e,t){return At(e.getFullYear()%1e4,t,4)}function Dse(e,t){var r=e.getDay();return e=r>=4||r===0?Tc(e):Tc.ceil(e),At(e.getFullYear()%1e4,t,4)}function Lse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function Gk(e,t){return At(e.getUTCDate(),t,2)}function Ise(e,t){return At(e.getUTCHours(),t,2)}function $se(e,t){return At(e.getUTCHours()%12||12,t,2)}function Fse(e,t){return At(1+rg.count(ti(e),e),t,3)}function cI(e,t){return At(e.getUTCMilliseconds(),t,3)}function zse(e,t){return cI(e,t)+"000"}function Bse(e,t){return At(e.getUTCMonth()+1,t,2)}function Use(e,t){return At(e.getUTCMinutes(),t,2)}function Hse(e,t){return At(e.getUTCSeconds(),t,2)}function Vse(e){var t=e.getUTCDay();return t===0?7:t}function qse(e,t){return At(sg.count(ti(e)-1,e),t,2)}function dI(e){var t=e.getUTCDay();return t>=4||t===0?kc(e):kc.ceil(e)}function Kse(e,t){return e=dI(e),At(kc.count(ti(e),e)+(ti(e).getUTCDay()===4),t,2)}function Wse(e){return e.getUTCDay()}function Gse(e,t){return At(Wp.count(ti(e)-1,e),t,2)}function Yse(e,t){return At(e.getUTCFullYear()%100,t,2)}function Qse(e,t){return e=dI(e),At(e.getUTCFullYear()%100,t,2)}function Xse(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function Zse(e,t){var r=e.getUTCDay();return e=r>=4||r===0?kc(e):kc.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function Jse(){return"+0000"}function Yk(){return"%"}function Qk(e){return+e}function Xk(e){return Math.floor(+e/1e3)}var nc,uI,fI;eie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eie(e){return nc=ese(e),uI=nc.format,nc.parse,fI=nc.utcFormat,nc.utcParse,nc}function tie(e){return new Date(e)}function nie(e){return e instanceof Date?+e:+new Date(+e)}function gN(e,t,r,a,s,l,c,d,f,m){var h=rN(),g=h.invert,v=h.domain,y=m(".%L"),N=m(":%S"),b=m("%I:%M"),w=m("%I %p"),C=m("%a %d"),E=m("%b %d"),A=m("%B"),T=m("%Y");function k(P){return(f(P)<P?y:d(P)<P?N:c(P)<P?b:l(P)<P?w:a(P)<P?s(P)<P?C:E:r(P)<P?A:T)(P)}return h.invert=function(P){return new Date(g(P))},h.domain=function(P){return arguments.length?v(Array.from(P,nie)):v().map(tie)},h.ticks=function(P){var M=v();return e(M[0],M[M.length-1],P??10)},h.tickFormat=function(P,M){return M==null?k:m(M)},h.nice=function(P){var M=v();return(!P||typeof P.range!="function")&&(P=t(M[0],M[M.length-1],P??10)),P?v(ZL(M,P)):h},h.copy=function(){return jf(h,gN(e,t,r,a,s,l,c,d,f,m))},h}function rie(){return Pa.apply(gN(Zae,Jae,ei,pN,ag,wf,mN,uN,zl,uI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aie(){return Pa.apply(gN(Qae,Xae,ti,xN,sg,rg,hN,fN,zl,fI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ig(){var e=0,t=1,r,a,s,l,c=hr,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(s===0?.5:(g=(l(g)-r)*s,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,r=l(e=+e),a=l(t=+t),s=r===a?0:1/(a-r),m):[e,t]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function h(g){return function(v){var y,N;return arguments.length?([y,N]=v,c=g(y,N),m):[c(0),c(1)]}}return m.range=h(Kc),m.rangeRound=h(nN),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return l=g,r=g(e),a=g(t),s=r===a?0:1/(a-r),m}}function ol(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mI(){var e=ll(ig()(hr));return e.copy=function(){return ol(e,mI())},ci.apply(e,arguments)}function hI(){var e=iN(ig()).domain([1,10]);return e.copy=function(){return ol(e,hI()).base(e.base())},ci.apply(e,arguments)}function pI(){var e=lN(ig());return e.copy=function(){return ol(e,pI()).constant(e.constant())},ci.apply(e,arguments)}function vN(){var e=oN(ig());return e.copy=function(){return ol(e,vN()).exponent(e.exponent())},ci.apply(e,arguments)}function sie(){return vN.apply(null,arguments).exponent(.5)}function xI(){var e=[],t=hr;function r(a){if(a!=null&&!isNaN(a=+a))return t((yf(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Vi),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,l)=>Vre(e,l/a))},r.copy=function(){return xI(t).domain(e)},ci.apply(r,arguments)}function lg(){var e=0,t=.5,r=1,a=1,s,l,c,d,f,m=hr,h,g=!1,v;function y(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-l)*(a*b<a*l?d:f),m(g?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,t,r]=b,s=h(e=+e),l=h(t=+t),c=h(r=+r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,y):[e,t,r]},y.clamp=function(b){return arguments.length?(g=!!b,y):g},y.interpolator=function(b){return arguments.length?(m=b,y):m};function N(b){return function(w){var C,E,A;return arguments.length?([C,E,A]=w,m=gae(b,[C,E,A]),y):[m(0),m(.5),m(1)]}}return y.range=N(Kc),y.rangeRound=N(nN),y.unknown=function(b){return arguments.length?(v=b,y):v},function(b){return h=b,s=b(e),l=b(t),c=b(r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,y}}function gI(){var e=ll(lg()(hr));return e.copy=function(){return ol(e,gI())},ci.apply(e,arguments)}function vI(){var e=iN(lg()).domain([.1,1,10]);return e.copy=function(){return ol(e,vI()).base(e.base())},ci.apply(e,arguments)}function yI(){var e=lN(lg());return e.copy=function(){return ol(e,yI()).constant(e.constant())},ci.apply(e,arguments)}function yN(){var e=oN(lg());return e.copy=function(){return ol(e,yN()).exponent(e.exponent())},ci.apply(e,arguments)}function iie(){return yN.apply(null,arguments).exponent(.5)}const lu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:J1,scaleDiverging:gI,scaleDivergingLog:vI,scaleDivergingPow:yN,scaleDivergingSqrt:iie,scaleDivergingSymlog:yI,scaleIdentity:XL,scaleImplicit:uw,scaleLinear:QL,scaleLog:JL,scaleOrdinal:Z1,scalePoint:Wre,scalePow:cN,scaleQuantile:nI,scaleQuantize:rI,scaleRadial:tI,scaleSequential:mI,scaleSequentialLog:hI,scaleSequentialPow:vN,scaleSequentialQuantile:xI,scaleSequentialSqrt:sie,scaleSequentialSymlog:pI,scaleSqrt:zae,scaleSymlog:eI,scaleThreshold:aI,scaleTime:rie,scaleUtc:aie,tickFormat:YL},Symbol.toStringTag,{value:"Module"}));var cl=e=>e.chartData,bN=ue([cl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),og=(e,t,r,a)=>a?bN(e):cl(e);function Zi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Dt(t)&&Dt(r))return!0}return!1}function Zk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,l;if(Dt(r))s=r;else if(typeof r=="function")return;if(Dt(a))l=a;else if(typeof a=="function")return;var c=[s,l];if(Zi(c))return c}}function lie(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Zi(a))return Zk(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Fe(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&ET.test(s)){var f=ET.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Fe(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[1]))}catch{}else if(typeof l=="string"&&AT.test(l)){var h=AT.exec(l);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[1]+g}}else d=t?.[1];var v=[c,d];if(Zi(v))return t==null?v:Zk(v,t,r)}}}var Wc=1e9,oie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wN,tn=!0,Ea="[DecimalError] ",Vl=Ea+"Invalid argument: ",jN=Ea+"Exponent out of range: ",Gc=Math.floor,Dl=Math.pow,cie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kr,Vn=1e7,Yt=7,jI=9007199254740991,Gp=Gc(jI/Yt),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,r,a,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(a=l.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return a===s?0:a>s^l.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(e){return Bs(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,r=t.constructor;return Ht(Bs(t,new r(e),0,1),r.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return On(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,r=this,a=r.constructor,s=a.precision,l=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Kr))throw Error(Ea+"NaN");if(r.s<1)throw Error(Ea+(r.s?"NaN":"-Infinity"));return r.eq(Kr)?new a(0):(tn=!1,t=Bs($u(r,l),$u(e,l),l),tn=!0,Ht(t,s))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SI(t,e):wI(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Ea+"NaN");return r.s?(tn=!1,t=Bs(r,e,0,1).times(e),tn=!0,r.minus(t)):Ht(new a(r),s)};Be.naturalExponential=Be.exp=function(){return NI(this)};Be.naturalLogarithm=Be.ln=function(){return $u(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wI(t,e):SI(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vl+e);if(t=On(s)+1,a=s.d.length-1,r=a*Yt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Be.squareRoot=Be.sqrt=function(){var e,t,r,a,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Ea+"NaN")}for(e=On(d),tn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=Ja(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Gc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new f(t)):a=new f(s.toString()),r=f.precision,s=c=r+3;;)if(l=a,a=l.plus(Bs(d,l,c+2)).times(.5),Ja(l.d).slice(0,c)===(t=Ja(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Ht(l,r+1,0),l.times(l).eq(d)){a=l;break}}else if(t!="9999")break;c+=4}return tn=!0,Ht(a,r)};Be.times=Be.mul=function(e){var t,r,a,s,l,c,d,f,m,h=this,g=h.constructor,v=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=y.length,f<m&&(l=v,v=y,y=l,c=f,f=m,m=c),l=[],c=f+m,a=c;a--;)l.push(0);for(a=m;--a>=0;){for(t=0,s=f+a;s>a;)d=l[s]+y[a]*v[s-a-1]+t,l[s--]=d%Vn|0,t=d/Vn|0;l[s]=(l[s]+t)%Vn|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,tn?Ht(e,g.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(ss(e,0,Wc),t===void 0?t=a.rounding:ss(t,0,8),Ht(r,e+On(r)+1,t))};Be.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=ao(a,!0):(ss(e,0,Wc),t===void 0?t=s.rounding:ss(t,0,8),a=Ht(new s(a),e+1,t),r=ao(a,!0,e+1)),r};Be.toFixed=function(e,t){var r,a,s=this,l=s.constructor;return e===void 0?ao(s):(ss(e,0,Wc),t===void 0?t=l.rounding:ss(t,0,8),a=Ht(new l(s),e+On(s)+1,t),r=ao(a.abs(),!1,e+On(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),On(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,r,a,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Kr);if(d=new f(d),!d.s){if(e.s<1)throw Error(Ea+"Infinity");return d}if(d.eq(Kr))return d;if(a=f.precision,e.eq(Kr))return Ht(d,a);if(t=e.e,r=e.d.length-1,c=t>=r,l=d.s,c){if((r=h<0?-h:h)<=jI){for(s=new f(Kr),t=Math.ceil(a/Yt+4),tn=!1;r%2&&(s=s.times(d),e_(s.d,t)),r=Gc(r/2),r!==0;)d=d.times(d),e_(d.d,t);return tn=!0,e.s<0?new f(Kr).div(s):Ht(s,a)}}else if(l<0)throw Error(Ea+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,tn=!1,s=e.times($u(d,a+m)),tn=!0,s=NI(s),s.s=l,s};Be.toPrecision=function(e,t){var r,a,s=this,l=s.constructor;return e===void 0?(r=On(s),a=ao(s,r<=l.toExpNeg||r>=l.toExpPos)):(ss(e,1,Wc),t===void 0?t=l.rounding:ss(t,0,8),s=Ht(new l(s),e,t),r=On(s),a=ao(s,e<=r||r<=l.toExpNeg,e)),a};Be.toSignificantDigits=Be.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ss(e,1,Wc),t===void 0?t=a.rounding:ss(t,0,8)),Ht(new a(r),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=On(e),r=e.constructor;return ao(e,t<=r.toExpNeg||t>=r.toExpPos)};function wI(e,t){var r,a,s,l,c,d,f,m,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),tn?Ht(t,g):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(a=f,l=-l,d=m.length):(a=m,s=c,d=f.length),c=Math.ceil(g/Yt),d=c>d?c+1:d+1,l>d&&(l=d,a.length=1),a.reverse();l--;)a.push(0);a.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,a=m,m=f,f=a),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/Vn|0,f[l]%=Vn;for(r&&(f.unshift(r),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,tn?Ht(t,g):t}function ss(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vl+e)}function Ja(e){var t,r,a,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)a=e[t]+"",r=Yt-a.length,r&&(l+=$i(r)),l+=a;c=e[t],a=c+"",r=Yt-a.length,r&&(l+=$i(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Bs=(function(){function e(a,s){var l,c=0,d=a.length;for(a=a.slice();d--;)l=a[d]*s+c,a[d]=l%Vn|0,c=l/Vn|0;return c&&a.unshift(c),a}function t(a,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(a[d]!=s[d]){f=a[d]>s[d]?1:-1;break}return f}function r(a,s,l){for(var c=0;l--;)a[l]-=c,c=a[l]<s[l]?1:0,a[l]=c*Vn+a[l]-s[l];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,l,c){var d,f,m,h,g,v,y,N,b,w,C,E,A,T,k,P,M,I,Y=a.constructor,L=a.s==s.s?1:-1,R=a.d,q=s.d;if(!a.s)return new Y(a);if(!s.s)throw Error(Ea+"Division by zero");for(f=a.e-s.e,M=q.length,k=R.length,y=new Y(L),N=y.d=[],m=0;q[m]==(R[m]||0);)++m;if(q[m]>(R[m]||0)&&--f,l==null?E=l=Y.precision:c?E=l+(On(a)-On(s))+1:E=l,E<0)return new Y(0);if(E=E/Yt+2|0,m=0,M==1)for(h=0,q=q[0],E++;(m<k||h)&&E--;m++)A=h*Vn+(R[m]||0),N[m]=A/q|0,h=A%q|0;else{for(h=Vn/(q[0]+1)|0,h>1&&(q=e(q,h),R=e(R,h),M=q.length,k=R.length),T=M,b=R.slice(0,M),w=b.length;w<M;)b[w++]=0;I=q.slice(),I.unshift(0),P=q[0],q[1]>=Vn/2&&++P;do h=0,d=t(q,b,M,w),d<0?(C=b[0],M!=w&&(C=C*Vn+(b[1]||0)),h=C/P|0,h>1?(h>=Vn&&(h=Vn-1),g=e(q,h),v=g.length,w=b.length,d=t(g,b,v,w),d==1&&(h--,r(g,M<v?I:q,v))):(h==0&&(d=h=1),g=q.slice()),v=g.length,v<w&&g.unshift(0),r(b,g,w),d==-1&&(w=b.length,d=t(q,b,M,w),d<1&&(h++,r(b,M<w?I:q,w))),w=b.length):d===0&&(h++,b=[0]),N[m++]=h,d&&b[0]?b[w++]=R[T]||0:(b=[R[T]],w=1);while((T++<k||b[0]!==void 0)&&E--)}return N[0]||N.shift(),y.e=f,Ht(y,c?l+On(y)+1:l)}})();function NI(e,t){var r,a,s,l,c,d,f=0,m=0,h=e.constructor,g=h.precision;if(On(e)>16)throw Error(jN+On(e));if(!e.s)return new h(Kr);for(tn=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(a=Math.log(Dl(2,m))/Math.LN10*2+5|0,d+=a,r=s=l=new h(Kr),h.precision=d;;){if(s=Ht(s.times(e),d),r=r.times(++f),c=l.plus(Bs(s,r,d)),Ja(c.d).slice(0,d)===Ja(l.d).slice(0,d)){for(;m--;)l=Ht(l.times(l),d);return h.precision=g,t==null?(tn=!0,Ht(l,g)):l}l=c}}function On(e){for(var t=e.e*Yt,r=e.d[0];r>=10;r/=10)t++;return t}function Db(e,t,r){if(t>e.LN10.sd())throw tn=!0,r&&(e.precision=r),Error(Ea+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function $i(e){for(var t="";e--;)t+="0";return t}function $u(e,t){var r,a,s,l,c,d,f,m,h,g=1,v=10,y=e,N=y.d,b=y.constructor,w=b.precision;if(y.s<1)throw Error(Ea+(y.s?"NaN":"-Infinity"));if(y.eq(Kr))return new b(0);if(t==null?(tn=!1,m=w):m=t,y.eq(10))return t==null&&(tn=!0),Db(b,m);if(m+=v,b.precision=m,r=Ja(N),a=r.charAt(0),l=On(y),Math.abs(l)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)y=y.times(e),r=Ja(y.d),a=r.charAt(0),g++;l=On(y),a>1?(y=new b("0."+r),l++):y=new b(a+"."+r.slice(1))}else return f=Db(b,m+2,w).times(l+""),y=$u(new b(a+"."+r.slice(1)),m-v).plus(f),b.precision=w,t==null?(tn=!0,Ht(y,w)):y;for(d=c=y=Bs(y.minus(Kr),y.plus(Kr),m),h=Ht(y.times(y),m),s=3;;){if(c=Ht(c.times(h),m),f=d.plus(Bs(c,new b(s),m)),Ja(f.d).slice(0,m)===Ja(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(Db(b,m+2,w).times(l+""))),d=Bs(d,new b(g),m),b.precision=w,t==null?(tn=!0,Ht(d,w)):d;d=f,s+=2}}function Jk(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Gc(r/Yt),e.d=[],a=(r+1)%Yt,r<0&&(a+=Yt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Yt;a<s;)e.d.push(+t.slice(a,a+=Yt));t=t.slice(a),a=Yt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),tn&&(e.e>Gp||e.e<-Gp))throw Error(jN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,r){var a,s,l,c,d,f,m,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(a=t-c,a<0)a+=Yt,s=t,m=g[h=0];else{if(h=Math.ceil((a+1)/Yt),l=g.length,h>=l)return e;for(m=l=g[h],c=1;l>=10;l/=10)c++;a%=Yt,s=a-Yt+c}if(r!==void 0&&(l=Dl(10,c-s-1),d=m/l%10|0,f=t<0||g[h+1]!==void 0||m%l,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(a>0?s>0?m/Dl(10,c-s):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(l=On(e),g.length=1,t=t-l-1,g[0]=Dl(10,(Yt-t%Yt)%Yt),e.e=Gc(-t/Yt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(a==0?(g.length=h,l=1,h--):(g.length=h+1,l=Dl(10,Yt-a),g[h]=s>0?(m/Dl(10,c-s)%Dl(10,s)|0)*l:0),f)for(;;)if(h==0){(g[0]+=l)==Vn&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Vn)break;g[h--]=0,l=1}for(a=g.length;g[--a]===0;)g.pop();if(tn&&(e.e>Gp||e.e<-Gp))throw Error(jN+On(e));return e}function SI(e,t){var r,a,s,l,c,d,f,m,h,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),tn?Ht(t,y):t;if(f=e.d,g=t.d,a=t.e,m=e.e,f=f.slice(),c=m-a,c){for(h=c<0,h?(r=f,c=-c,d=g.length):(r=g,a=m,d=f.length),s=Math.max(Math.ceil(y/Yt),d)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=f.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=g[s]){h=f[s]<g[s];break}c=0}for(h&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,s=g.length-d;s>0;--s)f[d++]=0;for(s=g.length;s>c;){if(f[--s]<g[s]){for(l=s;l&&f[--l]===0;)f[l]=Vn-1;--f[l],f[s]+=Vn}f[s]-=g[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--a;return f[0]?(t.d=f,t.e=a,tn?Ht(t,y):t):new v(0)}function ao(e,t,r){var a,s=On(e),l=Ja(e.d),c=l.length;return t?(r&&(a=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+$i(a):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+$i(-s-1)+l,r&&(a=r-c)>0&&(l+=$i(a))):s>=c?(l+=$i(s+1-c),r&&(a=r-s-1)>0&&(l=l+"."+$i(a))):((a=s+1)<c&&(l=l.slice(0,a)+"."+l.slice(a)),r&&(a=r-c)>0&&(s+1===c&&(l+="."),l+=$i(a))),e.s<0?"-"+l:l}function e_(e,t){if(e.length>t)return e.length=t,!0}function CI(e){var t,r,a;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Vl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return Jk(c,l.toString())}else if(typeof l!="string")throw Error(Vl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,cie.test(l))Jk(c,l);else throw Error(Vl+l)}if(s.prototype=Be,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=CI,s.config=s.set=die,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function die(e){if(!e||typeof e!="object")throw Error(Ea+"Object expected");var t,r,a,s=["precision",1,Wc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Gc(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Vl+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Vl+r+": "+a);return this}var wN=CI(oie);Kr=new wN(1);const Mt=wN;var uie=e=>e,EI={},AI=e=>e===EI,t_=e=>function t(){return arguments.length===0||arguments.length===1&&AI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},PI=(e,t)=>e===1?t:t_(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var l=a.filter(c=>c!==EI).length;return l>=e?t(...a):PI(e-l,t_(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=a.map(h=>AI(h)?d.shift():h);return t(...m,...d)}))}),fie=e=>PI(e.length,e),pw=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},mie=fie((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),hie=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return uie;var s=r.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},xw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function OI(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function TI(e,t,r){for(var a=new Mt(e),s=0,l=[];a.lt(t)&&s<1e5;)l.push(a.toNumber()),a=a.add(r),s++;return l}var kI=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},_I=(e,t,r)=>{if(e.lte(0))return new Mt(0);var a=OI(e.toNumber()),s=new Mt(10).pow(a),l=e.div(s),c=a!==1?.05:.1,d=new Mt(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=d.mul(s);return t?new Mt(f.toNumber()):new Mt(Math.ceil(f.toNumber()))},pie=(e,t,r)=>{var a=new Mt(1),s=new Mt(e);if(!s.isint()&&r){var l=Math.abs(e);l<1?(a=new Mt(10).pow(OI(e)-1),s=new Mt(Math.floor(s.div(a).toNumber())).mul(a)):l>1&&(s=new Mt(Math.floor(e)))}else e===0?s=new Mt(Math.floor((t-1)/2)):r||(s=new Mt(Math.floor(e)));var c=Math.floor((t-1)/2),d=hie(mie(f=>s.add(new Mt(f-c).mul(a)).toNumber()),pw);return d(0,t)},RI=function(t,r,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var c=_I(new Mt(r).sub(t).div(a-1),s,l),d;t<=0&&r>=0?d=new Mt(0):(d=new Mt(t).add(r).div(2),d=d.sub(new Mt(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Mt(r).sub(d).div(c).toNumber()),h=f+m+1;return h>a?RI(t,r,a,s,l+1):(h<a&&(m=r>0?m+(a-h):m,f=r>0?f:f+(a-h)),{step:c,tickMin:d.sub(new Mt(f).mul(c)),tickMax:d.add(new Mt(m).mul(c))})},xie=function(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,f]=kI([r,a]);if(d===-1/0||f===1/0){var m=f===1/0?[d,...pw(0,s-1).map(()=>1/0)]:[...pw(0,s-1).map(()=>-1/0),f];return r>a?xw(m):m}if(d===f)return pie(d,s,l);var{step:h,tickMin:g,tickMax:v}=RI(d,f,c,l,0),y=TI(g,v.add(new Mt(.1).mul(h)),h);return r>a?xw(y):y},gie=function(t,r){var[a,s]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=kI([a,s]);if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var f=Math.max(r,2),m=_I(new Mt(d).sub(c).div(f-1),l,0),h=[...TI(new Mt(c),new Mt(d),m),d];return l===!1&&(h=h.map(g=>Math.round(g))),a>s?xw(h):h},MI=e=>e.rootProps.maxBarSize,vie=e=>e.rootProps.barGap,DI=e=>e.rootProps.barCategoryGap,yie=e=>e.rootProps.barSize,Nf=e=>e.rootProps.stackOffset,LI=e=>e.rootProps.reverseStackOrder,NN=e=>e.options.chartName,SN=e=>e.rootProps.syncId,II=e=>e.rootProps.syncMethod,CN=e=>e.options.eventEmitter,bie=e=>e.rootProps.baseValue,vn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ls={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Vr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},jie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ls.angleAxisId,includeHidden:!1,name:void 0,reversed:Ls.reversed,scale:Ls.scale,tick:Ls.tick,tickCount:void 0,ticks:void 0,type:Ls.type,unit:void 0},wie={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:Vr.type,unit:void 0},Nie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ls.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ls.scale,tick:Ls.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sie={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:"category",unit:void 0},EN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Nie:jie,AN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Sie:wie,dg=e=>e.polarOptions,PN=ue([li,oi,Ln],DL),$I=ue([dg,PN],(e,t)=>{if(e!=null)return ir(e.innerRadius,t,0)}),FI=ue([dg,PN],(e,t)=>{if(e!=null)return ir(e.outerRadius,t,t*.8)}),Cie=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},zI=ue([dg],Cie);ue([EN,zI],cg);var BI=ue([PN,$I,FI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([AN,BI],cg);var UI=ue([Nt,dg,$I,FI,li,oi],(e,t,r,a,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:ir(c,s,s/2),cy:ir(d,l,l/2),innerRadius:r,outerRadius:a,startAngle:f,endAngle:m,clockWise:!1}}}),nn=(e,t)=>t,Sf=(e,t,r)=>r;function ug(e){return e?.id}function HI(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:l}=r,c=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:a;if(!(m==null||m.length===0)){var h=ug(d);m.forEach((g,v)=>{var y=l==null||s?v:String(Ut(g,l,null)),N=Ut(g,d.dataKey,0),b;c.has(y)?b=c.get(y):b={},Object.assign(b,{[h]:N}),c.set(y,b)})}}),Array.from(c.values())}function fg(e){return e.stackId!=null&&e.dataKey!=null}var mg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function hg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Eie(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var $n=e=>{var t=Nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Yc=e=>e.tooltip.settings.axisId;function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(a){Aie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Aie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Oie(e,"string");return typeof t=="symbol"?t:t+""}function Oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gw=[0,"auto"],Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},VI=(e,t)=>e.cartesianAxis.xAxis[t],us=(e,t)=>{var r=VI(e,t);return r??Un},Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mf},qI=(e,t)=>e.cartesianAxis.yAxis[t],fs=(e,t)=>{var r=qI(e,t);return r??Hn},Tie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ON=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Tie},an=(e,t,r)=>{switch(t){case"xAxis":return us(e,r);case"yAxis":return fs(e,r);case"zAxis":return ON(e,r);case"angleAxis":return EN(e,r);case"radiusAxis":return AN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},kie=(e,t,r)=>{switch(t){case"xAxis":return us(e,r);case"yAxis":return fs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Cf=(e,t,r)=>{switch(t){case"xAxis":return us(e,r);case"yAxis":return fs(e,r);case"angleAxis":return EN(e,r);case"radiusAxis":return AN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},KI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function TN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var pg=e=>e.graphicalItems.cartesianItems,_ie=ue([nn,Sf],TN),kN=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),Ef=ue([pg,an,_ie],kN,{memoizeOptions:{resultEqualityCheck:hg}}),WI=ue([Ef],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(fg)),GI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Rie=ue([Ef],GI),_N=e=>e.map(t=>t.data).filter(Boolean).flat(1),Mie=ue([Ef],_N,{memoizeOptions:{resultEqualityCheck:hg}}),RN=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},MN=ue([Mie,og],RN),DN=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:Ut(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:Ut(s,a)}))):e.map(a=>({value:a})),xg=ue([MN,an,Ef],DN);function YI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function qh(e){if(Sa(e)||e instanceof Date){var t=Number(e);if(Dt(t))return t}}function r_(e){if(Array.isArray(e)){var t=[qh(e[0]),qh(e[1])];return Zi(t)?t:void 0}var r=qh(e);if(r!=null)return[r,r]}function ni(e){return e.map(qh).filter(TZ)}function Die(e,t,r){return!r||typeof t!="number"||_r(t)?[]:r.length?ni(r.flatMap(a=>{var s=Ut(e,a.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Dt(l)||!Dt(c)))return[t-l,t+c]})):[]}var Fn=e=>{var t=$n(e),r=Yc(e);return Cf(e,t,r)},Af=ue([Fn],e=>e?.dataKey),Lie=ue([WI,og,Fn],HI),QI=(e,t,r,a)=>{var s={},l=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),s);return Object.fromEntries(Object.entries(l).map(c=>{var[d,f]=c,m=a?[...f].reverse():f,h=m.map(ug);return[d,{stackedData:tte(e,h,r),graphicalItems:m}]}))},Fu=ue([Lie,WI,Nf,LI],QI),XI=(e,t,r,a)=>{var{dataStartIndex:s,dataEndIndex:l}=t;if(a==null&&r!=="zAxis"){var c=ste(e,s,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Iie=ue([an],e=>e.allowDataOverflow),LN=e=>{var t;if(e==null||!("domain"in e))return gw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ni(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:gw},IN=ue([an],LN),$N=ue([IN,Iie],bI),$ie=ue([Fu,cl,nn,$N],XI,{memoizeOptions:{resultEqualityCheck:mg}}),gg=e=>e.errorBars,Fie=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>YI(r,a)),Qp=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},FN=(e,t,r,a,s)=>{var l,c;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var m,h,g=(m=a[f.id])===null||m===void 0?void 0:m.filter(C=>YI(s,C)),v=Ut(d,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),y=Die(d,v,g);if(y.length>=2){var N=Math.min(...y),b=Math.max(...y);(l==null||N<l)&&(l=N),(c==null||b>c)&&(c=b)}var w=r_(v);w!=null&&(l=l==null?w[0]:Math.min(l,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=r_(Ut(d,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Dt(l)&&Dt(c))return[l,c]},zie=ue([MN,an,Rie,gg,nn],FN,{memoizeOptions:{resultEqualityCheck:mg}});function Bie(e){var{value:t}=e;if(Sa(t)||t instanceof Date)return t}var Uie=(e,t,r)=>{var a=e.map(Bie).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&m3(a))?FL(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},ZI=e=>e.referenceElements.dots,Qc=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Hie=ue([ZI,nn,Sf],Qc),JI=e=>e.referenceElements.areas,Vie=ue([JI,nn,Sf],Qc),e$=e=>e.referenceElements.lines,qie=ue([e$,nn,Sf],Qc),t$=(e,t)=>{var r=ni(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Kie=ue(Hie,nn,t$),n$=(e,t)=>{var r=ni(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Wie=ue([Vie,nn],n$);function Gie(e){var t;if(e.x!=null)return ni([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:ni(r)}function Yie(e){var t;if(e.y!=null)return ni([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:ni(r)}var r$=(e,t)=>{var r=e.flatMap(a=>t==="xAxis"?Gie(a):Yie(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Qie=ue([qie,nn],r$),Xie=ue(Kie,Qie,Wie,(e,t,r)=>Qp(e,r,t)),zN=(e,t,r,a,s,l,c,d)=>{if(r!=null)return r;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",m=f?Qp(a,l,s):Qp(l,s);return lie(t,m,e.allowDataOverflow)},Zie=ue([an,IN,$N,$ie,zie,Xie,Nt,nn],zN,{memoizeOptions:{resultEqualityCheck:mg}}),Jie=[0,1],BN=(e,t,r,a,s,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=ii(t,l);if(m&&d==null){var h;return FL(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?Uie(a,e,m):s==="expand"?Jie:c}},UN=ue([an,Nt,MN,xg,Nf,nn,Zie],BN),a$=(e,t,r,a,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(lf(l));return d in lu?d:"point"}}},Xc=ue([an,Nt,KI,NN,nn],a$);function ele(e){if(e!=null){if(e in lu)return lu[e]();var t="scale".concat(lf(e));if(t in lu)return lu[t]()}}function HN(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=ele(t);if(s!=null){var l=s.domain(r).range(a);return Qee(l),l}}}var VN=(e,t,r)=>{var a=LN(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Zi(e))return xie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Zi(e))return gie(e,t.tickCount,t.allowDecimals)}},qN=ue([UN,Cf,Xc],VN),KN=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&Zi(t)&&Array.isArray(r)&&r.length>0){var s=t[0],l=r[0],c=t[1],d=r[r.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},tle=ue([an,UN,qN,nn],KN),nle=ue(xg,an,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(ni(e.map(d=>d.value))).sort((d,f)=>d-f);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var l=0;l<a.length-1;l++){var c=a[l+1]-a[l];r=Math.min(r,c)}return r/s}}),s$=ue(nle,Nt,DI,Ln,(e,t,r,a)=>a,(e,t,r,a,s)=>{if(!Dt(e))return 0;var l=t==="vertical"?a.height:a.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=ir(r,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),rle=(e,t)=>{var r=us(e,t);return r==null||typeof r.padding!="string"?0:s$(e,"xAxis",t,r.padding)},ale=(e,t)=>{var r=fs(e,t);return r==null||typeof r.padding!="string"?0:s$(e,"yAxis",t,r.padding)},sle=ue(us,rle,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),ile=ue(fs,ale,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),lle=ue([Ln,sle,Xx,Qx,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:l}=a;return s?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),ole=ue([Ln,Nt,ile,Xx,Qx,(e,t,r)=>r],(e,t,r,a,s,l)=>{var{padding:c}=s;return l?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Pf=(e,t,r,a)=>{var s;switch(t){case"xAxis":return lle(e,r,a);case"yAxis":return ole(e,r,a);case"zAxis":return(s=ON(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return zI(e);case"radiusAxis":return BI(e,r);default:return}},i$=ue([an,Pf],cg),Ji=ue([an,Xc,tle,i$],HN);ue([Ef,gg,nn],Fie);function l$(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var vg=(e,t)=>t,yg=(e,t,r)=>r,cle=ue(Gx,vg,yg,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(l$)),dle=ue(Yx,vg,yg,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(l$)),o$=(e,t)=>({width:e.width,height:t.height}),ule=(e,t)=>{var r=typeof t.width=="number"?t.width:mf;return{width:r,height:e.height}},c$=ue(Ln,us,o$),fle=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},mle=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},hle=ue(oi,Ln,cle,vg,yg,(e,t,r,a,s)=>{var l={},c;return r.forEach(d=>{var f=o$(t,d);c==null&&(c=fle(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),ple=ue(li,Ln,dle,vg,yg,(e,t,r,a,s)=>{var l={},c;return r.forEach(d=>{var f=ule(t,d);c==null&&(c=mle(t,a,e));var m=a==="left"&&!s||a==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),xle=(e,t)=>{var r=us(e,t);if(r!=null)return hle(e,r.orientation,r.mirror)},gle=ue([Ln,us,xle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),vle=(e,t)=>{var r=fs(e,t);if(r!=null)return ple(e,r.orientation,r.mirror)},yle=ue([Ln,fs,vle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),d$=ue(Ln,fs,(e,t)=>{var r=typeof t.width=="number"?t.width:mf;return{width:r,height:e.height}}),a_=(e,t,r)=>{switch(t){case"xAxis":return c$(e,r).width;case"yAxis":return d$(e,r).height;default:return}},u$=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=r,d=ii(e,a),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&m3(f))return f}},WN=ue([Nt,xg,an,nn],u$),f$=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:l}=r,c=ii(e,a);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},GN=ue([Nt,xg,Cf,nn],f$),s_=ue([Nt,kie,Xc,Ji,WN,GN,Pf,qN,nn],(e,t,r,a,s,l,c,d,f)=>{if(t!=null){var m=ii(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:r,scale:a}}}),ble=(e,t,r,a,s,l,c,d,f)=>{if(!(t==null||a==null)){var m=ii(e,f),{type:h,ticks:g,tickCount:v}=t,y=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,N=h==="category"&&a.bandwidth?a.bandwidth()/y:0;N=f==="angleAxis"&&l!=null&&l.length>=2?qn(l[0]-l[1])*2*N:N;var b=g||s;if(b){var w=b.map((C,E)=>{var A=c?c.indexOf(C):C;return{index:E,coordinate:a(A)+N,value:C,offset:N}});return w.filter(C=>Dt(C.coordinate))}return m&&d?d.map((C,E)=>({coordinate:a(C)+N,value:C,index:E,offset:N})).filter(C=>Dt(C.coordinate)):a.ticks?a.ticks(v).map(C=>({coordinate:a(C)+N,value:C,offset:N})):a.domain().map((C,E)=>({coordinate:a(C)+N,value:c?c[C]:C,index:E,offset:N}))}},m$=ue([Nt,Cf,Xc,Ji,qN,Pf,WN,GN,nn],ble),jle=(e,t,r,a,s,l,c)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var d=ii(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&a?.length>=2?qn(a[0]-a[1])*2*m:m,d&&l?l.map((h,g)=>({coordinate:r(h)+m,value:h,index:g,offset:m})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,g)=>({coordinate:r(h)+m,value:s?s[h]:h,index:g,offset:m}))}},el=ue([Nt,Cf,Ji,Pf,WN,GN,nn],jle),tl=ue(an,Ji,(e,t)=>{if(!(e==null||t==null))return Yp(Yp({},e),{},{scale:t})}),wle=ue([an,Xc,UN,i$],HN);ue((e,t,r)=>ON(e,r),wle,(e,t)=>{if(!(e==null||t==null))return Yp(Yp({},e),{},{scale:t})});var Nle=ue([Nt,Gx,Yx],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),h$=e=>e.options.defaultTooltipEventType,p$=e=>e.options.validateTooltipEventTypes;function x$(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function YN(e,t){var r=h$(e),a=p$(e);return x$(t,r,a)}function Sle(e){return Ie(t=>YN(t,e))}var g$=(e,t)=>{var r,a=Number(t);if(!(_r(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},Cle=e=>e.tooltip.settings,Bi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Ele={itemInteraction:{click:Bi,hover:Bi},axisInteraction:{click:Bi,hover:Bi},keyboardInteraction:Bi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},v$=Mr({name:"tooltip",initialState:Ele,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:en()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,s=$a(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=a)},prepare:en()},removeTooltipEntrySettings:{reducer(e,t){var r=$a(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:en()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ale,replaceTooltipEntrySettings:Ple,removeTooltipEntrySettings:Ole,setTooltipSettingsState:Tle,setActiveMouseOverItemIndex:y$,mouseLeaveItem:kle,mouseLeaveChart:b$,setActiveClickItemIndex:_le,setMouseOverAxisIndex:j$,setMouseClickAxisIndex:Rle,setSyncInteraction:vw,setKeyboardInteraction:yw}=v$.actions,Mle=v$.reducer;function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(a){Dle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Dle(e,t,r){return(t=Lle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lle(e){var t=Ile(e,"string");return typeof t=="symbol"?t:t+""}function Ile(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $le(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fle(e){return e.index!=null}var w$=(e,t,r,a)=>{if(t==null)return Bi;var s=$le(e,t,r);if(s==null)return Bi;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Fle(s)){if(l)return Sh(Sh({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return Sh(Sh({},Bi),{},{coordinate:s.coordinate})};function zle(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Ble(e,t){var r=zle(e),a=t[0],s=t[1];if(r===void 0)return!1;var l=Math.min(a,s),c=Math.max(a,s);return r>=l&&r<=c}function Ule(e,t,r){if(r==null||t==null)return!0;var a=Ut(e,t);return a==null||!Zi(r)?!0:Ble(a,r)}var QN=(e,t,r,a)=>{var s=e?.index;if(s==null)return null;var l=Number(s);if(!Dt(l))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(c,Math.min(l,d)),m=t[f];return m==null||Ule(m,r,a)?String(f):null},N$=(e,t,r,a,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s?.[Number(l)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},S$=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Of=e=>e.options.tooltipPayloadSearcher,Zc=e=>e.tooltip;function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(a){Hle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hle(e,t,r){return(t=Vle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vle(e){var t=qle(e,"string");return typeof t=="symbol"?t:t+""}function qle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kle(e,t){return e??t}var C$=(e,t,r,a,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,g=[];return e.reduce((v,y)=>{var N,{dataDefinedOnItem:b,settings:w}=y,C=Kle(b,d),E=Array.isArray(C)?lL(C,m,h):C,A=(N=w?.dataKey)!==null&&N!==void 0?N:a,T=w?.nameKey,k;if(a&&Array.isArray(E)&&!Array.isArray(E[0])&&c==="axis"?k=h3(E,a,s):k=l(E,t,f,T),Array.isArray(k))k.forEach(M=>{var I=o_(o_({},w),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(PT({tooltipEntrySettings:I,dataKey:M.dataKey,payload:M.payload,value:Ut(M.payload,M.dataKey),name:M.name}))});else{var P;v.push(PT({tooltipEntrySettings:w,dataKey:A,payload:k,value:Ut(k,A),name:(P=Ut(k,T))!==null&&P!==void 0?P:w?.name}))}return v},g)}},XN=ue([Fn,Nt,KI,NN,$n],a$),Wle=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Gle=ue([$n,Yc],TN),Tf=ue([Wle,Fn,Gle],kN,{memoizeOptions:{resultEqualityCheck:hg}}),Yle=ue([Tf],e=>e.filter(fg)),Qle=ue([Tf],_N,{memoizeOptions:{resultEqualityCheck:hg}}),Jc=ue([Qle,cl],RN),Xle=ue([Yle,cl,Fn],HI),ZN=ue([Jc,Fn,Tf],DN),E$=ue([Fn],LN),Zle=ue([Fn],e=>e.allowDataOverflow),A$=ue([E$,Zle],bI),Jle=ue([Tf],e=>e.filter(fg)),eoe=ue([Xle,Jle,Nf,LI],QI),toe=ue([eoe,cl,$n,A$],XI),noe=ue([Tf],GI),roe=ue([Jc,Fn,noe,gg,$n],FN,{memoizeOptions:{resultEqualityCheck:mg}}),aoe=ue([ZI,$n,Yc],Qc),soe=ue([aoe,$n],t$),ioe=ue([JI,$n,Yc],Qc),loe=ue([ioe,$n],n$),ooe=ue([e$,$n,Yc],Qc),coe=ue([ooe,$n],r$),doe=ue([soe,coe,loe],Qp),uoe=ue([Fn,E$,A$,toe,roe,doe,Nt,$n],zN),kf=ue([Fn,Nt,Jc,ZN,Nf,$n,uoe],BN),foe=ue([kf,Fn,XN],VN),moe=ue([Fn,kf,foe,$n],KN),P$=e=>{var t=$n(e),r=Yc(e),a=!1;return Pf(e,t,r,a)},O$=ue([Fn,P$],cg),T$=ue([Fn,XN,moe,O$],HN),hoe=ue([Nt,ZN,Fn,$n],u$),poe=ue([Nt,ZN,Fn,$n],f$),xoe=(e,t,r,a,s,l,c,d)=>{if(t){var{type:f}=t,m=ii(e,d);if(a){var h=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=f==="category"&&a.bandwidth?a.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&s?.length>=2?qn(s[0]-s[1])*2*g:g,m&&c?c.map((v,y)=>({coordinate:a(v)+g,value:v,index:y,offset:g})):a.domain().map((v,y)=>({coordinate:a(v)+g,value:l?l[v]:v,index:y,offset:g}))}}},di=ue([Nt,Fn,XN,T$,P$,hoe,poe,$n],xoe),JN=ue([h$,p$,Cle],(e,t,r)=>x$(r.shared,e,t)),k$=e=>e.tooltip.settings.trigger,eS=e=>e.tooltip.settings.defaultIndex,_f=ue([Zc,JN,k$,eS],w$),nl=ue([_f,Jc,Af,kf],QN),_$=ue([di,nl],g$),tS=ue([_f],e=>{if(e)return e.dataKey}),goe=ue([_f],e=>{if(e)return e.graphicalItemId}),R$=ue([Zc,JN,k$,eS],S$),voe=ue([li,oi,Nt,Ln,di,eS,R$,Of],N$),yoe=ue([_f,voe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),boe=ue([_f],e=>e.active),joe=ue([R$,nl,cl,Af,_$,Of,JN],C$),woe=ue([joe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(a){Noe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Noe(e,t,r){return(t=Soe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Soe(e){var t=Coe(e,"string");return typeof t=="symbol"?t:t+""}function Coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eoe=()=>Ie(Fn),Aoe=()=>{var e=Eoe(),t=Ie(di),r=Ie(T$);return Ec(!e||!r?void 0:d_(d_({},e),{},{scale:r}),t)};function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(a){Poe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Poe(e,t,r){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var koe=(e,t,r,a)=>{var s=t.find(l=>l&&l.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},_oe=(e,t,r,a)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="centric"){var l=s.coordinate,{radius:c}=a;return rc(rc(rc({},a),Pn(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=a;return rc(rc(rc({},a),Pn(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Roe(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var M$=(e,t,r,a,s)=>{var l,c=-1,d=(l=t?.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?r[f-1].coordinate:r[d-1].coordinate,h=r[f].coordinate,g=f>=d-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(qn(h-m)!==qn(g-h)){var y=[];if(qn(g-h)===qn(s[1]-s[0])){v=g;var N=h+s[1]-s[0];y[0]=Math.min(N,(N+m)/2),y[1]=Math.max(N,(N+m)/2)}else{v=m;var b=g+s[1]-s[0];y[0]=Math.min(h,(b+h)/2),y[1]=Math.max(h,(b+h)/2)}var w=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){({index:c}=r[f]);break}}else{var C=Math.min(m,g),E=Math.max(m,g);if(e>(C+h)/2&&e<=(E+h)/2){({index:c}=r[f]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:c}=t[A]);break}}return c},D$=()=>Ie(NN),nS=(e,t)=>t,L$=(e,t,r)=>r,rS=(e,t,r,a)=>a,Moe=ue(di,e=>Fx(e,t=>t.coordinate)),aS=ue([Zc,nS,L$,rS],w$),sS=ue([aS,Jc,Af,kf],QN),Doe=(e,t,r)=>{if(t!=null){var a=Zc(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},I$=ue([Zc,nS,L$,rS],S$),Xp=ue([li,oi,Nt,Ln,di,rS,I$,Of],N$),Loe=ue([aS,Xp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),$$=ue([di,sS],g$),Ioe=ue([I$,sS,cl,Af,$$,Of,nS],C$),$oe=ue([aS,sS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Foe=(e,t,r,a,s,l,c)=>{if(!(!e||!r||!a||!s)&&Roe(e,c)){var d=ite(e,t),f=M$(d,l,s,r,a),m=koe(t,s,f,e);return{activeIndex:String(f),activeCoordinate:m}}},zoe=(e,t,r,a,s,l,c)=>{if(!(!e||!a||!s||!l||!r)){var d=Nre(e,r);if(d){var f=lte(d,t),m=M$(f,c,l,a,s),h=_oe(t,l,m,d);return{activeIndex:String(m),activeCoordinate:h}}}},Boe=(e,t,r,a,s,l,c,d)=>{if(!(!e||!t||!a||!s||!l))return t==="horizontal"||t==="vertical"?Foe(e,t,a,s,l,c,d):zoe(e,t,r,a,s,l,c)},Uoe=ue(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElementId:a.elementId}}),Hoe=ue(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(vn)),r=Array.from(new Set(t));return r.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:Eie}});function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(a){Voe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Voe(e,t,r){return(t=qoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qoe(e){var t=Koe(e,"string");return typeof t=="symbol"?t:t+""}function Koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Woe={},Goe={zIndexMap:Object.values(vn).reduce((e,t)=>m_(m_({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Woe)},Yoe=new Set(Object.values(vn));function Qoe(e){return Yoe.has(e)}var F$=Mr({name:"zIndex",initialState:Goe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:en()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Qoe(r)&&delete e.zIndexMap[r])},prepare:en()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:a,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=a:e.zIndexMap[r].elementId=a:e.zIndexMap[r]={consumers:0,elementId:s?void 0:a,panoramaElementId:s?a:void 0}},prepare:en()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:en()}}}),{registerZIndexPortal:Xoe,unregisterZIndexPortal:Zoe,registerZIndexPortalId:Joe,unregisterZIndexPortalId:ece}=F$.actions,tce=F$.reducer;function gr(e){var{zIndex:t,children:r}=e,a=Fte(),s=a&&t!==void 0&&t!==0,l=tr(),c=Vt();p.useLayoutEffect(()=>s?(c(Xoe({zIndex:t})),()=>{c(Zoe({zIndex:t}))}):of,[c,t,s]);var d=Ie(m=>Uoe(m,t,l));if(!s)return r;if(!d)return null;var f=document.getElementById(d);return f?os.createPortal(r,f):null}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bw.apply(null,arguments)}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(a){nce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nce(e,t,r){return(t=rce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rce(e){var t=ace(e,"string");return typeof t=="symbol"?t:t+""}function ace(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sce(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return p.isValidElement(t)?p.cloneElement(t,a):p.createElement(r,a)}function ice(e){var t,{coordinate:r,payload:a,index:s,offset:l,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:m,chartName:h}=e,g=r,v=a,y=s;if(!f||!g||h!=="ScatterChart"&&m!=="axis")return null;var N,b,w;if(h==="ScatterChart")N=g,b=$ne,w=vn.cursorLine;else if(h==="BarChart")N=Fne(d,g,l,c),b=ML,w=vn.cursorRectangle;else if(d==="radial"&&x3(g)){var{cx:C,cy:E,radius:A,startAngle:T,endAngle:k}=LL(g);N={cx:C,cy:E,startAngle:T,endAngle:k,innerRadius:A,outerRadius:A},b=$L,w=vn.cursorLine}else N={points:Are(d,g,l)},b=pc,w=vn.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,M=Ch(Ch(Ch(Ch({stroke:"#ccc",pointerEvents:"none"},l),N),eo(f)),{},{payload:v,payloadIndex:y,className:wt("recharts-tooltip-cursor",P)});return p.createElement(gr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},p.createElement(sce,{cursor:f,cursorComp:b,cursorProps:M}))}function lce(e){var t=Aoe(),r=vL(),a=Vc(),s=D$();return t==null||r==null||a==null||s==null?null:p.createElement(ice,bw({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var z$=p.createContext(null),oce=()=>p.useContext(z$),Lb={exports:{}},p_;function cce(){return p_||(p_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,g||f,v),N=r?r+m:m;return f._events[N]?f._events[N].fn?f._events[N]=[f._events[N],y]:f._events[N].push(y):(f._events[N]=y,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new a:delete f._events[m]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,g;if(this._eventsCount===0)return m;for(g in h=this._events)t.call(h,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=r?r+m:m,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,N=new Array(y);v<y;v++)N[v]=g[v].fn;return N},d.prototype.listenerCount=function(m){var h=r?r+m:m,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,h,g,v,y,N){var b=r?r+m:m;if(!this._events[b])return!1;var w=this._events[b],C=arguments.length,E,A;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,g),!0;case 4:return w.fn.call(w.context,h,g,v),!0;case 5:return w.fn.call(w.context,h,g,v,y),!0;case 6:return w.fn.call(w.context,h,g,v,y,N),!0}for(A=1,E=new Array(C-1);A<C;A++)E[A-1]=arguments[A];w.fn.apply(w.context,E)}else{var T=w.length,k;for(A=0;A<T;A++)switch(w[A].once&&this.removeListener(m,w[A].fn,void 0,!0),C){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,g);break;case 4:w[A].fn.call(w[A].context,h,g,v);break;default:if(!E)for(k=1,E=new Array(C-1);k<C;k++)E[k-1]=arguments[k];w[A].fn.apply(w[A].context,E)}}return!0},d.prototype.on=function(m,h,g){return l(this,m,h,g,!1)},d.prototype.once=function(m,h,g){return l(this,m,h,g,!0)},d.prototype.removeListener=function(m,h,g,v){var y=r?r+m:m;if(!this._events[y])return this;if(!h)return c(this,y),this;var N=this._events[y];if(N.fn)N.fn===h&&(!v||N.once)&&(!g||N.context===g)&&c(this,y);else{for(var b=0,w=[],C=N.length;b<C;b++)(N[b].fn!==h||v&&!N[b].once||g&&N[b].context!==g)&&w.push(N[b]);w.length?this._events[y]=w.length===1?w[0]:w:c(this,y)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Lb)),Lb.exports}var dce=cce();const uce=ls(dce);var zu=new uce,jw="recharts.syncEvent.tooltip",x_="recharts.syncEvent.brush";function iS(e,t){if(t){var r=Number.parseInt(t,10);if(!_r(r))return e?.[r]}}var fce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},B$=Mr({name:"options",initialState:fce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mce=B$.reducer,{createEventEmitter:hce}=B$.actions;function pce(e){return e.tooltip.syncInteraction}var xce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},U$=Mr({name:"chartData",initialState:xce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:g_,setDataStartEndIndexes:gce,setComputedData:Sbe}=U$.actions,vce=U$.reducer,yce=["x","y"];function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(a){bce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bce(e,t,r){return(t=jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jce(e){var t=wce(e,"string");return typeof t=="symbol"?t:t+""}function wce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nce(e,t){if(e==null)return{};var r,a,s=Sce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Cce(){var e=Ie(SN),t=Ie(CN),r=Vt(),a=Ie(II),s=Ie(di),l=Vc(),c=hf(),d=Ie(f=>f.rootProps.className);p.useEffect(()=>{if(e==null)return of;var f=(m,h,g)=>{if(t!==g&&e===m){if(a==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:N,y:b}=y,w=Nce(y,yce),{x:C,y:E,width:A,height:T}=h.payload.sourceViewBox,k=ac(ac({},w),{},{x:c.x+(A?(N-C)/A:0)*c.width,y:c.y+(T?(b-E)/T:0)*c.height});r(ac(ac({},h),{},{payload:ac(ac({},h.payload),{},{coordinate:k})}))}else r(h);return}if(s!=null){var P;if(typeof a=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},I=a(s,M);P=s[I]}else a==="value"&&(P=s.find(z=>String(z.value)===h.payload.label));var{coordinate:Y}=h.payload;if(P==null||h.payload.active===!1||Y==null||c==null){r(vw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:R}=Y,q=Math.min(L,c.x+c.width),ve=Math.min(R,c.y+c.height),K={x:l==="horizontal"?P.coordinate:q,y:l==="horizontal"?ve:P.coordinate},ee=vw({active:h.payload.active,coordinate:K,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(ee)}}};return zu.on(jw,f),()=>{zu.off(jw,f)}},[d,r,t,e,a,s,l,c])}function Ece(){var e=Ie(SN),t=Ie(CN),r=Vt();p.useEffect(()=>{if(e==null)return of;var a=(s,l,c)=>{t!==c&&e===s&&r(gce(l))};return zu.on(x_,a),()=>{zu.off(x_,a)}},[r,t,e])}function Ace(){var e=Vt();p.useEffect(()=>{e(hce())},[e]),Cce(),Ece()}function Pce(e,t,r,a,s,l){var c=Ie(y=>Doe(y,e,t)),d=Ie(CN),f=Ie(SN),m=Ie(II),h=Ie(pce),g=h?.active,v=hf();p.useEffect(()=>{if(!g&&f!=null&&d!=null){var y=vw({active:l,coordinate:r,dataKey:c,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:v,graphicalItemId:void 0});zu.emit(jw,f,y,d)}},[g,r,c,s,a,d,f,m,l,v])}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(a){Oce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Oce(e,t,r){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tce(e){var t=kce(e,"string");return typeof t=="symbol"?t:t+""}function kce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ce(e){return e.dataKey}function Rce(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(gne,t)}var j_=[],Mce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bg(e){var t,r,a=bn(e,Mce),{active:s,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:f,filterNull:m,isAnimationActive:h,offset:g,payloadUniqBy:v,position:y,reverseDirection:N,useTranslate3d:b,wrapperStyle:w,cursor:C,shared:E,trigger:A,defaultIndex:T,portal:k,axisId:P}=a,M=Vt(),I=typeof T=="number"?String(T):T;p.useEffect(()=>{M(Tle({shared:E,trigger:A,axisId:P,active:s,defaultIndex:I}))},[M,E,A,P,s,I]);var Y=hf(),L=OL(),R=Sle(E),{activeIndex:q,isActive:ve}=(t=Ie(pe=>$oe(pe,R,A,I)))!==null&&t!==void 0?t:{},K=Ie(pe=>Ioe(pe,R,A,I)),ee=Ie(pe=>$$(pe,R,A,I)),z=Ie(pe=>Loe(pe,R,A,I)),Z=K,$=oce(),de=(r=s??ve)!==null&&r!==void 0?r:!1,[B,_]=k3([Z,de]),Q=R==="axis"?ee:void 0;Pce(R,A,z,Q,q,de);var fe=k??$;if(fe==null||Y==null||R==null)return null;var Ne=Z??j_;de||(Ne=j_),m&&Ne.length&&(Ne=E3(Ne.filter(pe=>pe.value!=null&&(pe.hide!==!0||a.includeHidden)),v,_ce));var re=Ne.length>0,Le=p.createElement(Sne,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:h,active:de,coordinate:z,hasPayload:re,offset:g,position:y,reverseDirection:N,useTranslate3d:b,viewBox:Y,wrapperStyle:w,lastBoundingBox:B,innerRef:_,hasPortalFromProps:!!k},Rce(f,b_(b_({},a),{},{payload:Ne,label:Q,active:de,activeIndex:q,coordinate:z,accessibilityLayer:L})));return p.createElement(p.Fragment,null,os.createPortal(Le,fe),de&&p.createElement(lce,{cursor:C,tooltipEventType:R,coordinate:z,payload:Ne,index:q}))}var ri=e=>null;ri.displayName="Cell";function Dce(e,t,r){return(t=Lce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lce(e){var t=Ice(e,"string");return typeof t=="symbol"?t:t+""}function Ice(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $ce{constructor(t){Dce(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Fce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(a){zce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zce(e,t,r){return(t=Bce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bce(e){var t=Uce(e,"string");return typeof t=="symbol"?t:t+""}function Uce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hce={cacheSize:2e3,enableCache:!0},H$=Fce({},Hce),N_=new $ce(H$.cacheSize),Vce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},S_="recharts_measurement_span";function qce(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var C_=(e,t)=>{try{var r=document.getElementById(S_);r||(r=document.createElement("span"),r.setAttribute("id",S_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Vce,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},mu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qc.isSsr)return{width:0,height:0};if(!H$.enableCache)return C_(t,r);var a=qce(t,r),s=N_.get(a);if(s)return s;var l=C_(t,r);return N_.set(a,l),l},E_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,V$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gce=Object.keys(V$),oc="NaN";function Yce(e,t){return e*V$[t]}class Er{static parse(t){var r,[,a,s]=(r=Wce.exec(t))!==null&&r!==void 0?r:[];return new Er(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,_r(t)&&(this.unit=""),r!==""&&!Kce.test(r)&&(this.num=NaN,this.unit=""),Gce.includes(r)&&(this.num=Yce(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Er(NaN,""):new Er(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Er(NaN,""):new Er(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Er(NaN,""):new Er(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Er(NaN,""):new Er(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _r(this.num)}}function q$(e){if(e.includes(oc))return oc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,l]=(r=E_.exec(t))!==null&&r!==void 0?r:[],c=Er.parse(a??""),d=Er.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return oc;t=t.replace(E_,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,g,v]=(m=A_.exec(t))!==null&&m!==void 0?m:[],y=Er.parse(h??""),N=Er.parse(v??""),b=g==="+"?y.add(N):y.subtract(N);if(b.isNaN())return oc;t=t.replace(A_,b.toString())}return t}var P_=/\(([^()]*)\)/;function Qce(e){for(var t=e,r;(r=P_.exec(t))!=null;){var[,a]=r;t=t.replace(P_,q$(a))}return t}function Xce(e){var t=e.replace(/\s+/g,"");return t=Qce(t),t=q$(t),t}function Zce(e){try{return Xce(e)}catch{return oc}}function Ib(e){var t=Zce(e.slice(5,-1));return t===oc?"":t}var Jce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ede=["dx","dy","angle","className","breakAll"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ww.apply(null,arguments)}function O_(e,t){if(e==null)return{};var r,a,s=tde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var K$=/[ \f\n\r\t\v\u2028\u2029]+/,W$=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];rn(t)||(r?s=t.toString().split(""):s=t.toString().split(K$));var l=s.map(d=>({word:d,width:mu(d,a).width})),c=r?0:mu("",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function nde(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var G$=(e,t,r,a)=>e.reduce((s,l)=>{var{word:c,width:d}=l,f=s[s.length-1];if(f&&d!=null&&(t==null||a||f.width+d+r<Number(t)))f.words.push(c),f.width+=d+r;else{var m={words:[c],width:d};s.push(m)}return s},[]),Y$=e=>e.reduce((t,r)=>t.width>r.width?t:r),rde="",T_=(e,t,r,a,s,l,c,d)=>{var f=e.slice(0,t),m=W$({breakAll:r,style:a,children:f+rde});if(!m)return[!1,[]];var h=G$(m.wordsWithComputedWidth,l,c,d),g=h.length>s||Y$(h).width>Number(l);return[g,h]},ade=(e,t,r,a,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=Fe(l),h=String(c),g=G$(t,a,r,s);if(!m||s)return g;var v=g.length>l||Y$(g).width>Number(a);if(!v)return g;for(var y=0,N=h.length-1,b=0,w;y<=N&&b<=h.length-1;){var C=Math.floor((y+N)/2),E=C-1,[A,T]=T_(h,E,f,d,l,a,r,s),[k]=T_(h,C,f,d,l,a,r,s);if(!A&&!k&&(y=C+1),A&&k&&(N=C-1),!A&&k){w=T;break}b++}return w||g},k_=e=>{var t=rn(e)?[]:e.toString().split(K$);return[{words:t,width:void 0}]},sde=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:l,maxLines:c}=e;if((t||r)&&!qc.isSsr){var d,f,m=W$({breakAll:l,children:a,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:g}=m;d=h,f=g}else return k_(a);return ade({breakAll:l,children:a,maxLines:c,style:s},d,f,t,!!r)}return k_(a)},Q$="#808080",ide={angle:0,breakAll:!1,capHeight:"0.71em",fill:Q$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},jg=p.forwardRef((e,t)=>{var r=bn(e,ide),{x:a,y:s,lineHeight:l,capHeight:c,fill:d,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,g=O_(r,Jce),v=p.useMemo(()=>sde({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:y,dy:N,angle:b,className:w,breakAll:C}=g,E=O_(g,ede);if(!Sa(a)||!Sa(s)||v.length===0)return null;var A=Number(a)+(Fe(y)?y:0),T=Number(s)+(Fe(N)?N:0);if(!Dt(A)||!Dt(T))return null;var k;switch(h){case"start":k=Ib("calc(".concat(c,")"));break;case"middle":k=Ib("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:k=Ib("calc(".concat(v.length-1," * -").concat(l,")"));break}var P=[];if(f){var M=v[0].width,{width:I}=g;P.push("scale(".concat(Fe(I)&&Fe(M)?I/M:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(A,", ").concat(T,")")),P.length&&(E.transform=P.join(" ")),p.createElement("text",ww({},or(E),{ref:t,x:A,y:T,className:wt("recharts-text",w),textAnchor:m,fill:d.includes("url")?Q$:d}),v.map((Y,L)=>{var R=Y.words.join(C?"":" ");return p.createElement("tspan",{x:A,dy:L===0?k:l,key:"".concat(R,"-").concat(L)},R)}))});jg.displayName="Text";var lde=["labelRef"];function ode(e,t){if(e==null)return{};var r,a,s=cde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(a){dde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dde(e,t,r){return(t=ude(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Is.apply(null,arguments)}var X$=p.createContext(null),Z$=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:s,width:l,height:c,children:d}=e,f=p.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:s,width:l,height:c}),[t,r,a,s,l,c]);return p.createElement(X$.Provider,{value:f},d)},J$=()=>{var e=p.useContext(X$),t=hf();return e||gL(t)},mde=p.createContext(null),hde=()=>{var e=p.useContext(mde),t=Ie(UI);return e||t},pde=e=>{var{value:t,formatter:r}=e,a=rn(e.children)?t:e.children;return typeof r=="function"?r(a):a},lS=e=>e!=null&&typeof e=="function",xde=(e,t)=>{var r=qn(t-e),a=Math.min(Math.abs(t-e),360);return r*a},gde=(e,t,r,a,s)=>{var{offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:g,endAngle:v,clockWise:y}=s,N=(m+h)/2,b=xde(g,v),w=b>=0?1:-1,C,E;switch(t){case"insideStart":C=g+w*l,E=y;break;case"insideEnd":C=v-w*l,E=!y;break;case"end":C=v+w*l,E=y;break;default:throw new Error("Unsupported position ".concat(t))}E=b<=0?E:!E;var A=Pn(d,f,N,C),T=Pn(d,f,N,C+(E?1:-1)*359),k="M".concat(A.x,",").concat(A.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),P=rn(e.id)?Cu("recharts-radial-line-"):e.id;return p.createElement("text",Is({},a,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",c)}),p.createElement("defs",null,p.createElement("path",{id:P,d:k})),p.createElement("textPath",{xlinkHref:"#".concat(P)},r))},vde=(e,t,r)=>{var{cx:a,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(r==="outside"){var{x:h,y:g}=Pn(a,s,c+t,m);return{x:h,y:g,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:y,y:N}=Pn(a,s,v,m);return{x:y,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Nw=e=>"cx"in e&&Fe(e.cx),yde=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,l;r!=null&&!Nw(r)&&(l=r);var{x:c,y:d,upperWidth:f,lowerWidth:m,height:h}=t,g=c,v=c+(f-m)/2,y=(g+v)/2,N=(f+m)/2,b=g+f/2,w=h>=0?1:-1,C=w*a,E=w>0?"end":"start",A=w>0?"start":"end",T=f>=0?1:-1,k=T*a,P=T>0?"end":"start",M=T>0?"start":"end";if(s==="top"){var I={x:g+f/2,y:d-C,textAnchor:"middle",verticalAnchor:E};return xn(xn({},I),l?{height:Math.max(d-l.y,0),width:f}:{})}if(s==="bottom"){var Y={x:v+m/2,y:d+h+C,textAnchor:"middle",verticalAnchor:A};return xn(xn({},Y),l?{height:Math.max(l.y+l.height-(d+h),0),width:m}:{})}if(s==="left"){var L={x:y-k,y:d+h/2,textAnchor:P,verticalAnchor:"middle"};return xn(xn({},L),l?{width:Math.max(L.x-l.x,0),height:h}:{})}if(s==="right"){var R={x:y+N+k,y:d+h/2,textAnchor:M,verticalAnchor:"middle"};return xn(xn({},R),l?{width:Math.max(l.x+l.width-R.x,0),height:h}:{})}var q=l?{width:N,height:h}:{};return s==="insideLeft"?xn({x:y+k,y:d+h/2,textAnchor:M,verticalAnchor:"middle"},q):s==="insideRight"?xn({x:y+N-k,y:d+h/2,textAnchor:P,verticalAnchor:"middle"},q):s==="insideTop"?xn({x:g+f/2,y:d+C,textAnchor:"middle",verticalAnchor:A},q):s==="insideBottom"?xn({x:v+m/2,y:d+h-C,textAnchor:"middle",verticalAnchor:E},q):s==="insideTopLeft"?xn({x:g+k,y:d+C,textAnchor:M,verticalAnchor:A},q):s==="insideTopRight"?xn({x:g+f-k,y:d+C,textAnchor:P,verticalAnchor:A},q):s==="insideBottomLeft"?xn({x:v+k,y:d+h-C,textAnchor:M,verticalAnchor:E},q):s==="insideBottomRight"?xn({x:v+m-k,y:d+h-C,textAnchor:P,verticalAnchor:E},q):s&&typeof s=="object"&&(Fe(s.x)||Xs(s.x))&&(Fe(s.y)||Xs(s.y))?xn({x:c+ir(s.x,N),y:d+ir(s.y,h),textAnchor:"end",verticalAnchor:"end"},q):xn({x:b,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},q)},bde={angle:0,offset:5,zIndex:vn.label,position:"middle",textBreakAll:!1};function Fi(e){var t=bn(e,bde),{viewBox:r,position:a,value:s,children:l,content:c,className:d="",textBreakAll:f,labelRef:m}=t,h=hde(),g=J$(),v=a==="center"?g:h??g,y,N,b;if(r==null?y=v:Nw(r)?y=r:y=gL(r),!y||rn(s)&&rn(l)&&!p.isValidElement(c)&&typeof c!="function")return null;var w=xn(xn({},t),{},{viewBox:y});if(p.isValidElement(c)){var{labelRef:C}=w,E=ode(w,lde);return p.cloneElement(c,E)}if(typeof c=="function"){if(N=p.createElement(c,w),p.isValidElement(N))return N}else N=pde(t);var A=or(t);if(Nw(y)){if(a==="insideStart"||a==="insideEnd"||a==="end")return gde(t,a,N,A,y);b=vde(y,t.offset,t.position)}else b=yde(t,y);return p.createElement(gr,{zIndex:t.zIndex},p.createElement(jg,Is({ref:m,className:wt("recharts-label",d)},A,b,{textAnchor:nde(A.textAnchor)?A.textAnchor:b.textAnchor,breakAll:f}),N))}Fi.displayName="Label";var jde=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?p.createElement(Fi,Is({key:"label-implicit"},a)):Sa(e)?p.createElement(Fi,Is({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===Fi?p.cloneElement(e,xn({key:"label-implicit"},a)):p.createElement(Fi,Is({key:"label-implicit",content:e},a)):lS(e)?p.createElement(Fi,Is({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(Fi,Is({},e,{key:"label-implicit"},a)):null};function e6(e){var{label:t,labelRef:r}=e,a=J$();return jde(t,a,r)||null}var $b={},Fb={},R_;function wde(){return R_||(R_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Fb)),Fb}var zb={},M_;function Nde(){return M_||(M_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(zb)),zb}var D_;function Sde(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wde(),r=Nde(),a=D1();function s(l){if(a.isArrayLike(l))return t.last(r.toArray(l))}e.last=s})($b)),$b}var Bb,L_;function Cde(){return L_||(L_=1,Bb=Sde().last),Bb}var Ede=Cde();const Ade=ls(Ede);var Pde=["valueAccessor"],Ode=["dataKey","clockWise","id","textBreakAll","zIndex"];function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zp.apply(null,arguments)}function I_(e,t){if(e==null)return{};var r,a,s=Tde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Tde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var kde=e=>Array.isArray(e.value)?Ade(e.value):e.value,t6=p.createContext(void 0),n6=t6.Provider,r6=p.createContext(void 0),_de=r6.Provider;function Rde(){return p.useContext(t6)}function Mde(){return p.useContext(r6)}function Kh(e){var{valueAccessor:t=kde}=e,r=I_(e,Pde),{dataKey:a,clockWise:s,id:l,textBreakAll:c,zIndex:d}=r,f=I_(r,Ode),m=Rde(),h=Mde(),g=m||h;return!g||!g.length?null:p.createElement(gr,{zIndex:d??vn.label},p.createElement(un,{className:"recharts-label-list"},g.map((v,y)=>{var N,b=rn(a)?t(v,y):Ut(v&&v.payload,a),w=rn(l)?{}:{id:"".concat(l,"-").concat(y)};return p.createElement(Fi,Zp({key:"label-".concat(y)},or(v),f,w,{fill:(N=r.fill)!==null&&N!==void 0?N:v.fill,parentViewBox:v.parentViewBox,value:b,textBreakAll:c,viewBox:v.viewBox,index:y,zIndex:0}))})))}Kh.displayName="LabelList";function oS(e){var{label:t}=e;return t?t===!0?p.createElement(Kh,{key:"labelList-implicit"}):p.isValidElement(t)||lS(t)?p.createElement(Kh,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Kh,Zp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sw.apply(null,arguments)}var a6=e=>{var{cx:t,cy:r,r:a,className:s}=e,l=wt("recharts-dot",s);return Fe(t)&&Fe(r)&&Fe(a)?p.createElement("circle",Sw({},kr(e),M1(e),{className:l,cx:t,cy:r,r:a})):null},s6=e=>e.graphicalItems.polarItems,Dde=ue([nn,Sf],TN),wg=ue([s6,an,Dde],kN),Lde=ue([wg],_N),Ng=ue([Lde,bN],RN),Ide=ue([Ng,an,wg],DN);ue([Ng,an,wg],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var l,c=Ut(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Ut(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var $_=()=>{},$de=ue([Ng,an,wg,gg,nn],FN),Fde=ue([an,IN,$N,$_,$de,$_,Nt,nn],zN),i6=ue([an,Nt,Ng,Ide,Nf,nn,Fde],BN),zde=ue([i6,an,Xc],VN);ue([an,i6,zde,nn],KN);var Bde={radiusAxis:{},angleAxis:{}},l6=Mr({name:"polarAxis",initialState:Bde,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Cbe,removeRadiusAxis:Ebe,addAngleAxis:Abe,removeAngleAxis:Pbe}=l6.actions,Ude=l6.reducer;function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(a){Hde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hde(e,t,r){return(t=Vde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vde(e){var t=qde(e,"string");return typeof t=="symbol"?t:t+""}function qde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kde=(e,t)=>t,cS=ue([s6,Kde],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Wde=[],dS=(e,t,r)=>r?.length===0?Wde:r,o6=ue([bN,cS,dS],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(l=>z_(z_({},t.presentationProps),l.props))),s!=null)return s}}),Gde=ue([o6,cS,dS],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var l,c=Ut(a,t.nameKey,t.name),d;return r!=null&&(l=r[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:Hc(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),Yde=ue([o6,cS,dS,Ln],(e,t,r,a)=>{if(!(t==null||e==null))return Que({offset:a,pieSettings:t,displayedData:e,cells:r})}),Ub={exports:{}},zt={};var B_;function Qde(){if(B_)return zt;B_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function N(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case e:switch(b=b.type,b){case r:case s:case a:case f:case m:case v:return b;default:switch(b=b&&b.$$typeof,b){case c:case d:case g:case h:return b;case l:return b;default:return w}}case t:return w}}}return zt.ContextConsumer=l,zt.ContextProvider=c,zt.Element=e,zt.ForwardRef=d,zt.Fragment=r,zt.Lazy=g,zt.Memo=h,zt.Portal=t,zt.Profiler=s,zt.StrictMode=a,zt.Suspense=f,zt.SuspenseList=m,zt.isContextConsumer=function(b){return N(b)===l},zt.isContextProvider=function(b){return N(b)===c},zt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},zt.isForwardRef=function(b){return N(b)===d},zt.isFragment=function(b){return N(b)===r},zt.isLazy=function(b){return N(b)===g},zt.isMemo=function(b){return N(b)===h},zt.isPortal=function(b){return N(b)===t},zt.isProfiler=function(b){return N(b)===s},zt.isStrictMode=function(b){return N(b)===a},zt.isSuspense=function(b){return N(b)===f},zt.isSuspenseList=function(b){return N(b)===m},zt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===s||b===a||b===f||b===m||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===h||b.$$typeof===c||b.$$typeof===l||b.$$typeof===d||b.$$typeof===y||b.getModuleId!==void 0)},zt.typeOf=N,zt}var U_;function Xde(){return U_||(U_=1,Ub.exports=Qde()),Ub.exports}var Zde=Xde(),H_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",V_=null,Hb=null,c6=e=>{if(e===V_&&Array.isArray(Hb))return Hb;var t=[];return p.Children.forEach(e,r=>{rn(r)||(Zde.isFragment(r)?t=t.concat(c6(r.props.children)):t.push(r))}),Hb=t,V_=e,t};function uS(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>H_(s)):a=[H_(t)],c6(e).forEach(s=>{var l=to(s,"type.displayName")||to(s,"type.name");l&&a.indexOf(l)!==-1&&r.push(s)}),r}var d6=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Vb={},q_;function Jde(){return q_||(q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(Vb)),Vb}var qb,K_;function eue(){return K_||(K_=1,qb=Jde().isPlainObject),qb}var tue=eue();const nue=ls(tue);function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function G_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(a){rue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rue(e,t,r){return(t=aue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aue(e){var t=sue(e,"string");return typeof t=="symbol"?t:t+""}function sue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jp.apply(null,arguments)}var Y_=(e,t,r,a,s)=>{var l=r-a,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-l/2,",").concat(t+s),c+="L ".concat(e+r-l/2-a,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},iue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lue=e=>{var t=bn(e,iue),{x:r,y:a,upperWidth:s,lowerWidth:l,height:c,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:g}=t,v=p.useRef(null),[y,N]=p.useState(-1),b=p.useRef(s),w=p.useRef(l),C=p.useRef(c),E=p.useRef(r),A=p.useRef(a),T=vf(e,"trapezoid-");if(p.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var K=v.current.getTotalLength();K&&N(K)}catch{}},[]),r!==+r||a!==+a||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var k=wt("recharts-trapezoid",d);if(!g)return p.createElement("g",null,p.createElement("path",Jp({},or(t),{className:k,d:Y_(r,a,s,l,c)})));var P=b.current,M=w.current,I=C.current,Y=E.current,L=A.current,R="0px ".concat(y===-1?1:y,"px"),q="".concat(y,"px 0px"),ve=TL(["strokeDasharray"],m,f);return p.createElement(gf,{animationId:T,key:T,canBegin:y>0,duration:m,easing:f,isActive:g,begin:h},K=>{var ee=Qt(P,s,K),z=Qt(M,l,K),Z=Qt(I,c,K),$=Qt(Y,r,K),de=Qt(L,a,K);v.current&&(b.current=ee,w.current=z,C.current=Z,E.current=$,A.current=de);var B=K>0?{transition:ve,strokeDasharray:q}:{strokeDasharray:R};return p.createElement("path",Jp({},or(t),{className:k,d:Y_($,de,ee,z,Z),ref:v,style:G_(G_({},B),t.style)}))})},oue=["option","shapeType","propTransformer","activeClassName"];function cue(e,t){if(e==null)return{};var r,a,s=due(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function due(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(a){uue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uue(e,t,r){return(t=fue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fue(e){var t=mue(e,"string");return typeof t=="symbol"?t:t+""}function mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hue(e,t){return ex(ex({},t),e)}function pue(e,t){return e==="symbols"}function X_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(ML,r);case"trapezoid":return p.createElement(lue,r);case"sector":return p.createElement($L,r);case"symbols":if(pue(t))return p.createElement(R1,r);break;case"curve":return p.createElement(pc,r);default:return null}}function xue(e){return p.isValidElement(e)?e.props:e}function u6(e){var{option:t,shapeType:r,propTransformer:a=hue,activeClassName:s="recharts-active-shape"}=e,l=cue(e,oue),c;if(p.isValidElement(t))c=p.cloneElement(t,ex(ex({},l),xue(t)));else if(typeof t=="function")c=t(l,l.index);else if(nue(t)&&typeof t!="boolean"){var d=a(t,l);c=p.createElement(X_,{shapeType:r,elementProps:d})}else{var f=l;c=p.createElement(X_,{shapeType:r,elementProps:f})}return l.isActive?p.createElement(un,{className:s},c):c}var fS=(e,t,r)=>{var a=Vt();return(s,l)=>c=>{e?.(s,l,c),a(y$({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},mS=e=>{var t=Vt();return(r,a)=>s=>{e?.(r,a,s),t(kle())}},hS=(e,t,r)=>{var a=Vt();return(s,l)=>c=>{e?.(s,l,c),a(_le({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function pS(e){var{tooltipEntrySettings:t}=e,r=Vt(),a=tr(),s=p.useRef(null);return p.useLayoutEffect(()=>{a||(s.current===null?r(Ale(t)):s.current!==t&&r(Ple({prev:s.current,next:t})),s.current=t)},[t,r,a]),p.useLayoutEffect(()=>()=>{s.current&&(r(Ole(s.current)),s.current=null)},[r]),null}function f6(e){var{legendPayload:t}=e,r=Vt(),a=tr(),s=p.useRef(null);return p.useLayoutEffect(()=>{a||(s.current===null?r(EL(t)):s.current!==t&&r(AL({prev:s.current,next:t})),s.current=t)},[r,a,t]),p.useLayoutEffect(()=>()=>{s.current&&(r(PL(s.current)),s.current=null)},[r]),null}function gue(e){var{legendPayload:t}=e,r=Vt(),a=Ie(Nt),s=p.useRef(null);return p.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(s.current===null?r(EL(t)):s.current!==t&&r(AL({prev:s.current,next:t})),s.current=t)},[r,a,t]),p.useLayoutEffect(()=>()=>{s.current&&(r(PL(s.current)),s.current=null)},[r]),null}var Kb,vue=()=>{var[e]=p.useState(()=>Cu("uid-"));return e},yue=(Kb=Gu.useId)!==null&&Kb!==void 0?Kb:vue;function m6(e,t){var r=yue();return t||(e?"".concat(e,"-").concat(r):r)}var bue=p.createContext(void 0),xS=e=>{var{id:t,type:r,children:a}=e,s=m6("recharts-".concat(r),t);return p.createElement(bue.Provider,{value:s},a(s))},jue={cartesianItems:[],polarItems:[]},h6=Mr({name:"graphicalItems",initialState:jue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:en()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,s=$a(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},prepare:en()},removeCartesianGraphicalItem:{reducer(e,t){var r=$a(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:en()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:en()},removePolarGraphicalItem:{reducer(e,t){var r=$a(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:en()}}}),{addCartesianGraphicalItem:wue,replaceCartesianGraphicalItem:Nue,removeCartesianGraphicalItem:Sue,addPolarGraphicalItem:Cue,removePolarGraphicalItem:Eue}=h6.actions,Aue=h6.reducer,Pue=e=>{var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(wue(e)):r.current!==e&&t(Nue({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(Sue(r.current)),r.current=null)},[t]),null},p6=p.memo(Pue);function Oue(e){var t=Vt();return p.useLayoutEffect(()=>(t(Cue(e)),()=>{t(Eue(e))}),[t,e]),null}var Tue=["key"],kue=["onMouseEnter","onClick","onMouseLeave"],_ue=["id"],Rue=["id"];function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(a){Mue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mue(e,t,r){return(t=Due(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Due(e){var t=Lue(e,"string");return typeof t=="symbol"?t:t+""}function Lue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rl.apply(null,arguments)}function Sg(e,t){if(e==null)return{};var r,a,s=Iue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Iue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function $ue(e){var t=p.useMemo(()=>uS(e.children,ri),[e.children]),r=Ie(a=>Gde(a,e.id,t));return r==null?null:p.createElement(gue,{legendPayload:r})}var Fue=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e,h={dataDefinedOnItem:a.map(g=>g.tooltipPayload),positions:a.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:Hc(d,t),hide:f,type:m,color:c,unit:""}};return p.createElement(pS,{tooltipEntrySettings:h})}),zue=(e,t)=>e>t?"start":e<t?"end":"middle",Bue=(e,t,r)=>ir(typeof t=="function"?t(e):t,r,r*.8),Uue=(e,t,r)=>{var{top:a,left:s,width:l,height:c}=t,d=DL(l,c),f=s+ir(e.cx,l,l/2),m=a+ir(e.cy,c,c/2),h=ir(e.innerRadius,d,0),g=Bue(r,e.outerRadius,d),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:g,maxRadius:v}},Hue=(e,t)=>{var r=qn(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function Vue(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var que=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=wt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,s=Sg(t,Tue);return p.createElement(pc,rl({},s,{type:"linear",className:r}))},Kue=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),p.isValidElement(a)))return a;var s=wt("recharts-pie-label-text",Vue(e));return p.createElement(jg,rl({},t,{alignmentBaseline:"middle",className:s}),a)};function Wue(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:l,dataKey:c}=r;if(!a||!s||!t)return null;var d=kr(r),f=eo(s),m=eo(l),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=t.map((v,y)=>{var N=(v.startAngle+v.endAngle)/2,b=Pn(v.cx,v.cy,v.outerRadius+h,N),w=cn(cn(cn(cn({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:zue(b.x,v.cx)},b),C=cn(cn(cn(cn({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[Pn(v.cx,v.cy,v.outerRadius,N),b],key:"line"});return p.createElement(gr,{zIndex:vn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},p.createElement(un,null,l&&que(l,C),Kue(s,w,Ut(v,c))))});return p.createElement(un,{className:"recharts-pie-labels"},g)}function Gue(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(oS,{label:s}):p.createElement(Wue,{sectors:t,props:r,showLabels:a})}function Yue(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s,shape:l,id:c}=e,d=Ie(nl),f=Ie(tS),m=Ie(goe),{onMouseEnter:h,onClick:g,onMouseLeave:v}=s,y=Sg(s,kue),N=fS(h,s.dataKey,c),b=mS(v),w=hS(g,s.dataKey,c);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((C,E)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,T=String(E)===d&&(f==null||s.dataKey===f)&&A,k=d?a:null,P=r&&T?r:k,M=cn(cn({},C),{},{stroke:C.stroke,tabIndex:-1,[fL]:E,[mL]:s.dataKey});return p.createElement(un,rl({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},cf(y,C,E),{onMouseEnter:N(C,E),onMouseLeave:b(C,E),onClick:w(C,E)}),p.createElement(u6,rl({option:l??P,index:E,shapeType:"sector",isActive:T},M)))}))}function Que(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:g}=r,v=Math.abs(r.minAngle),y=Hue(d,f),N=Math.abs(y),b=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=a.filter(P=>Ut(P,m,0)!==0).length,C=(N>=360?w:w-1)*b,E=N-w*v-C,A=a.reduce((P,M)=>{var I=Ut(M,m,0);return P+(Fe(I)?I:0)},0),T;if(A>0){var k;T=a.map((P,M)=>{var I=Ut(P,m,0),Y=Ut(P,h,M),L=Uue(r,l,P),R=(Fe(I)?I:0)/A,q,ve=cn(cn({},P),s&&s[M]&&s[M].props);M?q=k.endAngle+qn(y)*b*(I!==0?1:0):q=d;var K=q+qn(y)*((I!==0?v:0)+R*E),ee=(q+K)/2,z=(L.innerRadius+L.outerRadius)/2,Z=[{name:Y,value:I,payload:ve,dataKey:m,type:g}],$=Pn(L.cx,L.cy,z,ee);return k=cn(cn(cn(cn({},r.presentationProps),{},{percent:R,cornerRadius:typeof c=="string"?parseFloat(c):c,name:Y,tooltipPayload:Z,midAngle:ee,middleRadius:z,tooltipPosition:$},ve),L),{},{value:I,dataKey:m,startAngle:q,endAngle:K,payload:ve,paddingAngle:qn(y)*b}),k})}return T}function Xue(e){var{showLabels:t,sectors:r,children:a}=e,s=p.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return p.createElement(_de,{value:t?s:void 0},a)}function Zue(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:g,onAnimationEnd:v}=t,y=vf(t,"recharts-pie-"),N=r.current,[b,w]=p.useState(!1),C=p.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),E=p.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]);return p.createElement(Xue,{showLabels:!b,sectors:s},p.createElement(gf,{animationId:y,begin:c,duration:d,isActive:l,easing:f,onAnimationStart:E,onAnimationEnd:C,key:y},A=>{var T=[],k=s&&s[0],P=k?.startAngle;return s?.forEach((M,I)=>{var Y=N&&N[I],L=I>0?to(M,"paddingAngle",0):0;if(Y){var R=Qt(Y.endAngle-Y.startAngle,M.endAngle-M.startAngle,A),q=cn(cn({},M),{},{startAngle:P+L,endAngle:P+R+L});T.push(q),P=q.endAngle}else{var{endAngle:ve,startAngle:K}=M,ee=Qt(0,ve-K,A),z=cn(cn({},M),{},{startAngle:P+L,endAngle:P+ee+L});T.push(z),P=z.endAngle}}),r.current=T,p.createElement(un,null,p.createElement(Yue,{sectors:T,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:a}))}),p.createElement(Gue,{showLabels:!b,sectors:s,props:t}),t.children)}var Jue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:vn.area};function efe(e){var{id:t}=e,r=Sg(e,_ue),{hide:a,className:s,rootTabIndex:l}=e,c=p.useMemo(()=>uS(e.children,ri),[e.children]),d=Ie(h=>Yde(h,t,c)),f=p.useRef(null),m=wt("recharts-pie",s);return a||d==null?(f.current=null,p.createElement(un,{tabIndex:l,className:m})):p.createElement(gr,{zIndex:e.zIndex},p.createElement(Fue,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),p.createElement(un,{tabIndex:l,className:m},p.createElement(Zue,{props:cn(cn({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function Rf(e){var t=bn(e,Jue),{id:r}=t,a=Sg(t,Rue),s=kr(a);return p.createElement(xS,{id:r,type:"pie"},l=>p.createElement(p.Fragment,null,p.createElement(Oue,{type:"pie",id:l,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),p.createElement($ue,rl({},a,{id:l})),p.createElement(efe,rl({},a,{id:l}))))}Rf.displayName="Pie";var tfe=["points"];function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(a){nfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nfe(e,t,r){return(t=rfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rfe(e){var t=afe(e,"string");return typeof t=="symbol"?t:t+""}function afe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tx.apply(null,arguments)}function sfe(e,t){if(e==null)return{};var r,a,s=ife(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ife(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function lfe(e){var{option:t,dotProps:r,className:a}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var s=wt(a,typeof t!="boolean"?t.className:""),l=r??{},{points:c}=l,d=sfe(l,tfe);return p.createElement(a6,tx({},d,{className:s}))}function ofe(e,t){return e==null?!1:t?!0:e.length===1}function cfe(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:l,baseProps:c,needClip:d,clipPathId:f,zIndex:m=vn.scatter}=e;if(!ofe(t,r))return null;var h=d6(r),g=$X(r),v=t.map((N,b)=>{var w,C,E=Wb(Wb(Wb({r:3},c),g),{},{index:b,cx:(w=N.x)!==null&&w!==void 0?w:void 0,cy:(C=N.y)!==null&&C!==void 0?C:void 0,dataKey:l,value:N.value,payload:N.payload,points:t});return p.createElement(lfe,{key:"dot-".concat(b),option:r,dotProps:E,className:s})}),y={};return d&&f!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),p.createElement(gr,{zIndex:m},p.createElement(un,tx({className:a},y),v))}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(a){dfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dfe(e,t,r){return(t=ufe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ufe(e){var t=ffe(e,"string");return typeof t=="symbol"?t:t+""}function ffe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mfe={xAxis:{},yAxis:{},zAxis:{}},x6=Mr({name:"cartesianAxis",initialState:mfe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:en()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:en()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:en()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:en()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:en()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:en()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:en()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:en()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:en()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,s=e.yAxis[r];if(s){var l=s.widthHistory||[];if(l.length===3&&l[0]===l[2]&&a===l[1]&&a!==s.width&&Math.abs(a-l[0])<=1)return;var c=[...l,a].slice(-3);e.yAxis[r]=tR(tR({},e.yAxis[r]),{},{width:a,widthHistory:c})}}}}),{addXAxis:hfe,replaceXAxis:pfe,removeXAxis:xfe,addYAxis:gfe,replaceYAxis:vfe,removeYAxis:yfe,addZAxis:Obe,replaceZAxis:Tbe,removeZAxis:kbe,updateYAxisWidth:bfe}=x6.actions,jfe=x6.reducer,wfe=ue([Ln],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Nfe=ue([wfe,li,oi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),gS=()=>Ie(Nfe),Sfe=()=>Ie(woe);function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(a){Cfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cfe(e,t,r){return(t=Efe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Efe(e){var t=Afe(e,"string");return typeof t=="symbol"?t:t+""}function Afe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pfe=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:l,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:l,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Gb(Gb(Gb({},d),eo(s)),M1(s)),m;return p.isValidElement(s)?m=p.cloneElement(s,f):typeof s=="function"?m=s(f):m=p.createElement(a6,f),p.createElement(un,{className:"recharts-active-dot",clipPath:c},m)};function rR(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,clipPath:l,zIndex:c=vn.activeDot}=e,d=Ie(nl),f=Sfe();if(t==null||f==null)return null;var m=t.find(h=>f.includes(h.payload));return rn(m)?null:p.createElement(gr,{zIndex:c},p.createElement(Pfe,{point:m,childIndex:Number(d),mainColor:r,dataKey:s,activeDot:a,clipPath:l}))}var Ofe="Invariant failed";function Tfe(e,t){throw new Error(Ofe)}var kfe=["x","y"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cw.apply(null,arguments)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(a){_fe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _fe(e,t,r){return(t=Rfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rfe(e){var t=Mfe(e,"string");return typeof t=="symbol"?t:t+""}function Mfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dfe(e,t){if(e==null)return{};var r,a,s=Lfe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Lfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ife(e,t){var{x:r,y:a}=e,s=Dfe(e,kfe),l="".concat(r),c=parseInt(l,10),d="".concat(a),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),g="".concat(t.width||s.width),v=parseInt(g,10);return nu(nu(nu(nu(nu({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function nx(e){return p.createElement(u6,Cw({shapeType:"rectangle",propTransformer:Ife,activeClassName:"recharts-active-bar"},e))}var $fe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Fe(t))return t;var l=Fe(a)||rn(a);return l?t(a,s):(l||Tfe(),r)}},Ffe={},g6=Mr({name:"errorBars",initialState:Ffe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===a.dataKey&&l.direction===a.direction?s:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:_be,replaceErrorBar:Rbe,removeErrorBar:Mbe}=g6.actions,zfe=g6.reducer,Bfe=["children"];function Ufe(e,t){if(e==null)return{};var r,a,s=Hfe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Hfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Vfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qfe=p.createContext(Vfe);function Kfe(e){var{children:t}=e,r=Ufe(e,Bfe);return p.createElement(qfe.Provider,{value:r},t)}function vS(e,t){var r,a,s=Ie(m=>us(m,e)),l=Ie(m=>fs(m,t)),c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Un.allowDataOverflow,d=(a=l?.allowDataOverflow)!==null&&a!==void 0?a:Hn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function v6(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=gS(),{needClipX:l,needClipY:c,needClip:d}=vS(t,r);if(!d||!s)return null;var{x:f,y:m,width:h,height:g}=s;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:l?f:f-h/2,y:c?m:m-g/2,width:l?h:h*2,height:c?g:g*2}))}function Wfe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Dt(e.zIndex)?e.zIndex:t}var Yb={exports:{}},Qb={};var sR;function Gfe(){if(sR)return Qb;sR=1;var e=_c();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Qb.useSyncExternalStoreWithSelector=function(f,m,h,g,v){var y=s(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=c(function(){function w(k){if(!C){if(C=!0,E=k,k=g(k),v!==void 0&&N.hasValue){var P=N.value;if(v(P,k))return A=P}return A=k}if(P=A,r(E,k))return P;var M=g(k);return v!==void 0&&v(P,M)?(E=k,P):(E=k,A=M)}var C=!1,E,A,T=h===void 0?null:h;return[function(){return w(m())},T===null?void 0:function(){return w(T())}]},[m,h,g,v]);var b=a(f,y[0],y[1]);return l(function(){N.hasValue=!0,N.value=b},[b]),d(b),b},Qb}var iR;function Yfe(){return iR||(iR=1,Yb.exports=Gfe()),Yb.exports}Yfe();function Qfe(e){e()}function Xfe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Qfe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var lR={notify(){},get:()=>[]};function Zfe(e,t){let r,a=lR,s=0,l=!1;function c(b){h();const w=a.subscribe(b);let C=!1;return()=>{C||(C=!0,w(),g())}}function d(){a.notify()}function f(){N.onStateChange&&N.onStateChange()}function m(){return l}function h(){s++,r||(r=e.subscribe(f),a=Xfe())}function g(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=lR)}function v(){l||(l=!0,h())}function y(){l&&(l=!1,g())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>a};return N}var Jfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eme=Jfe(),tme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nme=tme(),rme=()=>eme||nme?p.useLayoutEffect:p.useEffect,ame=rme();function oR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sme(e,t){if(oR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!oR(e[r[s]],t[r[s]]))return!1;return!0}var ime=Symbol.for("react-redux-context"),lme=typeof globalThis<"u"?globalThis:{};function ome(){if(!p.createContext)return{};const e=lme[ime]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var cme=ome();function dme(e){const{children:t,context:r,serverState:a,store:s}=e,l=p.useMemo(()=>{const f=Zfe(s);return{store:s,subscription:f,getServerState:a?()=>a:void 0}},[s,a]),c=p.useMemo(()=>s.getState(),[s]);ame(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=r||cme;return p.createElement(d.Provider,{value:l},t)}var ume=dme,fme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function mme(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Cg(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(fme.has(a)){if(e[a]==null&&t[a]==null)continue;if(!sme(e[a],t[a]))return!1}else if(!mme(e[a],t[a]))return!1;return!0}var hme=["onMouseEnter","onMouseLeave","onClick"],pme=["value","background","tooltipPosition"],xme=["id"],gme=["onMouseEnter","onClick","onMouseLeave"];function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ai.apply(null,arguments)}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(a){vme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vme(e,t,r){return(t=yme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yme(e){var t=bme(e,"string");return typeof t=="symbol"?t:t+""}function bme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rx(e,t){if(e==null)return{};var r,a,s=jme(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jme(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var wme=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:Hc(r,t),payload:e}]},Nme=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:l,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Hc(l,t),hide:c,type:f,color:s,unit:d}};return p.createElement(pS,{tooltipEntrySettings:m})});function Sme(e){var t=Ie(nl),{data:r,dataKey:a,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=rx(l,hme),h=fS(c,a),g=mS(d),v=hS(f,a);if(!s||r==null)return null;var y=eo(s);return p.createElement(gr,{zIndex:Wfe(s,vn.barBackground)},r.map((N,b)=>{var{value:w,background:C,tooltipPosition:E}=N,A=rx(N,pme);if(!C)return null;var T=h(N,b),k=g(N,b),P=v(N,b),M=fr(fr(fr(fr(fr({option:s,isActive:String(b)===t},A),{},{fill:"#eee"},C),y),cf(m,N,b)),{},{onMouseEnter:T,onMouseLeave:k,onClick:P,dataKey:a,index:b,className:"recharts-bar-background-rectangle"});return p.createElement(nx,ai({key:"background-bar-".concat(b)},M))}))}function Cme(e){var{showLabels:t,children:r,rects:a}=e,s=a?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return fr(fr({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return p.createElement(n6,{value:t?s:void 0},r)}function Eme(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:l,dataKey:c}=e,d=Ie(nl),f=Ie(tS),m=r&&String(l)===d&&(f==null||c===f),h=m?r:t;return m?p.createElement(gr,{zIndex:vn.activeBar},p.createElement(nx,ai({},a,{name:String(a.name)},s,{isActive:m,option:h,index:l,dataKey:c}))):p.createElement(nx,ai({},a,{name:String(a.name)},s,{isActive:m,option:h,index:l,dataKey:c}))}function Ame(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:l}=e;return p.createElement(nx,ai({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:s,dataKey:l}))}function Pme(e){var t,{data:r,props:a}=e,s=(t=kr(a))!==null&&t!==void 0?t:{},{id:l}=s,c=rx(s,xme),{shape:d,dataKey:f,activeBar:m}=a,{onMouseEnter:h,onClick:g,onMouseLeave:v}=a,y=rx(a,gme),N=fS(h,f),b=mS(v),w=hS(g,f);return r?p.createElement(p.Fragment,null,r.map((C,E)=>p.createElement(un,ai({key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(E),className:"recharts-bar-rectangle"},cf(y,C,E),{onMouseEnter:N(C,E),onMouseLeave:b(C,E),onClick:w(C,E)}),m?p.createElement(Eme,{shape:d,activeBar:m,baseProps:c,entry:C,index:E,dataKey:f}):p.createElement(Ame,{shape:d,baseProps:c,entry:C,index:E,dataKey:f})))):null}function Ome(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,g=r.current,v=vf(t,"recharts-bar-"),[y,N]=p.useState(!1),b=!y,w=p.useCallback(()=>{typeof m=="function"&&m(),N(!1)},[m]),C=p.useCallback(()=>{typeof h=="function"&&h(),N(!0)},[h]);return p.createElement(Cme,{showLabels:b,rects:a},p.createElement(gf,{animationId:v,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:w,onAnimationStart:C,key:v},E=>{var A=E===1?a:a?.map((T,k)=>{var P=g&&g[k];if(P)return fr(fr({},T),{},{x:Qt(P.x,T.x,E),y:Qt(P.y,T.y,E),width:Qt(P.width,T.width,E),height:Qt(P.height,T.height,E)});if(s==="horizontal"){var M=Qt(0,T.height,E),I=Qt(T.stackedBarStart,T.y,E);return fr(fr({},T),{},{y:I,height:M})}var Y=Qt(0,T.width,E),L=Qt(T.stackedBarStart,T.x,E);return fr(fr({},T),{},{width:Y,x:L})});return E>0&&(r.current=A??null),A==null?null:p.createElement(un,null,p.createElement(Pme,{props:t,data:A}))}),p.createElement(oS,{label:t.label}),t.children)}function Tme(e){var t=p.useRef(null);return p.createElement(Ome,{previousRectanglesRef:t,props:e})}var y6=0,kme=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ut(e,t)}};class _me extends p.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t||r==null)return null;var h=wt("recharts-bar",s),g=m;return p.createElement(un,{className:h,id:m},d&&p.createElement("defs",null,p.createElement(v6,{clipPathId:g,xAxisId:l,yAxisId:c})),p.createElement(un,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},p.createElement(Sme,{data:r,dataKey:a,background:f,allOtherBarProps:this.props}),p.createElement(Tme,this.props)))}}var Rme={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:y6,xAxisId:0,yAxisId:0,zIndex:vn.bar};function Mme(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:g}=vS(t,r),v=Vc(),y=tr(),N=uS(e.children,ri),b=Ie(E=>ohe(E,t,r,y,e.id,N));if(v!=="vertical"&&v!=="horizontal")return null;var w,C=b?.[0];return C==null||C.height==null||C.width==null?w=0:w=v==="vertical"?C.height/2:C.width/2,p.createElement(Kfe,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:kme,errorBarOffset:w},p.createElement(_me,ai({},e,{layout:v,needClip:g,data:b,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function Dme(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:g,offset:v,cells:y,parentViewBox:N,dataStartIndex:b}=e,w=t==="horizontal"?d:c,C=h?w.scale.domain():null,E=nte({numericAxis:w}),A=w.scale(E);return g.map((T,k)=>{var P,M,I,Y,L,R;h?P=Xee(h[k+b],C):(P=Ut(T,r),Array.isArray(P)||(P=[E,P]));var q=$fe(a,y6)(P[1],k);if(t==="horizontal"){var ve,[K,ee]=[d.scale(P[0]),d.scale(P[1])];M=CT({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:T,index:k}),I=(ve=ee??K)!==null&&ve!==void 0?ve:void 0,Y=s.size;var z=K-ee;if(L=_r(z)?0:z,R={x:M,y:v.top,width:Y,height:v.height},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var Z=qn(L||q)*(Math.abs(q)-Math.abs(L));I-=Z,L+=Z}}else{var[$,de]=[c.scale(P[0]),c.scale(P[1])];if(M=$,I=CT({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:T,index:k}),Y=de-$,L=s.size,R={x:v.left,y:I,width:v.width,height:L},Math.abs(q)>0&&Math.abs(Y)<Math.abs(q)){var B=qn(Y||q)*(Math.abs(q)-Math.abs(Y));Y+=B}}if(M==null||I==null||Y==null||L==null)return null;var _=fr(fr({},T),{},{stackedBarStart:A,x:M,y:I,width:Y,height:L,value:h?P:P[1],payload:T,background:R,tooltipPosition:{x:M+Y/2,y:I+L/2},parentViewBox:N},y&&y[k]&&y[k].props);return _}).filter(Boolean)}function Lme(e){var t=bn(e,Rme),r=tr();return p.createElement(xS,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(f6,{legendPayload:wme(t)}),p.createElement(Nme,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(p6,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:dL(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(gr,{zIndex:t.zIndex},p.createElement(Mme,ai({},t,{id:a})))))}var b6=p.memo(Lme,Cg);b6.displayName="Bar";function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(a){Ime(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ime(e,t,r){return(t=$me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $me(e){var t=Fme(e,"string");return typeof t=="symbol"?t:t+""}function Fme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zme=(e,t)=>t,Bme=(e,t,r)=>r,Ume=(e,t,r,a)=>a,Hme=(e,t,r,a,s)=>s,Mf=ue([pg,Hme],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Vme=ue([Mf],e=>e?.maxBarSize),qme=(e,t,r,a,s,l)=>l,uR=(e,t,r)=>{var a=r??e;if(!rn(a))return ir(a,t,0)},Kme=ue([Nt,pg,zme,Bme,Ume],(e,t,r,a,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===r:l.yAxisId===a).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Wme=(e,t,r,a)=>{var s=Nt(e);return s==="horizontal"?Fu(e,"yAxis",r,a):Fu(e,"xAxis",t,a)},Gme=(e,t,r)=>{var a=Nt(e);return a==="horizontal"?a_(e,"xAxis",t):a_(e,"yAxis",r)},Yme=(e,t,r)=>{var a={},s=e.filter(fg),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),d=Object.entries(c).map(m=>{var[h,g]=m,v=g.map(N=>N.dataKey),y=uR(t,r,g[0].barSize);return{stackId:h,dataKeys:v,barSize:y}}),f=l.map(m=>{var h=[m.dataKey].filter(v=>v!=null),g=uR(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...f]},Qme=ue([Kme,yie,Gme],Yme),Xme=(e,t,r,a,s)=>{var l,c,d=Mf(e,t,r,a,s);if(d!=null){var f=Nt(e),m=MI(e),{maxBarSize:h}=d,g=rn(h)?m:h,v,y;return f==="horizontal"?(v=tl(e,"xAxis",t,a),y=el(e,"xAxis",t,a)):(v=tl(e,"yAxis",r,a),y=el(e,"yAxis",r,a)),(l=(c=Ec(v,y,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},j6=(e,t,r,a)=>{var s=Nt(e),l,c;return s==="horizontal"?(l=tl(e,"xAxis",t,a),c=el(e,"xAxis",t,a)):(l=tl(e,"yAxis",r,a),c=el(e,"yAxis",r,a)),Ec(l,c)};function Zme(e,t,r,a,s){var l=a.length;if(!(l<1)){var c=ir(e,r,0,!0),d,f=[];if(Dt(a[0].barSize)){var m=!1,h=r/l,g=a.reduce((C,E)=>C+(E.barSize||0),0);g+=(l-1)*c,g>=r&&(g-=(l-1)*c,c=0),g>=r&&h>0&&(m=!0,h*=.9,g=l*h);var v=(r-g)/2>>0,y={offset:v-c,size:0};d=a.reduce((C,E)=>{var A,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y.offset+y.size+c,size:m?h:(A=E.barSize)!==null&&A!==void 0?A:0}},k=[...C,T];return y=k[k.length-1].position,k},f)}else{var N=ir(t,r,0,!0);r-2*N-(l-1)*c<=0&&(c=0);var b=(r-2*N-(l-1)*c)/l;b>1&&(b>>=0);var w=Dt(s)?Math.min(b,s):b;d=a.reduce((C,E,A)=>[...C,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:N+(b+c)*A+(b-w)/2,size:w}}],f)}return d}}var Jme=(e,t,r,a,s,l,c)=>{var d=rn(c)?t:c,f=Zme(r,a,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>Eh(Eh({},m),{},{position:Eh(Eh({},m.position),{},{offset:m.position.offset-s/2})}))),f},ehe=ue([Qme,MI,vie,DI,Xme,j6,Vme],Jme),the=(e,t,r,a)=>tl(e,"xAxis",t,a),nhe=(e,t,r,a)=>tl(e,"yAxis",r,a),rhe=(e,t,r,a)=>el(e,"xAxis",t,a),ahe=(e,t,r,a)=>el(e,"yAxis",r,a),she=ue([ehe,Mf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ihe=(e,t)=>{var r=ug(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===r)}}}},lhe=ue([Wme,Mf],ihe),ohe=ue([Ln,q1,the,nhe,rhe,ahe,she,Nt,og,j6,lhe,Mf,qme],(e,t,r,a,s,l,c,d,f,m,h,g,v)=>{var{chartData:y,dataStartIndex:N,dataEndIndex:b}=f;if(!(g==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||a==null||s==null||l==null||m==null)){var{data:w}=g,C;if(w!=null&&w.length>0?C=w:C=y?.slice(N,b+1),C!=null)return Dme({layout:d,barSettings:g,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:l,stackedData:h,displayedData:C,offset:e,cells:v,dataStartIndex:N})}}),w6=e=>{var{chartData:t}=e,r=Vt(),a=tr();return p.useEffect(()=>a?()=>{}:(r(g_(t)),()=>{r(g_(void 0))}),[t,r,a]),null},fR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},N6=Mr({name:"brush",initialState:fR,reducers:{setBrushSettings(e,t){return t.payload==null?fR:t.payload}}}),{setBrushSettings:Dbe}=N6.actions,che=N6.reducer;function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(a){S6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function S6(e,t,r){return(t=dhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dhe(e){var t=uhe(e,"string");return typeof t=="symbol"?t:t+""}function uhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fhe=(e,t)=>{var{x:r,y:a}=e,{x:s,y:l}=t;return{x:Math.min(r,s),y:Math.min(a,l),width:Math.abs(s-r),height:Math.abs(l-a)}},mhe=e=>{var{x1:t,y1:r,x2:a,y2:s}=e;return fhe({x:t,y:r},{x:a,y:s})};class Eg{static create(t){return new Eg(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}S6(Eg,"EPS",1e-4);var hhe=e=>{var t=Object.keys(e).reduce((r,a)=>Ah(Ah({},r),{},{[a]:Eg.create(e[a])}),{});return Ah(Ah({},t),{},{apply(r){var{bandAware:a,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(l=>{var[c,d]=l;return[c,t[c].apply(d,{bandAware:a,position:s})]}))},isInRange(r){return Object.keys(r).every(a=>t[a].isInRange(r[a]))}})};function phe(e){return(e%180+180)%180}var xhe=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=phe(s),c=l*Math.PI/180,d=Math.atan(a/r),f=c>d&&c<Math.PI-d?a/Math.sin(c):r/Math.cos(c);return Math.abs(f)},ghe={dots:[],areas:[],lines:[]},C6=Mr({name:"referenceElements",initialState:ghe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=$a(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=$a(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=$a(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Lbe,removeDot:Ibe,addArea:$be,removeArea:Fbe,addLine:vhe,removeLine:yhe}=C6.actions,bhe=C6.reducer,E6=p.createContext(void 0),jhe=e=>{var{children:t}=e,[r]=p.useState("".concat(Cu("recharts"),"-clip")),a=gS();if(a==null)return null;var{x:s,y:l,width:c,height:d}=a;return p.createElement(E6.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:s,y:l,height:d,width:c}))),t)},whe=()=>p.useContext(E6);function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(a){Nhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nhe(e,t,r){return(t=She(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function She(e){var t=Che(e,"string");return typeof t=="symbol"?t:t+""}function Che(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ax.apply(null,arguments)}var Ehe=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Dt(t.x1)||!Dt(t.y1)||!Dt(t.x2)||!Dt(t.y2))return null;r=p.createElement("line",ax({},t,{className:"recharts-reference-line-line"}))}return r},Ahe=(e,t,r,a,s,l)=>{var{x:c,width:d}=l,f=s.y.apply(e,{position:r});if(_r(f)||t==="discard"&&!s.y.isInRange(f))return null;var m=[{x:c+d,y:f},{x:c,y:f}];return a==="left"?m.reverse():m},Phe=(e,t,r,a,s,l)=>{var{y:c,height:d}=l,f=s.x.apply(e,{position:r});if(_r(f)||t==="discard"&&!s.x.isInRange(f))return null;var m=[{x:f,y:c+d},{x:f,y:c}];return a==="top"?m.reverse():m},Ohe=(e,t,r,a)=>{var s=e.map(l=>a.apply(l,{position:r}));return t==="discard"&&s.some(l=>!a.isInRange(l))?null:s},The=(e,t,r,a,s,l)=>{var{x:c,y:d,segment:f,ifOverflow:m}=l,h=Sa(c),g=Sa(d);return g?Ahe(d,m,r,s,e,t):h?Phe(c,m,r,a,e,t):f!=null&&f.length===2?Ohe(f,m,r,e):null};function khe(e){var t=Vt();return p.useEffect(()=>(t(vhe(e)),()=>{t(yhe(e))})),null}function _he(e){var{xAxisId:t,yAxisId:r,shape:a,className:s,ifOverflow:l}=e,c=tr(),d=whe(),f=Ie(P=>us(P,t)),m=Ie(P=>fs(P,r)),h=Ie(P=>Ji(P,"xAxis",t,c)),g=Ie(P=>Ji(P,"yAxis",r,c)),v=hf();if(!d||!v||f==null||m==null||h==null||g==null)return null;var y=hhe({x:h,y:g}),N=The(y,v,e.position,f.orientation,m.orientation,e);if(!N)return null;var[{x:b,y:w},{x:C,y:E}]=N,A=l==="hidden"?"url(#".concat(d,")"):void 0,T=pR(pR({clipPath:A},or(e)),{},{x1:b,y1:w,x2:C,y2:E}),k=mhe({x1:b,y1:w,x2:C,y2:E});return p.createElement(gr,{zIndex:e.zIndex},p.createElement(un,{className:wt("recharts-reference-line",s)},Ehe(a,T),p.createElement(Z$,ax({},k,{lowerWidth:k.width,upperWidth:k.width}),p.createElement(e6,{label:e.label}),e.children)))}var Rhe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:vn.line};function A6(e){var t=bn(e,Rhe);return p.createElement(p.Fragment,null,p.createElement(khe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),p.createElement(_he,t))}A6.displayName="ReferenceLine";function P6(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function Mhe(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return xhe(a,r)}function Dhe(e,t,r){var a=r==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:a?s:l,end:a?s+c:l+d}:{start:a?s+c:l+d,end:a?s:l}}function sx(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var l=r();return e*(t-e*l/2-a)>=0&&e*(t+e*l/2-s)<=0}function Lhe(e,t){return P6(e,t+1)}function Ihe(e,t,r,a,s){for(var l=(a||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,g=function(){var N=a?.[f];if(N===void 0)return{v:P6(a,m)};var b=f,w,C=()=>(w===void 0&&(w=r(N,b)),w),E=N.coordinate,A=f===0||sx(e,E,C,h,d);A||(f=0,h=c,m+=1),A&&(h=E+e*(C()/2+s),f+=m)},v;m<=l.length;)if(v=g(),v)return v.v;return[]}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(a){$he(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $he(e,t,r){return(t=Fhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fhe(e){var t=zhe(e,"string");return typeof t=="symbol"?t:t+""}function zhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bhe(e,t,r,a,s){for(var l=(a||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(v){var y=l[v],N,b=()=>(N===void 0&&(N=r(y,v)),N);if(v===c-1){var w=e*(y.coordinate+e*b()/2-f);l[v]=y=rr(rr({},y),{},{tickCoord:w>0?y.coordinate-w*e:y.coordinate})}else l[v]=y=rr(rr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var C=sx(e,y.tickCoord,b,d,f);C&&(f=y.tickCoord-e*(b()/2+s),l[v]=rr(rr({},y),{},{isShow:!0}))}},h=c-1;h>=0;h--)m(h);return l}function Uhe(e,t,r,a,s,l){var c=(a||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=a[d-1],g=r(h,d-1),v=e*(h.coordinate+e*g/2-m);if(c[d-1]=h=rr(rr({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var y=sx(e,h.tickCoord,()=>g,f,m);y&&(m=h.tickCoord-e*(g/2+s),c[d-1]=rr(rr({},h),{},{isShow:!0}))}}for(var N=l?d-1:d,b=function(E){var A=c[E],T,k=()=>(T===void 0&&(T=r(A,E)),T);if(E===0){var P=e*(A.coordinate-e*k()/2-f);c[E]=A=rr(rr({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else c[E]=A=rr(rr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var M=sx(e,A.tickCoord,k,f,m);M&&(f=A.tickCoord+e*(k()/2+s),c[E]=rr(rr({},A),{},{isShow:!0}))}},w=0;w<N;w++)b(w);return c}function yS(e,t,r){var{tick:a,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:g}=e;if(!s||!s.length||!a)return[];if(Fe(f)||qc.isSsr){var v;return(v=Lhe(s,Fe(f)?f:0))!==null&&v!==void 0?v:[]}var y=[],N=d==="top"||d==="bottom"?"width":"height",b=h&&N==="width"?mu(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(A,T)=>{var k=typeof m=="function"?m(A.value,T):A.value;return N==="width"?Mhe(mu(k,{fontSize:t,letterSpacing:r}),b,g):mu(k,{fontSize:t,letterSpacing:r})[N]},C=s.length>=2?qn(s[1].coordinate-s[0].coordinate):1,E=Dhe(l,C,N);return f==="equidistantPreserveStart"?Ihe(C,E,w,s,c):(f==="preserveStart"||f==="preserveStartEnd"?y=Uhe(C,E,w,s,c,f==="preserveStartEnd"):y=Bhe(C,E,w,s,c),y.filter(A=>A.isShow))}var Hhe=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(r?a:0);return Math.round(m)}return 0},Vhe=["axisLine","width","height","className","hide","ticks","axisType"];function qhe(e,t){if(e==null)return{};var r,a,s=Khe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Khe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},so.apply(null,arguments)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(a){Whe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Whe(e,t,r){return(t=Ghe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ghe(e){var t=Yhe(e,"string");return typeof t=="symbol"?t:t+""}function Yhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Us={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:vn.axis};function Qhe(e){var{x:t,y:r,width:a,height:s,orientation:l,mirror:c,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var m=En(En(En({},f),kr(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);m=En(En({},m),{},{x1:t,y1:r+h*s,x2:t+a,y2:r+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);m=En(En({},m),{},{x1:t+g*a,y1:r,x2:t+g*a,y2:r+s})}return p.createElement("line",so({},m,{className:wt("recharts-cartesian-axis-line",to(d,"className"))}))}function Xhe(e,t,r,a,s,l,c,d,f){var m,h,g,v,y,N,b=d?-1:1,w=e.tickSize||c,C=Fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":m=h=e.coordinate,v=r+ +!d*s,g=v-b*w,N=g-b*f,y=C;break;case"left":g=v=e.coordinate,h=t+ +!d*a,m=h-b*w,y=m-b*f,N=C;break;case"right":g=v=e.coordinate,h=t+ +d*a,m=h+b*w,y=m+b*f,N=C;break;default:m=h=e.coordinate,v=r+ +d*s,g=v+b*w,N=g+b*f,y=C;break}return{line:{x1:m,y1:g,x2:h,y2:v},tick:{x:y,y:N}}}function Zhe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Jhe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function epe(e){var{option:t,tickProps:r,value:a}=e,s,l=wt(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,En(En({},r),{},{className:l}));else if(typeof t=="function")s=t(En(En({},r),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=wt(c,t?.className)),s=p.createElement(jg,so({},r,{className:c}),a)}return s}var tpe=p.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:l,tickFormatter:c,unit:d,padding:f,tickTextProps:m,orientation:h,mirror:g,x:v,y,width:N,height:b,tickSize:w,tickMargin:C,fontSize:E,letterSpacing:A,getTicksConfig:T,events:k,axisType:P}=e,M=yS(En(En({},T),{},{ticks:r}),E,A),I=Zhe(h,g),Y=Jhe(h,g),L=kr(T),R=eo(a),q={};typeof s=="object"&&(q=s);var ve=En(En({},L),{},{fill:"none"},q),K=M.map(Z=>En({entry:Z},Xhe(Z,v,y,N,b,h,w,g,C))),ee=K.map(Z=>{var{entry:$,line:de}=Z;return p.createElement(un,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},s&&p.createElement("line",so({},ve,de,{className:wt("recharts-cartesian-axis-tick-line",to(s,"className"))})))}),z=K.map((Z,$)=>{var{entry:de,tick:B}=Z,_=En(En(En(En({textAnchor:I,verticalAnchor:Y},L),{},{stroke:"none",fill:l},R),B),{},{index:$,payload:de,visibleTicksCount:M.length,tickFormatter:c,padding:f},m);return p.createElement(un,so({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},cf(k,de,$)),a&&p.createElement(epe,{option:a,tickProps:_,value:"".concat(typeof c=="function"?c(de.value,$):de.value).concat(d||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},z.length>0&&p.createElement(gr,{zIndex:vn.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},z)),ee.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},ee))}),npe=p.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:l,hide:c,ticks:d,axisType:f}=e,m=qhe(e,Vhe),[h,g]=p.useState(""),[v,y]=p.useState(""),N=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return Hhe({ticks:N.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=p.useCallback(w=>{if(w){var C=w.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=C;var E=C[0];if(E){var A=window.getComputedStyle(E),T=A.fontSize,k=A.letterSpacing;(T!==h||k!==v)&&(g(T),y(k))}}},[h,v]);return c||a!=null&&a<=0||s!=null&&s<=0?null:p.createElement(gr,{zIndex:e.zIndex},p.createElement(un,{className:wt("recharts-cartesian-axis",l)},p.createElement(Qhe,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:kr(e)}),p.createElement(tpe,{ref:b,axisType:f,events:m,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(Z$,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(e6,{label:e.label,labelRef:e.labelRef}),e.children)))}),bS=p.forwardRef((e,t)=>{var r=bn(e,Us);return p.createElement(npe,so({},r,{ref:t}))});bS.displayName="CartesianAxis";var rpe=["x1","y1","x2","y2","key"],ape=["offset"],spe=["xAxisId","yAxisId"],ipe=["xAxisId","yAxisId"];function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(a){lpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lpe(e,t,r){return(t=ope(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ope(e){var t=cpe(e,"string");return typeof t=="symbol"?t:t+""}function cpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bl.apply(null,arguments)}function ix(e,t){if(e==null)return{};var r,a,s=dpe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var upe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:l,height:c,ry:d}=e;return p.createElement("rect",{x:a,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function O6(e){var{option:t,lineItemProps:r}=e,a;if(p.isValidElement(t))a=p.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s,{x1:l,y1:c,x2:d,y2:f,key:m}=r,h=ix(r,rpe),g=(s=kr(h))!==null&&s!==void 0?s:{},{offset:v}=g,y=ix(g,ape);a=p.createElement("line",Bl({},y,{x1:l,y1:c,x2:d,y2:f,fill:"none",key:m}))}return a}function fpe(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=ix(e,spe),f=s.map((m,h)=>{var g=ar(ar({},d),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(h),index:h});return p.createElement(O6,{key:"line-".concat(h),option:a,lineItemProps:g})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function mpe(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=ix(e,ipe),f=s.map((m,h)=>{var g=ar(ar({},d),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(h),index:h});return p.createElement(O6,{option:a,lineItemProps:g,key:"line-".concat(h)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function hpe(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var m=d.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var y=!m[v+1],N=y?s+c-g:m[v+1]-g;if(N<=0)return null;var b=v%t.length;return p.createElement("rect",{key:"react-".concat(v),y:g,x:a,height:N,width:l,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ppe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var m=f.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var y=!m[v+1],N=y?s+c-g:m[v+1]-g;if(N<=0)return null;var b=v%r.length;return p.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:N,height:d,stroke:"none",fill:r[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var xpe=(e,t)=>{var{xAxis:r,width:a,height:s,offset:l}=e;return oL(yS(ar(ar(ar({},Us),r),{},{ticks:cL(r),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,t)},gpe=(e,t)=>{var{yAxis:r,width:a,height:s,offset:l}=e;return oL(yS(ar(ar(ar({},Us),r),{},{ticks:cL(r),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,t)},vpe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:vn.grid};function T6(e){var t=W1(),r=G1(),a=vL(),s=ar(ar({},bn(e,vpe)),{},{x:Fe(e.x)?e.x:a.left,y:Fe(e.y)?e.y:a.top,width:Fe(e.width)?e.width:a.width,height:Fe(e.height)?e.height:a.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:y}=s,N=tr(),b=Ie(Y=>s_(Y,"xAxis",l,N)),w=Ie(Y=>s_(Y,"yAxis",c,N));if(!as(m)||!as(h)||!Fe(d)||!Fe(f))return null;var C=s.verticalCoordinatesGenerator||xpe,E=s.horizontalCoordinatesGenerator||gpe,{horizontalPoints:A,verticalPoints:T}=s;if((!A||!A.length)&&typeof E=="function"){var k=v&&v.length,P=E({yAxis:w?ar(ar({},w),{},{ticks:k?v:w.ticks}):void 0,width:t??m,height:r??h,offset:a},k?!0:g);Tp(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!T||!T.length)&&typeof C=="function"){var M=y&&y.length,I=C({xAxis:b?ar(ar({},b),{},{ticks:M?y:b.ticks}):void 0,width:t??m,height:r??h,offset:a},M?!0:g);Tp(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(T=I)}return p.createElement(gr,{zIndex:s.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(upe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(hpe,Bl({},s,{horizontalPoints:A})),p.createElement(ppe,Bl({},s,{verticalPoints:T})),p.createElement(fpe,Bl({},s,{offset:a,horizontalPoints:A,xAxis:b,yAxis:w})),p.createElement(mpe,Bl({},s,{offset:a,verticalPoints:T,xAxis:b,yAxis:w}))))}T6.displayName="CartesianGrid";function ype(e){var t=eo(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:l}=t,c=Number(s),d=Number(l);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(d)||d<0)&&(d=a),{r:c,strokeWidth:d}}return{r,strokeWidth:a}}var k6=(e,t,r,a)=>tl(e,"xAxis",t,a),_6=(e,t,r,a)=>el(e,"xAxis",t,a),R6=(e,t,r,a)=>tl(e,"yAxis",r,a),M6=(e,t,r,a)=>el(e,"yAxis",r,a),bpe=ue([Nt,k6,R6,_6,M6],(e,t,r,a,s)=>ii(e,"xAxis")?Ec(t,a,!1):Ec(r,s,!1)),jpe=(e,t,r,a,s)=>s,D6=ue([pg,jpe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),wpe=(e,t,r,a,s)=>{var l,c=D6(e,t,r,a,s);if(c!=null){var d=Nt(e),f=ii(d,"xAxis"),m;if(f?m=Fu(e,"yAxis",r,a):m=Fu(e,"xAxis",t,a),m!=null){var{stackId:h}=c,g=ug(c);if(!(h==null||g==null)){var v=(l=m[h])===null||l===void 0?void 0:l.stackedData;return v?.find(y=>y.key===g)}}}},Npe=ue([Nt,k6,R6,_6,M6,wpe,og,bpe,D6,bie],(e,t,r,a,s,l,c,d,f,m)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||d==null)){var{data:y}=f,N;if(y&&y.length>0?N=y:N=h?.slice(g,v+1),N!=null)return Upe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:g,areaSettings:f,stackedData:l,displayedData:N,chartBaseValue:m,bandSize:d})}}),Spe=["id"],Cpe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ql.apply(null,arguments)}function L6(e,t){if(e==null)return{};var r,a,s=Epe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Epe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(a){Ape(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ape(e,t,r){return(t=Ppe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ppe(e){var t=Ope(e,"string");return typeof t=="symbol"?t:t+""}function Ope(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lx(e,t){return e&&e!=="none"?e:t}var Tpe=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:lx(a,s),value:Hc(r,t),payload:e}]},kpe=p.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:l,name:c,hide:d,unit:f,tooltipType:m}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:Hc(c,t),hide:d,type:m,color:lx(a,l),unit:f}};return p.createElement(pS,{tooltipEntrySettings:h})});function _pe(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:l,dataKey:c}=a,d=kr(a);return p.createElement(cfe,{points:r,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function Rpe(e){var{showLabels:t,children:r,points:a}=e,s=a.map(l=>{var c,d,f={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return cc(cc({},f),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return p.createElement(n6,{value:t?s:void 0},r)}function bR(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:l}=e,{layout:c,type:d,stroke:f,connectNulls:m,isRange:h}=l,{id:g}=l,v=L6(l,Spe),y=kr(v),N=or(v);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(un,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},p.createElement(pc,ql({},N,{id:g,points:t,connectNulls:m,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&p.createElement(pc,ql({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:t})),f!=="none"&&h&&p.createElement(pc,ql({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r}))),p.createElement(_pe,{points:t,props:v,clipPathId:s}))}function Mpe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,l=a[0].y,c=a[a.length-1].y;if(!Dt(l)||!Dt(c))return null;var d=t*Math.abs(l-c),f=Math.max(...a.map(m=>m.x||0));return Fe(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.x||0),f)),Fe(f)?p.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Dpe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,l=a[0].x,c=a[a.length-1].x;if(!Dt(l)||!Dt(c))return null;var d=t*Math.abs(l-c),f=Math.max(...a.map(m=>m.y||0));return Fe(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.y||0),f)),Fe(f)?p.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function Lpe(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:l}=e;return r==="vertical"?p.createElement(Mpe,{alpha:t,points:a,baseLine:s,strokeWidth:l}):p.createElement(Dpe,{alpha:t,points:a,baseLine:s,strokeWidth:l})}function Ipe(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:l}=e,{points:c,baseLine:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=a,N=p.useMemo(()=>({points:c,baseLine:d}),[c,d]),b=vf(N,"recharts-area-"),w=$te(),[C,E]=p.useState(!1),A=!C,T=p.useCallback(()=>{typeof y=="function"&&y(),E(!1)},[y]),k=p.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]);if(w==null)return null;var P=s.current,M=l.current;return p.createElement(Rpe,{showLabels:A,points:c},a.children,p.createElement(gf,{animationId:b,begin:m,duration:h,isActive:f,easing:g,onAnimationEnd:T,onAnimationStart:k,key:b},I=>{if(P){var Y=P.length/c.length,L=I===1?c:c.map((q,ve)=>{var K=Math.floor(ve*Y);if(P[K]){var ee=P[K];return cc(cc({},q),{},{x:Qt(ee.x,q.x,I),y:Qt(ee.y,q.y,I)})}return q}),R;return Fe(d)?R=Qt(M,d,I):rn(d)||_r(d)?R=Qt(M,0,I):R=d.map((q,ve)=>{var K=Math.floor(ve*Y);if(Array.isArray(M)&&M[K]){var ee=M[K];return cc(cc({},q),{},{x:Qt(ee.x,q.x,I),y:Qt(ee.y,q.y,I)})}return q}),I>0&&(s.current=L,l.current=R),p.createElement(bR,{points:L,baseLine:R,needClip:t,clipPathId:r,props:a})}return I>0&&(s.current=c,l.current=d),p.createElement(un,null,f&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(Lpe,{alpha:I,points:c,baseLine:d,layout:w,strokeWidth:a.strokeWidth}))),p.createElement(un,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(bR,{points:c,baseLine:d,needClip:t,clipPathId:r,props:a})))}),p.createElement(oS,{label:a.label}))}function $pe(e){var{needClip:t,clipPathId:r,props:a}=e,s=p.useRef(null),l=p.useRef();return p.createElement(Ipe,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:l})}class Fpe extends p.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:l,left:c,needClip:d,xAxisId:f,yAxisId:m,width:h,height:g,id:v,baseLine:y,zIndex:N}=this.props;if(t)return null;var b=wt("recharts-area",s),w=v,{r:C,strokeWidth:E}=ype(r),A=d6(r),T=C*2+E,k=d?"url(#clipPath-".concat(A?"":"dots-").concat(w,")"):void 0;return p.createElement(gr,{zIndex:N},p.createElement(un,{className:b},d&&p.createElement("defs",null,p.createElement(v6,{clipPathId:w,xAxisId:f,yAxisId:m}),!A&&p.createElement("clipPath",{id:"clipPath-dots-".concat(w)},p.createElement("rect",{x:c-T/2,y:l-T/2,width:h+T,height:g+T}))),p.createElement($pe,{needClip:d,clipPathId:w,props:this.props})),p.createElement(rR,{points:a,mainColor:lx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(y)&&p.createElement(rR,{points:y,mainColor:lx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var I6={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:vn.area};function zpe(e){var t,r=bn(e,I6),{activeDot:a,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,fill:m,fillOpacity:h,hide:g,isAnimationActive:v,legendType:y,stroke:N,xAxisId:b,yAxisId:w}=r,C=L6(r,Cpe),E=Vc(),A=D$(),{needClip:T}=vS(b,w),k=tr(),{points:P,isRange:M,baseLine:I}=(t=Ie(K=>Npe(K,b,w,k,e.id)))!==null&&t!==void 0?t:{},Y=gS();if(E!=="horizontal"&&E!=="vertical"||Y==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:L,width:R,x:q,y:ve}=Y;return!P||!P.length?null:p.createElement(Fpe,ql({},C,{activeDot:a,animationBegin:s,animationDuration:l,animationEasing:c,baseLine:I,connectNulls:d,dot:f,fill:m,fillOpacity:h,height:L,hide:g,layout:E,isAnimationActive:v==="auto"?!qc.isSsr:v,isRange:M,legendType:y,needClip:T,points:P,stroke:N,width:R,left:q,top:ve,xAxisId:b,yAxisId:w}))}var Bpe=(e,t,r,a,s)=>{var l=r??t;if(Fe(l))return l;var c=e==="horizontal"?s:a,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]};function Upe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:l,chartBaseValue:c,xAxis:d,yAxis:f,displayedData:m,dataStartIndex:h,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,N=s&&s.length,b=Bpe(l,c,r,d,f),w=l==="horizontal",C=!1,E=m.map((T,k)=>{var P;N?P=s[h+k]:(P=Ut(T,a),Array.isArray(P)?C=!0:P=[b,P]);var M=P[1]==null||N&&!t&&Ut(T,a)==null;return w?{x:ST({axis:d,ticks:g,bandSize:y,entry:T,index:k}),y:M?null:f.scale(P[1]),value:P,payload:T}:{x:M?null:d.scale(P[1]),y:ST({axis:f,ticks:v,bandSize:y,entry:T,index:k}),value:P,payload:T}}),A;return N||C?A=E.map(T=>{var k=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:k!=null&&T.y!=null?f.scale(k):null,payload:T.payload}:{x:k!=null?d.scale(k):null,y:T.y,payload:T.payload}}):A=w?f.scale(b):d.scale(b),{points:E,baseLine:A,isRange:C}}function Hpe(e){var t=bn(e,I6),r=tr();return p.createElement(xS,{id:t.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(f6,{legendPayload:Tpe(t)}),p.createElement(kpe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(p6,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:dL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(zpe,ql({},t,{id:a}))))}var Wh=p.memo(Hpe,Cg);Wh.displayName="Area";var Vpe=["domain","range"],qpe=["domain","range"];function jR(e,t){if(e==null)return{};var r,a,s=Kpe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function wR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function $6(e,t){if(e===t)return!0;var{domain:r,range:a}=e,s=jR(e,Vpe),{domain:l,range:c}=t,d=jR(t,qpe);return!wR(r,l)||!wR(a,c)?!1:Cg(s,d)}var Wpe=["dangerouslySetInnerHTML","ticks"],Gpe=["id"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ew.apply(null,arguments)}function NR(e,t){if(e==null)return{};var r,a,s=Ype(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ype(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Qpe(e){var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(hfe(e)):r.current!==e&&t(pfe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(xfe(r.current)),r.current=null)},[t]),null}var Xpe=e=>{var{xAxisId:t,className:r}=e,a=Ie(q1),s=tr(),l="xAxis",c=Ie(w=>Ji(w,l,t,s)),d=Ie(w=>m$(w,l,t,s)),f=Ie(w=>c$(w,t)),m=Ie(w=>gle(w,t)),h=Ie(w=>VI(w,t));if(f==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=NR(e,Wpe),{id:N}=h,b=NR(h,Gpe);return p.createElement(bS,Ew({},y,b,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:wt("recharts-".concat(l," ").concat(l),r),viewBox:a,ticks:d,axisType:l}))},Zpe={allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,angle:Un.angle,axisLine:Us.axisLine,height:Un.height,hide:!1,includeHidden:Un.includeHidden,interval:Un.interval,minTickGap:Un.minTickGap,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tick:Un.tick,tickCount:Un.tickCount,tickLine:Us.tickLine,tickSize:Us.tickSize,type:Un.type,xAxisId:0},Jpe=e=>{var t=bn(e,Zpe);return p.createElement(p.Fragment,null,p.createElement(Qpe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(Xpe,t))},jS=p.memo(Jpe,$6);jS.displayName="XAxis";var exe=["dangerouslySetInnerHTML","ticks"],txe=["id"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Aw.apply(null,arguments)}function SR(e,t){if(e==null)return{};var r,a,s=nxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function rxe(e){var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(gfe(e)):r.current!==e&&t(vfe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(yfe(r.current)),r.current=null)},[t]),null}var axe=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,l=p.useRef(null),c=p.useRef(null),d=Ie(q1),f=tr(),m=Vt(),h="yAxis",g=Ie(k=>Ji(k,h,t,f)),v=Ie(k=>d$(k,t)),y=Ie(k=>yle(k,t)),N=Ie(k=>m$(k,h,t,f)),b=Ie(k=>qI(k,t));if(p.useLayoutEffect(()=>{if(!(a!=="auto"||!v||lS(s)||p.isValidElement(s)||b==null)){var k=l.current;if(k){var P=k.getCalculatedWidth();Math.round(v.width)!==Math.round(P)&&m(bfe({id:t,width:P}))}}},[N,v,m,s,t,a,b]),v==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:w,ticks:C}=e,E=SR(e,exe),{id:A}=b,T=SR(b,txe);return p.createElement(bS,Aw({},E,T,{ref:l,labelRef:c,scale:g,x:y.x,y:y.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:v.width,height:v.height,className:wt("recharts-".concat(h," ").concat(h),r),viewBox:d,ticks:N,axisType:h}))},sxe={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:Us.axisLine,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:Us.tickLine,tickSize:Us.tickSize,type:Hn.type,width:Hn.width,yAxisId:0},ixe=e=>{var t=bn(e,sxe);return p.createElement(p.Fragment,null,p.createElement(rxe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(axe,t))},wS=p.memo(ixe,$6);wS.displayName="YAxis";var lxe=(e,t)=>t,NS=ue([lxe,Nt,UI,$n,O$,di,Moe,Ln],Boe),SS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},F6=Ca("mouseClick"),z6=ff();z6.startListening({actionCreator:F6,effect:(e,t)=>{var r=e.payload,a=NS(t.getState(),SS(r));a?.activeIndex!=null&&t.dispatch(Rle({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Pw=Ca("mouseMove"),B6=ff(),Ph=null;B6.startListening({actionCreator:Pw,effect:(e,t)=>{var r=e.payload;Ph!==null&&cancelAnimationFrame(Ph);var a=SS(r);Ph=requestAnimationFrame(()=>{var s=t.getState(),l=YN(s,s.tooltip.settings.shared);if(l==="axis"){var c=NS(s,a);c?.activeIndex!=null?t.dispatch(j$({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(b$())}Ph=null})}});var CR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},U6=Mr({name:"rootProps",initialState:CR,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:CR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),oxe=U6.reducer,{updateOptions:cxe}=U6.actions,H6=Mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:dxe}=H6.actions,uxe=H6.reducer,V6=Ca("keyDown"),q6=Ca("focus"),CS=ff();CS.startListening({actionCreator:V6,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=QN(s,Jc(r),Af(r),kf(r)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=di(r);if(l==="Enter"){var m=Xp(r,"axis","hover",String(s.index));t.dispatch(yw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var h=Nle(r),g=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,y=d+v*g;if(!(f==null||y>=f.length||y<0)){var N=Xp(r,"axis","hover",String(y));t.dispatch(yw({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:N}))}}}}}});CS.startListening({actionCreator:q6,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var l="0",c=Xp(r,"axis","hover",String(l));t.dispatch(yw({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var va=Ca("externalEvent"),K6=ff(),Xb=new Map;K6.startListening({actionCreator:va,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(r!=null){a.persist();var s=a.type,l=Xb.get(s);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:yoe(d),activeDataKey:tS(d),activeIndex:nl(d),activeLabel:_$(d),activeTooltipIndex:nl(d),isTooltipActive:boe(d)};r(f,a)}finally{Xb.delete(s)}});Xb.set(s,c)}}});var fxe=ue([Zc],e=>e.tooltipItemPayloads),mxe=ue([fxe,Of,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,r);return c}}}),W6=Ca("touchMove"),G6=ff();G6.startListening({actionCreator:W6,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),s=YN(a,a.tooltip.settings.shared);if(s==="axis"){var l=NS(a,SS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(j$({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(fL),h=(c=f.getAttribute(mL))!==null&&c!==void 0?c:void 0,g=mxe(t.getState(),m,h);t.dispatch(y$({activeDataKey:h,activeIndex:m,activeCoordinate:g}))}}}});var hxe=R3({brush:che,cartesianAxis:jfe,chartData:vce,errorBars:zfe,graphicalItems:Aue,layout:qee,legend:Jte,options:mce,polarAxis:Ude,polarOptions:uxe,referenceElements:bhe,rootProps:oxe,tooltip:Mle,zIndex:tce}),pxe=function(t){return xee({reducer:hxe,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([z6.middleware,B6.middleware,CS.middleware,K6.middleware,G6.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(G3({type:"raf"}))},devTools:qc.devToolsEnabled})};function Y6(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=tr(),l=p.useRef(null);if(s)return r;l.current==null&&(l.current=pxe(t));var c=L1;return p.createElement(ume,{context:c,store:l.current},r)}function xxe(e){var{layout:t,margin:r}=e,a=Vt(),s=tr();return p.useEffect(()=>{s||(a(Uee(t)),a(Bee(r)))},[a,s,t,r]),null}var Q6=p.memo(xxe,Cg);function X6(e){var t=Vt();return p.useEffect(()=>{t(cxe(e))},[t,e]),null}function ER(e){var{zIndex:t,isPanorama:r}=e,a=r?"recharts-zindex-panorama-":"recharts-zindex-",s=m6("".concat(a).concat(t)),l=Vt();return p.useLayoutEffect(()=>(l(Joe({zIndex:t,elementId:s,isPanorama:r})),()=>{l(ece({zIndex:t,isPanorama:r}))}),[l,t,s,r]),p.createElement("g",{tabIndex:-1,id:s})}function AR(e){var{children:t,isPanorama:r}=e,a=Ie(Hoe);if(!a||a.length===0)return t;var s=a.filter(c=>c<0),l=a.filter(c=>c>0);return p.createElement(p.Fragment,null,s.map(c=>p.createElement(ER,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>p.createElement(ER,{key:c,zIndex:c,isPanorama:r})))}var gxe=["children"];function vxe(e,t){if(e==null)return{};var r,a,s=yxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ox.apply(null,arguments)}var bxe={width:"100%",height:"100%",display:"block"},jxe=p.forwardRef((e,t)=>{var r=W1(),a=G1(),s=OL();if(!as(r)||!as(a))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0),p.createElement(E1,ox({},c,{title:d,desc:f,role:h,tabIndex:m,width:r,height:a,style:bxe,ref:t}),l)}),wxe=e=>{var{children:t}=e,r=Ie(Xx);if(!r)return null;var{width:a,height:s,y:l,x:c}=r;return p.createElement(E1,{width:a,height:s,x:c,y:l},t)},PR=p.forwardRef((e,t)=>{var{children:r}=e,a=vxe(e,gxe),s=tr();return s?p.createElement(wxe,null,p.createElement(AR,{isPanorama:!0},r)):p.createElement(jxe,ox({ref:t},a),p.createElement(AR,{isPanorama:!1},r))});function Nxe(){var e=Vt(),[t,r]=p.useState(null),a=Ie(ote);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Dt(l)&&l!==a&&e(Vee(l))}},[t,e,a]),r}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(a){Cxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cxe(e,t,r){return(t=Exe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Exe(e){var t=Axe(e,"string");return typeof t=="symbol"?t:t+""}function Axe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},io.apply(null,arguments)}var Pxe=()=>(Ace(),null);function cx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Oxe=p.forwardRef((e,t)=>{var r,a,s=p.useRef(null),[l,c]=p.useState({containerWidth:cx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:cx((a=e.style)===null||a===void 0?void 0:a.height)}),d=p.useCallback((m,h)=>{c(g=>{var v=Math.round(m),y=Math.round(h);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),f=p.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=m.getBoundingClientRect();d(h,g);var v=N=>{var{width:b,height:w}=N[0].contentRect;d(b,w)},y=new ResizeObserver(v);y.observe(m),s.current=y}},[t,d]);return p.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[d]),p.createElement(p.Fragment,null,p.createElement(Zx,{width:l.containerWidth,height:l.containerHeight}),p.createElement("div",io({ref:f},e)))}),Txe=p.forwardRef((e,t)=>{var{width:r,height:a}=e,[s,l]=p.useState({containerWidth:cx(r),containerHeight:cx(a)}),c=p.useCallback((f,m)=>{l(h=>{var g=Math.round(f),v=Math.round(m);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),d=p.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return p.createElement(p.Fragment,null,p.createElement(Zx,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",io({ref:d},e)))}),kxe=p.forwardRef((e,t)=>{var{width:r,height:a}=e;return p.createElement(p.Fragment,null,p.createElement(Zx,{width:r,height:a}),p.createElement("div",io({ref:t},e)))}),_xe=p.forwardRef((e,t)=>{var{width:r,height:a}=e;return Xs(r)||Xs(a)?p.createElement(Txe,io({},e,{ref:t})):p.createElement(kxe,io({},e,{ref:t}))});function Rxe(e){return e===!0?Oxe:_xe}var Mxe=p.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:N,onTouchStart:b,style:w,width:C,responsive:E,dispatchTouchEvents:A=!0}=e,T=p.useRef(null),k=Vt(),[P,M]=p.useState(null),[I,Y]=p.useState(null),L=Nxe(),R=K1(),q=R?.width>0?R.width:C,ve=R?.height>0?R.height:s,K=p.useCallback(me=>{L(me),typeof t=="function"&&t(me),M(me),Y(me),me!=null&&(T.current=me)},[L,t,M,Y]),ee=p.useCallback(me=>{k(F6(me)),k(va({handler:l,reactEvent:me}))},[k,l]),z=p.useCallback(me=>{k(Pw(me)),k(va({handler:m,reactEvent:me}))},[k,m]),Z=p.useCallback(me=>{k(b$()),k(va({handler:h,reactEvent:me}))},[k,h]),$=p.useCallback(me=>{k(Pw(me)),k(va({handler:g,reactEvent:me}))},[k,g]),de=p.useCallback(()=>{k(q6())},[k]),B=p.useCallback(me=>{k(V6(me.key))},[k]),_=p.useCallback(me=>{k(va({handler:c,reactEvent:me}))},[k,c]),Q=p.useCallback(me=>{k(va({handler:d,reactEvent:me}))},[k,d]),fe=p.useCallback(me=>{k(va({handler:f,reactEvent:me}))},[k,f]),Ne=p.useCallback(me=>{k(va({handler:v,reactEvent:me}))},[k,v]),re=p.useCallback(me=>{k(va({handler:b,reactEvent:me}))},[k,b]),Le=p.useCallback(me=>{A&&k(W6(me)),k(va({handler:N,reactEvent:me}))},[k,A,N]),pe=p.useCallback(me=>{k(va({handler:y,reactEvent:me}))},[k,y]),Ke=Rxe(E);return p.createElement(z$.Provider,{value:P},p.createElement(Y5.Provider,{value:I},p.createElement(Ke,{width:q??w?.width,height:ve??w?.height,className:wt("recharts-wrapper",a),style:Sxe({position:"relative",cursor:"default",width:q,height:ve},w),onClick:ee,onContextMenu:_,onDoubleClick:Q,onFocus:de,onKeyDown:B,onMouseDown:fe,onMouseEnter:z,onMouseLeave:Z,onMouseMove:$,onMouseUp:Ne,onTouchEnd:pe,onTouchMove:Le,onTouchStart:re,ref:K},p.createElement(Pxe,null),r)))}),Dxe=["width","height","responsive","children","className","style","compact","title","desc"];function Lxe(e,t){if(e==null)return{};var r,a,s=Ixe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ixe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Z6=p.forwardRef((e,t)=>{var{width:r,height:a,responsive:s,children:l,className:c,style:d,compact:f,title:m,desc:h}=e,g=Lxe(e,Dxe),v=kr(g);return f?p.createElement(p.Fragment,null,p.createElement(Zx,{width:r,height:a}),p.createElement(PR,{otherAttributes:v,title:m,desc:h},l)):p.createElement(Mxe,{className:c,style:d,width:r,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(PR,{otherAttributes:v,title:m,desc:h,ref:t},p.createElement(jhe,null,l)))});function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ow.apply(null,arguments)}var $xe={top:5,right:5,bottom:5,left:5},Fxe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:$xe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},J6=p.forwardRef(function(t,r){var a,s=bn(t.categoricalChartProps,Fxe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(Y6,{preloadedState:{options:h},reduxStoreName:(a=m.id)!==null&&a!==void 0?a:l},p.createElement(w6,{chartData:m.data}),p.createElement(Q6,{layout:s.layout,margin:s.margin}),p.createElement(X6,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(Z6,Ow({},s,{ref:r})))}),zxe=["axis","item"],Bxe=p.forwardRef((e,t)=>p.createElement(J6,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zxe,tooltipPayloadSearcher:iS,categoricalChartProps:e,ref:t}));function Uxe(e){var t=Vt();return p.useEffect(()=>{t(dxe(e))},[t,e]),null}var Hxe=["layout"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tw.apply(null,arguments)}function Vxe(e,t){if(e==null)return{};var r,a,s=qxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Kxe={top:5,right:5,bottom:5,left:5},eF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Kxe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Wxe=p.forwardRef(function(t,r){var a,s=bn(t.categoricalChartProps,eF),{layout:l}=s,c=Vxe(s,Hxe),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(Y6,{preloadedState:{options:g},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:d},p.createElement(w6,{chartData:s.data}),p.createElement(Q6,{layout:l,margin:s.margin}),p.createElement(X6,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(Uxe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(Z6,Tw({},c,{ref:r})))});function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(a){Gxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gxe(e,t,r){return(t=Yxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yxe(e){var t=Qxe(e,"string");return typeof t=="symbol"?t:t+""}function Qxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xxe=["item"],Zxe=kR(kR({},eF),{},{layout:"centric",startAngle:0,endAngle:360}),Ag=p.forwardRef((e,t)=>{var r=bn(e,Zxe);return p.createElement(Wxe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xxe,tooltipPayloadSearcher:iS,categoricalChartProps:r,ref:t})}),Jxe=["axis"],ege=p.forwardRef((e,t)=>p.createElement(J6,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jxe,tooltipPayloadSearcher:iS,categoricalChartProps:e,ref:t}));const tge=[{value:"1w",label:"1W"},{value:"1m",label:"1M"},{value:"3m",label:"3M"},{value:"1y",label:"1Y"},{value:"2y",label:"2Y"},{value:"all",label:"All"}],nge=[{value:"7d",label:"7D"},{value:"30d",label:"30D"},{value:"6m",label:"6M"},{value:"1y",label:"1Y"}];function rge(){const{toast:e}=fn(),[t,r]=p.useState(""),[a,s]=p.useState(null),[l,c]=p.useState("all"),[d,f]=p.useState("30d"),{data:m,isLoading:h,isError:g,refetch:v}=_e({queryKey:["/api/admin/bridge/overview"]}),{data:y,isLoading:N,isError:b}=_e({queryKey:["/api/admin/bridge/extractors",l],queryFn:async()=>{const J=await fetch(`/api/admin/bridge/extractors?timeRange=${l}&limit=1000`);if(!J.ok)throw new Error("Failed to fetch extractors");return J.json()}}),w=m&&!("error"in m)?m:null,C=Array.isArray(y)?y:[],{data:E,isLoading:A,isError:T,refetch:k}=_e({queryKey:["/api/admin/bridge/value-breakdown"]}),{data:P,isLoading:M}=_e({queryKey:["/api/admin/bridge/tvl-reconciliation"]}),{data:I,isLoading:Y}=_e({queryKey:["/api/admin/bridge/daily-averages"]}),{data:L,isLoading:R}=_e({queryKey:["/api/admin/bridge/daily-timeseries",d],queryFn:async()=>{const J=await fetch(`/api/admin/bridge/daily-timeseries?range=${d}`);if(!J.ok)throw new Error("Failed to fetch time series");return J.json()}}),{data:q,isLoading:ve}=_e({queryKey:["/api/admin/bridge/wallet",a],enabled:!!a}),K=Oe({mutationFn:async J=>ze("POST","/api/admin/bridge/index-wallet",{wallet:J}),onSuccess:()=>{e({title:"Wallet indexed successfully"}),Te.invalidateQueries({queryKey:["/api/admin/bridge"]})},onError:()=>{e({title:"Failed to index wallet",variant:"destructive"})}}),ee=Oe({mutationFn:async()=>ze("POST","/api/admin/bridge/refresh-metrics"),onSuccess:()=>{e({title:"Metrics refreshed"}),Te.invalidateQueries({queryKey:["/api/admin/bridge"]})}}),{data:z}=_e({queryKey:["/api/admin/bridge/indexer-status"],refetchInterval:5e3}),Z=Oe({mutationFn:async()=>ze("POST","/api/admin/bridge/run-indexer"),onSuccess:()=>{e({title:"Bridge indexer started",description:"Scanning last 100k blocks (~2-3 days). This may take several minutes."}),Te.invalidateQueries({queryKey:["/api/admin/bridge/indexer-status"]})},onError:J=>{J?.message?.includes("409")?e({title:"Indexer already running",variant:"destructive"}):e({title:"Failed to start indexer",variant:"destructive"})}}),{data:$}=_e({queryKey:["/api/admin/bridge/sync-progress"],refetchInterval:5e3});Oe({mutationFn:async()=>ze("POST","/api/admin/bridge/start-historical-sync"),onSuccess:()=>{e({title:"Historical sync started",description:"Indexing from genesis block. This may take hours."}),Te.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})},onError:()=>{e({title:"Failed to start historical sync",variant:"destructive"})}}),Oe({mutationFn:async()=>ze("POST","/api/admin/bridge/stop-historical-sync"),onSuccess:()=>{e({title:"Historical sync stopped"}),Te.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})}});const{data:de,refetch:B}=_e({queryKey:["/api/admin/bridge/batch-progress"],refetchInterval:1e3});Oe({mutationFn:async()=>(await ze("POST","/api/admin/bridge/run-incremental-batch")).json(),onSuccess:J=>{B(),J.status==="complete"?e({title:"Already at latest block",description:J.message}):J.status==="success"?e({title:"Indexed 10K blocks",description:`Blocks ${J.startBlock?.toLocaleString()}-${J.endBlock?.toLocaleString()}: ${J.eventsInserted} events in ${((J.runtimeMs||0)/1e3).toFixed(1)}s`}):J.status==="error"&&e({title:"Batch failed",description:J.error,variant:"destructive"}),Te.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})},onError:J=>{J?.message?.includes("409")?e({title:"Batch already running",variant:"destructive"}):e({title:"Failed to run batch",variant:"destructive"})}});const{data:_,refetch:Q}=_e({queryKey:["/api/admin/bridge/parallel-sync/status"],refetchInterval:3e3}),[fe,Ne]=p.useState(8),re=Oe({mutationFn:async()=>ze("POST","/api/admin/bridge/parallel-sync/start",{workers:fe,batchSize:1e4,maxBatches:100}),onSuccess:()=>{e({title:"Parallel sync started",description:`${fe} workers indexing in parallel`}),Q()},onError:J=>{J?.message?.includes("409")?e({title:"Parallel sync already running",variant:"destructive"}):e({title:"Failed to start parallel sync",variant:"destructive"})}}),Le=Oe({mutationFn:async()=>ze("POST","/api/admin/bridge/parallel-sync/stop"),onSuccess:()=>{e({title:"Parallel sync stopping",description:"Workers will complete current batches"}),Q()},onError:()=>{e({title:"Failed to stop parallel sync",variant:"destructive"})}}),{data:pe,refetch:Ke}=_e({queryKey:["/api/admin/bridge/price-enrichment/status"],refetchInterval:3e3}),me=Oe({mutationFn:async()=>ze("POST","/api/admin/bridge/price-enrichment/start",{workers:8}),onSuccess:()=>{e({title:"Price enrichment started",description:"8 workers adding USD values in parallel"}),Ke()},onError:J=>{J?.message?.includes("409")?e({title:"Enrichment already running",variant:"destructive"}):e({title:"Failed to start enrichment",variant:"destructive"})}}),Pe=Oe({mutationFn:async()=>ze("POST","/api/admin/bridge/price-enrichment/stop"),onSuccess:()=>{e({title:"Enrichment stopping",description:"Workers will complete current batches"}),Ke()},onError:()=>{e({title:"Failed to stop enrichment",variant:"destructive"})}}),De=async()=>{if(t.trim()){const J=t.trim().toLowerCase();try{await K.mutateAsync(J),s(J)}catch{}}},xe=J=>{const ae=typeof J=="string"?parseFloat(J):J;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ae)},tt=J=>{const ae=typeof J=="string"?parseFloat(J):J;return ae>=1e9?`$${(ae/1e9).toFixed(2)}B`:ae>=1e6?`$${(ae/1e6).toFixed(2)}M`:ae>=1e3?`$${(ae/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ae)},Ge=J=>{const ae=typeof J=="string"?parseFloat(J):J,Ze=Math.abs(ae);let st;return Ze>=1e9?st=`$${(Ze/1e9).toFixed(2)}B`:Ze>=1e6?st=`$${(Ze/1e6).toFixed(2)}M`:Ze>=1e3?st=`$${(Ze/1e3).toFixed(2)}K`:st=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Ze),ae<0?`(${st})`:st},Lt=J=>new Date(J).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),kt=J=>`${J.slice(0,6)}...${J.slice(-4)}`;return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"bridge-analytics",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Bridge Analytics"}),n.jsx("p",{className:"text-muted-foreground",children:"Track cross-chain bridge flows and identify extractors"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>Z.mutate(),disabled:Z.isPending||z?.running,"data-testid":"button-run-indexer",children:[z?.running?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Dn,{className:"h-4 w-4 mr-2"}),z?.running?"Indexer Running...":"Run Indexer"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>ee.mutate(),disabled:ee.isPending,"data-testid":"button-refresh-metrics",children:[n.jsx(rt,{className:`h-4 w-4 mr-2 ${ee.isPending?"animate-spin":""}`}),"Refresh Metrics"]})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(es,{className:"h-5 w-5"}),"Historical Sync Progress"]}),n.jsx(Se,{children:"Index all bridge events from genesis for complete extraction analysis"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[_?.running?n.jsxs(se,{variant:"destructive",size:"sm",onClick:()=>Le.mutate(),disabled:Le.isPending,"data-testid":"button-stop-parallel-sync",children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Stop Sync (",_.combinedProgress,"%)"]}):n.jsxs(se,{variant:"default",size:"sm",onClick:()=>re.mutate(),disabled:re.isPending||_?.allComplete,"data-testid":"button-start-parallel-sync",children:[re.isPending?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(lr,{className:"h-4 w-4 mr-2"}),_?.allComplete?"Sync Complete":"Start Block Sync"]}),pe?.running?n.jsxs(se,{variant:"destructive",size:"sm",onClick:()=>Pe.mutate(),disabled:Pe.isPending,"data-testid":"button-stop-enrichment",children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Stop Prices (",pe.workers.filter(J=>J.running).length," active)"]}):n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>me.mutate(),disabled:me.isPending||pe?.unpricedCount===0,"data-testid":"button-start-enrichment",children:[me.isPending?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Gi,{className:"h-4 w-4 mr-2"}),pe?.unpricedCount===0?"All Priced":"Add USD Prices"]})]})]})}),n.jsxs(te,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:_?.running?"default":_?.allComplete?"outline":$?.progress?.status==="error"?"destructive":"secondary",children:_?.running?`Syncing (${_.combinedProgress}%)`:_?.allComplete?"Complete":`${(_?.combinedProgress||0).toFixed(0)}% synced`}),pe?.running&&n.jsx(W,{variant:"default",children:"Pricing"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Progress"}),n.jsxs("p",{className:"text-lg font-semibold",children:[(_?.combinedProgress||0).toFixed(0),"% / ",(_?.latestBlock||0).toLocaleString()," blocks"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"text-lg font-semibold",children:(_?.workers?.reduce((J,ae)=>J+(ae.totalEventsIndexed||0),0)||0).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Needing USD Prices"}),n.jsx("p",{className:"text-lg font-semibold",children:(pe?.unpricedCount||0).toLocaleString()})]})]}),_?.latestBlock&&_.latestBlock>0&&(()=>{const J=_?.combinedProgress||0,ae=_.latestBlock,Ze=_?.allComplete||!1,st=_?.workers?.filter(sn=>sn.status==="running"||sn.progress<100&&sn.status!=="complete").length||0;return n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg","data-testid":"block-sync-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Block Sync Progress"}),n.jsxs("span",{className:"text-sm font-mono",children:[J.toFixed(2),"%"]})]}),n.jsx(Xt,{value:J,className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Workers:"}),n.jsxs("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-workers",children:[st," of ",_?.workersTotal||8," active"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Latest block:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-latest-block",children:ae.toLocaleString()})]})]}),n.jsx("div",{className:"text-xs mt-1 text-center",children:Ze?n.jsx("span",{className:"text-green-600 font-medium",children:"Sync complete"}):_?.running?n.jsxs("span",{className:"text-primary font-medium",children:["Syncing with ",_.workersTotal," parallel workers"]}):n.jsxs("span",{className:"text-muted-foreground",children:[(100-J).toFixed(0),"% remaining"]})}),(_?.workers?.reduce((sn,vr)=>sn+(vr.totalBatchCount||0),0)??0)>0&&n.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-muted text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total batches:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-batch-count",children:(_?.workers?.reduce((sn,vr)=>sn+(vr.totalBatchCount||0),0)||0).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Completed workers:"}),n.jsxs("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-completed-workers",children:[_?.workers?.filter(sn=>sn.status==="complete").length||0," / ",_?.workersTotal||8]})]})]})]})})(),$?.progress?.lastError&&n.jsxs("div",{className:"mt-3 p-2 bg-destructive/10 rounded text-sm text-destructive",children:["Last error: ",$.progress.lastError]}),_?.running&&_.workers&&_.workers.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg","data-testid":"parallel-sync-workers",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(lr,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Block Sync Workers"}),n.jsxs(W,{variant:"outline",className:"ml-auto",children:[_.workers.filter(J=>J.status==="running"||J.progress<100).length," active"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:_.workers.map(J=>n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["W",J.workerId]}),n.jsx(Xt,{value:J.progress,className:"h-1.5"}),n.jsxs("div",{className:"text-xs font-mono",children:[J.progress.toFixed(0),"%"]})]},J.workerId))})]}),(pe?.unpricedCount>0||pe?.running)&&(()=>{const J=pe?.unpricedCount||0,ae=pe?.workers?.reduce((jn,Je)=>jn+(Je.eventsUpdated||0),0)||0,Ze=J+ae,st=Ze>0?ae/Ze*100:0,sn=pe?.workers?.filter(jn=>jn.running).length||0,vr=pe?.running;return n.jsxs("div",{className:"mt-4 p-4 bg-green-500/5 border border-green-500/20 rounded-lg","data-testid":"pricing-sync-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gi,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Pricing Sync Progress"})]}),n.jsxs("span",{className:"text-sm font-mono",children:[st.toFixed(1),"%"]})]}),n.jsx(Xt,{value:st,className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Events priced:"}),n.jsx("span",{className:"font-mono font-semibold text-green-600","data-testid":"text-events-priced",children:ae.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Remaining:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-events-remaining",children:J.toLocaleString()})]})]}),n.jsx("div",{className:"text-xs mt-1 text-center",children:J===0?n.jsx("span",{className:"text-green-600 font-medium",children:"All events priced!"}):vr?n.jsxs("span",{className:"text-green-500 font-medium",children:["Pricing with ",sn," parallel workers"]}):n.jsxs("span",{className:"text-muted-foreground",children:[J.toLocaleString()," events need USD prices"]})}),vr&&pe.workers&&pe.workers.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Price Enrichment Workers"}),n.jsxs(W,{variant:"outline",className:"ml-auto text-xs",children:[sn," active"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:pe.workers.map(jn=>{const Je=jn.groupsTotal>0?jn.groupsProcessed/jn.groupsTotal*100:0;return n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["W",jn.workerId]}),n.jsx(Xt,{value:Je,className:"h-1.5"}),n.jsx("div",{className:"text-xs font-mono text-green-600",children:jn.eventsUpdated})]},jn.workerId)})}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Groups: ",pe.workers.reduce((jn,Je)=>jn+(Je.groupsProcessed||0),0).toLocaleString()," / ",pe.workers.reduce((jn,Je)=>jn+(Je.groupsTotal||0),0).toLocaleString()]}),n.jsxs("span",{children:["Total updated: ",ae.toLocaleString()]})]})]})]})})()]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Bridge Events"}),n.jsx(tp,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:h?n.jsx(Ae,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-events",children:w?.events?.total??0}),n.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(np,{className:"h-3 w-3 text-green-500"}),w?.events?.in??0," in"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(rp,{className:"h-3 w-3 text-red-500"}),w?.events?.out??0," out"]})]})]})})]}),n.jsxs(X,{className:"md:col-span-2",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Net Bridge Flow"}),n.jsx(GV,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:h?n.jsx(Ae,{className:"h-8 w-32"}):(()=>{const J=w?.events?.totalUsdIn??0,ae=w?.events?.totalUsdOut??0,Ze=J-ae,st=Ze>=0;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"sr-only","data-testid":"stat-bridged-in",children:["Total bridged in: ",xe(J)]}),n.jsxs("span",{className:"sr-only","data-testid":"stat-bridged-out",children:["Total bridged out: ",xe(ae)]}),n.jsxs(uu,{children:[n.jsx(fu,{asChild:!0,children:n.jsx("button",{type:"button",className:`text-2xl font-bold cursor-help bg-transparent border-0 p-0 text-left ${st?"text-green-600":"text-red-600"}`,"data-testid":"stat-net-bridge-flow",children:Ge(Ze)})}),n.jsx(fc,{side:"bottom",className:"text-xs",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("span",{className:"text-green-500",children:["In: ",xe(J)]}),n.jsxs("span",{className:"text-red-500",children:["Out: ",xe(ae)]})]})})]})]})})()})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Extractors Identified"}),n.jsx($l,{className:"h-4 w-4 text-orange-500"})]}),n.jsx(te,{children:h?n.jsx(Ae,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"stat-extractors",children:w?.metrics?.extractorCount??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[xe(w?.metrics?.totalExtracted??0)," extracted"]})]})})]})]}),n.jsxs(X,{"data-testid":"card-daily-averages",children:[n.jsx(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:n.jsxs("div",{children:[n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(bu,{className:"h-5 w-5"}),"Bridge Flow Daily Averages"]}),n.jsx(Se,{children:"Net daily average bridged in vs out by time period. Negative values (more out than in) shown in parentheses."})]})}),n.jsx(te,{children:Y?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(J=>n.jsx(Ae,{className:"h-24"},J))}):I&&I.length>0?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:I.map(J=>n.jsxs("div",{className:"border rounded-lg p-4","data-testid":`daily-avg-${J.period}`,children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:J.label}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"In/day:"}),n.jsx("span",{className:"text-green-600 font-medium",children:tt(J.dailyAvgIn)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Out/day:"}),n.jsx("span",{className:"text-red-600 font-medium",children:tt(J.dailyAvgOut)})]}),n.jsx(Mn,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Net/day:"}),n.jsx("span",{className:`font-bold ${J.netDailyAvg>=0?"text-green-600":"text-red-600"}`,children:Ge(J.netDailyAvg)})]})]})]},J.period))}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bridge data available"})})]}),n.jsxs(X,{"data-testid":"card-daily-chart",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(tp,{className:"h-5 w-5"}),"Daily Bridge Flow"]}),n.jsx(Se,{children:"Daily in/out/net bridged amounts over time"})]}),n.jsx("div",{className:"flex gap-1",children:nge.map(J=>n.jsx(se,{variant:d===J.value?"default":"outline",size:"sm",onClick:()=>f(J.value),"data-testid":`button-chart-range-${J.value}`,children:J.label},J.value))})]}),n.jsxs(te,{children:[R?n.jsx("div",{className:"flex items-center justify-center h-64","data-testid":"loading-chart",children:n.jsx(Me,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):L&&L.length>0?n.jsx("div",{className:"h-[350px]","data-testid":"chart-area-container",children:n.jsx(Ou,{width:"100%",height:"100%",children:n.jsxs(ege,{data:L,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorIn",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorOut",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(0, 84%, 60%)",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(0, 84%, 60%)",stopOpacity:0})]})]}),n.jsx(T6,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(jS,{dataKey:"date",tickFormatter:J=>new Date(J).toLocaleDateString("en-US",{month:"short",day:"numeric"}),className:"text-xs fill-muted-foreground"}),n.jsx(wS,{tickFormatter:J=>J>=1e6?`$${(J/1e6).toFixed(1)}M`:J>=1e3?`$${(J/1e3).toFixed(0)}K`:`$${J}`,className:"text-xs fill-muted-foreground"}),n.jsx(bg,{content:({active:J,payload:ae,label:Ze})=>{if(J&&ae&&ae.length&&Ze){const st=new Date(String(Ze));return n.jsxs("div",{className:"bg-popover border rounded-lg shadow-lg p-3 text-sm",children:[n.jsx("p",{className:"font-medium mb-2",children:st.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-green-600",children:["In: ",tt(ae[0]?.value||0)]}),n.jsxs("p",{className:"text-red-600",children:["Out: ",tt(ae[1]?.value||0)]}),n.jsxs("p",{className:`font-medium ${(ae[2]?.value||0)>=0?"text-blue-600":"text-orange-600"}`,children:["Net: ",Ge(ae[2]?.value||0)]})]})]})}return null}}),n.jsx(A6,{y:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"3 3"}),n.jsx(Wh,{type:"monotone",dataKey:"in",stroke:"hsl(142, 76%, 36%)",fillOpacity:1,fill:"url(#colorIn)",name:"Bridged In"}),n.jsx(Wh,{type:"monotone",dataKey:"out",stroke:"hsl(0, 84%, 60%)",fillOpacity:1,fill:"url(#colorOut)",name:"Bridged Out"}),n.jsx(Wh,{type:"monotone",dataKey:"net",stroke:"hsl(217, 91%, 60%)",fill:"none",strokeWidth:2,strokeDasharray:"5 5",name:"Net Flow"})]})})}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bridge data available for chart"}),n.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Bridged In"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Bridged Out"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-0.5 bg-blue-500 border-dashed border-t-2 border-blue-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Net Flow"})]})]})]})]}),n.jsxs(X,{"data-testid":"card-value-distribution",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(du,{className:"h-5 w-5"}),"DFK Chain Value Distribution"]}),n.jsx(Se,{children:"Where bridged tokens are locked across LP pools, staking, and game contracts"})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>k(),disabled:A,"data-testid":"button-refresh-breakdown",children:[n.jsx(rt,{className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),"Refresh"]})]}),n.jsx(te,{children:A?n.jsx("div",{className:"flex items-center justify-center h-64","data-testid":"loading-breakdown",children:n.jsx(Me,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-4","data-testid":"error-breakdown",children:[n.jsx($l,{className:"h-8 w-8 text-destructive"}),n.jsx("p",{children:"Failed to load value breakdown data"}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>k(),"data-testid":"button-retry-breakdown",children:[n.jsx(rt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):E?.summary?n.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[n.jsx("div",{className:"h-[280px] min-h-[250px]","data-testid":"chart-pie-container",children:n.jsx(Ou,{width:"100%",height:"100%",children:n.jsxs(Ag,{children:[n.jsx(Rf,{data:[{name:"LP Pools",value:E.summary.lpPoolsValue,fill:"hsl(217, 91%, 60%)"},{name:"Staking",value:E.summary.stakingValue,fill:"hsl(160, 84%, 39%)"},{name:"Bridges",value:E.summary.bridgeValue,fill:"hsl(38, 92%, 50%)"},{name:"System",value:E.summary.systemValue,fill:"hsl(263, 70%, 50%)"}].filter(J=>J.value>0),cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",label:({name:J,percent:ae})=>`${J} ${(ae*100).toFixed(0)}%`,labelLine:!1,children:[{name:"LP Pools",value:E.summary.lpPoolsValue,fill:"hsl(217, 91%, 60%)"},{name:"Staking",value:E.summary.stakingValue,fill:"hsl(160, 84%, 39%)"},{name:"Bridges",value:E.summary.bridgeValue,fill:"hsl(38, 92%, 50%)"},{name:"System",value:E.summary.systemValue,fill:"hsl(263, 70%, 50%)"}].filter(J=>J.value>0).map((J,ae)=>n.jsx(ri,{fill:J.fill},`cell-${ae}`))}),n.jsx(xf,{wrapperStyle:{fontSize:"12px"}})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 bg-blue-500/10 dark:bg-blue-500/20 rounded-lg border border-blue-500/20","data-testid":"stat-lp-pools",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"LP Pools"}),n.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400","data-testid":"breakdown-lp",children:xe(E.summary.lpPoolsValue)})]}),n.jsxs("div",{className:"p-3 bg-green-500/10 dark:bg-green-500/20 rounded-lg border border-green-500/20","data-testid":"stat-staking",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Staking/Governance"}),n.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"breakdown-staking",children:xe(E.summary.stakingValue)})]}),n.jsxs("div",{className:"p-3 bg-amber-500/10 dark:bg-amber-500/20 rounded-lg border border-amber-500/20","data-testid":"stat-bridges",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridge Contracts"}),n.jsx("p",{className:"text-lg font-bold text-amber-600 dark:text-amber-400","data-testid":"breakdown-bridges",children:xe(E.summary.bridgeValue)})]}),n.jsxs("div",{className:"p-3 bg-violet-500/10 dark:bg-violet-500/20 rounded-lg border border-violet-500/20","data-testid":"stat-system",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"System Contracts"}),n.jsx("p",{className:"text-lg font-bold text-violet-600 dark:text-violet-400","data-testid":"breakdown-system",children:xe(E.summary.systemValue)})]})]}),n.jsx(Mn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{"data-testid":"stat-jewel-locked",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total JEWEL Locked"}),n.jsxs("p",{className:"font-semibold","data-testid":"breakdown-jewel",children:[E.summary.totalJewelLocked.toLocaleString()," JEWEL"]})]}),n.jsxs("div",{"data-testid":"stat-crystal-locked",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total CRYSTAL Locked"}),n.jsxs("p",{className:"font-semibold","data-testid":"breakdown-crystal",children:[E.summary.totalCrystalLocked.toLocaleString()," CRYSTAL"]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg","data-testid":"stat-tvl-summary",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value Locked (TVL)"}),n.jsx("span",{className:"text-xl font-bold","data-testid":"breakdown-tvl",children:xe(E.summary.totalValueUSD)})]}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs","data-testid":"text-prices",children:[n.jsxs("span",{className:"text-muted-foreground",children:["JEWEL: $",E.prices.jewel.toFixed(4)]}),E.prices.jewelSource&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${E.prices.jewelSource==="defillama"?"bg-green-500/20 text-green-600 dark:text-green-400":E.prices.jewelSource==="coingecko"?"bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-amber-500/20 text-amber-600 dark:text-amber-400"}`,"data-testid":"badge-jewel-source",children:E.prices.jewelSource})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs","data-testid":"text-crystal-price",children:[n.jsxs("span",{className:"text-muted-foreground",children:["CRYSTAL: $",E.prices.crystal.toFixed(4)]}),E.prices.crystalSource&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${E.prices.crystalSource==="defillama"?"bg-green-500/20 text-green-600 dark:text-green-400":E.prices.crystalSource==="coingecko"?"bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-amber-500/20 text-amber-600 dark:text-amber-400"}`,"data-testid":"badge-crystal-source",children:E.prices.crystalSource})]}),(E.prices.jewelSource==="fallback"||E.prices.crystalSource==="fallback")&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-amber-600 dark:text-amber-400","data-testid":"warning-fallback-prices",children:[n.jsx($l,{className:"h-3 w-3"}),n.jsx("span",{children:"Using fallback prices - live data unavailable"})]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"text-updated",children:["Updated: ",new Date(E.timestamp).toLocaleString()]})]})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-2","data-testid":"empty-breakdown",children:[n.jsx(du,{className:"h-8 w-8 opacity-50"}),n.jsx("p",{children:"No value breakdown data available"})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{className:"text-lg",children:"Analyze Wallet"}),n.jsx(Se,{children:"Enter a wallet address to index and analyze bridge activity"})]}),n.jsxs(te,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Xe,{placeholder:"0x...",value:t,onChange:J=>r(J.target.value),className:"font-mono","data-testid":"input-wallet-search"}),n.jsxs(se,{onClick:De,disabled:K.isPending,"data-testid":"button-search-wallet",children:[n.jsx(Gs,{className:"h-4 w-4 mr-2"}),K.isPending?"Indexing...":"Analyze"]})]}),a&&q&&n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsx(Mn,{}),q.summary?n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total In"}),n.jsx("p",{className:"text-xl font-semibold text-green-600",children:xe(q.summary.totalBridgedInUsd)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Out"}),n.jsx("p",{className:"text-xl font-semibold text-red-600",children:xe(q.summary.totalBridgedOutUsd)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Extracted"}),n.jsx("p",{className:`text-xl font-semibold ${parseFloat(q.summary.netExtractedUsd)>0?"text-orange-600":"text-green-600"}`,children:xe(q.summary.netExtractedUsd)})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No bridge activity found for this wallet"}),q.events.length>0&&n.jsx(Hi,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-2",children:q.events.map(J=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[J.direction==="in"?n.jsx(np,{className:"h-4 w-4 text-green-500"}):n.jsx(rp,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",children:[J.tokenSymbol," ",J.bridgeType]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Lt(J.blockTimestamp)})]})]}),n.jsxs("div",{className:"text-right",children:[J.usdValue&&n.jsx("p",{className:`text-sm font-medium ${J.direction==="in"?"text-green-600":"text-red-600"}`,children:xe(J.usdValue)}),J.amount&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[parseFloat(J.amount).toFixed(2)," ",J.tokenSymbol]})]})]},J.id))})})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(du,{className:"h-5 w-5 text-blue-500"}),"TVL Reconciliation"]}),n.jsx(Se,{children:"Net bridge flows vs current TVL with pricing coverage analysis"})]}),n.jsx(te,{children:M?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(J=>n.jsx(Ae,{className:"h-16 w-full"},J))}):P?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:P.chains.map(J=>n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50","data-testid":`chain-flow-${J.chainId}`,children:[n.jsx("h4",{className:"font-semibold mb-2",children:J.chainName}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Token IN:"}),n.jsxs("span",{className:"text-green-600",children:["$",(J.tokenIn/1e6).toFixed(2),"M"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Token OUT:"}),n.jsxs("span",{className:"text-red-600",children:["$",(J.tokenOut/1e6).toFixed(2),"M"]})]}),n.jsx(Mn,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Net Flow:"}),n.jsxs("span",{className:J.netToken>=0?"text-green-600":"text-red-600",children:["$",(J.netToken/1e6).toFixed(2),"M"]})]}),J.currentTVL&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Current TVL:"}),n.jsxs("span",{children:["$",(J.currentTVL/1e6).toFixed(2),"M"]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL Price:"}),n.jsxs("span",{children:["$",J.jewelPrice?.toFixed(3)]})]})]}),n.jsx(Mn,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Heroes:"}),n.jsxs("span",{className:J.netHeroes>=0?"text-green-600":"text-red-600",children:["+",J.heroIn," / -",J.heroOut," = ",J.netHeroes>0?"+":"",J.netHeroes]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Equipment:"}),n.jsxs("span",{className:J.netEquipment>=0?"text-green-600":"text-red-600",children:["+",J.equipmentIn," / -",J.equipmentOut," = ",J.netEquipment>0?"+":"",J.netEquipment]})]})]})]},J.chainId))}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[n.jsx(es,{className:"h-4 w-4"}),"Token Pricing Coverage",n.jsxs(W,{variant:"outline",children:[P.summary.overallCoverage,"%"]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:P.pricingCoverage.slice(0,10).map(J=>n.jsxs("div",{className:"p-2 rounded bg-muted/30 text-xs","data-testid":`token-coverage-${J.token}`,children:[n.jsx("div",{className:"font-medium",children:J.token}),n.jsxs("div",{className:"text-muted-foreground",children:[J.totalEvents.toLocaleString()," events"]}),n.jsxs("div",{className:parseFloat(J.coverage)>=99?"text-green-600":parseFloat(J.coverage)>=50?"text-yellow-600":"text-red-600",children:[J.coverage,"% priced"]})]},J.token))})]}),n.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-3 rounded",children:[n.jsx($l,{className:"h-3 w-3 inline mr-1"}),P.summary.note]})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No reconciliation data available"})})})]}),n.jsxs(X,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(bu,{className:"h-5 w-5 text-orange-500"}),"Top Extractors"]}),n.jsx(Se,{children:"Wallets with highest net value extracted from DFK Chain"})]}),n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg","data-testid":"time-range-filter",children:tge.map(J=>n.jsx(se,{variant:l===J.value?"default":"ghost",size:"sm",onClick:()=>c(J.value),className:"h-7 px-3 text-xs font-medium","data-testid":`button-time-${J.value}`,children:J.label},J.value))})]})}),n.jsx(te,{children:N?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(J=>n.jsx(Ae,{className:"h-12 w-full"},J))}):C.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"No extractors identified yet"}),n.jsx("p",{className:"text-sm",children:"Index some wallets to start tracking"})]}):n.jsx(Hi,{className:"h-[500px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-2 text-xs font-medium text-muted-foreground bg-muted/50 rounded-md",children:[n.jsx("div",{children:"Wallet"}),n.jsx("div",{children:"Summoner"}),n.jsx("div",{className:"text-right",children:"Bridged In"}),n.jsx("div",{className:"text-right",children:"Bridged Out"}),n.jsx("div",{className:"text-right",children:"Net Extracted"}),n.jsx("div",{className:"text-right",children:"Last Bridge Amt"}),n.jsx("div",{className:"text-center",children:"Flags"}),n.jsx("div",{className:"text-right",children:"Last Bridge"})]}),n.jsx(Mn,{}),C.map(J=>{const ae=parseFloat(J.netExtractedUsd),Ze=J.extractorFlags?.includes("heavy_extractor"),st=J.extractorFlags?.includes("net_extractor");return n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-3 text-sm items-center hover-elevate rounded-md cursor-pointer",onClick:()=>s(J.wallet),"data-testid":`row-extractor-${J.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lc,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${J.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline flex items-center gap-1",onClick:sn=>sn.stopPropagation(),"data-testid":`link-wallet-${J.id}`,children:[kt(J.wallet),n.jsx(mr,{className:"h-3 w-3"})]})]}),n.jsx("div",{className:"text-xs text-primary font-medium truncate","data-testid":`text-summoner-${J.id}`,children:J.summonerName||"*"}),n.jsx("div",{className:"text-right text-green-600 font-medium",children:tt(J.totalBridgedInUsd)}),n.jsx("div",{className:"text-right text-red-600 font-medium",children:tt(J.totalBridgedOutUsd)}),n.jsx("div",{className:`text-right font-bold ${ae>0?"text-amber-600":"text-foreground"}`,children:tt(ae)}),n.jsx("div",{className:"text-right text-muted-foreground",children:J.lastBridgeAmountUsd?tt(J.lastBridgeAmountUsd):"-"}),n.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[Ze&&n.jsx(W,{variant:"destructive",className:"text-xs",children:"Heavy"}),st&&!Ze&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Net"}),!Ze&&!st&&n.jsx(W,{variant:"outline",className:"text-xs",children:"-"})]}),n.jsx("div",{className:"text-right text-muted-foreground text-xs",children:J.lastBridgeAt?Lt(J.lastBridgeAt):"-"})]},J.id)})]})})})]})]})}const Oh={"LP Pools":"#22c55e","Staking/Governance":"#3b82f6","Bridge Contracts":"#f59e0b","System Contracts":"#8b5cf6"};function Jt(e){return e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}K`:`$${e.toFixed(2)}`}function Gt(e){return e>=1e9?`${(e/1e9).toFixed(2)}B`:e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(2)}function Th(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function age(){const[,e]=Ha(),{data:t,isLoading:r,refetch:a,isFetching:s}=_e({queryKey:["/api/admin/bridge/value-breakdown"],refetchInterval:3e5}),{data:l,isLoading:c,refetch:d}=_e({queryKey:["/api/admin/bridge/cex-liquidity"],refetchInterval:6e4}),f=()=>{Te.invalidateQueries({queryKey:["/api/admin/bridge/value-breakdown"]}),Te.invalidateQueries({queryKey:["/api/admin/bridge/cex-liquidity"]}),a(),d()},m=t?[{name:"LP Pools",value:t.summary.lpPoolsValue,color:Oh["LP Pools"]},{name:"Staking",value:t.summary.stakingValue,color:Oh["Staking/Governance"]},{name:"Bridges",value:t.summary.bridgeValue,color:Oh["Bridge Contracts"]},{name:"System",value:t.summary.systemValue,color:Oh["System Contracts"]}].filter(w=>w.value>0):[],h=m.reduce((w,C)=>w+C.value,0),g=({cx:w,cy:C,midAngle:E,innerRadius:A,outerRadius:T,percent:k,name:P})=>{if(k<.03)return null;const M=Math.PI/180,I=A+(T-A)*.5,Y=w+I*Math.cos(-E*M),L=C+I*Math.sin(-E*M);return n.jsx("text",{x:Y,y:L,fill:"white",textAnchor:"middle",dominantBaseline:"central",className:"text-xs font-medium",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:`${(k*100).toFixed(0)}%`})},v=t?.categories.find(w=>w.category==="LP Pools"),y=t?.categories.find(w=>w.category==="Staking/Governance"),N=t?.categories.find(w=>w.category==="Bridge Contracts"),b=t?.categories.find(w=>w.category==="System Contracts");return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"value-allocation-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Value Allocation"}),n.jsx("p",{className:"text-muted-foreground",children:"Complete breakdown of DFK Chain value distribution across LP pools, staking, bridges, and system contracts"})]}),n.jsxs(se,{onClick:f,disabled:s,variant:"outline","data-testid":"button-refresh",children:[n.jsx(rt,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),r?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Ae,{className:"h-80"}),n.jsx(Ae,{className:"h-80"})]}):t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{"data-testid":"card-pie-chart",children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(du,{className:"w-5 h-5"}),"Value Distribution"]}),n.jsxs(Se,{children:["Total Value Locked: ",Jt(t.summary.totalValueUSD)]})]}),n.jsx(te,{children:n.jsx("div",{className:"h-64",children:n.jsx(Ou,{width:"100%",height:"100%",children:n.jsxs(Ag,{children:[n.jsx(Rf,{data:m,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",labelLine:!1,label:g,children:m.map((w,C)=>n.jsx(ri,{fill:w.color,stroke:w.color},`cell-${C}`))}),n.jsx(bg,{formatter:w=>Jt(w),contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx(xf,{formatter:(w,C)=>{const E=m.find(T=>T.name===w),A=E&&h>0?(E.value/h*100).toFixed(1):"0";return n.jsxs("span",{className:"text-sm",children:[w," (",A,"%)"]})}})]})})})})]}),n.jsxs(X,{"data-testid":"card-summary",children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Summary"}),n.jsxs(Se,{children:["Updated: ",new Date(t.timestamp).toLocaleString()]})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border","data-testid":"card-total-usd",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value Locked"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-total-usd",children:Jt(t.summary.totalValueUSD)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"LP Pools"}),n.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"text-lp-pools-value",children:Jt(t.summary.lpPoolsValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Staking"}),n.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"text-staking-value",children:Jt(t.summary.stakingValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridges"}),n.jsx("p",{className:"text-xl font-bold text-amber-500","data-testid":"text-bridges-value",children:Jt(t.summary.bridgeValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-violet-500/10 border border-violet-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"System"}),n.jsx("p",{className:"text-xl font-bold text-violet-500","data-testid":"text-system-value",children:Jt(t.summary.systemValue)})]})]}),n.jsxs("div",{className:"pt-4 border-t space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total JEWEL Locked"}),n.jsxs("span",{className:"font-medium",children:[Gt(t.summary.totalJewelLocked)," JEWEL"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total CRYSTAL Locked"}),n.jsxs("span",{className:"font-medium",children:[Gt(t.summary.totalCrystalLocked)," CRYSTAL"]})]}),n.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL Price"}),n.jsxs("span",{className:"font-medium",children:["$",t.prices.jewel.toFixed(4),n.jsx(W,{variant:"outline",className:"ml-2 text-xs",children:t.prices.jewelSource})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL Price"}),n.jsxs("span",{className:"font-medium",children:["$",t.prices.crystal.toFixed(4),n.jsx(W,{variant:"outline",className:"ml-2 text-xs",children:t.prices.crystalSource})]})]})]})]})]})]}),n.jsxs(X,{"data-testid":"card-token-prices",children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"w-5 h-5 text-yellow-500"}),"Token Prices"]}),n.jsx(Se,{children:"Current prices used for TVL calculations"})]}),n.jsx(te,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:(t.tokenPrices??[]).map(w=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50","data-testid":`token-price-${w.symbol}`,children:[n.jsx("div",{className:"text-sm font-medium",children:w.symbol}),n.jsx("div",{className:"text-lg font-bold font-mono",children:w.price>=1?`$${w.price.toFixed(2)}`:`$${w.price.toFixed(4)}`}),n.jsx("div",{className:"text-xs text-muted-foreground",children:w.source})]},w.symbol))})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(X,{"data-testid":"card-jewel-supply",children:[n.jsxs(ie,{className:"pb-2",children:[n.jsxs(le,{className:"flex items-center gap-2 text-base",children:[n.jsx(LH,{className:"w-5 h-5 text-purple-500"}),"JEWEL Supply"]}),n.jsx(Se,{children:"Official supply from DFK API"})]}),n.jsx(te,{className:"space-y-3",children:t.jewelSupply?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Supply"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-total-supply",children:Gt(t.jewelSupply.totalSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Circulating"}),n.jsx("span",{className:"font-medium font-mono text-green-500","data-testid":"text-circulating-supply",children:Gt(t.jewelSupply.circulatingSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Locked (vesting)"}),n.jsx("span",{className:"font-medium font-mono text-blue-500","data-testid":"text-locked-supply",children:Gt(t.jewelSupply.lockedSupply)})]}),t.jewelSupply.burnedSupply>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx(sp,{className:"w-3 h-3 text-orange-500"}),"Burned"]}),n.jsx("span",{className:"font-medium font-mono text-orange-500","data-testid":"text-burned-supply",children:Gt(t.jewelSupply.burnedSupply)})]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Source: ",t.jewelSupply.source]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to fetch supply data"})})]}),n.jsxs(X,{"data-testid":"card-coverage-kpi",className:"cursor-pointer hover-elevate transition-all",onClick:()=>e("/admin/coverage-details"),children:[n.jsxs(ie,{className:"pb-2",children:[n.jsxs(le,{className:"flex items-center gap-2 text-base",children:[n.jsx(Fa,{className:"w-5 h-5 text-cyan-500"}),"Coverage KPI",n.jsxs(uu,{children:[n.jsx(fu,{onClick:w=>w.stopPropagation(),children:n.jsx(au,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(fc,{className:"max-w-xs",children:n.jsx("p",{children:"Percentage of circulating JEWEL tracked across LP pools, staking, bridges, and system contracts. Click for detailed breakdown."})})]}),n.jsx(mr,{className:"w-4 h-4 text-muted-foreground ml-auto"})]}),n.jsx(Se,{children:"Tracked JEWEL vs circulating supply"})]}),n.jsx(te,{className:"space-y-3",children:t.coverageKPI?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-center",children:[n.jsxs("p",{className:"text-3xl font-bold text-cyan-500","data-testid":"text-coverage-ratio",children:[(t.coverageKPI.coverageRatio*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Coverage Ratio"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracked JEWEL"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-tracked-jewel",children:Gt(t.coverageKPI.trackedJewel)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Circulating"}),n.jsx("span",{className:"font-medium font-mono",children:Gt(t.coverageKPI.circulatingSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-amber-600",children:[n.jsx("span",{children:"Unaccounted"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-unaccounted-jewel",children:Gt(t.coverageKPI.unaccountedJewel)})]}),n.jsx("div",{className:"text-xs text-center text-muted-foreground mt-2",children:"Click for detailed breakdown"})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to calculate coverage"})})]}),n.jsxs(X,{"data-testid":"card-burn-ledger",children:[n.jsxs(ie,{className:"pb-2",children:[n.jsxs(le,{className:"flex items-center gap-2 text-base",children:[n.jsx(sp,{className:"w-5 h-5 text-orange-500"}),"Burn Ledger",n.jsxs(uu,{children:[n.jsx(fu,{children:n.jsx(au,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(fc,{className:"max-w-xs",children:n.jsx("p",{children:"JEWEL permanently removed from circulation via burn addresses. Does NOT count toward value allocation."})})]})]}),n.jsx(Se,{children:"Deflationary token burns"})]}),n.jsx(te,{className:"space-y-3",children:t.burnData&&t.burnData.totalBurned>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 rounded-lg bg-orange-500/10 border border-orange-500/20 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-orange-500","data-testid":"text-total-burned",children:[Gt(t.burnData.totalBurned)," JEWEL"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",Jt(t.burnData.totalBurned*t.prices.jewel).replace("$","")," USD"]})]}),n.jsx("div",{className:"space-y-2",children:t.burnData.burnAddresses.map((w,C)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground font-mono text-xs",children:[w.address.slice(0,10),"..."]}),n.jsx("span",{className:"font-medium font-mono",children:Gt(w.balance)})]},w.address))}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Sources: ",t.burnData.sources.join(", ")]})]}):n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No burned JEWEL detected in standard burn addresses"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Burns may occur through other mechanisms"})]})})]})]}),n.jsxs(X,{"data-testid":"card-cex-liquidity",children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(er,{className:"w-5 h-5 text-cyan-500"}),"CEX Liquidity (Off-Chain)",n.jsxs(uu,{children:[n.jsx(fu,{children:n.jsx(au,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(fc,{className:"max-w-xs",children:n.jsxs("p",{children:["Order book depth within ",l?.depthBand||"2%"," of mid-price. This measures immediately tradable liquidity, not total CEX holdings."]})})]})]}),n.jsx(Se,{children:"JEWEL order book depth on centralized exchanges"})]}),n.jsx(te,{children:c?n.jsx(Ae,{className:"h-32"}):l?n.jsxs("div",{className:"space-y-4",children:[l.failedCount===l.totalCount?n.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center gap-3",children:[n.jsx(sr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"All CEX APIs Failed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Unable to fetch order books from any exchange. Check API connectivity."})]})]}):l.totalLiquidityUSD===0?n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border flex items-center gap-3",children:[n.jsx(au,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"No Active CEX Markets"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL is primarily traded on decentralized exchanges (DFK DEX, Trader Joe). CEX order books show no active liquidity."})]})]}):n.jsxs(n.Fragment,{children:[l.failedCount>0&&n.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20 flex items-center gap-2",children:[n.jsx(sr,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:[l.failedCount,"/",l.totalCount," exchanges failed. Totals may be incomplete."]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/20",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total CEX Liquidity (",l.depthBand,")"]}),n.jsx("p",{className:"text-2xl font-bold text-cyan-500","data-testid":"text-cex-liquidity-total",children:Jt(l.totalLiquidityUSD)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avg spread: ",l.averageSpread.toFixed(2),"%"]})]})]}),n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Exchange"}),n.jsx(V,{children:"Pair"}),n.jsx(V,{className:"text-right",children:"Mid Price"}),n.jsx(V,{className:"text-right",children:"Bid Depth"}),n.jsx(V,{className:"text-right",children:"Ask Depth"}),n.jsx(V,{className:"text-right",children:"Total"}),n.jsx(V,{className:"text-right",children:"Spread"})]})}),n.jsx(vt,{children:l.exchanges.map(w=>n.jsxs(Ee,{"data-testid":`row-cex-${w.exchange}`,children:[n.jsx(U,{className:"font-medium",children:w.exchange}),n.jsx(U,{children:w.pair}),n.jsx(U,{className:"text-right font-mono",children:w.error?n.jsx(W,{variant:"outline",className:"text-red-500",children:"Error"}):`$${w.midPrice.toFixed(4)}`}),n.jsx(U,{className:"text-right font-mono text-green-500",children:w.error?"-":Jt(w.bidDepthUSD)}),n.jsx(U,{className:"text-right font-mono text-red-500",children:w.error?"-":Jt(w.askDepthUSD)}),n.jsx(U,{className:"text-right font-mono font-bold",children:w.error?"-":Jt(w.totalDepthUSD)}),n.jsx(U,{className:"text-right",children:w.error?"-":`${w.spreadPercent.toFixed(2)}%`})]},w.exchange))})]}),n.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Updated: ",new Date(l.updatedAt).toLocaleString()]})]}):n.jsxs("div",{className:"flex items-center justify-center p-8 text-muted-foreground",children:[n.jsx(sr,{className:"w-5 h-5 mr-2"}),"Failed to load CEX data"]})})]}),n.jsxs(X,{"data-testid":"card-lp-pools",children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"w-5 h-5 text-green-500"}),"LP Pools Staked Value (V2 + V1)"]}),n.jsx(Se,{children:"Value of LP tokens staked in Master Gardener V2 and legacy V1 contracts"})]}),n.jsx(te,{children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Pool"}),n.jsx(V,{className:"text-right text-green-400",children:"24hr APR"}),n.jsx(V,{children:"Contract"}),n.jsx(V,{className:"text-right",children:"Staked Token 0"}),n.jsx(V,{className:"text-right",children:"Staked Token 1"}),n.jsx(V,{className:"text-right text-blue-400",children:"V2 Value"}),n.jsx(V,{className:"text-right text-amber-400",children:"V1 Value"}),n.jsx(V,{className:"text-right",children:"Total Staked"})]})}),n.jsxs(vt,{children:[(v?.contracts??[]).map(w=>n.jsxs(Ee,{"data-testid":`row-lp-${w.name}`,className:w.pid!==void 0?"cursor-pointer hover-elevate":"",onClick:()=>w.pid!==void 0&&e(`/admin/pools/${w.pid}`),children:[n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"secondary",className:"font-mono text-xs",children:w.token0Symbol||"TOKEN0"}),n.jsx("span",{className:"text-muted-foreground",children:"/"}),n.jsx(W,{variant:"secondary",className:"font-mono text-xs",children:w.token1Symbol||"TOKEN1"})]})}),n.jsx(U,{className:"text-right font-mono text-sm text-green-400",children:w.passive24hAPR!=null?`${w.passive24hAPR.toFixed(2)}%`:"-"}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",onClick:C=>C.stopPropagation(),children:[Th(w.address),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{children:Gt(w.token0Balance||0)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:w.token0Symbol})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{children:Gt(w.token1Balance||0)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:w.token1Symbol})]})}),n.jsx(U,{className:"text-right text-sm text-blue-400 font-mono",children:Jt(w.v2ValueUSD||0)}),n.jsx(U,{className:"text-right text-sm text-amber-400 font-mono",children:Jt(w.v1ValueUSD||0)}),n.jsx(U,{className:"text-right font-medium",children:Jt(w.totalValueUSD)})]},w.address)),n.jsxs(Ee,{className:"bg-green-500/5 font-medium",children:[n.jsx(U,{colSpan:5,children:"Total Staked LP"}),n.jsx(U,{className:"text-right text-blue-400",children:Jt((v?.contracts??[]).reduce((w,C)=>w+(C.v2ValueUSD||0),0))}),n.jsx(U,{className:"text-right text-amber-400",children:Jt((v?.contracts??[]).reduce((w,C)=>w+(C.v1ValueUSD||0),0))}),n.jsx(U,{className:"text-right text-green-500",children:Jt(v?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(X,{"data-testid":"card-staking",children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(gj,{className:"w-5 h-5 text-blue-500"}),"Staking / Governance Breakdown"]}),n.jsx(Se,{children:"Locked tokens in governance and staking contracts"})]}),n.jsx(te,{children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Contract Name"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"CRYSTAL"}),n.jsx(V,{className:"text-right",children:"Total USD"})]})}),n.jsxs(vt,{children:[(y?.contracts??[]).map(w=>n.jsxs(Ee,{"data-testid":`row-staking-${w.name}`,children:[n.jsx(U,{className:"font-medium",children:w.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Th(w.address),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Gt(w.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Gt(w.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:Jt(w.totalValueUSD)})]},w.address)),n.jsxs(Ee,{className:"bg-blue-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total Staking"}),n.jsx(U,{className:"text-right font-mono",children:Gt(y?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Gt(y?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-blue-500",children:Jt(y?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(X,{"data-testid":"card-bridges",children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(vc,{className:"w-5 h-5 text-amber-500"}),"Bridge Contracts Breakdown"]}),n.jsx(Se,{children:"Tokens held in cross-chain bridge contracts"})]}),n.jsx(te,{children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Contract Name"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"CRYSTAL"}),n.jsx(V,{className:"text-right",children:"Total USD"})]})}),n.jsxs(vt,{children:[(N?.contracts??[]).map(w=>n.jsxs(Ee,{"data-testid":`row-bridge-${w.name}`,children:[n.jsx(U,{className:"font-medium",children:w.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Th(w.address),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Gt(w.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Gt(w.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:Jt(w.totalValueUSD)})]},w.address)),n.jsxs(Ee,{className:"bg-amber-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total Bridges"}),n.jsx(U,{className:"text-right font-mono",children:Gt(N?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Gt(N?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-amber-500",children:Jt(N?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(X,{"data-testid":"card-system",children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(lM,{className:"w-5 h-5 text-violet-500"}),"System Contracts Breakdown"]}),n.jsx(Se,{children:"Tokens held in game system and operational contracts"})]}),n.jsx(te,{children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Contract Name"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"CRYSTAL"}),n.jsx(V,{className:"text-right",children:"Total USD"})]})}),n.jsxs(vt,{children:[(b?.contracts??[]).map(w=>n.jsxs(Ee,{"data-testid":`row-system-${w.name}`,children:[n.jsx(U,{className:"font-medium",children:w.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Th(w.address),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Gt(w.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Gt(w.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:Jt(w.totalValueUSD)})]},w.address)),n.jsxs(Ee,{className:"bg-violet-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total System"}),n.jsx(U,{className:"text-right font-mono",children:Gt(b?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Gt(b?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-violet-500",children:Jt(b?.totalValueUSD||0)})]})]})]})})]})]}):n.jsx(X,{children:n.jsx(te,{className:"py-10 text-center text-muted-foreground",children:"Failed to load value breakdown data"})})]})}const Ur={"LP Pools":"#22c55e","Staking/Governance":"#3b82f6","Bridge Contracts":"#f59e0b","System Contracts":"#8b5cf6","Multi-Chain":"#ec4899",Burned:"#ef4444","Team Wallets":"#a855f7",Liquid:"#06b6d4",Unaccounted:"#6b7280"};function Rs(e){return e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(2)}function sge(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function ige(){const[,e]=Ha(),{data:t,isLoading:r,refetch:a,isFetching:s}=_e({queryKey:["/api/admin/bridge/value-breakdown"],staleTime:6e4,refetchOnWindowFocus:!1}),l=[];let c=0;if(t){const m=t.coverageBreakdown;if(t.coverageKPI,m){if(m.pooled.total>0){const g=[];if(m.pooled.contracts&&m.pooled.contracts.length>0)for(const v of m.pooled.contracts)g.push({name:`[${v.chain}] ${v.name}`,address:v.address,jewel:v.jewelReserves});l.push({name:"LP Pools (Full Reserves)",jewel:m.pooled.total,percentage:0,icon:xu,color:Ur["LP Pools"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.pooled.total}if(m.locked.total>0){const g=[];m.locked.cJewel>0&&g.push({name:"cJEWEL (Staking)",address:"0x9ed2c155632C042CB8bC20634571fF1CA26f5742",jewel:m.locked.cJewel}),m.locked.systemContracts>0&&g.push({name:"System Contracts",address:"Various",jewel:m.locked.systemContracts}),l.push({name:"Locked JEWEL (DFK Chain)",jewel:m.locked.total,percentage:0,icon:gj,color:Ur["Staking/Governance"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.locked.total}if(m.locked.bridgeContracts>0&&l.push({name:"Bridge Contracts (Ref Only)",jewel:m.locked.bridgeContracts,percentage:0,icon:vc,color:Ur["Bridge Contracts"],contracts:[{name:"Synapse Bridge (DFK)",address:"0x52285D426120aB91F378B3dF4A15a036A62200aE",jewel:m.locked.bridgeContracts}],excludedFromTotal:!0}),m.multiChain.total>0){const g=[];if(m.multiChain.wallets&&m.multiChain.wallets.length>0)for(const v of m.multiChain.wallets)g.push({name:`[${v.chain}] ${v.name}`,address:v.address,jewel:v.jewelBalance});else m.multiChain.harmonyBridge>0&&g.push({name:"Harmony Bridge",address:"Harmony Chain",jewel:m.multiChain.harmonyBridge}),m.multiChain.kaiaBridge>0&&g.push({name:"Kaia Bridge",address:"Kaia Chain",jewel:m.multiChain.kaiaBridge}),m.multiChain.metisBridge>0&&g.push({name:"Metis Bridge",address:"Metis Chain",jewel:m.multiChain.metisBridge}),m.multiChain.avalancheBridge>0&&g.push({name:"Avalanche Bridge",address:"Avalanche C-Chain",jewel:m.multiChain.avalancheBridge});l.push({name:"Multi-Chain Bridges (Liquid)",jewel:m.multiChain.total,percentage:0,icon:AP,color:Ur["Multi-Chain"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.multiChain.total}if(m.burned.total>0){const g=m.burned.addresses.map(v=>({name:v.address==="0x0000000000000000000000000000000000000000"?"Zero Address":v.address.toLowerCase().includes("dead")?"Dead Address":"Burn Address",address:v.address,jewel:v.balance}));l.push({name:"Burned JEWEL",jewel:m.burned.total,percentage:0,icon:sp,color:Ur.Burned,contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.burned.total}if(m.teamWallets&&m.teamWallets.total>0){const g=[];for(const v of m.teamWallets.categories)for(const y of v.wallets)y.balance>0&&g.push({name:`[${v.name}] ${y.name}`,address:y.address,jewel:y.balance});l.push({name:"Team Wallets",jewel:m.teamWallets.total,percentage:0,icon:Rr,color:Ur["Team Wallets"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.teamWallets.total}m.liquid.estimated>0&&(l.push({name:"Liquid JEWEL (Est.)",jewel:m.liquid.estimated,percentage:0,icon:Lc,color:Ur.Liquid,contracts:[{name:"User Wallets & CEX",address:"Various",jewel:m.liquid.estimated}]}),c+=m.liquid.estimated)}else{const g=t.categories.find(b=>b.category==="LP Pools");if(g){let b=0;const w=[];for(const C of g.contracts){let E=0;C.token0Symbol==="wJEWEL"&&(E+=C.token0Balance||0),C.token1Symbol==="wJEWEL"&&(E+=C.token1Balance||0),E>0&&(b+=E,w.push({name:C.name,address:C.address,jewel:E}))}b>0&&(l.push({name:"LP Pools (wJEWEL)",jewel:b,percentage:0,icon:xu,color:Ur["LP Pools"],contracts:w.sort((C,E)=>E.jewel-C.jewel)}),c+=b)}const v=t.categories.find(b=>b.category==="Staking/Governance");v&&v.totalJewel>0&&(l.push({name:"Staking (cJEWEL)",jewel:v.totalJewel,percentage:0,icon:gj,color:Ur["Staking/Governance"],contracts:v.contracts.filter(b=>b.jewelBalance>0).map(b=>({name:b.name,address:b.address,jewel:b.jewelBalance})).sort((b,w)=>w.jewel-b.jewel)}),c+=v.totalJewel);const y=t.categories.find(b=>b.category==="Bridge Contracts");y&&y.totalJewel>0&&(l.push({name:"Bridge Contracts",jewel:y.totalJewel,percentage:0,icon:vc,color:Ur["Bridge Contracts"],contracts:y.contracts.filter(b=>b.jewelBalance>0).map(b=>({name:b.name,address:b.address,jewel:b.jewelBalance})).sort((b,w)=>w.jewel-b.jewel)}),c+=y.totalJewel);const N=t.categories.find(b=>b.category==="System Contracts");if(N&&N.totalJewel>0&&(l.push({name:"System Contracts",jewel:N.totalJewel,percentage:0,icon:lM,color:Ur["System Contracts"],contracts:N.contracts.filter(b=>b.jewelBalance>0).map(b=>({name:b.name,address:b.address,jewel:b.jewelBalance})).sort((b,w)=>w.jewel-b.jewel)}),c+=N.totalJewel),t.multiChainBalances&&t.multiChainBalances.length>0){let b=0;const w=[];for(const C of t.multiChainBalances)if(C.status==="success"){const E=C.totalJewel;E>0&&(b+=E,w.push({name:`${C.chain} (Bridge)`,address:C.tokenAddress,jewel:E}))}b>0&&(l.push({name:"Multi-Chain Bridges (Liquid)",jewel:b,percentage:0,icon:AP,color:Ur["Multi-Chain"],contracts:w.sort((C,E)=>E.jewel-C.jewel)}),c+=b)}}const h=t.jewelSupply?.circulatingSupply||c;for(const g of l)g.percentage=h>0?g.jewel/h*100:0}const d=l.filter(m=>!m.excludedFromTotal).map(m=>({name:m.name,value:m.jewel,color:m.color})),f=()=>{Te.invalidateQueries({queryKey:["/api/admin/bridge/value-breakdown"]}),a()};return r?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Ae,{className:"h-8 w-8"}),n.jsx(Ae,{className:"h-8 w-64"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ae,{className:"h-[400px]"}),n.jsx(Ae,{className:"h-[400px]"})]})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(se,{variant:"ghost",size:"icon","data-testid":"button-back",onClick:()=>e("/admin/value-allocation"),children:n.jsx(Wi,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Fa,{className:"w-6 h-6 text-cyan-500"}),"Coverage Breakdown"]}),n.jsx("p",{className:"text-muted-foreground",children:"Detailed view of tracked JEWEL across all sources"})]})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:f,disabled:s,"data-testid":"button-refresh",children:[n.jsx(rt,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),t?.coverageKPI&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{"data-testid":"card-coverage-ratio",children:n.jsx(te,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-4xl font-bold text-cyan-500",children:[(t.coverageKPI.coverageRatio*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coverage Ratio"})]})})}),n.jsx(X,{"data-testid":"card-tracked-total",children:n.jsx(te,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-500 font-mono",children:Rs(t.coverageKPI.trackedJewel)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tracked JEWEL"})]})})}),n.jsx(X,{"data-testid":"card-circulating",children:n.jsx(te,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold font-mono",children:Rs(t.coverageKPI.circulatingSupply)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Circulating Supply"})]})})}),n.jsx(X,{"data-testid":"card-unaccounted",children:n.jsx(te,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-500 font-mono",children:Rs(t.coverageKPI.unaccountedJewel)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Unaccounted"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{"data-testid":"card-distribution-chart",children:[n.jsxs(ie,{children:[n.jsx(le,{children:"JEWEL Distribution by Source"}),n.jsx(Se,{children:"Visual breakdown of tracked JEWEL across categories"})]}),n.jsx(te,{children:n.jsx("div",{className:"h-[350px]",children:n.jsx(Ou,{width:"100%",height:"100%",children:n.jsxs(Ag,{children:[n.jsx(Rf,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,dataKey:"value",nameKey:"name",label:({name:m,percent:h})=>`${(m||"").split(" ")[0]} ${((h||0)*100).toFixed(0)}%`,labelLine:!1,children:d.map((m,h)=>n.jsx(ri,{fill:m.color},`cell-${h}`))}),n.jsx(bg,{formatter:m=>[Rs(m),"JEWEL"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx(xf,{})]})})})})]}),n.jsxs(X,{"data-testid":"card-source-breakdown",children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Breakdown by Source"}),n.jsx(Se,{children:"JEWEL allocation across different contract types"})]}),n.jsxs(te,{className:"space-y-4",children:[l.filter(m=>!m.excludedFromTotal).map(m=>{const h=m.icon;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),n.jsx(h,{className:"w-4 h-4",style:{color:m.color}}),n.jsx("span",{className:"font-medium",children:m.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-mono font-medium",children:Rs(m.jewel)}),n.jsxs(W,{variant:"secondary",className:"ml-2",children:[m.percentage.toFixed(1),"%"]})]})]}),n.jsx(Xt,{value:m.percentage,className:"h-2",style:{"--progress-color":m.color}})]},m.name)}),l.filter(m=>m.excludedFromTotal).map(m=>{const h=m.icon;return n.jsxs("div",{className:"space-y-2 pt-2 border-t border-dashed opacity-70",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-dashed",style:{borderColor:m.color}}),n.jsx(h,{className:"w-4 h-4",style:{color:m.color}}),n.jsx("span",{className:"font-medium",children:m.name}),n.jsx(W,{variant:"outline",className:"text-xs",children:"Excluded"})]}),n.jsx("div",{className:"text-right",children:n.jsx("span",{className:"font-mono font-medium text-muted-foreground",children:Rs(m.jewel)})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Already counted in multi-chain totals (bridged to other chains)"})]},m.name)}),t?.coverageKPI&&t.coverageKPI.unaccountedJewel>0&&n.jsx("div",{className:"space-y-2 pt-2 border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ur.Unaccounted}}),n.jsx("span",{className:"font-medium text-muted-foreground",children:"Unaccounted"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-mono font-medium text-amber-500",children:Rs(t.coverageKPI.unaccountedJewel)}),n.jsxs(W,{variant:"outline",className:"ml-2 border-amber-500/50 text-amber-500",children:[(t.coverageKPI.unaccountedJewel/t.coverageKPI.circulatingSupply*100).toFixed(1),"%"]})]})]})})]})]})]}),n.jsx("div",{className:"space-y-6",children:l.map(m=>{const h=m.icon;return n.jsxs(X,{"data-testid":`card-contracts-${m.name.toLowerCase().replace(/[^a-z]/g,"-")}`,children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(h,{className:"w-5 h-5",style:{color:m.color}}),m.name,n.jsxs(W,{style:{backgroundColor:m.color,color:"white"},children:[Rs(m.jewel)," JEWEL"]})]}),n.jsxs(Se,{children:[m.contracts.length," contract",m.contracts.length!==1?"s":""," tracked"]})]}),n.jsx(te,{children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Contract"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"% of Source"})]})}),n.jsxs(vt,{children:[m.contracts.slice(0,10).map(g=>n.jsxs(Ee,{children:[n.jsx(U,{className:"font-medium",children:g.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${g.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground",children:[n.jsx("span",{className:"font-mono text-sm",children:sge(g.address)}),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono",children:Rs(g.jewel)}),n.jsx(U,{className:"text-right",children:n.jsxs(W,{variant:"outline",children:[(g.jewel/m.jewel*100).toFixed(1),"%"]})})]},g.address)),m.contracts.length>10&&n.jsx(Ee,{children:n.jsxs(U,{colSpan:4,className:"text-center text-muted-foreground",children:["... and ",m.contracts.length-10," more contracts"]})})]})]})})]},m.name)})}),t&&n.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Last updated: ",new Date(t.timestamp).toLocaleString()," | JEWEL Price: $",t.prices.jewel.toFixed(4)," (",t.prices.jewelSource,")"]})]})}function tF(e){const t=lge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(cge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function lge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=uge(s),d=dge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oge=Symbol("radix.slottable");function cge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oge}function dge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function uge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Df=fge.reduce((e,t)=>{const r=tF(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Pg="Dialog",[nF,rF]=xr(Pg),[mge,qa]=nF(Pg),aF=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,d=p.useRef(null),f=p.useRef(null),[m,h]=Zr({prop:a,defaultProp:s??!1,onChange:l,caller:Pg});return n.jsx(mge,{scope:t,triggerRef:d,contentRef:f,contentId:Ia(),titleId:Ia(),descriptionId:Ia(),open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(g=>!g),[h]),modal:c,children:r})};aF.displayName=Pg;var sF="DialogTrigger",iF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=qa(sF,r),l=et(t,s.triggerRef);return n.jsx(Df.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":PS(s.open),...a,ref:l,onClick:$e(e.onClick,s.onOpenToggle)})});iF.displayName=sF;var ES="DialogPortal",[hge,lF]=nF(ES,{forceMount:void 0}),oF=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,l=qa(ES,t);return n.jsx(hge,{scope:t,forceMount:r,children:p.Children.map(a,c=>n.jsx(ta,{present:r||l.open,children:n.jsx(px,{asChild:!0,container:s,children:c})}))})};oF.displayName=ES;var dx="DialogOverlay",cF=p.forwardRef((e,t)=>{const r=lF(dx,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=qa(dx,e.__scopeDialog);return l.modal?n.jsx(ta,{present:a||l.open,children:n.jsx(xge,{...s,ref:t})}):null});cF.displayName=dx;var pge=tF("DialogOverlay.RemoveScroll"),xge=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=qa(dx,r);return n.jsx(g1,{as:pge,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(Df.div,{"data-state":PS(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),lo="DialogContent",dF=p.forwardRef((e,t)=>{const r=lF(lo,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=qa(lo,e.__scopeDialog);return n.jsx(ta,{present:a||l.open,children:l.modal?n.jsx(gge,{...s,ref:t}):n.jsx(vge,{...s,ref:t})})});dF.displayName=lo;var gge=p.forwardRef((e,t)=>{const r=qa(lo,e.__scopeDialog),a=p.useRef(null),s=et(t,r.contentRef,a);return p.useEffect(()=>{const l=a.current;if(l)return ED(l)},[]),n.jsx(uF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:$e(e.onFocusOutside,l=>l.preventDefault())})}),vge=p.forwardRef((e,t)=>{const r=qa(lo,e.__scopeDialog),a=p.useRef(!1),s=p.useRef(!1);return n.jsx(uF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),uF=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,...c}=e,d=qa(lo,r),f=p.useRef(null),m=et(t,f);return wD(),n.jsxs(n.Fragment,{children:[n.jsx(x1,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l,children:n.jsx(Zu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":PS(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(bge,{titleId:d.titleId}),n.jsx(wge,{contentRef:f,descriptionId:d.descriptionId})]})]})}),AS="DialogTitle",fF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=qa(AS,r);return n.jsx(Df.h2,{id:s.titleId,...a,ref:t})});fF.displayName=AS;var mF="DialogDescription",hF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=qa(mF,r);return n.jsx(Df.p,{id:s.descriptionId,...a,ref:t})});hF.displayName=mF;var pF="DialogClose",xF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=qa(pF,r);return n.jsx(Df.button,{type:"button",...a,ref:t,onClick:$e(e.onClick,()=>s.onOpenChange(!1))})});xF.displayName=pF;function PS(e){return e?"open":"closed"}var gF="DialogTitleWarning",[yge,vF]=BU(gF,{contentName:lo,titleName:AS,docsSlug:"dialog"}),bge=({titleId:e})=>{const t=vF(gF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jge="DialogDescriptionWarning",wge=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vF(jge).contentName}}.`;return p.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},yF=aF,bF=iF,jF=oF,OS=cF,TS=dF,kS=fF,_S=hF,RS=xF;const qi=yF,Nge=bF,Sge=jF,wF=p.forwardRef(({className:e,...t},r)=>n.jsx(OS,{ref:r,className:Re("fixed inset-0 z-[9998] bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wF.displayName=OS.displayName;const Hs=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Sge,{children:[n.jsx(wF,{}),n.jsxs(TS,{ref:a,style:{backgroundColor:"hsl(220, 13%, 20%)"},className:Re("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(RS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(n1,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hs.displayName=TS.displayName;const Vs=({className:e,...t})=>n.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vs.displayName="DialogHeader";const oo=({className:e,...t})=>n.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});oo.displayName="DialogFooter";const qs=p.forwardRef(({className:e,...t},r)=>n.jsx(kS,{ref:r,className:Re("text-lg font-semibold leading-none tracking-tight",e),...t}));qs.displayName=kS.displayName;const Ks=p.forwardRef(({className:e,...t},r)=>n.jsx(_S,{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));Ks.displayName=_S.displayName;const Cge=["draft","validated","deployed","deprecated"],Ege=["tiered","binary","milestone"],Age={hero_progression:Or,economy_strategy:Tr,profession_specialization:rM,ownership_collection:Ws,behavior_engagement:Rr,seasonal_events:Xw,prestige_overall:e1,summoning_prestige:rf},Pge={draft:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",validated:"bg-blue-500/20 text-blue-500 border-blue-500/30",deployed:"bg-green-500/20 text-green-500 border-green-500/30",deprecated:"bg-gray-500/20 text-gray-500 border-gray-500/30"},NF={draft:Yi,validated:Zw,deployed:Jw,deprecated:dc};function Oge({state:e}){const t=Pge[e]||"bg-muted text-muted-foreground",r=NF[e]||sr;return n.jsxs(W,{variant:"outline",className:`text-xs ${t} gap-1`,"data-testid":`badge-state-${e}`,children:[n.jsx(r,{className:"w-3 h-3"}),e.toUpperCase()]})}function Tge(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Ae,{className:"h-10 w-64"}),n.jsx(Ae,{className:"h-10 w-32"}),n.jsx(Ae,{className:"h-10 w-32"}),n.jsx(Ae,{className:"h-10 w-32"})]}),n.jsx(X,{children:n.jsx(te,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>n.jsx(Ae,{className:"h-12 w-full"},e))})})})]})}function kge(){const[,e]=Ha(),{toast:t}=fn(),[r,a]=p.useState(""),[s,l]=p.useState(""),[c,d]=p.useState(""),[f,m]=p.useState(""),[h,g]=p.useState(null),[v,y]=p.useState(!1),N=()=>{const P=new URLSearchParams;s&&P.append("state",s),c&&P.append("category",c),f&&P.append("type",f),r&&P.append("search",r);const M=P.toString();return M?`?${M}`:""},{data:b,isLoading:w,error:C}=_e({queryKey:["/api/admin/challenges",s,c,f,r],queryFn:async()=>{const P=await fetch(`/api/admin/challenges${N()}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch challenges");return P.json()}}),{data:E}=_e({queryKey:["/api/admin/challenge-categories"],queryFn:async()=>{const P=await fetch("/api/admin/challenge-categories",{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch categories");return P.json()}}),A=Oe({mutationFn:async P=>{const M=await fetch(`/api/admin/challenges/${P}`,{method:"DELETE",credentials:"include"});if(!M.ok)throw new Error("Failed to delete challenge");return M.json()},onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/challenges"]}),t({title:"Challenge deprecated",description:"The challenge has been marked as deprecated."}),g(null)},onError:P=>{t({title:"Error",description:P.message,variant:"destructive"})}}),T=Oe({mutationFn:async()=>{const P=await fetch("/api/admin/etl/trigger",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"incremental"})});if(!P.ok)throw new Error("Failed to trigger ETL");return P.json()},onSuccess:P=>{P.success===!1?t({title:"ETL Not Started",description:P.message||"ETL could not be started",variant:"destructive"}):t({title:"ETL Complete",description:P.message||"Challenge progress updated from blockchain data"})},onError:P=>{t({title:"ETL Failed",description:P.message,variant:"destructive"})}}),k={draft:b?.filter(P=>P.state==="draft").length||0,validated:b?.filter(P=>P.state==="validated").length||0,deployed:b?.filter(P=>P.state==="deployed").length||0,deprecated:b?.filter(P=>P.state==="deprecated").length||0};return w?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Challenge Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading challenges..."})]}),n.jsx(Tge,{})]}):C?n.jsx("div",{className:"p-6",children:n.jsx(X,{className:"border-destructive",children:n.jsxs(ie,{children:[n.jsx(le,{className:"text-destructive",children:"Error Loading Challenges"}),n.jsx(Se,{children:C instanceof Error?C.message:"Failed to load challenges"})]})})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Challenge Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage challenge definitions, validation, and deployment"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(se,{variant:"outline",onClick:()=>T.mutate(),disabled:T.isPending,"data-testid":"button-refresh-etl",children:[T.isPending?n.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(rt,{className:"w-4 h-4 mr-2"}),"Refresh Progress"]}),n.jsxs(se,{onClick:()=>y(!0),"data-testid":"button-create-challenge",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"}),"New Challenge"]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Cge.map(P=>{const M=NF[P],I=k[P];return n.jsx(X,{className:`cursor-pointer hover-elevate ${s===P?"ring-2 ring-primary":""}`,onClick:()=>l(s===P?"":P),"data-testid":`card-state-filter-${P}`,children:n.jsx(ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(le,{className:"text-sm font-medium capitalize flex items-center gap-2",children:[n.jsx(M,{className:"w-4 h-4"}),P]}),n.jsx(W,{variant:"secondary",children:I})]})})},P)})}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Xe,{placeholder:"Search by code or name...",value:r,onChange:P=>a(P.target.value),className:"pl-10","data-testid":"input-search"})]}),n.jsxs(dt,{value:c||"all",onValueChange:P=>d(P==="all"?"":P),children:[n.jsx(lt,{className:"w-[180px]","data-testid":"select-category",children:n.jsx(ut,{placeholder:"All Categories"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"all",children:"All Categories"}),E?.map(P=>n.jsx(be,{value:P.key,children:P.name},P.key))]})]}),n.jsxs(dt,{value:f||"all",onValueChange:P=>m(P==="all"?"":P),children:[n.jsx(lt,{className:"w-[150px]","data-testid":"select-type",children:n.jsx(ut,{placeholder:"All Types"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"all",children:"All Types"}),Ege.map(P=>n.jsx(be,{value:P,children:P},P))]})]}),(s||c||f||r)&&n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{l(""),d(""),m(""),a("")},"data-testid":"button-clear-filters",children:"Clear Filters"})]}),n.jsx(X,{children:n.jsx(te,{className:"p-0",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-[200px]",children:"Code"}),n.jsx(V,{children:"Name"}),n.jsx(V,{children:"Category"}),n.jsx(V,{children:"Type"}),n.jsx(V,{children:"State"}),n.jsx(V,{children:"Visibility"}),n.jsx(V,{className:"text-right",children:"Actions"})]})}),n.jsxs(vt,{children:[b?.length===0&&n.jsx(Ee,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No challenges found. Create your first challenge!"})}),b?.map(P=>{const M=Age[P.category]||Yr;return n.jsxs(Ee,{"data-testid":`row-challenge-${P.id}`,children:[n.jsx(U,{className:"font-mono text-sm",children:P.code}),n.jsx(U,{className:"font-medium",children:P.name}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(M,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:P.category})]})}),n.jsx(U,{children:n.jsx(W,{variant:"outline",className:"text-xs",children:P.type})}),n.jsx(U,{children:n.jsx(Oge,{state:P.state})}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[P.isVisibleFe?n.jsxs(W,{variant:"secondary",className:"text-xs gap-1",children:[n.jsx(yc,{className:"w-3 h-3"})," Visible"]}):n.jsxs(W,{variant:"outline",className:"text-xs gap-1 text-muted-foreground",children:[n.jsx(Il,{className:"w-3 h-3"})," Hidden"]}),P.isTestOnly&&n.jsx(W,{variant:"outline",className:"text-xs text-amber-500 border-amber-500/30",children:"Test"})]})}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/challenges/${P.id}`),"data-testid":`button-view-${P.id}`,children:n.jsx(yc,{className:"w-4 h-4"})}),P.state!=="deployed"&&P.state!=="deprecated"&&n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/challenges/${P.id}/edit`),"data-testid":`button-edit-${P.id}`,children:n.jsx(Yi,{className:"w-4 h-4"})}),P.state!=="deprecated"&&n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>g(P),"data-testid":`button-delete-${P.id}`,children:n.jsx(t1,{className:"w-4 h-4 text-destructive"})})]})})]},P.id)})]})]})})}),n.jsx(qi,{open:!!h,onOpenChange:()=>g(null),children:n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Deprecate Challenge"}),n.jsxs(Ks,{children:['Are you sure you want to deprecate "',h?.name,'"? This will hide it from the frontend and mark it as inactive.']})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>g(null),children:"Cancel"}),n.jsx(se,{variant:"destructive",onClick:()=>h&&A.mutate(h.id),disabled:A.isPending,"data-testid":"button-confirm-delete",children:A.isPending?"Deprecating...":"Deprecate"})]})]})}),n.jsx(qi,{open:v,onOpenChange:y,children:n.jsxs(Hs,{className:"max-w-2xl",children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Create New Challenge"}),n.jsx(Ks,{children:"Define a new challenge. It will start in draft state."})]}),n.jsx(_ge,{categories:E||[],onSuccess:()=>{y(!1),Te.invalidateQueries({queryKey:["/api/admin/challenges"]})}})]})})]})}function _ge({categories:e,onSuccess:t}){const{toast:r}=fn(),[a,s]=p.useState({code:"",name:"",category:"hero_progression",type:"tiered",descriptionShort:"",metricType:"integer",metricSource:"onchain_heroes",metricKey:""}),l=Oe({mutationFn:async d=>{const f=await fetch("/api/admin/challenges",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(d)});if(!f.ok){const m=await f.json();throw new Error(m.error||"Failed to create challenge")}return f.json()},onSuccess:()=>{r({title:"Challenge created",description:"The challenge has been created in draft state."}),t()},onError:d=>{r({title:"Error",description:d.message,variant:"destructive"})}}),c=d=>{d.preventDefault(),l.mutate(a)};return n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Code (unique key)"}),n.jsx(Xe,{placeholder:"e.g., hero_count_10",value:a.code,onChange:d=>s({...a,code:d.target.value}),required:!0,"data-testid":"input-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),n.jsx(Xe,{placeholder:"e.g., Hero Collector",value:a.name,onChange:d=>s({...a,name:d.target.value}),required:!0,"data-testid":"input-name"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(dt,{value:a.category,onValueChange:d=>s({...a,category:d}),children:[n.jsx(lt,{"data-testid":"select-form-category",children:n.jsx(ut,{})}),n.jsx(ot,{children:e.map(d=>n.jsx(be,{value:d.key,children:d.name},d.key))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Challenge Type"}),n.jsxs(dt,{value:a.type,onValueChange:d=>s({...a,type:d}),children:[n.jsx(lt,{"data-testid":"select-form-type",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"tiered",children:"Tiered (multi-level)"}),n.jsx(be,{value:"binary",children:"Binary (yes/no)"}),n.jsx(be,{value:"milestone",children:"Milestone (one-time)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Short Description"}),n.jsx(Xe,{placeholder:"Brief description for UI display",value:a.descriptionShort,onChange:d=>s({...a,descriptionShort:d.target.value}),"data-testid":"input-description"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),n.jsxs(dt,{value:a.metricType,onValueChange:d=>s({...a,metricType:d}),children:[n.jsx(lt,{"data-testid":"select-metric-type",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"integer",children:"Integer"}),n.jsx(be,{value:"decimal",children:"Decimal"}),n.jsx(be,{value:"boolean",children:"Boolean"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Source"}),n.jsxs(dt,{value:a.metricSource,onValueChange:d=>s({...a,metricSource:d}),children:[n.jsx(lt,{"data-testid":"select-metric-source",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"onchain_heroes",children:"On-chain: Heroes"}),n.jsx(be,{value:"onchain_quests",children:"On-chain: Quests"}),n.jsx(be,{value:"onchain_summons",children:"On-chain: Summons"}),n.jsx(be,{value:"onchain_pets",children:"On-chain: Pets"}),n.jsx(be,{value:"onchain_meditation",children:"On-chain: Meditation"}),n.jsx(be,{value:"onchain_gardens",children:"On-chain: Gardens"}),n.jsx(be,{value:"onchain_portfolio",children:"On-chain: Portfolio"}),n.jsx(be,{value:"behavior_model",children:"Behavior Model"}),n.jsx(be,{value:"discord_interactions",children:"Discord Activity"}),n.jsx(be,{value:"payment_events",children:"Payment Events"}),n.jsx(be,{value:"event_progress",children:"Event Progress"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Key"}),n.jsx(Xe,{placeholder:"e.g., heroCount",value:a.metricKey,onChange:d=>s({...a,metricKey:d.target.value}),required:!0,"data-testid":"input-metric-key"})]})]}),n.jsx(oo,{children:n.jsx(se,{type:"submit",disabled:l.isPending,"data-testid":"button-submit-create",children:l.isPending?"Creating...":"Create Challenge"})})]})}const hu=p.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));hu.displayName="Textarea";function Rge(e){const t=Mge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Lge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Mge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=$ge(s),d=Ige(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Dge=Symbol("radix.slottable");function Lge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dge}function Ige(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function $ge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Fge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],MS=Fge.reduce((e,t)=>{const r=Rge(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Og="Checkbox",[zge]=xr(Og),[Bge,DS]=zge(Og);function Uge(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:l,form:c,name:d,onCheckedChange:f,required:m,value:h="on",internal_do_not_use_render:g}=e,[v,y]=Zr({prop:r,defaultProp:s??!1,onChange:f,caller:Og}),[N,b]=p.useState(null),[w,C]=p.useState(null),E=p.useRef(!1),A=N?!!c||!!N.closest("form"):!0,T={checked:v,disabled:l,setChecked:y,control:N,setControl:b,name:d,form:c,value:h,hasConsumerStoppedPropagationRef:E,required:m,defaultChecked:Ki(s)?!1:s,isFormControl:A,bubbleInput:w,setBubbleInput:C};return n.jsx(Bge,{scope:t,...T,children:Hge(g)?g(T):a})}var SF="CheckboxTrigger",CF=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},s)=>{const{control:l,value:c,disabled:d,checked:f,required:m,setControl:h,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:N}=DS(SF,e),b=et(s,h),w=p.useRef(f);return p.useEffect(()=>{const C=l?.form;if(C){const E=()=>g(w.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[l,g]),n.jsx(MS.button,{type:"button",role:"checkbox","aria-checked":Ki(f)?"mixed":f,"aria-required":m,"data-state":TF(f),"data-disabled":d?"":void 0,disabled:d,value:c,...a,ref:b,onKeyDown:$e(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:$e(r,C=>{g(E=>Ki(E)?!0:!E),N&&y&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})})});CF.displayName=SF;var LS=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:l,required:c,disabled:d,value:f,onCheckedChange:m,form:h,...g}=e;return n.jsx(Uge,{__scopeCheckbox:r,checked:s,defaultChecked:l,disabled:d,required:c,onCheckedChange:m,name:a,form:h,value:f,internal_do_not_use_render:({isFormControl:v})=>n.jsxs(n.Fragment,{children:[n.jsx(CF,{...g,ref:t,__scopeCheckbox:r}),v&&n.jsx(OF,{__scopeCheckbox:r})]})})});LS.displayName=Og;var EF="CheckboxIndicator",AF=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,l=DS(EF,r);return n.jsx(ta,{present:a||Ki(l.checked)||l.checked===!0,children:n.jsx(MS.span,{"data-state":TF(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});AF.displayName=EF;var PF="CheckboxBubbleInput",OF=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:l,defaultChecked:c,required:d,disabled:f,name:m,value:h,form:g,bubbleInput:v,setBubbleInput:y}=DS(PF,e),N=et(r,y),b=Px(l),w=Nx(a);p.useEffect(()=>{const E=v;if(!E)return;const A=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(A,"checked").set,P=!s.current;if(b!==l&&k){const M=new Event("click",{bubbles:P});E.indeterminate=Ki(l),k.call(E,Ki(l)?!1:l),E.dispatchEvent(M)}},[v,b,l,s]);const C=p.useRef(Ki(l)?!1:l);return n.jsx(MS.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??C.current,required:d,disabled:f,name:m,value:h,form:g,...t,tabIndex:-1,ref:N,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});OF.displayName=PF;function Hge(e){return typeof e=="function"}function Ki(e){return e==="indeterminate"}function TF(e){return Ki(e)?"indeterminate":e?"checked":"unchecked"}const ux=p.forwardRef(({className:e,...t},r)=>n.jsx(LS,{ref:r,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(AF,{className:Re("flex items-center justify-center text-current"),children:n.jsx(X4,{className:"h-4 w-4"})})}));ux.displayName=LS.displayName;function Vge(e){const t=qge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Wge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function qge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Yge(s),d=Gge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kge=Symbol("radix.slottable");function Wge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kge}function Gge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Yge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Qge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kF=Qge.reduce((e,t)=>{const r=Vge(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Zb="rovingFocusGroup.onEntryFocus",Xge={bubbles:!1,cancelable:!0},Lf="RovingFocusGroup",[kw,_F,Zge]=Xu(Lf),[Jge,RF]=xr(Lf,[Zge]),[eve,tve]=Jge(Lf),MF=p.forwardRef((e,t)=>n.jsx(kw.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(kw.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(nve,{...e,ref:t})})}));MF.displayName=Lf;var nve=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...g}=e,v=p.useRef(null),y=et(t,v),N=Bc(l),[b,w]=Zr({prop:c,defaultProp:d??null,onChange:f,caller:Lf}),[C,E]=p.useState(!1),A=An(m),T=_F(r),k=p.useRef(!1),[P,M]=p.useState(0);return p.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(Zb,A),()=>I.removeEventListener(Zb,A)},[A]),n.jsx(eve,{scope:r,orientation:a,dir:N,loop:s,currentTabStopId:b,onItemFocus:p.useCallback(I=>w(I),[w]),onItemShiftTab:p.useCallback(()=>E(!0),[]),onFocusableItemAdd:p.useCallback(()=>M(I=>I+1),[]),onFocusableItemRemove:p.useCallback(()=>M(I=>I-1),[]),children:n.jsx(kF.div,{tabIndex:C||P===0?-1:0,"data-orientation":a,...g,ref:y,style:{outline:"none",...e.style},onMouseDown:$e(e.onMouseDown,()=>{k.current=!0}),onFocus:$e(e.onFocus,I=>{const Y=!k.current;if(I.target===I.currentTarget&&Y&&!C){const L=new CustomEvent(Zb,Xge);if(I.currentTarget.dispatchEvent(L),!L.defaultPrevented){const R=T().filter(z=>z.focusable),q=R.find(z=>z.active),ve=R.find(z=>z.id===b),ee=[q,ve,...R].filter(Boolean).map(z=>z.ref.current);IF(ee,h)}}k.current=!1}),onBlur:$e(e.onBlur,()=>E(!1))})})}),DF="RovingFocusGroupItem",LF=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:l,children:c,...d}=e,f=Ia(),m=l||f,h=tve(DF,r),g=h.currentTabStopId===m,v=_F(r),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:b}=h;return p.useEffect(()=>{if(a)return y(),()=>N()},[a,y,N]),n.jsx(kw.ItemSlot,{scope:r,id:m,focusable:a,active:s,children:n.jsx(kF.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...d,ref:t,onMouseDown:$e(e.onMouseDown,w=>{a?h.onItemFocus(m):w.preventDefault()}),onFocus:$e(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:$e(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const C=sve(w,h.orientation,h.dir);if(C!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let A=v().filter(T=>T.focusable).map(T=>T.ref.current);if(C==="last")A.reverse();else if(C==="prev"||C==="next"){C==="prev"&&A.reverse();const T=A.indexOf(w.currentTarget);A=h.loop?ive(A,T+1):A.slice(T+1)}setTimeout(()=>IF(A))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:b!=null}):c})})});LF.displayName=DF;var rve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ave(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sve(e,t,r){const a=ave(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return rve[a]}function IF(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function ive(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var lve=MF,ove=LF;function cve(e){const t=dve(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(fve);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function dve(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=hve(s),d=mve(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uve=Symbol("radix.slottable");function fve(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uve}function mve(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function hve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tg=pve.reduce((e,t)=>{const r=cve(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),kg="Tabs",[xve]=xr(kg,[RF]),$F=RF(),[gve,IS]=xve(kg),FF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...m}=e,h=Bc(d),[g,v]=Zr({prop:a,onChange:s,defaultProp:l??"",caller:kg});return n.jsx(gve,{scope:r,baseId:Ia(),value:g,onValueChange:v,orientation:c,dir:h,activationMode:f,children:n.jsx(Tg.div,{dir:h,"data-orientation":c,...m,ref:t})})});FF.displayName=kg;var zF="TabsList",BF=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,l=IS(zF,r),c=$F(r);return n.jsx(lve,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:a,children:n.jsx(Tg.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:t})})});BF.displayName=zF;var UF="TabsTrigger",HF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...l}=e,c=IS(UF,r),d=$F(r),f=KF(c.baseId,a),m=WF(c.baseId,a),h=a===c.value;return n.jsx(ove,{asChild:!0,...d,focusable:!s,active:h,children:n.jsx(Tg.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...l,ref:t,onMouseDown:$e(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?c.onValueChange(a):g.preventDefault()}),onKeyDown:$e(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(a)}),onFocus:$e(e.onFocus,()=>{const g=c.activationMode!=="manual";!h&&!s&&g&&c.onValueChange(a)})})})});HF.displayName=UF;var VF="TabsContent",qF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:l,...c}=e,d=IS(VF,r),f=KF(d.baseId,a),m=WF(d.baseId,a),h=a===d.value,g=p.useRef(h);return p.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),n.jsx(ta,{present:s||h,children:({present:v})=>n.jsx(Tg.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:v&&l})})});qF.displayName=VF;function KF(e,t){return`${e}-trigger-${t}`}function WF(e,t){return`${e}-content-${t}`}var vve=FF,GF=BF,YF=HF,QF=qF;const si=vve,is=p.forwardRef(({className:e,...t},r)=>n.jsx(GF,{ref:r,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));is.displayName=GF.displayName;const St=p.forwardRef(({className:e,...t},r)=>n.jsx(YF,{ref:r,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=YF.displayName;const Tt=p.forwardRef(({className:e,...t},r)=>n.jsx(QF,{ref:r,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Tt.displayName=QF.displayName;function yve({challengeKey:e,canEdit:t,tiers:r,setTiers:a}){const{toast:s}=fn(),[l,c]=p.useState("ALL"),[d,f]=p.useState({pct1:.4,pct2:.7,pct3:.9,pct4:.97}),[m,h]=p.useState(null),[g,v]=p.useState(null),[y,N]=p.useState(null),[b,w]=p.useState(!1),[C,E]=p.useState(!1),[A,T]=p.useState(!1),k={COMMON:"text-gray-500",UNCOMMON:"text-green-600",RARE:"text-blue-600",LEGENDARY:"text-purple-600",MYTHIC:"text-amber-600",BASIC:"text-blue-600",ADVANCED:"text-green-600",ELITE:"text-purple-600",EXALTED:"text-amber-600",UNLOCKED:"text-green-600",LOCKED:"text-gray-500"},P={COMMON:"[&>div]:bg-gray-400",UNCOMMON:"[&>div]:bg-green-500",RARE:"[&>div]:bg-blue-500",LEGENDARY:"[&>div]:bg-purple-500",MYTHIC:"[&>div]:bg-amber-500",BASIC:"[&>div]:bg-blue-500",ADVANCED:"[&>div]:bg-green-500",ELITE:"[&>div]:bg-purple-500",EXALTED:"[&>div]:bg-amber-500"},M=async()=>{w(!0);try{const K=await fetch(`/api/admin/challenges/${e}/calibration?cohortKey=${l}`,{credentials:"include"});if(!K.ok){const z=await K.json().catch(()=>({}));throw new Error(z.error||`HTTP ${K.status}`)}const ee=await K.json();ee.cached?(h(ee),ee.targets&&f({pct1:ee.targets.pct1??.4,pct2:ee.targets.pct2??.7,pct3:ee.targets.pct3??.9,pct4:ee.targets.pct4??.97})):(h(null),s({title:"No Cached Stats",description:"Click Refresh to compute calibration stats",variant:"default"}))}catch(K){s({title:"Error Loading Stats",description:K instanceof Error?K.message:"Failed to load calibration stats",variant:"destructive"})}w(!1)},I=async()=>{E(!0);try{const K=await fetch(`/api/admin/challenges/${e}/calibration/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cohortKey:l,targets:d})});if(!K.ok){const z=await K.json().catch(()=>({}));throw new Error(z.error||`HTTP ${K.status}`)}const ee=await K.json();if(ee.success)h({cached:!0,challengeKey:ee.challengeKey,cohortKey:ee.cohortKey,computedAt:new Date().toISOString(),clusterCount:ee.clusterCount,nonzeroCount:ee.nonzeroCount,tierSystem:ee.tierSystem,tierLadder:ee.tierLadder||[],suggestableTiers:ee.suggestableTiers||[],isPrestige:ee.isPrestige||!1,percentiles:ee.percentiles,targets:ee.targets,suggestedByTier:ee.suggestedByTier||{},warnings:ee.warnings||[],zeroInflated:ee.zeroInflated||!1,whaleSkew:ee.whaleSkew||!1,lowSample:ee.lowSample||!1}),s({title:"Stats Refreshed",description:`Computed for ${ee.clusterCount?.toLocaleString()||0} clusters`});else throw new Error(ee.error||"Refresh failed")}catch(K){s({title:"Refresh Failed",description:K instanceof Error?K.message:"Failed to refresh stats",variant:"destructive"})}E(!1)},Y=async(K,ee=!1)=>{T(!0);try{const z=await fetch(`/api/admin/challenges/${e}/calibration/simulate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cohortKey:l,thresholds:K})});if(!z.ok){const $=await z.json().catch(()=>({}));throw new Error($.error||`HTTP ${z.status}`)}const Z=await z.json();ee?N(Z):v(Z)}catch(z){s({title:"Simulation Failed",description:z instanceof Error?z.message:"Failed to simulate",variant:"destructive"})}T(!1)},L=async K=>{try{const ee=await fetch(`/api/admin/challenges/${e}/calibration/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({thresholds:K})});if(!ee.ok){const Z=await ee.json().catch(()=>({}));throw new Error(Z.error||`HTTP ${ee.status}`)}const z=await ee.json();if(z.success){const Z=r.map($=>{const de=K[$.tierCode];return de!==void 0?{...$,thresholdValue:Math.round(de)}:$});a(Z),Te.invalidateQueries({queryKey:["/api/admin/challenges"]}),s({title:"Thresholds Applied",description:`Updated ${z.updatedTiers?.length||0} tier thresholds`})}else throw new Error(z.error||"Apply failed")}catch(ee){s({title:"Apply Failed",description:ee instanceof Error?ee.message:"Failed to apply thresholds",variant:"destructive"})}},R=()=>{const K={};for(const ee of r)K[ee.tierCode]=ee.thresholdValue;return K},q=()=>m?.suggestableTiers||[],ve=()=>{f({pct1:.4,pct2:.7,pct3:.9,pct4:.97})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(CP,{className:"w-5 h-5"}),"Calibration & Distribution"]}),n.jsx(Se,{children:"Analyze player distribution and tune tier thresholds"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(dt,{value:l,onValueChange:c,children:[n.jsx(lt,{className:"w-40","data-testid":"select-cohort",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"ALL",children:"All Players"}),n.jsx(be,{value:"NONZERO",children:"Non-zero Only"}),n.jsx(be,{value:"ACTIVE_30D",children:"Active (30 days)"})]})]}),n.jsx(se,{variant:"outline",onClick:M,disabled:b,"data-testid":"button-load-stats",children:b?"Loading...":"Load Stats"}),n.jsxs(se,{onClick:I,disabled:C,"data-testid":"button-refresh-stats",children:[n.jsx(rt,{className:`w-4 h-4 mr-2 ${C?"animate-spin":""}`}),C?"Refreshing...":"Refresh"]})]})]})}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[n.jsx(Fa,{className:"w-4 h-4"}),"Target Percentiles",m?.tierSystem&&n.jsx(W,{variant:"outline",className:"text-xs",children:m.tierSystem})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 2 (p",Math.round(d.pct1*100),")"]}),n.jsx(Xe,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct1,onChange:K=>f({...d,pct1:parseFloat(K.target.value)||0}),"data-testid":"input-target-pct1"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 3 (p",Math.round(d.pct2*100),")"]}),n.jsx(Xe,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct2,onChange:K=>f({...d,pct2:parseFloat(K.target.value)||0}),"data-testid":"input-target-pct2"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 4 (p",Math.round(d.pct3*100),")"]}),n.jsx(Xe,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct3,onChange:K=>f({...d,pct3:parseFloat(K.target.value)||0}),"data-testid":"input-target-pct3"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 5 (p",Math.round(d.pct4*100),")"]}),n.jsx(Xe,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct4,onChange:K=>f({...d,pct4:parseFloat(K.target.value)||0}),"data-testid":"input-target-pct4"})]})]}),n.jsx(se,{variant:"ghost",size:"sm",onClick:ve,className:"mt-2","data-testid":"button-reset-targets",children:"Reset to Defaults"})]}),m&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(X,{children:n.jsxs(te,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-cluster-count",children:m.clusterCount.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Clusters"})]})}),n.jsx(X,{children:n.jsxs(te,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-nonzero-count",children:m.nonzeroCount.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Non-zero Progress"})]})}),n.jsx(X,{children:n.jsxs(te,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-computed-at",children:m.computedAt?new Date(m.computedAt).toLocaleDateString():"N/A"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Computed"})]})})]}),m.warnings.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.zeroInflated&&n.jsxs(W,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",children:[n.jsx(sr,{className:"w-3 h-3 mr-1"}),"Zero Inflated"]}),m.whaleSkew&&n.jsxs(W,{variant:"outline",className:"bg-orange-500/10 text-orange-600 border-orange-500/30",children:[n.jsx(er,{className:"w-3 h-3 mr-1"}),"Whale Skew"]}),m.lowSample&&n.jsxs(W,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/30",children:[n.jsx(sr,{className:"w-3 h-3 mr-1"}),"Low Sample"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Percentile Distribution"}),n.jsxs("div",{className:"grid gap-2 grid-cols-4 md:grid-cols-7 text-center text-xs",children:[n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"Min"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.min.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p25"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p25.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p50"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p50.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p75"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p75.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p90"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p90.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p95"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p95.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"Max"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.max.toLocaleString()})]})]})]}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(zs,{className:"w-4 h-4"}),"Suggested Thresholds",n.jsx(W,{variant:"outline",className:"text-xs",children:m.tierSystem})]}),m.isPrestige?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Feat challenges use boolean (unlocked/locked) and don't have threshold suggestions."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`grid gap-4 md:grid-cols-${q().length}`,children:q().map(K=>n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded",children:[n.jsx("div",{className:`text-lg font-bold ${k[K.tierCode]||"text-foreground"}`,"data-testid":`text-suggested-${K.tierCode.toLowerCase()}`,children:Math.round(m.suggestedByTier[K.tierCode]||0).toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:K.displayName||K.tierCode})]},K.tierCode))}),t&&Object.keys(m.suggestedByTier).length>0&&n.jsx(se,{variant:"outline",onClick:()=>L(m.suggestedByTier),"data-testid":"button-apply-suggested",children:"Apply Suggested Thresholds"})]})]})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(CP,{className:"w-5 h-5"}),"Tier Distribution Simulation"]}),n.jsx(Se,{children:"Preview how players would be distributed across tiers"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(se,{variant:"outline",onClick:()=>Y(R()),disabled:A,"data-testid":"button-simulate-current",children:"Simulate Current Thresholds"}),m&&!m.isPrestige&&n.jsx(se,{variant:"outline",onClick:()=>Y(m.suggestedByTier,!0),disabled:A,"data-testid":"button-simulate-suggested",children:"Simulate Suggested Thresholds"})]}),(g||y)&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[g&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium mb-3",children:"Current Thresholds"}),n.jsx("div",{className:"space-y-2",children:Object.entries(g.distribution).map(([K,ee])=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:K==="_BELOW_TIER1"?"text-muted-foreground":k[K]||"text-foreground",children:K==="_BELOW_TIER1"?"Below Tier 1":K}),n.jsxs("span",{children:[ee.count.toLocaleString()," (",ee.pct,"%)"]})]}),n.jsx(Xt,{value:ee.pct,className:`h-2 ${K==="_BELOW_TIER1"?"":P[K]||""}`})]},K))})]}),y&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium mb-3",children:"Suggested Thresholds"}),n.jsx("div",{className:"space-y-2",children:Object.entries(y.distribution).map(([K,ee])=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:K==="_BELOW_TIER1"?"text-muted-foreground":k[K]||"text-foreground",children:K==="_BELOW_TIER1"?"Below Tier 1":K}),n.jsxs("span",{children:[ee.count.toLocaleString()," (",ee.pct,"%)"]})]}),n.jsx(Xt,{value:ee.pct,className:`h-2 ${K==="_BELOW_TIER1"?"":P[K]||""}`})]},K))})]})]})]})]})]})}const bve={draft:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",validated:"bg-blue-500/20 text-blue-500 border-blue-500/30",deployed:"bg-green-500/20 text-green-500 border-green-500/30",deprecated:"bg-gray-500/20 text-gray-500 border-gray-500/30"},jve={draft:Yi,validated:Zw,deployed:Jw,deprecated:dc};function _R({state:e}){const t=bve[e]||"bg-muted text-muted-foreground",r=jve[e]||sr;return n.jsxs(W,{variant:"outline",className:`text-xs ${t} gap-1`,children:[n.jsx(r,{className:"w-3 h-3"}),e.toUpperCase()]})}function RR(){const{id:e}=Yu(),[,t]=Ha(),{toast:r}=fn(),a=window.location.pathname.includes("/edit"),s=e&&/^\d+$/.test(e)?parseInt(e,10):null,l=s!==null&&!isNaN(s),{data:c,isLoading:d,error:f}=_e({queryKey:["/api/admin/challenges",e],queryFn:async()=>{const L=await fetch(`/api/admin/challenges/${e}`,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch challenge");return L.json()},enabled:l}),{data:m}=_e({queryKey:["/api/admin/challenge-categories"],queryFn:async()=>{const L=await fetch("/api/admin/challenge-categories",{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch categories");return L.json()}}),{data:h}=_e({queryKey:["/api/admin/challenges",e,"audit"],queryFn:async()=>{const L=await fetch(`/api/admin/challenges/${e}/audit`,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch audit log");return L.json()},enabled:l}),[g,v]=p.useState({}),[y,N]=p.useState([]),[b,w]=p.useState({});p.useEffect(()=>{c&&(v({name:c.name,category:c.category,type:c.type,descriptionShort:c.descriptionShort,descriptionLong:c.descriptionLong,metricType:c.metricType,metricSource:c.metricSource,metricKey:c.metricKey,metricAggregation:c.metricAggregation,metricFilters:c.metricFilters,tieringMode:c.tieringMode,tierConfig:c.tierConfig,isClusterBased:c.isClusterBased,isTestOnly:c.isTestOnly,isVisibleFe:c.isVisibleFe,sortOrder:c.sortOrder}),N(c.tiers||[]),w(c.validation?.manualChecks||{}))},[c]);const C=Oe({mutationFn:async L=>{const R=await fetch(`/api/admin/challenges/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...L,tiers:y})});if(!R.ok){const q=await R.json();throw new Error(q.error||"Failed to update challenge")}return R.json()},onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/challenges",e]}),r({title:"Challenge updated",description:"Changes saved successfully."})},onError:L=>{r({title:"Error",description:L.message,variant:"destructive"})}}),E=Oe({mutationFn:async()=>{const L=await fetch(`/api/admin/challenges/${e}/validate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({manualChecks:b})});if(!L.ok){const R=await L.json();throw new Error(R.error||"Failed to validate")}return L.json()},onSuccess:L=>{Te.invalidateQueries({queryKey:["/api/admin/challenges",e]}),r({title:"Validation complete",description:L.canPromoteToValidated?"Challenge can be promoted to validated.":"Some checks are failing."})},onError:L=>{r({title:"Error",description:L.message,variant:"destructive"})}}),A=Oe({mutationFn:async L=>{const R=await fetch(`/api/admin/challenges/${e}/state`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({targetState:L})});if(!R.ok){const q=await R.json();throw new Error(q.error||"Failed to transition state")}return R.json()},onSuccess:L=>{Te.invalidateQueries({queryKey:["/api/admin/challenges",e]}),Te.invalidateQueries({queryKey:["/api/admin/challenges"]}),r({title:"State changed",description:`Challenge is now ${L.newState}.`})},onError:L=>{r({title:"Error",description:L.message,variant:"destructive"})}}),T=()=>{C.mutate(g)},k=()=>{N([...y,{tierCode:"",displayName:"",thresholdValue:0,isPrestige:!1,sortOrder:y.length+1}])},P=L=>{N(y.filter((R,q)=>q!==L))},M=(L,R,q)=>{const ve=[...y];ve[L][R]=q,N(ve)};if(!l)return n.jsx("div",{className:"p-6",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Invalid Challenge ID"}),n.jsxs(Se,{children:['The challenge ID "',e,'" is not valid. Please select a challenge from the list or create a new one.']})]}),n.jsx(te,{children:n.jsxs(se,{onClick:()=>t("/admin/challenges"),"data-testid":"button-back-to-list",children:[n.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Back to Challenges"]})})]})});if(d)return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(Ae,{className:"h-8 w-64"}),n.jsx(Ae,{className:"h-[400px] w-full"})]});if(f||!c)return n.jsx("div",{className:"p-6",children:n.jsx(X,{className:"border-destructive",children:n.jsxs(ie,{children:[n.jsx(le,{className:"text-destructive",children:"Error"}),n.jsx(Se,{children:f instanceof Error?f.message:"Challenge not found"})]})})});const I=c.state==="draft"||c.state==="validated",Y=c.validation?.autoChecks||{};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(se,{variant:"ghost",size:"icon",onClick:()=>t("/admin/challenges"),"data-testid":"button-back",children:n.jsx(Wi,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-challenge-name",children:c.name}),n.jsx(_R,{state:c.state})]}),n.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:c.code})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[I&&a&&n.jsxs(se,{onClick:T,disabled:C.isPending,"data-testid":"button-save",children:[n.jsx(vj,{className:"w-4 h-4 mr-2"}),C.isPending?"Saving...":"Save Changes"]}),!a&&I&&n.jsxs(se,{onClick:()=>t(`/admin/challenges/${e}/edit`),"data-testid":"button-edit",children:[n.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]}),n.jsxs(si,{defaultValue:"basic",className:"space-y-6",children:[n.jsxs(is,{children:[n.jsx(St,{value:"basic","data-testid":"tab-basic",children:"Basic Info"}),n.jsx(St,{value:"metric","data-testid":"tab-metric",children:"Metric Definition"}),n.jsx(St,{value:"tiers","data-testid":"tab-tiers",children:"Tiering"}),n.jsx(St,{value:"calibration","data-testid":"tab-calibration",children:"Calibration"}),n.jsx(St,{value:"display","data-testid":"tab-display",children:"Frontend Display"}),n.jsx(St,{value:"validation","data-testid":"tab-validation",children:"Validation"}),n.jsx(St,{value:"deploy","data-testid":"tab-deploy",children:"Deploy Controls"}),n.jsx(St,{value:"audit","data-testid":"tab-audit",children:"Audit Log"})]}),n.jsx(Tt,{value:"basic",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Basic Information"}),n.jsx(Se,{children:"Core challenge identity and categorization"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),n.jsx(Xe,{value:g.name||"",onChange:L=>v({...g,name:L.target.value}),disabled:!I||!a,"data-testid":"input-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(dt,{value:g.category||"",onValueChange:L=>v({...g,category:L}),disabled:!I||!a,children:[n.jsx(lt,{"data-testid":"select-category",children:n.jsx(ut,{})}),n.jsx(ot,{children:m?.map(L=>n.jsx(be,{value:L.key,children:L.name},L.key))})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Challenge Type"}),n.jsxs(dt,{value:g.type||"",onValueChange:L=>v({...g,type:L}),disabled:!I||!a,children:[n.jsx(lt,{"data-testid":"select-type",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"tiered",children:"Tiered"}),n.jsx(be,{value:"binary",children:"Binary"}),n.jsx(be,{value:"milestone",children:"Milestone"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Sort Order"}),n.jsx(Xe,{type:"number",value:g.sortOrder||0,onChange:L=>v({...g,sortOrder:parseInt(L.target.value)}),disabled:!I||!a,"data-testid":"input-sort-order"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Short Description"}),n.jsx(Xe,{value:g.descriptionShort||"",onChange:L=>v({...g,descriptionShort:L.target.value}),disabled:!I||!a,"data-testid":"input-description-short"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Long Description"}),n.jsx(hu,{value:g.descriptionLong||"",onChange:L=>v({...g,descriptionLong:L.target.value}),disabled:!I||!a,rows:4,"data-testid":"input-description-long"})]})]})]})}),n.jsx(Tt,{value:"metric",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Metric Definition"}),n.jsx(Se,{children:"How progress is measured for this challenge"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),n.jsxs(dt,{value:g.metricType||"",onValueChange:L=>v({...g,metricType:L}),disabled:!I||!a,children:[n.jsx(lt,{"data-testid":"select-metric-type",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"integer",children:"Integer"}),n.jsx(be,{value:"decimal",children:"Decimal"}),n.jsx(be,{value:"boolean",children:"Boolean"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Source"}),n.jsxs(dt,{value:g.metricSource||"",onValueChange:L=>v({...g,metricSource:L}),disabled:!I||!a,children:[n.jsx(lt,{"data-testid":"select-metric-source",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"onchain_heroes",children:"On-chain: Heroes"}),n.jsx(be,{value:"onchain_quests",children:"On-chain: Quests"}),n.jsx(be,{value:"onchain_summons",children:"On-chain: Summons"}),n.jsx(be,{value:"onchain_pets",children:"On-chain: Pets"}),n.jsx(be,{value:"onchain_meditation",children:"On-chain: Meditation"}),n.jsx(be,{value:"onchain_gardens",children:"On-chain: Gardens"}),n.jsx(be,{value:"onchain_portfolio",children:"On-chain: Portfolio"}),n.jsx(be,{value:"behavior_model",children:"Behavior Model"}),n.jsx(be,{value:"discord_interactions",children:"Discord Activity"}),n.jsx(be,{value:"payment_events",children:"Payment Events"}),n.jsx(be,{value:"event_progress",children:"Event Progress"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Key"}),n.jsx(Xe,{value:g.metricKey||"",onChange:L=>v({...g,metricKey:L.target.value}),disabled:!I||!a,"data-testid":"input-metric-key"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Aggregation"}),n.jsxs(dt,{value:g.metricAggregation||"",onValueChange:L=>v({...g,metricAggregation:L}),disabled:!I||!a,children:[n.jsx(lt,{"data-testid":"select-aggregation",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"count",children:"Count"}),n.jsx(be,{value:"sum",children:"Sum"}),n.jsx(be,{value:"max",children:"Maximum"}),n.jsx(be,{value:"min",children:"Minimum"}),n.jsx(be,{value:"avg",children:"Average"}),n.jsx(be,{value:"latest",children:"Latest Value"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tiering Mode"}),n.jsxs(dt,{value:g.tieringMode||"",onValueChange:L=>v({...g,tieringMode:L}),disabled:!I||!a,children:[n.jsx(lt,{"data-testid":"select-tiering-mode",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"threshold",children:"Threshold-based"}),n.jsx(be,{value:"percentile",children:"Percentile-based"}),n.jsx(be,{value:"none",children:"No Tiers"})]})]})]})]}),n.jsx("div",{className:"flex items-center gap-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{checked:g.isClusterBased||!1,onCheckedChange:L=>v({...g,isClusterBased:L}),disabled:!I||!a,"data-testid":"switch-cluster-based"}),n.jsx("label",{className:"text-sm",children:"Cluster-based metrics"})]})})]})]})}),n.jsx(Tt,{value:"tiers",children:n.jsxs(X,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Tier Thresholds"}),n.jsx(Se,{children:"Define progression tiers and their requirements"})]}),I&&a&&n.jsxs(se,{size:"sm",onClick:k,"data-testid":"button-add-tier",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Add Tier"]})]})}),n.jsx(te,{children:y.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No tiers defined yet."}):n.jsx("div",{className:"space-y-3",children:y.map((L,R)=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-md","data-testid":`tier-row-${R}`,children:[n.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-4",children:[n.jsx(Xe,{placeholder:"Tier Code",value:L.tierCode,onChange:q=>M(R,"tierCode",q.target.value),disabled:!I||!a,"data-testid":`input-tier-code-${R}`}),n.jsx(Xe,{placeholder:"Display Name",value:L.displayName,onChange:q=>M(R,"displayName",q.target.value),disabled:!I||!a,"data-testid":`input-tier-display-${R}`}),n.jsx(Xe,{type:"number",placeholder:"Threshold",value:L.thresholdValue,onChange:q=>M(R,"thresholdValue",parseFloat(q.target.value)),disabled:!I||!a,"data-testid":`input-tier-threshold-${R}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{checked:L.isPrestige,onCheckedChange:q=>M(R,"isPrestige",q),disabled:!I||!a,"data-testid":`switch-tier-top-tier-${R}`}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Top Tier"})]})]}),I&&a&&n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>P(R),"data-testid":`button-remove-tier-${R}`,children:n.jsx(t1,{className:"w-4 h-4 text-destructive"})})]},R))})})]})}),n.jsx(Tt,{value:"calibration",children:n.jsx(yve,{challengeKey:c.code,canEdit:I,tiers:y,setTiers:N})}),n.jsx(Tt,{value:"display",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Frontend Display"}),n.jsx(Se,{children:"Control visibility and presentation"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{checked:g.isVisibleFe||!1,onCheckedChange:L=>v({...g,isVisibleFe:L}),disabled:!I||!a,"data-testid":"switch-visible-fe"}),n.jsx("label",{className:"text-sm",children:"Visible in Frontend"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{checked:g.isTestOnly||!1,onCheckedChange:L=>v({...g,isTestOnly:L}),disabled:!I||!a,"data-testid":"switch-test-only"}),n.jsx("label",{className:"text-sm",children:"Test Only (hidden from production)"})]})]})})]})}),n.jsx(Tt,{value:"validation",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Validation Status"}),n.jsx(Se,{children:"Automated and manual validation checks"})]}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Automated Checks"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[Y.hasMetricSource?n.jsx(wa,{className:"w-4 h-4 text-green-500"}):n.jsx(Il,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Valid metric source"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Y.fieldValid?n.jsx(wa,{className:"w-4 h-4 text-green-500"}):n.jsx(Il,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Metric key defined"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Y.hasTierConfig?n.jsx(wa,{className:"w-4 h-4 text-green-500"}):n.jsx(Il,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Tier configuration valid"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Y.codeUnique?n.jsx(wa,{className:"w-4 h-4 text-green-500"}):n.jsx(Il,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Unique challenge code"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Manual Checks (for deployment)"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ux,{checked:b.etlOutputVerified||!1,onCheckedChange:L=>w({...b,etlOutputVerified:!!L}),"data-testid":"checkbox-etl-verified"}),n.jsx("label",{className:"text-sm",children:"ETL output verified"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ux,{checked:b.copyApproved||!1,onCheckedChange:L=>w({...b,copyApproved:!!L}),"data-testid":"checkbox-copy-approved"}),n.jsx("label",{className:"text-sm",children:"Copy/description approved"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(se,{onClick:()=>E.mutate(),disabled:E.isPending,"data-testid":"button-run-validation",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),E.isPending?"Running...":"Run Validation"]}),c.validation?.lastRunAt&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last run: ",new Date(c.validation.lastRunAt).toLocaleString()," by ",c.validation.lastRunBy]})]})]})]})}),n.jsx(Tt,{value:"deploy",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Deploy Controls"}),n.jsx(Se,{children:"Manage challenge state lifecycle"})]}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm font-medium",children:"Current State:"}),n.jsx(_R,{state:c.state})]}),n.jsxs("div",{className:"space-y-4",children:[c.state==="draft"&&n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Promote to Validated"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark this challenge as validated after passing all automated checks."}),n.jsxs(se,{onClick:()=>A.mutate("validated"),disabled:A.isPending||!Y.hasMetricSource||!Y.fieldValid,"data-testid":"button-promote-validated",children:[n.jsx(Zw,{className:"w-4 h-4 mr-2"}),"Promote to Validated"]})]}),c.state==="validated"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Deploy to Production"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Make this challenge live. Requires all manual checks to be completed."}),n.jsxs(se,{onClick:()=>A.mutate("deployed"),disabled:A.isPending||!b.etlOutputVerified||!b.copyApproved,"data-testid":"button-deploy",children:[n.jsx(Jw,{className:"w-4 h-4 mr-2"}),"Deploy"]})]}),n.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium text-muted-foreground",children:"Rollback to Draft"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return this challenge to draft state for further editing."}),n.jsxs(se,{variant:"outline",onClick:()=>A.mutate("draft"),disabled:A.isPending,"data-testid":"button-rollback-draft",children:[n.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Rollback to Draft"]})]})]}),c.state==="deployed"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border border-amber-500/30 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Hotfix Mode"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return to validated state to make urgent fixes."}),n.jsxs(se,{variant:"outline",onClick:()=>A.mutate("validated"),disabled:A.isPending,"data-testid":"button-hotfix",children:[n.jsx(sr,{className:"w-4 h-4 mr-2"}),"Enter Hotfix Mode"]})]}),n.jsxs("div",{className:"p-4 border border-destructive/30 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium text-destructive",children:"Deprecate"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove this challenge from production. This action cannot be undone."}),n.jsxs(se,{variant:"destructive",onClick:()=>A.mutate("deprecated"),disabled:A.isPending,"data-testid":"button-deprecate",children:[n.jsx(dc,{className:"w-4 h-4 mr-2"}),"Deprecate"]})]})]}),c.state==="deprecated"&&n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsx("p",{className:"text-muted-foreground",children:"This challenge has been deprecated and cannot be reactivated."})})]})]})]})}),n.jsx(Tt,{value:"audit",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(oV,{className:"w-5 h-5"}),"Audit Log"]}),n.jsx(Se,{children:"History of changes to this challenge"})]}),n.jsx(te,{children:!h||h.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No audit history yet."}):n.jsx("div",{className:"space-y-3",children:h.map(L=>n.jsx("div",{className:"flex items-center gap-4 p-3 border rounded-md","data-testid":`audit-row-${L.id}`,children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",className:"text-xs",children:L.action}),L.fromState&&L.toState&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[L.fromState,"  ",L.toState]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["by ",L.actor," at ",new Date(L.createdAt).toLocaleString()]})]})},L.id))})})]})})]})]})}const wve={gardening:vu,mining:iV,fishing:eV,foraging:iM},kh=[{value:"gardening",label:"Gardening"},{value:"mining",label:"Mining"},{value:"fishing",label:"Fishing"},{value:"foraging",label:"Foraging"}];function XF(e){switch(e){case"OPEN":return n.jsx(W,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/30","data-testid":"badge-state-open",children:"Open"});case"FILLING":return n.jsx(W,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30","data-testid":"badge-state-filling",children:"Filling"});case"RACING":return n.jsx(W,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/30","data-testid":"badge-state-racing",children:"Racing"});case"FINISHED":return n.jsx(W,{variant:"outline",className:"bg-muted text-muted-foreground","data-testid":"badge-state-finished",children:"Finished"});default:return n.jsx(W,{variant:"secondary",children:e})}}function Nve(e){return new Date(e).toLocaleString()}function Gh({profession:e,className:t}){const r=wve[e];return n.jsx(r,{className:t||"w-4 h-4"})}function MR({pool:e,isSelected:t,onSelect:r}){return n.jsxs("div",{className:`p-3 border rounded-md cursor-pointer transition-colors ${t?"border-primary bg-primary/5":"hover:bg-accent/50"}`,onClick:r,"data-testid":`pool-item-${e.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gh,{profession:e.profession,className:"w-3 h-3 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:e.heroClassName}),XF(e.state)]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Rr,{className:"w-3 h-3"}),e.currentEntries,"/",e.maxEntries]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:["Level ",e.level,e.isRecurrent&&n.jsx(W,{variant:"secondary",className:"text-[10px] px-1",children:"Recurrent"})]}),n.jsxs("span",{children:["$",e.usdEntryFee," / $",e.usdPrize," (",e.tokenType,")"]})]}),e.state!=="OPEN"&&n.jsx(Xt,{value:e.currentEntries/e.maxEntries*100,className:"h-1 mt-2"})]})}const Sve={gardening:{entryFee:"25.00",prize:"100.00",maxEntries:"2"},mining:{entryFee:"5.00",prize:"40.00",maxEntries:"6"},fishing:{entryFee:"5.00",prize:"40.00",maxEntries:"6"},foraging:{entryFee:"5.00",prize:"40.00",maxEntries:"6"}};function Cve(){const{toast:e}=fn(),[t,r]=p.useState(null),[a,s]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState(null),[m,h]=p.useState(""),[g,v]=p.useState("fishing"),[y,N]=p.useState("all"),[b,w]=p.useState("5.00"),[C,E]=p.useState("40.00"),[A,T]=p.useState("JEWEL"),[k,P]=p.useState("6"),[M,I]=p.useState("common"),[Y,L]=p.useState(""),[R,q]=p.useState(!0);p.useEffect(()=>{if(a&&!l){const ae=Sve[g];w(ae.entryFee),E(ae.prize),P(ae.maxEntries)}},[g,a,l]);const{data:ve,isLoading:K}=_e({queryKey:["/api/level-racer/classes"]}),{data:ee,isLoading:z,refetch:Z}=_e({queryKey:["/api/level-racer/admin/pools"]}),{data:$,isLoading:de}=_e({queryKey:["/api/level-racer/pools",t],enabled:!!t}),{data:B}=_e({queryKey:["/api/level-racer/pools",t,"events"],enabled:!!t}),_=Oe({mutationFn:async ae=>{const st=await(await ze("POST","/api/level-racer/admin/pools",ae)).text();return st?JSON.parse(st):{}},onSuccess:()=>{e({title:"Pool created successfully"}),Te.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]}),s(!1),h("")},onError:ae=>{e({title:"Failed to create pool",description:ae.message||"An error occurred",variant:"destructive"})}}),Q=Oe({mutationFn:async ae=>{const st=await(await ze("POST",`/api/level-racer/dev/pools/${ae}/simulate-tick`)).text();return st?JSON.parse(st):{}},onSuccess:ae=>{e({title:"Simulation tick complete",description:ae.message}),Te.invalidateQueries({queryKey:["/api/level-racer/pools",t]}),Te.invalidateQueries({queryKey:["/api/level-racer/pools",t,"events"]}),Te.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]})},onError:ae=>{e({title:"Simulation failed",description:ae.message||"An error occurred",variant:"destructive"})}}),fe=Oe({mutationFn:async ae=>{const{poolId:Ze,...st}=ae,vr=await(await ze("PATCH",`/api/level-racer/admin/pools/${Ze}`,st)).text();return vr?JSON.parse(vr):{}},onSuccess:()=>{e({title:"Pool updated successfully"}),Te.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]}),Te.invalidateQueries({queryKey:["/api/level-racer/pools",d?.id]}),c(!1),f(null)},onError:ae=>{e({title:"Failed to update pool",description:ae.message||"An error occurred",variant:"destructive"})}}),Ne=ae=>{f(ae),w(ae.usdEntryFee),E(ae.usdPrize),T(ae.tokenType),P(ae.maxEntries.toString()),I(ae.rarityFilter||"common"),L(ae.maxMutations!==null?ae.maxMutations.toString():""),q(ae.isRecurrent),c(!0)},re=()=>{d&&fe.mutate({poolId:d.id,usdEntryFee:b,usdPrize:C,tokenType:A,maxEntries:parseInt(k),rarityFilter:M,maxMutations:Y?parseInt(Y):null,isRecurrent:R})},Le=()=>{if(!m){e({title:"Please select a hero class",variant:"destructive"});return}_.mutate({classSlug:m,profession:g,usdEntryFee:b,usdPrize:C,tokenType:A,maxEntries:parseInt(k),rarityFilter:M,maxMutations:Y?parseInt(Y):null,isRecurrent:R})},pe=ee?.pools||[],me=(ve?.classes||[]).filter(ae=>ae.isBasic!==!1),Pe=y==="all"?pe:pe.filter(ae=>ae.profession===y),De=Pe.filter(ae=>ae.state!=="FINISHED"),xe=pe.filter(ae=>ae.state==="RACING"),tt=pe.filter(ae=>ae.state==="OPEN"),Ge=Pe.filter(ae=>ae.state==="FINISHED"),Lt=kh.reduce((ae,Ze)=>(ae[Ze.value]=pe.filter(st=>st.profession===Ze.value&&st.state!=="FINISHED"),ae),{}),kt=pe.reduce((ae,Ze)=>ae+(Ze.totalFeesCollected||0),0),J=pe.filter(ae=>ae.prizeAwarded).reduce((ae,Ze)=>ae+Ze.jewelPrize,0);return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"level-racer-admin",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Or,{className:"w-6 h-6"}),"Level Racer Admin"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage racing pools and track competitions"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{variant:"outline",onClick:()=>Z(),"data-testid":"button-refresh-pools",children:[n.jsx(rt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(qi,{open:a,onOpenChange:s,children:[n.jsx(Nge,{asChild:!0,children:n.jsxs(se,{"data-testid":"button-create-pool",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Create Pool"]})}),n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Create New Racing Pool"}),n.jsx(Ks,{children:"Create a new Level Racer pool for a hero class"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"class",children:"Hero Class"}),n.jsxs(dt,{value:m,onValueChange:h,children:[n.jsx(lt,{"data-testid":"select-hero-class",children:n.jsx(ut,{placeholder:"Select a class"})}),n.jsx(ot,{children:me.map(ae=>n.jsx(be,{value:ae.slug,children:ae.displayName},ae.slug))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"profession",children:"Quest Profession"}),n.jsxs(dt,{value:g,onValueChange:ae=>v(ae),children:[n.jsx(lt,{"data-testid":"select-profession",children:n.jsx(ut,{})}),n.jsx(ot,{children:kh.map(ae=>n.jsx(be,{value:ae.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Gh,{profession:ae.value,className:"w-3 h-3"}),ae.label]})},ae.value))})]})]})]}),n.jsx(Mn,{}),n.jsx("h4",{className:"text-sm font-medium",children:"Pricing (USD-based)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"usdEntryFee",children:"Entry Fee (USD)"}),n.jsx(Xe,{id:"usdEntryFee",type:"text",value:b,onChange:ae=>w(ae.target.value),placeholder:"5.00","data-testid":"input-usd-entry-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"usdPrize",children:"Prize (USD)"}),n.jsx(Xe,{id:"usdPrize",type:"text",value:C,onChange:ae=>E(ae.target.value),placeholder:"40.00","data-testid":"input-usd-prize"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"tokenType",children:"Token Type"}),n.jsxs(dt,{value:A,onValueChange:ae=>T(ae),children:[n.jsx(lt,{"data-testid":"select-token-type",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"JEWEL",children:"JEWEL"}),n.jsx(be,{value:"CRYSTAL",children:"CRYSTAL"}),n.jsx(be,{value:"USDC",children:"USDC"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxEntries",children:"Max Entries"}),n.jsx(Xe,{id:"maxEntries",type:"number",value:k,onChange:ae=>P(ae.target.value),"data-testid":"input-max-entries"})]}),n.jsx(Mn,{}),n.jsx("h4",{className:"text-sm font-medium",children:"Special Race Filters"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"rarityFilter",children:"Rarity Filter"}),n.jsxs(dt,{value:M,onValueChange:I,children:[n.jsx(lt,{"data-testid":"select-rarity-filter",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"common",children:"Common Only"}),n.jsx(be,{value:"uncommon",children:"Up to Uncommon"}),n.jsx(be,{value:"rare",children:"Up to Rare"}),n.jsx(be,{value:"legendary",children:"Up to Legendary"}),n.jsx(be,{value:"mythic",children:"All Rarities"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxMutations",children:"Max Mutations (empty = no limit)"}),n.jsx(Xe,{id:"maxMutations",type:"number",value:Y,onChange:ae=>L(ae.target.value),placeholder:"No limit","data-testid":"input-max-mutations"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{htmlFor:"isRecurrent",children:"Recurrent Pool"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-create new pool when this one fills"})]}),n.jsx(Wr,{id:"isRecurrent",checked:R,onCheckedChange:q,"data-testid":"switch-recurrent"})]})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(se,{onClick:Le,disabled:_.isPending,"data-testid":"button-confirm-create",children:[_.isPending&&n.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Pool"]})]})]})]}),n.jsx(qi,{open:l,onOpenChange:c,children:n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Edit Pool Settings"}),n.jsxs(Ks,{children:["Edit settings for ",d?.heroClassName," (",d?.profession,") pool"]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-entry-fee",children:"Entry Fee (USD)"}),n.jsx(Xe,{id:"edit-entry-fee",type:"number",step:"0.01",value:b,onChange:ae=>w(ae.target.value),"data-testid":"input-edit-entry-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-prize",children:"Prize (USD)"}),n.jsx(Xe,{id:"edit-prize",type:"number",step:"0.01",value:C,onChange:ae=>E(ae.target.value),"data-testid":"input-edit-prize"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-token",children:"Payment Token"}),n.jsxs(dt,{value:A,onValueChange:ae=>T(ae),children:[n.jsx(lt,{"data-testid":"select-edit-token",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"JEWEL",children:"JEWEL"}),n.jsx(be,{value:"CRYSTAL",children:"CRYSTAL"}),n.jsx(be,{value:"USDC",children:"USDC"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-max-entries",children:"Max Entries"}),n.jsx(Xe,{id:"edit-max-entries",type:"number",value:k,onChange:ae=>P(ae.target.value),"data-testid":"input-edit-max-entries"})]})]}),n.jsx(Mn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-rarity",children:"Max Rarity Allowed"}),n.jsxs(dt,{value:M,onValueChange:I,children:[n.jsx(lt,{"data-testid":"select-edit-rarity",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"common",children:"Common"}),n.jsx(be,{value:"uncommon",children:"Uncommon"}),n.jsx(be,{value:"rare",children:"Rare"}),n.jsx(be,{value:"legendary",children:"Legendary"}),n.jsx(be,{value:"mythic",children:"Mythic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-mutations",children:"Max Mutations (empty = no limit)"}),n.jsx(Xe,{id:"edit-mutations",type:"number",placeholder:"No limit",value:Y,onChange:ae=>L(ae.target.value),"data-testid":"input-edit-mutations"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wr,{id:"edit-recurrent",checked:R,onCheckedChange:q,"data-testid":"switch-edit-recurrent"}),n.jsx(ke,{htmlFor:"edit-recurrent",children:"Recurrent (auto-restart when finished)"})]})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsxs(se,{onClick:re,disabled:fe.isPending,"data-testid":"button-confirm-edit",children:[fe.isPending&&n.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Racing"}),n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-racing-pools",children:xe.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[tt.length," open for registration"]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Pools"}),n.jsx(Yr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-pools",children:pe.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ge.length," finished"]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Fees Collected"}),n.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-fees-collected",children:kt}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL total"})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Prizes Awarded"}),n.jsx(Yr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-prizes-awarded",children:J}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL total"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs(X,{className:"col-span-1",children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Racing Pools"}),n.jsx(Se,{children:"Organized by quest profession"})]}),n.jsxs(dt,{value:y,onValueChange:ae=>N(ae),children:[n.jsx(lt,{className:"w-[160px]","data-testid":"select-profession-filter",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"all",children:"All Professions"}),kh.map(ae=>n.jsx(be,{value:ae.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Gh,{profession:ae.value,className:"w-3 h-3"}),ae.label]})},ae.value))]})]})]})}),n.jsx(te,{children:z?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(ae=>n.jsx(Ae,{className:"h-16 w-full"},ae))}):Pe.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Or,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No pools found"}),n.jsx("p",{className:"text-sm",children:"Try a different filter or create a pool"})]}):n.jsx(Hi,{className:"h-[600px]",children:n.jsx("div",{className:"space-y-4",children:y==="all"?kh.map(ae=>{const Ze=Lt[ae.value];return Ze.length===0?null:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-medium text-muted-foreground",children:[n.jsx(Gh,{profession:ae.value,className:"w-4 h-4"}),n.jsx("span",{children:ae.label}),n.jsx(W,{variant:"secondary",className:"text-[10px]",children:Ze.length})]}),n.jsx("div",{className:"space-y-2",children:Ze.map(st=>n.jsx(MR,{pool:st,isSelected:t===st.id,onSelect:()=>r(st.id)},st.id))})]},ae.value)}):n.jsx("div",{className:"space-y-2",children:De.map(ae=>n.jsx(MR,{pool:ae,isSelected:t===ae.id,onSelect:()=>r(ae.id)},ae.id))})})})})]}),n.jsxs(X,{className:"col-span-1",children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Pool Details"}),n.jsx(Se,{children:t?`Pool #${t}`:"Select a pool to view details"})]}),n.jsxs("div",{className:"flex gap-2",children:[t&&$?.state==="OPEN"&&n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>{const ae=pe.find(Ze=>Ze.id===t);ae&&Ne(ae)},"data-testid":"button-edit-pool",children:[n.jsx(MV,{className:"w-4 h-4 mr-2"}),"Edit"]}),t&&$?.state==="RACING"&&n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>Q.mutate(t),disabled:Q.isPending,"data-testid":"button-simulate-tick",children:[Q.isPending?n.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Simulate Tick"]})]})]})}),n.jsx(te,{children:t?de?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(ae=>n.jsx(Ae,{className:"h-12 w-full"},ae))}):$?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.heroClassName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"State:"}),n.jsx("span",{className:"ml-2",children:XF($.state)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Entry Fee:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.usdEntryFee]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prize:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.usdPrize]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Token:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.tokenType})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Fees Collected:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.totalFeesCollectedUsd]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Rarity:"}),n.jsx("span",{className:"ml-2 font-medium capitalize",children:$.rarityFilter})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Max Mutations:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.maxMutations??"No limit"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Recurrent:"}),n.jsx("span",{className:"ml-2",children:$.isRecurrent?n.jsx(EP,{className:"w-4 h-4 inline text-green-500"}):n.jsx(Il,{className:"w-4 h-4 inline text-muted-foreground"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prize Awarded:"}),n.jsx("span",{className:"ml-2",children:$.prizeAwarded?n.jsx(EP,{className:"w-4 h-4 inline text-green-500"}):n.jsx(Il,{className:"w-4 h-4 inline text-muted-foreground"})})]})]}),n.jsx(Mn,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(Rr,{className:"w-4 h-4"}),"Entries (",$.entries.length,"/",$.maxEntries,")"]}),$.entries.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No entries yet"}):n.jsx(Hi,{className:"h-[150px]",children:n.jsx("div",{className:"space-y-2",children:$.entries.map(ae=>n.jsxs("div",{className:`p-2 border rounded-md text-sm ${ae.isWinner?"border-yellow-500 bg-yellow-500/10":""}`,"data-testid":`entry-item-${ae.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-mono text-xs",children:["Hero #",ae.heroId]}),ae.isWinner&&n.jsx(W,{className:"bg-yellow-500 text-black",children:"Winner"})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["XP: ",ae.heroCurrentXp]}),n.jsx("span",{children:ae.heroReadyToLevel?"Ready to level":"Training..."})]})]},ae.id))})})]}),n.jsx(Mn,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(tf,{className:"w-4 h-4"}),"Recent Events"]}),n.jsx(Hi,{className:"h-[150px]",children:B?.events&&B.events.length>0?n.jsx("div",{className:"space-y-2",children:B.events.slice(-10).reverse().map(ae=>n.jsxs("div",{className:"text-sm border-l-2 border-muted pl-2",children:[n.jsxs("p",{className:"text-muted-foreground text-xs",children:[ae.eventType," - ",Nve(ae.createdAt)]}),n.jsx("p",{className:"italic",children:ae.commentary})]},ae.id))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No events yet"})})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"Pool not found"}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yc,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Select a pool from the list"})]})})]})]})]})}function Eve(){const{data:e,isLoading:t,refetch:r}=_e({queryKey:["/api/admin/tokens"]}),a=Oe({mutationFn:async c=>await ze("/api/admin/tokens/sync",{method:"POST",body:JSON.stringify({fullSync:c})}),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/tokens"]})}}),s=c=>`${c.slice(0,6)}...${c.slice(-4)}`,l=c=>new Date(c).toLocaleString();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Token Registry"}),n.jsx("p",{className:"text-muted-foreground",children:"DFK Chain token metadata from RouteScan"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{variant:"outline",onClick:()=>r(),disabled:t,"data-testid":"button-refresh",children:[n.jsx(rt,{className:`mr-2 h-4 w-4 ${t?"animate-spin":""}`}),"Refresh"]}),n.jsxs(se,{onClick:()=>a.mutate(!1),disabled:a.isPending,"data-testid":"button-sync-known",children:[a.isPending?n.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(es,{className:"mr-2 h-4 w-4"}),"Sync Known Tokens"]}),n.jsxs(se,{variant:"secondary",onClick:()=>a.mutate(!0),disabled:a.isPending,"data-testid":"button-sync-full",children:[a.isPending?n.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Full RouteScan Sync"]})]})]}),a.isSuccess&&n.jsx(X,{className:"border-green-500/50 bg-green-500/10",children:n.jsx(te,{className:"pt-4",children:n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400","data-testid":"text-sync-result",children:["Sync complete: ",a.data.added," added, ",a.data.updated," updated, ",a.data.errors," errors"]})})}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"h-5 w-5"}),"Registered Tokens"]}),n.jsxs(Se,{children:[e?.count||0," tokens in registry"]})]}),n.jsx(te,{children:t?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(rt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Symbol"}),n.jsx(V,{children:"Name"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-center",children:"Decimals"}),n.jsx(V,{className:"text-center",children:"Holders"}),n.jsx(V,{children:"Chain"}),n.jsx(V,{children:"Last Updated"})]})}),n.jsxs(vt,{children:[e?.tokens.map(c=>n.jsxs(Ee,{"data-testid":`row-token-${c.id}`,children:[n.jsx(U,{children:n.jsx(W,{variant:"secondary","data-testid":`badge-symbol-${c.id}`,children:c.symbol})}),n.jsx(U,{className:"font-medium","data-testid":`text-name-${c.id}`,children:c.name}),n.jsx(U,{children:n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded","data-testid":`text-address-${c.id}`,children:s(c.address)})}),n.jsx(U,{className:"text-center","data-testid":`text-decimals-${c.id}`,children:c.decimals}),n.jsx(U,{className:"text-center","data-testid":`text-holders-${c.id}`,children:c.holders?c.holders.toLocaleString():"-"}),n.jsx(U,{children:n.jsx(W,{variant:"outline","data-testid":`badge-chain-${c.id}`,children:c.chain.toUpperCase()})}),n.jsx(U,{className:"text-muted-foreground text-sm","data-testid":`text-updated-${c.id}`,children:l(c.lastUpdatedAt)})]},c.id)),(!e?.tokens||e.tokens.length===0)&&n.jsx(Ee,{children:n.jsx(U,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:'No tokens registered. Click "Sync Known Tokens" to populate.'})})]})]})})]})]})}const Ave={light:"",dark:".dark"},ZF=p.createContext(null);function JF(){const e=p.useContext(ZF);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const _w=p.forwardRef(({id:e,className:t,children:r,config:a,...s},l)=>{const c=p.useId(),d=`chart-${e||c.replace(/:/g,"")}`;return n.jsx(ZF.Provider,{value:{config:a},children:n.jsxs("div",{"data-chart":d,ref:l,className:Re("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...s,children:[n.jsx(Pve,{id:d,config:a}),n.jsx(Ou,{children:r})]})})});_w.displayName="Chart";const Pve=({id:e,config:t})=>{const r=Object.entries(t).filter(([,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Ave).map(([a,s])=>`
${s} [data-chart=${e}] {
${r.map(([l,c])=>{const d=c.theme?.[a]||c.color;return d?`  --color-${l}: ${d};`:null}).join(`
`)}
}
`).join(`
`)}}):null},DR=bg,Rw=p.forwardRef(({active:e,payload:t,className:r,indicator:a="dot",hideLabel:s=!1,hideIndicator:l=!1,label:c,labelFormatter:d,labelClassName:f,formatter:m,color:h,nameKey:g,labelKey:v},y)=>{const{config:N}=JF(),b=p.useMemo(()=>{if(s||!t?.length)return null;const[C]=t,E=`${v||C?.dataKey||C?.name||"value"}`,A=Mw(N,C,E),T=!v&&typeof c=="string"?N[c]?.label||c:A?.label;return d?n.jsx("div",{className:Re("font-medium",f),children:d(T,t)}):T?n.jsx("div",{className:Re("font-medium",f),children:T}):null},[c,d,t,s,f,N,v]);if(!e||!t?.length)return null;const w=t.length===1&&a!=="dot";return n.jsxs("div",{ref:y,className:Re("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[w?null:b,n.jsx("div",{className:"grid gap-1.5",children:t.map((C,E)=>{const A=`${g||C.name||C.dataKey||"value"}`,T=Mw(N,C,A),k=h||C.payload.fill||C.color;return n.jsx("div",{className:Re("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:m&&C?.value!==void 0&&C.name?m(C.value,C.name,C,E,C.payload):n.jsxs(n.Fragment,{children:[T?.icon?n.jsx(T.icon,{}):!l&&n.jsx("div",{className:Re("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":w&&a==="dashed"}),style:{"--color-bg":k,"--color-border":k}}),n.jsxs("div",{className:Re("flex flex-1 justify-between leading-none",w?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[w?b:null,n.jsx("span",{className:"text-muted-foreground",children:T?.label||C.name})]}),C.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:C.value.toLocaleString()})]})]})},C.dataKey)})})]})});Rw.displayName="ChartTooltip";const Ove=p.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:a="bottom",nameKey:s},l)=>{const{config:c}=JF();return r?.length?n.jsx("div",{ref:l,className:Re("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:r.map(d=>{const f=`${s||d.dataKey||"value"}`,m=Mw(c,d,f);return n.jsxs("div",{className:Re("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[m?.icon&&!t?n.jsx(m.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:d.color}}),m?.label]},d.value)})}):null});Ove.displayName="ChartLegend";function Mw(e,t,r){if(typeof t!="object"||t===null)return;const a="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let s=r;return r in t&&typeof t[r]=="string"?s=t[r]:a&&r in a&&typeof a[r]=="string"&&(s=a[r]),s in e?e[s]:e[r]}const Tve=[{value:"1w",label:"1W"},{value:"1m",label:"1M"},{value:"3m",label:"3M"},{value:"1y",label:"1Y"},{value:"2y",label:"2Y"},{value:"all",label:"All"}],LR={bridgedIn:{label:"Bridged In",color:"hsl(var(--chart-1))"},bridgedOut:{label:"Bridged Out",color:"hsl(var(--chart-2))"},netFlow:{label:"Net Flow",color:"hsl(var(--chart-3))"},extracted:{label:"Extracted",color:"hsl(var(--chart-4))"},value:{label:"Value",color:"hsl(var(--chart-1))"}};function kve(){const[e,t]=p.useState("all"),{data:r,isLoading:a}=_e({queryKey:["/api/admin/bridge/overview"]}),{data:s,isLoading:l}=_e({queryKey:["/api/admin/bridge/extractors",e],queryFn:async()=>{const A=await fetch(`/api/admin/bridge/extractors?timeRange=${e}&limit=1000`);if(!A.ok)throw new Error("Failed to fetch extractors");return A.json()}}),c=r&&!("error"in r)?r:null,d=Array.isArray(s)?s:[],f=A=>{const T=typeof A=="string"?parseFloat(A):A;return T>=1e9?`$${(T/1e9).toFixed(2)}B`:T>=1e6?`$${(T/1e6).toFixed(2)}M`:T>=1e3?`$${(T/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T)},m=A=>{const T=typeof A=="string"?parseFloat(A):A;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(T)},h=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=A=>`${A.slice(0,6)}...${A.slice(-4)}`,v=c?.events?.totalUsdIn||0,y=c?.events?.totalUsdOut||0,N=v-y,b=c?.metrics?.extractorCount||0,w=c?.metrics?.totalExtracted||0,C=[{name:"Bridged In",value:v,fill:"hsl(var(--chart-1))"},{name:"Bridged Out",value:y,fill:"hsl(var(--chart-2))"}],E=d.slice(0,10).map((A,T)=>({name:g(A.wallet),extracted:parseFloat(A.netExtractedUsd),fill:`hsl(var(--chart-${T%5+1}))`}));return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"extractors-analysis",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Extractor Analysis"}),n.jsx("p",{className:"text-muted-foreground",children:"Analyze bridge flow delta and identify value extractors"})]}),a?n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(A=>n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(Ae,{className:"h-4 w-24"})}),n.jsx(te,{children:n.jsx(Ae,{className:"h-8 w-32"})})]},A))}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(X,{"data-testid":"card-bridged-in",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Bridged In"}),n.jsx(np,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-bridged-in",children:f(v)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.events?.in?.toLocaleString()||0," events"]})]})]}),n.jsxs(X,{"data-testid":"card-bridged-out",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Bridged Out"}),n.jsx(rp,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-bridged-out",children:f(y)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.events?.out?.toLocaleString()||0," events"]})]})]}),n.jsxs(X,{"data-testid":"card-net-flow",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Net Flow (Delta)"}),N>=0?n.jsx(er,{className:"h-4 w-4 text-green-500"}):n.jsx(bu,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(te,{children:[n.jsxs("div",{className:`text-2xl font-bold ${N>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-net-flow",children:[N>=0?"+":"",f(N)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:N>=0?"Net inflow to DFK":"Net outflow from DFK"})]})]}),n.jsxs(X,{"data-testid":"card-extractors",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Extractors Identified"}),n.jsx($l,{className:"h-4 w-4 text-amber-500"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-extractor-count",children:b.toLocaleString()}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(w)," total extracted"]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Bridge Flow Breakdown"}),n.jsx(Se,{children:"Total USD value bridged in vs out"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"h-[300px]",children:n.jsx(_w,{config:LR,className:"h-full w-full",children:n.jsxs(Ag,{children:[n.jsx(Rf,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",nameKey:"name",label:({name:A,value:T})=>`${A}: ${f(T)}`,labelLine:!0,children:C.map((A,T)=>n.jsx(ri,{fill:A.fill},`cell-${T}`))}),n.jsx(DR,{content:n.jsx(Rw,{formatter:A=>m(A)})}),n.jsx(xf,{})]})})}),n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),n.jsxs("span",{className:"text-lg font-bold",children:[v>0?(N/v*100).toFixed(1):0,"%"]})]}),n.jsx(Xt,{value:v>0?Math.max(0,N/v*100):0,className:"mt-2 h-2"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Percentage of bridged-in value retained in DFK"})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Top 10 Extractors"}),n.jsx(Se,{children:"Wallets with highest net extraction"})]}),n.jsx(te,{children:n.jsx("div",{className:"h-[300px]",children:E.length>0?n.jsx(_w,{config:LR,className:"h-full w-full",children:n.jsxs(Bxe,{data:E,layout:"vertical",margin:{left:80,right:20,top:10,bottom:10},children:[n.jsx(jS,{type:"number",tickFormatter:A=>f(A)}),n.jsx(wS,{type:"category",dataKey:"name",width:75,tick:{fontSize:11}}),n.jsx(DR,{content:n.jsx(Rw,{formatter:A=>m(A)})}),n.jsx(b6,{dataKey:"extracted",radius:4,children:E.map((A,T)=>n.jsx(ri,{fill:A.fill},`cell-${T}`))})]})}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No extractor data available"})})})]})]})]}),n.jsxs(X,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-5 w-5"}),"All Extractors"]}),n.jsx(Se,{children:"Wallets that have extracted more value than they brought in (net extracted > $100)"})]}),n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg","data-testid":"time-range-filter",children:Tve.map(A=>n.jsx(se,{variant:e===A.value?"default":"ghost",size:"sm",onClick:()=>t(A.value),className:"h-7 px-3 text-xs font-medium","data-testid":`button-time-${A.value}`,children:A.label},A.value))})]})}),n.jsx(te,{children:l?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(A=>n.jsx(Ae,{className:"h-12 w-full"},A))}):d.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No extractors identified yet. Run the bridge indexer and metrics refresh."}):n.jsx(Hi,{className:"h-[500px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-2 text-xs font-medium text-muted-foreground bg-muted/50 rounded-md",children:[n.jsx("div",{children:"Wallet"}),n.jsx("div",{children:"Summoner"}),n.jsx("div",{className:"text-right",children:"Bridged In"}),n.jsx("div",{className:"text-right",children:"Bridged Out"}),n.jsx("div",{className:"text-right",children:"Net Extracted"}),n.jsx("div",{className:"text-right",children:"Last Bridge Amt"}),n.jsx("div",{className:"text-center",children:"Flags"}),n.jsx("div",{className:"text-right",children:"Last Bridge"})]}),n.jsx(Mn,{}),d.map(A=>{const T=parseFloat(A.netExtractedUsd),k=A.extractorFlags?.includes("heavy_extractor"),P=A.extractorFlags?.includes("net_extractor");return n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-3 text-sm items-center hover-elevate rounded-md","data-testid":`row-extractor-${A.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lc,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${A.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline flex items-center gap-1","data-testid":`link-wallet-${A.id}`,children:[g(A.wallet),n.jsx(mr,{className:"h-3 w-3"})]})]}),n.jsx("div",{className:"text-xs text-primary font-medium truncate","data-testid":`text-summoner-${A.id}`,children:A.summonerName||"*"}),n.jsx("div",{className:"text-right text-green-600 font-medium",children:f(A.totalBridgedInUsd)}),n.jsx("div",{className:"text-right text-red-600 font-medium",children:f(A.totalBridgedOutUsd)}),n.jsx("div",{className:`text-right font-bold ${T>0?"text-amber-600":"text-foreground"}`,children:f(T)}),n.jsx("div",{className:"text-right text-muted-foreground",children:A.lastBridgeAmountUsd?f(A.lastBridgeAmountUsd):"-"}),n.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[k&&n.jsx(W,{variant:"destructive",className:"text-xs",children:"Heavy"}),P&&!k&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Net"}),!k&&!P&&n.jsx(W,{variant:"outline",className:"text-xs",children:"-"})]}),n.jsx("div",{className:"text-right text-muted-foreground text-xs",children:A.lastBridgeAt?h(A.lastBridgeAt):"-"})]},A.id)})]})})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Flow Statistics"}),n.jsx(Se,{children:"Detailed breakdown of bridge activity"})]}),n.jsx(te,{children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Gi,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Value Bridged In"})]}),n.jsx("p",{className:"text-2xl font-bold",children:m(v)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Across ",c?.events?.in?.toLocaleString()||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Gi,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Value Bridged Out"})]}),n.jsx("p",{className:"text-2xl font-bold",children:m(y)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Across ",c?.events?.out?.toLocaleString()||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[N>=0?n.jsx(er,{className:"h-5 w-5 text-green-500"}):n.jsx(bu,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Net Flow (Delta)"})]}),n.jsxs("p",{className:`text-2xl font-bold ${N>=0?"text-green-600":"text-red-600"}`,children:[N>=0?"+":"",m(N)]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:N>=0?"Value retained in ecosystem":"Value extracted from ecosystem"})]})]})})]})]})}function _ve(){const[,e]=Ha(),{data:t,isLoading:r,refetch:a}=_e({queryKey:["/api/admin/pools"],refetchInterval:3e4}),s=d=>d==null||isNaN(d)?"$0.00":d>=1e6?`$${(d/1e6).toFixed(2)}M`:d>=1e3?`$${(d/1e3).toFixed(2)}K`:`$${d.toFixed(2)}`,l=d=>d==null||isNaN(d)?"0.00%":`${(d*100).toFixed(2)}%`,c=d=>{e(`/admin/pools/${d}`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Garden Pools"}),n.jsx("p",{className:"text-muted-foreground",children:"LP pools with APR breakdowns and gardener analytics"})]}),n.jsxs(se,{variant:"outline",onClick:()=>a(),disabled:r,"data-testid":"button-refresh",children:[n.jsx(rt,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(xu,{className:"h-5 w-5"}),"Active Pools"]}),n.jsxs(Se,{children:[t?.count||0," pools with staked liquidity"]})]}),n.jsx(te,{children:r?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(rt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"PID"}),n.jsx(V,{children:"Pair"}),n.jsx(V,{className:"text-right",children:"V1 TVL"}),n.jsx(V,{className:"text-right",children:"V2 TVL"}),n.jsx(V,{className:"text-right",children:"Total TVL"}),n.jsx(V,{className:"text-right",children:"Passive APR"}),n.jsx(V,{className:"text-right",children:"Active APR"}),n.jsx(V,{className:"text-right",children:"Total APR"}),n.jsx(V,{className:"w-10"})]})}),n.jsxs(vt,{children:[t?.pools.map(d=>n.jsxs(Ee,{className:"cursor-pointer hover-elevate",onClick:()=>c(d.pid),"data-testid":`row-pool-${d.pid}`,children:[n.jsx(U,{children:n.jsx(W,{variant:"outline","data-testid":`badge-pid-${d.pid}`,children:d.pid})}),n.jsx(U,{children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium","data-testid":`text-pair-${d.pid}`,children:d.pairName})})}),n.jsx(U,{className:"text-right","data-testid":`text-v1-tvl-${d.pid}`,children:d.v1TVL>0?n.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:s(d.v1TVL)}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right","data-testid":`text-v2-tvl-${d.pid}`,children:d.v2TVL>0?n.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:s(d.v2TVL)}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-tvl-${d.pid}`,children:s(d.tvl)}),n.jsx(U,{className:"text-right","data-testid":`text-passive-apr-${d.pid}`,children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(er,{className:"h-3 w-3 text-muted-foreground"}),l(d.passiveAPR)]})}),n.jsx(U,{className:"text-right","data-testid":`text-active-apr-${d.pid}`,children:d.activeAPRMin===d.activeAPRMax?l(d.activeAPRMin):n.jsxs("span",{className:"text-muted-foreground",children:[l(d.activeAPRMin)," - ",l(d.activeAPRMax)]})}),n.jsx(U,{className:"text-right","data-testid":`text-total-apr-${d.pid}`,children:n.jsx(W,{variant:"secondary",children:d.totalAPRMin===d.totalAPRMax?l(d.totalAPRMin):`${l(d.totalAPRMin)} - ${l(d.totalAPRMax)}`})}),n.jsx(U,{children:n.jsx(ef,{className:"h-4 w-4 text-muted-foreground"})})]},d.pid)),(!t?.pools||t.pools.length===0)&&n.jsx(Ee,{children:n.jsx(U,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No pools found. Check that pool analytics cache is populated."})})]})]})})]})]})}function Rve(){const{pid:e}=Yu(),[,t]=Ha(),{toast:r}=fn(),[a,s]=p.useState(4),[l,c]=p.useState("300000"),{data:d,isLoading:f,refetch:m}=_e({queryKey:["/api/admin/pools",e],enabled:!!e}),{data:h,isLoading:g,refetch:v,isFetching:y}=_e({queryKey:["/api/admin/pools",e,"all-stakers"],enabled:!!e}),{data:N,refetch:b}=_e({queryKey:["/api/admin/pool-indexer/status"],refetchInterval:2e3}),w=N?.unifiedIndexers?.find(_=>_.pid===Number(e)),C=w?.live?{isRunning:w.live.isRunning,currentBlock:w.live.currentBlock,targetBlock:w.live.targetBlock,totalEventsFound:(w.live.stakersFound||0)+(w.live.swapsFound||0)+(w.live.rewardsFound||0),totalStakersFound:w.live.stakersFound||0,batchesCompleted:0,startedAt:null,lastBatchAt:null,lastBatchEventsFound:0,percentComplete:w.live.percentComplete}:null,E=w?{pid:w.pid,lastBlock:w.lastIndexedBlock,stakersFound:w.live?.stakersFound||0,lastUpdated:w.updatedAt,isComplete:w.status==="complete"}:void 0,A=!!w?.autoRun,T=Oe({mutationFn:async()=>{const Q=await(await ze("POST","/api/admin/pool-indexer/unified/auto-run",{pid:Number(e),action:"start",intervalMs:parseInt(l)})).text();return Q?JSON.parse(Q):{success:!0}},onSuccess:()=>{r({title:"Auto-Run Started",description:`Unified indexer will run automatically every ${parseInt(l)/6e4} minutes.`}),b()},onError:_=>{r({title:"Error Starting Auto-Run",description:_.message,variant:"destructive"})}}),k=Oe({mutationFn:async()=>{const Q=await(await ze("POST","/api/admin/pool-indexer/unified/auto-run",{pid:Number(e),action:"stop"})).text();return Q?JSON.parse(Q):{success:!0}},onSuccess:_=>{r({title:"Auto-Run Stopped",description:`Completed ${_.result?.runsCompleted||0} runs before stopping.`}),b()},onError:_=>{r({title:"Error Stopping Auto-Run",description:_.message,variant:"destructive"})}}),P=_=>{_?T.mutate():k.mutate()},M=Oe({mutationFn:async()=>{const Q=await(await ze("POST","/api/admin/pool-indexer/unified/trigger",{pid:Number(e)})).text();return Q?JSON.parse(Q):{success:!0}},onSuccess:_=>{const Q=_;r({title:"Unified Batch Complete",description:`Found ${Q.result?.stakersUpdated||0} stakers, ${Q.result?.swapsSaved||0} swaps, ${Q.result?.rewardsSaved||0} rewards.`}),b(),v()},onError:_=>{r({title:"Indexer Error",description:_.message,variant:"destructive"})}}),I=Oe({mutationFn:async()=>(r({title:"Names Update",description:"Summoner name updates happen automatically during indexing."}),{success:!0}),onSuccess:()=>{v()},onError:_=>{r({title:"Update Error",description:_.message,variant:"destructive"})}}),Y=Oe({mutationFn:async()=>{const Q=await(await ze("POST","/api/admin/pool-indexer/unified/reset",{pid:Number(e)})).text();return Q?JSON.parse(Q):{success:!0}},onSuccess:()=>{r({title:"Index Reset",description:"Unified indexer has been reset. Run indexer to rebuild."}),b(),v()},onError:_=>{r({title:"Reset Error",description:_.message,variant:"destructive"})}}),L=_=>_==null?"$0.00":_>=1e6?`$${(_/1e6).toFixed(2)}M`:_>=1e3?`$${(_/1e3).toFixed(2)}K`:`$${_.toFixed(2)}`,R=_=>_==null?"0.00%":`${_.toFixed(2)}%`,q=_=>`${_.slice(0,6)}...${_.slice(-4)}`,ve=()=>{m(),v()},K=d?.pool,ee=d?.aprBreakdown,z=f||g,[Z,$]=p.useState("1y"),de=_=>{if(_==null)return 0;switch(Z){case"1m":return _/12;case"24h":return _/365;default:return _}},B=()=>{switch(Z){case"1m":return"Monthly";case"24h":return"Daily";default:return"Annual"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(se,{variant:"ghost",size:"icon",onClick:()=>t("/admin/pools"),"data-testid":"button-back",children:n.jsx(Wi,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:K?.pairName||`Pool ${e}`}),n.jsxs("p",{className:"text-muted-foreground",children:["Pool ID: ",e," ",K?.lpToken&&` LP: ${q(K.lpToken)}`]})]})]}),n.jsxs(se,{variant:"outline",onClick:ve,disabled:z,"data-testid":"button-refresh",children:[n.jsx(rt,{className:`mr-2 h-4 w-4 ${z?"animate-spin":""}`}),"Refresh"]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(rt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):K?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"APR Window:"}),n.jsx("div",{className:"flex gap-1",children:["1y","1m","24h"].map(_=>n.jsx(se,{variant:Z===_?"default":"outline",size:"sm",onClick:()=>$(_),"data-testid":`button-apr-${_}`,children:_.toUpperCase()},_))}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",B()," rates)"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Value Locked"}),n.jsx(xu,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tvl",children:L(K.totalTVL)})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Passive APR"}),n.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-passive-apr",children:R(de(ee?.passive?.totalPassive))}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Fee: ",R(de(ee?.passive?.feeAprValue))," + Harvest: ",R(de(ee?.passive?.harvestAprValue))]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Active APR"}),n.jsx(lr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-apr",children:de(ee?.active?.questAprWorst)===de(ee?.active?.questAprBest)?R(de(ee?.active?.questAprWorst)):`${R(de(ee?.active?.questAprWorst))} - ${R(de(ee?.active?.questAprBest))}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Hero-dependent quest rewards"})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total APR"}),n.jsx(er,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400","data-testid":"text-total-apr",children:de(ee?.total?.worst)===de(ee?.total?.best)?R(de(ee?.total?.worst)):`${R(de(ee?.total?.worst))} - ${R(de(ee?.total?.best))}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined passive + active APR"})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(Rr,{className:"h-5 w-5"}),"All Gardeners List"]}),n.jsxs(Se,{className:"flex items-center gap-2 flex-wrap",children:[h?.count||0," wallets staked in this pool",typeof h?.activeWalletCount=="number"&&n.jsx(iD,{delayDuration:0,children:n.jsxs(uu,{children:[n.jsx(fu,{asChild:!0,children:n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground cursor-default",children:[n.jsx(PP,{className:"h-3 w-3"}),h.activeWalletCount," active wallets",n.jsx("span",{className:"text-[10px]",children:"(last 30d)"})]})}),n.jsx(fc,{children:n.jsx("p",{className:"max-w-xs text-sm",children:"Active wallets have recent activity in the past 30 days and a non-zero stake across V1 or V2."})})]})}),h?.source&&n.jsx(W,{variant:h.source==="indexed"?"default":"secondary",children:h.source==="indexed"?"Indexed":"Live Scan"})]})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>v(),disabled:y,"data-testid":"button-fetch-stakers",children:[n.jsx(rt,{className:`mr-2 h-4 w-4 ${y?"animate-spin":""}`}),y?"Fetching...":"Fetch Stakers"]})]}),n.jsx(te,{children:g||y?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(rt,{className:"h-8 w-8 animate-spin text-muted-foreground"}),n.jsx("span",{className:"ml-2 text-muted-foreground",children:"Scanning blockchain..."})]}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Wallet"}),n.jsx(V,{children:"Summoner"}),n.jsx(V,{className:"text-right",children:"V1 USD"}),n.jsx(V,{className:"text-right",children:"V2 USD"}),n.jsx(V,{className:"text-right",children:"Total"}),n.jsx(V,{className:"text-right",children:"Last Activity"})]})}),n.jsxs(vt,{children:[h?.stakers.map((_,Q)=>n.jsxs(Ee,{"data-testid":`row-staker-${Q}`,children:[n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${_.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm hover:underline",onClick:fe=>fe.stopPropagation(),"data-testid":`link-wallet-${Q}`,children:[n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:q(_.wallet)}),n.jsx(mr,{className:"h-3 w-3"})]})}),n.jsx(U,{"data-testid":`text-summoner-${Q}`,children:_.summonerName?n.jsx("span",{className:"font-medium text-primary",children:_.summonerName}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-v1-${Q}`,children:(()=>{const fe=parseFloat(_.v1Value);return!isNaN(fe)&&fe>0?n.jsxs("span",{className:"text-amber-600 dark:text-amber-400",children:["$",fe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})()}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-v2-${Q}`,children:(()=>{const fe=parseFloat(_.v2Value);return!isNaN(fe)&&fe>0?n.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",fe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})()}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-total-${Q}`,children:(()=>{const fe=parseFloat(_.totalValue);return!isNaN(fe)&&fe>0?`$${fe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"})()}),n.jsx(U,{className:"text-right","data-testid":`text-activity-${Q}`,children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx(W,{variant:_.lastActivity.type==="Deposit"?"default":"secondary",children:_.lastActivity.type}),_.lastActivity.amount&&n.jsxs("span",{className:"text-xs font-medium",children:[parseFloat(_.lastActivity.amount)>1e-4?parseFloat(_.lastActivity.amount).toFixed(4):"<0.0001"," LP"]}),_.lastActivity.date&&n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(_.lastActivity.date).toLocaleDateString()})]})})]},_.wallet)),(!h?.stakers||h.stakers.length===0)&&n.jsx(Ee,{children:n.jsx(U,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:'No stakers found. Click "Fetch Stakers" to scan blockchain.'})})]})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(es,{className:"h-5 w-5"}),"Unified Indexer"]}),n.jsx(Se,{children:"Scans Deposit, Withdraw, Swap, and Harvest events in a single blockchain pass"})]}),n.jsxs(te,{className:"space-y-4",children:[C&&(C.isRunning||C.completedAt&&A)&&n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-3","data-testid":"section-live-progress",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:C.isRunning?n.jsxs(n.Fragment,{children:[n.jsx(rt,{className:"h-4 w-4 animate-spin text-primary"}),n.jsx("span",{className:"font-medium",children:"Indexing in Progress"})]}):n.jsxs(n.Fragment,{children:[n.jsx(es,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"Sync Complete"})]})}),n.jsxs(W,{variant:C.isRunning?"default":"secondary","data-testid":"badge-percent-complete",children:[C.percentComplete.toFixed(1),"%"]})]}),n.jsx(Xt,{value:C.percentComplete,className:"h-2","data-testid":"progress-indexer"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Current Block"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-current-block",children:C.currentBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Target Block"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-target-block",children:C.targetBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Events Found"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-events",children:C.totalEventsFound.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Batches Completed"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-batches",children:C.batchesCompleted.toLocaleString()})]})]}),C.completedAt&&!C.isRunning&&n.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Completed at ",new Date(C.completedAt).toLocaleTimeString()," - waiting for new blocks"]}),C.lastBatchAt&&C.isRunning&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last batch: ",new Date(C.lastBatchAt).toLocaleTimeString(),"(",C.lastBatchEventsFound," events)"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Indexed Block"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-block",children:C?.currentBlock?.toLocaleString()||E?.lastBlock?.toLocaleString()||"Not started"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Stakers Found"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-stakers",children:C?.totalStakersFound?.toLocaleString()||E?.stakersFound?.toLocaleString()||"0"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-events",children:C?.totalEventsFound?.toLocaleString()||"0"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(W,{variant:C?.isRunning||E?.isComplete?"default":"secondary","data-testid":"badge-indexer-status",children:C?.isRunning?"Indexing...":E?.isComplete?"Complete":"Idle"})]})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[n.jsx(zV,{className:`h-4 w-4 ${A?"text-green-500":"text-muted-foreground"}`}),n.jsx("span",{className:"text-sm font-medium",children:"Auto-Run:"}),n.jsx(Wr,{checked:A,onCheckedChange:P,disabled:T.isPending||k.isPending,"data-testid":"switch-auto-run"}),n.jsxs(dt,{value:l,onValueChange:c,disabled:A,children:[n.jsx(lt,{className:"w-28","data-testid":"select-auto-run-interval",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"60000",children:"1 min"}),n.jsx(be,{value:"300000",children:"5 min"}),n.jsx(be,{value:"600000",children:"10 min"}),n.jsx(be,{value:"1800000",children:"30 min"}),n.jsx(be,{value:"3600000",children:"1 hour"})]})]}),A&&w?.autoRun&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(dq,{className:"h-3 w-3"}),n.jsxs("span",{children:[w.autoRun.runsCompleted," runs"]})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Workers:"}),n.jsxs(dt,{value:a.toString(),onValueChange:_=>s(Number(_)),children:[n.jsx(lt,{className:"w-20","data-testid":"select-workers",children:n.jsx(ut,{})}),n.jsx(ot,{children:[1,2,4,6,8].map(_=>n.jsx(be,{value:_.toString(),children:_},_))})]})]}),n.jsxs(se,{onClick:()=>M.mutate(),disabled:M.isPending,"data-testid":"button-run-indexer",children:[M.isPending?n.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Dn,{className:"mr-2 h-4 w-4"}),M.isPending?"Indexing...":"Run Indexer Batch"]}),n.jsxs(se,{variant:"outline",onClick:()=>I.mutate(),disabled:I.isPending,"data-testid":"button-update-names",children:[I.isPending?n.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(PP,{className:"mr-2 h-4 w-4"}),I.isPending?"Updating...":"Update Summoner Names"]}),n.jsxs(se,{variant:"outline",onClick:()=>Y.mutate(),disabled:Y.isPending,"data-testid":"button-reset-index",children:[Y.isPending?n.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(gu,{className:"mr-2 h-4 w-4"}),"Reset Index"]})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(er,{className:"h-5 w-5"}),"Pool Activity"]}),n.jsx(Se,{children:"Recent staking and unstaking activity for this pool"})]}),n.jsx(te,{children:n.jsxs("div",{className:"py-8 text-center text-muted-foreground","data-testid":"text-activity-placeholder",children:[n.jsx("p",{children:"Activity tracking coming soon."}),n.jsx("p",{className:"text-sm mt-2",children:"This section will show recent deposits, withdrawals, and quest completions."})]})})]})]}):n.jsx(X,{children:n.jsx(te,{className:"py-8",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Pool not found or data unavailable."})})})]})}function ez({status:e,isRunning:t}){return t?n.jsxs(W,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Me,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(W,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(wa,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(W,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(sr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(W,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(tf,{className:"w-3 h-3"}),"Idle"]})}function Ar(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Jb(e){if(!e)return 0;const t=parseFloat(e);return isNaN(t)?0:t}function Yh(e){return e.toLocaleString()}function tz(e,t){const r=typeof e=="number"&&!isNaN(e),a=typeof t=="number"&&!isNaN(t);return!r&&!a?null:r&&a&&e!==t?`${Yh(e)}  ${Yh(t)}`:Yh(r?e:t)}function Qh(e){return[...e].sort((t,r)=>t.pid-r.pid)}function Mve(e,t,r){if(t<=0||t>=100)return null;const a=r.get(e);if(!a||a.length<2)return null;const c=Date.now()-3e4,d=a.filter(N=>N.time>=c);if(d.length<2){if(a.length>=2){const N=a[0],b=a[a.length-1],w=b.time-N.time,C=b.percent-N.percent;if(w<5e3||C<=0)return null;const E=C/w;if(!isFinite(E)||E<=0)return null;const A=(100-t)/E;return IR(A)}return null}const f=d[0],m=d[d.length-1],h=m.time-f.time,g=m.percent-f.percent;if(h<3e3||g<=0)return null;const v=g/h;if(!isFinite(v)||v<=0)return null;const y=(100-t)/v;return isFinite(y)?IR(y):null}function IR(e){if(!isFinite(e)||e<0)return null;const t=Math.floor(e/1e3);if(t<60)return`~${t}s`;const r=Math.floor(t/60);if(r<60)return`~${r}m`;const a=Math.floor(r/60),s=r%60;if(a<24)return`~${a}h ${s}m`;const l=Math.floor(a/24),c=a%24;return`~${l}d ${c}h`}function Dve(e,t,r,a){const s=Date.now(),l=6e4;if(!a||r<=0||r>=100){e.delete(t);return}let c=e.get(t);c||(c=[],e.set(t,c));const d=c[c.length-1];(!d||s-d.time>=1e3)&&c.push({time:s,percent:r});const f=s-l;for(;c.length>0&&c[0].time<f;)c.shift()}function Lve(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Ae,{className:"h-10 w-40"}),n.jsx(Ae,{className:"h-10 w-40"}),n.jsx(Ae,{className:"h-10 w-40"})]}),n.jsx(X,{children:n.jsx(te,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4].map(e=>n.jsx(Ae,{className:"h-12 w-full"},e))})})})]})}function $R({indexers:e,type:t,onTrigger:r,onAutoRun:a,isTriggering:s}){return!e||e.length===0?n.jsx(X,{children:n.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:["No ",t," indexers found. Trigger a batch to initialize."]})}):n.jsx(X,{children:n.jsx(te,{className:"p-0",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-16",children:"Pool"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Progress"}),n.jsx(V,{className:"text-right",children:"Events"}),n.jsx(V,{className:"text-right",children:"Last Block"}),n.jsx(V,{className:"text-right",children:"Updated"}),n.jsx(V,{className:"text-right",children:"Actions"})]})}),n.jsx(vt,{children:e.map(l=>{const c=l.live?.isRunning||!1,d=l.live?.percentComplete||0,f=!!l.autoRun,m=l.live?.currentBlock??l.lastIndexedBlock,h=l.live?.targetBlock??l.lastIndexedBlock,g=tz(m,h),v=l.updatedAt?new Date(l.updatedAt).toLocaleTimeString():null,y=t==="swap"?l.swapEventCount??l.live?.totalEventsFound??l.totalEventsIndexed:l.rewardEventCount??l.live?.totalEventsFound??l.totalEventsIndexed;return n.jsxs(Ee,{"data-testid":`row-indexer-${t}-${l.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",l.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(ez,{status:l.status,isRunning:c}),f&&n.jsxs(W,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1 text-xs",children:[n.jsx(lr,{className:"w-3 h-3"}),"Auto (",l.autoRun.runsCompleted," runs)"]})]})}),n.jsxs(U,{children:[c&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Xt,{value:d,className:"h-2 w-24"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.toFixed(1),"%"]}),g&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Blocks ",g]})]}),!c&&l.status==="complete"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-green-500",children:"Synced"}),g&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Last at ",g]})]})]}),n.jsx(U,{className:"text-right font-mono",children:Ar(y||0)}),n.jsx(U,{className:"text-right font-mono text-xs",children:m!==void 0?Yh(m):"-"}),n.jsx(U,{className:"text-right text-xs text-muted-foreground",children:v||"-"}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(se,{size:"sm",variant:"ghost",onClick:()=>r(l.pid),disabled:c||s,"data-testid":`button-trigger-${t}-${l.pid}`,children:s?n.jsx(Me,{className:"w-4 h-4 animate-spin"}):n.jsx(Dn,{className:"w-4 h-4"})}),n.jsx(se,{size:"sm",variant:f?"destructive":"outline",onClick:()=>a(l.pid,f?"stop":"start"),"data-testid":`button-auto-${t}-${l.pid}`,children:f?n.jsx(Jr,{className:"w-4 h-4"}):n.jsx(lr,{className:"w-4 h-4"})})]})})]},l.indexerName)})})]})})})}function Ive({aggregates:e}){const t=(e||[]).filter(r=>r!=null&&r.pid!==void 0);return t.length===0?n.jsx(X,{children:n.jsx(te,{className:"p-8 text-center text-muted-foreground",children:"No aggregates computed yet. Trigger aggregation to compute."})}):n.jsx(X,{children:n.jsx(te,{className:"p-0",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-16",children:"Pool"}),n.jsx(V,{children:"Date"}),n.jsx(V,{className:"text-right",children:"TVL"}),n.jsx(V,{className:"text-right",children:"Volume 24h"}),n.jsx(V,{className:"text-right",children:"Fees 24h"}),n.jsx(V,{className:"text-right",children:"Rewards 24h"}),n.jsx(V,{className:"text-right",children:"Fee APR"}),n.jsx(V,{className:"text-right",children:"Reward APR"}),n.jsx(V,{className:"text-right",children:"Total APR"})]})}),n.jsx(vt,{children:t.map(r=>n.jsxs(Ee,{"data-testid":`row-aggregate-${r.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",r.pid]}),n.jsx(U,{children:r.date}),n.jsxs(U,{className:"text-right font-mono",children:["$",Ar(r.tvl)]}),n.jsxs(U,{className:"text-right font-mono",children:["$",Ar(r.volume24h)]}),n.jsxs(U,{className:"text-right font-mono",children:["$",Ar(r.fees24h)]}),n.jsxs(U,{className:"text-right font-mono",children:[Ar(r.rewards24h)," CRYSTAL"]}),n.jsxs(U,{className:"text-right font-mono text-blue-500",children:[Jb(r.feeApr).toFixed(2),"%"]}),n.jsxs(U,{className:"text-right font-mono text-purple-500",children:[Jb(r.harvestApr).toFixed(2),"%"]}),n.jsxs(U,{className:"text-right font-mono text-green-500 font-bold",children:[Jb(r.totalApr).toFixed(2),"%"]})]},`${r.pid}-${r.date}`))})]})})})}function $ve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return null;const a=e.filter(d=>d.isRunning),s=e.reduce((d,f)=>d+(f.percentComplete??0),0)/e.length,l=Math.min(...e.map(d=>d.percentComplete??0)),c=Math.max(...e.map(d=>d.percentComplete??0));return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover-elevate rounded px-1 py-0.5",onClick:()=>r(!t),"data-testid":"worker-summary",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-14",children:[a.length,"/",e.length,"w"]}),n.jsx(Xt,{value:s,className:"h-1.5 flex-1 bg-blue-100"}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[s.toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:t?"":"+"})]}),t&&n.jsxs("div",{className:"pl-2 space-y-0.5 border-l-2 border-muted ml-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",l.toFixed(0),"% - ",c.toFixed(0),"%"]}),e.map(d=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["W",d.workerId]}),n.jsx(Xt,{value:d.percentComplete,className:`h-1 flex-1 ${d.isRunning?"bg-blue-100":"bg-muted"}`}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[(d.percentComplete??0).toFixed(0),"%"]})]},d.workerId))]})]})}function Fve({indexers:e,onTrigger:t,onAutoRun:r,isTriggering:a,workerStatus:s,progressHistory:l}){for(const f of e){const m=f.live?.isRunning||!1,h=f.live?.percentComplete||0,g=`unified-${f.pid}`;Dve(l,g,h,m)}if(!e||e.length===0)return n.jsx(X,{children:n.jsx(te,{className:"p-8 text-center text-muted-foreground",children:"No unified indexers found. Trigger a batch to initialize a pool."})});const c=new Map;if(s?.pools)for(const f of s.pools)c.set(f.pid,(c.get(f.pid)||0)+1);const d=Qh(e);return n.jsx(X,{children:n.jsx(te,{className:"p-0",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-16",children:"Pool"}),n.jsx(V,{children:"Status"}),n.jsx(V,{className:"w-48",children:"Workers"}),n.jsx(V,{className:"text-right",children:"Stakers"}),n.jsx(V,{className:"text-right",children:"Swaps"}),n.jsx(V,{className:"text-right",children:"Rewards"}),n.jsx(V,{className:"text-right",children:"Actions"})]})}),n.jsx(vt,{children:d.map(f=>{const m=f.live?.isRunning||!1,h=f.live?.percentComplete||0,g=f.liveWorkers||f.live?.workers||[],v=c.get(f.pid)||0,y=v>0||!!f.autoRun,N=f.autoRun?.intervalMs?Math.round(f.autoRun.intervalMs/6e4):null,b=`unified-${f.pid}`,w=m?Mve(b,h,l):null,C=tz(f.live?.currentBlock??f.lastIndexedBlock,f.live?.targetBlock??f.lastIndexedBlock),E=Ar(f.v2StakerCount||0),A=f.v2TotalStaked?Ar(f.v2TotalStaked):null,T=f.swapEventCount??f.live?.swapsFound??0,k=f.rewardEventCount??f.live?.rewardsFound??0,P=f.updatedAt?new Date(f.updatedAt).toLocaleTimeString():null;return n.jsxs(Ee,{"data-testid":`row-indexer-unified-${f.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",f.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(ez,{status:f.status,isRunning:m}),y&&n.jsxs(W,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1 text-xs",children:[n.jsx(lr,{className:"w-3 h-3"}),v>0?`${v} workers`:"Auto",N?`  ${N}m`:""]}),w&&n.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`eta-unified-${f.pid}`,children:["ETA: ",w]}),C&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Blocks ",C]}),P&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Updated ",P]})]})}),n.jsx(U,{children:g.length>0?n.jsx($ve,{workers:g}):m?n.jsxs("div",{className:"space-y-1",children:[n.jsx(Xt,{value:h,className:"h-2 w-full"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[h.toFixed(1),"%"]}),C&&n.jsx("span",{className:"text-[11px] text-muted-foreground block",children:C})]}):f.status==="complete"?n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-green-500",children:"Synced"}),C&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Last at ",C]})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:E}),A&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:[A," staked"]})]})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:Ar(T)}),m&&f.live?.swapsFound!==void 0&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["+",Ar(f.live.swapsFound)," this run"]})]})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:Ar(k)}),m&&f.live?.rewardsFound!==void 0&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["+",Ar(f.live.rewardsFound)," this run"]})]})}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(se,{size:"sm",variant:"ghost",onClick:()=>t(f.pid),disabled:m||a,"data-testid":`button-trigger-unified-${f.pid}`,children:a?n.jsx(Me,{className:"w-4 h-4 animate-spin"}):n.jsx(Dn,{className:"w-4 h-4"})}),n.jsx(se,{size:"sm",variant:y?"destructive":"outline",onClick:()=>r(f.pid,y?"stop":"start"),"data-testid":`button-auto-unified-${f.pid}`,children:y?n.jsx(Jr,{className:"w-4 h-4"}):n.jsx(lr,{className:"w-4 h-4"})})]})})]},f.indexerName)})})]})})})}function zve(){const{toast:e}=fn(),[t,r]=p.useState("unified"),a=p.useRef(new Map),{data:s,isLoading:l,error:c,refetch:d}=_e({queryKey:["/api/admin/pool-indexer/status"],refetchInterval:5e3}),{data:f}=_e({queryKey:["/api/admin/pool-indexer/unified/status"],refetchInterval:5e3}),m=Oe({mutationFn:async B=>ze("POST","/api/admin/pool-indexer/swap/trigger",{pid:B}),onSuccess:()=>{e({title:"Swap indexer triggered",description:"Batch started"}),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:B=>{e({title:"Error",description:B.message,variant:"destructive"})}}),h=Oe({mutationFn:async B=>ze("POST","/api/admin/pool-indexer/reward/trigger",{pid:B}),onSuccess:()=>{e({title:"Reward indexer triggered",description:"Batch started"}),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:B=>{e({title:"Error",description:B.message,variant:"destructive"})}}),g=Oe({mutationFn:async({pid:B,action:_})=>ze("POST","/api/admin/pool-indexer/swap/auto-run",{pid:B,action:_}),onSuccess:(B,_)=>{e({title:`Swap auto-run ${_.action==="start"?"started":"stopped"}`,description:`Pool #${_.pid}`}),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:B=>{e({title:"Error",description:B.message,variant:"destructive"})}}),v=Oe({mutationFn:async({pid:B,action:_})=>ze("POST","/api/admin/pool-indexer/reward/auto-run",{pid:B,action:_}),onSuccess:(B,_)=>{e({title:`Reward auto-run ${_.action==="start"?"started":"stopped"}`,description:`Pool #${_.pid}`}),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:B=>{e({title:"Error",description:B.message,variant:"destructive"})}}),y=Oe({mutationFn:async()=>ze("POST","/api/admin/pool-indexer/aggregate/trigger",{}),onSuccess:()=>{e({title:"Aggregation triggered",description:"Computing daily aggregates for all pools"}),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:B=>{e({title:"Error",description:B.message,variant:"destructive"})}}),N=Oe({mutationFn:async B=>ze("POST","/api/admin/pool-indexer/unified/trigger",{pid:B}),onSuccess:()=>{e({title:"Unified indexer triggered",description:"Scanning all event types"}),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:B=>{e({title:"Error",description:B.message,variant:"destructive"})}}),b=Oe({mutationFn:async({pid:B,action:_})=>ze("POST","/api/admin/pool-indexer/unified/auto-run",{pid:B,action:_}),onSuccess:(B,_)=>{e({title:`Unified auto-run ${_.action==="start"?"started":"stopped"}`,description:`Pool #${_.pid}`}),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:B=>{e({title:"Error",description:B.message,variant:"destructive"})}});if(l)return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Pool Indexer Status"}),n.jsx(Lve,{})]});if(c)return n.jsx("div",{className:"p-6",children:n.jsx(X,{children:n.jsxs(te,{className:"p-8 text-center",children:[n.jsx(sr,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error loading status"}),n.jsx("p",{className:"text-muted-foreground",children:c.message}),n.jsx(se,{onClick:()=>d(),className:"mt-4","data-testid":"button-retry",children:"Retry"})]})})});const w=Qh(s?.swapIndexers||[]),C=Qh(s?.rewardIndexers||[]),E=Qh(s?.unifiedIndexers||[]),A=s?.aggregates||[],T=w.reduce((B,_)=>B+(_.swapEventCount??_.totalEventsIndexed??0),0),k=C.reduce((B,_)=>B+(_.rewardEventCount??_.totalEventsIndexed??0),0),P=s?.totalSwapEventCount??T,M=s?.totalRewardEventCount??k,I=s?.poolsIndexed??E.length,Y=s?.totalPools??Math.max(E.length,w.length,C.length),L=E.reduce((B,_)=>B+(_.v2StakerCount||0),0),R=w.filter(B=>B.live?.isRunning).length,q=C.filter(B=>B.live?.isRunning).length,ve=E.filter(B=>B.live?.isRunning).length,K=w.length>0,ee=C.length>0,z=K?R:ve,Z=ee?q:ve,$=K?w.length:E.length,de=ee?C.length:E.length;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Pool Indexer Status"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage swap/reward event indexing"})]}),n.jsxs(se,{onClick:()=>d(),variant:"outline",disabled:l,"data-testid":"button-refresh",children:[n.jsx(rt,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Active Workers"}),n.jsx(lr,{className:`h-4 w-4 ${f?.activeWorkers?"text-green-500":"text-muted-foreground"}`})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-workers",children:f?.activeWorkers??0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f?.activeWorkers?n.jsxs(n.Fragment,{children:["unified auto-run",f.activeWorkers>1?"s":""]}):"no workers running"})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Pools Indexed"}),n.jsx(es,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pools-indexed",children:[I," / ",Y||0]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ar(L)," stakers tracked"]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Swap Events"}),n.jsx(vc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-swaps",children:Ar(P)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:z>0?`${z} ${K?"indexer(s)":"unified worker(s)"} running`:`${$} ${K?"indexers":"unified pools"}`})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Reward Events"}),n.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:Ar(M)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Z>0?`${Z} ${ee?"indexer(s)":"unified worker(s)"} running`:`${de} ${ee?"indexers":"unified pools"}`})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Daily Aggregates"}),n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-aggregates",children:A.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"pools with data"})]}),n.jsxs(se,{onClick:()=>y.mutate(),disabled:y.isPending,"data-testid":"button-compute-all",children:[y.isPending?n.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(zs,{className:"w-4 h-4 mr-2"}),"Run All"]})]})})]})]}),n.jsxs(si,{value:t,onValueChange:r,children:[n.jsxs(is,{className:"flex-wrap gap-1",children:[n.jsxs(St,{value:"unified","data-testid":"tab-unified",children:[n.jsx(lr,{className:"w-4 h-4 mr-2"}),"Unified (",E.length,")"]}),n.jsxs(St,{value:"swaps","data-testid":"tab-swaps",children:[n.jsx(vc,{className:"w-4 h-4 mr-2"}),"Swaps (",w.length,")"]}),n.jsxs(St,{value:"rewards","data-testid":"tab-rewards",children:[n.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Rewards (",C.length,")"]}),n.jsxs(St,{value:"aggregates","data-testid":"tab-aggregates",children:[n.jsx(zs,{className:"w-4 h-4 mr-2"}),"Aggregates (",A.length,")"]})]}),n.jsxs(Tt,{value:"unified",className:"mt-4",children:[n.jsx(X,{className:"mb-4",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(le,{className:"text-sm",children:"Unified Indexer"}),n.jsx(Se,{children:"Scans all event types (Deposit, Withdraw, Swap, Harvest) in a single blockchain pass per pool. This consolidates staker tracking, swap volume analytics, and reward distribution into one efficient indexer."})]})}),n.jsx(Fve,{indexers:E,onTrigger:B=>N.mutate(B),onAutoRun:(B,_)=>b.mutate({pid:B,action:_}),isTriggering:N.isPending,workerStatus:f,progressHistory:a.current})]}),n.jsx(Tt,{value:"swaps",className:"mt-4",children:n.jsx($R,{indexers:w,type:"swap",onTrigger:B=>m.mutate(B),onAutoRun:(B,_)=>g.mutate({pid:B,action:_}),isTriggering:m.isPending})}),n.jsx(Tt,{value:"rewards",className:"mt-4",children:n.jsx($R,{indexers:C,type:"reward",onTrigger:B=>h.mutate(B),onAutoRun:(B,_)=>v.mutate({pid:B,action:_}),isTriggering:h.isPending})}),n.jsx(Tt,{value:"aggregates",className:"mt-4",children:n.jsx(Ive,{aggregates:A})})]})]})}function Bve({status:e,isRunning:t}){return t?n.jsxs(W,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Me,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(W,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(wa,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(W,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(sr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(W,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(tf,{className:"w-3 h-3"}),"Idle"]})}function FR(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Uve(e,t,r){if(t<=0||t>=100)return null;const a=r.get(e);if(!a||a.length<2)return null;const c=Date.now()-3e4,d=a.filter(N=>N.time>=c);if(d.length<2){if(a.length>=2){const N=a[0],b=a[a.length-1],w=b.time-N.time,C=b.percent-N.percent;if(w<5e3||C<=0)return null;const E=C/w;if(!isFinite(E)||E<=0)return null;const A=(100-t)/E;return zR(A)}return null}const f=d[0],m=d[d.length-1],h=m.time-f.time,g=m.percent-f.percent;if(h<3e3||g<=0)return null;const v=g/h;if(!isFinite(v)||v<=0)return null;const y=(100-t)/v;return isFinite(y)?zR(y):null}function zR(e){if(!isFinite(e)||e<0)return null;const t=Math.floor(e/1e3);if(t<60)return`~${t}s`;const r=Math.floor(t/60);if(r<60)return`~${r}m`;const a=Math.floor(r/60),s=r%60;if(a<24)return`~${a}h ${s}m`;const l=Math.floor(a/24),c=a%24;return`~${l}d ${c}h`}function Hve(e,t,r,a){const s=Date.now(),l=6e4;if(!a||r<=0||r>=100){e.delete(t);return}let c=e.get(t);c||(c=[],e.set(t,c));const d=c[c.length-1];(!d||s-d.time>=1e3)&&c.push({time:s,percent:r});const f=s-l;for(;c.length>0&&c[0].time<f;)c.shift()}function Vve(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Ae,{className:"h-10 w-40"}),n.jsx(Ae,{className:"h-10 w-40"})]}),n.jsx(X,{children:n.jsx(te,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4].map(e=>n.jsx(Ae,{className:"h-12 w-full"},e))})})})]})}function qve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return null;const a=e.filter(d=>d.isRunning),s=e.reduce((d,f)=>d+(f.percentComplete??0),0)/e.length,l=Math.min(...e.map(d=>d.percentComplete??0)),c=Math.max(...e.map(d=>d.percentComplete??0));return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover-elevate rounded px-1 py-0.5",onClick:()=>r(!t),"data-testid":"worker-summary",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-14",children:[a.length,"/",e.length,"w"]}),n.jsx(Xt,{value:s,className:"h-1.5 flex-1 bg-blue-100"}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[s.toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:t?"":"+"})]}),t&&n.jsxs("div",{className:"pl-2 space-y-0.5 border-l-2 border-muted ml-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",l.toFixed(0),"% - ",c.toFixed(0),"%"]}),e.map(d=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["W",d.workerId]}),n.jsx(Xt,{value:d.percentComplete,className:`h-1 flex-1 ${d.isRunning?"bg-blue-100":"bg-muted"}`}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[(d.percentComplete??0).toFixed(0),"%"]})]},d.workerId))]})]})}function Kve(){const{toast:e}=fn(),[t,r]=p.useState(!1),[a,s]=p.useState(!1),l=p.useRef(new Map),{data:c,isLoading:d,refetch:f}=_e({queryKey:["/api/admin/pool-indexer-v1/status"],refetchInterval:3e3}),m=Oe({mutationFn:async C=>(await ze("POST","/api/admin/pool-indexer-v1/trigger",{pid:C})).json(),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 batch triggered"})},onError:C=>{e({title:"Failed to trigger V1 batch",description:C.message,variant:"destructive"})}}),h=Oe({mutationFn:async({pid:C,action:E})=>(await ze("POST","/api/admin/pool-indexer-v1/auto-run",{pid:C,action:E})).json(),onSuccess:(C,{action:E})=>{Te.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:`V1 auto-run ${E==="start"?"started":"stopped"}`})},onError:C=>{e({title:"Failed to toggle V1 auto-run",description:C.message,variant:"destructive"})}}),g=Oe({mutationFn:async()=>(r(!0),(await ze("POST","/api/admin/pool-indexer-v1/start-all")).json()),onSuccess:C=>{r(!1),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 indexers started",description:`Started ${C.started} workers across ${C.totalPools} pools`})},onError:C=>{r(!1),e({title:"Failed to start V1 indexers",description:C.message,variant:"destructive"})}}),v=Oe({mutationFn:async()=>(s(!0),(await ze("POST","/api/admin/pool-indexer-v1/stop-all")).json()),onSuccess:C=>{s(!1),Te.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 indexers stopped",description:`Stopped ${C.totalWorkers} workers`})},onError:C=>{s(!1),e({title:"Failed to stop V1 indexers",description:C.message,variant:"destructive"})}}),y=c?.indexers||[],N=c?.workerStatus,b=N?.activeWorkers||0,w=new Map;if(N?.pools)for(const C of N.pools)w.set(C.pid,(w.get(C.pid)||0)+1);for(const C of y){const E=C.live?.isRunning||!1,A=C.live?.percentComplete||0,T=`v1-${C.pid}`;Hve(l.current,T,A,E)}return d?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(dc,{className:"w-6 h-6 text-amber-500"}),"V1 Pool Indexer (Legacy)"]}),n.jsx("p",{className:"text-muted-foreground",children:"Index staker positions from deprecated Master Gardener V1"})]})}),n.jsx(Vve,{})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(dc,{className:"w-6 h-6 text-amber-500"}),"V1 Pool Indexer (Legacy)"]}),n.jsx("p",{className:"text-muted-foreground",children:"Index staker positions from deprecated Master Gardener V1"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(se,{variant:"outline",onClick:()=>f(),disabled:d,"data-testid":"button-refresh",children:[n.jsx(rt,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(le,{className:"text-sm font-medium",children:"Active V1 Workers"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-workers",children:b}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[N?.workersPerPool||5," max per pool"]})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(le,{className:"text-sm font-medium",children:"V1 Pools Indexed"})}),n.jsxs(te,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pools-indexed",children:[c?.poolsIndexed??0," / ",c?.totalPools??14]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Legacy staker positions"})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(le,{className:"text-sm font-medium",children:"Global Actions"})}),n.jsxs(te,{className:"flex gap-2",children:[n.jsxs(se,{size:"sm",onClick:()=>g.mutate(),disabled:t||b>0,"data-testid":"button-start-all-v1",children:[t?n.jsx(Me,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(Dn,{className:"w-4 h-4 mr-1"}),"Start All V1"]}),n.jsxs(se,{size:"sm",variant:"destructive",onClick:()=>v.mutate(),disabled:a||b===0,"data-testid":"button-stop-all-v1",children:[a?n.jsx(Me,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(Jr,{className:"w-4 h-4 mr-1"}),"Stop All V1"]})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(dc,{className:"w-5 h-5 text-amber-500"}),"V1 Legacy Indexers"]}),n.jsx(Se,{children:"Track staker positions from the deprecated V1 Master Gardener contract"})]}),n.jsx(te,{className:"p-0",children:y.length===0?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No V1 indexers found. Start indexing to track legacy positions."}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-16",children:"Pool"}),n.jsx(V,{children:"Status"}),n.jsx(V,{className:"w-48",children:"Workers"}),n.jsx(V,{className:"text-right",children:"V1 Stakers"}),n.jsx(V,{className:"text-right",children:"Events"}),n.jsx(V,{className:"text-right",children:"Actions"})]})}),n.jsx(vt,{children:y.map(C=>{const E=C.live?.isRunning||!1,A=C.live?.percentComplete||0,T=C.live?.workers||[],k=w.get(C.pid)||0,P=k>0,M=`v1-${C.pid}`,I=E?Uve(M,A,l.current):null;return n.jsxs(Ee,{"data-testid":`row-indexer-v1-${C.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",C.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(Bve,{status:C.status,isRunning:E}),P&&n.jsxs(W,{variant:"outline",className:"bg-amber-500/20 text-amber-500 border-amber-500/30 gap-1 text-xs",children:[n.jsx(lr,{className:"w-3 h-3"}),"V1 (",k,"w)"]}),I&&n.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`eta-v1-${C.pid}`,children:["ETA: ",I]})]})}),n.jsx(U,{children:T.length>0?n.jsx(qve,{workers:T}):n.jsx("span",{className:"text-xs text-muted-foreground",children:P?`${k} workers`:"No workers"})}),n.jsx(U,{className:"text-right font-mono",children:FR(C.v1StakerCount||0)}),n.jsx(U,{className:"text-right font-mono",children:FR(C.totalEventsIndexed)}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(se,{size:"sm",variant:"ghost",onClick:()=>m.mutate(C.pid),disabled:E||m.isPending,"data-testid":`button-trigger-v1-${C.pid}`,children:m.isPending?n.jsx(Me,{className:"w-4 h-4 animate-spin"}):n.jsx(Dn,{className:"w-4 h-4"})}),n.jsx(se,{size:"sm",variant:P?"destructive":"outline",onClick:()=>h.mutate({pid:C.pid,action:P?"stop":"start"}),"data-testid":`button-auto-v1-${C.pid}`,children:P?n.jsx(Jr,{className:"w-4 h-4"}):n.jsx(lr,{className:"w-4 h-4"})})]})})]},C.indexerName)})})]})})]})]})}function Wve({status:e,isRunning:t}){return t?n.jsxs(W,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Me,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(W,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(wa,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(W,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(sr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(W,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(tf,{className:"w-3 h-3"}),"Idle"]})}function Xh(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Gve(e){return e.toLocaleString()}function Yve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return n.jsx("span",{className:"text-muted-foreground text-sm",children:"No workers"});const a=e.filter(l=>l.isRunning).length,s=e.reduce((l,c)=>l+c.percentComplete,0)/e.length;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>r(!t),className:"h-auto p-1 gap-1","data-testid":"button-expand-workers",children:[t?n.jsx(Dc,{className:"w-4 h-4"}):n.jsx(ef,{className:"w-4 h-4"}),n.jsxs("span",{className:"text-sm",children:[e.length," workers (",a," active)  ",s.toFixed(1),"%"]})]}),t&&n.jsx("div",{className:"pl-4 space-y-1 text-xs",children:e.map(l=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:l.isRunning?"default":"secondary",className:"text-xs",children:["W",l.workerId]}),n.jsx(Xt,{value:l.percentComplete,className:"w-20 h-1"}),n.jsxs("span",{className:"text-muted-foreground",children:[l.percentComplete.toFixed(1),"%  ",Xh(l.stakersFound)," stakers"]})]},l.workerId))})]})}function Qve(){const{toast:e}=fn(),[t,r]=p.useState(!0),{data:a,isLoading:s,refetch:l}=_e({queryKey:["/api/admin/pool-indexer-harmony/status"],refetchInterval:t?3e3:!1});p.useEffect(()=>{const y=t?setInterval(()=>l(),3e3):void 0;return()=>{y&&clearInterval(y)}},[t,l]);const c=Oe({mutationFn:async y=>ze("/api/admin/pool-indexer-harmony/trigger",{method:"POST",body:JSON.stringify({pid:y})}),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"Indexer triggered",description:"Harmony indexer batch started"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),d=Oe({mutationFn:async({pid:y,action:N})=>ze("/api/admin/pool-indexer-harmony/auto-run",{method:"POST",body:JSON.stringify({pid:y,action:N})}),onSuccess:(y,{action:N})=>{Te.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:N==="start"?"Auto-run started":"Auto-run stopped"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),f=Oe({mutationFn:async()=>ze("/api/admin/pool-indexer-harmony/start-all",{method:"POST"}),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"All indexers started"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),m=Oe({mutationFn:async()=>ze("/api/admin/pool-indexer-harmony/stop-all",{method:"POST"}),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"All indexers stopped"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}});if(s)return n.jsxs("div",{className:"space-y-6 p-6","data-testid":"loading-skeleton",children:[n.jsx(Ae,{className:"h-8 w-64"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Ae,{className:"h-32"}),n.jsx(Ae,{className:"h-32"}),n.jsx(Ae,{className:"h-32"})]}),n.jsx(Ae,{className:"h-64"})]});const h=a?.pools||[],g=h.filter(y=>y.isAutoRunning||y.isRunning),v=h.reduce((y,N)=>y+(N.stakerCount||0),0);return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"page-title",children:"Harmony Pool Indexer"}),n.jsx("p",{className:"text-muted-foreground",children:"Legacy Serendale Master Gardener on Harmony chain"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>l(),"data-testid":"button-refresh",children:[n.jsx(rt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>r(!t),"data-testid":"button-toggle-refresh",children:[n.jsx(rt,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),t?"Auto ON":"Auto OFF"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-start-all",children:[n.jsx(lr,{className:"w-4 h-4 mr-2"}),"Start All"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>m.mutate(),disabled:m.isPending,"data-testid":"button-stop-all",children:[n.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Stop All"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{"data-testid":"card-latest-block",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(Se,{children:"Latest Block"}),n.jsx(le,{className:"text-xl",children:Gve(a?.latestBlock||0)})]})}),n.jsx(X,{"data-testid":"card-pool-count",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(Se,{children:"Pools Discovered"}),n.jsxs(le,{className:"text-xl",children:[h.length," / ",a?.poolLength||0]})]})}),n.jsx(X,{"data-testid":"card-running-pools",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(Se,{children:"Running Pools"}),n.jsx(le,{className:"text-xl",children:g.length})]})}),n.jsx(X,{"data-testid":"card-total-stakers",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(Se,{children:"Total Stakers"}),n.jsx(le,{className:"text-xl",children:Xh(v)})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Pool Status"}),n.jsx(Se,{children:"Harmony Serendale LP pools with staking activity"})]}),n.jsx(te,{children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"PID"}),n.jsx(V,{children:"LP Token"}),n.jsx(V,{children:"Stakers"}),n.jsx(V,{children:"Total Staked"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Workers"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(vt,{children:h.length===0?n.jsx(Ee,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground",children:'No pools found. Click "Start All" to begin indexing.'})}):h.map(y=>{const N=a?.dbProgress?.find(b=>b.pid===y.pid);return n.jsxs(Ee,{"data-testid":`row-pool-${y.pid}`,children:[n.jsx(U,{className:"font-mono",children:y.pid}),n.jsx(U,{className:"font-mono text-xs max-w-[120px] truncate",title:y.lpToken,children:y.lpToken?`${y.lpToken.slice(0,10)}...${y.lpToken.slice(-6)}`:"-"}),n.jsx(U,{children:Xh(y.stakerCount)}),n.jsx(U,{children:Xh(y.totalStaked)}),n.jsx(U,{children:n.jsx(Wve,{status:N?.status||"idle",isRunning:y.isRunning||y.isAutoRunning})}),n.jsx(U,{children:n.jsx(Yve,{workers:y.liveWorkers})}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[y.isAutoRunning?n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>d.mutate({pid:y.pid,action:"stop"}),disabled:d.isPending,"data-testid":`button-stop-${y.pid}`,children:n.jsx(Jr,{className:"w-4 h-4"})}):n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>d.mutate({pid:y.pid,action:"start"}),disabled:d.isPending,"data-testid":`button-start-${y.pid}`,children:n.jsx(Dn,{className:"w-4 h-4"})}),n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>c.mutate(y.pid),disabled:c.isPending,"data-testid":`button-trigger-${y.pid}`,children:n.jsx(rt,{className:"w-4 h-4"})})]})})]},y.pid)})})]})})]})]})}function _h(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(2)}function BR(e){return isNaN(e)||!isFinite(e)?"0.00%":`${e.toFixed(2)}%`}function Xve(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function Zve({status:e,isRunning:t}){if(t)return n.jsxs(W,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Me,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(W,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function Jve(){const{toast:e}=fn(),{data:t,isLoading:r,refetch:a}=_e({queryKey:["/api/admin/jeweler/status"],refetchInterval:3e3}),{data:s,isLoading:l}=_e({queryKey:["/api/admin/jeweler/leaderboard"],refetchInterval:3e4}),c=Oe({mutationFn:async()=>await ze("POST","/api/admin/jeweler/trigger",{}),onSuccess:()=>{e({title:"Jeweler indexer triggered"}),Te.invalidateQueries({queryKey:["/api/admin/jeweler/status"]})},onError:g=>{e({title:"Failed to trigger indexer",description:g.message,variant:"destructive"})}}),d=Oe({mutationFn:async g=>await ze("POST","/api/admin/jeweler/auto-run",{action:g}),onSuccess:(g,v)=>{e({title:`Auto-run ${v==="start"?"started":"stopped"}`}),Te.invalidateQueries({queryKey:["/api/admin/jeweler/status"]})},onError:g=>{e({title:"Failed to manage auto-run",description:g.message,variant:"destructive"})}}),f=Oe({mutationFn:async()=>await ze("POST","/api/admin/jeweler/refresh-balances",{}),onSuccess:()=>{e({title:"Balance refresh started",description:"Fetching live balances and summoner names for all stakers. This may take a few minutes - refresh the page to see updates."})},onError:g=>{e({title:"Failed to start balance refresh",description:g.message,variant:"destructive"})}}),m=t?.liveProgress?.isRunning||!1,h=t?.liveProgress?.percentComplete||0;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"page-title",children:[n.jsx(nf,{className:"w-6 h-6 text-purple-500"}),"Jeweler"]}),n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL staking analytics and leaderboard"})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>a(),"data-testid":"button-refresh",children:[n.jsx(rt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Tr,{className:"w-4 h-4"}),"JEWEL Locked"]})}),n.jsxs(te,{children:[n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-jewel-locked",children:r?"...":_h(t?.totalJewelLocked||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[_h(t?.totalCjewelSupply||0)," cJEWEL supply"]})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Rr,{className:"w-4 h-4"}),"Total Stakers"]})}),n.jsx(te,{children:n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-stakers",children:r?"...":(t?.totalStakers||0).toLocaleString()})})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(er,{className:"w-4 h-4"}),"cJEWEL/JEWEL Ratio"]})}),n.jsx(te,{children:n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-ratio",children:r?"...":(t?.currentRatio||1).toFixed(6)})})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(er,{className:"w-4 h-4 text-green-500"}),"APR"]})}),n.jsxs(te,{children:[n.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"text-apr",children:r?"...":BR(t?.apr7d||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["30d: ",BR(t?.apr30d||0)]})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{className:"text-lg",children:"Indexer Status"}),n.jsx(Se,{children:"Tracks cJEWEL minting/burning events to build staker leaderboard"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Zve,{status:t?.indexerProgress?.status||"idle",isRunning:m}),t?.isAutoRunning&&n.jsxs(W,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1",children:[n.jsx(lr,{className:"w-3 h-3"}),"Auto-run"]}),m&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xt,{value:h,className:"w-32 h-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{size:"sm",variant:"outline",onClick:()=>c.mutate(),disabled:m||c.isPending,"data-testid":"button-trigger",children:[c.isPending?n.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Run Now"]}),n.jsxs(se,{size:"sm",variant:"outline",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-refresh-balances",children:[f.isPending?n.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(rt,{className:"w-4 h-4 mr-2"}),"Refresh Balances"]}),n.jsx(se,{size:"sm",variant:t?.isAutoRunning?"destructive":"outline",onClick:()=>d.mutate(t?.isAutoRunning?"stop":"start"),disabled:d.isPending,"data-testid":"button-auto-run",children:t?.isAutoRunning?n.jsxs(n.Fragment,{children:[n.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Stop Auto"]}):n.jsxs(n.Fragment,{children:[n.jsx(lr,{className:"w-4 h-4 mr-2"}),"Auto Run"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Last Block"}),n.jsx("p",{className:"font-mono","data-testid":"text-last-block",children:t?.indexerProgress?.lastIndexedBlock?.toLocaleString()||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"font-mono","data-testid":"text-events-indexed",children:t?.indexerProgress?.totalEventsIndexed?.toLocaleString()||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Stakers Found"}),n.jsx("p",{className:"font-mono","data-testid":"text-stakers-found",children:t?.indexerProgress?.totalStakersFound?.toLocaleString()||0})]})]}),t?.workersProgress&&t.workersProgress.length>0&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h4",{className:"text-sm font-medium",children:["Parallel Workers (",t.workersStatus?.activeWorkers||0,"/",t.workersStatus?.maxWorkers||5,")"]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.workersProgress.map(g=>n.jsxs("div",{className:"border rounded-lg p-3 space-y-2","data-testid":`worker-card-${g.workerId}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium text-sm",children:["Worker ",g.workerId]}),g.isRunning?n.jsxs(W,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 text-xs gap-1",children:[n.jsx(Me,{className:"w-2 h-2 animate-spin"}),"Running"]}):g.completedAt?n.jsx(W,{className:"bg-green-500/20 text-green-500 border-green-500/30 text-xs",children:"Done"}):n.jsx(W,{className:"bg-gray-500/20 text-gray-500 border-gray-500/30 text-xs",children:"Idle"})]}),n.jsx(Xt,{value:g.percentComplete,className:"h-1.5"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:[g.percentComplete.toFixed(1),"%"]}),n.jsxs("span",{children:[g.eventsFound.toLocaleString()," events"]})]}),n.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:[g.currentBlock.toLocaleString()," / ",(g.rangeEnd||g.targetBlock||0).toLocaleString()]})]},g.workerId))})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{className:"text-lg",children:"Top cJEWEL Holders"}),n.jsx(Se,{children:"Leaderboard of wallets with the most cJEWEL staked"})]}),n.jsx(te,{children:l?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Me,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-12",children:"#"}),n.jsx(V,{children:"Wallet"}),n.jsx(V,{children:"Summoner"}),n.jsx(V,{className:"text-right",children:"cJEWEL"}),n.jsx(V,{className:"text-right",children:"JEWEL Value"}),n.jsx(V,{className:"text-right",children:"Lock End"}),n.jsx(V,{className:"text-right",children:"Last Activity"})]})}),n.jsxs(vt,{children:[(s?.stakers||[]).slice(0,50).map((g,v)=>n.jsxs(Ee,{"data-testid":`row-staker-${g.id}`,children:[n.jsx(U,{className:"font-mono text-muted-foreground",children:v+1}),n.jsx(U,{className:"font-mono text-sm",children:n.jsx("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${g.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:Xve(g.wallet)})}),n.jsx(U,{children:g.summonerName||n.jsx("span",{className:"text-muted-foreground",children:"*"})}),n.jsx(U,{className:"text-right font-mono",children:_h(g.cjewelBalance)}),n.jsx(U,{className:"text-right font-mono text-green-500",children:_h(g.stakedJewel)}),n.jsx(U,{className:"text-right font-mono text-sm",children:g.lockEnd?n.jsx("span",{className:new Date(g.lockEnd)>new Date?"text-yellow-500":"text-muted-foreground",children:new Date(g.lockEnd).toLocaleDateString()}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right",children:g.lastActivityType&&n.jsx(W,{variant:"outline",className:g.lastActivityType==="Deposit"?"bg-green-500/20 text-green-500 border-green-500/30":"bg-red-500/20 text-red-500 border-red-500/30",children:g.lastActivityType})})]},g.id)),(!s?.stakers||s.stakers.length===0)&&n.jsx(Ee,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No stakers found. Run the indexer to populate data."})})]})]})})]})]})}var eye=Symbol("radix.slottable");function tye(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=eye,t}var nz="AlertDialog",[nye]=xr(nz,[rF]),ui=rF(),rz=e=>{const{__scopeAlertDialog:t,...r}=e,a=ui(t);return n.jsx(yF,{...a,...r,modal:!0})};rz.displayName=nz;var rye="AlertDialogTrigger",az=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(bF,{...s,...a,ref:t})});az.displayName=rye;var aye="AlertDialogPortal",sz=e=>{const{__scopeAlertDialog:t,...r}=e,a=ui(t);return n.jsx(jF,{...a,...r})};sz.displayName=aye;var sye="AlertDialogOverlay",iz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(OS,{...s,...a,ref:t})});iz.displayName=sye;var gc="AlertDialogContent",[iye,lye]=nye(gc),oye=tye("AlertDialogContent"),lz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,l=ui(r),c=p.useRef(null),d=et(t,c),f=p.useRef(null);return n.jsx(yge,{contentName:gc,titleName:oz,docsSlug:"alert-dialog",children:n.jsx(iye,{scope:r,cancelRef:f,children:n.jsxs(TS,{role:"alertdialog",...l,...s,ref:d,onOpenAutoFocus:$e(s.onOpenAutoFocus,m=>{m.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(oye,{children:a}),n.jsx(dye,{contentRef:c})]})})})});lz.displayName=gc;var oz="AlertDialogTitle",cz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(kS,{...s,...a,ref:t})});cz.displayName=oz;var dz="AlertDialogDescription",uz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(_S,{...s,...a,ref:t})});uz.displayName=dz;var cye="AlertDialogAction",fz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(RS,{...s,...a,ref:t})});fz.displayName=cye;var mz="AlertDialogCancel",hz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=lye(mz,r),l=ui(r),c=et(t,s);return n.jsx(RS,{...l,...a,ref:c})});hz.displayName=mz;var dye=({contentRef:e})=>{const t=`\`${gc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gc}\` by passing a \`${dz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},uye=rz,fye=az,mye=sz,pz=iz,xz=lz,gz=fz,vz=hz,yz=cz,bz=uz;const fx=uye,mx=fye,hye=mye,jz=p.forwardRef(({className:e,...t},r)=>n.jsx(pz,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));jz.displayName=pz.displayName;const Bu=p.forwardRef(({className:e,...t},r)=>n.jsxs(hye,{children:[n.jsx(jz,{}),n.jsx(xz,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Bu.displayName=xz.displayName;const Uu=({className:e,...t})=>n.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Uu.displayName="AlertDialogHeader";const Hu=({className:e,...t})=>n.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hu.displayName="AlertDialogFooter";const Vu=p.forwardRef(({className:e,...t},r)=>n.jsx(yz,{ref:r,className:Re("text-lg font-semibold",e),...t}));Vu.displayName=yz.displayName;const qu=p.forwardRef(({className:e,...t},r)=>n.jsx(bz,{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));qu.displayName=bz.displayName;const Ku=p.forwardRef(({className:e,...t},r)=>n.jsx(gz,{ref:r,className:Re(h1(),e),...t}));Ku.displayName=gz.displayName;const Wu=p.forwardRef(({className:e,...t},r)=>n.jsx(vz,{ref:r,className:Re(h1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Wu.displayName=vz.displayName;function Ms(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(4)}function ej(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString()}function pye(e){return`${e.slice(0,10)}...${e.slice(-6)}`}function xye({status:e,isRunning:t}){if(t)return n.jsxs(W,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Me,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(W,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function gye({worker:e}){const t=e.completedAt!==null,r=e.isRunning?"text-blue-500":t?"text-green-500":e.isActive?"text-amber-500":"text-gray-500";return n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2","data-testid":`worker-card-${e.workerId}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-medium",children:["Worker ",e.workerId]}),e.isRunning&&n.jsx(Me,{className:"w-3 h-3 animate-spin text-blue-500"}),t&&n.jsx(W,{variant:"outline",className:"text-green-500 border-green-500/30",children:"Done"})]}),n.jsx("span",{className:`text-sm ${r}`,children:e.isRunning?"Indexing...":t?"Complete":e.isActive?"Waiting":"Idle"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",ej(e.rangeStart)," - ",e.rangeEnd?ej(e.rangeEnd):"latest"]}),n.jsx(Xt,{value:e.percentComplete,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Block ",ej(e.currentBlock)]}),n.jsxs("span",{children:[e.percentComplete.toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Events: ",e.eventsFound]}),n.jsxs("span",{className:"text-muted-foreground",children:["Runs: ",e.runsCompleted]})]})]})}function vye(){const{toast:e}=fn(),[t,r]=p.useState(""),[a,s]=p.useState(null),{data:l,isLoading:c,refetch:d}=_e({queryKey:["/api/admin/gardening-quest/status"],refetchInterval:3e3}),{data:f,isLoading:m}=_e({queryKey:["/api/admin/gardening-quest/hero",a],enabled:a!==null}),h=Oe({mutationFn:async()=>await ze("POST","/api/admin/gardening-quest/trigger",{}),onSuccess:()=>{e({title:"Gardening quest indexer triggered"}),Te.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to trigger indexer",description:P.message,variant:"destructive"})}}),g=Oe({mutationFn:async P=>await ze("POST","/api/admin/gardening-quest/auto-run",{action:P}),onSuccess:(P,M)=>{e({title:`Auto-run ${M==="start"?"started with 5 parallel workers":"stopped"}`}),Te.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to manage auto-run",description:P.message,variant:"destructive"})}}),v=Oe({mutationFn:async({startBlock:P,clearRewards:M})=>await ze("POST","/api/admin/gardening-quest/reset-to-block",{startBlock:P,clearRewards:M}),onSuccess:P=>{e({title:"Indexer reset to recent blocks",description:`Starting from block ${P.startBlock?.toLocaleString()}, ${P.blocksToIndex?.toLocaleString()} blocks to scan`}),Te.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to reset indexer",description:P.message,variant:"destructive"})}}),y=Oe({mutationFn:async()=>await ze("POST","/api/admin/gardening-quest/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"All gardening quest data cleared. Ready to re-index."}),Te.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Reset failed",description:P.message,variant:"destructive"})}}),N=async()=>{const M=Math.max(0,56e6);v.mutate({startBlock:M,clearRewards:!0})},b=()=>{const P=parseInt(t);!isNaN(P)&&P>0&&s(P)},w=l?.liveProgress?.isRunning||!1,C=l?.liveProgress,E=l?.indexerProgress,A=l?.stats,T=l?.workers,k=(T?.activeWorkers||0)>0;return n.jsxs("div",{className:"space-y-6","data-testid":"page-gardening-quest",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(vu,{className:"w-6 h-6 text-green-500"}),"Gardening Quest Rewards"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track actual CRYSTAL/JEWEL earned per hero from gardening quests"})]}),n.jsx(se,{variant:"outline",size:"icon",onClick:()=>d(),"data-testid":"button-refresh",children:n.jsx(rt,{className:"w-4 h-4"})})]}),c?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Me,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(nf,{className:"w-4 h-4 text-purple-500"}),"Total CRYSTAL"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-total-crystal",children:Ms(A?.totalCrystal||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.crystalCount||0," rewards"]})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Tr,{className:"w-4 h-4 text-amber-500"}),"Total JEWEL"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-500","data-testid":"text-total-jewel",children:Ms(A?.totalJewel||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.jewelCount||0," rewards"]})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Rr,{className:"w-4 h-4"}),"Unique Heroes"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-heroes",children:Ms(A?.uniqueHeroes||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.uniquePlayers||0," players"]})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Total Rewards"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:Ms(A?.totalRewards||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"indexed events"})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{className:"w-5 h-5 text-amber-500"}),n.jsx("span",{children:"Parallel Workers"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[k&&n.jsxs(W,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[T?.activeWorkers," / ",T?.maxWorkers," Workers"]}),n.jsx(xye,{status:E?.status||"idle",isRunning:k||w})]})]}),n.jsx(Se,{children:"5 parallel workers with work-stealing for fast historical scanning"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{onClick:()=>h.mutate(),disabled:h.isPending||w||k,size:"sm","data-testid":"button-trigger",children:[h.isPending?n.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Run Once"]}),l?.isAutoRunning?n.jsxs(se,{onClick:()=>g.mutate("stop"),disabled:g.isPending,variant:"destructive",size:"sm","data-testid":"button-stop-auto",children:[n.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Stop Workers"]}):n.jsxs(se,{onClick:()=>g.mutate("start"),disabled:g.isPending,variant:"outline",size:"sm","data-testid":"button-start-auto",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Start 5 Workers"]}),n.jsxs(se,{onClick:N,disabled:v.isPending||l?.isAutoRunning||k,variant:"outline",size:"sm","data-testid":"button-reset-recent",children:[v.isPending?n.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(rt,{className:"w-4 h-4 mr-2"}),"Reset to Last 1M Blocks"]}),n.jsxs(fx,{children:[n.jsx(mx,{asChild:!0,children:n.jsxs(se,{size:"sm",variant:"destructive",disabled:y.isPending||l?.isAutoRunning||k||w,"data-testid":"button-reset-all",children:[n.jsx(gu,{className:"w-4 h-4 mr-2"}),"Reset All"]})}),n.jsxs(Bu,{children:[n.jsxs(Uu,{children:[n.jsx(Vu,{children:"Reset All Gardening Quest Data?"}),n.jsx(qu,{children:"This will delete all indexed gardening quest data including pool rewards and hero earnings. You'll need to re-index to restore the data with the latest capture fields."})]}),n.jsxs(Hu,{children:[n.jsx(Wu,{children:"Cancel"}),n.jsxs(Ku,{onClick:()=>y.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset-all",children:[y.isPending?n.jsx(Me,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]}),T&&T.workers.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:T.workers.map(P=>n.jsx(gye,{worker:P},P.workerId))}),C&&w&&!k&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:["Block ",C.currentBlock.toLocaleString()," / ",C.targetBlock.toLocaleString()]}),n.jsxs("span",{children:[C.percentComplete.toFixed(1),"%"]})]}),n.jsx(Xt,{value:C.percentComplete}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Found ",C.eventsFound," rewards"]})]}),E&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t pt-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Last Block:"}),n.jsx("span",{className:"ml-2 font-mono",children:E.lastIndexedBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Events Indexed:"}),n.jsx("span",{className:"ml-2",children:E.totalEventsIndexed.toLocaleString()})]}),E.lastError&&n.jsxs("div",{className:"col-span-2 text-red-500 text-xs",children:["Error: ",E.lastError]})]})]})]}),l?.poolBreakdown&&l.poolBreakdown.length>0&&n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(vu,{className:"w-5 h-5 text-green-500"}),"Rewards by Pool"]}),n.jsx(Se,{children:"Breakdown of rewards earned across all gardening pools"})]}),n.jsx(te,{children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Pool"}),n.jsx(V,{className:"text-right",children:"CRYSTAL"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"Rewards"}),n.jsx(V,{className:"text-right",children:"Heroes"})]})}),n.jsx(vt,{children:l.poolBreakdown.map(P=>n.jsxs(Ee,{"data-testid":`row-pool-${P.poolId}`,children:[n.jsxs(U,{className:"font-medium",children:[P.poolName,P.poolId===255&&n.jsx(W,{variant:"outline",className:"ml-2 text-xs",children:"Unlimited"})]}),n.jsx(U,{className:"text-right text-purple-500 font-medium",children:Ms(P.crystalAmount)}),n.jsx(U,{className:"text-right text-amber-500 font-medium",children:Ms(P.jewelAmount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:P.rewardCount.toLocaleString()}),n.jsx(U,{className:"text-right text-muted-foreground",children:P.uniqueHeroes.toLocaleString()})]},P.poolId))})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Search Hero Rewards"}),n.jsx(Se,{children:"Look up actual rewards earned by a specific hero"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Xe,{type:"number",placeholder:"Enter Hero ID...",value:t,onChange:P=>r(P.target.value),onKeyDown:P=>P.key==="Enter"&&b(),className:"max-w-xs","data-testid":"input-hero-search"}),n.jsx(se,{onClick:b,disabled:m,"data-testid":"button-search-hero",children:m?n.jsx(Me,{className:"w-4 h-4 animate-spin"}):n.jsx(Gs,{className:"w-4 h-4"})})]}),f&&a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Hero ID"}),n.jsx("div",{className:"font-bold","data-testid":"text-hero-id",children:f.stats.heroId})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Quests"}),n.jsx("div",{className:"font-bold",children:f.stats.totalQuests}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.stats.manualQuestCount||0," manual / ",f.stats.expeditionCount||0," expedition"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total CRYSTAL"}),n.jsx("div",{className:"font-bold text-purple-500",children:Ms(f.stats.totalCrystal)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total JEWEL"}),n.jsx("div",{className:"font-bold text-amber-500",children:Ms(f.stats.totalJewel)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Quest"}),n.jsx("div",{className:"font-bold text-xs",children:f.stats.lastQuest?new Date(f.stats.lastQuest).toLocaleDateString():"-"})]})]}),f.rewards.length>0?n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Time"}),n.jsx(V,{children:"Source"}),n.jsx(V,{children:"Pool"}),n.jsx(V,{children:"Token"}),n.jsx(V,{className:"text-right",children:"Amount"}),n.jsx(V,{children:"Tx"})]})}),n.jsx(vt,{children:f.rewards.slice(0,20).map(P=>n.jsxs(Ee,{"data-testid":`row-reward-${P.id}`,children:[n.jsx(U,{className:"text-xs",children:new Date(P.timestamp).toLocaleString()}),n.jsx(U,{children:n.jsx(W,{variant:"outline",className:P.source==="expedition"?"border-blue-500/30 text-blue-500":"border-gray-500/30",children:P.source==="expedition"?"Expedition":"Manual"})}),n.jsx(U,{children:n.jsxs(W,{variant:"outline",children:["Pool ",P.poolId]})}),n.jsx(U,{children:n.jsx(W,{className:P.rewardSymbol==="CRYSTAL"?"bg-purple-500/20 text-purple-500":P.rewardSymbol==="JEWEL"?"bg-amber-500/20 text-amber-500":"",children:P.rewardSymbol})}),n.jsx(U,{className:"text-right font-mono",children:Ms(P.rewardAmount)}),n.jsx(U,{className:"text-xs font-mono",children:n.jsx("a",{href:`https://subnets.avax.network/defi-kingdoms/tx/${P.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:pye(P.txHash)})})]},P.id))})]}):n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No rewards found for this hero yet"})]})]})]})]})]})}function yye(e){const t=bye(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(wye);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function bye(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Sye(s),d=Nye(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jye=Symbol("radix.slottable");function wye(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jye}function Nye(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Sye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Cye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],If=Cye.reduce((e,t)=>{const r=yye(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),wz=["PageUp","PageDown"],Nz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sz={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ed="Slider",[Dw,Eye,Aye]=Xu(ed),[Cz]=xr(ed,[Aye]),[Pye,_g]=Cz(ed),Ez=p.forwardRef((e,t)=>{const{name:r,min:a=0,max:s=100,step:l=1,orientation:c="horizontal",disabled:d=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[a],value:h,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:N,...b}=e,w=p.useRef(new Set),C=p.useRef(0),A=c==="horizontal"?Oye:Tye,[T=[],k]=Zr({prop:h,defaultProp:m,onChange:R=>{[...w.current][C.current]?.focus(),g(R)}}),P=p.useRef(T);function M(R){const q=Dye(T,R);L(R,q)}function I(R){L(R,C.current)}function Y(){const R=P.current[C.current];T[C.current]!==R&&v(T)}function L(R,q,{commit:ve}={commit:!1}){const K=Fye(l),ee=zye(Math.round((R-a)/l)*l+a,K),z=Su(ee,[a,s]);k((Z=[])=>{const $=Rye(Z,z,q);if($ye($,f*l)){C.current=$.indexOf(z);const de=String($)!==String(Z);return de&&ve&&v($),de?$:Z}else return Z})}return n.jsx(Pye,{scope:e.__scopeSlider,name:r,disabled:d,min:a,max:s,valueIndexToChangeRef:C,thumbs:w.current,values:T,orientation:c,form:N,children:n.jsx(Dw.Provider,{scope:e.__scopeSlider,children:n.jsx(Dw.Slot,{scope:e.__scopeSlider,children:n.jsx(A,{"aria-disabled":d,"data-disabled":d?"":void 0,...b,ref:t,onPointerDown:$e(b.onPointerDown,()=>{d||(P.current=T)}),min:a,max:s,inverted:y,onSlideStart:d?void 0:M,onSlideMove:d?void 0:I,onSlideEnd:d?void 0:Y,onHomeKeyDown:()=>!d&&L(a,0,{commit:!0}),onEndKeyDown:()=>!d&&L(s,T.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:q})=>{if(!d){const ee=wz.includes(R.key)||R.shiftKey&&Nz.includes(R.key)?10:1,z=C.current,Z=T[z],$=l*ee*q;L(Z+$,z,{commit:!0})}}})})})})});Ez.displayName=ed;var[Az,Pz]=Cz(ed,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Oye=p.forwardRef((e,t)=>{const{min:r,max:a,dir:s,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:f,onStepKeyDown:m,...h}=e,[g,v]=p.useState(null),y=et(t,A=>v(A)),N=p.useRef(void 0),b=Bc(s),w=b==="ltr",C=w&&!l||!w&&l;function E(A){const T=N.current||g.getBoundingClientRect(),k=[0,T.width],M=$S(k,C?[r,a]:[a,r]);return N.current=T,M(A-T.left)}return n.jsx(Az,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:n.jsx(Oz,{dir:b,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const T=E(A.clientX);c?.(T)},onSlideMove:A=>{const T=E(A.clientX);d?.(T)},onSlideEnd:()=>{N.current=void 0,f?.()},onStepKeyDown:A=>{const k=Sz[C?"from-left":"from-right"].includes(A.key);m?.({event:A,direction:k?-1:1})}})})}),Tye=p.forwardRef((e,t)=>{const{min:r,max:a,inverted:s,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...m}=e,h=p.useRef(null),g=et(t,h),v=p.useRef(void 0),y=!s;function N(b){const w=v.current||h.current.getBoundingClientRect(),C=[0,w.height],A=$S(C,y?[a,r]:[r,a]);return v.current=w,A(b-w.top)}return n.jsx(Az,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:n.jsx(Oz,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const w=N(b.clientY);l?.(w)},onSlideMove:b=>{const w=N(b.clientY);c?.(w)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:b=>{const C=Sz[y?"from-bottom":"from-top"].includes(b.key);f?.({event:b,direction:C?-1:1})}})})}),Oz=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:f,...m}=e,h=_g(ed,r);return n.jsx(If.span,{...m,ref:t,onKeyDown:$e(e.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(d(g),g.preventDefault()):wz.concat(Nz).includes(g.key)&&(f(g),g.preventDefault())}),onPointerDown:$e(e.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),h.thumbs.has(v)?v.focus():a(g)}),onPointerMove:$e(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:$e(e.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),l(g))})})}),Tz="SliderTrack",kz=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=_g(Tz,r);return n.jsx(If.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:t})});kz.displayName=Tz;var Lw="SliderRange",_z=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=_g(Lw,r),l=Pz(Lw,r),c=p.useRef(null),d=et(t,c),f=s.values.length,m=s.values.map(v=>Dz(v,s.min,s.max)),h=f>1?Math.min(...m):0,g=100-Math.max(...m);return n.jsx(If.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:d,style:{...e.style,[l.startEdge]:h+"%",[l.endEdge]:g+"%"}})});_z.displayName=Lw;var Iw="SliderThumb",Rz=p.forwardRef((e,t)=>{const r=Eye(e.__scopeSlider),[a,s]=p.useState(null),l=et(t,d=>s(d)),c=p.useMemo(()=>a?r().findIndex(d=>d.ref.current===a):-1,[r,a]);return n.jsx(kye,{...e,ref:l,index:c})}),kye=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:s,...l}=e,c=_g(Iw,r),d=Pz(Iw,r),[f,m]=p.useState(null),h=et(t,E=>m(E)),g=f?c.form||!!f.closest("form"):!0,v=Nx(f),y=c.values[a],N=y===void 0?0:Dz(y,c.min,c.max),b=Mye(a,c.values.length),w=v?.[d.size],C=w?Lye(w,N,d.direction):0;return p.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${N}% + ${C}px)`},children:[n.jsx(Dw.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(If.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":c.min,"aria-valuenow":y,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:$e(e.onFocus,()=>{c.valueIndexToChangeRef.current=a})})}),g&&n.jsx(Mz,{name:s??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:y},a)]})});Rz.displayName=Iw;var _ye="RadioBubbleInput",Mz=p.forwardRef(({__scopeSlider:e,value:t,...r},a)=>{const s=p.useRef(null),l=et(s,a),c=Px(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&h){const g=new Event("input",{bubbles:!0});h.call(d,t),d.dispatchEvent(g)}},[c,t]),n.jsx(If.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});Mz.displayName=_ye;function Rye(e=[],t,r){const a=[...e];return a[r]=t,a.sort((s,l)=>s-l)}function Dz(e,t,r){const l=100/(r-t)*(e-t);return Su(l,[0,100])}function Mye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Dye(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),a=Math.min(...r);return r.indexOf(a)}function Lye(e,t,r){const a=e/2,l=$S([0,50],[0,a]);return(a-l(t)*r)*r}function Iye(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function $ye(e,t){if(t>0){const r=Iye(e);return Math.min(...r)>=t}return!0}function $S(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Fye(e){return(String(e).split(".")[1]||"").length}function zye(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Lz=Ez,Bye=kz,Uye=_z,Hye=Rz;const zi=p.forwardRef(({className:e,...t},r)=>n.jsxs(Lz,{ref:r,className:Re("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(Bye,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(Uye,{className:"absolute h-full bg-primary"})}),n.jsx(Hye,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));zi.displayName=Lz.displayName;const Vye=[{id:0,name:"wJEWEL-xJEWEL"},{id:1,name:"CRYSTAL-AVAX"},{id:2,name:"CRYSTAL-wJEWEL"},{id:3,name:"CRYSTAL-USDC"},{id:4,name:"ETH-USDC"},{id:5,name:"wJEWEL-USDC"},{id:6,name:"CRYSTAL-ETH"},{id:7,name:"CRYSTAL-BTC.b"},{id:8,name:"CRYSTAL-KLAY"},{id:9,name:"wJEWEL-KLAY"},{id:10,name:"wJEWEL-AVAX"},{id:11,name:"wJEWEL-BTC.b"},{id:12,name:"wJEWEL-ETH"},{id:13,name:"BTC.b-USDC"}];function UR({label:e,tokenType:t,heroId:r,setHeroId:a,petId:s,setPetId:l,heroData:c,petData:d,onFetchHero:f,onFetchPet:m,heroLoading:h,petLoading:g,stamina:v,setStamina:y}){const N=t==="jewel"?"text-purple-500":"text-blue-500",b=t==="jewel"?"bg-purple-500/10":"bg-blue-500/10",w=t==="jewel"?nf:VH;return n.jsxs("div",{className:`p-4 rounded-lg border ${b}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(w,{className:`h-5 w-5 ${N}`}),n.jsx("h3",{className:`font-semibold ${N}`,children:e}),n.jsxs(W,{variant:"outline",className:N,children:["Earns ",t.toUpperCase()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ke,{className:"flex items-center gap-2",children:[n.jsx($h,{className:"h-4 w-4"}),"Hero ID"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Xe,{value:r,onChange:C=>a(C.target.value),placeholder:"e.g. 123456","data-testid":`input-${t}-hero-id`}),n.jsx(se,{onClick:f,disabled:h||!r,size:"icon","data-testid":`button-fetch-${t}-hero`,children:h?n.jsx(Me,{className:"h-4 w-4 animate-spin"}):n.jsx(Gs,{className:"h-4 w-4"})})]}),c?.ok&&n.jsxs("div",{className:"text-sm p-2 bg-background/50 rounded-md space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Class:"}),n.jsxs(W,{variant:"outline",children:[c.class,"/",c.subClass]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Level:"}),n.jsx("span",{className:"font-mono",children:c.level})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"WIS/VIT:"}),n.jsxs("span",{className:"font-mono",children:[c.wisdom,"/",c.vitality]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Gardening:"}),n.jsx("span",{className:"font-mono",children:c.gardeningSkill})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Profession:"}),n.jsx(W,{variant:c.hasGardeningGene?"default":"secondary",children:c.profession})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ke,{className:"flex items-center gap-2",children:[n.jsx(CH,{className:"h-4 w-4"}),"Pet ID (optional)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Xe,{value:s,onChange:C=>l(C.target.value),placeholder:"e.g. 789","data-testid":`input-${t}-pet-id`}),n.jsx(se,{onClick:m,disabled:g||!s,size:"icon","data-testid":`button-fetch-${t}-pet`,children:g?n.jsx(Me,{className:"h-4 w-4 animate-spin"}):n.jsx(Gs,{className:"h-4 w-4"})})]}),d?.ok&&n.jsxs("div",{className:"text-sm p-2 bg-background/50 rounded-md space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Name:"}),n.jsx("span",{children:d.name||`Pet #${d.petId}`})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Type:"}),n.jsx(W,{variant:d.isGardeningPet?"default":"secondary",children:d.isGardeningPet?"Gardening":`Egg Type ${d.eggType}`})]}),d.bonusType&&n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:[d.bonusType,":"]}),n.jsxs("span",{className:"font-mono text-green-500",children:["+",d.powerSurgeBonus||d.skilledGreenskeeperBonus,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Fed:"}),n.jsx(W,{variant:d.isFed?"default":"destructive",children:d.isFed?"Yes":"Hungry"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex justify-between",children:n.jsxs(ke,{children:["Stamina: ",v[0]]})}),n.jsx(zi,{value:v,onValueChange:y,max:250,min:1,step:1,"data-testid":`slider-${t}-stamina`})]})]})]})}function qye(){const{toast:e}=fn(),[t,r]=p.useState(""),[a,s]=p.useState(""),[l,c]=p.useState(null),[d,f]=p.useState(null),[m,h]=p.useState([25]),[g,v]=p.useState(""),[y,N]=p.useState(""),[b,w]=p.useState(null),[C,E]=p.useState(null),[A,T]=p.useState([25]),[k,P]=p.useState(""),[M,I]=p.useState("2"),[Y,L]=p.useState("0.1"),[R,q]=p.useState(null),{data:ve,isLoading:K}=_e({queryKey:["/api/admin/gardening-calc/reward-fund"],refetchInterval:6e4}),{data:ee,isLoading:z}=_e({queryKey:["/api/admin/gardening-validate/summary"]}),Z=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/hero/${t}`)).json(),onSuccess:re=>{re.ok?(c(re),h([re.stamina]),e({title:"JEWEL Hero loaded",description:`${re.class} Lv${re.level} - ${re.profession}`})):e({title:"Error",description:re.error||"Hero not found",variant:"destructive"})},onError:re=>{e({title:"Error",description:re.message,variant:"destructive"})}}),$=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/pet/${a}`)).json(),onSuccess:re=>{re.ok?(f(re),re.isGardeningPet&&re.bonusType?e({title:"JEWEL Pet loaded",description:`${re.bonusType} +${re.powerSurgeBonus||re.skilledGreenskeeperBonus}%`}):re.isGardeningPet||e({title:"Warning",description:`Not a gardening pet (egg type ${re.eggType})`,variant:"destructive"})):e({title:"Error",description:re.error||"Pet not found",variant:"destructive"})},onError:re=>{e({title:"Error",description:re.message,variant:"destructive"})}}),de=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/hero/${g}`)).json(),onSuccess:re=>{re.ok?(w(re),T([re.stamina]),e({title:"CRYSTAL Hero loaded",description:`${re.class} Lv${re.level} - ${re.profession}`})):e({title:"Error",description:re.error||"Hero not found",variant:"destructive"})},onError:re=>{e({title:"Error",description:re.message,variant:"destructive"})}}),B=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/pet/${y}`)).json(),onSuccess:re=>{re.ok?(E(re),re.isGardeningPet&&re.bonusType?e({title:"CRYSTAL Pet loaded",description:`${re.bonusType} +${re.powerSurgeBonus||re.skilledGreenskeeperBonus}%`}):re.isGardeningPet||e({title:"Warning",description:`Not a gardening pet (egg type ${re.eggType})`,variant:"destructive"})):e({title:"Error",description:re.error||"Pet not found",variant:"destructive"})},onError:re=>{e({title:"Error",description:re.message,variant:"destructive"})}}),_=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/wallet/${k}/positions`)).json(),onSuccess:re=>{re.ok?(q(re),re.positions.length>0?(I(String(re.positions[0].poolId)),L(re.positions[0].lpSharePct),e({title:"Wallet loaded",description:`Found ${re.positions.length} LP position(s)`})):e({title:"No positions",description:"No staked LP found for this wallet"})):e({title:"Error",description:re.error||"Failed to fetch wallet",variant:"destructive"})},onError:re=>{e({title:"Error",description:re.message,variant:"destructive"})}}),Q=Oe({mutationFn:async()=>{const re=d?.isFed??!0,Le=C?.isFed??!0,Ke=await(await ze("POST","/api/admin/gardening-calc/calculate-dual",{poolId:parseInt(M),playerAddress:k||"0x0000000000000000000000000000000000000000",lpShareOverride:k?null:parseFloat(Y)/100,jewelHero:{heroId:t,wisdom:l?.wisdom??50,vitality:l?.vitality??50,gardeningSkill:l?.gardeningSkill??0,hasGardeningGene:l?.hasGardeningGene??!1,stamina:m[0],petBonusPct:re?d?.powerSurgeBonus??0:0,skilledGreenskeeperBonus:re?d?.skilledGreenskeeperBonus??0:0,petFed:re},crystalHero:{heroId:g,wisdom:b?.wisdom??50,vitality:b?.vitality??50,gardeningSkill:b?.gardeningSkill??0,hasGardeningGene:b?.hasGardeningGene??!1,stamina:A[0],petBonusPct:Le?C?.powerSurgeBonus??0:0,skilledGreenskeeperBonus:Le?C?.skilledGreenskeeperBonus??0:0,petFed:Le}})).json();if(!Ke.ok)throw new Error(Ke.error||"Calculation failed");return Ke},onError:re=>{e({title:"Calculation Error",description:re.message,variant:"destructive"})}}),fe=Q.data,Ne=re=>{I(re);const Le=R?.positions.find(pe=>pe.poolId===parseInt(re));Le&&L(Le.lpSharePct)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(vu,{className:"h-6 w-6"}),"Gardening Yield Calculator"]}),n.jsx("p",{className:"text-muted-foreground",children:"Calculate expected rewards for two heroes per quest iteration"})]})}),n.jsxs(si,{defaultValue:"calculator",className:"space-y-4",children:[n.jsxs(is,{children:[n.jsxs(St,{value:"calculator","data-testid":"tab-calculator",children:[n.jsx(zs,{className:"h-4 w-4 mr-2"}),"Calculator"]}),n.jsxs(St,{value:"validation","data-testid":"tab-validation",children:[n.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Validation"]})]}),n.jsx(Tt,{value:"calculator",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Quest Heroes"}),n.jsx(Se,{children:"Enter hero and pet IDs for both JEWEL and CRYSTAL earners"})]}),n.jsx(te,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(UR,{label:"JEWEL Hero",tokenType:"jewel",heroId:t,setHeroId:r,petId:a,setPetId:s,heroData:l,petData:d,onFetchHero:()=>Z.mutate(),onFetchPet:()=>$.mutate(),heroLoading:Z.isPending,petLoading:$.isPending,stamina:m,setStamina:h}),n.jsx(UR,{label:"CRYSTAL Hero",tokenType:"crystal",heroId:g,setHeroId:v,petId:y,setPetId:N,heroData:b,petData:C,onFetchHero:()=>de.mutate(),onFetchPet:()=>B.mutate(),heroLoading:de.isPending,petLoading:B.isPending,stamina:A,setStamina:T})]})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Garden Pool"}),n.jsx(Se,{children:"Select pool and LP position (shared by both heroes)"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ke,{className:"flex items-center gap-2",children:[n.jsx(Lc,{className:"h-4 w-4"}),"Wallet Address (optional)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Xe,{id:"walletAddress",value:k,onChange:re=>P(re.target.value),placeholder:"0x... to auto-detect LP positions","data-testid":"input-wallet-address"}),n.jsx(se,{onClick:()=>_.mutate(),disabled:_.isPending||!k,"data-testid":"button-fetch-wallet",children:_.isPending?n.jsx(Me,{className:"h-4 w-4 animate-spin"}):n.jsx(Gs,{className:"h-4 w-4"})})]}),R?.ok&&R.positions.length>0&&n.jsxs("div",{className:"text-sm p-2 bg-muted rounded-md",children:[n.jsx("div",{className:"font-medium mb-2",children:"Staked LP Positions:"}),R.positions.map(re=>n.jsxs("div",{className:`flex justify-between p-1 rounded cursor-pointer hover-elevate ${M===String(re.poolId)?"bg-accent":""}`,onClick:()=>Ne(String(re.poolId)),children:[n.jsx("span",{children:re.poolName}),n.jsxs("span",{className:"font-mono",children:[re.lpSharePct,"%"]})]},re.poolId))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"poolId",children:"Garden Pool"}),n.jsxs(dt,{value:M,onValueChange:Ne,children:[n.jsx(lt,{"data-testid":"select-pool",children:n.jsx(ut,{placeholder:"Select pool"})}),n.jsx(ot,{children:Vye.map(re=>n.jsx(be,{value:String(re.id),children:re.name},re.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"lpShare",children:"LP Share %"}),n.jsx(Xe,{id:"lpShare",type:"number",step:"0.0001",value:Y,onChange:re=>L(re.target.value),placeholder:"0.1",disabled:!!k,"data-testid":"input-lp-share"})]})]}),n.jsxs(se,{onClick:()=>Q.mutate(),disabled:Q.isPending,className:"w-full","data-testid":"button-calculate",children:[Q.isPending?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(zs,{className:"h-4 w-4 mr-2"}),"Calculate Rewards"]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Quest Reward Fund"}),n.jsx(Se,{children:"Current balances available for rewards"})]}),n.jsx(te,{children:K?n.jsx(Me,{className:"h-6 w-6 animate-spin"}):n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-crystal-pool",children:ve?.crystalPool?.toLocaleString(void 0,{maximumFractionDigits:0})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-jewel-pool",children:ve?.jewelPool?.toLocaleString(void 0,{maximumFractionDigits:0})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL"})]})]})})]}),fe?.ok&&fe.jewelHero&&fe.crystalHero&&n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(wa,{className:"h-5 w-5 text-green-500"}),"Calculated Rewards"]}),n.jsx(Se,{children:fe.poolName})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["JEWEL Hero #",fe.jewelHero.heroId||"N/A"]}),n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-jewel-reward",children:fe.totalRewards?.jewel?.toFixed(4)??"0.0000"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[fe.jewelHero.perStamina?.toFixed(6)??"0.000000","/stam"]})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["CRYSTAL Hero #",fe.crystalHero.heroId||"N/A"]}),n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-crystal-reward",children:fe.totalRewards?.crystal?.toFixed(4)??"0.0000"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[fe.crystalHero.perStamina?.toFixed(6)??"0.000000","/stam"]})]})]}),n.jsxs("div",{className:"border-t pt-4 space-y-3 text-sm",children:[n.jsx("h4",{className:"font-medium",children:"Hero Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-2 bg-purple-500/5 rounded",children:[n.jsx("div",{className:"text-xs text-purple-500 font-medium mb-1",children:"JEWEL Hero"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Hero Factor:"}),n.jsx("span",{className:"font-mono",children:fe.jewelHero.heroFactor?.toFixed(4)??"0.0000"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pet Mult:"}),n.jsxs("span",{className:"font-mono",children:[fe.jewelHero.petMultiplier?.toFixed(2)??"1.00","x"]})]})]}),n.jsxs("div",{className:"p-2 bg-blue-500/5 rounded",children:[n.jsx("div",{className:"text-xs text-blue-500 font-medium mb-1",children:"CRYSTAL Hero"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Hero Factor:"}),n.jsx("span",{className:"font-mono",children:fe.crystalHero.heroFactor?.toFixed(4)??"0.0000"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pet Mult:"}),n.jsxs("span",{className:"font-mono",children:[fe.crystalHero.petMultiplier?.toFixed(2)??"1.00","x"]})]})]})]}),n.jsx("h4",{className:"font-medium pt-2",children:"Shared Pool Stats"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{children:"Pool Allocation:"}),n.jsxs("div",{className:"font-mono",children:[((fe.shared?.poolAllocation??0)*100).toFixed(1),"%"]}),n.jsx("div",{children:"LP Share:"}),n.jsxs("div",{className:"font-mono",children:[((fe.shared?.lpShare??0)*100).toFixed(4),"%"]})]})]})]})]})]})]})}),n.jsx(Tt,{value:"validation",className:"space-y-4",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Indexed Rewards Summary"}),n.jsx(Se,{children:"Statistics from on-chain gardening quest reward data"})]}),n.jsx(te,{children:z?n.jsx(Me,{className:"h-6 w-6 animate-spin"}):ee?.ok?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:parseInt(ee.summary.totalRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Rewards"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-heroes",children:parseInt(ee.summary.uniqueHeroes).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Heroes"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-players",children:parseInt(ee.summary.uniquePlayers).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Players"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-avg-reward",children:parseFloat(ee.summary.avgRewardAmount).toFixed(4)}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Reward"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-blue-500",children:parseInt(ee.summary.crystalRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL Rewards"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-purple-500",children:parseInt(ee.summary.jewelRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL Rewards"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Rewards by Pool"}),n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Pool"}),n.jsx(V,{className:"text-right",children:"Count"}),n.jsx(V,{className:"text-right",children:"Avg Reward"})]})}),n.jsx(vt,{children:ee.poolBreakdown.filter(re=>re.poolId!==255).sort((re,Le)=>Le.count-re.count).map(re=>n.jsxs(Ee,{children:[n.jsx(U,{children:re.poolName}),n.jsx(U,{className:"text-right font-mono",children:re.count.toLocaleString()}),n.jsx(U,{className:"text-right font-mono",children:re.avgReward.toFixed(4)})]},re.poolId))})]})]}),parseInt(ee.summary.withSnapshots)===0&&n.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[n.jsx($l,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"LP Snapshots Not Available"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Historical rewards don't have LP position snapshots. New rewards indexed going forward will include heroLpStake and poolTotalLp for accurate yield validation."})]})]}):n.jsx("div",{className:"text-center text-muted-foreground",children:"No validation data available"})})]})})]})]})}const Kye={cv:"Crystalvale Tavern",sd:"Sundered Isles Barkeep"};function Rh(e){if(e==null)return 0;let t;if(typeof e=="string"){const r=e.match(/ability_(\d+)/);if(!r)return 0;t=parseInt(r[1],10)}else t=e;return isNaN(t)||t>=0&&t<=7?0:t>=8&&t<=11?1:t>=12&&t<=13?2:t===14?3:t>=16&&t<=23?0:t>=24&&t<=27?1:t>=28&&t<=29?2:t===30?3:0}function tj(e){return Rh(e.active1)+Rh(e.active2)+Rh(e.passive1)+Rh(e.passive2)}const ja=["Common","Uncommon","Rare","Legendary","Mythic"],nj=["text-gray-500","text-green-500","text-blue-500","text-orange-500","text-purple-500"],FS={0:"Warrior",1:"Knight",2:"Thief",3:"Archer",4:"Priest",5:"Wizard",6:"Monk",7:"Pirate",8:"Paladin",9:"DarkKnight",10:"Summoner",11:"Ninja",16:"Dragoon",17:"Sage",18:"DreadKnight",19:"Shapeshifter",24:"Bard"};function Iz(e){if(!e||e===0)return[];const t=[];for(let r=0;r<32;r++)e&1<<r&&t.push(FS[r]||`Class${r}`);return t}function sc(e){return`${((typeof e=="string"?parseFloat(e):e)*100).toFixed(0)}%`}function Zh(e,t){const r=e??1,a=t??100;return r<=1&&a>=100?null:r===a?`Lv ${r}`:`Lv ${r}-${a}`}function $w(e){const t=e??9e3;return t>=9e3?null:`TTS ${t}`}function Wye(e){const t=[],r=Zh(e.level_min,e.level_max);r&&t.push(r);const a=e.rarity_min??0,s=e.rarity_max??4;(a>0||s<4)&&(a===s?t.push(`${ja[a]} Only`):a>0&&s===4?t.push(`${ja[a]}+`):a===0&&s<4?t.push(`${ja[s]}`):t.push(`${ja[a]}-${ja[s]}`));const l=$w(e.max_team_stat_score);if(l&&t.push(l),e.must_include_class&&e.included_class_id!=null){const f=FS[e.included_class_id]||`Class${e.included_class_id}`;t.push(`Req: ${f}`)}const c=Iz(e.excluded_classes);c.length>0&&t.push(`No: ${c.slice(0,2).join(", ")}${c.length>2?"...":""}`),e.all_unique_classes&&t.push("Unique Classes"),e.no_triple_classes&&t.push("No Triples");const d=e.party_size??3;return t.length===0?`Open ${d}v${d}`:`${t.join(" ")} ${d}v${d}`}function Gye({status:e}){return e==="running"?n.jsxs(W,{variant:"default",className:"bg-green-500",children:[n.jsx(Me,{className:"h-3 w-3 mr-1 animate-spin"}),"Running"]}):e==="error"?n.jsx(W,{variant:"destructive",children:"Error"}):n.jsx(W,{variant:"secondary",children:"Idle"})}function Yye(){const{toast:e}=fn(),[t,r]=p.useState("100"),[a,s]=p.useState("cv"),[l,c]=p.useState(null),[d,f]=p.useState(new Set),[m,h]=p.useState("all"),[g,v]=p.useState("any"),[y,N]=p.useState("4"),[b,w]=p.useState("any"),[C,E]=p.useState("10"),[A,T]=p.useState("price"),[k,P]=p.useState(null),[M,I]=p.useState(null),{data:Y,isLoading:L,refetch:R}=_e({queryKey:["/api/admin/tournament/status"],refetchInterval:5e3}),{data:q,isLoading:ve}=_e({queryKey:["/api/admin/tournament/recent"],refetchInterval:1e4}),{data:K,isLoading:ee,refetch:z}=_e({queryKey:["/api/admin/similarity/config"]}),{data:Z,isLoading:$}=_e({queryKey:["/api/admin/battle-ready/recommendations"]}),de=new URLSearchParams;m!=="all"&&de.set("realm",m),g!=="any"&&de.set("maxTts",g),y!=="any"&&de.set("minRarity",y),b!=="any"&&de.set("minCombatPower",b),C!=="any"&&de.set("minLevel",C),de.set("sortBy",A),de.set("limit","100");const B=de.toString(),_=`/api/admin/tavern-listings${B?`?${B}`:""}`,{data:Q,isLoading:fe,refetch:Ne}=_e({queryKey:["/api/admin/tavern-listings",m,g,y,b,C,A],queryFn:async()=>{const F=await fetch(_);if(!F.ok)throw new Error("Failed to fetch tavern listings");return F.json()}}),{data:re,refetch:Le}=_e({queryKey:["/api/admin/tavern-indexer/status"],refetchInterval:5e3}),pe=Oe({mutationFn:async()=>ze("POST","/api/admin/tavern-indexer/trigger",{}),onSuccess:()=>{e({title:"Indexing started",description:"Tavern indexer is now running"}),Le()},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),Ke=Oe({mutationFn:async()=>ze("POST","/api/admin/tavern-indexer/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"Tavern data cleared. Starting fresh index with gene data..."}),Le(),Ne(),pe.mutate()},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),{data:me,isLoading:Pe,refetch:De}=_e({queryKey:["/api/admin/tournament/patterns"]}),xe=p.useMemo(()=>{if(!me?.patterns)return[];const F=new Map;for(const Qe of me.patterns){const nt=Qe.signature;if(!F.has(nt))F.set(nt,Qe);else{const Oa=F.get(nt),ms=parseInt(String(Oa.occurrence_count))||0;(parseInt(String(Qe.occurrence_count))||0)>ms&&F.set(nt,Qe)}}return Array.from(F.values())},[me?.patterns]),tt=k?me?.patterns.find(F=>F.signature===k)?.labelInfo?.id:null,{data:Ge,isLoading:Lt}=_e({queryKey:["/api/admin/tournament/types",tt,"heroes"],queryFn:async()=>{const F=await fetch(`/api/admin/tournament/types/${tt}/heroes`);if(!F.ok)throw new Error("Failed to fetch heroes");return F.json()},enabled:!!tt}),kt=Oe({mutationFn:async F=>ze("POST","/api/admin/tournament/types",F),onSuccess:()=>{e({title:"Label created",description:"Tournament type label saved"}),I(null),Te.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),J=Oe({mutationFn:async F=>ze("DELETE",`/api/admin/tournament/types/${F}`,{}),onSuccess:()=>{e({title:"Label deleted",description:"Tournament type label removed"}),Te.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),ae=Oe({mutationFn:async()=>ze("POST","/api/admin/tournament/trigger",{maxBattles:parseInt(t)||100,realm:a}),onSuccess:()=>{const F=Kye[a]||a;e({title:"Indexer triggered",description:`Battle indexing started for ${F}`}),Te.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),Ze=Oe({mutationFn:async F=>ze("PUT","/api/admin/similarity/config",F),onSuccess:()=>{e({title:"Config saved",description:"Similarity weights updated"}),c(null),z()},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),st=Oe({mutationFn:async()=>ze("POST","/api/admin/tournament/stop"),onSuccess:()=>{e({title:"Indexer stopped",description:"Battle indexing stopped"}),Te.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),sn=Oe({mutationFn:async()=>ze("POST","/api/admin/tournament/autorun/start",{maxBattlesPerRun:200}),onSuccess:()=>{e({title:"Auto-run started",description:"Indexer will run periodically"}),Te.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),vr=Oe({mutationFn:async()=>ze("POST","/api/admin/tournament/autorun/stop"),onSuccess:()=>{e({title:"Auto-run stopped",description:"Periodic indexing stopped"}),Te.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),jn=Oe({mutationFn:async()=>ze("POST","/api/admin/tournament/reset"),onSuccess:()=>{e({title:"Reset complete",description:"All tournament data cleared. Ready to re-index."}),Te.invalidateQueries({queryKey:["/api/admin/tournament/status"]}),Te.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]}),Te.invalidateQueries({queryKey:["/api/admin/battle-ready/recommendations"]})},onError:F=>{e({title:"Reset failed",description:F.message,variant:"destructive"})}}),Je=l||K?.config,dl=Y?.progress,ul=Y?.stats,mn=Y?.live,mo=F=>{if(!F)return"N/A";if(F<60)return`${F}s`;if(F<3600)return`${Math.floor(F/60)}m ${F%60}s`;const Qe=Math.floor(F/3600),nt=Math.floor(F%3600/60);return`${Qe}h ${nt}m`},$f=mn?.totalBattlesToProcess?Math.round(mn.battlesProcessed/mn.totalBattlesToProcess*100):0,fl=p.useMemo(()=>{if(!Q)return[];const F=Q.crystalvale||[],Qe=Q.serendale||[];let nt;if(m==="cv"?nt=F:m==="sd"?nt=Qe:nt=[...F,...Qe],g!=="any"){const Oa=parseInt(g,10);nt=nt.filter(ms=>tj(ms)<=Oa)}return nt.sort((Oa,ms)=>(Oa.priceUSD??999999)-(ms.priceUSD??999999))},[Q,m,g]),ra=p.useMemo(()=>{const F=fl.filter(Wn=>d.has(Wn.id)),Qe=F.filter(Wn=>Wn.nativeToken==="CRYSTAL").reduce((Wn,aa)=>Wn+aa.priceNative,0),nt=F.filter(Wn=>Wn.nativeToken==="JEWEL").reduce((Wn,aa)=>Wn+aa.priceNative,0),Oa=F.reduce((Wn,aa)=>Wn+(aa.priceUSD??0),0),ms=F.reduce((Wn,aa)=>Wn+tj(aa),0);return{crystalTotal:Qe,jewelTotal:nt,usdTotal:Oa,count:F.length,teamTts:ms}},[fl,d]),Lg=F=>{f(Qe=>{const nt=new Set(Qe);return nt.has(F)?nt.delete(F):nt.add(F),nt})},ml=()=>f(new Set);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(Or,{className:"h-8 w-8 text-primary"}),"Battle-Ready Heroes"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Index PVP battle data and configure similarity scoring for hero recommendations"})]}),n.jsxs(se,{variant:"outline",onClick:()=>R(),"data-testid":"button-refresh-status",children:[n.jsx(rt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Battles Indexed"}),n.jsx(Yr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tournaments-count",children:L?n.jsx(Me,{className:"h-4 w-4 animate-spin"}):ul?.tournaments.toLocaleString()||0})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Hero Placements"}),n.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-placements-count",children:L?n.jsx(Me,{className:"h-4 w-4 animate-spin"}):ul?.placements.toLocaleString()||0})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Hero Snapshots"}),n.jsx(e1,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-snapshots-count",children:L?n.jsx(Me,{className:"h-4 w-4 animate-spin"}):ul?.snapshots.toLocaleString()||0})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Winners"}),n.jsx(Yr,{className:"h-4 w-4 text-yellow-500"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold text-yellow-500","data-testid":"text-winners-count",children:L?n.jsx(Me,{className:"h-4 w-4 animate-spin"}):ul?.placementBreakdown?.winner?.toLocaleString()||0})})]})]}),mn?.isRunning&&n.jsxs(X,{className:"border-green-500/50 bg-green-500/5",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"h-5 w-5 animate-spin text-green-500"}),"Indexer Running - ",mn.workers.length," Workers"]})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{children:["Progress: ",mn.battlesProcessed," / ",mn.totalBattlesToProcess," battles"]}),n.jsxs("span",{className:"font-mono",children:[$f,"%"]})]}),n.jsx(Xt,{value:$f,className:"h-3","data-testid":"progress-indexer"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-green-500",children:mn.throughputPerMinute}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"battles/min"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mo(mn.estimatedSecondsRemaining)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mn.placementsIndexed}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"placements"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mn.workQueueSize}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"queue size"})]})]}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:mn.workers.map(F=>n.jsxs("div",{className:`p-2 rounded border text-center text-xs ${F.status==="working"?"bg-green-500/20 border-green-500/50":F.status==="stealing"?"bg-yellow-500/20 border-yellow-500/50":F.status==="done"?"bg-muted border-muted-foreground/20":"bg-background border-border"}`,"data-testid":`worker-card-${F.id}`,children:[n.jsxs("div",{className:"font-bold",children:["W",F.id+1]}),n.jsx("div",{className:"capitalize",children:F.status}),n.jsx("div",{className:"text-muted-foreground",children:F.battlesProcessed})]},F.id))}),n.jsxs(se,{variant:"destructive",onClick:()=>st.mutate(),disabled:st.isPending,className:"w-full","data-testid":"button-stop-indexer",children:[st.isPending?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Stop Indexer"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(Dn,{className:"h-5 w-5"}),"Indexer Control"]}),n.jsx(Se,{children:"Trigger battle data indexing with 5 parallel workers"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ke,{htmlFor:"maxBattles",children:"Max Battles:"}),n.jsx(Xe,{id:"maxBattles",type:"number",value:t,onChange:F=>r(F.target.value),className:"w-24","data-testid":"input-max-battles"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ke,{children:[n.jsx(PV,{className:"h-4 w-4 inline mr-1"}),"Realm:"]}),n.jsxs(dt,{value:a,onValueChange:s,children:[n.jsx(lt,{className:"w-48","data-testid":"select-realm",children:n.jsx(ut,{placeholder:"Select realm"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"cv",children:"Crystalvale Tavern"}),n.jsx(be,{value:"sd",children:"Sundered Isles Barkeep"})]})]})]}),n.jsxs(se,{onClick:()=>ae.mutate(),disabled:ae.isPending||mn?.isRunning,"data-testid":"button-trigger-indexer",children:[ae.isPending?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Index Battles"]})]}),n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Auto-Run (Production):"}),mn?.isAutoRunning?n.jsx(W,{variant:"default",className:"bg-green-500",children:"Active"}):n.jsx(W,{variant:"secondary",children:"Inactive"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(se,{size:"sm",variant:"outline",onClick:()=>sn.mutate(),disabled:sn.isPending||mn?.isAutoRunning,"data-testid":"button-start-autorun",children:[n.jsx(Dn,{className:"h-3 w-3 mr-1"}),"Start Auto-Run"]}),n.jsxs(se,{size:"sm",variant:"outline",onClick:()=>vr.mutate(),disabled:vr.isPending||!mn?.isAutoRunning,"data-testid":"button-stop-autorun",children:[n.jsx(Jr,{className:"h-3 w-3 mr-1"}),"Stop Auto-Run"]}),n.jsxs(fx,{children:[n.jsx(mx,{asChild:!0,children:n.jsxs(se,{size:"sm",variant:"destructive",disabled:jn.isPending||mn?.isRunning||mn?.isAutoRunning,"data-testid":"button-reset-tournaments",children:[n.jsx(gu,{className:"h-3 w-3 mr-1"}),"Reset & Re-index"]})}),n.jsxs(Bu,{children:[n.jsxs(Uu,{children:[n.jsx(Vu,{children:"Reset Tournament Data?"}),n.jsx(qu,{children:"This will delete all indexed tournament data including heroes, placements, and snapshots. You'll need to re-index to restore the data with the latest capture fields (entry fees, rewards, etc)."})]}),n.jsxs(Hu,{children:[n.jsx(Wu,{children:"Cancel"}),n.jsxs(Ku,{onClick:()=>jn.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset",children:[jn.isPending?n.jsx(Me,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]})]}),n.jsxs("div",{className:"space-y-2 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Status:"}),n.jsx(Gye,{status:dl?.status||"idle"})]}),dl?.lastRunAt&&n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Last Run:"}),n.jsx("span",{children:new Date(dl.lastRunAt).toLocaleString()})]}),dl?.lastError&&n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:dl.lastError})]})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(aM,{className:"h-5 w-5"}),"Similarity Weights"]}),n.jsx(Se,{children:"Configure how heroes are scored for similarity to battle winners"})]}),n.jsx(te,{className:"space-y-4",children:ee?n.jsx(Me,{className:"h-8 w-8 animate-spin mx-auto"}):Je?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Stats Weight"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.statsWeight)*100],max:100,step:5,onValueChange:F=>c({...Je,statsWeight:(F[0]/100).toString()}),"data-testid":"slider-stats-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.statsWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Active Abilities"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.activeAbilitiesWeight)*100],max:100,step:5,onValueChange:F=>c({...Je,activeAbilitiesWeight:(F[0]/100).toString()}),"data-testid":"slider-active-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.activeAbilitiesWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Passive Abilities"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.passiveAbilitiesWeight)*100],max:100,step:5,onValueChange:F=>c({...Je,passiveAbilitiesWeight:(F[0]/100).toString()}),"data-testid":"slider-passive-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.passiveAbilitiesWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Class Match"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.classMatchWeight)*100],max:100,step:5,onValueChange:F=>c({...Je,classMatchWeight:(F[0]/100).toString()}),"data-testid":"slider-class-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.classMatchWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Rarity Match"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.rarityMatchWeight)*100],max:100,step:5,onValueChange:F=>c({...Je,rarityMatchWeight:(F[0]/100).toString()}),"data-testid":"slider-rarity-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.rarityMatchWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Gene Quality"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.geneQualityWeight)*100],max:100,step:5,onValueChange:F=>c({...Je,geneQualityWeight:(F[0]/100).toString()}),"data-testid":"slider-gene-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.geneQualityWeight)})]})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Weight Sum:"}),n.jsx("span",{className:"font-mono",children:(parseFloat(Je.statsWeight)+parseFloat(Je.activeAbilitiesWeight)+parseFloat(Je.passiveAbilitiesWeight)+parseFloat(Je.classMatchWeight)+parseFloat(Je.rarityMatchWeight)+parseFloat(Je.geneQualityWeight)).toFixed(2)})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Weights are auto-normalized when calculating scores (final score always 0-1)"})]}),l&&n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsxs(se,{onClick:()=>Ze.mutate(l),disabled:Ze.isPending,"data-testid":"button-save-config",children:[Ze.isPending&&n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]}),n.jsx(se,{variant:"outline",onClick:()=>c(null),children:"Cancel"})]})]}):n.jsx("div",{className:"text-muted-foreground text-center py-4",children:"No config found. Trigger the indexer to create default config."})})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Recent Battle Winners"}),n.jsx(Se,{children:"Heroes that have won recent PVP battles with their combat stats"})]}),n.jsx(te,{children:$?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Me,{className:"h-8 w-8 animate-spin"})}):Z?.recommendations&&Z.recommendations.length>0?n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Hero ID"}),n.jsx(V,{children:"Class"}),n.jsx(V,{children:"Level"}),n.jsx(V,{children:"Rarity"}),n.jsx(V,{children:"Combat Power"}),n.jsx(V,{children:"Stats"}),n.jsx(V,{children:"Abilities"})]})}),n.jsx(vt,{children:Z.recommendations.slice(0,20).map(F=>{const Qe=F.snapshot,nt=F.tournament;return Qe?n.jsxs(Ee,{"data-testid":`row-winner-${Qe.heroId}`,children:[n.jsx(U,{className:"font-mono",children:Qe.heroId}),n.jsx(U,{children:Qe.mainClass}),n.jsx(U,{children:Qe.level}),n.jsx(U,{children:n.jsx("span",{className:nj[Qe.rarity]||"",children:ja[Qe.rarity]||Qe.rarity})}),n.jsx(U,{className:"font-bold",children:Qe.combatPowerScore||"N/A"}),n.jsxs(U,{className:"text-xs",children:["STR:",Qe.strength??"-"," AGI:",Qe.agility??"-"," DEX:",Qe.dexterity??"-",n.jsx("br",{}),"VIT:",Qe.vitality??"-"," END:",Qe.endurance??"-"," INT:",Qe.intelligence??"-"]}),n.jsx(U,{className:"text-xs text-muted-foreground",children:[Qe.active1,Qe.active2].filter(Boolean).join(", ")||"None"})]},`${Qe.heroId}-${nt?.tournamentId||Qe.tournamentId}`):null})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No battle winners indexed yet. Trigger the indexer to start collecting data."})})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Recent Battles"}),n.jsx(Se,{children:"Recently indexed PVP battles with their requirements"})]}),n.jsx(te,{children:ve?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Me,{className:"h-8 w-8 animate-spin"})}):q?.tournaments&&q.tournaments.length>0?n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Battle ID"}),n.jsx(V,{children:"Format"}),n.jsx(V,{children:"Level Range"}),n.jsx(V,{children:"Rarity Range"}),n.jsx(V,{children:"Party Size"}),n.jsx(V,{children:"Status"})]})}),n.jsx(vt,{children:q.tournaments.slice(0,20).map(F=>n.jsxs(Ee,{"data-testid":`row-battle-${F.tournamentId}`,children:[n.jsx(U,{className:"font-mono",children:F.tournamentId}),n.jsx(U,{children:F.format}),n.jsx(U,{children:Zh(F.levelMin,F.levelMax)||n.jsx("span",{className:"text-muted-foreground",children:"Open"})}),n.jsx(U,{children:F.rarityMin!==0||F.rarityMax!==4?`${ja[F.rarityMin]||F.rarityMin} - ${ja[F.rarityMax]||F.rarityMax}`:n.jsx("span",{className:"text-muted-foreground",children:"Any"})}),n.jsxs(U,{children:[F.partySize,"v",F.partySize]}),n.jsx(U,{children:n.jsx(W,{variant:"secondary",children:F.status})})]},F.tournamentId))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No battles indexed yet."})})]}),n.jsxs(X,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(sM,{className:"h-5 w-5"}),"Tournament Types"]}),n.jsxs(Se,{children:["Discovered tournament patterns with restrictions. ",me?.totalLabels||0," labeled."]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>De(),"data-testid":"button-refresh-patterns",children:[n.jsx(rt,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]})}),n.jsx(te,{children:Pe?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Me,{className:"h-8 w-8 animate-spin"})}):xe.length>0?n.jsxs("div",{className:"space-y-2",children:[M&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg mb-4 space-y-3","data-testid":"label-form",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:["Create Label for: ",n.jsx("code",{className:"text-xs",children:M.signature})]}),n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>I(null),children:"Cancel"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(ke,{htmlFor:"label-name",children:"Label Name"}),n.jsx(Xe,{id:"label-name",value:M.label,onChange:F=>I({...M,label:F.target.value}),placeholder:"e.g., Beginner 3v3","data-testid":"input-label-name"})]}),n.jsxs("div",{children:[n.jsx(ke,{htmlFor:"label-category",children:"Category"}),n.jsxs(dt,{value:M.category,onValueChange:F=>I({...M,category:F}),children:[n.jsx(lt,{"data-testid":"select-label-category",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"open",children:"Open"}),n.jsx(be,{value:"beginner",children:"Beginner"}),n.jsx(be,{value:"veteran",children:"Veteran"}),n.jsx(be,{value:"specialty",children:"Specialty"}),n.jsx(be,{value:"general",children:"General"})]})]})]}),n.jsxs("div",{children:[n.jsx(ke,{htmlFor:"label-color",children:"Color"}),n.jsx(Xe,{id:"label-color",type:"color",value:M.color,onChange:F=>I({...M,color:F.target.value}),className:"h-9 w-full","data-testid":"input-label-color"})]})]}),n.jsxs(se,{onClick:()=>kt.mutate(M),disabled:!M.label||kt.isPending,"data-testid":"button-save-label",children:[kt.isPending?n.jsx(Me,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(Yl,{className:"h-4 w-4 mr-1"}),"Save Label"]})]}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-8"}),n.jsx(V,{children:"Type"}),n.jsx(V,{children:"Restrictions"}),n.jsx(V,{children:"Occurrences"}),n.jsx(V,{children:"Label"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(vt,{children:xe.slice(0,30).map((F,Qe)=>n.jsxs(n.Fragment,{children:[n.jsxs(Ee,{"data-testid":`row-pattern-${Qe}`,children:[n.jsx(U,{children:F.labelInfo&&n.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>P(k===F.signature?null:F.signature),"data-testid":`button-expand-${Qe}`,children:k===F.signature?n.jsx(Dc,{className:"h-4 w-4"}):n.jsx(ef,{className:"h-4 w-4"})})}),n.jsxs(U,{children:[n.jsx("div",{className:"font-medium text-sm",children:Wye(F)}),n.jsx("div",{className:"text-xs font-mono text-muted-foreground truncate max-w-[200px]",title:F.signature,children:F.signature})]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[Zh(F.level_min,F.level_max)&&n.jsx(W,{variant:"default",className:"text-xs bg-blue-600",children:Zh(F.level_min,F.level_max)}),n.jsxs(W,{variant:"outline",className:"text-xs",children:[F.party_size,"v",F.party_size]}),$w(F.max_team_stat_score)&&n.jsx(W,{variant:"default",className:"text-xs bg-amber-600",children:$w(F.max_team_stat_score)}),F.rarity_min!==null&&F.rarity_max!==null&&(F.rarity_min!==0||F.rarity_max!==4)&&n.jsxs(W,{variant:"outline",className:"text-xs",children:[ja[F.rarity_min]||"Common","-",ja[F.rarity_max]||"Mythic"]}),F.all_unique_classes&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"All Unique"}),F.no_triple_classes&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"No Triples"}),F.excluded_classes&&F.excluded_classes>0&&n.jsxs(W,{variant:"destructive",className:"text-xs",children:["No: ",Iz(F.excluded_classes).join(", ")]}),F.must_include_class&&F.included_class_id!==null&&n.jsxs(W,{className:"text-xs bg-green-600",children:["Req: ",FS[F.included_class_id]||`Class${F.included_class_id}`]}),F.max_hero_stat_score!==null&&F.max_hero_stat_score<3e3&&n.jsxs(W,{variant:"secondary",className:"text-xs",children:["Hero",F.max_hero_stat_score]}),F.battle_budget&&n.jsxs(W,{variant:"secondary",className:"text-xs",children:["Budget: ",F.battle_budget]}),F.battle_inventory&&F.battle_inventory>0&&n.jsxs(W,{variant:"secondary",className:"text-xs",children:["Inv: ",F.battle_inventory]}),F.shot_clock_duration&&F.shot_clock_duration!==45&&n.jsxs(W,{variant:"outline",className:"text-xs",children:[F.shot_clock_duration,"s"]}),F.min_glories&&F.min_glories>0&&n.jsxs(W,{variant:"outline",className:"text-xs bg-yellow-600/20 border-yellow-500",children:["Entry: ",F.min_glories," Glory"]}),F.max_sponsor_count&&F.max_sponsor_count>0&&n.jsx(W,{variant:"outline",className:"text-xs bg-blue-600/20 border-blue-500",children:"Sponsored"}),F.glory_bout&&n.jsx(W,{variant:"outline",className:"text-xs bg-purple-600/20 border-purple-500",children:"Glory Bout"}),F.private_battle&&n.jsx(W,{variant:"outline",className:"text-xs bg-gray-600/20 border-gray-500",children:"Private"}),F.map_id!==null&&F.map_id>0&&n.jsxs(W,{variant:"outline",className:"text-xs",children:["Map: ",F.map_id]}),F.excluded_consumables&&F.excluded_consumables>0&&n.jsx(W,{variant:"destructive",className:"text-xs",children:"No Items"}),F.excluded_origin&&F.excluded_origin>0&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Origin Excl"})]})}),n.jsx(U,{children:n.jsx("span",{className:"font-mono",children:typeof F.occurrence_count=="number"?F.occurrence_count.toLocaleString():parseInt(String(F.occurrence_count)).toLocaleString()})}),n.jsx(U,{children:F.label?n.jsx(W,{style:{backgroundColor:F.labelInfo?.color||"#6366f1"},children:F.label}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"Unlabeled"})}),n.jsx(U,{children:n.jsx("div",{className:"flex items-center gap-1",children:F.label?n.jsxs(n.Fragment,{children:[n.jsx(se,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>I({signature:F.signature,label:F.label||"",category:F.labelInfo?.category||"general",color:F.labelInfo?.color||"#6366f1"}),"data-testid":`button-edit-label-${Qe}`,children:n.jsx(Yi,{className:"h-3 w-3"})}),n.jsxs(fx,{children:[n.jsx(mx,{asChild:!0,children:n.jsx(se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive","data-testid":`button-delete-label-${Qe}`,children:n.jsx(t1,{className:"h-3 w-3"})})}),n.jsxs(Bu,{children:[n.jsxs(Uu,{children:[n.jsx(Vu,{children:"Delete Label"}),n.jsxs(qu,{children:['Are you sure you want to delete the label "',F.label,'"? This cannot be undone.']})]}),n.jsxs(Hu,{children:[n.jsx(Wu,{children:"Cancel"}),n.jsx(Ku,{onClick:()=>F.labelInfo?.id&&J.mutate(F.labelInfo.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]}):n.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>I({signature:F.signature,label:"",category:"general",color:"#6366f1"}),"data-testid":`button-add-label-${Qe}`,children:[n.jsx(Yl,{className:"h-3 w-3 mr-1"}),"Label"]})})})]},`${F.signature}-${Qe}`),k===F.signature&&F.labelInfo&&n.jsx(Ee,{children:n.jsx(U,{colSpan:6,className:"bg-muted/30",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"text-sm font-medium mb-2",children:['Winning Heroes for "',F.label,'"']}),Lt?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx(Me,{className:"h-4 w-4 animate-spin"})}):Ge?.heroes&&Ge.heroes.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Ge.heroes.slice(0,8).map((nt,Oa)=>n.jsxs("div",{className:"p-2 bg-background rounded border text-xs",children:[n.jsxs("div",{className:"font-medium",children:[nt.main_class,"/",nt.sub_class]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv ",nt.level," | ",n.jsx("span",{className:nj[nt.rarity],children:ja[nt.rarity]})]}),n.jsxs("div",{className:"text-muted-foreground",children:["STR:",nt.strength," AGI:",nt.agility," INT:",nt.intelligence]})]},Oa))}):n.jsx("div",{className:"text-muted-foreground text-xs",children:"No winning heroes found for this type."})]})})},`${F.signature}-heroes`)]}))})]})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tournament patterns discovered yet. Run the indexer to collect data."})})]}),n.jsxs(X,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(JV,{className:"h-5 w-5"}),"Tavern Listings"]}),n.jsx(Se,{children:"Tournament-ready heroes from both taverns (Mythic rarity by default)"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(dt,{value:m,onValueChange:F=>h(F),children:[n.jsx(lt,{className:"w-40","data-testid":"select-tavern-filter",children:n.jsx(ut,{placeholder:"Filter tavern"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"all",children:"All Taverns"}),n.jsx(be,{value:"cv",children:"Crystalvale"}),n.jsx(be,{value:"sd",children:"Sundered Isles"})]})]}),n.jsxs(dt,{value:g,onValueChange:F=>v(F),children:[n.jsx(lt,{className:"w-32","data-testid":"select-tts-filter",children:n.jsx(ut,{placeholder:"Max TTS"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"any",children:"Any TTS"}),n.jsx(be,{value:"3",children:"TTS 3"}),n.jsx(be,{value:"5",children:"TTS 5"}),n.jsx(be,{value:"7",children:"TTS 7"}),n.jsx(be,{value:"9",children:"TTS 9"})]})]}),n.jsxs(dt,{value:y,onValueChange:F=>N(F),children:[n.jsx(lt,{className:"w-36","data-testid":"select-rarity-filter",children:n.jsx(ut,{placeholder:"Min Rarity"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"any",children:"Any Rarity"}),n.jsx(be,{value:"2",children:"Rare+"}),n.jsx(be,{value:"3",children:"Legendary+"}),n.jsx(be,{value:"4",children:"Mythic"})]})]}),n.jsxs(dt,{value:b,onValueChange:F=>w(F),children:[n.jsx(lt,{className:"w-40","data-testid":"select-combat-power-filter",children:n.jsx(ut,{placeholder:"Min Combat Power"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"any",children:"Any CP"}),n.jsx(be,{value:"150",children:"CP 150 (L1)"}),n.jsx(be,{value:"220",children:"CP 220 (L10)"}),n.jsx(be,{value:"290",children:"CP 290 (L20)"})]})]}),n.jsxs(dt,{value:C,onValueChange:F=>E(F),children:[n.jsx(lt,{className:"w-32","data-testid":"select-level-filter",children:n.jsx(ut,{placeholder:"Min Level"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"any",children:"Any Level"}),n.jsx(be,{value:"10",children:"Level 10+"}),n.jsx(be,{value:"20",children:"Level 20+"}),n.jsx(be,{value:"50",children:"Level 50+"})]})]}),n.jsxs(dt,{value:A,onValueChange:F=>T(F),children:[n.jsx(lt,{className:"w-36","data-testid":"select-sort-by",children:n.jsx(ut,{placeholder:"Sort By"})}),n.jsxs(ot,{children:[n.jsx(be,{value:"price",children:"Cheapest"}),n.jsx(be,{value:"combat_power",children:"Strongest"}),n.jsx(be,{value:"value",children:"Best Value"})]})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>Ne(),"data-testid":"button-refresh-tavern",children:[n.jsx(rt,{className:"h-4 w-4 mr-1"}),"Refresh"]}),ra.count>0&&n.jsxs(se,{variant:"ghost",size:"sm",onClick:ml,"data-testid":"button-clear-selection",children:["Clear (",ra.count,")"]})]})]})}),n.jsxs(te,{children:[ra.count>0&&n.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-lg flex flex-wrap items-center gap-4","data-testid":"team-cost-summary",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gi,{className:"h-5 w-5 text-green-500"}),n.jsxs("span",{className:"font-semibold",children:["Team (",ra.count," heroes):"]})]}),ra.crystalTotal>0&&n.jsxs(W,{variant:"outline",className:"text-blue-400","data-testid":"text-crystal-total",children:[ra.crystalTotal.toFixed(2)," CRYSTAL"]}),ra.jewelTotal>0&&n.jsxs(W,{variant:"outline",className:"text-purple-400","data-testid":"text-jewel-total",children:[ra.jewelTotal.toFixed(2)," JEWEL"]}),n.jsxs(W,{className:"bg-green-600","data-testid":"text-usd-total",children:["$",ra.usdTotal.toFixed(2)," USD"]}),n.jsxs(W,{variant:"outline",className:"text-orange-400","data-testid":"text-team-tts",children:["TTS: ",ra.teamTts]})]}),n.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg","data-testid":"tavern-indexer-status",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[re?.status?.isRunning?n.jsx(Me,{className:"h-4 w-4 animate-spin text-yellow-500"}):n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:re?.status?.isRunning?"Indexing...":"Indexed"})]}),n.jsxs(W,{variant:"outline",className:"text-xs",children:[re?.status?.totalHeroesIndexed||0," heroes"]}),Q?.source==="indexed"&&Q?.lastIndexed&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(Q.lastIndexed.replace(" ","T")).toLocaleString()]}),Q?.source==="live"&&n.jsx(W,{variant:"outline",className:"text-xs text-orange-400",children:"Live API"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>Ke.mutate(),disabled:re?.status?.isRunning||Ke.isPending||pe.isPending,"data-testid":"button-reset-tavern-indexer",children:[Ke.isPending?n.jsx(Me,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(gu,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>pe.mutate(),disabled:re?.status?.isRunning||pe.isPending,"data-testid":"button-trigger-tavern-indexer",children:[re?.status?.isRunning||pe.isPending?n.jsx(Me,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Re-index"]}),re?.status?.autoRunActive&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Auto-refresh: 30min"})]})]}),re?.stats&&re.stats.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-4 text-xs text-muted-foreground",children:re.stats.map(F=>n.jsxs("span",{children:[F.realm==="cv"?"CV":"SD",": ",F.total_heroes," heroes, avg ",parseFloat(F.avg_price).toFixed(1)," ",F.realm==="cv"?"CRYSTAL":"JEWEL"]},F.realm))})]}),fe?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Me,{className:"h-8 w-8 animate-spin"})}):fl.length>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Source: ",Q?.source==="indexed"?"Database":"Live API"," | Prices: CRYSTAL $",Q?.prices.crystal?.toFixed(4)||"N/A"," | JEWEL $",Q?.prices.jewel?.toFixed(4)||"N/A"]}),n.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-10"}),n.jsx(V,{children:"Hero ID"}),n.jsx(V,{children:"Class"}),n.jsx(V,{children:"Level"}),n.jsx(V,{children:"Rarity"}),n.jsx(V,{children:"CP"}),n.jsx(V,{children:"TTS"}),n.jsx(V,{children:"Profession"}),n.jsx(V,{children:"Summons"}),n.jsx(V,{children:"Stats"}),n.jsx(V,{className:"text-right",children:"Price"})]})}),n.jsx(vt,{children:fl.map(F=>n.jsxs(Ee,{"data-testid":`row-tavern-${F.id}`,className:d.has(F.id)?"bg-muted/50":"",children:[n.jsx(U,{children:n.jsx(ux,{checked:d.has(F.id),onCheckedChange:()=>Lg(F.id),"data-testid":`checkbox-hero-${F.id}`})}),n.jsx(U,{className:"font-mono text-xs",children:F.normalizedId}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:F.mainClassStr}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.subClassStr})]})}),n.jsx(U,{children:F.level}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:nj[F.rarity]||"",children:ja[F.rarity]||F.rarity}),F.summonStone&&n.jsxs(W,{variant:"outline",className:`text-xs px-1 py-0 ${F.stoneTier==="greater"?"text-yellow-400 border-yellow-400/50":F.stoneTier==="normal"?"text-slate-300 border-slate-400/50":F.stoneTier==="lesser"?"text-amber-600 border-amber-500/50":"text-emerald-400 border-emerald-400/50"}`,"data-testid":`badge-stoned-${F.id}`,title:F.stoneTier&&F.stoneType?`${F.stoneTier.charAt(0).toUpperCase()+F.stoneTier.slice(1)} ${F.stoneType.charAt(0).toUpperCase()+F.stoneType.slice(1)} Stone`:"Enhancement Stone",children:[n.jsx(nf,{className:"h-3 w-3 mr-0.5"}),n.jsxs("span",{className:"text-[10px]",children:[F.stoneTier==="greater"?"G":F.stoneTier==="lesser"?"L":"",F.stoneType?F.stoneType.slice(0,3).toUpperCase():""]})]})]})}),n.jsx(U,{children:n.jsx(W,{variant:"secondary",className:"text-xs font-mono","data-testid":`text-hero-cp-${F.id}`,children:F.combatPower||F.strength+F.agility+F.intelligence+F.wisdom+F.luck+F.dexterity+F.vitality+F.endurance||0})}),n.jsx(U,{children:n.jsx(W,{variant:"outline",className:"text-xs","data-testid":`text-hero-tts-${F.id}`,children:tj(F)})}),n.jsx(U,{className:"text-xs",children:F.professionStr}),n.jsxs(U,{className:"text-xs",children:[F.summons,"/",F.maxSummons]}),n.jsxs(U,{className:"text-xs",children:["STR:",F.strength," AGI:",F.agility,n.jsx("br",{}),"INT:",F.intelligence," WIS:",F.wisdom]}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:F.nativeToken==="CRYSTAL"?"text-blue-400 font-medium":"text-purple-400 font-medium",children:[F.priceNative.toFixed(2)," ",F.nativeToken]}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",F.priceUSD?.toFixed(2)??"N/A"]})]})})]},F.id))})]})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No heroes for sale found. Try refreshing."})]})]})]})}const Qye="/assets/image_1767989909914-BoOIJOrw.png",Xye="/assets/image_1767989916670-CIB_QLg6.png",Zye="/assets/image_1767989924709-Cd-fX91X.png",Jye="/assets/image_1767989933201-CExWd6gH.png",e0e="/assets/image_1767989940273-D-256Xo-.png",t0e="/assets/image_1767989948128-DF1TFkq_.png",n0e={0:"B1",1:"B2",2:"B3",3:"B4",4:"B5",5:"B6",6:"B7",7:"B8",8:"B9",9:"B10",10:"B11",11:"B12",12:"B13",13:"B14",14:"B15",15:"B16",16:"A1",17:"A2",18:"A3",19:"A4",20:"A5",21:"A6",24:"E1",25:"E2",26:"E3",28:"X1"},r0e={0:"#ab9159",1:"#af3853",2:"#578761",3:"#068483",4:"#48321e",5:"#66489e",6:"#ca93a7",7:"#62a7e6",8:"#c34b1e",9:"#326988",10:"#513f4f",11:"#d48b41",12:"#dbfbf5",13:"#8f9bb3",14:"#c5bfa7",15:"#d7bc65",16:"#d7bc65",17:"#9b68ab",18:"#8d6b3a",19:"#566377",20:"#dbfbf5",21:"#8f9bb3",24:"#275435",25:"#77b23c",26:"#880016",28:"#353132"},a0e={0:"#203997",2:"#896693",4:"#bb3f55",6:"#0d7634",8:"#8d7136",10:"#613d8a",12:"#2494a2",14:"#a41e12"},s0e={0:"#c58135",2:"#f1ca9e",4:"#985e1c",6:"#57340c",8:"#e6a861",10:"#7b4a11",12:"#e5ac91",14:"#aa5c38"},HR={0:"#c5bfa7",1:"#a88b47",2:"#58381e",3:"#566f7d",4:"#2a386d",5:"#3f2e40",6:"#830e18",7:"#6f3a3c",8:"#cddef0",9:"#df7126",10:"#835138",11:"#86a637",16:"#6b173c",17:"#a0304d",18:"#78547c",19:"#352a51",24:"#147256",25:"#cf7794",26:"#c29d35",28:"#211f1f"},i0e={0:"Battle Hawk",1:"Wolf Mane",2:"Enchanter",3:"Wild Growth",4:"Pixel",5:"Sunrise",6:"Bouffant",7:"Agleam Spike",8:"Wayfinder",9:"Faded Topknot",10:"Side Shave",11:"Ronin",16:"Gruff",17:"Rogue Locs",18:"Stone Cold",19:"Zinra's Tail",20:"Hedgehog",21:"Delinquent",24:"Skegg",25:"Shinobi",26:"Sanjo",28:"Perfect Form"},l0e={0:"Windswept",1:"Fauna",2:"Enchantress",3:"Pineapple Top",4:"Pixie",5:"Darkweave Plait",6:"Coif",7:"Courtly Updo",8:"Cerulean Tuft",9:"Lorelei",10:"Casual Ponytail",11:"Wild Ponytail",16:"Vogue Locs",17:"Twilight Locs",18:"Ethereal Wisherah",19:"Kunoichi",20:"Sweeping Wisherah",21:"Chignon",24:"Regal Locks",25:"Moonlight Cascade",26:"Mystic Coil",28:"Divine Radiance"},o0e={0:"None",1:"Kitsune Ears",2:"Satyr Horns",3:"Ram Horns",4:"Imp Horns",5:"Cat Ears",6:"Minotaur Horns",7:"Faun Horns",8:"Draconic Horns",9:"Fae Circlet",10:"Ragfly Antennae",11:"Royal Crown",16:"Jagged Horns",17:"Spindle Horns",18:"Bear Ears",19:"Antennae",20:"Fallen Angel Coronet",21:"Power Horn",24:"Wood Elf Ears",25:"Snow Elf Ears",26:"Cranial Wings",28:"Insight Jewel"},c0e={0:"None",1:"Monkey Tail",2:"Cat Tail",3:"Imp Tail",4:"Minotaur Tail",5:"Daish",6:"Kitsune Tail",7:"Zweihnder",8:"Skeletal Wings",9:"Skeletal Tail",10:"Afflicted Spikes",11:"Traveler's Pack",16:"Gryphon Wings",17:"Draconic Wings",18:"Butterfly Wings",19:"Phoenix Wings",20:"Fallen Angel",21:"Crystal Wings",24:"Aura of the Inner Grove",25:"Ancient Orbs",26:"Arachnid Legs",28:"Cecaelia Tentacles"},rj={0:"Sand",1:"Rose",2:"Emerald",3:"Teal",4:"Brown",5:"Amethyst",6:"Pink",7:"Cornflower",8:"Auburn",9:"Ocean",10:"Plum",11:"Honey",16:"Wheat",17:"Lavender",18:"Chestnut",19:"Slate",20:"Forest",21:"Lime",24:"Crimson",25:"Obsidian",26:"Mint",28:"Silver"},d0e={0:"Azure",2:"Mirabella",4:"Izmir",6:"Turmalin",8:"Hazel",10:"Violet",12:"Aqua",14:"Crimson"},u0e={0:"Nomad",2:"Ginger",4:"Salmon",6:"Nutmeg",8:"Peach",10:"Copper",12:"Rose",14:"Terra"},VR={0:"Blacksmithing",2:"Goldsmithing",4:"Armorsmithing",6:"Woodworking",8:"Leatherworking",10:"Tailoring",12:"Enchanting",14:"Alchemy"},qR={0:"Basic1",1:"Basic2",2:"Basic3",3:"Basic4",4:"Basic5",5:"Basic6",6:"Basic7",7:"Basic8",16:"Advanced1",17:"Advanced2",18:"Advanced3",19:"Advanced4",24:"Elite1",25:"Elite2",28:"Exalted1"},f0e={0:"Desert",2:"Forest",4:"Plains",6:"Island",8:"Swamp",10:"Mountains",12:"City",14:"Arctic"};function m0e(e){return e.startsWith("A")||e.startsWith("E")||e.startsWith("X")}const h0e={0:"bg-gray-500",1:"bg-green-500",2:"bg-blue-500",3:"bg-purple-500",4:"bg-orange-500"};function ga({title:e,probabilities:t,mutations:r}){let a;if(r?r instanceof Set?a=r:Array.isArray(r)?a=new Set(r):(console.warn(`[SummoningCalculator] Unexpected mutations format for ${e}:`,typeof r,r),a=new Set):a=new Set,!t||typeof t!="object")return null;const s=Object.entries(t).sort((l,c)=>c[1]-l[1]).filter(([l,c])=>c>0);return s.length===0?null:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("div",{className:"space-y-0.5",children:s.map(([l,c])=>{const d=a.has(l);return n.jsxs("div",{className:`flex justify-between text-xs py-0.5 px-1 rounded ${d?"bg-orange-500/20 text-orange-300":""}`,title:d?"Mutation (not in parent dominant genes)":void 0,children:[n.jsx("span",{className:d?"font-medium":"",children:l}),n.jsxs("span",{className:"font-mono",children:[c.toFixed(2),"%"]})]},l)})})]})}function Hr({title:e,probabilities:t,nameMap:r,colorMap:a,showPairNames:s,femaleNameMap:l}){if(!t||typeof t!="object")return null;const c=Object.entries(t).sort((d,f)=>f[1]-d[1]).filter(([d,f])=>f>0);return c.length===0?null:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("div",{className:"space-y-0.5",children:c.map(([d,f])=>{const m=Number(d),h=n0e[m]||`?${m}`,g=m0e(h),v=a?.[m],y=r[m]||`Gene ${m}`;let N=y;if(s&&l){const b=l[m];b&&b!==y&&(N=`${y} / ${b}`)}return n.jsxs("div",{className:`flex items-center justify-between text-xs py-0.5 px-1 rounded gap-1 ${g?"bg-orange-500/20":""}`,children:[n.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[v&&n.jsx("div",{className:"w-3 h-3 rounded-sm border border-border/50 flex-shrink-0",style:{backgroundColor:v}}),n.jsxs("span",{className:`truncate ${g?"text-orange-300 font-medium":""}`,children:["(",h,") ",N]})]}),n.jsxs("span",{className:"font-mono flex-shrink-0",children:[f.toFixed(2),"%"]})]},d)})})]})}function p0e({genetics:e,title:t}){const r=[{name:"Class",value:e.mainClass},{name:"SubClass",value:e.subClass},{name:"Profession",value:e.profession},{name:"Stat Boost 1",value:e.statBoost1},{name:"Stat Boost 2",value:e.statBoost2},{name:"Active 1",value:e.active1},{name:"Active 2",value:e.active2},{name:"Passive 1",value:e.passive1},{name:"Passive 2",value:e.passive2},{name:"Element",value:e.element}];return n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:t}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-1 px-1",children:"Trait"}),n.jsx("th",{className:"text-left py-1 px-1",children:"Dominant"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R1"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R2"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R3"})]})}),n.jsx("tbody",{children:r.map(({name:a,value:s})=>n.jsxs("tr",{className:"border-b border-border/50",children:[n.jsx("td",{className:"py-1 px-1 font-medium",children:a}),n.jsx("td",{className:"py-1 px-1",children:s?.dominant||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R1||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R2||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R3||"-"})]},a))})]})})]})}function KR({hero:e,genetics:t}){return n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs(le,{className:"text-lg",children:["Hero #",e.normalizedId]}),n.jsx(W,{className:h0e[e.rarity],children:e.rarityName})]})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"})," ",e.mainClass]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"SubClass:"})," ",e.subClass]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Profession:"})," ",e.profession]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",e.level]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen:"})," ",e.generation]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Summons:"})," ",e.summonsRemaining,"/",e.maxSummons]})]}),n.jsx(Mn,{}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"STR:"})," ",e.strength]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"AGI:"})," ",e.agility]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"INT:"})," ",e.intelligence]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"WIS:"})," ",e.wisdom]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"LCK:"})," ",e.luck]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"DEX:"})," ",e.dexterity]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"VIT:"})," ",e.vitality]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"END:"})," ",e.endurance]})]}),t&&n.jsxs(n.Fragment,{children:[n.jsx(Mn,{}),n.jsx(p0e,{genetics:t,title:"Stat Genetics"})]})]})]})}function x0e(){const[e,t]=p.useState(""),[r,a]=p.useState(""),[s,l]=p.useState(null),[c,d]=p.useState("calculator"),[f,m]=p.useState(!1),[h,g]=p.useState(""),[v,y]=p.useState(""),[N,b]=p.useState(["cv","sd"]),[w,C]=p.useState("500"),[E,A]=p.useState("1"),[T,k]=p.useState("1"),[P,M]=p.useState(""),[I,Y]=p.useState(null),{data:L}=_e({queryKey:["/api/admin/sniper/filters"]}),R=Oe({mutationFn:async({hero1Id:$,hero2Id:de})=>(await ze("POST","/api/admin/summoning/calculate",{hero1Id:$,hero2Id:de})).json(),onSuccess:$=>{$.ok&&l($)}}),q=()=>{!e||!r||R.mutate({hero1Id:e,hero2Id:r})};p.useEffect(()=>{if(f)return;const $=new URLSearchParams(window.location.search),de=$.get("hero1"),B=$.get("hero2");de&&B&&(t(de),a(B),m(!0),setTimeout(()=>{R.mutate({hero1Id:de,hero2Id:B})},100))},[f]);const ve=Oe({mutationFn:async()=>(await ze("POST","/api/admin/sniper/search",{targetClass:h||void 0,targetProfession:v||void 0,realms:N,maxPricePerHero:parseFloat(w)||500,minSummonsRemaining:parseInt(E)||1,minLevel:parseInt(T)||1,maxTTS:P?parseFloat(P):null,limit:20})).json(),onSuccess:$=>{$.ok&&Y($)}}),K=()=>{!h&&!v||ve.mutate()},ee=$=>{b(de=>de.includes($)?de.filter(B=>B!==$):[...de,$])},z=$=>["Common","Uncommon","Rare","Legendary","Mythic"][$]||"Unknown",Z=$=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][$]||"text-gray-400";return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zs,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summoning Calculator"}),n.jsx("p",{className:"text-muted-foreground",children:"Calculate offspring trait probabilities from two parent heroes"})]})]}),n.jsx(si,{value:c,onValueChange:d,className:"w-full",children:n.jsxs(is,{className:"flex flex-wrap h-auto gap-1 w-full sm:w-auto",children:[n.jsxs(St,{value:"calculator","data-testid":"tab-calculator",children:[n.jsx(zs,{className:"h-4 w-4 mr-1"}),"Calculator"]}),n.jsxs(St,{value:"infographics","data-testid":"tab-infographics",children:[n.jsx(dV,{className:"h-4 w-4 mr-1"}),"Infographics"]}),n.jsxs(St,{value:"sniper","data-testid":"tab-sniper",children:[n.jsx(Fa,{className:"h-4 w-4 mr-1"}),"Sniper"]})]})})]}),c==="calculator"&&n.jsxs(n.Fragment,{children:[n.jsxs(X,{children:[n.jsx(ie,{children:n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"h-5 w-5"}),"Enter Parent Heroes"]})}),n.jsxs(te,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(ke,{htmlFor:"hero1",children:"Hero 1 ID"}),n.jsx(Xe,{id:"hero1",placeholder:"e.g. 62",value:e,onChange:$=>t($.target.value),"data-testid":"input-hero1-id"})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(ke,{htmlFor:"hero2",children:"Hero 2 ID"}),n.jsx(Xe,{id:"hero2",placeholder:"e.g. 569",value:r,onChange:$=>a($.target.value),"data-testid":"input-hero2-id"})]}),n.jsxs(se,{onClick:q,disabled:!e||!r||R.isPending,"data-testid":"button-calculate",children:[R.isPending?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(rf,{className:"h-4 w-4 mr-2"}),"Calculate"]})]}),R.isError&&n.jsxs("p",{className:"text-destructive text-sm mt-2",children:["Error: ",R.error?.message||"Failed to calculate"]})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(KR,{hero:s.parent1,genetics:s.genetics1}),n.jsx(KR,{hero:s.parent2,genetics:s.genetics2})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(J4,{className:"h-5 w-5"}),"Summoning Chances",n.jsxs(W,{variant:"outline",className:"ml-2",children:["Offspring Gen ",s.offspringGeneration]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"text-orange-400",children:"Orange"})," = Mutation (trait not in either parent's dominant gene)"]})]}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Stat Genes"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(ga,{title:"Class",probabilities:s.probabilities.class,mutations:s.probabilities.mutations?.class}),n.jsx(ga,{title:"Sub Class",probabilities:s.probabilities.subClass,mutations:s.probabilities.mutations?.subClass}),n.jsx(ga,{title:"Profession",probabilities:s.probabilities.profession,mutations:s.probabilities.mutations?.profession}),n.jsx(ga,{title:"Rarity",probabilities:s.probabilities.rarity}),n.jsx(ga,{title:"Stat Boost 1",probabilities:s.probabilities.statBoost1,mutations:s.probabilities.mutations?.statBoost1}),n.jsx(ga,{title:"Stat Boost 2",probabilities:s.probabilities.statBoost2,mutations:s.probabilities.mutations?.statBoost2})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mt-4",children:[n.jsx(ga,{title:"Active 1",probabilities:s.probabilities.active1,mutations:s.probabilities.mutations?.active1}),n.jsx(ga,{title:"Active 2",probabilities:s.probabilities.active2,mutations:s.probabilities.mutations?.active2}),n.jsx(ga,{title:"Passive 1",probabilities:s.probabilities.passive1,mutations:s.probabilities.mutations?.passive1}),n.jsx(ga,{title:"Passive 2",probabilities:s.probabilities.passive2,mutations:s.probabilities.mutations?.passive2}),n.jsx(ga,{title:"Element",probabilities:s.probabilities.element,mutations:s.probabilities.mutations?.element})]})]}),n.jsx(Mn,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(yc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Visual Genes"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(Hr,{title:"Hair Style",probabilities:s.probabilities.hairStyle,nameMap:i0e,showPairNames:!0,femaleNameMap:l0e}),n.jsx(Hr,{title:"Hair Color",probabilities:s.probabilities.hairColor,nameMap:rj,colorMap:r0e}),n.jsx(Hr,{title:"Head App",probabilities:s.probabilities.headAppendage,nameMap:o0e}),n.jsx(Hr,{title:"Head App Color",probabilities:s.probabilities.appendageColor,nameMap:rj,colorMap:HR}),n.jsx(Hr,{title:"Back App",probabilities:s.probabilities.backAppendage,nameMap:c0e}),n.jsx(Hr,{title:"Back App Color",probabilities:s.probabilities.backAppendageColor,nameMap:rj,colorMap:HR})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-4",children:[n.jsx(Hr,{title:"Eye Color",probabilities:s.probabilities.eyeColor,nameMap:d0e,colorMap:a0e}),n.jsx(Hr,{title:"Skin Color",probabilities:s.probabilities.skinColor,nameMap:u0e,colorMap:s0e}),n.jsx(Hr,{title:"Crafting 1",probabilities:s.probabilities.crafting1,nameMap:VR}),n.jsx(Hr,{title:"Crafting 2",probabilities:s.probabilities.crafting2,nameMap:VR}),n.jsx(Hr,{title:"Visual Unknown 1",probabilities:s.probabilities.visualUnknown1,nameMap:qR}),n.jsx(Hr,{title:"Visual Unknown 2",probabilities:s.probabilities.visualUnknown2,nameMap:qR})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-4",children:[n.jsx(ga,{title:"Gender",probabilities:s.probabilities.gender,mutations:s.probabilities.mutations?.gender}),n.jsx(Hr,{title:"Background",probabilities:s.probabilities.background,nameMap:f0e})]})]})]})]})]})]}),c==="infographics"&&n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(iM,{className:"h-5 w-5"}),"Visual Mutation Trees"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference charts showing mutation paths from Basic  Advanced  Elite  Exalted  Transcendent"})]}),n.jsx(te,{children:n.jsxs(si,{defaultValue:"hairstyle",children:[n.jsxs(is,{className:"mb-4 flex-wrap h-auto gap-1",children:[n.jsx(St,{value:"hairstyle","data-testid":"tab-infographic-hairstyle",children:"Female Hairstyle"}),n.jsx(St,{value:"hairstyle-male","data-testid":"tab-infographic-hairstyle-male",children:"Male Hairstyle"}),n.jsx(St,{value:"head-app","data-testid":"tab-infographic-head-app",children:"Head Appendage"}),n.jsx(St,{value:"back-app","data-testid":"tab-infographic-back-app",children:"Back Appendage"}),n.jsx(St,{value:"app-color","data-testid":"tab-infographic-app-color",children:"Appendage Color"}),n.jsx(St,{value:"hair-color","data-testid":"tab-infographic-hair-color",children:"Hair Color"})]}),n.jsx(Tt,{value:"hairstyle",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:Qye,alt:"Female Hairstyle Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"hairstyle-male",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:Xye,alt:"Male Hairstyle Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"head-app",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:Zye,alt:"Head Appendage Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"back-app",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:Jye,alt:"Back Appendage Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"app-color",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:e0e,alt:"Appendage Color Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"hair-color",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:t0e,alt:"Hair Color Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})})]})})]}),c==="sniper"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(eM,{className:"h-5 w-5"}),"Search Filters"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Find optimal hero pairs from the tavern that maximize your chance of breeding specific traits"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"targetClass",children:"Target Class"}),n.jsxs("select",{id:"targetClass",value:h,onChange:$=>g($.target.value),className:"w-full h-9 px-3 rounded-md border bg-background text-sm","data-testid":"select-target-class",children:[n.jsx("option",{value:"",children:"Any Class"}),L?.filters?.classes?.map($=>n.jsx("option",{value:$,children:$},$))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"targetProfession",children:"Target Profession"}),n.jsxs("select",{id:"targetProfession",value:v,onChange:$=>y($.target.value),className:"w-full h-9 px-3 rounded-md border bg-background text-sm","data-testid":"select-target-profession",children:[n.jsx("option",{value:"",children:"Any Profession"}),L?.filters?.professions?.map($=>n.jsx("option",{value:$,children:$},$))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxPrice",children:"Max Price (per hero)"}),n.jsx(Xe,{id:"maxPrice",type:"number",value:w,onChange:$=>C($.target.value),placeholder:"500","data-testid":"input-max-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minSummons",children:"Min Summons Remaining"}),n.jsx(Xe,{id:"minSummons",type:"number",value:E,onChange:$=>A($.target.value),placeholder:"1","data-testid":"input-min-summons"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minLevel",children:"Min Level"}),n.jsx(Xe,{id:"minLevel",type:"number",value:T,onChange:$=>k($.target.value),placeholder:"1","data-testid":"input-min-level"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxTTS",children:"Max TTS (leave empty for any)"}),n.jsx(Xe,{id:"maxTTS",type:"number",value:P,onChange:$=>M($.target.value),placeholder:"Any","data-testid":"input-max-tts"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ke,{children:"Realms:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:N.includes("cv")?"default":"outline",className:"cursor-pointer",onClick:()=>ee("cv"),"data-testid":"badge-realm-cv",children:"Crystalvale"}),n.jsx(W,{variant:N.includes("sd")?"default":"outline",className:"cursor-pointer",onClick:()=>ee("sd"),"data-testid":"badge-realm-sd",children:"Sundered Isles"})]})]}),n.jsxs(se,{onClick:K,disabled:!h&&!v||ve.isPending,"data-testid":"button-sniper-search",children:[ve.isPending?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Find Best Pairs"]}),ve.isError&&n.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",ve.error?.message||"Search failed"]})]})]}),I&&n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(er,{className:"h-5 w-5"}),"Best Hero Pairs",n.jsxs(W,{variant:"outline",className:"ml-2",children:[I.pairs.length," pairs from ",I.totalHeroes," heroes"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ranked by efficiency (probability per token spent)"})]}),n.jsx(te,{children:I.pairs.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No matching hero pairs found. Try adjusting your filters."}):n.jsx("div",{className:"space-y-4",children:I.pairs.map(($,de)=>n.jsx(X,{className:"bg-muted/30",children:n.jsxs(te,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(W,{variant:"secondary",children:["#",de+1]}),n.jsx(W,{variant:"outline",children:$.realm==="cv"?"Crystalvale":"Sundered Isles"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:"Hero 1"}),n.jsxs("div",{className:Z($.hero1.rarity),children:[z($.hero1.rarity)," ",$.hero1.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Gen ",$.hero1.generation," | ",$.hero1.summonsRemaining," summons"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Gi,{className:"h-3 w-3"}),$.hero1.price.toFixed(2)," ",$.hero1.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${$.hero1.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(mr,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:"Hero 2"}),n.jsxs("div",{className:Z($.hero2.rarity),children:[z($.hero2.rarity)," ",$.hero2.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Gen ",$.hero2.generation," | ",$.hero2.summonsRemaining," summons"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Gi,{className:"h-3 w-3"}),$.hero2.price.toFixed(2)," ",$.hero2.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${$.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(mr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[$.targetProbability.toFixed(1),"% chance"]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",$.totalCost.toFixed(2)," ",$.hero1.token]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Efficiency: ",$.efficiency.toFixed(4)]})]})]}),$.probabilities&&n.jsx("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-xs",children:$.probabilities.class&&Object.entries($.probabilities.class).slice(0,3).map(([B,_])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[B,":"]}),n.jsxs("span",{children:[_,"%"]})]},B))})]})},de))})})]})]})]})}const WR=[{id:0,name:"Common"},{id:1,name:"Uncommon"},{id:2,name:"Rare"},{id:3,name:"Legendary"},{id:4,name:"Mythic"}];function g0e(){const[e,t]=p.useState([]),[r,a]=p.useState([]),[s,l]=p.useState([]),[c,d]=p.useState([]),[f,m]=p.useState(["cv","sd"]),[h,g]=p.useState(0),[v,y]=p.useState("0"),[N,b]=p.useState("1"),[w,C]=p.useState(""),[E,A]=p.useState(null),[T,k]=p.useState("tavern"),[P,M]=p.useState("regular"),[I,Y]=p.useState(""),{data:L}=_e({queryKey:["/api/admin/sniper/filters"]}),R=Oe({mutationFn:async()=>{const B=parseInt(v)||0;return(await ze("POST","/api/admin/sniper/search",{targetClasses:e,targetProfessions:r,targetActiveSkills:s,targetPassiveSkills:c,realms:f,minRarity:h,minSummonsRemaining:B,maxSummonsRemaining:void 0,minLevel:parseInt(N)||1,maxTTS:w?parseFloat(w):null,summonType:P,searchMode:T,myHeroId:T==="myHero"?I:void 0,limit:20})).json()},onSuccess:B=>{B.ok&&A(B)}}),q=()=>{e.length===0&&r.length===0&&s.length===0&&c.length===0||T==="myHero"&&!I.trim()||R.mutate()},ve=B=>{t(_=>_.includes(B)?_.filter(Q=>Q!==B):[..._,B])},K=B=>{a(_=>_.includes(B)?_.filter(Q=>Q!==B):[..._,B])},ee=B=>{l(_=>_.includes(B)?_.filter(Q=>Q!==B):[..._,B])},z=B=>{d(_=>_.includes(B)?_.filter(Q=>Q!==B):[..._,B])},Z=B=>{m(_=>_.includes(B)?_.filter(Q=>Q!==B):[..._,B])},$=B=>["Common","Uncommon","Rare","Legendary","Mythic"][B]||"Unknown",de=B=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][B]||"text-gray-400";return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fa,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summon Sniper"}),n.jsx("p",{className:"text-muted-foreground",children:"Find optimal hero pairs from the tavern to maximize breeding success for specific traits"})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(eM,{className:"h-5 w-5"}),"Search Filters"]}),n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx(au,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:"Select multiple classes/professions to find heroes that can breed ANY of the selected traits. Results automatically show cheapest pairs ranked by efficiency."})]})]}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Search Mode"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{variant:T==="tavern"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${T==="tavern"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>k("tavern"),"data-testid":"badge-mode-tavern",children:[n.jsx(Rr,{className:"h-3.5 w-3.5 mr-1.5"}),"Two from Tavern"]}),n.jsxs(W,{variant:T==="myHero"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${T==="myHero"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>k("myHero"),"data-testid":"badge-mode-myhero",children:[n.jsx($h,{className:"h-3.5 w-3.5 mr-1.5"}),"Pair for My Hero"]})]}),T==="myHero"&&n.jsxs("div",{className:"mt-2",children:[n.jsx(ke,{htmlFor:"myHeroId",children:"Your Hero ID"}),n.jsx(Xe,{id:"myHeroId",type:"text",value:I,onChange:B=>Y(B.target.value),placeholder:"Enter your hero ID (e.g., 1000000123456)",className:"mt-1 max-w-md","data-testid":"input-my-hero-id"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Find the best tavern hero to pair with your existing hero"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Summon Type"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:P==="regular"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${P==="regular"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>M("regular"),"data-testid":"badge-summon-regular",children:"Regular Summon"}),n.jsx(W,{variant:P==="dark"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${P==="dark"?"bg-purple-600 text-white ring-2 ring-purple-500 ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>M("dark"),"data-testid":"badge-summon-dark",children:"Dark Summon"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:P==="regular"?"Standard summoning with full token cost. Heroes must have summons remaining.":"Dark summoning burns both heroes (1/4 cost). More summons = higher rarity chance."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Target Classes (select one or more)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:L?.filters?.classes?.map(B=>n.jsx(W,{variant:e.includes(B)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${e.includes(B)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>ve(B),"data-testid":`badge-class-${B.toLowerCase()}`,children:B},B))}),e.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",e.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Target Professions (select one or more)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:L?.filters?.professions?.map(B=>n.jsx(W,{variant:r.includes(B)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${r.includes(B)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>K(B),"data-testid":`badge-profession-${B.toLowerCase()}`,children:B},B))}),r.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",r.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Target Active Skills (optional)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:L?.filters?.activeSkills?.map(B=>n.jsx(W,{variant:s.includes(B)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${s.includes(B)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>ee(B),"data-testid":`badge-active-${B.toLowerCase().replace(/\s+/g,"-")}`,children:B},B))}),s.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",s.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Target Passive Skills (optional)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:L?.filters?.passiveSkills?.map(B=>n.jsx(W,{variant:c.includes(B)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${c.includes(B)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>z(B),"data-testid":`badge-passive-${B.toLowerCase().replace(/\s+/g,"-")}`,children:B},B))}),c.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",c.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Minimum Parent Rarity"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:WR.map(B=>n.jsx(W,{variant:h===B.id?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${h===B.id?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>g(B.id),"data-testid":`badge-rarity-${B.name.toLowerCase()}`,children:B.name},B.id))}),h>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only showing ",WR[h].name,"+ parents"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minSummons",children:P==="dark"?"Summons Remaining (Fixed)":"Min Summons Remaining"}),P==="dark"?n.jsx("div",{className:"h-9 px-3 py-2 bg-muted rounded-md text-sm text-muted-foreground flex items-center",children:"Any (more summons = higher rarity chance)"}):n.jsx(Xe,{id:"minSummons",type:"number",value:v,onChange:B=>y(B.target.value),placeholder:"0","data-testid":"input-min-summons"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minLevel",children:"Min Level"}),n.jsx(Xe,{id:"minLevel",type:"number",value:N,onChange:B=>b(B.target.value),placeholder:"1","data-testid":"input-min-level"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxTTS",children:"Max TTS (optional)"}),n.jsx(Xe,{id:"maxTTS",type:"number",value:w,onChange:B=>C(B.target.value),placeholder:"Any","data-testid":"input-max-tts"})]})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsx(ke,{children:"Realms:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:f.includes("cv")?"default":"outline",className:`cursor-pointer transition-colors ${f.includes("cv")?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>Z("cv"),"data-testid":"badge-realm-cv",children:"Crystalvale"}),n.jsx(W,{variant:f.includes("sd")?"default":"outline",className:`cursor-pointer transition-colors ${f.includes("sd")?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>Z("sd"),"data-testid":"badge-realm-sd",children:"Sundered Isles"})]})]}),n.jsxs(se,{onClick:q,disabled:e.length===0&&r.length===0||R.isPending,"data-testid":"button-sniper-search",children:[R.isPending?n.jsx(Me,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Find Best Pairs"]}),R.isError&&n.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",R.error?.message||"Search failed"]})]})]}),E&&n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(er,{className:"h-5 w-5"}),E.userHero?"Best Tavern Matches":"Best Hero Pairs",n.jsxs(W,{variant:"outline",className:"ml-2",children:[E.pairs.length," ",E.userHero?"matches":"pairs"," from ",E.totalHeroes," heroes"]}),E.searchParams?.summonType==="dark"&&n.jsx(W,{className:"bg-purple-600 text-white",children:"Dark Summon"})]}),E.userHero&&n.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($h,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Your Hero"})]}),n.jsxs("div",{className:`text-sm ${de(E.userHero.rarity)}`,children:[$(E.userHero.rarity)," ",E.userHero.mainClass]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lv",E.userHero.level," Gen",E.userHero.generation," | ",E.userHero.summonsRemaining," summons | ID: ",E.userHero.id]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsx("p",{children:"Ranked by efficiency (probability per USD spent)"}),E.tokenPrices&&n.jsxs("p",{className:"text-xs",children:["Token prices: CRYSTAL $",E.tokenPrices.CRYSTAL?.toFixed(4)||"0",", JEWEL $",E.tokenPrices.JEWEL?.toFixed(4)||"0"]}),E.searchParams&&n.jsxs("p",{className:"text-xs",children:["Searching for: ",E.searchParams.targetClasses?.length>0&&`Classes: ${E.searchParams.targetClasses.join(" OR ")}`,E.searchParams.targetClasses?.length>0&&E.searchParams.targetProfessions?.length>0&&" AND ",E.searchParams.targetProfessions?.length>0&&`Professions: ${E.searchParams.targetProfessions.join(" OR ")}`,(E.searchParams.targetClasses?.length>0||E.searchParams.targetProfessions?.length>0)&&E.searchParams.targetActiveSkills?.length>0&&" AND ",E.searchParams.targetActiveSkills?.length>0&&`Active: ${E.searchParams.targetActiveSkills.join(" OR ")}`,(E.searchParams.targetClasses?.length>0||E.searchParams.targetProfessions?.length>0||E.searchParams.targetActiveSkills?.length>0)&&E.searchParams.targetPassiveSkills?.length>0&&" AND ",E.searchParams.targetPassiveSkills?.length>0&&`Passive: ${E.searchParams.targetPassiveSkills.join(" OR ")}`]})]})]}),n.jsx(te,{children:E.pairs.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No matching hero pairs found. Try adjusting your filters."}):n.jsx("div",{className:"space-y-4",children:E.pairs.map((B,_)=>n.jsx(X,{className:"bg-muted/30",children:n.jsxs(te,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(W,{variant:"secondary",children:["#",_+1]}),n.jsx(W,{variant:"outline",children:B.realm==="cv"?"Crystalvale":"Sundered Isles"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[E.userHero?n.jsxs("div",{className:"space-y-1 opacity-60",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:[n.jsx($h,{className:"h-3 w-3"})," Your Hero",n.jsx(W,{variant:"outline",className:"text-[10px] px-1 py-0",children:B.hero1.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:de(B.hero1.rarity),children:[$(B.hero1.rarity)," ",B.hero1.mainClass]}),n.jsx("div",{className:"text-muted-foreground text-xs",children:"(Already owned)"})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:["Hero 1 (",B.hero1.id,")",n.jsx(W,{variant:"outline",className:"text-[10px] px-1 py-0",children:B.hero1.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:de(B.hero1.rarity),children:[$(B.hero1.rarity)," ",B.hero1.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv",B.hero1.level," Gen",B.hero1.generation," | ",B.hero1.summonsRemaining," summons"]}),n.jsxs("div",{className:"text-muted-foreground",children:[B.hero1.price.toFixed(2)," ",B.hero1.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${B.hero1.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(mr,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:[E.userHero?`Tavern Match (${B.hero2.id})`:`Hero 2 (${B.hero2.id})`,n.jsx(W,{variant:"outline",className:"text-[10px] px-1 py-0",children:B.hero2.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:de(B.hero2.rarity),children:[$(B.hero2.rarity)," ",B.hero2.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv",B.hero2.level," Gen",B.hero2.generation," | ",B.hero2.summonsRemaining," summons"]}),n.jsxs("div",{className:"text-muted-foreground",children:[B.hero2.price.toFixed(2)," ",B.hero2.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${B.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(mr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[B.targetProbability.toFixed(1),"% chance"]}),n.jsxs("div",{className:"text-sm font-medium",children:["Total: $",B.totalCostUsd?.toFixed(2)||"0.00"," USD"]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["(",B.totalCost.toFixed(2)," ",B.hero1.token,")"]}),B.costs&&n.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[n.jsxs("div",{children:["Purchase: ",B.costs.purchaseCost.toFixed(2)," ",B.hero1.token]}),n.jsxs("div",{children:["Summon: ",B.costs.summonTokenCost," ",B.hero1.token]}),n.jsxs("div",{children:["Tears: ",B.costs.tearCount," (",B.costs.tearCost.toFixed(2)," ",B.hero1.token,")"]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-1",children:["Efficiency: ",B.efficiency.toFixed(4)," %/$"]})]})]}),B.probabilities&&n.jsx("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-xs",children:B.probabilities.class&&Object.entries(B.probabilities.class).slice(0,3).map(([Q,fe])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[Q,":"]}),n.jsxs("span",{children:[fe,"%"]})]},Q))}),n.jsx("div",{className:"mt-3 pt-3 border-t",children:n.jsxs("a",{href:`/admin/summoning-calculator?hero1=${B.hero1.id}&hero2=${B.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-400 hover:underline","data-testid":`link-calculator-${_}`,children:["View Full Summon Chances ",n.jsx(mr,{className:"h-3 w-3"})]})})]})},_))})})]})]})}function dr(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function aj(e){const t=typeof e=="string"?parseInt(e):e;return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toLocaleString()}function v0e({nextRunAt:e}){const[t,r]=p.useState(e-Date.now());if(p.useEffect(()=>{const d=setInterval(()=>{const f=e-Date.now();r(f)},1e3);return()=>clearInterval(d)},[e]),t<=0)return n.jsx("span",{className:"text-blue-400 font-mono text-sm",children:"Running now..."});const a=Math.floor(t/1e3)%60,s=Math.floor(t/6e4)%60,l=Math.floor(t/36e5),c=[];return l>0&&c.push(`${l}h`),(s>0||l>0)&&c.push(`${s}m`),c.push(`${a}s`),n.jsx("span",{className:"font-mono text-sm text-emerald-400","data-testid":"countdown-timer",children:c.join(" ")})}function y0e({status:e,isRunning:t}){if(t)return n.jsxs(W,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Me,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",running:"bg-blue-500/20 text-blue-500 border-blue-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(W,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function GR({chain:e,chainStatus:t,liveProgress:r,onStart:a,onStop:s,onRun:l,onReset:c,isStarting:d,isStopping:f,isRunning:m,isResetting:h}){const g=r?.isRunning||t.isAutoRunning,v=e==="dfk"?"DFK Chain":"Metis",y=e==="dfk"?"Hunts":"Patrols",N=e==="dfk"?yu:Ql;return n.jsxs(X,{"data-testid":`card-chain-${e}`,children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(N,{className:"w-5 h-5 text-amber-500"}),n.jsxs("span",{children:[v," - ",y]})]}),n.jsx(y0e,{status:t.checkpoint.status,isRunning:g})]}),n.jsxs(Se,{children:["Chain ID: ",t.chainId," | ",y," encounter tracking",t.workerCount>0&&n.jsxs("span",{className:"ml-2 text-emerald-500",children:[" ",t.workerCount," workers active"]})]})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Block"}),n.jsx("div",{className:"font-mono font-bold","data-testid":`text-${e}-last-block`,children:aj(t.checkpoint.last_indexed_block)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Completions"}),n.jsx("div",{className:"font-bold text-green-500","data-testid":`text-${e}-completions`,children:dr(t.checkpoint.total_completions)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Rewards"}),n.jsx("div",{className:"font-bold text-amber-500","data-testid":`text-${e}-rewards`,children:dr(t.checkpoint.total_rewards)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Run"}),n.jsx("div",{className:"text-xs",children:t.checkpoint.last_indexed_at?new Date(t.checkpoint.last_indexed_at).toLocaleString():"Never"})]})]}),t.isAutoRunning&&t.timing&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-emerald-500/10 rounded-lg","data-testid":`eta-${e}`,children:[n.jsx(rt,{className:"w-4 h-4 text-emerald-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Next batch in:"}),n.jsx(v0e,{nextRunAt:t.timing.nextRunAt})]}),r&&r.isRunning&&n.jsxs("div",{className:"space-y-2 p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:["Block ",aj(r.currentBlock)," / ",aj(r.targetBlock)]}),n.jsxs("span",{children:[r.percentComplete.toFixed(1),"%"]})]}),n.jsx(Xt,{value:r.percentComplete}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Completions: ",r.completionsFound]}),n.jsxs("span",{children:["Rewards: ",r.eventsFound]})]})]}),t.checkpoint.last_error&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-500/10 rounded text-red-500 text-sm",children:[n.jsx(sr,{className:"w-4 h-4"}),t.checkpoint.last_error]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{onClick:l,disabled:m||g,size:"sm","data-testid":`button-${e}-run`,children:[m?n.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Run Batch"]}),t.isAutoRunning?n.jsxs(se,{onClick:s,disabled:f,variant:"destructive",size:"sm","data-testid":`button-${e}-stop`,children:[f?n.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Stop Auto"]}):n.jsxs(se,{onClick:a,disabled:d,variant:"outline",size:"sm","data-testid":`button-${e}-start`,children:[d?n.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Start Auto"]}),n.jsxs(fx,{children:[n.jsx(mx,{asChild:!0,children:n.jsxs(se,{size:"sm",variant:"outline",disabled:h||g,"data-testid":`button-${e}-reset`,children:[n.jsx(gu,{className:"w-4 h-4 mr-2"}),"Reset"]})}),n.jsxs(Bu,{children:[n.jsxs(Uu,{children:[n.jsxs(Vu,{children:["Reset ",v," Data?"]}),n.jsxs(qu,{children:["This will delete all indexed ",y.toLowerCase()," data including completions, rewards, and equipment drops. You'll need to re-index to restore the data with the latest capture fields."]})]}),n.jsxs(Hu,{children:[n.jsx(Wu,{children:"Cancel"}),n.jsxs(Ku,{onClick:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":`button-${e}-confirm-reset`,children:[h?n.jsx(Me,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]})]})]})}function YR({activities:e,type:t}){const[r,a]=p.useState(null),[s,l]=p.useState([]),{data:c,isLoading:d}=_e({queryKey:[`/api/pve/loot-hierarchical/${r}`],enabled:r!==null}),f=c?.regularLoot||[],m=c?.seasonalLoot||[],h=c?.equipment||[],g=c?.totalCompletions||0,v=N=>{l(b=>b.includes(N)?b.filter(w=>w!==N):[...b,N])},y=N=>{switch(N){case"Mythic":return"text-purple-400";case"Legendary":return"text-yellow-400";case"Rare":return"text-blue-400";case"Uncommon":return"text-green-400";default:return"text-gray-400"}};return e.length===0?n.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:["No ",t,"s indexed yet. Start the indexer to begin collecting data."]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"ID"}),n.jsx(V,{children:"Name"}),n.jsx(V,{className:"text-right",children:"Completions"}),n.jsx(V,{className:"text-right",children:"Rewards"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(vt,{children:e.map(N=>n.jsxs(Ee,{"data-testid":`row-activity-${N.id}`,className:r===N.id?"bg-muted/50":"",children:[n.jsx(U,{className:"font-mono",children:N.activity_id}),n.jsx(U,{className:"font-medium",children:N.name}),n.jsx(U,{className:"text-right",children:dr(N.total_completions)}),n.jsx(U,{className:"text-right",children:dr(N.total_rewards)}),n.jsx(U,{children:n.jsx(se,{variant:r===N.id?"secondary":"outline",size:"sm",onClick:()=>a(r===N.id?null:N.id),"data-testid":`button-view-loot-${N.id}`,children:r===N.id?"Hide Loot":"View Loot"})})]},N.id))})]}),r&&n.jsxs(X,{className:"mt-4",children:[n.jsxs(ie,{children:[n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(nM,{className:"w-4 h-4"}),"Drop Rates for ",e.find(N=>N.id===r)?.name]}),n.jsx(Se,{children:g>0&&`Based on ${dr(g)} completions`})]}),n.jsx(te,{className:"space-y-6",children:d?n.jsx("div",{className:"flex items-center justify-center p-4",children:n.jsx(Me,{className:"w-6 h-6 animate-spin"})}):f.length>0||m.length>0||h.length>0?n.jsxs(n.Fragment,{children:[f.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground",children:"Consumables & Materials"}),n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Item"}),n.jsx(V,{className:"text-right",children:"Drops"}),n.jsx(V,{className:"text-right",children:"Sample Size"}),n.jsx(V,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(vt,{children:f.map((N,b)=>n.jsxs(Ee,{"data-testid":`row-loot-${b}`,children:[n.jsxs(U,{className:"font-medium",children:[N.item_name||N.item_address.slice(0,10)+"...",N.item_type&&n.jsx(W,{variant:"outline",className:"ml-2 text-xs",children:N.item_type})]}),n.jsx(U,{className:"text-right",children:dr(N.dropCount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:dr(N.totalCompletions||g)}),n.jsxs(U,{className:"text-right font-bold",children:[(N.observedRate*100).toFixed(2),"%"]})]},b))})]})]}),m.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground flex items-center gap-2",children:[n.jsx(rf,{className:"w-4 h-4 text-amber-400"}),"Seasonal Event Drops"]}),n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Item"}),n.jsx(V,{className:"text-right",children:"Drops"}),n.jsx(V,{className:"text-right",children:"Sample Size"}),n.jsx(V,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(vt,{children:m.map((N,b)=>n.jsxs(Ee,{"data-testid":`row-seasonal-${b}`,children:[n.jsxs(U,{className:"font-medium",children:[N.item_name||N.item_address.slice(0,10)+"...",n.jsx(W,{variant:"outline",className:"ml-2 text-xs text-amber-400 border-amber-400/30",children:"seasonal"})]}),n.jsx(U,{className:"text-right",children:dr(N.dropCount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:dr(N.totalCompletions||g)}),n.jsxs(U,{className:"text-right font-bold text-amber-400",children:[(N.observedRate*100).toFixed(2),"%"]})]},b))})]})]}),h.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground flex items-center gap-2",children:[n.jsx(Ql,{className:"w-4 h-4"}),"Equipment Drops"]}),n.jsx("div",{className:"space-y-2",children:h.map(N=>n.jsxs("div",{className:"border rounded-lg",children:[n.jsxs("div",{className:"p-3 flex items-center justify-between cursor-pointer hover-elevate",onClick:()=>v(N.item_address),"data-testid":`equipment-parent-${N.item_id}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yu,{className:"w-4 h-4 text-orange-400"}),n.jsx("span",{className:"font-medium",children:N.item_name||"Equipment"}),n.jsxs(W,{variant:"secondary",className:"text-xs",children:[N.variantCount," variants"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[dr(N.dropCount)," drops"]}),n.jsxs("span",{className:"font-bold text-green-400",children:[(N.observedRate*100).toFixed(2),"%"]}),n.jsx("span",{className:"text-muted-foreground",children:s.includes(N.item_address)?"":""})]})]}),Object.keys(N.rarityDistribution).length>0&&n.jsx("div",{className:"px-3 pb-2 flex gap-2 flex-wrap",children:Object.entries(N.rarityDistribution).map(([b,w])=>n.jsxs(W,{variant:"outline",className:`text-xs ${y(b)}`,children:[b,": ",w]},b))}),s.includes(N.item_address)&&N.variants.length>0&&n.jsx("div",{className:"border-t bg-muted/30",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Variant"}),n.jsx(V,{children:"Rarity"}),n.jsx(V,{className:"text-right",children:"Drops"}),n.jsx(V,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(vt,{children:N.variants.map((b,w)=>n.jsxs(Ee,{"data-testid":`variant-${N.item_id}-${w}`,children:[n.jsxs(U,{className:"font-mono text-xs",children:[b.equipmentTypeName," #",b.displayId]}),n.jsx(U,{children:n.jsx(W,{variant:"outline",className:y(b.rarityName),children:b.rarityName})}),n.jsx(U,{className:"text-right",children:dr(b.dropCount)}),n.jsxs(U,{className:"text-right font-bold",children:[(b.observedRate*100).toFixed(3),"%"]})]},w))})]})})]},N.item_address))})]})]}):n.jsx("div",{className:"text-center p-4 text-muted-foreground",children:"No loot data available for this activity yet."})})]})]})}function b0e(){const{toast:e}=fn(),[t,r]=p.useState("dfk"),{data:a,isLoading:s,error:l,refetch:c}=_e({queryKey:["/api/admin/pve/status"],refetchInterval:3e3,retry:1}),{data:d,isLoading:f}=_e({queryKey:["/api/pve/hunts"]}),{data:m,isLoading:h}=_e({queryKey:["/api/pve/patrols"]}),g=!!a&&!l,v=f||h,y=d?.hunts||[],N=m?.patrols||[],b=Oe({mutationFn:async k=>await ze("POST",`/api/admin/pve/run/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} indexer batch started`}),Te.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to run indexer",description:k.message,variant:"destructive"})}}),w=Oe({mutationFn:async k=>await ze("POST",`/api/admin/pve/start/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} auto-run started`}),Te.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to start auto-run",description:k.message,variant:"destructive"})}}),C=Oe({mutationFn:async k=>await ze("POST",`/api/admin/pve/stop/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} auto-run stopped`}),Te.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to stop auto-run",description:k.message,variant:"destructive"})}}),E=Oe({mutationFn:async k=>await ze("POST",`/api/admin/pve/reset/${k}`,{toBlock:0}),onSuccess:(k,P)=>{e({title:"Reset complete",description:`${P.toUpperCase()} data cleared. Ready to re-index.`}),Te.invalidateQueries({queryKey:["/api/admin/pve/status"]}),Te.invalidateQueries({queryKey:["/api/pve/hunts"]}),Te.invalidateQueries({queryKey:["/api/pve/patrols"]})},onError:k=>{e({title:"Reset failed",description:k.message,variant:"destructive"})}}),A=(a?.dfk?.checkpoint?.total_completions||0)+(a?.metis?.checkpoint?.total_completions||0),T=(a?.dfk?.checkpoint?.total_rewards||0)+(a?.metis?.checkpoint?.total_rewards||0);return n.jsxs("div",{className:"space-y-6","data-testid":"page-pve-droprates",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Fa,{className:"w-6 h-6 text-red-500"}),"PVE Drop Rates"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track Hunts (DFK Chain) and Patrols (Metis) with Scavenger pet detection"})]}),n.jsx(se,{variant:"outline",size:"icon",onClick:()=>c(),"data-testid":"button-refresh",children:n.jsx(rt,{className:"w-4 h-4"})})]}),v?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Me,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[l&&n.jsx(X,{className:"border-amber-500/50 bg-amber-500/10",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[n.jsx(sr,{className:"w-5 h-5"}),n.jsx("span",{children:"Admin controls unavailable - viewing public drop rate data only"})]})})}),g&&a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(yu,{className:"w-4 h-4 text-amber-500"}),"DFK Hunts"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-dfk-total",children:dr(a.dfk?.checkpoint?.total_completions||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"completions"})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ql,{className:"w-4 h-4 text-blue-500"}),"Metis Patrols"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-metis-total",children:dr(a.metis?.checkpoint?.total_completions||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"completions"})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(tp,{className:"w-4 h-4 text-green-500"}),"Total Encounters"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-500","data-testid":"text-total-encounters",children:dr(A)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"indexed"})]})]}),n.jsxs(X,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(nM,{className:"w-4 h-4 text-purple-500"}),"Total Drops"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-total-drops",children:dr(T)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"reward events"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx(GR,{chain:"dfk",chainStatus:a.dfk,liveProgress:a.liveProgress?.dfk,onStart:()=>w.mutate("dfk"),onStop:()=>C.mutate("dfk"),onRun:()=>b.mutate("dfk"),onReset:()=>E.mutate("dfk"),isStarting:w.isPending,isStopping:C.isPending,isRunning:b.isPending,isResetting:E.isPending}),n.jsx(GR,{chain:"metis",chainStatus:a.metis,liveProgress:a.liveProgress?.metis,onStart:()=>w.mutate("metis"),onStop:()=>C.mutate("metis"),onRun:()=>b.mutate("metis"),onReset:()=>E.mutate("metis"),isStarting:w.isPending,isStopping:C.isPending,isRunning:b.isPending,isResetting:E.isPending})]})]}),n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Activity Drop Rates"}),n.jsx(Se,{children:"View indexed activities and their loot drop statistics"})]}),n.jsx(te,{children:n.jsxs(si,{value:t,onValueChange:k=>r(k),children:[n.jsxs(is,{className:"mb-4",children:[n.jsxs(St,{value:"dfk","data-testid":"tab-hunts",children:[n.jsx(yu,{className:"w-4 h-4 mr-2"}),"Hunts (",y?.length||0,")"]}),n.jsxs(St,{value:"metis","data-testid":"tab-patrols",children:[n.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Patrols (",N?.length||0,")"]})]}),n.jsx(Tt,{value:"dfk",children:n.jsx(YR,{activities:y||[],type:"hunt"})}),n.jsx(Tt,{value:"metis",children:n.jsx(YR,{activities:N||[],type:"patrol"})})]})})]})]})]})}function Mh({status:e}){switch(e){case"success":return n.jsxs(W,{variant:"default",className:"bg-green-600","data-testid":"badge-status-success",children:[n.jsx(wa,{className:"w-3 h-3 mr-1"})," Success"]});case"running":return n.jsxs(W,{variant:"secondary","data-testid":"badge-status-running",children:[n.jsx(Me,{className:"w-3 h-3 mr-1 animate-spin"})," Running"]});case"failed":return n.jsxs(W,{variant:"destructive","data-testid":"badge-status-failed",children:[n.jsx(sr,{className:"w-3 h-3 mr-1"})," Failed"]});default:return n.jsxs(W,{variant:"outline","data-testid":"badge-status-unknown",children:[n.jsx(tf,{className:"w-3 h-3 mr-1"})," ",e]})}}function ru(e){return e?new Date(e).toLocaleString():""}function QR(e,t){if(!t)return"";const r=new Date(e).getTime(),a=new Date(t).getTime(),s=Math.round((a-r)/1e3);return s<60?`${s}s`:`${Math.floor(s/60)}m ${s%60}s`}function j0e(){const{toast:e}=fn(),[t,r]=p.useState(null),[a,s]=p.useState(!1),{data:l,isLoading:c}=_e({queryKey:["/api/admin/hedge/combat/sync/summary"],refetchInterval:1e4}),{data:d,isLoading:f}=_e({queryKey:["/api/admin/hedge/combat/sync/runs"],refetchInterval:1e4}),{data:m,isLoading:h}=_e({queryKey:["/api/admin/hedge/combat/sources"]}),{data:g,isLoading:v}=_e({queryKey:["/api/admin/hedge/combat/sync/runs",t],enabled:!!t}),y=Oe({mutationFn:async()=>(await ze("POST","/api/admin/hedge/combat/refresh",{discover:!0,concurrency:3})).json(),onSuccess:()=>{e({title:"Sync started",description:"Combat codex sync is now running"}),Te.invalidateQueries({queryKey:["/api/admin/hedge/combat/sync"]})},onError:w=>{e({title:"Sync failed",description:w.message,variant:"destructive"})}}),N=Oe({mutationFn:async({url:w,enabled:C})=>(await ze("PATCH","/api/admin/hedge/combat/sources",{url:w,enabled:C})).json(),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/hedge/combat/sources"]}),e({title:"Source updated"})},onError:w=>{e({title:"Failed to update source",description:w.message,variant:"destructive"})}}),b=l?.runningRun!==null||y.isPending;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Combat Sync Status"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage combat codex data ingestion from DFK Wiki"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kl,{href:"/admin/combat-classes",children:n.jsxs(se,{variant:"outline","data-testid":"button-view-classes",children:[n.jsx(Or,{className:"w-4 h-4 mr-2"}),"View Class Skills"]})}),n.jsxs(se,{onClick:()=>y.mutate(),disabled:b,"data-testid":"button-refresh-sync",children:[b?n.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Dn,{className:"w-4 h-4 mr-2"}),b?"Syncing...":"Run Sync"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Classes"}),n.jsx(jH,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:c?n.jsx(Ae,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-class-count",children:l?.counts.classes??0})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Skills"}),n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:c?n.jsx(Ae,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-skill-count",children:l?.counts.skills??0})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Keywords"}),n.jsx(sM,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:c?n.jsx(Ae,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-keyword-count",children:l?.counts.keywords??0})})]}),n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Last Sync"}),n.jsx(rt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:c?n.jsx(Ae,{className:"h-8 w-32"}):l?.lastRun?n.jsxs("div",{className:"space-y-1",children:[n.jsx(Mh,{status:l.lastRun.status}),n.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-last-sync",children:ru(l.lastRun.started_at)})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Never"})})]})]}),n.jsxs(si,{defaultValue:"runs",className:"space-y-4",children:[n.jsxs(is,{children:[n.jsxs(St,{value:"runs","data-testid":"tab-runs",children:[n.jsx(es,{className:"w-4 h-4 mr-2"})," Sync Runs"]}),n.jsxs(St,{value:"sources","data-testid":"tab-sources",children:[n.jsx(yV,{className:"w-4 h-4 mr-2"})," Sources"]})]}),n.jsx(Tt,{value:"runs",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Sync Run History"}),n.jsx(Se,{children:"Recent combat codex ingestion runs"})]}),n.jsx(te,{children:f?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(w=>n.jsx(Ae,{className:"h-12 w-full"},w))}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"ID"}),n.jsx(V,{children:"Started"}),n.jsx(V,{children:"Duration"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"URLs"}),n.jsx(V,{children:"Classes"}),n.jsx(V,{children:"Skills"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(vt,{children:d?.results?.map(w=>n.jsxs(Ee,{"data-testid":`row-sync-run-${w.id}`,children:[n.jsx(U,{className:"font-mono",children:w.id}),n.jsx(U,{className:"text-sm",children:ru(w.startedAt)}),n.jsx(U,{className:"text-sm",children:QR(w.startedAt,w.finishedAt)}),n.jsx(U,{children:n.jsx(Mh,{status:w.status})}),n.jsx(U,{children:w.discoveredUrls??""}),n.jsx(U,{children:w.classesIngested??""}),n.jsx(U,{children:w.skillsUpserted??""}),n.jsx(U,{children:n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{r(w.id),s(!0)},"data-testid":`button-view-run-${w.id}`,children:n.jsx(ZH,{className:"w-4 h-4"})})})]},w.id))})]})})]})}),n.jsx(Tt,{value:"sources",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Combat Sources"}),n.jsx(Se,{children:"URLs discovered and tracked for combat data ingestion"})]}),n.jsx(te,{children:h?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(w=>n.jsx(Ae,{className:"h-12 w-full"},w))}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"URL"}),n.jsx(V,{children:"Type"}),n.jsx(V,{children:"Discovered"}),n.jsx(V,{children:"Last Fetched"}),n.jsx(V,{children:"Enabled"})]})}),n.jsx(vt,{children:m?.results?.map((w,C)=>n.jsxs(Ee,{"data-testid":`row-source-${C}`,children:[n.jsx(U,{className:"max-w-xs truncate font-mono text-xs",children:w.url}),n.jsx(U,{children:n.jsx(W,{variant:"outline",children:w.kind})}),n.jsx(U,{className:"text-sm",children:ru(w.discoveredAt)}),n.jsx(U,{className:"text-sm",children:ru(w.lastFetchedAt)}),n.jsx(U,{children:n.jsx(Wr,{checked:w.enabled,onCheckedChange:E=>N.mutate({url:w.url,enabled:E}),disabled:N.isPending,"data-testid":`switch-source-enabled-${C}`})})]},w.url))})]})})]})})]}),n.jsx(qi,{open:a,onOpenChange:s,children:n.jsxs(Hs,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Vs,{children:[n.jsxs(qs,{children:["Sync Run #",t]}),n.jsx(Ks,{children:"Detailed breakdown of items processed during this sync run"})]}),v?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(w=>n.jsx(Ae,{className:"h-8 w-full"},w))}):g?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",n.jsx(Mh,{status:g.run.status})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Started:"})," ",ru(g.run.startedAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Duration:"})," ",QR(g.run.startedAt,g.run.finishedAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"URLs Discovered:"})," ",g.run.discoveredUrls??""]})]}),g.run.error&&n.jsxs("div",{className:"p-3 bg-destructive/10 rounded-md text-destructive text-sm",children:[n.jsx("strong",{children:"Error:"})," ",g.run.error]}),g.items.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2",children:["Processed Items (",g.items.length,")"]}),n.jsx("div",{className:"max-h-64 overflow-y-auto border rounded-md",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Type"}),n.jsx(V,{children:"Key"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Error"})]})}),n.jsx(vt,{children:g.items.map(w=>n.jsxs(Ee,{children:[n.jsx(U,{children:n.jsx(W,{variant:"outline",className:"text-xs",children:w.itemType})}),n.jsx(U,{className:"font-mono text-xs max-w-xs truncate",children:w.itemKey}),n.jsx(U,{children:n.jsx(Mh,{status:w.status})}),n.jsx(U,{className:"text-xs text-destructive max-w-xs truncate",children:w.error||""})]},w.id))})]})})]})]}):null]})})]})}function w0e(e){const t=N0e(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(C0e);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function N0e(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=A0e(s),d=E0e(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S0e=Symbol("radix.slottable");function C0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S0e}function E0e(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function A0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var P0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$z=P0e.reduce((e,t)=>{const r=w0e(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function O0e(e){const t=T0e(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(_0e);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function T0e(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=M0e(s),d=R0e(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var k0e=Symbol("radix.slottable");function _0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===k0e}function R0e(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function M0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var D0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zS=D0e.reduce((e,t)=>{const r=O0e(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Rg="Collapsible",[L0e,Fz]=xr(Rg),[I0e,BS]=L0e(Rg),zz=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:l,onOpenChange:c,...d}=e,[f,m]=Zr({prop:a,defaultProp:s??!1,onChange:c,caller:Rg});return n.jsx(I0e,{scope:r,disabled:l,contentId:Ia(),open:f,onOpenToggle:p.useCallback(()=>m(h=>!h),[m]),children:n.jsx(zS.div,{"data-state":HS(f),"data-disabled":l?"":void 0,...d,ref:t})})});zz.displayName=Rg;var Bz="CollapsibleTrigger",Uz=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...a}=e,s=BS(Bz,r);return n.jsx(zS.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":HS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:$e(e.onClick,s.onOpenToggle)})});Uz.displayName=Bz;var US="CollapsibleContent",Hz=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=BS(US,e.__scopeCollapsible);return n.jsx(ta,{present:r||s.open,children:({present:l})=>n.jsx($0e,{...a,ref:t,present:l})})});Hz.displayName=US;var $0e=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:a,children:s,...l}=e,c=BS(US,r),[d,f]=p.useState(a),m=p.useRef(null),h=et(t,m),g=p.useRef(0),v=g.current,y=p.useRef(0),N=y.current,b=c.open||d,w=p.useRef(b),C=p.useRef(void 0);return p.useEffect(()=>{const E=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(E)},[]),dn(()=>{const E=m.current;if(E){C.current=C.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const A=E.getBoundingClientRect();g.current=A.height,y.current=A.width,w.current||(E.style.transitionDuration=C.current.transitionDuration,E.style.animationName=C.current.animationName),f(a)}},[c.open,a]),n.jsx(zS.div,{"data-state":HS(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!b,...l,ref:h,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:b&&s})});function HS(e){return e?"open":"closed"}var F0e=zz,z0e=Uz,B0e=Hz,Ka="Accordion",U0e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[VS,H0e,V0e]=Xu(Ka),[Mg]=xr(Ka,[V0e,Fz]),qS=Fz(),Vz=gn.forwardRef((e,t)=>{const{type:r,...a}=e,s=a,l=a;return n.jsx(VS.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(G0e,{...l,ref:t}):n.jsx(W0e,{...s,ref:t})})});Vz.displayName=Ka;var[qz,q0e]=Mg(Ka),[Kz,K0e]=Mg(Ka,{collapsible:!1}),W0e=gn.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},collapsible:l=!1,...c}=e,[d,f]=Zr({prop:r,defaultProp:a??"",onChange:s,caller:Ka});return n.jsx(qz,{scope:e.__scopeAccordion,value:gn.useMemo(()=>d?[d]:[],[d]),onItemOpen:f,onItemClose:gn.useCallback(()=>l&&f(""),[l,f]),children:n.jsx(Kz,{scope:e.__scopeAccordion,collapsible:l,children:n.jsx(Wz,{...c,ref:t})})})}),G0e=gn.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},...l}=e,[c,d]=Zr({prop:r,defaultProp:a??[],onChange:s,caller:Ka}),f=gn.useCallback(h=>d((g=[])=>[...g,h]),[d]),m=gn.useCallback(h=>d((g=[])=>g.filter(v=>v!==h)),[d]);return n.jsx(qz,{scope:e.__scopeAccordion,value:c,onItemOpen:f,onItemClose:m,children:n.jsx(Kz,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(Wz,{...l,ref:t})})})}),[Y0e,Dg]=Mg(Ka),Wz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:a,dir:s,orientation:l="vertical",...c}=e,d=gn.useRef(null),f=et(d,t),m=H0e(r),g=Bc(s)==="ltr",v=$e(e.onKeyDown,y=>{if(!U0e.includes(y.key))return;const N=y.target,b=m().filter(I=>!I.ref.current?.disabled),w=b.findIndex(I=>I.ref.current===N),C=b.length;if(w===-1)return;y.preventDefault();let E=w;const A=0,T=C-1,k=()=>{E=w+1,E>T&&(E=A)},P=()=>{E=w-1,E<A&&(E=T)};switch(y.key){case"Home":E=A;break;case"End":E=T;break;case"ArrowRight":l==="horizontal"&&(g?k():P());break;case"ArrowDown":l==="vertical"&&k();break;case"ArrowLeft":l==="horizontal"&&(g?P():k());break;case"ArrowUp":l==="vertical"&&P();break}const M=E%C;b[M].ref.current?.focus()});return n.jsx(Y0e,{scope:r,disabled:a,direction:s,orientation:l,children:n.jsx(VS.Slot,{scope:r,children:n.jsx($z.div,{...c,"data-orientation":l,ref:f,onKeyDown:a?void 0:v})})})}),hx="AccordionItem",[Q0e,KS]=Mg(hx),Gz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,value:a,...s}=e,l=Dg(hx,r),c=q0e(hx,r),d=qS(r),f=Ia(),m=a&&c.value.includes(a)||!1,h=l.disabled||e.disabled;return n.jsx(Q0e,{scope:r,open:m,disabled:h,triggerId:f,children:n.jsx(F0e,{"data-orientation":l.orientation,"data-state":eB(m),...d,...s,ref:t,disabled:h,open:m,onOpenChange:g=>{g?c.onItemOpen(a):c.onItemClose(a)}})})});Gz.displayName=hx;var Yz="AccordionHeader",Qz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Dg(Ka,r),l=KS(Yz,r);return n.jsx($z.h3,{"data-orientation":s.orientation,"data-state":eB(l.open),"data-disabled":l.disabled?"":void 0,...a,ref:t})});Qz.displayName=Yz;var Fw="AccordionTrigger",Xz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Dg(Ka,r),l=KS(Fw,r),c=K0e(Fw,r),d=qS(r);return n.jsx(VS.ItemSlot,{scope:r,children:n.jsx(z0e,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":s.orientation,id:l.triggerId,...d,...a,ref:t})})});Xz.displayName=Fw;var Zz="AccordionContent",Jz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Dg(Ka,r),l=KS(Zz,r),c=qS(r);return n.jsx(B0e,{role:"region","aria-labelledby":l.triggerId,"data-orientation":s.orientation,...c,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Jz.displayName=Zz;function eB(e){return e?"open":"closed"}var X0e=Vz,Z0e=Gz,J0e=Qz,tB=Xz,nB=Jz;const ebe=X0e,rB=p.forwardRef(({className:e,...t},r)=>n.jsx(Z0e,{ref:r,className:Re("border-b",e),...t}));rB.displayName="AccordionItem";const aB=p.forwardRef(({className:e,children:t,...r},a)=>n.jsx(J0e,{className:"flex",children:n.jsxs(tB,{ref:a,className:Re("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Dc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));aB.displayName=tB.displayName;const sB=p.forwardRef(({className:e,children:t,...r},a)=>n.jsx(nB,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:Re("pb-4 pt-0",e),children:t})}));sB.displayName=nB.displayName;function tbe({maturity:e}){switch(e){case"revised_through_tier_5":return n.jsx(W,{variant:"default",className:"bg-green-600","data-testid":"badge-maturity-revised",children:"Revised T1-5"});case"pre_alpha":return n.jsx(W,{variant:"secondary","data-testid":"badge-maturity-prealpha",children:"Pre-Alpha"});default:return n.jsx(W,{variant:"outline","data-testid":"badge-maturity-other",children:e})}}function nbe({tier:e}){const t=["bg-gray-500","bg-green-600","bg-blue-600","bg-purple-600","bg-orange-600","bg-red-600"];return n.jsxs(W,{className:t[Math.min(e,5)],"data-testid":`badge-tier-${e}`,children:["T",e]})}function rbe({skills:e,className:t}){const[r,a]=p.useState(null),s=Array.from(new Set(e.map(d=>d.tier))).sort((d,f)=>d-f),l=Array.from(new Set(e.map(d=>d.discipline).filter(Boolean))),c=r!==null?e.filter(d=>d.tier===r):e;return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Filter by tier:"}),n.jsxs(se,{variant:r===null?"default":"outline",size:"sm",onClick:()=>a(null),"data-testid":`button-filter-all-${t}`,children:["All (",e.length,")"]}),s.map(d=>n.jsxs(se,{variant:r===d?"default":"outline",size:"sm",onClick:()=>a(d),"data-testid":`button-filter-tier-${d}-${t}`,children:["T",d," (",e.filter(f=>f.tier===d).length,")"]},d))]}),l.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:"Disciplines:"}),l.map(d=>n.jsx(W,{variant:"outline",className:"text-xs","data-testid":`badge-discipline-${d}`,children:d},d))]}),n.jsx("div",{className:"rounded-md border max-h-[400px] overflow-auto",children:n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-[60px]",children:"Tier"}),n.jsx(V,{children:"Ability"}),n.jsx(V,{children:"Discipline"}),n.jsx(V,{className:"w-[60px]",children:"Range"}),n.jsx(V,{className:"w-[60px]",children:"Mana"})]})}),n.jsx(vt,{children:c.map((d,f)=>n.jsxs(Ee,{"data-testid":`row-skill-${d.ability}`,children:[n.jsx(U,{children:n.jsx(nbe,{tier:d.tier})}),n.jsx(U,{className:"font-medium",children:d.ability}),n.jsx(U,{className:"text-muted-foreground",children:d.discipline||"-"}),n.jsx(U,{children:d.range??"-"}),n.jsx(U,{children:d.manaCost?parseFloat(d.manaCost).toFixed(0):"-"})]},`${d.ability}-${f}`))})]})})]})}function abe(){const{toast:e}=fn(),[t,r]=p.useState(""),{data:a,isLoading:s,error:l}=_e({queryKey:["/api/admin/hedge/combat/classes-summary"]}),c=Oe({mutationFn:async({className:g,validated:v})=>(await ze("PATCH",`/api/admin/hedge/combat/classes/${encodeURIComponent(g)}/validate`,{validated:v})).json(),onSuccess:(g,v)=>{Te.invalidateQueries({queryKey:["/api/admin/hedge/combat/classes-summary"]}),e({title:v.validated?"Class validated":"Validation removed",description:`${v.className} is now ${v.validated?"available":"hidden"} to Hedge NPC`})},onError:g=>{e({title:"Failed to update validation",description:g.message,variant:"destructive"})}}),d=a?.classes||[],f=t?d.filter(g=>g.class.toLowerCase().includes(t.toLowerCase())||g.skills.some(v=>v.ability.toLowerCase().includes(t.toLowerCase()))):d,m=d.reduce((g,v)=>g+v.skillCount,0),h=d.filter(g=>g.validated).length;return n.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(Or,{className:"w-8 h-8"}),"Combat Class Summary"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Overview of all hero classes and their combat skills"})]}),n.jsx(Kl,{href:"/admin/hedge/combat-sync",children:n.jsx(se,{variant:"outline","data-testid":"button-back-to-sync",children:"Back to Combat Sync"})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(X,{"data-testid":"card-total-classes",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Classes"}),n.jsx(Ql,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Ae,{className:"h-8 w-16"}):d.length})})]}),n.jsxs(X,{"data-testid":"card-total-skills",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Skills"}),n.jsx(lr,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Ae,{className:"h-8 w-16"}):m})})]}),n.jsxs(X,{"data-testid":"card-revised-classes",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Revised Classes"}),n.jsx(Or,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Ae,{className:"h-8 w-16"}):d.filter(g=>g.maturity==="revised_through_tier_5").length})})]}),n.jsxs(X,{"data-testid":"card-validated-classes",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Validated for Hedge"}),n.jsx(wa,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Ae,{className:"h-8 w-16"}):n.jsx("span",{className:h>0?"text-green-600":"",children:h})})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-4 h-4 text-muted-foreground"}),n.jsx(Xe,{placeholder:"Search classes or skills...",value:t,onChange:g=>r(g.target.value),className:"max-w-sm","data-testid":"input-search"})]}),s&&n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(Ae,{className:"h-6 w-32"}),n.jsx(Ae,{className:"h-4 w-48"})]}),n.jsx(te,{children:n.jsx(Ae,{className:"h-24 w-full"})})]},g))}),l&&n.jsx(X,{className:"border-destructive",children:n.jsx(te,{className:"pt-6",children:n.jsxs("p",{className:"text-destructive",children:["Failed to load combat classes: ",l.message]})})}),!s&&!l&&n.jsx(ebe,{type:"multiple",className:"space-y-4",children:f.map(g=>n.jsxs(rB,{value:g.class,className:"border rounded-lg px-4","data-testid":`accordion-class-${g.class}`,children:[n.jsx(aB,{className:"hover:no-underline py-4",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-left",children:[n.jsx("span",{className:"font-bold text-lg",children:g.class}),n.jsx(tbe,{maturity:g.maturity}),g.validated&&n.jsxs(W,{variant:"default",className:"bg-green-600","data-testid":`badge-validated-${g.class}`,children:[n.jsx(wa,{className:"w-3 h-3 mr-1"}),"Validated"]}),n.jsxs(W,{variant:"outline","data-testid":`badge-skill-count-${g.class}`,children:[g.skillCount," skills"]}),g.disciplines.length>0&&g.disciplines.map(v=>n.jsx(W,{variant:"secondary",className:"text-xs",children:v},v))]})}),n.jsx(sB,{className:"pb-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("a",{href:g.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline flex items-center gap-1","data-testid":`link-source-${g.class}`,children:[n.jsx(mr,{className:"w-3 h-3"}),"View Official Documentation"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{id:`validate-${g.class}`,checked:g.validated,onCheckedChange:v=>c.mutate({className:g.class,validated:v}),disabled:c.isPending,"data-testid":`switch-validate-${g.class}`}),n.jsx(ke,{htmlFor:`validate-${g.class}`,className:"text-sm",children:g.validated?"Validated for Hedge NPC":"Mark as validated"})]})]}),g.lastUpdateNote&&n.jsxs("p",{className:"text-sm text-muted-foreground border-l-2 pl-3",children:[g.lastUpdateNote.substring(0,200),"..."]}),n.jsx(rbe,{skills:g.skills,className:g.class})]})})]},g.class))})]})}function XR(e){return e?new Date(e).toLocaleString():""}function sj({tierId:e}){switch(e){case"premium_plus":return n.jsx(Ws,{className:"w-4 h-4 text-yellow-500"});case"premium":return n.jsx(tM,{className:"w-4 h-4 text-blue-500"});default:return n.jsx(Ql,{className:"w-4 h-4 text-muted-foreground"})}}function sbe(){const{toast:e}=fn(),[t,r]=p.useState(null),[a,s]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState({domain:"combat",resource:"skills",tier_id:"free",mode:"allowlist",rule:"[]"}),[m,h]=p.useState(!1),[g,v]=p.useState({domain:"combat",resource:"skills",tier_id:"free",sample:"{}"}),[y,N]=p.useState(null),{data:b,isLoading:w}=_e({queryKey:["/api/admin/hedge/entitlements/tiers"]}),{data:C,isLoading:E}=_e({queryKey:["/api/admin/hedge/entitlements/rules"]}),{data:A}=_e({queryKey:["/api/admin/hedge/schema/combat/skills"]}),T=Oe({mutationFn:async R=>(await ze("PATCH",`/api/admin/hedge/entitlements/tiers/${R.tierId}`,R.patch)).json(),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/hedge/entitlements/tiers"]}),s(!1),r(null),e({title:"Tier updated successfully"})},onError:R=>{e({title:"Failed to update tier",description:R.message,variant:"destructive"})}}),k=Oe({mutationFn:async R=>(await ze("PUT","/api/admin/hedge/entitlements/rules",R)).json(),onSuccess:()=>{Te.invalidateQueries({queryKey:["/api/admin/hedge/entitlements/rules"]}),c(!1),e({title:"Rule saved successfully"})},onError:R=>{e({title:"Failed to save rule",description:R.message,variant:"destructive"})}}),P=Oe({mutationFn:async R=>(await ze("POST","/api/admin/hedge/entitlements/preview",R)).json(),onSuccess:R=>{N(R)},onError:R=>{e({title:"Preview failed",description:R.message,variant:"destructive"})}}),M=()=>{t&&T.mutate({tierId:t.tier_id,patch:{display_name:t.display_name,description:t.description,price_monthly:t.price_monthly,enabled:t.enabled,sort_order:t.sort_order}})},I=()=>{try{const R=JSON.parse(d.rule);k.mutate({domain:d.domain,resource:d.resource,tier_id:d.tier_id,mode:d.mode,rule:R})}catch{e({title:"Invalid JSON",description:"Rule must be valid JSON",variant:"destructive"})}},Y=()=>{try{const R=JSON.parse(g.sample);P.mutate({domain:g.domain,resource:g.resource,tier_id:g.tier_id,sample:R})}catch{e({title:"Invalid JSON",description:"Sample must be valid JSON",variant:"destructive"})}},L=R=>{f(R?{domain:R.domain,resource:R.resource,tier_id:R.tier_id,mode:R.mode,rule:JSON.stringify(R.rule,null,2)}:{domain:"combat",resource:"skills",tier_id:"free",mode:"allowlist",rule:"[]"}),c(!0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Plans & Access"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage subscription tiers and entitlement rules"})]}),n.jsxs(se,{variant:"outline",onClick:()=>h(!0),"data-testid":"button-preview",children:[n.jsx(yc,{className:"w-4 h-4 mr-2"})," Preview Entitlements"]})]}),n.jsxs(si,{defaultValue:"tiers",className:"space-y-4",children:[n.jsxs(is,{children:[n.jsxs(St,{value:"tiers","data-testid":"tab-tiers",children:[n.jsx(Ws,{className:"w-4 h-4 mr-2"})," Tiers"]}),n.jsxs(St,{value:"rules","data-testid":"tab-rules",children:[n.jsx(Ql,{className:"w-4 h-4 mr-2"})," Rules"]}),n.jsxs(St,{value:"schema","data-testid":"tab-schema",children:[n.jsx(tM,{className:"w-4 h-4 mr-2"})," Schema"]})]}),n.jsx(Tt,{value:"tiers",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Subscription Tiers"}),n.jsx(Se,{children:"Configure available subscription plans and their features"})]}),n.jsx(te,{children:w?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>n.jsx(Ae,{className:"h-12 w-full"},R))}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Tier"}),n.jsx(V,{children:"Display Name"}),n.jsx(V,{children:"Price (Monthly)"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Order"}),n.jsx(V,{children:"Updated"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(vt,{children:b?.results?.map(R=>n.jsxs(Ee,{"data-testid":`row-tier-${R.tier_id}`,children:[n.jsxs(U,{className:"flex items-center gap-2",children:[n.jsx(sj,{tierId:R.tier_id}),n.jsx("span",{className:"font-mono text-sm",children:R.tier_id})]}),n.jsx(U,{children:R.display_name}),n.jsx(U,{children:R.price_monthly?`$${R.price_monthly}/mo`:"Free"}),n.jsx(U,{children:n.jsx(W,{variant:R.enabled?"default":"secondary",children:R.enabled?"Active":"Disabled"})}),n.jsx(U,{children:R.sort_order}),n.jsx(U,{className:"text-sm",children:XR(R.updated_at)}),n.jsx(U,{children:n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{r({...R}),s(!0)},"data-testid":`button-edit-tier-${R.tier_id}`,children:n.jsx(Yi,{className:"w-4 h-4"})})})]},R.tier_id))})]})})]})}),n.jsx(Tt,{value:"rules",children:n.jsxs(X,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Entitlement Rules"}),n.jsx(Se,{children:"Define what each tier can access"})]}),n.jsxs(se,{onClick:()=>L(),"data-testid":"button-add-rule",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"})," Add Rule"]})]}),n.jsx(te,{children:E?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>n.jsx(Ae,{className:"h-12 w-full"},R))}):n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Domain"}),n.jsx(V,{children:"Resource"}),n.jsx(V,{children:"Tier"}),n.jsx(V,{children:"Mode"}),n.jsx(V,{children:"Rule"}),n.jsx(V,{children:"Updated"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(vt,{children:C?.results?.map(R=>n.jsxs(Ee,{"data-testid":`row-rule-${R.id}`,children:[n.jsx(U,{children:n.jsx(W,{variant:"outline",children:R.domain})}),n.jsx(U,{children:n.jsx(W,{variant:"outline",children:R.resource})}),n.jsxs(U,{className:"flex items-center gap-2",children:[n.jsx(sj,{tierId:R.tier_id}),n.jsx("span",{className:"text-sm",children:R.tier_id})]}),n.jsx(U,{children:n.jsx(W,{variant:"secondary",children:R.mode})}),n.jsx(U,{className:"font-mono text-xs max-w-xs truncate",children:JSON.stringify(R.rule)}),n.jsx(U,{className:"text-sm",children:XR(R.updated_at)}),n.jsx(U,{children:n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>L(R),"data-testid":`button-edit-rule-${R.id}`,children:n.jsx(Yi,{className:"w-4 h-4"})})})]},R.id))})]})})]})}),n.jsx(Tt,{value:"schema",children:n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(le,{children:"Combat Skill Fields"}),n.jsx(Se,{children:"Available fields for allowlist configuration"})]}),n.jsx(te,{children:A?.fields?n.jsxs(xt,{children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{children:"Field"}),n.jsx(V,{children:"Type"}),n.jsx(V,{children:"Description"})]})}),n.jsx(vt,{children:A.fields.map(R=>n.jsxs(Ee,{"data-testid":`row-field-${R.name}`,children:[n.jsx(U,{className:"font-mono text-sm",children:R.name}),n.jsx(U,{children:n.jsx(W,{variant:"outline",children:R.type})}),n.jsx(U,{className:"text-sm text-muted-foreground",children:R.description})]},R.name))})]}):n.jsx("p",{className:"text-muted-foreground",children:"No schema data available"})})]})})]}),n.jsx(qi,{open:a,onOpenChange:s,children:n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsxs(qs,{children:["Edit Tier: ",t?.tier_id]}),n.jsx(Ks,{children:"Update tier display settings and pricing"})]}),t&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Display Name"}),n.jsx(Xe,{value:t.display_name,onChange:R=>r({...t,display_name:R.target.value}),"data-testid":"input-tier-display-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Description"}),n.jsx(hu,{value:t.description||"",onChange:R=>r({...t,description:R.target.value}),"data-testid":"input-tier-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Price (Monthly USD)"}),n.jsx(Xe,{type:"number",value:t.price_monthly||"",onChange:R=>r({...t,price_monthly:R.target.value||null}),placeholder:"0.00","data-testid":"input-tier-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Sort Order"}),n.jsx(Xe,{type:"number",value:t.sort_order,onChange:R=>r({...t,sort_order:parseInt(R.target.value)||0}),"data-testid":"input-tier-sort-order"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wr,{checked:t.enabled,onCheckedChange:R=>r({...t,enabled:R}),"data-testid":"switch-tier-enabled"}),n.jsx(ke,{children:"Enabled"})]})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(se,{onClick:M,disabled:T.isPending,"data-testid":"button-save-tier",children:[T.isPending?n.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(vj,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),n.jsx(qi,{open:l,onOpenChange:c,children:n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Edit Entitlement Rule"}),n.jsx(Ks,{children:"Configure access rules for a specific tier"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Domain"}),n.jsxs(dt,{value:d.domain,onValueChange:R=>f({...d,domain:R}),children:[n.jsx(lt,{"data-testid":"select-rule-domain",children:n.jsx(ut,{})}),n.jsx(ot,{children:n.jsx(be,{value:"combat",children:"combat"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Resource"}),n.jsxs(dt,{value:d.resource,onValueChange:R=>f({...d,resource:R}),children:[n.jsx(lt,{"data-testid":"select-rule-resource",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"skills",children:"skills"}),n.jsx(be,{value:"classes",children:"classes"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Tier"}),n.jsxs(dt,{value:d.tier_id,onValueChange:R=>f({...d,tier_id:R}),children:[n.jsx(lt,{"data-testid":"select-rule-tier",children:n.jsx(ut,{})}),n.jsx(ot,{children:b?.results?.map(R=>n.jsx(be,{value:R.tier_id,children:R.display_name},R.tier_id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Mode"}),n.jsxs(dt,{value:d.mode,onValueChange:R=>f({...d,mode:R}),children:[n.jsx(lt,{"data-testid":"select-rule-mode",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"allowlist",children:"allowlist"}),n.jsx(be,{value:"flags",children:"flags"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Rule (JSON)"}),n.jsx(hu,{value:d.rule,onChange:R=>f({...d,rule:R.target.value}),className:"font-mono text-sm min-h-[120px]",placeholder:'["field1", "field2"] or {"featureFlag": true}',"data-testid":"input-rule-json"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"For allowlist mode: array of field names. For flags mode: object with boolean flags."})]})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsxs(se,{onClick:I,disabled:k.isPending,"data-testid":"button-save-rule",children:[k.isPending?n.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(vj,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),n.jsx(qi,{open:m,onOpenChange:h,children:n.jsxs(Hs,{className:"max-w-2xl",children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Preview Entitlements"}),n.jsx(Ks,{children:"Test how entitlements shape data for different tiers"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Domain"}),n.jsxs(dt,{value:g.domain,onValueChange:R=>v({...g,domain:R}),children:[n.jsx(lt,{"data-testid":"select-preview-domain",children:n.jsx(ut,{})}),n.jsx(ot,{children:n.jsx(be,{value:"combat",children:"combat"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Resource"}),n.jsxs(dt,{value:g.resource,onValueChange:R=>v({...g,resource:R}),children:[n.jsx(lt,{"data-testid":"select-preview-resource",children:n.jsx(ut,{})}),n.jsxs(ot,{children:[n.jsx(be,{value:"skills",children:"skills"}),n.jsx(be,{value:"classes",children:"classes"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Tier"}),n.jsxs(dt,{value:g.tier_id,onValueChange:R=>v({...g,tier_id:R}),children:[n.jsx(lt,{"data-testid":"select-preview-tier",children:n.jsx(ut,{})}),n.jsx(ot,{children:b?.results?.map(R=>n.jsx(be,{value:R.tier_id,children:R.display_name},R.tier_id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Sample Object (JSON)"}),n.jsx(hu,{value:g.sample,onChange:R=>v({...g,sample:R.target.value}),className:"font-mono text-sm min-h-[100px]",placeholder:'{"id": 1, "name": "Test", "damage": 50}',"data-testid":"input-preview-sample"})]}),n.jsxs(se,{onClick:Y,disabled:P.isPending,"data-testid":"button-run-preview",children:[P.isPending?n.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(yc,{className:"w-4 h-4 mr-2"}),"Preview"]}),y&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sj,{tierId:y.tier}),n.jsxs("span",{className:"font-medium",children:["Results for ",y.tier]})]}),Object.keys(y.features).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Feature Flags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(y.features).map(([R,q])=>n.jsxs(W,{variant:q?"default":"secondary",children:[q?n.jsx(wa,{className:"w-3 h-3 mr-1"}):null,R]},R))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Shaped Result"}),n.jsx("pre",{className:"p-3 bg-muted rounded-md text-sm font-mono overflow-auto max-h-[200px]","data-testid":"text-preview-result",children:JSON.stringify(y.result,null,2)})]})]})]})]})})]})}const ibe={0:"Guest",1:"Bronze",2:"Silver",3:"Gold",4:"Council"};function lbe(){const e=W9(),r=new URLSearchParams(e).get("userId"),{toast:a}=fn(),[s,l]=p.useState("apr");p.useEffect(()=>{const N=typeof window<"u"?localStorage.getItem("lpViewMode"):null;(N==="tokens"||N==="apr")&&l(N)},[]),p.useEffect(()=>{typeof window<"u"&&localStorage.setItem("lpViewMode",s)},[s]);const{data:c,isLoading:d,error:f}=_e({queryKey:["/api/admin/users",r,"account"],queryFn:async()=>{const N=await fetch("/api/admin/users");if(!N.ok)throw console.error("Failed to fetch users:",N.status,N.statusText),new Error(`HTTP ${N.status}`);const b=await N.json(),w=Array.isArray(b?.users)?b.users:Array.isArray(b)?b:null;if(!w)throw console.error("Invalid API response format:",b),new Error("Invalid API response");const C=w.find(E=>E.discordId===r);if(!C)throw new Error("User not found");return C},enabled:!!r,retry:1}),{data:m,isLoading:h,error:g}=_e({queryKey:["/api/admin/lp-positions",c?.walletAddress],queryFn:async()=>{console.log(`[LP Fetch] Fetching LP positions for wallet: ${c.walletAddress}`);const N=await fetch(`/api/admin/lp-positions/${c.walletAddress}`,{credentials:"include"});if(console.log(`[LP Fetch] Response status: ${N.status}`),!N.ok){const w=await N.text();throw console.error("[LP Fetch] Error response:",w),new Error(`HTTP ${N.status}`)}const b=await N.json();return console.log(`[LP Fetch] Got ${b.positions?.length||0} positions, total value: ${b.totalValue}`),{positions:b.positions||[],totalValue:b.totalValue||"0.00"}},enabled:!!c?.walletAddress,retry:1,staleTime:6e4});g&&console.error("[LP Fetch] Query error:",g);const v=N=>{const b=Number(N);return Number.isFinite(b)?b.toFixed(2):"0.00"},y=N=>{navigator.clipboard.writeText(N),a({title:"Copied to clipboard"})};return r?d?n.jsx("div",{className:"min-h-screen bg-background p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx(Ae,{className:"h-12 w-64"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Ae,{className:"h-48"}),n.jsx(Ae,{className:"h-48"}),n.jsx(Ae,{className:"h-48"}),n.jsx(Ae,{className:"h-48"})]})]})}):f||!c?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(X,{className:"w-full max-w-md",children:n.jsxs(te,{className:"p-6 text-center",children:[n.jsx("p",{className:"text-red-500",children:"Failed to load account data"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"User may not exist or you may need to log in"})]})})}):n.jsx("div",{className:"min-h-screen bg-background","data-testid":"account-page",children:n.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold","data-testid":"account-title",children:[c.discordUsername,"'s Dashboard"]}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Hedge Ledger Account Overview"})]}),n.jsx(W,{className:"text-sm px-3 py-1","data-testid":"badge-tier",children:ibe[c.tier]||"Guest"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(X,{"data-testid":"card-profile",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(Rr,{className:"h-5 w-5"}),"Profile"]})}),n.jsxs(te,{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discord"}),n.jsx("span",{className:"font-medium",children:c.discordUsername})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Archetype"}),n.jsx(W,{variant:"outline",children:c.archetype})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"State"}),n.jsx("span",{className:"font-medium",children:c.state})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Influence"}),n.jsx("span",{className:"font-medium",children:(c.influence||0).toLocaleString()})]})]})]}),n.jsxs(X,{"data-testid":"card-wallet",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(Lc,{className:"h-5 w-5"}),"Wallet"]})}),n.jsx(te,{className:"space-y-3 text-sm",children:c.walletAddress?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Address"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("code",{className:"text-xs",children:[c.walletAddress.slice(0,6),"...",c.walletAddress.slice(-4)]}),n.jsx(se,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>y(c.walletAddress),"data-testid":"button-copy-wallet",children:n.jsx(ap,{className:"h-3 w-3"})})]})]}),c.walletBalances&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.jewel).toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.crystal).toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"cJEWEL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.cJewel).toFixed(2)})]})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No wallet linked"})})]}),n.jsxs(X,{"data-testid":"card-portfolio",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(Tr,{className:"h-5 w-5"}),"DFK Portfolio"]})}),n.jsx(te,{className:"space-y-3 text-sm",children:c.dfkSnapshot?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Heroes"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.heroCount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen0 Heroes"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.gen0Count})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"LP Positions"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.lpPositionsCount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total LP Value"}),n.jsxs("span",{className:"font-medium",children:["$",c.dfkSnapshot.totalLPValue?.toFixed(2)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Streak"}),n.jsxs("span",{className:"font-medium",children:[c.dfkSnapshot.questingStreakDays||0," days"]})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No portfolio data available"})})]}),n.jsxs(X,{"data-testid":"card-kpis",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(er,{className:"h-5 w-5"}),"Performance"]})}),n.jsx(te,{className:"space-y-3 text-sm",children:c.kpis?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Engagement Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.engagementScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Financial Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.financialScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Retention Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.retentionScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Messages (7d)"}),n.jsx("span",{className:"font-medium",children:c.kpis.messagesLast7d||0})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No KPI data available"})})]})]}),n.jsxs(X,{"data-testid":"card-lp-positions",className:"mt-4",children:[n.jsxs(ie,{className:"pb-2 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(gV,{className:"h-5 w-5"}),"LP Positions (Garden Pools)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(se,{variant:s==="apr"?"default":"outline",size:"sm",onClick:()=>l("apr"),children:"APR %"}),n.jsx(se,{variant:s==="tokens"?"default":"outline",size:"sm",onClick:()=>l("tokens"),children:"Tokens / day"})]})]}),n.jsx(te,{children:c.walletAddress?h?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ae,{className:"h-16 w-full"}),n.jsx(Ae,{className:"h-16 w-full"})]}):m?.positions&&m.positions.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Total Value: ",n.jsxs("span",{className:"font-semibold text-foreground",children:["$",m.totalValue]})]}),n.jsx("div",{className:"space-y-3",children:m.positions.map(N=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2","data-testid":`lp-position-${N.pid}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:N.pairName}),n.jsxs(W,{variant:"outline",className:"text-xs",children:["PID ",N.pid]})]}),n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",N.userTVL]})]}),s==="apr"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total APR"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:N.poolData.totalAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Fee APR"}),n.jsx("div",{className:"font-medium",children:N.poolData.fee24hAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Harvesting APR"}),n.jsx("div",{className:"font-medium",children:N.poolData.harvesting24hAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Boost"}),n.jsx("div",{className:"font-medium",children:N.poolData.gardeningQuestAPR?.worst&&N.poolData.gardeningQuestAPR?.best?`${N.poolData.gardeningQuestAPR.worst} - ${N.poolData.gardeningQuestAPR.best}`:"N/A"})]})]}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL / day"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:v(N.poolData.daily?.jewel)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL / day"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:v(N.poolData.daily?.crystal)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Boost"}),n.jsx("div",{className:"font-medium",children:N.poolData.gardeningQuestAPR?.worst&&N.poolData.gardeningQuestAPR?.best?`${N.poolData.gardeningQuestAPR.worst} - ${N.poolData.gardeningQuestAPR.best}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Share"}),n.jsx("div",{className:"font-medium",children:N.shareOfPool})]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-1 border-t",children:[n.jsxs("span",{children:["Pool Share: ",N.shareOfPool]}),n.jsxs("span",{children:["Pool TVL: ",N.poolData.totalTVL]})]})]},N.pid))})]}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No LP positions found in garden pools"}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No wallet linked to fetch LP positions"})})]})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(X,{className:"w-full max-w-md",children:n.jsx(te,{className:"p-6 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No user ID provided"})})})})}const obe={heroes:Rr,hunting:yu,pvp:sp,summoning:rf,defi:Tr,season:Xw,overall:er},cbe={heroes:"Hero Progression",hunting:"Hunting & PvE",pvp:"PvP Competition",summoning:"Summoning Feats",defi:"DeFi Participation",season:"Seasonal",overall:"Overall"},dbe={summoner_of_legends:{label:"Legendary Summoner",color:"bg-purple-500/20 text-purple-300 border-purple-500/30"},mythmaker:{label:"Mythmaker",color:"bg-amber-500/20 text-amber-300 border-amber-500/30"},clucker_miracle:{label:"Miracle Hunter",color:"bg-red-500/20 text-red-300 border-red-500/30"},arena_victor:{label:"Arena Victor",color:"bg-blue-500/20 text-blue-300 border-blue-500/30"},lp_whale:{label:"LP Whale",color:"bg-green-500/20 text-green-300 border-green-500/30"}};function ube({rank:e}){return e===1?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(Ws,{className:"h-5 w-5 text-yellow-400"}),n.jsx("span",{className:"font-bold text-yellow-400",children:"1st"})]}):e===2?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(TV,{className:"h-5 w-5 text-gray-300"}),n.jsx("span",{className:"font-bold text-gray-300",children:"2nd"})]}):e===3?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(Ih,{className:"h-5 w-5 text-orange-400"}),n.jsx("span",{className:"font-bold text-orange-400",children:"3rd"})]}):n.jsxs("span",{className:"text-muted-foreground","data-testid":`rank-badge-${e}`,children:["#",e]})}function fbe({leaderboards:e,selectedKey:t,onSelect:r}){const a=e.reduce((s,l)=>(s[l.categoryKey]||(s[l.categoryKey]=[]),s[l.categoryKey].push(l),s),{});return n.jsxs("div",{className:"w-64 border-r bg-card/50 min-h-screen","data-testid":"leaderboard-sidebar",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yr,{className:"h-5 w-5 text-primary"}),n.jsx("h2",{className:"font-semibold text-lg",children:"Leaderboards"})]})}),n.jsx(Hi,{className:"h-[calc(100vh-80px)]",children:n.jsx("div",{className:"p-2",children:Object.entries(a).map(([s,l])=>{const c=obe[s]||Yr;return n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[n.jsx(c,{className:"h-3 w-3"}),cbe[s]||s]}),l.map(d=>n.jsxs(se,{variant:t===d.key?"secondary":"ghost",className:"w-full justify-start text-left h-auto py-2 px-3",onClick:()=>r(d.key),"data-testid":`button-select-leaderboard-${d.key}`,children:[n.jsxs("div",{className:"flex flex-col items-start gap-0.5",children:[n.jsx("span",{className:"text-sm font-medium",children:d.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:d.timeWindow.replace("_"," ")})]}),n.jsx(ef,{className:"h-4 w-4 ml-auto opacity-50"})]},d.key))]},s)})})})]})}function mbe({data:e,isLoading:t}){return t?n.jsx("div",{className:"space-y-3",children:[...Array(10)].map((r,a)=>n.jsx(Ae,{className:"h-12 w-full"},a))}):e?e.entries.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[n.jsx(Yr,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"No entries yet"}),n.jsx("p",{className:"text-sm",children:"Rankings will appear after the next leaderboard run"})]}):n.jsxs(xt,{"data-testid":"leaderboard-table",children:[n.jsx(gt,{children:n.jsxs(Ee,{children:[n.jsx(V,{className:"w-20",children:"Rank"}),n.jsx(V,{children:"Player"}),n.jsx(V,{className:"text-right",children:"Score"}),n.jsx(V,{children:"Badges"})]})}),n.jsx(vt,{children:e.entries.map(r=>n.jsxs(Ee,{"data-testid":`leaderboard-row-${r.rank}`,children:[n.jsx(U,{children:n.jsx(ube,{rank:r.rank})}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium","data-testid":`player-name-${r.rank}`,children:r.displayName||r.walletPreview||"Anonymous"}),r.walletPreview&&r.displayName&&n.jsx("span",{className:"text-xs text-muted-foreground",children:r.walletPreview})]})}),n.jsx(U,{className:"text-right",children:n.jsx("span",{className:"font-bold text-lg","data-testid":`score-${r.rank}`,children:r.score.toLocaleString()})}),n.jsx(U,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:r.flags.map(a=>{const s=dbe[a];return s?n.jsx(W,{variant:"outline",className:`text-xs ${s.color}`,"data-testid":`badge-${a}-${r.rank}`,children:s.label},a):null})})})]},r.clusterId))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[n.jsx(Yr,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"Select a leaderboard to view rankings"})]})}function ZR(){const[e,t]=G9("/leaderboards/:key"),[,r]=Ha(),a=t?.key||null,[s,l]=p.useState(a),{data:c,isLoading:d}=_e({queryKey:["/api/leaderboards"]}),{data:f,isLoading:m}=_e({queryKey:["/api/leaderboards",s],enabled:!!s});p.useEffect(()=>{a&&a!==s&&l(a)},[a,s]),p.useEffect(()=>{if(c&&c.length>0&&!s){const g=c[0].key;l(g),r(`/leaderboards/${g}`,{replace:!0})}},[c,s,r]);const h=g=>{l(g),r(`/leaderboards/${g}`)};return d?n.jsxs("div",{className:"flex h-screen",children:[n.jsxs("div",{className:"w-64 border-r p-4",children:[n.jsx(Ae,{className:"h-8 w-32 mb-4"}),[...Array(6)].map((g,v)=>n.jsx(Ae,{className:"h-10 w-full mb-2"},v))]}),n.jsxs("div",{className:"flex-1 p-6",children:[n.jsx(Ae,{className:"h-8 w-48 mb-4"}),n.jsx(Ae,{className:"h-96 w-full"})]})]}):n.jsxs("div",{className:"flex h-screen bg-background","data-testid":"leaderboards-page",children:[n.jsx(fbe,{leaderboards:c||[],selectedKey:s,onSelect:h}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"p-6",children:[f&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"leaderboard-title",children:f.name}),n.jsx(W,{variant:"outline","data-testid":"time-window-badge",children:f.timeWindow.replace("_"," ")})]}),n.jsx("p",{className:"text-muted-foreground","data-testid":"leaderboard-description",children:f.description}),f.generatedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"generated-at",children:["Last updated: ",new Date(f.generatedAt).toLocaleString()]})]}),n.jsx(X,{children:n.jsx(te,{className:"p-0",children:n.jsx(mbe,{data:f||null,isLoading:m})})})]})})]})}const hbe={hero_progression:Or,economy_strategy:Tr,profession_specialization:rM,ownership_collection:Ws,behavior_engagement:Rr,seasonal_events:Xw,prestige_overall:e1,summoning_prestige:rf,overall:er},JR={BASIC:"bg-stone-500/20 text-stone-300 border-stone-500/30",ADVANCED:"bg-blue-500/20 text-blue-300 border-blue-500/30",ELITE:"bg-purple-500/20 text-purple-300 border-purple-500/30",EXALTED:"bg-amber-500/20 text-amber-300 border-amber-500/30",LEGENDARY:"bg-orange-500/20 text-orange-300 border-orange-500/30"};function pbe({challenge:e,progress:t}){const r=t?.value_180d??t?.currentValue??0,a=t?.founders_mark??t?.foundersMarkAchieved??!1,s=[...e.tiers].sort((f,m)=>f.sortOrder-m.sortOrder);s.find(f=>f.isPrestige)||s[s.length-1];const l=t?.tier_code_180d??t?.highestTierAchieved,c=s.find(f=>f.thresholdValue>r),d=c?Math.min(100,r/c.thresholdValue*100):100;return n.jsxs(X,{className:`hover-elevate transition-all ${a?"ring-2 ring-amber-500/50 shadow-amber-500/20 shadow-lg":""}`,"data-testid":`challenge-card-${e.key}`,children:[n.jsx(ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(le,{className:"text-base",children:e.name}),a&&n.jsx(Ws,{className:"w-4 h-4 text-amber-500","data-testid":`founders-mark-${e.key}`})]}),n.jsx(Se,{className:"text-xs mt-1",children:e.description})]}),l&&n.jsx(W,{variant:"outline",className:`text-xs ${JR[l]||""}`,"data-testid":`tier-badge-${e.key}`,children:l})]})}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Progress"}),n.jsxs("span",{className:"font-medium","data-testid":`progress-value-${e.key}`,children:[r.toLocaleString(),c&&n.jsxs("span",{className:"text-muted-foreground",children:[" ","/ ",c.thresholdValue.toLocaleString()]})]})]}),n.jsx(Xt,{value:d,className:"h-2"}),n.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:s.map(f=>{const m=l&&s.findIndex(h=>h.tierCode===l)>=s.findIndex(h=>h.tierCode===f.tierCode);return n.jsxs(W,{variant:"outline",className:`text-xs ${m?JR[f.tierCode]||"":"opacity-40"}`,"data-testid":`tier-indicator-${e.key}-${f.tierCode}`,children:[f.isPrestige&&n.jsx(Ws,{className:"w-3 h-3 mr-1"}),f.displayName||f.tierCode]},f.tierCode)})})]})})]})}function xbe({feat:e}){return n.jsxs(X,{className:`hover-elevate transition-all ${e.isUnlocked?"ring-1 ring-amber-500/30":"opacity-60"}`,"data-testid":`feat-card-${e.key}`,children:[n.jsx(ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[e.isUnlocked?n.jsx(wV,{className:"w-5 h-5 text-amber-500"}):n.jsx(SV,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx(le,{className:"text-base",children:e.name}),n.jsx(Se,{className:"text-xs mt-1",children:e.description})]})]}),n.jsx(W,{variant:e.isUnlocked?"default":"outline",className:e.isUnlocked?"bg-amber-500/20 text-amber-300 border-amber-500/30":"","data-testid":`feat-status-${e.key}`,children:e.isUnlocked?"Unlocked":"Locked"})]})}),e.isUnlocked&&e.unlockedAt&&n.jsx(te,{className:"pt-0",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Achieved: ",new Date(e.unlockedAt).toLocaleDateString()]})})]})}function e4(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>n.jsxs(X,{children:[n.jsxs(ie,{children:[n.jsx(Ae,{className:"h-5 w-32"}),n.jsx(Ae,{className:"h-4 w-48 mt-2"})]}),n.jsxs(te,{children:[n.jsx(Ae,{className:"h-2 w-full"}),n.jsxs("div",{className:"flex gap-1 mt-3",children:[n.jsx(Ae,{className:"h-5 w-16"}),n.jsx(Ae,{className:"h-5 w-16"}),n.jsx(Ae,{className:"h-5 w-16"})]})]})]},e))})})}function gbe(){const[e,t]=p.useState("challenges"),{data:r,isLoading:a}=_e({queryKey:["/api/challenges",{type:"challenges"}],queryFn:async()=>{const d=await fetch("/api/challenges?type=challenges");if(!d.ok)throw new Error("Failed to fetch challenges");return d.json()}}),{data:s,isLoading:l}=_e({queryKey:["/api/feats"],queryFn:async()=>{const d=await fetch("/api/feats");if(!d.ok)throw new Error("Failed to fetch feats");return d.json()}}),{data:c}=_e({queryKey:["/api/challenges/progress/demo"],queryFn:async()=>{const d=await fetch("/api/challenges/progress/demo");if(!d.ok)throw new Error("Failed to fetch progress");return d.json()},retry:!1});return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen","data-testid":"challenges-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"page-title",children:[n.jsx(Yr,{className:"w-6 h-6 text-primary"}),"Challenges & Feats"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track your progress and unlock achievements"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[r&&n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"challenges-count",children:r.totalChallenges}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Challenges"})]}),s&&n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"feats-count",children:[s.unlockedCount,"/",s.totalFeats]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Feats Unlocked"})]})]})]}),n.jsxs(si,{value:e,onValueChange:t,className:"space-y-4",children:[n.jsxs(is,{children:[n.jsxs(St,{value:"challenges","data-testid":"tab-challenges",children:[n.jsx(er,{className:"w-4 h-4 mr-2"}),"Challenges"]}),n.jsxs(St,{value:"feats","data-testid":"tab-feats",children:[n.jsx(Ih,{className:"w-4 h-4 mr-2"}),"Feats"]})]}),n.jsxs(Tt,{value:"challenges",className:"space-y-6",children:[a?n.jsx(e4,{}):r?.categories.map(d=>{const f=hbe[d.key]||Yr;return n.jsxs("div",{className:"space-y-4","data-testid":`category-${d.key}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(f,{className:"w-5 h-5 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold",children:d.name}),n.jsx(W,{variant:"secondary",className:"text-xs",children:d.challenges.length})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d.description}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.challenges.map(m=>n.jsx(pbe,{challenge:m,progress:c?.progress[m.key]},m.key))})]},d.key)}),!a&&(!r?.categories||r.categories.length===0)&&n.jsx(X,{className:"text-center py-12",children:n.jsxs(te,{children:[n.jsx(Yr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Challenges Yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Challenges will appear here once they're deployed."})]})})]}),n.jsx(Tt,{value:"feats",className:"space-y-6",children:l?n.jsx(e4,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ih,{className:"w-5 h-5 text-amber-500"}),n.jsx("h2",{className:"text-lg font-semibold",children:"Lifetime Feats"}),n.jsxs(W,{variant:"secondary",className:"text-xs",children:[s?.unlockedCount||0,"/",s?.totalFeats||0," Unlocked"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Feats are permanent achievements that mark major accomplishments in your journey."}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s?.feats.map(d=>n.jsx(xbe,{feat:d},d.key))}),(!s?.feats||s.feats.length===0)&&n.jsx(X,{className:"text-center py-12",children:n.jsxs(te,{children:[n.jsx(Ih,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Feats Available"}),n.jsx("p",{className:"text-muted-foreground",children:"Feats will appear here once they're deployed."})]})})]})})]}),n.jsx(X,{className:"bg-muted/30",children:n.jsx(te,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ws,{className:"w-4 h-4 text-amber-500"}),n.jsx("span",{className:"font-medium",children:"Founder's Mark:"}),n.jsx("span",{className:"text-muted-foreground",children:"Challenges with a golden border indicate you've achieved the top tier at some point. This is a permanent badge of honor, even if your current progress is lower."})]})})})]})}function vbe(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(X,{className:"w-full max-w-md mx-4",children:n.jsxs(te,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(sr,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Ot({children:e}){return n.jsx(AG,{requireAdmin:!0,children:n.jsx(KG,{children:e})})}function ybe(){return console.log("[Router] Current path:",window.location.pathname),n.jsxs(X9,{children:[n.jsx(pt,{path:"/admin/login",component:GG}),n.jsx(pt,{path:"/admin/users/:discordId/dashboard",children:e=>(console.log("[Route] Matched /admin/users/:discordId/dashboard, params:",e),n.jsx(Ot,{children:n.jsx(tX,{})}))}),n.jsx(pt,{path:"/admin/users/:userId",children:e=>(console.log("[Route] Matched /admin/users/:userId, params:",e),n.jsx(Ot,{children:n.jsx(FQ,{})}))}),n.jsx(pt,{path:"/admin/users",children:()=>(console.log("[Route] Matched /admin/users"),n.jsx(Ot,{children:n.jsx($Q,{})}))}),n.jsx(pt,{path:"/admin/expenses",children:()=>n.jsx(Ot,{children:n.jsx(nX,{})})}),n.jsx(pt,{path:"/admin/settings",children:()=>n.jsx(Ot,{children:n.jsx(sX,{})})}),n.jsx(pt,{path:"/admin/challenges/:id/edit",children:()=>n.jsx(Ot,{children:n.jsx(RR,{})})}),n.jsx(pt,{path:"/admin/challenges/:id",children:()=>n.jsx(Ot,{children:n.jsx(RR,{})})}),n.jsx(pt,{path:"/admin/challenges",children:()=>n.jsx(Ot,{children:n.jsx(kge,{})})}),n.jsx(pt,{path:"/admin/bridge",children:()=>n.jsx(Ot,{children:n.jsx(rge,{})})}),n.jsx(pt,{path:"/admin/value-allocation",children:()=>n.jsx(Ot,{children:n.jsx(age,{})})}),n.jsx(pt,{path:"/admin/coverage-details",children:()=>n.jsx(Ot,{children:n.jsx(ige,{})})}),n.jsx(pt,{path:"/admin/tokens",children:()=>n.jsx(Ot,{children:n.jsx(Eve,{})})}),n.jsx(pt,{path:"/admin/extractors",children:()=>n.jsx(Ot,{children:n.jsx(kve,{})})}),n.jsx(pt,{path:"/admin/pools/:pid",children:()=>n.jsx(Ot,{children:n.jsx(Rve,{})})}),n.jsx(pt,{path:"/admin/pools",children:()=>n.jsx(Ot,{children:n.jsx(_ve,{})})}),n.jsx(pt,{path:"/admin/pool-indexer",children:()=>n.jsx(Ot,{children:n.jsx(zve,{})})}),n.jsx(pt,{path:"/admin/pool-indexer-v1",children:()=>n.jsx(Ot,{children:n.jsx(Kve,{})})}),n.jsx(pt,{path:"/admin/pool-indexer-harmony",children:()=>n.jsx(Ot,{children:n.jsx(Qve,{})})}),n.jsx(pt,{path:"/admin/jeweler",children:()=>n.jsx(Ot,{children:n.jsx(Jve,{})})}),n.jsx(pt,{path:"/admin/gardening-quest",children:()=>n.jsx(Ot,{children:n.jsx(vye,{})})}),n.jsx(pt,{path:"/admin/gardening-calc",children:()=>n.jsx(Ot,{children:n.jsx(qye,{})})}),n.jsx(pt,{path:"/admin/battle-ready",children:()=>n.jsx(Ot,{children:n.jsx(Yye,{})})}),n.jsx(pt,{path:"/admin/summoning-calculator",children:()=>n.jsx(Ot,{children:n.jsx(x0e,{})})}),n.jsx(pt,{path:"/admin/summon-sniper",children:()=>n.jsx(Ot,{children:n.jsx(g0e,{})})}),n.jsx(pt,{path:"/admin/pve-droprates",children:()=>n.jsx(Ot,{children:n.jsx(b0e,{})})}),n.jsx(pt,{path:"/admin/level-racer",children:()=>n.jsx(Ot,{children:n.jsx(Cve,{})})}),n.jsx(pt,{path:"/admin/hedge/combat-sync",children:()=>n.jsx(Ot,{children:n.jsx(j0e,{})})}),n.jsx(pt,{path:"/admin/combat-classes",children:()=>n.jsx(Ot,{children:n.jsx(abe,{})})}),n.jsx(pt,{path:"/admin/hedge/plans",children:()=>n.jsx(Ot,{children:n.jsx(sbe,{})})}),n.jsx(pt,{path:"/admin/account",children:()=>n.jsx(Ot,{children:n.jsx(lbe,{})})}),n.jsx(pt,{path:"/admin",children:()=>(console.log("[Route] Matched /admin (dashboard)"),n.jsx(Ot,{children:n.jsx(YG,{})}))}),n.jsx(pt,{path:"/leaderboards/:key",children:()=>n.jsx(ZR,{})}),n.jsx(pt,{path:"/leaderboards",children:()=>n.jsx(ZR,{})}),n.jsx(pt,{path:"/challenges",children:()=>n.jsx(gbe,{})}),n.jsx(pt,{path:"/",children:()=>(window.location.href="/admin",null)}),n.jsx(pt,{children:()=>(console.log("[Route] No match - showing 404"),n.jsx(vbe,{}))})]})}function bbe(){return n.jsx(wU,{client:Te,children:n.jsx(iD,{children:n.jsxs(EG,{children:[n.jsx(gK,{}),n.jsx(ybe,{})]})})})}P9.createRoot(document.getElementById("root")).render(n.jsx(bbe,{}));
