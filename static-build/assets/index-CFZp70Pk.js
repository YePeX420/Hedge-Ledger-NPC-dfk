function A9(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function ms(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zy={exports:{}},au={};var YA;function P9(){if(YA)return au;YA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:l}}return au.Fragment=t,au.jsx=r,au.jsxs=r,au}var QA;function T9(){return QA||(QA=1,Zy.exports=P9()),Zy.exports}var n=T9(),Jy={exports:{}},su={},e0={exports:{}},t0={};var XA;function O9(){return XA||(XA=1,(function(e){function t(z,J){var $=z.length;z.push(J);e:for(;0<$;){var H=$-1>>>1,pe=z[H];if(0<s(pe,J))z[H]=J,z[$]=pe,$=H;else break e}}function r(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var J=z[0],$=z.pop();if($!==J){z[0]=$;e:for(var H=0,pe=z.length,D=pe>>>1;H<D;){var ne=2*(H+1)-1,xe=z[ne],Se=ne+1,oe=z[Se];if(0>s(xe,$))Se<pe&&0>s(oe,xe)?(z[H]=oe,z[Se]=$,H=Se):(z[H]=xe,z[ne]=$,H=ne);else if(Se<pe&&0>s(oe,$))z[H]=oe,z[Se]=$,H=Se;else break e}}return J}function s(z,J){var $=z.sortIndex-J.sortIndex;return $!==0?$:z.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,g=null,v=3,b=!1,w=!1,y=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(z){for(var J=r(m);J!==null;){if(J.callback===null)a(m);else if(J.startTime<=z)a(m),J.sortIndex=J.expirationTime,t(f,J);else break;J=r(m)}}function k(z){if(y=!1,T(z),!w)if(r(f)!==null)w=!0,P||(P=!0,V());else{var J=r(m);J!==null&&te(k,J.startTime-z)}}var P=!1,_=-1,M=5,X=-1;function I(){return j?!0:!(e.unstable_now()-X<M)}function R(){if(j=!1,P){var z=e.unstable_now();X=z;var J=!0;try{e:{w=!1,y&&(y=!1,E(_),_=-1),b=!0;var $=v;try{t:{for(T(z),g=r(f);g!==null&&!(g.expirationTime>z&&I());){var H=g.callback;if(typeof H=="function"){g.callback=null,v=g.priorityLevel;var pe=H(g.expirationTime<=z);if(z=e.unstable_now(),typeof pe=="function"){g.callback=pe,T(z),J=!0;break t}g===r(f)&&a(f),T(z)}else a(f);g=r(f)}if(g!==null)J=!0;else{var D=r(m);D!==null&&te(k,D.startTime-z),J=!1}}break e}finally{g=null,v=$,b=!1}J=void 0}}finally{J?V():P=!1}}}var V;if(typeof A=="function")V=function(){A(R)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Y=je.port2;je.port1.onmessage=R,V=function(){Y.postMessage(null)}}else V=function(){C(R,0)};function te(z,J){_=C(function(){z(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var $=v;v=J;try{return z()}finally{v=$}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=v;v=z;try{return J()}finally{v=$}},e.unstable_scheduleCallback=function(z,J,$){var H=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=$+pe,z={id:h++,callback:J,priorityLevel:z,startTime:$,expirationTime:pe,sortIndex:-1},$>H?(z.sortIndex=$,t(m,z),r(f)===null&&z===r(m)&&(y?(E(_),_=-1):y=!0,te(k,$-H))):(z.sortIndex=pe,t(f,z),w||b||(w=!0,P||(P=!0,V()))),z},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(z){var J=v;return function(){var $=v;v=J;try{return z.apply(this,arguments)}finally{v=$}}}})(t0)),t0}var ZA;function k9(){return ZA||(ZA=1,e0.exports=O9()),e0.exports}var n0={exports:{}},ot={};var JA;function _9(){if(JA)return ot;JA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,j={};function C(D,ne,xe){this.props=D,this.context=ne,this.refs=j,this.updater=xe||w}C.prototype.isReactComponent={},C.prototype.setState=function(D,ne){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ne,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=C.prototype;function A(D,ne,xe){this.props=D,this.context=ne,this.refs=j,this.updater=xe||w}var T=A.prototype=new E;T.constructor=A,y(T,C.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function P(){}var _={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function X(D,ne,xe){var Se=xe.ref;return{$$typeof:e,type:D,key:ne,ref:Se!==void 0?Se:null,props:xe}}function I(D,ne){return X(D.type,ne,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function V(D){var ne={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(xe){return ne[xe]})}var je=/\/+/g;function Y(D,ne){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):ne.toString(36)}function te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(P,P):(D.status="pending",D.then(function(ne){D.status==="pending"&&(D.status="fulfilled",D.value=ne)},function(ne){D.status==="pending"&&(D.status="rejected",D.reason=ne)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,ne,xe,Se,oe){var $e=typeof D;($e==="undefined"||$e==="boolean")&&(D=null);var ge=!1;if(D===null)ge=!0;else switch($e){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(D.$$typeof){case e:case t:ge=!0;break;case h:return ge=D._init,z(ge(D._payload),ne,xe,Se,oe)}}if(ge)return oe=oe(D),ge=Se===""?"."+Y(D,0):Se,k(oe)?(xe="",ge!=null&&(xe=ge.replace(je,"$&/")+"/"),z(oe,ne,xe,"",function(Re){return Re})):oe!=null&&(R(oe)&&(oe=I(oe,xe+(oe.key==null||D&&D.key===oe.key?"":(""+oe.key).replace(je,"$&/")+"/")+ge)),ne.push(oe)),1;ge=0;var We=Se===""?".":Se+":";if(k(D))for(var me=0;me<D.length;me++)Se=D[me],$e=We+Y(Se,me),ge+=z(Se,ne,xe,$e,oe);else if(me=b(D),typeof me=="function")for(D=me.call(D),me=0;!(Se=D.next()).done;)Se=Se.value,$e=We+Y(Se,me++),ge+=z(Se,ne,xe,$e,oe);else if($e==="object"){if(typeof D.then=="function")return z(te(D),ne,xe,Se,oe);throw ne=String(D),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ge}function J(D,ne,xe){if(D==null)return D;var Se=[],oe=0;return z(D,Se,"","",function($e){return ne.call(xe,$e,oe++)}),Se}function $(D){if(D._status===-1){var ne=D._result;ne=ne(),ne.then(function(xe){(D._status===0||D._status===-1)&&(D._status=1,D._result=xe)},function(xe){(D._status===0||D._status===-1)&&(D._status=2,D._result=xe)}),D._status===-1&&(D._status=0,D._result=ne)}if(D._status===1)return D._result.default;throw D._result}var H=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},pe={map:J,forEach:function(D,ne,xe){J(D,function(){ne.apply(this,arguments)},xe)},count:function(D){var ne=0;return J(D,function(){ne++}),ne},toArray:function(D){return J(D,function(ne){return ne})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return ot.Activity=g,ot.Children=pe,ot.Component=C,ot.Fragment=r,ot.Profiler=s,ot.PureComponent=A,ot.StrictMode=a,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,ot.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _.H.useMemoCache(D)}},ot.cache=function(D){return function(){return D.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(D,ne,xe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Se=y({},D.props),oe=D.key;if(ne!=null)for($e in ne.key!==void 0&&(oe=""+ne.key),ne)!M.call(ne,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&ne.ref===void 0||(Se[$e]=ne[$e]);var $e=arguments.length-2;if($e===1)Se.children=xe;else if(1<$e){for(var ge=Array($e),We=0;We<$e;We++)ge[We]=arguments[We+2];Se.children=ge}return X(D.type,oe,Se)},ot.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},ot.createElement=function(D,ne,xe){var Se,oe={},$e=null;if(ne!=null)for(Se in ne.key!==void 0&&($e=""+ne.key),ne)M.call(ne,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(oe[Se]=ne[Se]);var ge=arguments.length-2;if(ge===1)oe.children=xe;else if(1<ge){for(var We=Array(ge),me=0;me<ge;me++)We[me]=arguments[me+2];oe.children=We}if(D&&D.defaultProps)for(Se in ge=D.defaultProps,ge)oe[Se]===void 0&&(oe[Se]=ge[Se]);return X(D,$e,oe)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(D){return{$$typeof:d,render:D}},ot.isValidElement=R,ot.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:$}},ot.memo=function(D,ne){return{$$typeof:m,type:D,compare:ne===void 0?null:ne}},ot.startTransition=function(D){var ne=_.T,xe={};_.T=xe;try{var Se=D(),oe=_.S;oe!==null&&oe(xe,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(P,H)}catch($e){H($e)}finally{ne!==null&&xe.types!==null&&(ne.types=xe.types),_.T=ne}},ot.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},ot.use=function(D){return _.H.use(D)},ot.useActionState=function(D,ne,xe){return _.H.useActionState(D,ne,xe)},ot.useCallback=function(D,ne){return _.H.useCallback(D,ne)},ot.useContext=function(D){return _.H.useContext(D)},ot.useDebugValue=function(){},ot.useDeferredValue=function(D,ne){return _.H.useDeferredValue(D,ne)},ot.useEffect=function(D,ne){return _.H.useEffect(D,ne)},ot.useEffectEvent=function(D){return _.H.useEffectEvent(D)},ot.useId=function(){return _.H.useId()},ot.useImperativeHandle=function(D,ne,xe){return _.H.useImperativeHandle(D,ne,xe)},ot.useInsertionEffect=function(D,ne){return _.H.useInsertionEffect(D,ne)},ot.useLayoutEffect=function(D,ne){return _.H.useLayoutEffect(D,ne)},ot.useMemo=function(D,ne){return _.H.useMemo(D,ne)},ot.useOptimistic=function(D,ne){return _.H.useOptimistic(D,ne)},ot.useReducer=function(D,ne,xe){return _.H.useReducer(D,ne,xe)},ot.useRef=function(D){return _.H.useRef(D)},ot.useState=function(D){return _.H.useState(D)},ot.useSyncExternalStore=function(D,ne,xe){return _.H.useSyncExternalStore(D,ne,xe)},ot.useTransition=function(){return _.H.useTransition()},ot.version="19.2.0",ot}var eP;function qc(){return eP||(eP=1,n0.exports=_9()),n0.exports}var r0={exports:{}},sr={};var tP;function R9(){if(tP)return sr;tP=1;var e=qc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},sr.flushSync=function(f){var m=c.T,h=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=h,a.d.f()}},sr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},sr.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},sr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):h==="script"&&a.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},sr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin);a.d.L(f,h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},sr.requestFormReset=function(f){a.d.r(f)},sr.unstable_batchedUpdates=function(f,m){return f(m)},sr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},sr.useFormStatus=function(){return c.H.useHostTransitionStatus()},sr.version="19.2.0",sr}var nP;function lR(){if(nP)return r0.exports;nP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),r0.exports=R9(),r0.exports}var rP;function M9(){if(rP)return su;rP=1;var e=k9(),t=qc(),r=lR();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(a(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var u=i,x=o;;){var N=u.return;if(N===null)break;var S=N.alternate;if(S===null){if(x=N.return,x!==null){u=x;continue}break}if(N.child===S.child){for(S=N.child;S;){if(S===u)return f(N),i;if(S===x)return f(N),o;S=S.sibling}throw Error(a(188))}if(u.return!==x.return)u=N,x=S;else{for(var O=!1,L=N.child;L;){if(L===u){O=!0,u=N,x=S;break}if(L===x){O=!0,x=N,u=S;break}L=L.sibling}if(!O){for(L=S.child;L;){if(L===u){O=!0,u=S,x=N;break}if(L===x){O=!0,x=S,u=N;break}L=L.sibling}if(!O)throw Error(a(189))}}if(u.alternate!==x)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var je=Symbol.for("react.client.reference");function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===je?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case y:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList";case X:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case A:return i.displayName||"Context";case E:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _:return o=i.displayName||null,o!==null?o:Y(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return Y(i(o))}catch{}}return null}var te=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},H=[],pe=-1;function D(i){return{current:i}}function ne(i){0>pe||(i.current=H[pe],H[pe]=null,pe--)}function xe(i,o){pe++,H[pe]=i.current,i.current=o}var Se=D(null),oe=D(null),$e=D(null),ge=D(null);function We(i,o){switch(xe($e,o),xe(oe,i),xe(Se,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?vA(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=vA(o),i=yA(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Se),xe(Se,i)}function me(){ne(Se),ne(oe),ne($e)}function Re(i){i.memoizedState!==null&&xe(ge,i);var o=Se.current,u=yA(o,i.type);o!==u&&(xe(oe,i),xe(Se,u))}function W(i){oe.current===i&&(ne(Se),ne(oe)),ge.current===i&&(ne(ge),eu._currentValue=$)}var ce,Ie;function Ye(i){if(ce===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ce=o&&o[1]||"",Ie=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+i+Ie}var Lt=!1;function kt(i,o){if(!i||Lt)return"";Lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ye){var ve=ye}Reflect.construct(i,[],we)}else{try{we.call()}catch(ye){ve=ye}i.call(we.prototype)}}else{try{throw Error()}catch(ye){ve=ye}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ye){if(ye&&ve&&typeof ye.stack=="string")return[ye.stack,ve.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=x.DetermineComponentFrameRoot(),O=S[0],L=S[1];if(O&&L){var K=O.split(`
`),fe=L.split(`
`);for(N=x=0;x<K.length&&!K[x].includes("DetermineComponentFrameRoot");)x++;for(;N<fe.length&&!fe[N].includes("DetermineComponentFrameRoot");)N++;if(x===K.length||N===fe.length)for(x=K.length-1,N=fe.length-1;1<=x&&0<=N&&K[x]!==fe[N];)N--;for(;1<=x&&0<=N;x--,N--)if(K[x]!==fe[N]){if(x!==1||N!==1)do if(x--,N--,0>N||K[x]!==fe[N]){var be=`
`+K[x].replace(" at new "," at ");return i.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",i.displayName)),be}while(1<=x&&0<=N);break}}}finally{Lt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ye(u):""}function ee(i,o){switch(i.tag){case 26:case 27:case 5:return Ye(i.type);case 16:return Ye("Lazy");case 13:return i.child!==o&&o!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return kt(i.type,!1);case 11:return kt(i.type.render,!1);case 1:return kt(i.type,!0);case 31:return Ye("Activity");default:return""}}function de(i){try{var o="",u=null;do o+=ee(i,u),u=i,i=i.return;while(i);return o}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var at=Object.prototype.hasOwnProperty,ct=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,yr=e.unstable_shouldYield,Nn=e.unstable_requestPaint,st=e.unstable_now,xl=e.unstable_getCurrentPriorityLevel,gl=e.unstable_ImmediatePriority,mn=e.unstable_UserBlockingPriority,po=e.unstable_NormalPriority,Uf=e.unstable_LowPriority,vl=e.unstable_IdlePriority,ia=e.log,Fg=e.unstable_setDisableYieldValue,yl=null,F=null;function rt(i){if(typeof ia=="function"&&Fg(i),F&&typeof F.setStrictMode=="function")try{F.setStrictMode(yl,i)}catch{}}var lt=Math.clz32?Math.clz32:Yn,Ra=Math.log,ys=Math.LN2;function Yn(i){return i>>>=0,i===0?32:31-(Ra(i)/ys|0)|0}var la=256,Hf=262144,qf=4194304;function jl(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Vf(i,o,u){var x=i.pendingLanes;if(x===0)return 0;var N=0,S=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var L=x&134217727;return L!==0?(x=L&~S,x!==0?N=jl(x):(O&=L,O!==0?N=jl(O):u||(u=L&~i,u!==0&&(N=jl(u))))):(L=x&~S,L!==0?N=jl(L):O!==0?N=jl(O):u||(u=x&~i,u!==0&&(N=jl(u)))),N===0?0:o!==0&&o!==N&&(o&S)===0&&(S=N&-N,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:N}function md(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function hB(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JS(){var i=qf;return qf<<=1,(qf&62914560)===0&&(qf=4194304),i}function zg(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function hd(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function pB(i,o,u,x,N,S){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var L=i.entanglements,K=i.expirationTimes,fe=i.hiddenUpdates;for(u=O&~u;0<u;){var be=31-lt(u),we=1<<be;L[be]=0,K[be]=-1;var ve=fe[be];if(ve!==null)for(fe[be]=null,be=0;be<ve.length;be++){var ye=ve[be];ye!==null&&(ye.lane&=-536870913)}u&=~we}x!==0&&e2(i,x,0),S!==0&&N===0&&i.tag!==0&&(i.suspendedLanes|=S&~(O&~o))}function e2(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var x=31-lt(o);i.entangledLanes|=o,i.entanglements[x]=i.entanglements[x]|1073741824|u&261930}function t2(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var x=31-lt(u),N=1<<x;N&o|i[x]&o&&(i[x]|=o),u&=~N}}function n2(i,o){var u=o&-o;return u=(u&42)!==0?1:Bg(u),(u&(i.suspendedLanes|o))!==0?0:u}function Bg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ug(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function r2(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:UA(i.type))}function a2(i,o){var u=J.p;try{return J.p=i,o()}finally{J.p=u}}var gi=Math.random().toString(36).slice(2),Qn="__reactFiber$"+gi,jr="__reactProps$"+gi,xo="__reactContainer$"+gi,Hg="__reactEvents$"+gi,xB="__reactListeners$"+gi,gB="__reactHandles$"+gi,s2="__reactResources$"+gi,pd="__reactMarker$"+gi;function qg(i){delete i[Qn],delete i[jr],delete i[Hg],delete i[xB],delete i[gB]}function go(i){var o=i[Qn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[xo]||u[Qn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=EA(i);i!==null;){if(u=i[Qn])return u;i=EA(i)}return o}i=u,u=i.parentNode}return null}function vo(i){if(i=i[Qn]||i[xo]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function xd(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function yo(i){var o=i[s2];return o||(o=i[s2]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Bn(i){i[pd]=!0}var i2=new Set,l2={};function bl(i,o){jo(i,o),jo(i+"Capture",o)}function jo(i,o){for(l2[i]=o,i=0;i<o.length;i++)i2.add(o[i])}var vB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),o2={},c2={};function yB(i){return at.call(c2,i)?!0:at.call(o2,i)?!1:vB.test(i)?c2[i]=!0:(o2[i]=!0,!1)}function Kf(i,o,u){if(yB(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Wf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function js(i,o,u,x){if(x===null)i.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+x)}}function oa(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function d2(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function jB(i,o,u){var x=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var N=x.get,S=x.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return N.call(this)},set:function(O){u=""+O,S.call(this,O)}}),Object.defineProperty(i,o,{enumerable:x.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Vg(i){if(!i._valueTracker){var o=d2(i)?"checked":"value";i._valueTracker=jB(i,o,""+i[o])}}function u2(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),x="";return i&&(x=d2(i)?i.checked?"true":"false":i.value),i=x,i!==u?(o.setValue(i),!0):!1}function Gf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bB=/[\n"\\]/g;function ca(i){return i.replace(bB,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Kg(i,o,u,x,N,S,O,L){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+oa(o)):i.value!==""+oa(o)&&(i.value=""+oa(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Wg(i,O,oa(o)):u!=null?Wg(i,O,oa(u)):x!=null&&i.removeAttribute("value"),N==null&&S!=null&&(i.defaultChecked=!!S),N!=null&&(i.checked=N&&typeof N!="function"&&typeof N!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+oa(L):i.removeAttribute("name")}function f2(i,o,u,x,N,S,O,L){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Vg(i);return}u=u!=null?""+oa(u):"",o=o!=null?""+oa(o):u,L||o===i.value||(i.value=o),i.defaultValue=o}x=x??N,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=L?i.checked:!!x,i.defaultChecked=!!x,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Vg(i)}function Wg(i,o,u){o==="number"&&Gf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function bo(i,o,u,x){if(i=i.options,o){o={};for(var N=0;N<u.length;N++)o["$"+u[N]]=!0;for(u=0;u<i.length;u++)N=o.hasOwnProperty("$"+i[u].value),i[u].selected!==N&&(i[u].selected=N),N&&x&&(i[u].defaultSelected=!0)}else{for(u=""+oa(u),o=null,N=0;N<i.length;N++){if(i[N].value===u){i[N].selected=!0,x&&(i[N].defaultSelected=!0);return}o!==null||i[N].disabled||(o=i[N])}o!==null&&(o.selected=!0)}}function m2(i,o,u){if(o!=null&&(o=""+oa(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+oa(u):""}function h2(i,o,u,x){if(o==null){if(x!=null){if(u!=null)throw Error(a(92));if(te(x)){if(1<x.length)throw Error(a(93));x=x[0]}u=x}u==null&&(u=""),o=u}u=oa(o),i.defaultValue=u,x=i.textContent,x===u&&x!==""&&x!==null&&(i.value=x),Vg(i)}function No(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var NB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function p2(i,o,u){var x=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?x?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":x?i.setProperty(o,u):typeof u!="number"||u===0||NB.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function x2(i,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,u!=null){for(var x in u)!u.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var N in o)x=o[N],o.hasOwnProperty(N)&&u[N]!==x&&p2(i,N,x)}else for(var S in o)o.hasOwnProperty(S)&&p2(i,S,o[S])}function Gg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yf(i){return SB.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function bs(){}var Yg=null;function Qg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wo=null,So=null;function g2(i){var o=vo(i);if(o&&(i=o.stateNode)){var u=i[jr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Kg(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ca(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var x=u[o];if(x!==i&&x.form===i.form){var N=x[jr]||null;if(!N)throw Error(a(90));Kg(x,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(o=0;o<u.length;o++)x=u[o],x.form===i.form&&u2(x)}break e;case"textarea":m2(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&bo(i,!!u.multiple,o,!1)}}}var Xg=!1;function v2(i,o,u){if(Xg)return i(o,u);Xg=!0;try{var x=i(o);return x}finally{if(Xg=!1,(wo!==null||So!==null)&&(Lm(),wo&&(o=wo,i=So,So=wo=null,g2(o),i)))for(o=0;o<i.length;o++)g2(i[o])}}function gd(i,o){var u=i.stateNode;if(u===null)return null;var x=u[jr]||null;if(x===null)return null;u=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zg=!1;if(Ns)try{var vd={};Object.defineProperty(vd,"passive",{get:function(){Zg=!0}}),window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{Zg=!1}var vi=null,Jg=null,Qf=null;function y2(){if(Qf)return Qf;var i,o=Jg,u=o.length,x,N="value"in vi?vi.value:vi.textContent,S=N.length;for(i=0;i<u&&o[i]===N[i];i++);var O=u-i;for(x=1;x<=O&&o[u-x]===N[S-x];x++);return Qf=N.slice(i,1<x?1-x:void 0)}function Xf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Zf(){return!0}function j2(){return!1}function br(i){function o(u,x,N,S,O){this._reactName=u,this._targetInst=N,this.type=x,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(u=i[L],this[L]=u?u(S):S[L]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Zf:j2,this.isPropagationStopped=j2,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zf)},persist:function(){},isPersistent:Zf}),o}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=br(Nl),yd=g({},Nl,{view:0,detail:0}),CB=br(yd),ev,tv,jd,em=g({},yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jd&&(jd&&i.type==="mousemove"?(ev=i.screenX-jd.screenX,tv=i.screenY-jd.screenY):tv=ev=0,jd=i),ev)},movementY:function(i){return"movementY"in i?i.movementY:tv}}),b2=br(em),EB=g({},em,{dataTransfer:0}),AB=br(EB),PB=g({},yd,{relatedTarget:0}),nv=br(PB),TB=g({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),OB=br(TB),kB=g({},Nl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_B=br(kB),RB=g({},Nl,{data:0}),N2=br(RB),MB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IB(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=LB[i])?!!o[i]:!1}function rv(){return IB}var $B=g({},yd,{key:function(i){if(i.key){var o=MB[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?DB[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rv,charCode:function(i){return i.type==="keypress"?Xf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),FB=br($B),zB=g({},em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w2=br(zB),BB=g({},yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rv}),UB=br(BB),HB=g({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qB=br(HB),VB=g({},em,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),KB=br(VB),WB=g({},Nl,{newState:0,oldState:0}),GB=br(WB),YB=[9,13,27,32],av=Ns&&"CompositionEvent"in window,bd=null;Ns&&"documentMode"in document&&(bd=document.documentMode);var QB=Ns&&"TextEvent"in window&&!bd,S2=Ns&&(!av||bd&&8<bd&&11>=bd),C2=" ",E2=!1;function A2(i,o){switch(i){case"keyup":return YB.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Co=!1;function XB(i,o){switch(i){case"compositionend":return P2(o);case"keypress":return o.which!==32?null:(E2=!0,C2);case"textInput":return i=o.data,i===C2&&E2?null:i;default:return null}}function ZB(i,o){if(Co)return i==="compositionend"||!av&&A2(i,o)?(i=y2(),Qf=Jg=vi=null,Co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S2&&o.locale!=="ko"?null:o.data;default:return null}}var JB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T2(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!JB[i.type]:o==="textarea"}function O2(i,o,u,x){wo?So?So.push(x):So=[x]:wo=x,o=Hm(o,"onChange"),0<o.length&&(u=new Jf("onChange","change",null,u,x),i.push({event:u,listeners:o}))}var Nd=null,wd=null;function e8(i){fA(i,0)}function tm(i){var o=xd(i);if(u2(o))return i}function k2(i,o){if(i==="change")return o}var _2=!1;if(Ns){var sv;if(Ns){var iv="oninput"in document;if(!iv){var R2=document.createElement("div");R2.setAttribute("oninput","return;"),iv=typeof R2.oninput=="function"}sv=iv}else sv=!1;_2=sv&&(!document.documentMode||9<document.documentMode)}function M2(){Nd&&(Nd.detachEvent("onpropertychange",D2),wd=Nd=null)}function D2(i){if(i.propertyName==="value"&&tm(wd)){var o=[];O2(o,wd,i,Qg(i)),v2(e8,o)}}function t8(i,o,u){i==="focusin"?(M2(),Nd=o,wd=u,Nd.attachEvent("onpropertychange",D2)):i==="focusout"&&M2()}function n8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tm(wd)}function r8(i,o){if(i==="click")return tm(o)}function a8(i,o){if(i==="input"||i==="change")return tm(o)}function s8(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var $r=typeof Object.is=="function"?Object.is:s8;function Sd(i,o){if($r(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),x=Object.keys(o);if(u.length!==x.length)return!1;for(x=0;x<u.length;x++){var N=u[x];if(!at.call(o,N)||!$r(i[N],o[N]))return!1}return!0}function L2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function I2(i,o){var u=L2(i);i=0;for(var x;u;){if(u.nodeType===3){if(x=i+u.textContent.length,i<=o&&x>=o)return{node:u,offset:o-i};i=x}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=L2(u)}}function $2(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?$2(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function F2(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Gf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Gf(i.document)}return o}function lv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var i8=Ns&&"documentMode"in document&&11>=document.documentMode,Eo=null,ov=null,Cd=null,cv=!1;function z2(i,o,u){var x=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;cv||Eo==null||Eo!==Gf(x)||(x=Eo,"selectionStart"in x&&lv(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Cd&&Sd(Cd,x)||(Cd=x,x=Hm(ov,"onSelect"),0<x.length&&(o=new Jf("onSelect","select",null,o,u),i.push({event:o,listeners:x}),o.target=Eo)))}function wl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ao={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionrun:wl("Transition","TransitionRun"),transitionstart:wl("Transition","TransitionStart"),transitioncancel:wl("Transition","TransitionCancel"),transitionend:wl("Transition","TransitionEnd")},dv={},B2={};Ns&&(B2=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Sl(i){if(dv[i])return dv[i];if(!Ao[i])return i;var o=Ao[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in B2)return dv[i]=o[u];return i}var U2=Sl("animationend"),H2=Sl("animationiteration"),q2=Sl("animationstart"),l8=Sl("transitionrun"),o8=Sl("transitionstart"),c8=Sl("transitioncancel"),V2=Sl("transitionend"),K2=new Map,uv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uv.push("scrollEnd");function Ma(i,o){K2.set(i,o),bl(o,[i])}var nm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},da=[],Po=0,fv=0;function rm(){for(var i=Po,o=fv=Po=0;o<i;){var u=da[o];da[o++]=null;var x=da[o];da[o++]=null;var N=da[o];da[o++]=null;var S=da[o];if(da[o++]=null,x!==null&&N!==null){var O=x.pending;O===null?N.next=N:(N.next=O.next,O.next=N),x.pending=N}S!==0&&W2(u,N,S)}}function am(i,o,u,x){da[Po++]=i,da[Po++]=o,da[Po++]=u,da[Po++]=x,fv|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function mv(i,o,u,x){return am(i,o,u,x),sm(i)}function Cl(i,o){return am(i,null,null,o),sm(i)}function W2(i,o,u){i.lanes|=u;var x=i.alternate;x!==null&&(x.lanes|=u);for(var N=!1,S=i.return;S!==null;)S.childLanes|=u,x=S.alternate,x!==null&&(x.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(N=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,N&&o!==null&&(N=31-lt(u),i=S.hiddenUpdates,x=i[N],x===null?i[N]=[o]:x.push(o),o.lane=u|536870912),S):null}function sm(i){if(50<Wd)throw Wd=0,Ny=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var To={};function d8(i,o,u,x){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(i,o,u,x){return new d8(i,o,u,x)}function hv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ws(i,o){var u=i.alternate;return u===null?(u=Fr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function G2(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function im(i,o,u,x,N,S){var O=0;if(x=i,typeof i=="function")hv(i)&&(O=1);else if(typeof i=="string")O=p9(i,u,Se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case X:return i=Fr(31,u,o,N),i.elementType=X,i.lanes=S,i;case y:return El(u.children,N,S,o);case j:O=8,N|=24;break;case C:return i=Fr(12,u,o,N|2),i.elementType=C,i.lanes=S,i;case k:return i=Fr(13,u,o,N),i.elementType=k,i.lanes=S,i;case P:return i=Fr(19,u,o,N),i.elementType=P,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:O=10;break e;case E:O=9;break e;case T:O=11;break e;case _:O=14;break e;case M:O=16,x=null;break e}O=29,u=Error(a(130,i===null?"null":typeof i,"")),x=null}return o=Fr(O,u,o,N),o.elementType=i,o.type=x,o.lanes=S,o}function El(i,o,u,x){return i=Fr(7,i,x,o),i.lanes=u,i}function pv(i,o,u){return i=Fr(6,i,null,o),i.lanes=u,i}function Y2(i){var o=Fr(18,null,null,0);return o.stateNode=i,o}function xv(i,o,u){return o=Fr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Q2=new WeakMap;function ua(i,o){if(typeof i=="object"&&i!==null){var u=Q2.get(i);return u!==void 0?u:(o={value:i,source:o,stack:de(o)},Q2.set(i,o),o)}return{value:i,source:o,stack:de(o)}}var Oo=[],ko=0,lm=null,Ed=0,fa=[],ma=0,yi=null,Qa=1,Xa="";function Ss(i,o){Oo[ko++]=Ed,Oo[ko++]=lm,lm=i,Ed=o}function X2(i,o,u){fa[ma++]=Qa,fa[ma++]=Xa,fa[ma++]=yi,yi=i;var x=Qa;i=Xa;var N=32-lt(x)-1;x&=~(1<<N),u+=1;var S=32-lt(o)+N;if(30<S){var O=N-N%5;S=(x&(1<<O)-1).toString(32),x>>=O,N-=O,Qa=1<<32-lt(o)+N|u<<N|x,Xa=S+i}else Qa=1<<S|u<<N|x,Xa=i}function gv(i){i.return!==null&&(Ss(i,1),X2(i,1,0))}function vv(i){for(;i===lm;)lm=Oo[--ko],Oo[ko]=null,Ed=Oo[--ko],Oo[ko]=null;for(;i===yi;)yi=fa[--ma],fa[ma]=null,Xa=fa[--ma],fa[ma]=null,Qa=fa[--ma],fa[ma]=null}function Z2(i,o){fa[ma++]=Qa,fa[ma++]=Xa,fa[ma++]=yi,Qa=o.id,Xa=o.overflow,yi=i}var Xn=null,Wt=null,Nt=!1,ji=null,ha=!1,yv=Error(a(519));function bi(i){var o=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ad(ua(o,i)),yv}function J2(i){var o=i.stateNode,u=i.type,x=i.memoizedProps;switch(o[Qn]=i,o[jr]=x,u){case"dialog":vt("cancel",o),vt("close",o);break;case"iframe":case"object":case"embed":vt("load",o);break;case"video":case"audio":for(u=0;u<Yd.length;u++)vt(Yd[u],o);break;case"source":vt("error",o);break;case"img":case"image":case"link":vt("error",o),vt("load",o);break;case"details":vt("toggle",o);break;case"input":vt("invalid",o),f2(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":vt("invalid",o);break;case"textarea":vt("invalid",o),h2(o,x.value,x.defaultValue,x.children)}u=x.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||x.suppressHydrationWarning===!0||xA(o.textContent,u)?(x.popover!=null&&(vt("beforetoggle",o),vt("toggle",o)),x.onScroll!=null&&vt("scroll",o),x.onScrollEnd!=null&&vt("scrollend",o),x.onClick!=null&&(o.onclick=bs),o=!0):o=!1,o||bi(i,!0)}function eC(i){for(Xn=i.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:Xn=Xn.return}}function _o(i){if(i!==Xn)return!1;if(!Nt)return eC(i),Nt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Iy(i.type,i.memoizedProps)),u=!u),u&&Wt&&bi(i),eC(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Wt=CA(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Wt=CA(i)}else o===27?(o=Wt,Di(i.type)?(i=Uy,Uy=null,Wt=i):Wt=o):Wt=Xn?xa(i.stateNode.nextSibling):null;return!0}function Al(){Wt=Xn=null,Nt=!1}function jv(){var i=ji;return i!==null&&(Cr===null?Cr=i:Cr.push.apply(Cr,i),ji=null),i}function Ad(i){ji===null?ji=[i]:ji.push(i)}var bv=D(null),Pl=null,Cs=null;function Ni(i,o,u){xe(bv,o._currentValue),o._currentValue=u}function Es(i){i._currentValue=bv.current,ne(bv)}function Nv(i,o,u){for(;i!==null;){var x=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),i===u)break;i=i.return}}function wv(i,o,u,x){var N=i.child;for(N!==null&&(N.return=i);N!==null;){var S=N.dependencies;if(S!==null){var O=N.child;S=S.firstContext;e:for(;S!==null;){var L=S;S=N;for(var K=0;K<o.length;K++)if(L.context===o[K]){S.lanes|=u,L=S.alternate,L!==null&&(L.lanes|=u),Nv(S.return,u,i),x||(O=null);break e}S=L.next}}else if(N.tag===18){if(O=N.return,O===null)throw Error(a(341));O.lanes|=u,S=O.alternate,S!==null&&(S.lanes|=u),Nv(O,u,i),O=null}else O=N.child;if(O!==null)O.return=N;else for(O=N;O!==null;){if(O===i){O=null;break}if(N=O.sibling,N!==null){N.return=O.return,O=N;break}O=O.return}N=O}}function Ro(i,o,u,x){i=null;for(var N=o,S=!1;N!==null;){if(!S){if((N.flags&524288)!==0)S=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var O=N.alternate;if(O===null)throw Error(a(387));if(O=O.memoizedProps,O!==null){var L=N.type;$r(N.pendingProps.value,O.value)||(i!==null?i.push(L):i=[L])}}else if(N===ge.current){if(O=N.alternate,O===null)throw Error(a(387));O.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(i!==null?i.push(eu):i=[eu])}N=N.return}i!==null&&wv(o,i,u,x),o.flags|=262144}function om(i){for(i=i.firstContext;i!==null;){if(!$r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Tl(i){Pl=i,Cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zn(i){return tC(Pl,i)}function cm(i,o){return Pl===null&&Tl(i),tC(i,o)}function tC(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cs===null){if(i===null)throw Error(a(308));Cs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Cs=Cs.next=o;return u}var u8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,x){i.push(x)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},f8=e.unstable_scheduleCallback,m8=e.unstable_NormalPriority,wn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sv(){return{controller:new u8,data:new Map,refCount:0}}function Pd(i){i.refCount--,i.refCount===0&&f8(m8,function(){i.controller.abort()})}var Td=null,Cv=0,Mo=0,Do=null;function h8(i,o){if(Td===null){var u=Td=[];Cv=0,Mo=Py(),Do={status:"pending",value:void 0,then:function(x){u.push(x)}}}return Cv++,o.then(nC,nC),o}function nC(){if(--Cv===0&&Td!==null){Do!==null&&(Do.status="fulfilled");var i=Td;Td=null,Mo=0,Do=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function p8(i,o){var u=[],x={status:"pending",value:null,reason:null,then:function(N){u.push(N)}};return i.then(function(){x.status="fulfilled",x.value=o;for(var N=0;N<u.length;N++)(0,u[N])(o)},function(N){for(x.status="rejected",x.reason=N,N=0;N<u.length;N++)(0,u[N])(void 0)}),x}var rC=z.S;z.S=function(i,o){zE=st(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&h8(i,o),rC!==null&&rC(i,o)};var Ol=D(null);function Ev(){var i=Ol.current;return i!==null?i:Bt.pooledCache}function dm(i,o){o===null?xe(Ol,Ol.current):xe(Ol,o.pool)}function aC(){var i=Ev();return i===null?null:{parent:wn._currentValue,pool:i}}var Lo=Error(a(460)),Av=Error(a(474)),um=Error(a(542)),fm={then:function(){}};function sC(i){return i=i.status,i==="fulfilled"||i==="rejected"}function iC(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(bs,bs),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,oC(i),i;default:if(typeof o.status=="string")o.then(bs,bs);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(x){if(o.status==="pending"){var N=o;N.status="fulfilled",N.value=x}},function(x){if(o.status==="pending"){var N=o;N.status="rejected",N.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,oC(i),i}throw _l=o,Lo}}function kl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(_l=u,Lo):u}}var _l=null;function lC(){if(_l===null)throw Error(a(459));var i=_l;return _l=null,i}function oC(i){if(i===Lo||i===um)throw Error(a(483))}var Io=null,Od=0;function mm(i){var o=Od;return Od+=1,Io===null&&(Io=[]),iC(Io,i,o)}function kd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function hm(i,o){throw o.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function cC(i){function o(le,Z){if(i){var ue=le.deletions;ue===null?(le.deletions=[Z],le.flags|=16):ue.push(Z)}}function u(le,Z){if(!i)return null;for(;Z!==null;)o(le,Z),Z=Z.sibling;return null}function x(le){for(var Z=new Map;le!==null;)le.key!==null?Z.set(le.key,le):Z.set(le.index,le),le=le.sibling;return Z}function N(le,Z){return le=ws(le,Z),le.index=0,le.sibling=null,le}function S(le,Z,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<Z?(le.flags|=67108866,Z):ue):(le.flags|=67108866,Z)):(le.flags|=1048576,Z)}function O(le){return i&&le.alternate===null&&(le.flags|=67108866),le}function L(le,Z,ue,Ne){return Z===null||Z.tag!==6?(Z=pv(ue,le.mode,Ne),Z.return=le,Z):(Z=N(Z,ue),Z.return=le,Z)}function K(le,Z,ue,Ne){var et=ue.type;return et===y?be(le,Z,ue.props.children,Ne,ue.key):Z!==null&&(Z.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===M&&kl(et)===Z.type)?(Z=N(Z,ue.props),kd(Z,ue),Z.return=le,Z):(Z=im(ue.type,ue.key,ue.props,null,le.mode,Ne),kd(Z,ue),Z.return=le,Z)}function fe(le,Z,ue,Ne){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ue.containerInfo||Z.stateNode.implementation!==ue.implementation?(Z=xv(ue,le.mode,Ne),Z.return=le,Z):(Z=N(Z,ue.children||[]),Z.return=le,Z)}function be(le,Z,ue,Ne,et){return Z===null||Z.tag!==7?(Z=El(ue,le.mode,Ne,et),Z.return=le,Z):(Z=N(Z,ue),Z.return=le,Z)}function we(le,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=pv(""+Z,le.mode,ue),Z.return=le,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return ue=im(Z.type,Z.key,Z.props,null,le.mode,ue),kd(ue,Z),ue.return=le,ue;case w:return Z=xv(Z,le.mode,ue),Z.return=le,Z;case M:return Z=kl(Z),we(le,Z,ue)}if(te(Z)||V(Z))return Z=El(Z,le.mode,ue,null),Z.return=le,Z;if(typeof Z.then=="function")return we(le,mm(Z),ue);if(Z.$$typeof===A)return we(le,cm(le,Z),ue);hm(le,Z)}return null}function ve(le,Z,ue,Ne){var et=Z!==null?Z.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return et!==null?null:L(le,Z,""+ue,Ne);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return ue.key===et?K(le,Z,ue,Ne):null;case w:return ue.key===et?fe(le,Z,ue,Ne):null;case M:return ue=kl(ue),ve(le,Z,ue,Ne)}if(te(ue)||V(ue))return et!==null?null:be(le,Z,ue,Ne,null);if(typeof ue.then=="function")return ve(le,Z,mm(ue),Ne);if(ue.$$typeof===A)return ve(le,Z,cm(le,ue),Ne);hm(le,ue)}return null}function ye(le,Z,ue,Ne,et){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return le=le.get(ue)||null,L(Z,le,""+Ne,et);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case b:return le=le.get(Ne.key===null?ue:Ne.key)||null,K(Z,le,Ne,et);case w:return le=le.get(Ne.key===null?ue:Ne.key)||null,fe(Z,le,Ne,et);case M:return Ne=kl(Ne),ye(le,Z,ue,Ne,et)}if(te(Ne)||V(Ne))return le=le.get(ue)||null,be(Z,le,Ne,et,null);if(typeof Ne.then=="function")return ye(le,Z,ue,mm(Ne),et);if(Ne.$$typeof===A)return ye(le,Z,ue,cm(Z,Ne),et);hm(Z,Ne)}return null}function He(le,Z,ue,Ne){for(var et=null,Et=null,Ge=Z,ft=Z=0,jt=null;Ge!==null&&ft<ue.length;ft++){Ge.index>ft?(jt=Ge,Ge=null):jt=Ge.sibling;var At=ve(le,Ge,ue[ft],Ne);if(At===null){Ge===null&&(Ge=jt);break}i&&Ge&&At.alternate===null&&o(le,Ge),Z=S(At,Z,ft),Et===null?et=At:Et.sibling=At,Et=At,Ge=jt}if(ft===ue.length)return u(le,Ge),Nt&&Ss(le,ft),et;if(Ge===null){for(;ft<ue.length;ft++)Ge=we(le,ue[ft],Ne),Ge!==null&&(Z=S(Ge,Z,ft),Et===null?et=Ge:Et.sibling=Ge,Et=Ge);return Nt&&Ss(le,ft),et}for(Ge=x(Ge);ft<ue.length;ft++)jt=ye(Ge,le,ft,ue[ft],Ne),jt!==null&&(i&&jt.alternate!==null&&Ge.delete(jt.key===null?ft:jt.key),Z=S(jt,Z,ft),Et===null?et=jt:Et.sibling=jt,Et=jt);return i&&Ge.forEach(function(zi){return o(le,zi)}),Nt&&Ss(le,ft),et}function nt(le,Z,ue,Ne){if(ue==null)throw Error(a(151));for(var et=null,Et=null,Ge=Z,ft=Z=0,jt=null,At=ue.next();Ge!==null&&!At.done;ft++,At=ue.next()){Ge.index>ft?(jt=Ge,Ge=null):jt=Ge.sibling;var zi=ve(le,Ge,At.value,Ne);if(zi===null){Ge===null&&(Ge=jt);break}i&&Ge&&zi.alternate===null&&o(le,Ge),Z=S(zi,Z,ft),Et===null?et=zi:Et.sibling=zi,Et=zi,Ge=jt}if(At.done)return u(le,Ge),Nt&&Ss(le,ft),et;if(Ge===null){for(;!At.done;ft++,At=ue.next())At=we(le,At.value,Ne),At!==null&&(Z=S(At,Z,ft),Et===null?et=At:Et.sibling=At,Et=At);return Nt&&Ss(le,ft),et}for(Ge=x(Ge);!At.done;ft++,At=ue.next())At=ye(Ge,le,ft,At.value,Ne),At!==null&&(i&&At.alternate!==null&&Ge.delete(At.key===null?ft:At.key),Z=S(At,Z,ft),Et===null?et=At:Et.sibling=At,Et=At);return i&&Ge.forEach(function(E9){return o(le,E9)}),Nt&&Ss(le,ft),et}function Ft(le,Z,ue,Ne){if(typeof ue=="object"&&ue!==null&&ue.type===y&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:e:{for(var et=ue.key;Z!==null;){if(Z.key===et){if(et=ue.type,et===y){if(Z.tag===7){u(le,Z.sibling),Ne=N(Z,ue.props.children),Ne.return=le,le=Ne;break e}}else if(Z.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===M&&kl(et)===Z.type){u(le,Z.sibling),Ne=N(Z,ue.props),kd(Ne,ue),Ne.return=le,le=Ne;break e}u(le,Z);break}else o(le,Z);Z=Z.sibling}ue.type===y?(Ne=El(ue.props.children,le.mode,Ne,ue.key),Ne.return=le,le=Ne):(Ne=im(ue.type,ue.key,ue.props,null,le.mode,Ne),kd(Ne,ue),Ne.return=le,le=Ne)}return O(le);case w:e:{for(et=ue.key;Z!==null;){if(Z.key===et)if(Z.tag===4&&Z.stateNode.containerInfo===ue.containerInfo&&Z.stateNode.implementation===ue.implementation){u(le,Z.sibling),Ne=N(Z,ue.children||[]),Ne.return=le,le=Ne;break e}else{u(le,Z);break}else o(le,Z);Z=Z.sibling}Ne=xv(ue,le.mode,Ne),Ne.return=le,le=Ne}return O(le);case M:return ue=kl(ue),Ft(le,Z,ue,Ne)}if(te(ue))return He(le,Z,ue,Ne);if(V(ue)){if(et=V(ue),typeof et!="function")throw Error(a(150));return ue=et.call(ue),nt(le,Z,ue,Ne)}if(typeof ue.then=="function")return Ft(le,Z,mm(ue),Ne);if(ue.$$typeof===A)return Ft(le,Z,cm(le,ue),Ne);hm(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,Z!==null&&Z.tag===6?(u(le,Z.sibling),Ne=N(Z,ue),Ne.return=le,le=Ne):(u(le,Z),Ne=pv(ue,le.mode,Ne),Ne.return=le,le=Ne),O(le)):u(le,Z)}return function(le,Z,ue,Ne){try{Od=0;var et=Ft(le,Z,ue,Ne);return Io=null,et}catch(Ge){if(Ge===Lo||Ge===um)throw Ge;var Et=Fr(29,Ge,null,le.mode);return Et.lanes=Ne,Et.return=le,Et}finally{}}}var Rl=cC(!0),dC=cC(!1),wi=!1;function Pv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Si(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ci(i,o,u){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Tt&2)!==0){var N=x.pending;return N===null?o.next=o:(o.next=N.next,N.next=o),x.pending=o,o=sm(i),W2(i,null,u),o}return am(i,x,o,u),sm(i)}function _d(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,t2(i,u)}}function Ov(i,o){var u=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,u===x)){var N=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?N=S=O:S=S.next=O,u=u.next}while(u!==null);S===null?N=S=o:S=S.next=o}else N=S=o;u={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:S,shared:x.shared,callbacks:x.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var kv=!1;function Rd(){if(kv){var i=Do;if(i!==null)throw i}}function Md(i,o,u,x){kv=!1;var N=i.updateQueue;wi=!1;var S=N.firstBaseUpdate,O=N.lastBaseUpdate,L=N.shared.pending;if(L!==null){N.shared.pending=null;var K=L,fe=K.next;K.next=null,O===null?S=fe:O.next=fe,O=K;var be=i.alternate;be!==null&&(be=be.updateQueue,L=be.lastBaseUpdate,L!==O&&(L===null?be.firstBaseUpdate=fe:L.next=fe,be.lastBaseUpdate=K))}if(S!==null){var we=N.baseState;O=0,be=fe=K=null,L=S;do{var ve=L.lane&-536870913,ye=ve!==L.lane;if(ye?(yt&ve)===ve:(x&ve)===ve){ve!==0&&ve===Mo&&(kv=!0),be!==null&&(be=be.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var He=i,nt=L;ve=o;var Ft=u;switch(nt.tag){case 1:if(He=nt.payload,typeof He=="function"){we=He.call(Ft,we,ve);break e}we=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=nt.payload,ve=typeof He=="function"?He.call(Ft,we,ve):He,ve==null)break e;we=g({},we,ve);break e;case 2:wi=!0}}ve=L.callback,ve!==null&&(i.flags|=64,ye&&(i.flags|=8192),ye=N.callbacks,ye===null?N.callbacks=[ve]:ye.push(ve))}else ye={lane:ve,tag:L.tag,payload:L.payload,callback:L.callback,next:null},be===null?(fe=be=ye,K=we):be=be.next=ye,O|=ve;if(L=L.next,L===null){if(L=N.shared.pending,L===null)break;ye=L,L=ye.next,ye.next=null,N.lastBaseUpdate=ye,N.shared.pending=null}}while(!0);be===null&&(K=we),N.baseState=K,N.firstBaseUpdate=fe,N.lastBaseUpdate=be,S===null&&(N.shared.lanes=0),Oi|=O,i.lanes=O,i.memoizedState=we}}function uC(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function fC(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)uC(u[i],o)}var $o=D(null),pm=D(0);function mC(i,o){i=Ds,xe(pm,i),xe($o,o),Ds=i|o.baseLanes}function _v(){xe(pm,Ds),xe($o,$o.current)}function Rv(){Ds=pm.current,ne($o),ne(pm)}var zr=D(null),pa=null;function Ei(i){var o=i.alternate;xe(hn,hn.current&1),xe(zr,i),pa===null&&(o===null||$o.current!==null||o.memoizedState!==null)&&(pa=i)}function Mv(i){xe(hn,hn.current),xe(zr,i),pa===null&&(pa=i)}function hC(i){i.tag===22?(xe(hn,hn.current),xe(zr,i),pa===null&&(pa=i)):Ai()}function Ai(){xe(hn,hn.current),xe(zr,zr.current)}function Br(i){ne(zr),pa===i&&(pa=null),ne(hn)}var hn=D(0);function xm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||zy(u)||By(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var As=0,dt=null,It=null,Sn=null,gm=!1,Fo=!1,Ml=!1,vm=0,Dd=0,zo=null,x8=0;function on(){throw Error(a(321))}function Dv(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!$r(i[u],o[u]))return!1;return!0}function Lv(i,o,u,x,N,S){return As=S,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=i===null||i.memoizedState===null?XC:Xv,Ml=!1,S=u(x,N),Ml=!1,Fo&&(S=xC(o,u,x,N)),pC(i),S}function pC(i){z.H=$d;var o=It!==null&&It.next!==null;if(As=0,Sn=It=dt=null,gm=!1,Dd=0,zo=null,o)throw Error(a(300));i===null||Cn||(i=i.dependencies,i!==null&&om(i)&&(Cn=!0))}function xC(i,o,u,x){dt=i;var N=0;do{if(Fo&&(zo=null),Dd=0,Fo=!1,25<=N)throw Error(a(301));if(N+=1,Sn=It=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}z.H=ZC,S=o(u,x)}while(Fo);return S}function g8(){var i=z.H,o=i.useState()[0];return o=typeof o.then=="function"?Ld(o):o,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(dt.flags|=1024),o}function Iv(){var i=vm!==0;return vm=0,i}function $v(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Fv(i){if(gm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}gm=!1}As=0,Sn=It=dt=null,Fo=!1,Dd=vm=0,zo=null}function dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?dt.memoizedState=Sn=i:Sn=Sn.next=i,Sn}function pn(){if(It===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=Sn===null?dt.memoizedState:Sn.next;if(o!==null)Sn=o,It=i;else{if(i===null)throw dt.alternate===null?Error(a(467)):Error(a(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Sn===null?dt.memoizedState=Sn=i:Sn=Sn.next=i}return Sn}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ld(i){var o=Dd;return Dd+=1,zo===null&&(zo=[]),i=iC(zo,i,o),o=dt,(Sn===null?o.memoizedState:Sn.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?XC:Xv),i}function jm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ld(i);if(i.$$typeof===A)return Zn(i)}throw Error(a(438,String(i)))}function zv(i){var o=null,u=dt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var x=dt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(N){return N.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=ym(),dt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),x=0;x<i;x++)u[x]=I;return o.index++,u}function Ps(i,o){return typeof o=="function"?o(i):o}function bm(i){var o=pn();return Bv(o,It,i)}function Bv(i,o,u){var x=i.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=u;var N=i.baseQueue,S=x.pending;if(S!==null){if(N!==null){var O=N.next;N.next=S.next,S.next=O}o.baseQueue=N=S,x.pending=null}if(S=i.baseState,N===null)i.memoizedState=S;else{o=N.next;var L=O=null,K=null,fe=o,be=!1;do{var we=fe.lane&-536870913;if(we!==fe.lane?(yt&we)===we:(As&we)===we){var ve=fe.revertLane;if(ve===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),we===Mo&&(be=!0);else if((As&ve)===ve){fe=fe.next,ve===Mo&&(be=!0);continue}else we={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},K===null?(L=K=we,O=S):K=K.next=we,dt.lanes|=ve,Oi|=ve;we=fe.action,Ml&&u(S,we),S=fe.hasEagerState?fe.eagerState:u(S,we)}else ve={lane:we,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},K===null?(L=K=ve,O=S):K=K.next=ve,dt.lanes|=we,Oi|=we;fe=fe.next}while(fe!==null&&fe!==o);if(K===null?O=S:K.next=L,!$r(S,i.memoizedState)&&(Cn=!0,be&&(u=Do,u!==null)))throw u;i.memoizedState=S,i.baseState=O,i.baseQueue=K,x.lastRenderedState=S}return N===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function Uv(i){var o=pn(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var x=u.dispatch,N=u.pending,S=o.memoizedState;if(N!==null){u.pending=null;var O=N=N.next;do S=i(S,O.action),O=O.next;while(O!==N);$r(S,o.memoizedState)||(Cn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,x]}function gC(i,o,u){var x=dt,N=pn(),S=Nt;if(S){if(u===void 0)throw Error(a(407));u=u()}else u=o();var O=!$r((It||N).memoizedState,u);if(O&&(N.memoizedState=u,Cn=!0),N=N.queue,Vv(jC.bind(null,x,N,i),[i]),N.getSnapshot!==o||O||Sn!==null&&Sn.memoizedState.tag&1){if(x.flags|=2048,Bo(9,{destroy:void 0},yC.bind(null,x,N,u,o),null),Bt===null)throw Error(a(349));S||(As&127)!==0||vC(x,o,u)}return u}function vC(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=dt.updateQueue,o===null?(o=ym(),dt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function yC(i,o,u,x){o.value=u,o.getSnapshot=x,bC(o)&&NC(i)}function jC(i,o,u){return u(function(){bC(o)&&NC(i)})}function bC(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!$r(i,u)}catch{return!0}}function NC(i){var o=Cl(i,2);o!==null&&Er(o,i,2)}function Hv(i){var o=dr();if(typeof i=="function"){var u=i;if(i=u(),Ml){rt(!0);try{u()}finally{rt(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:i},o}function wC(i,o,u,x){return i.baseState=u,Bv(i,It,typeof x=="function"?x:Ps)}function v8(i,o,u,x,N){if(Sm(i))throw Error(a(485));if(i=o.action,i!==null){var S={payload:N,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};z.T!==null?u(!0):S.isTransition=!1,x(S),u=o.pending,u===null?(S.next=o.pending=S,SC(o,S)):(S.next=u.next,o.pending=u.next=S)}}function SC(i,o){var u=o.action,x=o.payload,N=i.state;if(o.isTransition){var S=z.T,O={};z.T=O;try{var L=u(N,x),K=z.S;K!==null&&K(O,L),CC(i,o,L)}catch(fe){qv(i,o,fe)}finally{S!==null&&O.types!==null&&(S.types=O.types),z.T=S}}else try{S=u(N,x),CC(i,o,S)}catch(fe){qv(i,o,fe)}}function CC(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(x){EC(i,o,x)},function(x){return qv(i,o,x)}):EC(i,o,u)}function EC(i,o,u){o.status="fulfilled",o.value=u,AC(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,SC(i,u)))}function qv(i,o,u){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=u,AC(o),o=o.next;while(o!==x)}i.action=null}function AC(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function PC(i,o){return o}function TC(i,o){if(Nt){var u=Bt.formState;if(u!==null){e:{var x=dt;if(Nt){if(Wt){t:{for(var N=Wt,S=ha;N.nodeType!==8;){if(!S){N=null;break t}if(N=xa(N.nextSibling),N===null){N=null;break t}}S=N.data,N=S==="F!"||S==="F"?N:null}if(N){Wt=xa(N.nextSibling),x=N.data==="F!";break e}}bi(x)}x=!1}x&&(o=u[0])}}return u=dr(),u.memoizedState=u.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PC,lastRenderedState:o},u.queue=x,u=GC.bind(null,dt,x),x.dispatch=u,x=Hv(!1),S=Qv.bind(null,dt,!1,x.queue),x=dr(),N={state:o,dispatch:null,action:i,pending:null},x.queue=N,u=v8.bind(null,dt,N,S,u),N.dispatch=u,x.memoizedState=i,[o,u,!1]}function OC(i){var o=pn();return kC(o,It,i)}function kC(i,o,u){if(o=Bv(i,o,PC)[0],i=bm(Ps)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=Ld(o)}catch(O){throw O===Lo?um:O}else x=o;o=pn();var N=o.queue,S=N.dispatch;return u!==o.memoizedState&&(dt.flags|=2048,Bo(9,{destroy:void 0},y8.bind(null,N,u),null)),[x,S,i]}function y8(i,o){i.action=o}function _C(i){var o=pn(),u=It;if(u!==null)return kC(o,u,i);pn(),o=o.memoizedState,u=pn();var x=u.queue.dispatch;return u.memoizedState=i,[o,x,!1]}function Bo(i,o,u,x){return i={tag:i,create:u,deps:x,inst:o,next:null},o=dt.updateQueue,o===null&&(o=ym(),dt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(x=u.next,u.next=i,i.next=x,o.lastEffect=i),i}function RC(){return pn().memoizedState}function Nm(i,o,u,x){var N=dr();dt.flags|=i,N.memoizedState=Bo(1|o,{destroy:void 0},u,x===void 0?null:x)}function wm(i,o,u,x){var N=pn();x=x===void 0?null:x;var S=N.memoizedState.inst;It!==null&&x!==null&&Dv(x,It.memoizedState.deps)?N.memoizedState=Bo(o,S,u,x):(dt.flags|=i,N.memoizedState=Bo(1|o,S,u,x))}function MC(i,o){Nm(8390656,8,i,o)}function Vv(i,o){wm(2048,8,i,o)}function j8(i){dt.flags|=4;var o=dt.updateQueue;if(o===null)o=ym(),dt.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function DC(i){var o=pn().memoizedState;return j8({ref:o,nextImpl:i}),function(){if((Tt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}function LC(i,o){return wm(4,2,i,o)}function IC(i,o){return wm(4,4,i,o)}function $C(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function FC(i,o,u){u=u!=null?u.concat([i]):null,wm(4,4,$C.bind(null,o,i),u)}function Kv(){}function zC(i,o){var u=pn();o=o===void 0?null:o;var x=u.memoizedState;return o!==null&&Dv(o,x[1])?x[0]:(u.memoizedState=[i,o],i)}function BC(i,o){var u=pn();o=o===void 0?null:o;var x=u.memoizedState;if(o!==null&&Dv(o,x[1]))return x[0];if(x=i(),Ml){rt(!0);try{i()}finally{rt(!1)}}return u.memoizedState=[x,o],x}function Wv(i,o,u){return u===void 0||(As&1073741824)!==0&&(yt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=UE(),dt.lanes|=i,Oi|=i,u)}function UC(i,o,u,x){return $r(u,o)?u:$o.current!==null?(i=Wv(i,u,x),$r(i,o)||(Cn=!0),i):(As&42)===0||(As&1073741824)!==0&&(yt&261930)===0?(Cn=!0,i.memoizedState=u):(i=UE(),dt.lanes|=i,Oi|=i,o)}function HC(i,o,u,x,N){var S=J.p;J.p=S!==0&&8>S?S:8;var O=z.T,L={};z.T=L,Qv(i,!1,o,u);try{var K=N(),fe=z.S;if(fe!==null&&fe(L,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var be=p8(K,x);Id(i,o,be,qr(i))}else Id(i,o,x,qr(i))}catch(we){Id(i,o,{then:function(){},status:"rejected",reason:we},qr())}finally{J.p=S,O!==null&&L.types!==null&&(O.types=L.types),z.T=O}}function b8(){}function Gv(i,o,u,x){if(i.tag!==5)throw Error(a(476));var N=qC(i).queue;HC(i,N,o,$,u===null?b8:function(){return VC(i),u(x)})}function qC(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function VC(i){var o=qC(i);o.next===null&&(o=i.alternate.memoizedState),Id(i,o.next.queue,{},qr())}function Yv(){return Zn(eu)}function KC(){return pn().memoizedState}function WC(){return pn().memoizedState}function N8(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=qr();i=Si(u);var x=Ci(o,i,u);x!==null&&(Er(x,o,u),_d(x,o,u)),o={cache:Sv()},i.payload=o;return}o=o.return}}function w8(i,o,u){var x=qr();u={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sm(i)?YC(o,u):(u=mv(i,o,u,x),u!==null&&(Er(u,i,x),QC(u,o,x)))}function GC(i,o,u){var x=qr();Id(i,o,u,x)}function Id(i,o,u,x){var N={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sm(i))YC(o,N);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var O=o.lastRenderedState,L=S(O,u);if(N.hasEagerState=!0,N.eagerState=L,$r(L,O))return am(i,o,N,0),Bt===null&&rm(),!1}catch{}finally{}if(u=mv(i,o,N,x),u!==null)return Er(u,i,x),QC(u,o,x),!0}return!1}function Qv(i,o,u,x){if(x={lane:2,revertLane:Py(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Sm(i)){if(o)throw Error(a(479))}else o=mv(i,u,x,2),o!==null&&Er(o,i,2)}function Sm(i){var o=i.alternate;return i===dt||o!==null&&o===dt}function YC(i,o){Fo=gm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function QC(i,o,u){if((u&4194048)!==0){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,t2(i,u)}}var $d={readContext:Zn,use:jm,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};$d.useEffectEvent=on;var XC={readContext:Zn,use:jm,useCallback:function(i,o){return dr().memoizedState=[i,o===void 0?null:o],i},useContext:Zn,useEffect:MC,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Nm(4194308,4,$C.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Nm(4194308,4,i,o)},useInsertionEffect:function(i,o){Nm(4,2,i,o)},useMemo:function(i,o){var u=dr();o=o===void 0?null:o;var x=i();if(Ml){rt(!0);try{i()}finally{rt(!1)}}return u.memoizedState=[x,o],x},useReducer:function(i,o,u){var x=dr();if(u!==void 0){var N=u(o);if(Ml){rt(!0);try{u(o)}finally{rt(!1)}}}else N=o;return x.memoizedState=x.baseState=N,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:N},x.queue=i,i=i.dispatch=w8.bind(null,dt,i),[x.memoizedState,i]},useRef:function(i){var o=dr();return i={current:i},o.memoizedState=i},useState:function(i){i=Hv(i);var o=i.queue,u=GC.bind(null,dt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Kv,useDeferredValue:function(i,o){var u=dr();return Wv(u,i,o)},useTransition:function(){var i=Hv(!1);return i=HC.bind(null,dt,i.queue,!0,!1),dr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var x=dt,N=dr();if(Nt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Bt===null)throw Error(a(349));(yt&127)!==0||vC(x,o,u)}N.memoizedState=u;var S={value:u,getSnapshot:o};return N.queue=S,MC(jC.bind(null,x,S,i),[i]),x.flags|=2048,Bo(9,{destroy:void 0},yC.bind(null,x,S,u,o),null),u},useId:function(){var i=dr(),o=Bt.identifierPrefix;if(Nt){var u=Xa,x=Qa;u=(x&~(1<<32-lt(x)-1)).toString(32)+u,o="_"+o+"R_"+u,u=vm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=x8++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Yv,useFormState:TC,useActionState:TC,useOptimistic:function(i){var o=dr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Qv.bind(null,dt,!0,u),u.dispatch=o,[i,o]},useMemoCache:zv,useCacheRefresh:function(){return dr().memoizedState=N8.bind(null,dt)},useEffectEvent:function(i){var o=dr(),u={impl:i};return o.memoizedState=u,function(){if((Tt&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},Xv={readContext:Zn,use:jm,useCallback:zC,useContext:Zn,useEffect:Vv,useImperativeHandle:FC,useInsertionEffect:LC,useLayoutEffect:IC,useMemo:BC,useReducer:bm,useRef:RC,useState:function(){return bm(Ps)},useDebugValue:Kv,useDeferredValue:function(i,o){var u=pn();return UC(u,It.memoizedState,i,o)},useTransition:function(){var i=bm(Ps)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Ld(i),o]},useSyncExternalStore:gC,useId:KC,useHostTransitionStatus:Yv,useFormState:OC,useActionState:OC,useOptimistic:function(i,o){var u=pn();return wC(u,It,i,o)},useMemoCache:zv,useCacheRefresh:WC};Xv.useEffectEvent=DC;var ZC={readContext:Zn,use:jm,useCallback:zC,useContext:Zn,useEffect:Vv,useImperativeHandle:FC,useInsertionEffect:LC,useLayoutEffect:IC,useMemo:BC,useReducer:Uv,useRef:RC,useState:function(){return Uv(Ps)},useDebugValue:Kv,useDeferredValue:function(i,o){var u=pn();return It===null?Wv(u,i,o):UC(u,It.memoizedState,i,o)},useTransition:function(){var i=Uv(Ps)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Ld(i),o]},useSyncExternalStore:gC,useId:KC,useHostTransitionStatus:Yv,useFormState:_C,useActionState:_C,useOptimistic:function(i,o){var u=pn();return It!==null?wC(u,It,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:zv,useCacheRefresh:WC};ZC.useEffectEvent=DC;function Zv(i,o,u,x){o=i.memoizedState,u=u(x,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Jv={enqueueSetState:function(i,o,u){i=i._reactInternals;var x=qr(),N=Si(x);N.payload=o,u!=null&&(N.callback=u),o=Ci(i,N,x),o!==null&&(Er(o,i,x),_d(o,i,x))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var x=qr(),N=Si(x);N.tag=1,N.payload=o,u!=null&&(N.callback=u),o=Ci(i,N,x),o!==null&&(Er(o,i,x),_d(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=qr(),x=Si(u);x.tag=2,o!=null&&(x.callback=o),o=Ci(i,x,u),o!==null&&(Er(o,i,u),_d(o,i,u))}};function JC(i,o,u,x,N,S,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,S,O):o.prototype&&o.prototype.isPureReactComponent?!Sd(u,x)||!Sd(N,S):!0}function eE(i,o,u,x){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,x),o.state!==i&&Jv.enqueueReplaceState(o,o.state,null)}function Dl(i,o){var u=o;if("ref"in o){u={};for(var x in o)x!=="ref"&&(u[x]=o[x])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var N in i)u[N]===void 0&&(u[N]=i[N])}return u}function tE(i){nm(i)}function nE(i){console.error(i)}function rE(i){nm(i)}function Cm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function aE(i,o,u){try{var x=i.onCaughtError;x(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function ey(i,o,u){return u=Si(u),u.tag=3,u.payload={element:null},u.callback=function(){Cm(i,o)},u}function sE(i){return i=Si(i),i.tag=3,i}function iE(i,o,u,x){var N=u.type.getDerivedStateFromError;if(typeof N=="function"){var S=x.value;i.payload=function(){return N(S)},i.callback=function(){aE(o,u,x)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){aE(o,u,x),typeof N!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var L=x.stack;this.componentDidCatch(x.value,{componentStack:L!==null?L:""})})}function S8(i,o,u,x,N){if(u.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=u.alternate,o!==null&&Ro(o,u,N,!0),u=zr.current,u!==null){switch(u.tag){case 31:case 13:return pa===null?Im():u.alternate===null&&cn===0&&(cn=3),u.flags&=-257,u.flags|=65536,u.lanes=N,x===fm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([x]):o.add(x),Cy(i,x,N)),!1;case 22:return u.flags|=65536,x===fm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([x]):u.add(x)),Cy(i,x,N)),!1}throw Error(a(435,u.tag))}return Cy(i,x,N),Im(),!1}if(Nt)return o=zr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=N,x!==yv&&(i=Error(a(422),{cause:x}),Ad(ua(i,u)))):(x!==yv&&(o=Error(a(423),{cause:x}),Ad(ua(o,u))),i=i.current.alternate,i.flags|=65536,N&=-N,i.lanes|=N,x=ua(x,u),N=ey(i.stateNode,x,N),Ov(i,N),cn!==4&&(cn=2)),!1;var S=Error(a(520),{cause:x});if(S=ua(S,u),Kd===null?Kd=[S]:Kd.push(S),cn!==4&&(cn=2),o===null)return!0;x=ua(x,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=N&-N,u.lanes|=i,i=ey(u.stateNode,x,i),Ov(u,i),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ki===null||!ki.has(S))))return u.flags|=65536,N&=-N,u.lanes|=N,N=sE(N),iE(N,i,u,x),Ov(u,N),!1}u=u.return}while(u!==null);return!1}var ty=Error(a(461)),Cn=!1;function Jn(i,o,u,x){o.child=i===null?dC(o,null,u,x):Rl(o,i.child,u,x)}function lE(i,o,u,x,N){u=u.render;var S=o.ref;if("ref"in x){var O={};for(var L in x)L!=="ref"&&(O[L]=x[L])}else O=x;return Tl(o),x=Lv(i,o,u,O,S,N),L=Iv(),i!==null&&!Cn?($v(i,o,N),Ts(i,o,N)):(Nt&&L&&gv(o),o.flags|=1,Jn(i,o,x,N),o.child)}function oE(i,o,u,x,N){if(i===null){var S=u.type;return typeof S=="function"&&!hv(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,cE(i,o,S,x,N)):(i=im(u.type,null,x,o,o.mode,N),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!cy(i,N)){var O=S.memoizedProps;if(u=u.compare,u=u!==null?u:Sd,u(O,x)&&i.ref===o.ref)return Ts(i,o,N)}return o.flags|=1,i=ws(S,x),i.ref=o.ref,i.return=o,o.child=i}function cE(i,o,u,x,N){if(i!==null){var S=i.memoizedProps;if(Sd(S,x)&&i.ref===o.ref)if(Cn=!1,o.pendingProps=x=S,cy(i,N))(i.flags&131072)!==0&&(Cn=!0);else return o.lanes=i.lanes,Ts(i,o,N)}return ny(i,o,u,x,N)}function dE(i,o,u,x){var N=x.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(x=o.child=i.child,N=0;x!==null;)N=N|x.lanes|x.childLanes,x=x.sibling;x=N&~S}else x=0,o.child=null;return uE(i,o,S,u,x)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&dm(o,S!==null?S.cachePool:null),S!==null?mC(o,S):_v(),hC(o);else return x=o.lanes=536870912,uE(i,o,S!==null?S.baseLanes|u:u,u,x)}else S!==null?(dm(o,S.cachePool),mC(o,S),Ai(),o.memoizedState=null):(i!==null&&dm(o,null),_v(),Ai());return Jn(i,o,N,u),o.child}function Fd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function uE(i,o,u,x,N){var S=Ev();return S=S===null?null:{parent:wn._currentValue,pool:S},o.memoizedState={baseLanes:u,cachePool:S},i!==null&&dm(o,null),_v(),hC(o),i!==null&&Ro(i,o,x,!0),o.childLanes=N,null}function Em(i,o){return o=Pm({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function fE(i,o,u){return Rl(o,i.child,null,u),i=Em(o,o.pendingProps),i.flags|=2,Br(o),o.memoizedState=null,i}function C8(i,o,u){var x=o.pendingProps,N=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Nt){if(x.mode==="hidden")return i=Em(o,x),o.lanes=536870912,Fd(null,i);if(Mv(o),(i=Wt)?(i=SA(i,ha),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:yi!==null?{id:Qa,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},u=Y2(i),u.return=o,o.child=u,Xn=o,Wt=null)):i=null,i===null)throw bi(o);return o.lanes=536870912,null}return Em(o,x)}var S=i.memoizedState;if(S!==null){var O=S.dehydrated;if(Mv(o),N)if(o.flags&256)o.flags&=-257,o=fE(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(a(558));else if(Cn||Ro(i,o,u,!1),N=(u&i.childLanes)!==0,Cn||N){if(x=Bt,x!==null&&(O=n2(x,u),O!==0&&O!==S.retryLane))throw S.retryLane=O,Cl(i,O),Er(x,i,O),ty;Im(),o=fE(i,o,u)}else i=S.treeContext,Wt=xa(O.nextSibling),Xn=o,Nt=!0,ji=null,ha=!1,i!==null&&Z2(o,i),o=Em(o,x),o.flags|=4096;return o}return i=ws(i.child,{mode:x.mode,children:x.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Am(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function ny(i,o,u,x,N){return Tl(o),u=Lv(i,o,u,x,void 0,N),x=Iv(),i!==null&&!Cn?($v(i,o,N),Ts(i,o,N)):(Nt&&x&&gv(o),o.flags|=1,Jn(i,o,u,N),o.child)}function mE(i,o,u,x,N,S){return Tl(o),o.updateQueue=null,u=xC(o,x,u,N),pC(i),x=Iv(),i!==null&&!Cn?($v(i,o,S),Ts(i,o,S)):(Nt&&x&&gv(o),o.flags|=1,Jn(i,o,u,S),o.child)}function hE(i,o,u,x,N){if(Tl(o),o.stateNode===null){var S=To,O=u.contextType;typeof O=="object"&&O!==null&&(S=Zn(O)),S=new u(x,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Jv,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=x,S.state=o.memoizedState,S.refs={},Pv(o),O=u.contextType,S.context=typeof O=="object"&&O!==null?Zn(O):To,S.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Zv(o,u,O,x),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&Jv.enqueueReplaceState(S,S.state,null),Md(o,x,S,N),Rd(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(i===null){S=o.stateNode;var L=o.memoizedProps,K=Dl(u,L);S.props=K;var fe=S.context,be=u.contextType;O=To,typeof be=="object"&&be!==null&&(O=Zn(be));var we=u.getDerivedStateFromProps;be=typeof we=="function"||typeof S.getSnapshotBeforeUpdate=="function",L=o.pendingProps!==L,be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L||fe!==O)&&eE(o,S,x,O),wi=!1;var ve=o.memoizedState;S.state=ve,Md(o,x,S,N),Rd(),fe=o.memoizedState,L||ve!==fe||wi?(typeof we=="function"&&(Zv(o,u,we,x),fe=o.memoizedState),(K=wi||JC(o,u,K,x,ve,fe,O))?(be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=fe),S.props=x,S.state=fe,S.context=O,x=K):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{S=o.stateNode,Tv(i,o),O=o.memoizedProps,be=Dl(u,O),S.props=be,we=o.pendingProps,ve=S.context,fe=u.contextType,K=To,typeof fe=="object"&&fe!==null&&(K=Zn(fe)),L=u.getDerivedStateFromProps,(fe=typeof L=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==we||ve!==K)&&eE(o,S,x,K),wi=!1,ve=o.memoizedState,S.state=ve,Md(o,x,S,N),Rd();var ye=o.memoizedState;O!==we||ve!==ye||wi||i!==null&&i.dependencies!==null&&om(i.dependencies)?(typeof L=="function"&&(Zv(o,u,L,x),ye=o.memoizedState),(be=wi||JC(o,u,be,x,ve,ye,K)||i!==null&&i.dependencies!==null&&om(i.dependencies))?(fe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(x,ye,K),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(x,ye,K)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&ve===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ve===i.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=ye),S.props=x,S.state=ye,S.context=K,x=be):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&ve===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ve===i.memoizedState||(o.flags|=1024),x=!1)}return S=x,Am(i,o),x=(o.flags&128)!==0,S||x?(S=o.stateNode,u=x&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&x?(o.child=Rl(o,i.child,null,N),o.child=Rl(o,null,u,N)):Jn(i,o,u,N),o.memoizedState=S.state,i=o.child):i=Ts(i,o,N),i}function pE(i,o,u,x){return Al(),o.flags|=256,Jn(i,o,u,x),o.child}var ry={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ay(i){return{baseLanes:i,cachePool:aC()}}function sy(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Hr),i}function xE(i,o,u){var x=o.pendingProps,N=!1,S=(o.flags&128)!==0,O;if((O=S)||(O=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),O&&(N=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(Nt){if(N?Ei(o):Ai(),(i=Wt)?(i=SA(i,ha),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:yi!==null?{id:Qa,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},u=Y2(i),u.return=o,o.child=u,Xn=o,Wt=null)):i=null,i===null)throw bi(o);return By(i)?o.lanes=32:o.lanes=536870912,null}var L=x.children;return x=x.fallback,N?(Ai(),N=o.mode,L=Pm({mode:"hidden",children:L},N),x=El(x,N,u,null),L.return=o,x.return=o,L.sibling=x,o.child=L,x=o.child,x.memoizedState=ay(u),x.childLanes=sy(i,O,u),o.memoizedState=ry,Fd(null,x)):(Ei(o),iy(o,L))}var K=i.memoizedState;if(K!==null&&(L=K.dehydrated,L!==null)){if(S)o.flags&256?(Ei(o),o.flags&=-257,o=ly(i,o,u)):o.memoizedState!==null?(Ai(),o.child=i.child,o.flags|=128,o=null):(Ai(),L=x.fallback,N=o.mode,x=Pm({mode:"visible",children:x.children},N),L=El(L,N,u,null),L.flags|=2,x.return=o,L.return=o,x.sibling=L,o.child=x,Rl(o,i.child,null,u),x=o.child,x.memoizedState=ay(u),x.childLanes=sy(i,O,u),o.memoizedState=ry,o=Fd(null,x));else if(Ei(o),By(L)){if(O=L.nextSibling&&L.nextSibling.dataset,O)var fe=O.dgst;O=fe,x=Error(a(419)),x.stack="",x.digest=O,Ad({value:x,source:null,stack:null}),o=ly(i,o,u)}else if(Cn||Ro(i,o,u,!1),O=(u&i.childLanes)!==0,Cn||O){if(O=Bt,O!==null&&(x=n2(O,u),x!==0&&x!==K.retryLane))throw K.retryLane=x,Cl(i,x),Er(O,i,x),ty;zy(L)||Im(),o=ly(i,o,u)}else zy(L)?(o.flags|=192,o.child=i.child,o=null):(i=K.treeContext,Wt=xa(L.nextSibling),Xn=o,Nt=!0,ji=null,ha=!1,i!==null&&Z2(o,i),o=iy(o,x.children),o.flags|=4096);return o}return N?(Ai(),L=x.fallback,N=o.mode,K=i.child,fe=K.sibling,x=ws(K,{mode:"hidden",children:x.children}),x.subtreeFlags=K.subtreeFlags&65011712,fe!==null?L=ws(fe,L):(L=El(L,N,u,null),L.flags|=2),L.return=o,x.return=o,x.sibling=L,o.child=x,Fd(null,x),x=o.child,L=i.child.memoizedState,L===null?L=ay(u):(N=L.cachePool,N!==null?(K=wn._currentValue,N=N.parent!==K?{parent:K,pool:K}:N):N=aC(),L={baseLanes:L.baseLanes|u,cachePool:N}),x.memoizedState=L,x.childLanes=sy(i,O,u),o.memoizedState=ry,Fd(i.child,x)):(Ei(o),u=i.child,i=u.sibling,u=ws(u,{mode:"visible",children:x.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function iy(i,o){return o=Pm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Pm(i,o){return i=Fr(22,i,null,o),i.lanes=0,i}function ly(i,o,u){return Rl(o,i.child,null,u),i=iy(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function gE(i,o,u){i.lanes|=o;var x=i.alternate;x!==null&&(x.lanes|=o),Nv(i.return,o,u)}function oy(i,o,u,x,N,S){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:u,tailMode:N,treeForkCount:S}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=u,O.tailMode=N,O.treeForkCount=S)}function vE(i,o,u){var x=o.pendingProps,N=x.revealOrder,S=x.tail;x=x.children;var O=hn.current,L=(O&2)!==0;if(L?(O=O&1|2,o.flags|=128):O&=1,xe(hn,O),Jn(i,o,x,u),x=Nt?Ed:0,!L&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gE(i,u,o);else if(i.tag===19)gE(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(N){case"forwards":for(u=o.child,N=null;u!==null;)i=u.alternate,i!==null&&xm(i)===null&&(N=u),u=u.sibling;u=N,u===null?(N=o.child,o.child=null):(N=u.sibling,u.sibling=null),oy(o,!1,N,u,S,x);break;case"backwards":case"unstable_legacy-backwards":for(u=null,N=o.child,o.child=null;N!==null;){if(i=N.alternate,i!==null&&xm(i)===null){o.child=N;break}i=N.sibling,N.sibling=u,u=N,N=i}oy(o,!0,u,null,S,x);break;case"together":oy(o,!1,null,null,void 0,x);break;default:o.memoizedState=null}return o.child}function Ts(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Oi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Ro(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,u=ws(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ws(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function cy(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&om(i)))}function E8(i,o,u){switch(o.tag){case 3:We(o,o.stateNode.containerInfo),Ni(o,wn,i.memoizedState.cache),Al();break;case 27:case 5:Re(o);break;case 4:We(o,o.stateNode.containerInfo);break;case 10:Ni(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Mv(o),null;break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(Ei(o),o.flags|=128,null):(u&o.child.childLanes)!==0?xE(i,o,u):(Ei(o),i=Ts(i,o,u),i!==null?i.sibling:null);Ei(o);break;case 19:var N=(i.flags&128)!==0;if(x=(u&o.childLanes)!==0,x||(Ro(i,o,u,!1),x=(u&o.childLanes)!==0),N){if(x)return vE(i,o,u);o.flags|=128}if(N=o.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),xe(hn,hn.current),x)break;return null;case 22:return o.lanes=0,dE(i,o,u,o.pendingProps);case 24:Ni(o,wn,i.memoizedState.cache)}return Ts(i,o,u)}function yE(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Cn=!0;else{if(!cy(i,u)&&(o.flags&128)===0)return Cn=!1,E8(i,o,u);Cn=(i.flags&131072)!==0}else Cn=!1,Nt&&(o.flags&1048576)!==0&&X2(o,Ed,o.index);switch(o.lanes=0,o.tag){case 16:e:{var x=o.pendingProps;if(i=kl(o.elementType),o.type=i,typeof i=="function")hv(i)?(x=Dl(i,x),o.tag=1,o=hE(null,o,i,x,u)):(o.tag=0,o=ny(null,o,i,x,u));else{if(i!=null){var N=i.$$typeof;if(N===T){o.tag=11,o=lE(null,o,i,x,u);break e}else if(N===_){o.tag=14,o=oE(null,o,i,x,u);break e}}throw o=Y(i)||i,Error(a(306,o,""))}}return o;case 0:return ny(i,o,o.type,o.pendingProps,u);case 1:return x=o.type,N=Dl(x,o.pendingProps),hE(i,o,x,N,u);case 3:e:{if(We(o,o.stateNode.containerInfo),i===null)throw Error(a(387));x=o.pendingProps;var S=o.memoizedState;N=S.element,Tv(i,o),Md(o,x,null,u);var O=o.memoizedState;if(x=O.cache,Ni(o,wn,x),x!==S.cache&&wv(o,[wn],u,!0),Rd(),x=O.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=pE(i,o,x,u);break e}else if(x!==N){N=ua(Error(a(424)),o),Ad(N),o=pE(i,o,x,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=xa(i.firstChild),Xn=o,Nt=!0,ji=null,ha=!0,u=dC(o,null,x,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Al(),x===N){o=Ts(i,o,u);break e}Jn(i,o,x,u)}o=o.child}return o;case 26:return Am(i,o),i===null?(u=OA(o.type,null,o.pendingProps,null))?o.memoizedState=u:Nt||(u=o.type,i=o.pendingProps,x=qm($e.current).createElement(u),x[Qn]=o,x[jr]=i,er(x,u,i),Bn(x),o.stateNode=x):o.memoizedState=OA(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Re(o),i===null&&Nt&&(x=o.stateNode=AA(o.type,o.pendingProps,$e.current),Xn=o,ha=!0,N=Wt,Di(o.type)?(Uy=N,Wt=xa(x.firstChild)):Wt=N),Jn(i,o,o.pendingProps.children,u),Am(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Nt&&((N=x=Wt)&&(x=n9(x,o.type,o.pendingProps,ha),x!==null?(o.stateNode=x,Xn=o,Wt=xa(x.firstChild),ha=!1,N=!0):N=!1),N||bi(o)),Re(o),N=o.type,S=o.pendingProps,O=i!==null?i.memoizedProps:null,x=S.children,Iy(N,S)?x=null:O!==null&&Iy(N,O)&&(o.flags|=32),o.memoizedState!==null&&(N=Lv(i,o,g8,null,null,u),eu._currentValue=N),Am(i,o),Jn(i,o,x,u),o.child;case 6:return i===null&&Nt&&((i=u=Wt)&&(u=r9(u,o.pendingProps,ha),u!==null?(o.stateNode=u,Xn=o,Wt=null,i=!0):i=!1),i||bi(o)),null;case 13:return xE(i,o,u);case 4:return We(o,o.stateNode.containerInfo),x=o.pendingProps,i===null?o.child=Rl(o,null,x,u):Jn(i,o,x,u),o.child;case 11:return lE(i,o,o.type,o.pendingProps,u);case 7:return Jn(i,o,o.pendingProps,u),o.child;case 8:return Jn(i,o,o.pendingProps.children,u),o.child;case 12:return Jn(i,o,o.pendingProps.children,u),o.child;case 10:return x=o.pendingProps,Ni(o,o.type,x.value),Jn(i,o,x.children,u),o.child;case 9:return N=o.type._context,x=o.pendingProps.children,Tl(o),N=Zn(N),x=x(N),o.flags|=1,Jn(i,o,x,u),o.child;case 14:return oE(i,o,o.type,o.pendingProps,u);case 15:return cE(i,o,o.type,o.pendingProps,u);case 19:return vE(i,o,u);case 31:return C8(i,o,u);case 22:return dE(i,o,u,o.pendingProps);case 24:return Tl(o),x=Zn(wn),i===null?(N=Ev(),N===null&&(N=Bt,S=Sv(),N.pooledCache=S,S.refCount++,S!==null&&(N.pooledCacheLanes|=u),N=S),o.memoizedState={parent:x,cache:N},Pv(o),Ni(o,wn,N)):((i.lanes&u)!==0&&(Tv(i,o),Md(o,null,null,u),Rd()),N=i.memoizedState,S=o.memoizedState,N.parent!==x?(N={parent:x,cache:x},o.memoizedState=N,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=N),Ni(o,wn,x)):(x=S.cache,Ni(o,wn,x),x!==N.cache&&wv(o,[wn],u,!0))),Jn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Os(i){i.flags|=4}function dy(i,o,u,x,N){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(N&335544128)===N)if(i.stateNode.complete)i.flags|=8192;else if(KE())i.flags|=8192;else throw _l=fm,Av}else i.flags&=-16777217}function jE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!DA(o))if(KE())i.flags|=8192;else throw _l=fm,Av}function Tm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?JS():536870912,i.lanes|=o,Vo|=o)}function zd(i,o){if(!Nt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,x=0;if(o)for(var N=i.child;N!==null;)u|=N.lanes|N.childLanes,x|=N.subtreeFlags&65011712,x|=N.flags&65011712,N.return=i,N=N.sibling;else for(N=i.child;N!==null;)u|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=i,N=N.sibling;return i.subtreeFlags|=x,i.childLanes=u,o}function A8(i,o,u){var x=o.pendingProps;switch(vv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return u=o.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),Es(wn),me(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(_o(o)?Os(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,jv())),Gt(o),null;case 26:var N=o.type,S=o.memoizedState;return i===null?(Os(o),S!==null?(Gt(o),jE(o,S)):(Gt(o),dy(o,N,null,x,u))):S?S!==i.memoizedState?(Os(o),Gt(o),jE(o,S)):(Gt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==x&&Os(o),Gt(o),dy(o,N,i,x,u)),null;case 27:if(W(o),u=$e.current,N=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Os(o);else{if(!x){if(o.stateNode===null)throw Error(a(166));return Gt(o),null}i=Se.current,_o(o)?J2(o):(i=AA(N,x,u),o.stateNode=i,Os(o))}return Gt(o),null;case 5:if(W(o),N=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Os(o);else{if(!x){if(o.stateNode===null)throw Error(a(166));return Gt(o),null}if(S=Se.current,_o(o))J2(o);else{var O=qm($e.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof x.is=="string"?O.createElement("select",{is:x.is}):O.createElement("select"),x.multiple?S.multiple=!0:x.size&&(S.size=x.size);break;default:S=typeof x.is=="string"?O.createElement(N,{is:x.is}):O.createElement(N)}}S[Qn]=o,S[jr]=x;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=S;e:switch(er(S,N,x),N){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Os(o)}}return Gt(o),dy(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==x&&Os(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(a(166));if(i=$e.current,_o(o)){if(i=o.stateNode,u=o.memoizedProps,x=null,N=Xn,N!==null)switch(N.tag){case 27:case 5:x=N.memoizedProps}i[Qn]=o,i=!!(i.nodeValue===u||x!==null&&x.suppressHydrationWarning===!0||xA(i.nodeValue,u)),i||bi(o,!0)}else i=qm(i).createTextNode(x),i[Qn]=o,o.stateNode=i}return Gt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(x=_o(o),u!==null){if(i===null){if(!x)throw Error(a(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[Qn]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),i=!1}else u=jv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Br(o),o):(Br(o),null);if((o.flags&128)!==0)throw Error(a(558))}return Gt(o),null;case 13:if(x=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(N=_o(o),x!==null&&x.dehydrated!==null){if(i===null){if(!N)throw Error(a(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(a(317));N[Qn]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),N=!1}else N=jv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=N),N=!0;if(!N)return o.flags&256?(Br(o),o):(Br(o),null)}return Br(o),(o.flags&128)!==0?(o.lanes=u,o):(u=x!==null,i=i!==null&&i.memoizedState!==null,u&&(x=o.child,N=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(N=x.alternate.memoizedState.cachePool.pool),S=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(S=x.memoizedState.cachePool.pool),S!==N&&(x.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Tm(o,o.updateQueue),Gt(o),null);case 4:return me(),i===null&&_y(o.stateNode.containerInfo),Gt(o),null;case 10:return Es(o.type),Gt(o),null;case 19:if(ne(hn),x=o.memoizedState,x===null)return Gt(o),null;if(N=(o.flags&128)!==0,S=x.rendering,S===null)if(N)zd(x,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=xm(i),S!==null){for(o.flags|=128,zd(x,!1),i=S.updateQueue,o.updateQueue=i,Tm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)G2(u,i),u=u.sibling;return xe(hn,hn.current&1|2),Nt&&Ss(o,x.treeForkCount),o.child}i=i.sibling}x.tail!==null&&st()>Mm&&(o.flags|=128,N=!0,zd(x,!1),o.lanes=4194304)}else{if(!N)if(i=xm(S),i!==null){if(o.flags|=128,N=!0,i=i.updateQueue,o.updateQueue=i,Tm(o,i),zd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!Nt)return Gt(o),null}else 2*st()-x.renderingStartTime>Mm&&u!==536870912&&(o.flags|=128,N=!0,zd(x,!1),o.lanes=4194304);x.isBackwards?(S.sibling=o.child,o.child=S):(i=x.last,i!==null?i.sibling=S:o.child=S,x.last=S)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=st(),i.sibling=null,u=hn.current,xe(hn,N?u&1|2:u&1),Nt&&Ss(o,x.treeForkCount),i):(Gt(o),null);case 22:case 23:return Br(o),Rv(),x=o.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(u&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),u=o.updateQueue,u!==null&&Tm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==u&&(o.flags|=2048),i!==null&&ne(Ol),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Es(wn),Gt(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function P8(i,o){switch(vv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Es(wn),me(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return W(o),null;case 31:if(o.memoizedState!==null){if(Br(o),o.alternate===null)throw Error(a(340));Al()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Br(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));Al()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ne(hn),null;case 4:return me(),null;case 10:return Es(o.type),null;case 22:case 23:return Br(o),Rv(),i!==null&&ne(Ol),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Es(wn),null;case 25:return null;default:return null}}function bE(i,o){switch(vv(o),o.tag){case 3:Es(wn),me();break;case 26:case 27:case 5:W(o);break;case 4:me();break;case 31:o.memoizedState!==null&&Br(o);break;case 13:Br(o);break;case 19:ne(hn);break;case 10:Es(o.type);break;case 22:case 23:Br(o),Rv(),i!==null&&ne(Ol);break;case 24:Es(wn)}}function Bd(i,o){try{var u=o.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var N=x.next;u=N;do{if((u.tag&i)===i){x=void 0;var S=u.create,O=u.inst;x=S(),O.destroy=x}u=u.next}while(u!==N)}}catch(L){Rt(o,o.return,L)}}function Pi(i,o,u){try{var x=o.updateQueue,N=x!==null?x.lastEffect:null;if(N!==null){var S=N.next;x=S;do{if((x.tag&i)===i){var O=x.inst,L=O.destroy;if(L!==void 0){O.destroy=void 0,N=o;var K=u,fe=L;try{fe()}catch(be){Rt(N,K,be)}}}x=x.next}while(x!==S)}}catch(be){Rt(o,o.return,be)}}function NE(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{fC(o,u)}catch(x){Rt(i,i.return,x)}}}function wE(i,o,u){u.props=Dl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(x){Rt(i,o,x)}}function Ud(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof u=="function"?i.refCleanup=u(x):u.current=x}}catch(N){Rt(i,o,N)}}function Za(i,o){var u=i.ref,x=i.refCleanup;if(u!==null)if(typeof x=="function")try{x()}catch(N){Rt(i,o,N)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(N){Rt(i,o,N)}else u.current=null}function SE(i){var o=i.type,u=i.memoizedProps,x=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&x.focus();break e;case"img":u.src?x.src=u.src:u.srcSet&&(x.srcset=u.srcSet)}}catch(N){Rt(i,i.return,N)}}function uy(i,o,u){try{var x=i.stateNode;Q8(x,i.type,u,o),x[jr]=o}catch(N){Rt(i,i.return,N)}}function CE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Di(i.type)||i.tag===4}function fy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||CE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Di(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function my(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=bs));else if(x!==4&&(x===27&&Di(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(my(i,o,u),i=i.sibling;i!==null;)my(i,o,u),i=i.sibling}function Om(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(x!==4&&(x===27&&Di(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Om(i,o,u),i=i.sibling;i!==null;)Om(i,o,u),i=i.sibling}function EE(i){var o=i.stateNode,u=i.memoizedProps;try{for(var x=i.type,N=o.attributes;N.length;)o.removeAttributeNode(N[0]);er(o,x,u),o[Qn]=i,o[jr]=u}catch(S){Rt(i,i.return,S)}}var ks=!1,En=!1,hy=!1,AE=typeof WeakSet=="function"?WeakSet:Set,Un=null;function T8(i,o){if(i=i.containerInfo,Dy=Xm,i=F2(i),lv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var x=u.getSelection&&u.getSelection();if(x&&x.rangeCount!==0){u=x.anchorNode;var N=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var O=0,L=-1,K=-1,fe=0,be=0,we=i,ve=null;t:for(;;){for(var ye;we!==u||N!==0&&we.nodeType!==3||(L=O+N),we!==S||x!==0&&we.nodeType!==3||(K=O+x),we.nodeType===3&&(O+=we.nodeValue.length),(ye=we.firstChild)!==null;)ve=we,we=ye;for(;;){if(we===i)break t;if(ve===u&&++fe===N&&(L=O),ve===S&&++be===x&&(K=O),(ye=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=ye}u=L===-1||K===-1?null:{start:L,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ly={focusedElem:i,selectionRange:u},Xm=!1,Un=o;Un!==null;)if(o=Un,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Un=i;else for(;Un!==null;){switch(o=Un,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)N=i[u],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=o,N=S.memoizedProps,S=S.memoizedState,x=u.stateNode;try{var He=Dl(u.type,N);i=x.getSnapshotBeforeUpdate(He,S),x.__reactInternalSnapshotBeforeUpdate=i}catch(nt){Rt(u,u.return,nt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Fy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,Un=i;break}Un=o.return}}function PE(i,o,u){var x=u.flags;switch(u.tag){case 0:case 11:case 15:Rs(i,u),x&4&&Bd(5,u);break;case 1:if(Rs(i,u),x&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Rt(u,u.return,O)}else{var N=Dl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(N,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Rt(u,u.return,O)}}x&64&&NE(u),x&512&&Ud(u,u.return);break;case 3:if(Rs(i,u),x&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{fC(i,o)}catch(O){Rt(u,u.return,O)}}break;case 27:o===null&&x&4&&EE(u);case 26:case 5:Rs(i,u),o===null&&x&4&&SE(u),x&512&&Ud(u,u.return);break;case 12:Rs(i,u);break;case 31:Rs(i,u),x&4&&kE(i,u);break;case 13:Rs(i,u),x&4&&_E(i,u),x&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=$8.bind(null,u),a9(i,u))));break;case 22:if(x=u.memoizedState!==null||ks,!x){o=o!==null&&o.memoizedState!==null||En,N=ks;var S=En;ks=x,(En=o)&&!S?Ms(i,u,(u.subtreeFlags&8772)!==0):Rs(i,u),ks=N,En=S}break;case 30:break;default:Rs(i,u)}}function TE(i){var o=i.alternate;o!==null&&(i.alternate=null,TE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&qg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Nr=!1;function _s(i,o,u){for(u=u.child;u!==null;)OE(i,o,u),u=u.sibling}function OE(i,o,u){if(F&&typeof F.onCommitFiberUnmount=="function")try{F.onCommitFiberUnmount(yl,u)}catch{}switch(u.tag){case 26:En||Za(u,o),_s(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:En||Za(u,o);var x=Jt,N=Nr;Di(u.type)&&(Jt=u.stateNode,Nr=!1),_s(i,o,u),Xd(u.stateNode),Jt=x,Nr=N;break;case 5:En||Za(u,o);case 6:if(x=Jt,N=Nr,Jt=null,_s(i,o,u),Jt=x,Nr=N,Jt!==null)if(Nr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(u.stateNode)}catch(S){Rt(u,o,S)}else try{Jt.removeChild(u.stateNode)}catch(S){Rt(u,o,S)}break;case 18:Jt!==null&&(Nr?(i=Jt,NA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Jo(i)):NA(Jt,u.stateNode));break;case 4:x=Jt,N=Nr,Jt=u.stateNode.containerInfo,Nr=!0,_s(i,o,u),Jt=x,Nr=N;break;case 0:case 11:case 14:case 15:Pi(2,u,o),En||Pi(4,u,o),_s(i,o,u);break;case 1:En||(Za(u,o),x=u.stateNode,typeof x.componentWillUnmount=="function"&&wE(u,o,x)),_s(i,o,u);break;case 21:_s(i,o,u);break;case 22:En=(x=En)||u.memoizedState!==null,_s(i,o,u),En=x;break;default:_s(i,o,u)}}function kE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Jo(i)}catch(u){Rt(o,o.return,u)}}}function _E(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jo(i)}catch(u){Rt(o,o.return,u)}}function O8(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new AE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new AE),o;default:throw Error(a(435,i.tag))}}function km(i,o){var u=O8(i);o.forEach(function(x){if(!u.has(x)){u.add(x);var N=F8.bind(null,i,x);x.then(N,N)}})}function wr(i,o){var u=o.deletions;if(u!==null)for(var x=0;x<u.length;x++){var N=u[x],S=i,O=o,L=O;e:for(;L!==null;){switch(L.tag){case 27:if(Di(L.type)){Jt=L.stateNode,Nr=!1;break e}break;case 5:Jt=L.stateNode,Nr=!1;break e;case 3:case 4:Jt=L.stateNode.containerInfo,Nr=!0;break e}L=L.return}if(Jt===null)throw Error(a(160));OE(S,O,N),Jt=null,Nr=!1,S=N.alternate,S!==null&&(S.return=null),N.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)RE(o,i),o=o.sibling}var Da=null;function RE(i,o){var u=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wr(o,i),Sr(i),x&4&&(Pi(3,i,i.return),Bd(3,i),Pi(5,i,i.return));break;case 1:wr(o,i),Sr(i),x&512&&(En||u===null||Za(u,u.return)),x&64&&ks&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?x:u.concat(x))));break;case 26:var N=Da;if(wr(o,i),Sr(i),x&512&&(En||u===null||Za(u,u.return)),x&4){var S=u!==null?u.memoizedState:null;if(x=i.memoizedState,u===null)if(x===null)if(i.stateNode===null){e:{x=i.type,u=i.memoizedProps,N=N.ownerDocument||N;t:switch(x){case"title":S=N.getElementsByTagName("title")[0],(!S||S[pd]||S[Qn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=N.createElement(x),N.head.insertBefore(S,N.querySelector("head > title"))),er(S,x,u),S[Qn]=i,Bn(S),x=S;break e;case"link":var O=RA("link","href",N).get(x+(u.href||""));if(O){for(var L=0;L<O.length;L++)if(S=O[L],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(L,1);break t}}S=N.createElement(x),er(S,x,u),N.head.appendChild(S);break;case"meta":if(O=RA("meta","content",N).get(x+(u.content||""))){for(L=0;L<O.length;L++)if(S=O[L],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(L,1);break t}}S=N.createElement(x),er(S,x,u),N.head.appendChild(S);break;default:throw Error(a(468,x))}S[Qn]=i,Bn(S),x=S}i.stateNode=x}else MA(N,i.type,i.stateNode);else i.stateNode=_A(N,x,i.memoizedProps);else S!==x?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,x===null?MA(N,i.type,i.stateNode):_A(N,x,i.memoizedProps)):x===null&&i.stateNode!==null&&uy(i,i.memoizedProps,u.memoizedProps)}break;case 27:wr(o,i),Sr(i),x&512&&(En||u===null||Za(u,u.return)),u!==null&&x&4&&uy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(wr(o,i),Sr(i),x&512&&(En||u===null||Za(u,u.return)),i.flags&32){N=i.stateNode;try{No(N,"")}catch(He){Rt(i,i.return,He)}}x&4&&i.stateNode!=null&&(N=i.memoizedProps,uy(i,N,u!==null?u.memoizedProps:N)),x&1024&&(hy=!0);break;case 6:if(wr(o,i),Sr(i),x&4){if(i.stateNode===null)throw Error(a(162));x=i.memoizedProps,u=i.stateNode;try{u.nodeValue=x}catch(He){Rt(i,i.return,He)}}break;case 3:if(Wm=null,N=Da,Da=Vm(o.containerInfo),wr(o,i),Da=N,Sr(i),x&4&&u!==null&&u.memoizedState.isDehydrated)try{Jo(o.containerInfo)}catch(He){Rt(i,i.return,He)}hy&&(hy=!1,ME(i));break;case 4:x=Da,Da=Vm(i.stateNode.containerInfo),wr(o,i),Sr(i),Da=x;break;case 12:wr(o,i),Sr(i);break;case 31:wr(o,i),Sr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,km(i,x)));break;case 13:wr(o,i),Sr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Rm=st()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,km(i,x)));break;case 22:N=i.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,fe=ks,be=En;if(ks=fe||N,En=be||K,wr(o,i),En=be,ks=fe,Sr(i),x&8192)e:for(o=i.stateNode,o._visibility=N?o._visibility&-2:o._visibility|1,N&&(u===null||K||ks||En||Ll(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(S=K.stateNode,N)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{L=K.stateNode;var we=K.memoizedProps.style,ve=we!=null&&we.hasOwnProperty("display")?we.display:null;L.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(He){Rt(K,K.return,He)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=N?"":K.memoizedProps}catch(He){Rt(K,K.return,He)}}}else if(o.tag===18){if(u===null){K=o;try{var ye=K.stateNode;N?wA(ye,!0):wA(K.stateNode,!1)}catch(He){Rt(K,K.return,He)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=i.updateQueue,x!==null&&(u=x.retryQueue,u!==null&&(x.retryQueue=null,km(i,u))));break;case 19:wr(o,i),Sr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,km(i,x)));break;case 30:break;case 21:break;default:wr(o,i),Sr(i)}}function Sr(i){var o=i.flags;if(o&2){try{for(var u,x=i.return;x!==null;){if(CE(x)){u=x;break}x=x.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var N=u.stateNode,S=fy(i);Om(i,S,N);break;case 5:var O=u.stateNode;u.flags&32&&(No(O,""),u.flags&=-33);var L=fy(i);Om(i,L,O);break;case 3:case 4:var K=u.stateNode.containerInfo,fe=fy(i);my(i,fe,K);break;default:throw Error(a(161))}}catch(be){Rt(i,i.return,be)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ME(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ME(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Rs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)PE(i,o.alternate,o),o=o.sibling}function Ll(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Pi(4,o,o.return),Ll(o);break;case 1:Za(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&wE(o,o.return,u),Ll(o);break;case 27:Xd(o.stateNode);case 26:case 5:Za(o,o.return),Ll(o);break;case 22:o.memoizedState===null&&Ll(o);break;case 30:Ll(o);break;default:Ll(o)}i=i.sibling}}function Ms(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,N=i,S=o,O=S.flags;switch(S.tag){case 0:case 11:case 15:Ms(N,S,u),Bd(4,S);break;case 1:if(Ms(N,S,u),x=S,N=x.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(fe){Rt(x,x.return,fe)}if(x=S,N=x.updateQueue,N!==null){var L=x.stateNode;try{var K=N.shared.hiddenCallbacks;if(K!==null)for(N.shared.hiddenCallbacks=null,N=0;N<K.length;N++)uC(K[N],L)}catch(fe){Rt(x,x.return,fe)}}u&&O&64&&NE(S),Ud(S,S.return);break;case 27:EE(S);case 26:case 5:Ms(N,S,u),u&&x===null&&O&4&&SE(S),Ud(S,S.return);break;case 12:Ms(N,S,u);break;case 31:Ms(N,S,u),u&&O&4&&kE(N,S);break;case 13:Ms(N,S,u),u&&O&4&&_E(N,S);break;case 22:S.memoizedState===null&&Ms(N,S,u),Ud(S,S.return);break;case 30:break;default:Ms(N,S,u)}o=o.sibling}}function py(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Pd(u))}function xy(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Pd(i))}function La(i,o,u,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)DE(i,o,u,x),o=o.sibling}function DE(i,o,u,x){var N=o.flags;switch(o.tag){case 0:case 11:case 15:La(i,o,u,x),N&2048&&Bd(9,o);break;case 1:La(i,o,u,x);break;case 3:La(i,o,u,x),N&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Pd(i)));break;case 12:if(N&2048){La(i,o,u,x),i=o.stateNode;try{var S=o.memoizedProps,O=S.id,L=S.onPostCommit;typeof L=="function"&&L(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(K){Rt(o,o.return,K)}}else La(i,o,u,x);break;case 31:La(i,o,u,x);break;case 13:La(i,o,u,x);break;case 23:break;case 22:S=o.stateNode,O=o.alternate,o.memoizedState!==null?S._visibility&2?La(i,o,u,x):Hd(i,o):S._visibility&2?La(i,o,u,x):(S._visibility|=2,Uo(i,o,u,x,(o.subtreeFlags&10256)!==0||!1)),N&2048&&py(O,o);break;case 24:La(i,o,u,x),N&2048&&xy(o.alternate,o);break;default:La(i,o,u,x)}}function Uo(i,o,u,x,N){for(N=N&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,O=o,L=u,K=x,fe=O.flags;switch(O.tag){case 0:case 11:case 15:Uo(S,O,L,K,N),Bd(8,O);break;case 23:break;case 22:var be=O.stateNode;O.memoizedState!==null?be._visibility&2?Uo(S,O,L,K,N):Hd(S,O):(be._visibility|=2,Uo(S,O,L,K,N)),N&&fe&2048&&py(O.alternate,O);break;case 24:Uo(S,O,L,K,N),N&&fe&2048&&xy(O.alternate,O);break;default:Uo(S,O,L,K,N)}o=o.sibling}}function Hd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,x=o,N=x.flags;switch(x.tag){case 22:Hd(u,x),N&2048&&py(x.alternate,x);break;case 24:Hd(u,x),N&2048&&xy(x.alternate,x);break;default:Hd(u,x)}o=o.sibling}}var qd=8192;function Ho(i,o,u){if(i.subtreeFlags&qd)for(i=i.child;i!==null;)LE(i,o,u),i=i.sibling}function LE(i,o,u){switch(i.tag){case 26:Ho(i,o,u),i.flags&qd&&i.memoizedState!==null&&x9(u,Da,i.memoizedState,i.memoizedProps);break;case 5:Ho(i,o,u);break;case 3:case 4:var x=Da;Da=Vm(i.stateNode.containerInfo),Ho(i,o,u),Da=x;break;case 22:i.memoizedState===null&&(x=i.alternate,x!==null&&x.memoizedState!==null?(x=qd,qd=16777216,Ho(i,o,u),qd=x):Ho(i,o,u));break;default:Ho(i,o,u)}}function IE(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Vd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];Un=x,FE(x,i)}IE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$E(i),i=i.sibling}function $E(i){switch(i.tag){case 0:case 11:case 15:Vd(i),i.flags&2048&&Pi(9,i,i.return);break;case 3:Vd(i);break;case 12:Vd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,_m(i)):Vd(i);break;default:Vd(i)}}function _m(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];Un=x,FE(x,i)}IE(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Pi(8,o,o.return),_m(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,_m(o));break;default:_m(o)}i=i.sibling}}function FE(i,o){for(;Un!==null;){var u=Un;switch(u.tag){case 0:case 11:case 15:Pi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var x=u.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Pd(u.memoizedState.cache)}if(x=u.child,x!==null)x.return=u,Un=x;else e:for(u=i;Un!==null;){x=Un;var N=x.sibling,S=x.return;if(TE(x),x===u){Un=null;break e}if(N!==null){N.return=S,Un=N;break e}Un=S}}}var k8={getCacheForType:function(i){var o=Zn(wn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Zn(wn).controller.signal}},_8=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Bt=null,gt=null,yt=0,_t=0,Ur=null,Ti=!1,qo=!1,gy=!1,Ds=0,cn=0,Oi=0,Il=0,vy=0,Hr=0,Vo=0,Kd=null,Cr=null,yy=!1,Rm=0,zE=0,Mm=1/0,Dm=null,ki=null,_n=0,_i=null,Ko=null,Ls=0,jy=0,by=null,BE=null,Wd=0,Ny=null;function qr(){return(Tt&2)!==0&&yt!==0?yt&-yt:z.T!==null?Py():r2()}function UE(){if(Hr===0)if((yt&536870912)===0||Nt){var i=Hf;Hf<<=1,(Hf&3932160)===0&&(Hf=262144),Hr=i}else Hr=536870912;return i=zr.current,i!==null&&(i.flags|=32),Hr}function Er(i,o,u){(i===Bt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(Wo(i,0),Ri(i,yt,Hr,!1)),hd(i,u),((Tt&2)===0||i!==Bt)&&(i===Bt&&((Tt&2)===0&&(Il|=u),cn===4&&Ri(i,yt,Hr,!1)),Ja(i))}function HE(i,o,u){if((Tt&6)!==0)throw Error(a(327));var x=!u&&(o&127)===0&&(o&i.expiredLanes)===0||md(i,o),N=x?D8(i,o):Sy(i,o,!0),S=x;do{if(N===0){qo&&!x&&Ri(i,o,0,!1);break}else{if(u=i.current.alternate,S&&!R8(u)){N=Sy(i,o,!1),S=!1;continue}if(N===2){if(S=o,i.errorRecoveryDisabledLanes&S)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var L=i;N=Kd;var K=L.current.memoizedState.isDehydrated;if(K&&(Wo(L,O).flags|=256),O=Sy(L,O,!1),O!==2){if(gy&&!K){L.errorRecoveryDisabledLanes|=S,Il|=S,N=4;break e}S=Cr,Cr=N,S!==null&&(Cr===null?Cr=S:Cr.push.apply(Cr,S))}N=O}if(S=!1,N!==2)continue}}if(N===1){Wo(i,0),Ri(i,o,0,!0);break}e:{switch(x=i,S=N,S){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Ri(x,o,Hr,!Ti);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(N=Rm+300-st(),10<N)){if(Ri(x,o,Hr,!Ti),Vf(x,0,!0)!==0)break e;Ls=o,x.timeoutHandle=jA(qE.bind(null,x,u,Cr,Dm,yy,o,Hr,Il,Vo,Ti,S,"Throttled",-0,0),N);break e}qE(x,u,Cr,Dm,yy,o,Hr,Il,Vo,Ti,S,null,-0,0)}}break}while(!0);Ja(i)}function qE(i,o,u,x,N,S,O,L,K,fe,be,we,ve,ye){if(i.timeoutHandle=-1,we=o.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},LE(o,S,we);var He=(S&62914560)===S?Rm-st():(S&4194048)===S?zE-st():0;if(He=g9(we,He),He!==null){Ls=S,i.cancelPendingCommit=He(ZE.bind(null,i,o,S,u,x,N,O,L,K,be,we,null,ve,ye)),Ri(i,S,O,!fe);return}}ZE(i,o,S,u,x,N,O,L,K)}function R8(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var x=0;x<u.length;x++){var N=u[x],S=N.getSnapshot;N=N.value;try{if(!$r(S(),N))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ri(i,o,u,x){o&=~vy,o&=~Il,i.suspendedLanes|=o,i.pingedLanes&=~o,x&&(i.warmLanes|=o),x=i.expirationTimes;for(var N=o;0<N;){var S=31-lt(N),O=1<<S;x[S]=-1,N&=~O}u!==0&&e2(i,u,o)}function Lm(){return(Tt&6)===0?(Gd(0),!1):!0}function wy(){if(gt!==null){if(_t===0)var i=gt.return;else i=gt,Cs=Pl=null,Fv(i),Io=null,Od=0,i=gt;for(;i!==null;)bE(i.alternate,i),i=i.return;gt=null}}function Wo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,J8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ls=0,wy(),Bt=i,gt=u=ws(i.current,null),yt=o,_t=0,Ur=null,Ti=!1,qo=md(i,o),gy=!1,Vo=Hr=vy=Il=Oi=cn=0,Cr=Kd=null,yy=!1,(o&8)!==0&&(o|=o&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=o;0<x;){var N=31-lt(x),S=1<<N;o|=i[N],x&=~S}return Ds=o,rm(),u}function VE(i,o){dt=null,z.H=$d,o===Lo||o===um?(o=lC(),_t=3):o===Av?(o=lC(),_t=4):_t=o===ty?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ur=o,gt===null&&(cn=1,Cm(i,ua(o,i.current)))}function KE(){var i=zr.current;return i===null?!0:(yt&4194048)===yt?pa===null:(yt&62914560)===yt||(yt&536870912)!==0?i===pa:!1}function WE(){var i=z.H;return z.H=$d,i===null?$d:i}function GE(){var i=z.A;return z.A=k8,i}function Im(){cn=4,Ti||(yt&4194048)!==yt&&zr.current!==null||(qo=!0),(Oi&134217727)===0&&(Il&134217727)===0||Bt===null||Ri(Bt,yt,Hr,!1)}function Sy(i,o,u){var x=Tt;Tt|=2;var N=WE(),S=GE();(Bt!==i||yt!==o)&&(Dm=null,Wo(i,o)),o=!1;var O=cn;e:do try{if(_t!==0&&gt!==null){var L=gt,K=Ur;switch(_t){case 8:wy(),O=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(o=!0);var fe=_t;if(_t=0,Ur=null,Go(i,L,K,fe),u&&qo){O=0;break e}break;default:fe=_t,_t=0,Ur=null,Go(i,L,K,fe)}}M8(),O=cn;break}catch(be){VE(i,be)}while(!0);return o&&i.shellSuspendCounter++,Cs=Pl=null,Tt=x,z.H=N,z.A=S,gt===null&&(Bt=null,yt=0,rm()),O}function M8(){for(;gt!==null;)YE(gt)}function D8(i,o){var u=Tt;Tt|=2;var x=WE(),N=GE();Bt!==i||yt!==o?(Dm=null,Mm=st()+500,Wo(i,o)):qo=md(i,o);e:do try{if(_t!==0&&gt!==null){o=gt;var S=Ur;t:switch(_t){case 1:_t=0,Ur=null,Go(i,o,S,1);break;case 2:case 9:if(sC(S)){_t=0,Ur=null,QE(o);break}o=function(){_t!==2&&_t!==9||Bt!==i||(_t=7),Ja(i)},S.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:sC(S)?(_t=0,Ur=null,QE(o)):(_t=0,Ur=null,Go(i,o,S,7));break;case 5:var O=null;switch(gt.tag){case 26:O=gt.memoizedState;case 5:case 27:var L=gt;if(O?DA(O):L.stateNode.complete){_t=0,Ur=null;var K=L.sibling;if(K!==null)gt=K;else{var fe=L.return;fe!==null?(gt=fe,$m(fe)):gt=null}break t}}_t=0,Ur=null,Go(i,o,S,5);break;case 6:_t=0,Ur=null,Go(i,o,S,6);break;case 8:wy(),cn=6;break e;default:throw Error(a(462))}}L8();break}catch(be){VE(i,be)}while(!0);return Cs=Pl=null,z.H=x,z.A=N,Tt=u,gt!==null?0:(Bt=null,yt=0,rm(),cn)}function L8(){for(;gt!==null&&!yr();)YE(gt)}function YE(i){var o=yE(i.alternate,i,Ds);i.memoizedProps=i.pendingProps,o===null?$m(i):gt=o}function QE(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=mE(u,o,o.pendingProps,o.type,void 0,yt);break;case 11:o=mE(u,o,o.pendingProps,o.type.render,o.ref,yt);break;case 5:Fv(o);default:bE(u,o),o=gt=G2(o,Ds),o=yE(u,o,Ds)}i.memoizedProps=i.pendingProps,o===null?$m(i):gt=o}function Go(i,o,u,x){Cs=Pl=null,Fv(o),Io=null,Od=0;var N=o.return;try{if(S8(i,N,o,u,yt)){cn=1,Cm(i,ua(u,i.current)),gt=null;return}}catch(S){if(N!==null)throw gt=N,S;cn=1,Cm(i,ua(u,i.current)),gt=null;return}o.flags&32768?(Nt||x===1?i=!0:qo||(yt&536870912)!==0?i=!1:(Ti=i=!0,(x===2||x===9||x===3||x===6)&&(x=zr.current,x!==null&&x.tag===13&&(x.flags|=16384))),XE(o,i)):$m(o)}function $m(i){var o=i;do{if((o.flags&32768)!==0){XE(o,Ti);return}i=o.return;var u=A8(o.alternate,o,Ds);if(u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=i}while(o!==null);cn===0&&(cn=5)}function XE(i,o){do{var u=P8(i.alternate,i);if(u!==null){u.flags&=32767,gt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){gt=i;return}gt=i=u}while(i!==null);cn=6,gt=null}function ZE(i,o,u,x,N,S,O,L,K){i.cancelPendingCommit=null;do Fm();while(_n!==0);if((Tt&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(S=o.lanes|o.childLanes,S|=fv,pB(i,u,S,O,L,K),i===Bt&&(gt=Bt=null,yt=0),Ko=o,_i=i,Ls=u,jy=S,by=N,BE=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,z8(po,function(){return rA(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=z.T,z.T=null,N=J.p,J.p=2,O=Tt,Tt|=4;try{T8(i,o,u)}finally{Tt=O,J.p=N,z.T=x}}_n=1,JE(),eA(),tA()}}function JE(){if(_n===1){_n=0;var i=_i,o=Ko,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=z.T,z.T=null;var x=J.p;J.p=2;var N=Tt;Tt|=4;try{RE(o,i);var S=Ly,O=F2(i.containerInfo),L=S.focusedElem,K=S.selectionRange;if(O!==L&&L&&L.ownerDocument&&$2(L.ownerDocument.documentElement,L)){if(K!==null&&lv(L)){var fe=K.start,be=K.end;if(be===void 0&&(be=fe),"selectionStart"in L)L.selectionStart=fe,L.selectionEnd=Math.min(be,L.value.length);else{var we=L.ownerDocument||document,ve=we&&we.defaultView||window;if(ve.getSelection){var ye=ve.getSelection(),He=L.textContent.length,nt=Math.min(K.start,He),Ft=K.end===void 0?nt:Math.min(K.end,He);!ye.extend&&nt>Ft&&(O=Ft,Ft=nt,nt=O);var le=I2(L,nt),Z=I2(L,Ft);if(le&&Z&&(ye.rangeCount!==1||ye.anchorNode!==le.node||ye.anchorOffset!==le.offset||ye.focusNode!==Z.node||ye.focusOffset!==Z.offset)){var ue=we.createRange();ue.setStart(le.node,le.offset),ye.removeAllRanges(),nt>Ft?(ye.addRange(ue),ye.extend(Z.node,Z.offset)):(ue.setEnd(Z.node,Z.offset),ye.addRange(ue))}}}}for(we=[],ye=L;ye=ye.parentNode;)ye.nodeType===1&&we.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<we.length;L++){var Ne=we[L];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Xm=!!Dy,Ly=Dy=null}finally{Tt=N,J.p=x,z.T=u}}i.current=o,_n=2}}function eA(){if(_n===2){_n=0;var i=_i,o=Ko,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=z.T,z.T=null;var x=J.p;J.p=2;var N=Tt;Tt|=4;try{PE(i,o.alternate,o)}finally{Tt=N,J.p=x,z.T=u}}_n=3}}function tA(){if(_n===4||_n===3){_n=0,Nn();var i=_i,o=Ko,u=Ls,x=BE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?_n=5:(_n=0,Ko=_i=null,nA(i,i.pendingLanes));var N=i.pendingLanes;if(N===0&&(ki=null),Ug(u),o=o.stateNode,F&&typeof F.onCommitFiberRoot=="function")try{F.onCommitFiberRoot(yl,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=z.T,N=J.p,J.p=2,z.T=null;try{for(var S=i.onRecoverableError,O=0;O<x.length;O++){var L=x[O];S(L.value,{componentStack:L.stack})}}finally{z.T=o,J.p=N}}(Ls&3)!==0&&Fm(),Ja(i),N=i.pendingLanes,(u&261930)!==0&&(N&42)!==0?i===Ny?Wd++:(Wd=0,Ny=i):Wd=0,Gd(0)}}function nA(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Pd(o)))}function Fm(){return JE(),eA(),tA(),rA()}function rA(){if(_n!==5)return!1;var i=_i,o=jy;jy=0;var u=Ug(Ls),x=z.T,N=J.p;try{J.p=32>u?32:u,z.T=null,u=by,by=null;var S=_i,O=Ls;if(_n=0,Ko=_i=null,Ls=0,(Tt&6)!==0)throw Error(a(331));var L=Tt;if(Tt|=4,$E(S.current),DE(S,S.current,O,u),Tt=L,Gd(0,!1),F&&typeof F.onPostCommitFiberRoot=="function")try{F.onPostCommitFiberRoot(yl,S)}catch{}return!0}finally{J.p=N,z.T=x,nA(i,o)}}function aA(i,o,u){o=ua(u,o),o=ey(i.stateNode,o,2),i=Ci(i,o,2),i!==null&&(hd(i,2),Ja(i))}function Rt(i,o,u){if(i.tag===3)aA(i,i,u);else for(;o!==null;){if(o.tag===3){aA(o,i,u);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ki===null||!ki.has(x))){i=ua(u,i),u=sE(2),x=Ci(o,u,2),x!==null&&(iE(u,x,o,i),hd(x,2),Ja(x));break}}o=o.return}}function Cy(i,o,u){var x=i.pingCache;if(x===null){x=i.pingCache=new _8;var N=new Set;x.set(o,N)}else N=x.get(o),N===void 0&&(N=new Set,x.set(o,N));N.has(u)||(gy=!0,N.add(u),i=I8.bind(null,i,o,u),o.then(i,i))}function I8(i,o,u){var x=i.pingCache;x!==null&&x.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(yt&u)===u&&(cn===4||cn===3&&(yt&62914560)===yt&&300>st()-Rm?(Tt&2)===0&&Wo(i,0):vy|=u,Vo===yt&&(Vo=0)),Ja(i)}function sA(i,o){o===0&&(o=JS()),i=Cl(i,o),i!==null&&(hd(i,o),Ja(i))}function $8(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),sA(i,u)}function F8(i,o){var u=0;switch(i.tag){case 31:case 13:var x=i.stateNode,N=i.memoizedState;N!==null&&(u=N.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(a(314))}x!==null&&x.delete(o),sA(i,u)}function z8(i,o){return ct(i,o)}var zm=null,Yo=null,Ey=!1,Bm=!1,Ay=!1,Mi=0;function Ja(i){i!==Yo&&i.next===null&&(Yo===null?zm=Yo=i:Yo=Yo.next=i),Bm=!0,Ey||(Ey=!0,U8())}function Gd(i,o){if(!Ay&&Bm){Ay=!0;do for(var u=!1,x=zm;x!==null;){if(i!==0){var N=x.pendingLanes;if(N===0)var S=0;else{var O=x.suspendedLanes,L=x.pingedLanes;S=(1<<31-lt(42|i)+1)-1,S&=N&~(O&~L),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,cA(x,S))}else S=yt,S=Vf(x,x===Bt?S:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(S&3)===0||md(x,S)||(u=!0,cA(x,S));x=x.next}while(u);Ay=!1}}function B8(){iA()}function iA(){Bm=Ey=!1;var i=0;Mi!==0&&Z8()&&(i=Mi);for(var o=st(),u=null,x=zm;x!==null;){var N=x.next,S=lA(x,o);S===0?(x.next=null,u===null?zm=N:u.next=N,N===null&&(Yo=u)):(u=x,(i!==0||(S&3)!==0)&&(Bm=!0)),x=N}_n!==0&&_n!==5||Gd(i),Mi!==0&&(Mi=0)}function lA(i,o){for(var u=i.suspendedLanes,x=i.pingedLanes,N=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var O=31-lt(S),L=1<<O,K=N[O];K===-1?((L&u)===0||(L&x)!==0)&&(N[O]=hB(L,o)):K<=o&&(i.expiredLanes|=L),S&=~L}if(o=Bt,u=yt,u=Vf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,u===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&ln(x),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||md(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(x!==null&&ln(x),Ug(u)){case 2:case 8:u=mn;break;case 32:u=po;break;case 268435456:u=vl;break;default:u=po}return x=oA.bind(null,i),u=ct(u,x),i.callbackPriority=o,i.callbackNode=u,o}return x!==null&&x!==null&&ln(x),i.callbackPriority=2,i.callbackNode=null,2}function oA(i,o){if(_n!==0&&_n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Fm()&&i.callbackNode!==u)return null;var x=yt;return x=Vf(i,i===Bt?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(HE(i,x,o),lA(i,st()),i.callbackNode!=null&&i.callbackNode===u?oA.bind(null,i):null)}function cA(i,o){if(Fm())return null;HE(i,o,!0)}function U8(){e9(function(){(Tt&6)!==0?ct(gl,B8):iA()})}function Py(){if(Mi===0){var i=Mo;i===0&&(i=la,la<<=1,(la&261888)===0&&(la=256)),Mi=i}return Mi}function dA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yf(""+i)}function uA(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function H8(i,o,u,x,N){if(o==="submit"&&u&&u.stateNode===N){var S=dA((N[jr]||null).action),O=x.submitter;O&&(o=(o=O[jr]||null)?dA(o.formAction):O.getAttribute("formAction"),o!==null&&(S=o,O=null));var L=new Jf("action","action",null,x,N);i.push({event:L,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Mi!==0){var K=O?uA(N,O):new FormData(N);Gv(u,{pending:!0,data:K,method:N.method,action:S},null,K)}}else typeof S=="function"&&(L.preventDefault(),K=O?uA(N,O):new FormData(N),Gv(u,{pending:!0,data:K,method:N.method,action:S},S,K))},currentTarget:N}]})}}for(var Ty=0;Ty<uv.length;Ty++){var Oy=uv[Ty],q8=Oy.toLowerCase(),V8=Oy[0].toUpperCase()+Oy.slice(1);Ma(q8,"on"+V8)}Ma(U2,"onAnimationEnd"),Ma(H2,"onAnimationIteration"),Ma(q2,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(l8,"onTransitionRun"),Ma(o8,"onTransitionStart"),Ma(c8,"onTransitionCancel"),Ma(V2,"onTransitionEnd"),jo("onMouseEnter",["mouseout","mouseover"]),jo("onMouseLeave",["mouseout","mouseover"]),jo("onPointerEnter",["pointerout","pointerover"]),jo("onPointerLeave",["pointerout","pointerover"]),bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bl("onBeforeInput",["compositionend","keypress","textInput","paste"]),bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function fA(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var x=i[u],N=x.event;x=x.listeners;e:{var S=void 0;if(o)for(var O=x.length-1;0<=O;O--){var L=x[O],K=L.instance,fe=L.currentTarget;if(L=L.listener,K!==S&&N.isPropagationStopped())break e;S=L,N.currentTarget=fe;try{S(N)}catch(be){nm(be)}N.currentTarget=null,S=K}else for(O=0;O<x.length;O++){if(L=x[O],K=L.instance,fe=L.currentTarget,L=L.listener,K!==S&&N.isPropagationStopped())break e;S=L,N.currentTarget=fe;try{S(N)}catch(be){nm(be)}N.currentTarget=null,S=K}}}}function vt(i,o){var u=o[Hg];u===void 0&&(u=o[Hg]=new Set);var x=i+"__bubble";u.has(x)||(mA(o,i,2,!1),u.add(x))}function ky(i,o,u){var x=0;o&&(x|=4),mA(u,i,x,o)}var Um="_reactListening"+Math.random().toString(36).slice(2);function _y(i){if(!i[Um]){i[Um]=!0,i2.forEach(function(u){u!=="selectionchange"&&(K8.has(u)||ky(u,!1,i),ky(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Um]||(o[Um]=!0,ky("selectionchange",!1,o))}}function mA(i,o,u,x){switch(UA(o)){case 2:var N=j9;break;case 8:N=b9;break;default:N=Wy}u=N.bind(null,o,u,i),N=void 0,!Zg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(N=!0),x?N!==void 0?i.addEventListener(o,u,{capture:!0,passive:N}):i.addEventListener(o,u,!0):N!==void 0?i.addEventListener(o,u,{passive:N}):i.addEventListener(o,u,!1)}function Ry(i,o,u,x,N){var S=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var O=x.tag;if(O===3||O===4){var L=x.stateNode.containerInfo;if(L===N)break;if(O===4)for(O=x.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===N)return;O=O.return}for(;L!==null;){if(O=go(L),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){x=S=O;continue e}L=L.parentNode}}x=x.return}v2(function(){var fe=S,be=Qg(u),we=[];e:{var ve=K2.get(i);if(ve!==void 0){var ye=Jf,He=i;switch(i){case"keypress":if(Xf(u)===0)break e;case"keydown":case"keyup":ye=FB;break;case"focusin":He="focus",ye=nv;break;case"focusout":He="blur",ye=nv;break;case"beforeblur":case"afterblur":ye=nv;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=b2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=AB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=UB;break;case U2:case H2:case q2:ye=OB;break;case V2:ye=qB;break;case"scroll":case"scrollend":ye=CB;break;case"wheel":ye=KB;break;case"copy":case"cut":case"paste":ye=_B;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=w2;break;case"toggle":case"beforetoggle":ye=GB}var nt=(o&4)!==0,Ft=!nt&&(i==="scroll"||i==="scrollend"),le=nt?ve!==null?ve+"Capture":null:ve;nt=[];for(var Z=fe,ue;Z!==null;){var Ne=Z;if(ue=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ue===null||le===null||(Ne=gd(Z,le),Ne!=null&&nt.push(Qd(Z,Ne,ue))),Ft)break;Z=Z.return}0<nt.length&&(ve=new ye(ve,He,null,u,be),we.push({event:ve,listeners:nt}))}}if((o&7)===0){e:{if(ve=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",ve&&u!==Yg&&(He=u.relatedTarget||u.fromElement)&&(go(He)||He[xo]))break e;if((ye||ve)&&(ve=be.window===be?be:(ve=be.ownerDocument)?ve.defaultView||ve.parentWindow:window,ye?(He=u.relatedTarget||u.toElement,ye=fe,He=He?go(He):null,He!==null&&(Ft=l(He),nt=He.tag,He!==Ft||nt!==5&&nt!==27&&nt!==6)&&(He=null)):(ye=null,He=fe),ye!==He)){if(nt=b2,Ne="onMouseLeave",le="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(nt=w2,Ne="onPointerLeave",le="onPointerEnter",Z="pointer"),Ft=ye==null?ve:xd(ye),ue=He==null?ve:xd(He),ve=new nt(Ne,Z+"leave",ye,u,be),ve.target=Ft,ve.relatedTarget=ue,Ne=null,go(be)===fe&&(nt=new nt(le,Z+"enter",He,u,be),nt.target=ue,nt.relatedTarget=Ft,Ne=nt),Ft=Ne,ye&&He)t:{for(nt=W8,le=ye,Z=He,ue=0,Ne=le;Ne;Ne=nt(Ne))ue++;Ne=0;for(var et=Z;et;et=nt(et))Ne++;for(;0<ue-Ne;)le=nt(le),ue--;for(;0<Ne-ue;)Z=nt(Z),Ne--;for(;ue--;){if(le===Z||Z!==null&&le===Z.alternate){nt=le;break t}le=nt(le),Z=nt(Z)}nt=null}else nt=null;ye!==null&&hA(we,ve,ye,nt,!1),He!==null&&Ft!==null&&hA(we,Ft,He,nt,!0)}}e:{if(ve=fe?xd(fe):window,ye=ve.nodeName&&ve.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ve.type==="file")var Et=k2;else if(T2(ve))if(_2)Et=a8;else{Et=n8;var Ge=t8}else ye=ve.nodeName,!ye||ye.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?fe&&Gg(fe.elementType)&&(Et=k2):Et=r8;if(Et&&(Et=Et(i,fe))){O2(we,Et,u,be);break e}Ge&&Ge(i,ve,fe),i==="focusout"&&fe&&ve.type==="number"&&fe.memoizedProps.value!=null&&Wg(ve,"number",ve.value)}switch(Ge=fe?xd(fe):window,i){case"focusin":(T2(Ge)||Ge.contentEditable==="true")&&(Eo=Ge,ov=fe,Cd=null);break;case"focusout":Cd=ov=Eo=null;break;case"mousedown":cv=!0;break;case"contextmenu":case"mouseup":case"dragend":cv=!1,z2(we,u,be);break;case"selectionchange":if(i8)break;case"keydown":case"keyup":z2(we,u,be)}var ft;if(av)e:{switch(i){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else Co?A2(i,u)&&(jt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(jt="onCompositionStart");jt&&(S2&&u.locale!=="ko"&&(Co||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Co&&(ft=y2()):(vi=be,Jg="value"in vi?vi.value:vi.textContent,Co=!0)),Ge=Hm(fe,jt),0<Ge.length&&(jt=new N2(jt,i,null,u,be),we.push({event:jt,listeners:Ge}),ft?jt.data=ft:(ft=P2(u),ft!==null&&(jt.data=ft)))),(ft=QB?XB(i,u):ZB(i,u))&&(jt=Hm(fe,"onBeforeInput"),0<jt.length&&(Ge=new N2("onBeforeInput","beforeinput",null,u,be),we.push({event:Ge,listeners:jt}),Ge.data=ft)),H8(we,i,fe,u,be)}fA(we,o)})}function Qd(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Hm(i,o){for(var u=o+"Capture",x=[];i!==null;){var N=i,S=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||S===null||(N=gd(i,u),N!=null&&x.unshift(Qd(i,N,S)),N=gd(i,o),N!=null&&x.push(Qd(i,N,S))),i.tag===3)return x;i=i.return}return[]}function W8(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function hA(i,o,u,x,N){for(var S=o._reactName,O=[];u!==null&&u!==x;){var L=u,K=L.alternate,fe=L.stateNode;if(L=L.tag,K!==null&&K===x)break;L!==5&&L!==26&&L!==27||fe===null||(K=fe,N?(fe=gd(u,S),fe!=null&&O.unshift(Qd(u,fe,K))):N||(fe=gd(u,S),fe!=null&&O.push(Qd(u,fe,K)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var G8=/\r\n?/g,Y8=/\u0000|\uFFFD/g;function pA(i){return(typeof i=="string"?i:""+i).replace(G8,`
`).replace(Y8,"")}function xA(i,o){return o=pA(o),pA(i)===o}function $t(i,o,u,x,N,S){switch(u){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||No(i,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&No(i,""+x);break;case"className":Wf(i,"class",x);break;case"tabIndex":Wf(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Wf(i,u,x);break;case"style":x2(i,x,S);break;case"data":if(o!=="object"){Wf(i,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=Yf(""+x),i.setAttribute(u,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&$t(i,o,"name",N.name,N,null),$t(i,o,"formEncType",N.formEncType,N,null),$t(i,o,"formMethod",N.formMethod,N,null),$t(i,o,"formTarget",N.formTarget,N,null)):($t(i,o,"encType",N.encType,N,null),$t(i,o,"method",N.method,N,null),$t(i,o,"target",N.target,N,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=Yf(""+x),i.setAttribute(u,x);break;case"onClick":x!=null&&(i.onclick=bs);break;case"onScroll":x!=null&&vt("scroll",i);break;case"onScrollEnd":x!=null&&vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(u=x.__html,u!=null){if(N.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}u=Yf(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""+x):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":x===!0?i.setAttribute(u,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,x):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(u,x):i.removeAttribute(u);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(u):i.setAttribute(u,x);break;case"popover":vt("beforetoggle",i),vt("toggle",i),Kf(i,"popover",x);break;case"xlinkActuate":js(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":js(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":js(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":js(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":js(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":js(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":js(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":js(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":js(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Kf(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=wB.get(u)||u,Kf(i,u,x))}}function My(i,o,u,x,N,S){switch(u){case"style":x2(i,x,S);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(u=x.__html,u!=null){if(N.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof x=="string"?No(i,x):(typeof x=="number"||typeof x=="bigint")&&No(i,""+x);break;case"onScroll":x!=null&&vt("scroll",i);break;case"onScrollEnd":x!=null&&vt("scrollend",i);break;case"onClick":x!=null&&(i.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!l2.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(N=u.endsWith("Capture"),o=u.slice(2,N?u.length-7:void 0),S=i[jr]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(o,S,N),typeof x=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,x,N);break e}u in i?i[u]=x:x===!0?i.setAttribute(u,""):Kf(i,u,x)}}}function er(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",i),vt("load",i);var x=!1,N=!1,S;for(S in u)if(u.hasOwnProperty(S)){var O=u[S];if(O!=null)switch(S){case"src":x=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:$t(i,o,S,O,u,null)}}N&&$t(i,o,"srcSet",u.srcSet,u,null),x&&$t(i,o,"src",u.src,u,null);return;case"input":vt("invalid",i);var L=S=O=N=null,K=null,fe=null;for(x in u)if(u.hasOwnProperty(x)){var be=u[x];if(be!=null)switch(x){case"name":N=be;break;case"type":O=be;break;case"checked":K=be;break;case"defaultChecked":fe=be;break;case"value":S=be;break;case"defaultValue":L=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,o));break;default:$t(i,o,x,be,u,null)}}f2(i,S,L,K,fe,O,N,!1);return;case"select":vt("invalid",i),x=O=S=null;for(N in u)if(u.hasOwnProperty(N)&&(L=u[N],L!=null))switch(N){case"value":S=L;break;case"defaultValue":O=L;break;case"multiple":x=L;default:$t(i,o,N,L,u,null)}o=S,u=O,i.multiple=!!x,o!=null?bo(i,!!x,o,!1):u!=null&&bo(i,!!x,u,!0);return;case"textarea":vt("invalid",i),S=N=x=null;for(O in u)if(u.hasOwnProperty(O)&&(L=u[O],L!=null))switch(O){case"value":x=L;break;case"defaultValue":N=L;break;case"children":S=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(91));break;default:$t(i,o,O,L,u,null)}h2(i,x,N,S);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(x=u[K],x!=null))switch(K){case"selected":i.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:$t(i,o,K,x,u,null)}return;case"dialog":vt("beforetoggle",i),vt("toggle",i),vt("cancel",i),vt("close",i);break;case"iframe":case"object":vt("load",i);break;case"video":case"audio":for(x=0;x<Yd.length;x++)vt(Yd[x],i);break;case"image":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"embed":case"source":case"link":vt("error",i),vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in u)if(u.hasOwnProperty(fe)&&(x=u[fe],x!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:$t(i,o,fe,x,u,null)}return;default:if(Gg(o)){for(be in u)u.hasOwnProperty(be)&&(x=u[be],x!==void 0&&My(i,o,be,x,u,void 0));return}}for(L in u)u.hasOwnProperty(L)&&(x=u[L],x!=null&&$t(i,o,L,x,u,null))}function Q8(i,o,u,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,S=null,O=null,L=null,K=null,fe=null,be=null;for(ye in u){var we=u[ye];if(u.hasOwnProperty(ye)&&we!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":K=we;default:x.hasOwnProperty(ye)||$t(i,o,ye,null,x,we)}}for(var ve in x){var ye=x[ve];if(we=u[ve],x.hasOwnProperty(ve)&&(ye!=null||we!=null))switch(ve){case"type":S=ye;break;case"name":N=ye;break;case"checked":fe=ye;break;case"defaultChecked":be=ye;break;case"value":O=ye;break;case"defaultValue":L=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,o));break;default:ye!==we&&$t(i,o,ve,ye,x,we)}}Kg(i,O,L,K,fe,be,S,N);return;case"select":ye=O=L=ve=null;for(S in u)if(K=u[S],u.hasOwnProperty(S)&&K!=null)switch(S){case"value":break;case"multiple":ye=K;default:x.hasOwnProperty(S)||$t(i,o,S,null,x,K)}for(N in x)if(S=x[N],K=u[N],x.hasOwnProperty(N)&&(S!=null||K!=null))switch(N){case"value":ve=S;break;case"defaultValue":L=S;break;case"multiple":O=S;default:S!==K&&$t(i,o,N,S,x,K)}o=L,u=O,x=ye,ve!=null?bo(i,!!u,ve,!1):!!x!=!!u&&(o!=null?bo(i,!!u,o,!0):bo(i,!!u,u?[]:"",!1));return;case"textarea":ye=ve=null;for(L in u)if(N=u[L],u.hasOwnProperty(L)&&N!=null&&!x.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:$t(i,o,L,null,x,N)}for(O in x)if(N=x[O],S=u[O],x.hasOwnProperty(O)&&(N!=null||S!=null))switch(O){case"value":ve=N;break;case"defaultValue":ye=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:N!==S&&$t(i,o,O,N,x,S)}m2(i,ve,ye);return;case"option":for(var He in u)if(ve=u[He],u.hasOwnProperty(He)&&ve!=null&&!x.hasOwnProperty(He))switch(He){case"selected":i.selected=!1;break;default:$t(i,o,He,null,x,ve)}for(K in x)if(ve=x[K],ye=u[K],x.hasOwnProperty(K)&&ve!==ye&&(ve!=null||ye!=null))switch(K){case"selected":i.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:$t(i,o,K,ve,x,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in u)ve=u[nt],u.hasOwnProperty(nt)&&ve!=null&&!x.hasOwnProperty(nt)&&$t(i,o,nt,null,x,ve);for(fe in x)if(ve=x[fe],ye=u[fe],x.hasOwnProperty(fe)&&ve!==ye&&(ve!=null||ye!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(a(137,o));break;default:$t(i,o,fe,ve,x,ye)}return;default:if(Gg(o)){for(var Ft in u)ve=u[Ft],u.hasOwnProperty(Ft)&&ve!==void 0&&!x.hasOwnProperty(Ft)&&My(i,o,Ft,void 0,x,ve);for(be in x)ve=x[be],ye=u[be],!x.hasOwnProperty(be)||ve===ye||ve===void 0&&ye===void 0||My(i,o,be,ve,x,ye);return}}for(var le in u)ve=u[le],u.hasOwnProperty(le)&&ve!=null&&!x.hasOwnProperty(le)&&$t(i,o,le,null,x,ve);for(we in x)ve=x[we],ye=u[we],!x.hasOwnProperty(we)||ve===ye||ve==null&&ye==null||$t(i,o,we,ve,x,ye)}function gA(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X8(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),x=0;x<u.length;x++){var N=u[x],S=N.transferSize,O=N.initiatorType,L=N.duration;if(S&&L&&gA(O)){for(O=0,L=N.responseEnd,x+=1;x<u.length;x++){var K=u[x],fe=K.startTime;if(fe>L)break;var be=K.transferSize,we=K.initiatorType;be&&gA(we)&&(K=K.responseEnd,O+=be*(K<L?1:(L-fe)/(K-fe)))}if(--x,o+=8*(S+O)/(N.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dy=null,Ly=null;function qm(i){return i.nodeType===9?i:i.ownerDocument}function vA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yA(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Iy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var $y=null;function Z8(){var i=window.event;return i&&i.type==="popstate"?i===$y?!1:($y=i,!0):($y=null,!1)}var jA=typeof setTimeout=="function"?setTimeout:void 0,J8=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,e9=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(i){return bA.resolve(null).then(i).catch(t9)}:jA;function t9(i){setTimeout(function(){throw i})}function Di(i){return i==="head"}function NA(i,o){var u=o,x=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"||u==="/&"){if(x===0){i.removeChild(N),Jo(o);return}x--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")x++;else if(u==="html")Xd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Xd(u);for(var S=u.firstChild;S;){var O=S.nextSibling,L=S.nodeName;S[pd]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=O}}else u==="body"&&Xd(i.ownerDocument.body);u=N}while(u);Jo(o)}function wA(i,o){var u=i;i=0;do{var x=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=x}while(u)}function Fy(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Fy(u),qg(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function n9(i,o,u,x){for(;i.nodeType===1;){var N=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[pd])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==N.rel||i.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||i.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||i.getAttribute("title")!==(N.title==null?null:N.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(N.src==null?null:N.src)||i.getAttribute("type")!==(N.type==null?null:N.type)||i.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=N.name==null?null:""+N.name;if(N.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=xa(i.nextSibling),i===null)break}return null}function r9(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=xa(i.nextSibling),i===null))return null;return i}function SA(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=xa(i.nextSibling),i===null))return null;return i}function zy(i){return i.data==="$?"||i.data==="$~"}function By(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function a9(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var x=function(){o(),u.removeEventListener("DOMContentLoaded",x)};u.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function xa(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Uy=null;function CA(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return xa(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function EA(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function AA(i,o,u){switch(o=qm(u),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Xd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);qg(i)}var ga=new Map,PA=new Set;function Vm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Is=J.d;J.d={f:s9,r:i9,D:l9,C:o9,L:c9,m:d9,X:f9,S:u9,M:m9};function s9(){var i=Is.f(),o=Lm();return i||o}function i9(i){var o=vo(i);o!==null&&o.tag===5&&o.type==="form"?VC(o):Is.r(i)}var Qo=typeof document>"u"?null:document;function TA(i,o,u){var x=Qo;if(x&&typeof o=="string"&&o){var N=ca(o);N='link[rel="'+i+'"][href="'+N+'"]',typeof u=="string"&&(N+='[crossorigin="'+u+'"]'),PA.has(N)||(PA.add(N),i={rel:i,crossOrigin:u,href:o},x.querySelector(N)===null&&(o=x.createElement("link"),er(o,"link",i),Bn(o),x.head.appendChild(o)))}}function l9(i){Is.D(i),TA("dns-prefetch",i,null)}function o9(i,o){Is.C(i,o),TA("preconnect",i,o)}function c9(i,o,u){Is.L(i,o,u);var x=Qo;if(x&&i&&o){var N='link[rel="preload"][as="'+ca(o)+'"]';o==="image"&&u&&u.imageSrcSet?(N+='[imagesrcset="'+ca(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(N+='[imagesizes="'+ca(u.imageSizes)+'"]')):N+='[href="'+ca(i)+'"]';var S=N;switch(o){case"style":S=Xo(i);break;case"script":S=Zo(i)}ga.has(S)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ga.set(S,i),x.querySelector(N)!==null||o==="style"&&x.querySelector(Zd(S))||o==="script"&&x.querySelector(Jd(S))||(o=x.createElement("link"),er(o,"link",i),Bn(o),x.head.appendChild(o)))}}function d9(i,o){Is.m(i,o);var u=Qo;if(u&&i){var x=o&&typeof o.as=="string"?o.as:"script",N='link[rel="modulepreload"][as="'+ca(x)+'"][href="'+ca(i)+'"]',S=N;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Zo(i)}if(!ga.has(S)&&(i=g({rel:"modulepreload",href:i},o),ga.set(S,i),u.querySelector(N)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Jd(S)))return}x=u.createElement("link"),er(x,"link",i),Bn(x),u.head.appendChild(x)}}}function u9(i,o,u){Is.S(i,o,u);var x=Qo;if(x&&i){var N=yo(x).hoistableStyles,S=Xo(i);o=o||"default";var O=N.get(S);if(!O){var L={loading:0,preload:null};if(O=x.querySelector(Zd(S)))L.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ga.get(S))&&Hy(i,u);var K=O=x.createElement("link");Bn(K),er(K,"link",i),K._p=new Promise(function(fe,be){K.onload=fe,K.onerror=be}),K.addEventListener("load",function(){L.loading|=1}),K.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Km(O,o,x)}O={type:"stylesheet",instance:O,count:1,state:L},N.set(S,O)}}}function f9(i,o){Is.X(i,o);var u=Qo;if(u&&i){var x=yo(u).hoistableScripts,N=Zo(i),S=x.get(N);S||(S=u.querySelector(Jd(N)),S||(i=g({src:i,async:!0},o),(o=ga.get(N))&&qy(i,o),S=u.createElement("script"),Bn(S),er(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(N,S))}}function m9(i,o){Is.M(i,o);var u=Qo;if(u&&i){var x=yo(u).hoistableScripts,N=Zo(i),S=x.get(N);S||(S=u.querySelector(Jd(N)),S||(i=g({src:i,async:!0,type:"module"},o),(o=ga.get(N))&&qy(i,o),S=u.createElement("script"),Bn(S),er(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(N,S))}}function OA(i,o,u,x){var N=(N=$e.current)?Vm(N):null;if(!N)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Xo(u.href),u=yo(N).hoistableStyles,x=u.get(o),x||(x={type:"style",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Xo(u.href);var S=yo(N).hoistableStyles,O=S.get(i);if(O||(N=N.ownerDocument||N,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,O),(S=N.querySelector(Zd(i)))&&!S._p&&(O.instance=S,O.state.loading=5),ga.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ga.set(i,u),S||h9(N,i,u,O.state))),o&&x===null)throw Error(a(528,""));return O}if(o&&x!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Zo(u),u=yo(N).hoistableScripts,x=u.get(o),x||(x={type:"script",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Xo(i){return'href="'+ca(i)+'"'}function Zd(i){return'link[rel="stylesheet"]['+i+"]"}function kA(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function h9(i,o,u,x){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=i.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),er(o,"link",u),Bn(o),i.head.appendChild(o))}function Zo(i){return'[src="'+ca(i)+'"]'}function Jd(i){return"script[async]"+i}function _A(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var x=i.querySelector('style[data-href~="'+ca(u.href)+'"]');if(x)return o.instance=x,Bn(x),x;var N=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),Bn(x),er(x,"style",N),Km(x,u.precedence,i),o.instance=x;case"stylesheet":N=Xo(u.href);var S=i.querySelector(Zd(N));if(S)return o.state.loading|=4,o.instance=S,Bn(S),S;x=kA(u),(N=ga.get(N))&&Hy(x,N),S=(i.ownerDocument||i).createElement("link"),Bn(S);var O=S;return O._p=new Promise(function(L,K){O.onload=L,O.onerror=K}),er(S,"link",x),o.state.loading|=4,Km(S,u.precedence,i),o.instance=S;case"script":return S=Zo(u.src),(N=i.querySelector(Jd(S)))?(o.instance=N,Bn(N),N):(x=u,(N=ga.get(S))&&(x=g({},u),qy(x,N)),i=i.ownerDocument||i,N=i.createElement("script"),Bn(N),er(N,"link",x),i.head.appendChild(N),o.instance=N);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,Km(x,u.precedence,i));return o.instance}function Km(i,o,u){for(var x=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=x.length?x[x.length-1]:null,S=N,O=0;O<x.length;O++){var L=x[O];if(L.dataset.precedence===o)S=L;else if(S!==N)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Hy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function qy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Wm=null;function RA(i,o,u){if(Wm===null){var x=new Map,N=Wm=new Map;N.set(u,x)}else N=Wm,x=N.get(u),x||(x=new Map,N.set(u,x));if(x.has(i))return x;for(x.set(i,null),u=u.getElementsByTagName(i),N=0;N<u.length;N++){var S=u[N];if(!(S[pd]||S[Qn]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(o)||"";O=i+O;var L=x.get(O);L?L.push(S):x.set(O,[S])}}return x}function MA(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function p9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function DA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function x9(i,o,u,x){if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var N=Xo(x.href),S=o.querySelector(Zd(N));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Gm.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=S,Bn(S);return}S=o.ownerDocument||o,x=kA(x),(N=ga.get(N))&&Hy(x,N),S=S.createElement("link"),Bn(S);var O=S;O._p=new Promise(function(L,K){O.onload=L,O.onerror=K}),er(S,"link",x),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Gm.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Vy=0;function g9(i,o){return i.stylesheets&&i.count===0&&Qm(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var x=setTimeout(function(){if(i.stylesheets&&Qm(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&Vy===0&&(Vy=62500*X8());var N=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Qm(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Vy?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(x),clearTimeout(N)}}:null}function Gm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ym=null;function Qm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ym=new Map,o.forEach(v9,i),Ym=null,Gm.call(i))}function v9(i,o){if(!(o.state.loading&4)){var u=Ym.get(i);if(u)var x=u.get(null);else{u=new Map,Ym.set(i,u);for(var N=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<N.length;S++){var O=N[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),x=O)}x&&u.set(null,x)}N=o.instance,O=N.getAttribute("data-precedence"),S=u.get(O)||x,S===x&&u.set(null,N),u.set(O,N),this.count++,x=Gm.bind(this),N.addEventListener("load",x),N.addEventListener("error",x),S?S.parentNode.insertBefore(N,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(N,i.firstChild)),o.state.loading|=4}}var eu={$$typeof:A,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function y9(i,o,u,x,N,S,O,L,K){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zg(0),this.hiddenUpdates=zg(null),this.identifierPrefix=x,this.onUncaughtError=N,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function LA(i,o,u,x,N,S,O,L,K,fe,be,we){return i=new y9(i,o,u,O,K,fe,be,we,L),o=1,S===!0&&(o|=24),S=Fr(3,null,null,o),i.current=S,S.stateNode=i,o=Sv(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:x,isDehydrated:u,cache:o},Pv(S),i}function IA(i){return i?(i=To,i):To}function $A(i,o,u,x,N,S){N=IA(N),x.context===null?x.context=N:x.pendingContext=N,x=Si(o),x.payload={element:u},S=S===void 0?null:S,S!==null&&(x.callback=S),u=Ci(i,x,o),u!==null&&(Er(u,i,o),_d(u,i,o))}function FA(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Ky(i,o){FA(i,o),(i=i.alternate)&&FA(i,o)}function zA(i){if(i.tag===13||i.tag===31){var o=Cl(i,67108864);o!==null&&Er(o,i,67108864),Ky(i,67108864)}}function BA(i){if(i.tag===13||i.tag===31){var o=qr();o=Bg(o);var u=Cl(i,o);u!==null&&Er(u,i,o),Ky(i,o)}}var Xm=!0;function j9(i,o,u,x){var N=z.T;z.T=null;var S=J.p;try{J.p=2,Wy(i,o,u,x)}finally{J.p=S,z.T=N}}function b9(i,o,u,x){var N=z.T;z.T=null;var S=J.p;try{J.p=8,Wy(i,o,u,x)}finally{J.p=S,z.T=N}}function Wy(i,o,u,x){if(Xm){var N=Gy(x);if(N===null)Ry(i,o,x,Zm,u),HA(i,x);else if(w9(N,i,o,u,x))x.stopPropagation();else if(HA(i,x),o&4&&-1<N9.indexOf(i)){for(;N!==null;){var S=vo(N);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=jl(S.pendingLanes);if(O!==0){var L=S;for(L.pendingLanes|=2,L.entangledLanes|=2;O;){var K=1<<31-lt(O);L.entanglements[1]|=K,O&=~K}Ja(S),(Tt&6)===0&&(Mm=st()+500,Gd(0))}}break;case 31:case 13:L=Cl(S,2),L!==null&&Er(L,S,2),Lm(),Ky(S,2)}if(S=Gy(x),S===null&&Ry(i,o,x,Zm,u),S===N)break;N=S}N!==null&&x.stopPropagation()}else Ry(i,o,x,null,u)}}function Gy(i){return i=Qg(i),Yy(i)}var Zm=null;function Yy(i){if(Zm=null,i=go(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Zm=i,null}function UA(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xl()){case gl:return 2;case mn:return 8;case po:case Uf:return 32;case vl:return 268435456;default:return 32}default:return 32}}var Qy=!1,Li=null,Ii=null,$i=null,tu=new Map,nu=new Map,Fi=[],N9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HA(i,o){switch(i){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":tu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(o.pointerId)}}function ru(i,o,u,x,N,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:u,eventSystemFlags:x,nativeEvent:S,targetContainers:[N]},o!==null&&(o=vo(o),o!==null&&zA(o)),i):(i.eventSystemFlags|=x,o=i.targetContainers,N!==null&&o.indexOf(N)===-1&&o.push(N),i)}function w9(i,o,u,x,N){switch(o){case"focusin":return Li=ru(Li,i,o,u,x,N),!0;case"dragenter":return Ii=ru(Ii,i,o,u,x,N),!0;case"mouseover":return $i=ru($i,i,o,u,x,N),!0;case"pointerover":var S=N.pointerId;return tu.set(S,ru(tu.get(S)||null,i,o,u,x,N)),!0;case"gotpointercapture":return S=N.pointerId,nu.set(S,ru(nu.get(S)||null,i,o,u,x,N)),!0}return!1}function qA(i){var o=go(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,a2(i.priority,function(){BA(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,a2(i.priority,function(){BA(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Gy(i.nativeEvent);if(u===null){u=i.nativeEvent;var x=new u.constructor(u.type,u);Yg=x,u.target.dispatchEvent(x),Yg=null}else return o=vo(u),o!==null&&zA(o),i.blockedOn=u,!1;o.shift()}return!0}function VA(i,o,u){Jm(i)&&u.delete(o)}function S9(){Qy=!1,Li!==null&&Jm(Li)&&(Li=null),Ii!==null&&Jm(Ii)&&(Ii=null),$i!==null&&Jm($i)&&($i=null),tu.forEach(VA),nu.forEach(VA)}function eh(i,o){i.blockedOn===o&&(i.blockedOn=null,Qy||(Qy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,S9)))}var th=null;function KA(i){th!==i&&(th=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){th===i&&(th=null);for(var o=0;o<i.length;o+=3){var u=i[o],x=i[o+1],N=i[o+2];if(typeof x!="function"){if(Yy(x||u)===null)continue;break}var S=vo(u);S!==null&&(i.splice(o,3),o-=3,Gv(S,{pending:!0,data:N,method:u.method,action:x},x,N))}}))}function Jo(i){function o(K){return eh(K,i)}Li!==null&&eh(Li,i),Ii!==null&&eh(Ii,i),$i!==null&&eh($i,i),tu.forEach(o),nu.forEach(o);for(var u=0;u<Fi.length;u++){var x=Fi[u];x.blockedOn===i&&(x.blockedOn=null)}for(;0<Fi.length&&(u=Fi[0],u.blockedOn===null);)qA(u),u.blockedOn===null&&Fi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(x=0;x<u.length;x+=3){var N=u[x],S=u[x+1],O=N[jr]||null;if(typeof S=="function")O||KA(u);else if(O){var L=null;if(S&&S.hasAttribute("formAction")){if(N=S,O=S[jr]||null)L=O.formAction;else if(Yy(N)!==null)continue}else L=O.action;typeof L=="function"?u[x+1]=L:(u.splice(x,3),x-=3),KA(u)}}}function WA(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return N=O})},focusReset:"manual",scroll:"manual"})}function o(){N!==null&&(N(),N=null),x||setTimeout(u,20)}function u(){if(!x&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,N=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){x=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),N!==null&&(N(),N=null)}}}function Xy(i){this._internalRoot=i}nh.prototype.render=Xy.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,x=qr();$A(u,x,i,o,null,null)},nh.prototype.unmount=Xy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;$A(i.current,2,null,i,null,null),Lm(),o[xo]=null}};function nh(i){this._internalRoot=i}nh.prototype.unstable_scheduleHydration=function(i){if(i){var o=r2();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Fi.length&&o!==0&&o<Fi[u].priority;u++);Fi.splice(u,0,i),u===0&&qA(i)}};var GA=t.version;if(GA!=="19.2.0")throw Error(a(527,GA,"19.2.0"));J.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var C9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{yl=rh.inject(C9),F=rh}catch{}}return su.createRoot=function(i,o){if(!s(i))throw Error(a(299));var u=!1,x="",N=tE,S=nE,O=rE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(N=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=LA(i,1,!1,null,null,u,x,null,N,S,O,WA),i[xo]=o.current,_y(i),new Xy(o)},su.hydrateRoot=function(i,o,u){if(!s(i))throw Error(a(299));var x=!1,N="",S=tE,O=nE,L=rE,K=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=LA(i,1,!0,o,u??null,x,N,K,S,O,L,WA),o.context=IA(null),u=o.current,x=qr(),x=Bg(x),N=Si(x),N.callback=null,Ci(u,N,x),u=x,o.current.lanes=u,hd(o,u),Ja(o),i[xo]=o.current,_y(i),new nh(o)},su.version="19.2.0",su}var aP;function D9(){if(aP)return Jy.exports;aP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jy.exports=M9(),Jy.exports}var L9=D9();function I9(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,s,l,c=[],d="",f=e.split("/");for(f[0]||f.shift();s=f.shift();)r=s[0],r==="*"?(c.push(r),d+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=s.indexOf("?",1),l=s.indexOf(".",1),c.push(s.substring(1,~a?a:~l?l:s.length)),d+=~a&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~a?"?":"")+"\\"+s.substring(l))):d+="/"+s;return{keys:c,pattern:new RegExp("^"+d+(t?"(?=$|/)":"/?$"),"i")}}var p=qc();const gn=ms(p),ef=A9({__proto__:null,default:gn},[p]);var a0={exports:{}},s0={};var sP;function $9(){if(sP)return s0;sP=1;var e=qc();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,v){var b=v(),w=a({inst:{value:b,getSnapshot:v}}),y=w[0].inst,j=w[1];return l(function(){y.value=b,y.getSnapshot=v,f(y)&&j({inst:y})},[g,b,v]),s(function(){return f(y)&&j({inst:y}),g(function(){f(y)&&j({inst:y})})},[g]),c(b),b}function f(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!r(g,b)}catch{return!0}}function m(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return s0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,s0}var iP;function oR(){return iP||(iP=1,a0.exports=$9()),a0.exports}var cR=oR();const F9=ef.useInsertionEffect,z9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dR=z9?p.useLayoutEffect:p.useEffect,B9=F9||dR,VN=e=>{const t=p.useRef([e,(...r)=>t[0](...r)]).current;return B9(()=>{t[0]=e}),t[1]},U9="popstate",KN="pushState",WN="replaceState",H9="hashchange",lP=[U9,KN,WN,H9],q9=e=>{for(const t of lP)addEventListener(t,e);return()=>{for(const t of lP)removeEventListener(t,e)}},uR=(e,t)=>cR.useSyncExternalStore(q9,e,t),V9=()=>location.search,K9=({ssrSearch:e=""}={})=>uR(V9,()=>e),oP=()=>location.pathname,W9=({ssrPath:e}={})=>uR(oP,e?()=>e:oP),G9=(e,{replace:t=!1,state:r=null}={})=>history[t?WN:KN](r,"",e),Y9=(e={})=>[W9(e),G9],cP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[cP]>"u"){for(const e of[KN,WN]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,cP,{value:!0})}const Q9=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",fR=(e="")=>e==="/"?"":e,X9=(e,t)=>e[0]==="~"?e.slice(1):fR(t)+e,Z9=(e="",t)=>Q9(ub(fR(e)),ub(t)),J9=e=>e[0]==="?"?e.slice(1):e,ub=e=>{try{return decodeURI(e)}catch{return e}},eU=e=>ub(J9(e)),mR={hook:Y9,searchHook:K9,parser:I9,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},hR=p.createContext(mR),dl=()=>p.useContext(hR),pR={},xR=p.createContext(pR),tf=()=>p.useContext(xR),nf=e=>{const[t,r]=e.hook(e);return[Z9(e.base,t),VN((a,s)=>r(X9(a,e.base),s))]},Ka=()=>nf(dl()),tU=()=>{const e=dl();return eU(e.searchHook(e))},GN=(e,t,r,a)=>{const{pattern:s,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),c=s.exec(r)||[],[d,...f]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((g,v)=>[g,f[v]])):c.groups;let h={...f};return m&&Object.assign(h,m),h})(),...a?[d]:[]]:[!1,null]},nU=e=>GN(dl().parser,e,Ka()[0]),rU=({children:e,...t})=>{const r=dl(),a=t.hook?mR:r;let s=a;const[l,c]=t.ssrPath?.split("?")??[];c&&(t.ssrSearch=c,t.ssrPath=l),t.hrefs=t.hrefs??t.hook?.hrefs;let d=p.useRef({}),f=d.current,m=f;for(let h in a){const g=h==="base"?a[h]+(t[h]||""):t[h]||a[h];f===m&&g!==m[h]&&(d.current=m={...m}),m[h]=g,(g!==a[h]||g!==s[h])&&(s=m)}return p.createElement(hR.Provider,{value:s,children:e})},dP=({children:e,component:t},r)=>t?p.createElement(t,{params:r}):typeof e=="function"?e(r):e,aU=e=>{let t=p.useRef(pR);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([a,s])=>s!==r[a])?e:r},ut=({path:e,nest:t,match:r,...a})=>{const s=dl(),[l]=nf(s),[c,d,f]=r??GN(s.parser,e,l,t),m=aU({...tf(),...d});if(!c)return null;const h=f?p.createElement(rU,{base:f},dP(a,m)):dP(a,m);return p.createElement(xR.Provider,{value:m,children:h})},Qs=p.forwardRef((e,t)=>{const r=dl(),[a,s]=nf(r),{to:l="",href:c=l,onClick:d,asChild:f,children:m,className:h,replace:g,state:v,...b}=e,w=VN(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(d?.(j),j.defaultPrevented||(j.preventDefault(),s(c,e)))}),y=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return f&&p.isValidElement(m)?p.cloneElement(m,{onClick:w,href:y}):p.createElement("a",{...b,onClick:w,href:y,className:h?.call?h(a===c):h,children:m,ref:t})}),gR=e=>Array.isArray(e)?e.flatMap(t=>gR(t&&t.type===p.Fragment?t.props.children:t)):[e],sU=({children:e,location:t})=>{const r=dl(),[a]=nf(r);for(const s of gR(e)){let l=0;if(p.isValidElement(s)&&(l=GN(r.parser,s.props.path,t||a,s.props.nest))[0])return p.cloneElement(s,{match:l})}return null},iU=e=>{const{to:t,href:r=t}=e,a=dl(),[,s]=nf(a),l=VN(()=>s(t||r,e)),{ssrContext:c}=a;return dR(()=>{l()},[]),c&&(c.redirectTo=t),null};var Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lU={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},oU=class{#e=lU;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ul=new oU;function cU(e){setTimeout(e,0)}var Ql=typeof window>"u"||"Deno"in globalThis;function fr(){}function dU(e,t){return typeof e=="function"?e(t):e}function fb(e){return typeof e=="number"&&e>=0&&e!==1/0}function vR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gi(e,t){return typeof e=="function"?e(t):e}function wa(e,t){return typeof e=="function"?e(t):e}function uP(e,t){const{type:r="all",exact:a,fetchStatus:s,predicate:l,queryKey:c,stale:d}=e;if(c){if(a){if(t.queryHash!==YN(c,t.options))return!1}else if(!Pu(t.queryKey,c))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||l&&!l(t))}function fP(e,t){const{exact:r,status:a,predicate:s,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Xl(t.options.mutationKey)!==Xl(l))return!1}else if(!Pu(t.options.mutationKey,l))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function YN(e,t){return(t?.queryKeyHashFn||Xl)(e)}function Xl(e){return JSON.stringify(e,(t,r)=>mb(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function Pu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Pu(e[r],t[r])):!1}var uU=Object.prototype.hasOwnProperty;function yR(e,t){if(e===t)return e;const r=mP(e)&&mP(t);if(!r&&!(mb(e)&&mb(t)))return t;const s=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),c=l.length,d=r?new Array(c):{};let f=0;for(let m=0;m<c;m++){const h=r?m:l[m],g=e[h],v=t[h];if(g===v){d[h]=g,(r?m<s:uU.call(e,h))&&f++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){d[h]=v;continue}const b=yR(g,v);d[h]=b,b===g&&f++}return s===c&&f===s?e:d}function rp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function mP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mb(e){if(!hP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!hP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hP(e){return Object.prototype.toString.call(e)==="[object Object]"}function fU(e){return new Promise(t=>{Ul.setTimeout(t,e)})}function hb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?yR(e,t):t}function mU(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function hU(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var QN=Symbol();function jR(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===QN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function bR(e,t){return typeof e=="function"?e(...t):!!e}var pU=class extends Vc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ql&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},XN=new pU;function pb(){let e,t;const r=new Promise((s,l)=>{e=s,t=l});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),t(s)},r}var xU=cU;function gU(){let e=[],t=0,r=d=>{d()},a=d=>{d()},s=xU;const l=d=>{t?e.push(d):s(()=>{r(d)})},c=()=>{const d=e;e=[],d.length&&s(()=>{a(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{s=d}}}var Dn=gU(),vU=class extends Vc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ql&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},ap=new vU;function yU(e){return Math.min(1e3*2**e,3e4)}function NR(e){return(e??"online")==="online"?ap.isOnline():!0}var xb=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function wR(e){let t=!1,r=0,a;const s=pb(),l=()=>s.status!=="pending",c=y=>{if(!l()){const j=new xb(y);v(j),e.onCancel?.(j)}},d=()=>{t=!0},f=()=>{t=!1},m=()=>XN.isFocused()&&(e.networkMode==="always"||ap.isOnline())&&e.canRun(),h=()=>NR(e.networkMode)&&e.canRun(),g=y=>{l()||(a?.(),s.resolve(y))},v=y=>{l()||(a?.(),s.reject(y))},b=()=>new Promise(y=>{a=j=>{(l()||m())&&y(j)},e.onPause?.()}).then(()=>{a=void 0,l()||e.onContinue?.()}),w=()=>{if(l())return;let y;const j=r===0?e.initialPromise:void 0;try{y=j??e.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(g).catch(C=>{if(l())return;const E=e.retry??(Ql?0:3),A=e.retryDelay??yU,T=typeof A=="function"?A(r,C):A,k=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(t||!k){v(C);return}r++,e.onFail?.(r,C),fU(T).then(()=>m()?void 0:b()).then(()=>{t?v(C):w()})})};return{promise:s,status:()=>s.status,cancel:c,continue:()=>(a?.(),s),cancelRetry:d,continueRetry:f,canStart:h,start:()=>(h()?w():b().then(w),s)}}var SR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fb(this.gcTime)&&(this.#e=Ul.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ql?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ul.clearTimeout(this.#e),this.#e=void 0)}},jU=class extends SR{#e;#t;#n;#a;#r;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=xP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=xP(this.options);t.data!==void 0&&(this.setState(pP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=hb(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(fr).catch(fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>wa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===QN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},s=()=>{const d=jR(this.options,t),m=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(h),h})();return this.#l=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return a(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=wR({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof xb&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof xb){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...CR(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...pP(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Dn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function CR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var bU=class extends Vc{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#l=pb(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#i;#l;#s;#p;#f;#m;#c;#d;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),gP(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#b(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!rp(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&vP(this.#t,r,this.options,t)&&this.#u(),this.updateResult(),a&&(this.#t!==r||wa(this.options.enabled,this.#t)!==wa(t.enabled,this.#t)||Gi(this.options.staleTime,this.#t)!==Gi(t.staleTime,this.#t))&&this.#x();const s=this.#g();a&&(this.#t!==r||wa(this.options.enabled,this.#t)!==wa(t.enabled,this.#t)||s!==this.#o)&&this.#v(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return wU(this,r)&&(this.#a=r,this.#i=this.options,this.#r=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#u(e){this.#N();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(fr)),t}#x(){this.#j();const e=Gi(this.options.staleTime,this.#t);if(Ql||this.#a.isStale||!fb(e))return;const r=vR(this.#a.dataUpdatedAt,e)+1;this.#c=Ul.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#o=e,!(Ql||wa(this.options.enabled,this.#t)===!1||!fb(this.#o)||this.#o===0)&&(this.#d=Ul.setInterval(()=>{(this.options.refetchIntervalInBackground||XN.isFocused())&&this.#u()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#j(){this.#c&&(Ul.clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(Ul.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const r=this.#t,a=this.options,s=this.#a,l=this.#r,c=this.#i,f=e!==r?e.state:this.#n,{state:m}=e;let h={...m},g=!1,v;if(t._optimisticResults){const M=this.hasListeners(),X=!M&&gP(e,t),I=M&&vP(e,r,t,a);(X||I)&&(h={...h,...CR(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:w,status:y}=h;v=h.data;let j=!1;if(t.placeholderData!==void 0&&v===void 0&&y==="pending"){let M;s?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(M=s.data,j=!0):M=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,M!==void 0&&(y="success",v=hb(s?.data,M,t),g=!0)}if(t.select&&v!==void 0&&!j)if(s&&v===l?.data&&t.select===this.#p)v=this.#f;else try{this.#p=t.select,v=t.select(v),v=hb(s?.data,v,t),this.#f=v,this.#s=null}catch(M){this.#s=M}this.#s&&(b=this.#s,v=this.#f,w=Date.now(),y="error");const C=h.fetchStatus==="fetching",E=y==="pending",A=y==="error",T=E&&C,k=v!==void 0,_={status:y,fetchStatus:h.fetchStatus,isPending:E,isSuccess:y==="success",isError:A,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:A&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&k,isStale:ZN(e,t),refetch:this.refetch,promise:this.#l,isEnabled:wa(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=R=>{_.status==="error"?R.reject(_.error):_.data!==void 0&&R.resolve(_.data)},X=()=>{const R=this.#l=_.promise=pb();M(R)},I=this.#l;switch(I.status){case"pending":e.queryHash===r.queryHash&&M(I);break;case"fulfilled":(_.status==="error"||_.data!==I.value)&&X();break;case"rejected":(_.status!=="error"||_.error!==I.reason)&&X();break}}return _}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#i=this.options,this.#r.data!==void 0&&(this.#m=this.#t),rp(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!this.#h.size)return!0;const l=new Set(s??this.#h);return this.options.throwOnError&&l.add("error"),Object.keys(this.#a).some(c=>{const d=c;return this.#a[d]!==e[d]&&l.has(d)})};this.#w({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#w(e){Dn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function NU(e,t){return wa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gP(e,t){return NU(e,t)||e.state.data!==void 0&&gb(e,t,t.refetchOnMount)}function gb(e,t,r){if(wa(t.enabled,e)!==!1&&Gi(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&ZN(e,t)}return!1}function vP(e,t,r,a){return(e!==t||wa(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ZN(e,r)}function ZN(e,t){return wa(t.enabled,e)!==!1&&e.isStaleByTime(Gi(t.staleTime,e))}function wU(e,t){return!rp(e.getCurrentResult(),t)}function yP(e){return{onFetch:(t,r)=>{const a=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let h=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},v=jR(t.options,t.fetchOptions),b=async(w,y,j)=>{if(h)return Promise.reject();if(y==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:y,direction:j?"backward":"forward",meta:t.options.meta};return g(P),P})(),A=await v(E),{maxPages:T}=t.options,k=j?hU:mU;return{pages:k(w.pages,A,T),pageParams:k(w.pageParams,y,T)}};if(s&&l.length){const w=s==="backward",y=w?SU:jP,j={pages:l,pageParams:c},C=y(a,j);d=await b(j,C,w)}else{const w=e??l.length;do{const y=f===0?c[0]??a.initialPageParam:jP(a,d);if(f>0&&y==null)break;d=await b(d,y),f++}while(f<w)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function jP(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function SU(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var CU=class extends SR{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||ER(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=wR({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",s=!this.#a.canStart();try{if(a)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:s})}const l=await this.#a.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#n.config.onError?.(l,e,this.state.context,this,r),await this.options.onError?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,e,this.state.context,r),l}finally{this.#r({type:"error",error:l})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Dn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function ER(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var EU=class extends Vc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const a=new CU({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#e.add(e);const t=ah(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=ah(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ah(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(s=>s.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=ah(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Dn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>fP(t,r))}findAll(e={}){return this.getAll().filter(t=>fP(e,t))}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Dn.batch(()=>Promise.all(e.map(t=>t.continue().catch(fr))))}};function ah(e){return e.options.scope?.id}var AU=class extends Vc{#e;#t=void 0;#n;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),rp(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Xl(r.mutationKey)!==Xl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(t,r){return this.#a=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??ER();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Dn.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,a,s),this.#a.onSettled?.(t.data,null,r,a,s)):t?.type==="error"&&(this.#a.onError?.(t.error,r,a,s),this.#a.onSettled?.(void 0,t.error,r,a,s))}this.listeners.forEach(r=>{r(this.#t)})})}},PU=class extends Vc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const a=t.queryKey,s=t.queryHash??YN(a,t);let l=this.get(s);return l||(l=new jU({client:e,queryKey:a,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>uP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>uP(e,r)):t}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},TU=class{#e;#t;#n;#a;#r;#i;#l;#s;constructor(e={}){this.#e=e.queryCache||new PU,this.#t=e.mutationCache||new EU,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=XN.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ap.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Gi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(a.queryHash)?.state.data,c=dU(t,l);if(c!==void 0)return this.#e.build(this,a).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return Dn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Dn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Dn.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Dn.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(fr).catch(fr)}invalidateQueries(e,t={}){return Dn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Dn.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let l=s.fetch(void 0,r);return r.throwOnError||(l=l.catch(fr)),s.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(fr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Gi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fr).catch(fr)}fetchInfiniteQuery(e){return e.behavior=yP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fr).catch(fr)}ensureInfiniteQueryData(e){return e.behavior=yP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ap.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(Xl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(a=>{Pu(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Xl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(a=>{Pu(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=YN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===QN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},AR=p.createContext(void 0),PR=e=>{const t=p.useContext(AR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},OU=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(AR.Provider,{value:e,children:t})),TR=p.createContext(!1),kU=()=>p.useContext(TR);TR.Provider;function _U(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var RU=p.createContext(_U()),MU=()=>p.useContext(RU),DU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},LU=e=>{p.useEffect(()=>{e.clearReset()},[e])},IU=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||bR(r,[e.error,a])),$U=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>r(a(...s)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},FU=(e,t)=>e.isLoading&&e.isFetching&&!t,zU=(e,t)=>e?.suspense&&t.isPending,bP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function BU(e,t,r){const a=kU(),s=MU(),l=PR(),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=a?"isRestoring":"optimistic",$U(c),DU(c,s),LU(s);const d=!l.getQueryCache().get(c.queryHash),[f]=p.useState(()=>new t(l,c)),m=f.getOptimisticResult(c),h=!a&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(g=>{const v=h?f.subscribe(Dn.batchCalls(g)):fr;return f.updateResult(),v},[f,h]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),p.useEffect(()=>{f.setOptions(c)},[c,f]),zU(c,m))throw bP(c,f,s);if(IU({result:m,errorResetBoundary:s,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!Ql&&FU(m,a)&&(d?bP(c,f,s):l.getQueryCache().get(c.queryHash)?.promise)?.catch(fr).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?m:f.trackResult(m)}function ke(e,t){return BU(e,bU)}function Oe(e,t){const r=PR(),[a]=p.useState(()=>new AU(r,e));p.useEffect(()=>{a.setOptions(e)},[a,e]);const s=p.useSyncExternalStore(p.useCallback(c=>a.subscribe(Dn.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=p.useCallback((c,d)=>{a.mutate(c,d).catch(fr)},[a]);if(s.error&&bR(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}const ju="";async function OR(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function De(e,t,r){const a=t.startsWith("/")?`${ju}${t}`:t,s=await fetch(a,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await OR(s),s}const UU=({on401:e})=>async({queryKey:t})=>{const r=t.join("/"),a=r.startsWith("/")?`${ju}${r}`:r,s=await fetch(a,{credentials:"include"});return await OR(s),await s.json()},_e=new TU({defaultOptions:{queries:{queryFn:UU({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),HU=1,qU=1e6;let i0=0;function VU(){return i0=(i0+1)%Number.MAX_SAFE_INTEGER,i0.toString()}const l0=new Map,NP=e=>{if(l0.has(e))return;const t=setTimeout(()=>{l0.delete(e),bu({type:"REMOVE_TOAST",toastId:e})},qU);l0.set(e,t)},KU=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HU)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?NP(r):e.toasts.forEach(a=>{NP(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Fh=[];let zh={toasts:[]};function bu(e){zh=KU(zh,e),Fh.forEach(t=>{t(zh)})}function WU({...e}){const t=VU(),r=s=>bu({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>bu({type:"DISMISS_TOAST",toastId:t});return bu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:r}}function Zt(){const[e,t]=p.useState(zh);return p.useEffect(()=>(Fh.push(t),()=>{const r=Fh.indexOf(t);r>-1&&Fh.splice(r,1)}),[e]),{...e,toast:WU,dismiss:r=>bu({type:"DISMISS_TOAST",toastId:r})}}var hs=lR();const GU=ms(hs);function ze(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function wP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jn(...e){return t=>{let r=!1;const a=e.map(s=>{const l=wP(s,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let s=0;s<a.length;s++){const l=a[s];typeof l=="function"?l():wP(e[s],null)}}}}function it(...e){return p.useCallback(jn(...e),e)}function YU(e,t){const r=p.createContext(t),a=l=>{const{children:c,...d}=l,f=p.useMemo(()=>d,Object.values(d));return n.jsx(r.Provider,{value:f,children:c})};a.displayName=e+"Provider";function s(l){const c=p.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,s]}function gr(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c),f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:b,...w}=g,y=v?.[e]?.[f]||d,j=p.useMemo(()=>w,Object.values(w));return n.jsx(y.Provider,{value:j,children:b})};m.displayName=l+"Provider";function h(g,v){const b=v?.[e]?.[f]||d,w=p.useContext(b);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,QU(s,...t)]}function QU(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function SP(e){const t=XU(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(JU);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function XU(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=tH(s),d=eH(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZU=Symbol("radix.slottable");function JU(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZU}function eH(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function tH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rf(e){const t=e+"CollectionProvider",[r,a]=gr(t),[s,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=y=>{const{scope:j,children:C}=y,E=gn.useRef(null),A=gn.useRef(new Map).current;return n.jsx(s,{scope:j,itemMap:A,collectionRef:E,children:C})};c.displayName=t;const d=e+"CollectionSlot",f=SP(d),m=gn.forwardRef((y,j)=>{const{scope:C,children:E}=y,A=l(d,C),T=it(j,A.collectionRef);return n.jsx(f,{ref:T,children:E})});m.displayName=d;const h=e+"CollectionItemSlot",g="data-radix-collection-item",v=SP(h),b=gn.forwardRef((y,j)=>{const{scope:C,children:E,...A}=y,T=gn.useRef(null),k=it(j,T),P=l(h,C);return gn.useEffect(()=>(P.itemMap.set(T,{ref:T,...A}),()=>void P.itemMap.delete(T))),n.jsx(v,{[g]:"",ref:k,children:E})});b.displayName=h;function w(y){const j=l(e+"CollectionConsumer",y);return gn.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const A=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((P,_)=>A.indexOf(P.ref.current)-A.indexOf(_.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:m,ItemSlot:b},w,a]}function nH(e){const t=rH(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(sH);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function rH(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=lH(s),d=iH(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aH=Symbol("radix.slottable");function sH(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aH}function iH(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function lH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kR=oH.reduce((e,t)=>{const r=nH(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function cH(e,t){e&&hs.flushSync(()=>e.dispatchEvent(t))}function Pn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>t.current?.(...r),[])}function dH(e,t=globalThis?.document){const r=Pn(e);p.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var uH="DismissableLayer",vb="dismissableLayer.update",fH="dismissableLayer.pointerDownOutside",mH="dismissableLayer.focusOutside",CP,_R=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),af=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,m=p.useContext(_R),[h,g]=p.useState(null),v=h?.ownerDocument??globalThis?.document,[,b]=p.useState({}),w=it(t,_=>g(_)),y=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(j),E=h?y.indexOf(h):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,T=E>=C,k=pH(_=>{const M=_.target,X=[...m.branches].some(I=>I.contains(M));!T||X||(s?.(_),c?.(_),_.defaultPrevented||d?.())},v),P=xH(_=>{const M=_.target;[...m.branches].some(I=>I.contains(M))||(l?.(_),c?.(_),_.defaultPrevented||d?.())},v);return dH(_=>{E===m.layers.size-1&&(a?.(_),!_.defaultPrevented&&d&&(_.preventDefault(),d()))},v),p.useEffect(()=>{if(h)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(CP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),EP(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=CP)}},[h,v,r,m]),p.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),EP())},[h,m]),p.useEffect(()=>{const _=()=>b({});return document.addEventListener(vb,_),()=>document.removeEventListener(vb,_)},[]),n.jsx(kR.div,{...f,ref:w,style:{pointerEvents:A?T?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,P.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,k.onPointerDownCapture)})});af.displayName=uH;var hH="DismissableLayerBranch",RR=p.forwardRef((e,t)=>{const r=p.useContext(_R),a=p.useRef(null),s=it(t,a);return p.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),n.jsx(kR.div,{...e,ref:s})});RR.displayName=hH;function pH(e,t=globalThis?.document){const r=Pn(e),a=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let f=function(){MR(fH,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);a.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function xH(e,t=globalThis?.document){const r=Pn(e),a=p.useRef(!1);return p.useEffect(()=>{const s=l=>{l.target&&!a.current&&MR(mH,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function EP(){const e=new CustomEvent(vb);document.dispatchEvent(e)}function MR(e,t,r,{discrete:a}){const s=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?cH(s,l):s.dispatchEvent(l)}var gH=af,vH=RR;function yH(e){const t=jH(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(NH);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function jH(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=SH(s),d=wH(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bH=Symbol("radix.slottable");function NH(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bH}function wH(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function SH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var CH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EH=CH.reduce((e,t)=>{const r=yH(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),un=globalThis?.document?p.useLayoutEffect:()=>{},AH="Portal",gx=p.forwardRef((e,t)=>{const{container:r,...a}=e,[s,l]=p.useState(!1);un(()=>l(!0),[]);const c=r||s&&globalThis?.document?.body;return c?GU.createPortal(n.jsx(EH.div,{...a,ref:t}),c):null});gx.displayName=AH;function PH(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var aa=e=>{const{present:t,children:r}=e,a=TH(t),s=typeof r=="function"?r({present:a.isPresent}):p.Children.only(r),l=it(a.ref,OH(s));return typeof r=="function"||a.isPresent?p.cloneElement(s,{ref:l}):null};aa.displayName="Presence";function TH(e){const[t,r]=p.useState(),a=p.useRef(null),s=p.useRef(e),l=p.useRef("none"),c=e?"mounted":"unmounted",[d,f]=PH(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=sh(a.current);l.current=d==="mounted"?m:"none"},[d]),un(()=>{const m=a.current,h=s.current;if(h!==e){const v=l.current,b=sh(m);e?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(h&&v!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),un(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,g=b=>{const y=sh(a.current).includes(CSS.escape(b.animationName));if(b.target===t&&y&&(f("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},v=b=>{b.target===t&&(l.current=sh(a.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{a.current=m?getComputedStyle(m):null,r(m)},[])}}function sh(e){return e?.animationName||"none"}function OH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function kH(e){const t=_H(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(MH);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function _H(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=LH(s),d=DH(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RH=Symbol("radix.slottable");function MH(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RH}function DH(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function LH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var IH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kc=IH.reduce((e,t)=>{const r=kH(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function $H(e,t){e&&hs.flushSync(()=>e.dispatchEvent(t))}var FH=ef[" useInsertionEffect ".trim().toString()]||un;function ta({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,l,c]=zH({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:s;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const g=h.current;g!==d&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=d},[d,a])}const m=p.useCallback(h=>{if(d){const g=BH(h)?h(e):h;g!==e&&c.current?.(g)}else l(h)},[d,e,l,c]);return[f,m]}function zH({defaultProp:e,onChange:t}){const[r,a]=p.useState(e),s=p.useRef(r),l=p.useRef(t);return FH(()=>{l.current=t},[t]),p.useEffect(()=>{s.current!==r&&(l.current?.(r),s.current=r)},[r,s]),[r,a,l]}function BH(e){return typeof e=="function"}function UH(e){const t=HH(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(VH);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function HH(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=WH(s),d=KH(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qH=Symbol("radix.slottable");function VH(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qH}function KH(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function WH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var GH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],YH=GH.reduce((e,t)=>{const r=UH(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),DR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QH="VisuallyHidden",vx=p.forwardRef((e,t)=>n.jsx(YH.span,{...e,ref:t,style:{...DR,...e.style}}));vx.displayName=QH;var XH=vx,JN="ToastProvider",[ew,ZH,JH]=rf("Toast"),[LR]=gr("Toast",[JH]),[e7,yx]=LR(JN),IR=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:l=50,children:c}=e,[d,f]=p.useState(null),[m,h]=p.useState(0),g=p.useRef(!1),v=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${JN}\`. Expected non-empty \`string\`.`),n.jsx(ew.Provider,{scope:t,children:n.jsx(e7,{scope:t,label:r,duration:a,swipeDirection:s,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:f,onToastAdd:p.useCallback(()=>h(b=>b+1),[]),onToastRemove:p.useCallback(()=>h(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:c})})};IR.displayName=JN;var $R="ToastViewport",t7=["F8"],yb="toast.viewportPause",jb="toast.viewportResume",FR=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=t7,label:s="Notifications ({hotkey})",...l}=e,c=yx($R,r),d=ZH(r),f=p.useRef(null),m=p.useRef(null),h=p.useRef(null),g=p.useRef(null),v=it(t,g,c.onViewportChange),b=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=c.toastCount>0;p.useEffect(()=>{const j=C=>{a.length!==0&&a.every(A=>C[A]||C.code===A)&&g.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[a]),p.useEffect(()=>{const j=f.current,C=g.current;if(w&&j&&C){const E=()=>{if(!c.isClosePausedRef.current){const P=new CustomEvent(yb);C.dispatchEvent(P),c.isClosePausedRef.current=!0}},A=()=>{if(c.isClosePausedRef.current){const P=new CustomEvent(jb);C.dispatchEvent(P),c.isClosePausedRef.current=!1}},T=P=>{!j.contains(P.relatedTarget)&&A()},k=()=>{j.contains(document.activeElement)||A()};return j.addEventListener("focusin",E),j.addEventListener("focusout",T),j.addEventListener("pointermove",E),j.addEventListener("pointerleave",k),window.addEventListener("blur",E),window.addEventListener("focus",A),()=>{j.removeEventListener("focusin",E),j.removeEventListener("focusout",T),j.removeEventListener("pointermove",E),j.removeEventListener("pointerleave",k),window.removeEventListener("blur",E),window.removeEventListener("focus",A)}}},[w,c.isClosePausedRef]);const y=p.useCallback(({tabbingDirection:j})=>{const E=d().map(A=>{const T=A.ref.current,k=[T,...h7(T)];return j==="forwards"?k:k.reverse()});return(j==="forwards"?E.reverse():E).flat()},[d]);return p.useEffect(()=>{const j=g.current;if(j){const C=E=>{const A=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!A){const k=document.activeElement,P=E.shiftKey;if(E.target===j&&P){m.current?.focus();return}const X=y({tabbingDirection:P?"backwards":"forwards"}),I=X.findIndex(R=>R===k);o0(X.slice(I+1))?E.preventDefault():P?m.current?.focus():h.current?.focus()}};return j.addEventListener("keydown",C),()=>j.removeEventListener("keydown",C)}},[d,y]),n.jsxs(vH,{ref:f,role:"region","aria-label":s.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&n.jsx(bb,{ref:m,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"forwards"});o0(j)}}),n.jsx(ew.Slot,{scope:r,children:n.jsx(Kc.ol,{tabIndex:-1,...l,ref:v})}),w&&n.jsx(bb,{ref:h,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"backwards"});o0(j)}})]})});FR.displayName=$R;var zR="ToastFocusProxy",bb=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...s}=e,l=yx(zR,r);return n.jsx(vx,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&a()}})});bb.displayName=zR;var sf="Toast",n7="toast.swipeStart",r7="toast.swipeMove",a7="toast.swipeCancel",s7="toast.swipeEnd",BR=p.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:s,onOpenChange:l,...c}=e,[d,f]=ta({prop:a,defaultProp:s??!0,onChange:l,caller:sf});return n.jsx(aa,{present:r||d,children:n.jsx(o7,{open:d,...c,ref:t,onClose:()=>f(!1),onPause:Pn(e.onPause),onResume:Pn(e.onResume),onSwipeStart:ze(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ze(e.onSwipeMove,m=>{const{x:h,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:ze(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ze(e.onSwipeEnd,m=>{const{x:h,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),f(!1)})})})});BR.displayName=sf;var[i7,l7]=LR(sf,{onClose(){}}),o7=p.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:l,onClose:c,onEscapeKeyDown:d,onPause:f,onResume:m,onSwipeStart:h,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:b,...w}=e,y=yx(sf,r),[j,C]=p.useState(null),E=it(t,Y=>C(Y)),A=p.useRef(null),T=p.useRef(null),k=s||y.duration,P=p.useRef(0),_=p.useRef(k),M=p.useRef(0),{onToastAdd:X,onToastRemove:I}=y,R=Pn(()=>{j?.contains(document.activeElement)&&y.viewport?.focus(),c()}),V=p.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(M.current),P.current=new Date().getTime(),M.current=window.setTimeout(R,Y))},[R]);p.useEffect(()=>{const Y=y.viewport;if(Y){const te=()=>{V(_.current),m?.()},z=()=>{const J=new Date().getTime()-P.current;_.current=_.current-J,window.clearTimeout(M.current),f?.()};return Y.addEventListener(yb,z),Y.addEventListener(jb,te),()=>{Y.removeEventListener(yb,z),Y.removeEventListener(jb,te)}}},[y.viewport,k,f,m,V]),p.useEffect(()=>{l&&!y.isClosePausedRef.current&&V(k)},[l,k,y.isClosePausedRef,V]),p.useEffect(()=>(X(),()=>I()),[X,I]);const je=p.useMemo(()=>j?GR(j):null,[j]);return y.viewport?n.jsxs(n.Fragment,{children:[je&&n.jsx(c7,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:je}),n.jsx(i7,{scope:r,onClose:R,children:hs.createPortal(n.jsx(ew.ItemSlot,{scope:r,children:n.jsx(gH,{asChild:!0,onEscapeKeyDown:ze(d,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Kc.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ze(e.onKeyDown,Y=>{Y.key==="Escape"&&(d?.(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:ze(e.onPointerDown,Y=>{Y.button===0&&(A.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:ze(e.onPointerMove,Y=>{if(!A.current)return;const te=Y.clientX-A.current.x,z=Y.clientY-A.current.y,J=!!T.current,$=["left","right"].includes(y.swipeDirection),H=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,pe=$?H(0,te):0,D=$?0:H(0,z),ne=Y.pointerType==="touch"?10:2,xe={x:pe,y:D},Se={originalEvent:Y,delta:xe};J?(T.current=xe,ih(r7,g,Se,{discrete:!1})):AP(xe,y.swipeDirection,ne)?(T.current=xe,ih(n7,h,Se,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(te)>ne||Math.abs(z)>ne)&&(A.current=null)}),onPointerUp:ze(e.onPointerUp,Y=>{const te=T.current,z=Y.target;if(z.hasPointerCapture(Y.pointerId)&&z.releasePointerCapture(Y.pointerId),T.current=null,A.current=null,te){const J=Y.currentTarget,$={originalEvent:Y,delta:te};AP(te,y.swipeDirection,y.swipeThreshold)?ih(s7,b,$,{discrete:!0}):ih(a7,v,$,{discrete:!0}),J.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),c7=e=>{const{__scopeToast:t,children:r,...a}=e,s=yx(sf,t),[l,c]=p.useState(!1),[d,f]=p.useState(!1);return f7(()=>c(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:n.jsx(gx,{asChild:!0,children:n.jsx(vx,{...a,children:l&&n.jsxs(n.Fragment,{children:[s.label," ",r]})})})},d7="ToastTitle",UR=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Kc.div,{...a,ref:t})});UR.displayName=d7;var u7="ToastDescription",HR=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Kc.div,{...a,ref:t})});HR.displayName=u7;var qR="ToastAction",VR=p.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?n.jsx(WR,{altText:r,asChild:!0,children:n.jsx(tw,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qR}\`. Expected non-empty \`string\`.`),null)});VR.displayName=qR;var KR="ToastClose",tw=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,s=l7(KR,r);return n.jsx(WR,{asChild:!0,children:n.jsx(Kc.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,s.onClose)})})});tw.displayName=KR;var WR=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...s}=e;return n.jsx(Kc.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function GR(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),m7(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!s)if(l){const c=a.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...GR(a))}}),t}function ih(e,t,r,{discrete:a}){const s=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?$H(s,l):s.dispatchEvent(l)}var AP=(e,t,r=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),l=a>s;return t==="left"||t==="right"?l&&a>r:!l&&s>r};function f7(e=()=>{}){const t=Pn(e);un(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function m7(e){return e.nodeType===e.ELEMENT_NODE}function h7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function o0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var p7=IR,YR=FR,QR=BR,XR=UR,ZR=HR,JR=VR,eM=tw;function tM(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=tM(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function wt(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=tM(e))&&(a&&(a+=" "),a+=t);return a}const PP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,TP=wt,jx=(e,t)=>r=>{var a;if(t?.variants==null)return TP(e,r?.class,r?.className);const{variants:s,defaultVariants:l}=t,c=Object.keys(s).map(m=>{const h=r?.[m],g=l?.[m];if(h===null)return null;const v=PP(h)||PP(g);return s[m][v]}),d=r&&Object.entries(r).reduce((m,h)=>{let[g,v]=h;return v===void 0||(m[g]=v),m},{}),f=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:g,className:v,...b}=h;return Object.entries(b).every(w=>{let[y,j]=w;return Array.isArray(j)?j.includes({...l,...d}[y]):{...l,...d}[y]===j})?[...m,g,v]:m},[]);return TP(e,c,f,r?.class,r?.className)};const x7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g7=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),OP=e=>{const t=g7(e);return t.charAt(0).toUpperCase()+t.slice(1)},nM=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),v7=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var y7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const j7=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},f)=>p.createElement("svg",{ref:f,...y7,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:nM("lucide",s),...!l&&!v7(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>p.createElement(m,h)),...Array.isArray(l)?l:[l]]));const Pe=(e,t)=>{const r=p.forwardRef(({className:a,...s},l)=>p.createElement(j7,{ref:l,iconNode:t,className:nM(`lucide-${x7(OP(e))}`,`lucide-${e}`,a),...s}));return r.displayName=OP(e),r};const b7=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jc=Pe("activity",b7);const N7=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],fc=Pe("archive",N7);const w7=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],sp=Pe("arrow-down-right",w7);const S7=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],bc=Pe("arrow-left-right",S7);const C7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zi=Pe("arrow-left",C7);const E7=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ip=Pe("arrow-up-right",E7);const A7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bh=Pe("award",A7);const P7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],T7=Pe("book-open",P7);const O7=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Aa=Pe("calculator",O7);const k7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nw=Pe("calendar",k7);const _7=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],R7=Pe("cat",_7);const M7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lp=Pe("chart-column",M7);const D7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Nu=Pe("chart-pie",D7);const L7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rM=Pe("check",L7);const I7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wc=Pe("chevron-down",I7);const $7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lf=Pe("chevron-right",$7);const F7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aM=Pe("chevron-up",F7);const z7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rr=Pe("circle-alert",z7);const B7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tr=Pe("circle-check-big",B7);const U7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kP=Pe("circle-check",U7);const H7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],q7=Pe("circle-dollar-sign",H7);const V7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Wi=Pe("circle-x",V7);const K7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],di=Pe("clock",K7);const W7=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],_r=Pe("coins",W7);const G7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],op=Pe("copy",G7);const Y7=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xs=Pe("crown",Y7);const Q7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ca=Pe("database",Q7);const X7=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Z7=Pe("diamond",X7);const J7=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],wu=Pe("dna",J7);const eq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],na=Pe("dollar-sign",eq);const tq=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Tu=Pe("droplets",tq);const nq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],nr=Pe("external-link",nq);const rq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nc=Pe("eye",rq);const aq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],rw=Pe("file-check",aq);const sq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iq=Pe("file-text",sq);const lq=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],oq=Pe("fish",lq);const cq=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],cp=Pe("flame",cq);const dq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sM=Pe("funnel",dq);const uq=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],of=Pe("gem",uq);const fq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_P=Pe("globe",fq);const mq=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],hq=Pe("hammer",mq);const pq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xq=Pe("history",pq);const gq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vq=Pe("image",gq);const yq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xu=Pe("info",yq);const jq=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],iM=Pe("key",jq);const bq=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Nb=Pe("landmark",bq);const Nq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wq=Pe("layout-dashboard",Nq);const Sq=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Cq=Pe("leaf",Sq);const Eq=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Aq=Pe("link",Eq);const Pq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ee=Pe("loader-circle",Pq);const Tq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Oq=Pe("lock-open",Tq);const kq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_q=Pe("lock",kq);const Rq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Mq=Pe("log-out",Rq);const Dq=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lq=Pe("map-pin",Dq);const Iq=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],$q=Pe("medal",Iq);const Fq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zq=Pe("menu",Fq);const Bq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Uq=Pe("pencil",Bq);const Hq=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],bx=Pe("percent",Hq);const qq=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],lM=Pe("pickaxe",qq);const Vq=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vn=Pe("play",Vq);const Kq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ji=Pe("plus",Kq);const Wq=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Gq=Pe("power",Wq);const Yq=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Qq=Pe("receipt",Yq);const Xq=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tt=Pe("refresh-cw",Xq);const Zq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],aw=Pe("rocket",Zq);const Jq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wc=Pe("rotate-ccw",Jq);const eV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wb=Pe("save",eV);const tV=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],nV=Pe("scale",tV);const rV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zs=Pe("search",rV);const aV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oM=Pe("settings",aV);const sV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zl=Pe("shield",sV);const iV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],cM=Pe("shopping-cart",iV);const lV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uo=Pe("sparkles",lV);const oV=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ou=Pe("sprout",oV);const cV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],el=Pe("square-pen",cV);const dV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],pr=Pe("square",dV);const uV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sw=Pe("star",uV);const fV=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],ku=Pe("sword",fV);const mV=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],kr=Pe("swords",mV);const hV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iw=Pe("tag",hV);const pV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Rr=Pe("target",pV);const xV=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],dM=Pe("timer",xV);const gV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lw=Pe("trash-2",gV);const vV=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],uM=Pe("trees",vV);const yV=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Sc=Pe("trending-down",yV);const jV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],On=Pe("trending-up",jV);const bV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qs=Pe("triangle-alert",bV);const NV=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zr=Pe("trophy",NV);const wV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],SV=Pe("upload",wV);const CV=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RP=Pe("user-check",CV);const EV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uh=Pe("user",EV);const AV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lr=Pe("users",AV);const PV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Gc=Pe("wallet",PV);const TV=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],fM=Pe("wrench",TV);const OV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ow=Pe("x",OV);const kV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wn=Pe("zap",kV),_V=(e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r},RV=(e,t)=>({classGroupId:e,validator:t}),mM=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),dp="-",MP=[],MV="arbitrary..",DV=e=>{const t=IV(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return LV(c);const d=c.split(dp),f=d[0]===""&&d.length>1?1:0;return hM(d,f,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=a[c],m=r[c];return f?m?_V(m,f):f:m||MP}return r[c]||MP}}},hM=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],l=r.nextPart.get(s);if(l){const m=hM(e,t+1,l);if(m)return m}const c=r.validators;if(c===null)return;const d=t===0?e.join(dp):e.slice(t).join(dp),f=c.length;for(let m=0;m<f;m++){const h=c[m];if(h.validator(d))return h.classGroupId}},LV=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?MV+a:void 0})(),IV=e=>{const{theme:t,classGroups:r}=e;return $V(r,t)},$V=(e,t)=>{const r=mM();for(const a in e){const s=e[a];cw(s,r,a,t)}return r},cw=(e,t,r,a)=>{const s=e.length;for(let l=0;l<s;l++){const c=e[l];FV(c,t,r,a)}},FV=(e,t,r,a)=>{if(typeof e=="string"){zV(e,t,r);return}if(typeof e=="function"){BV(e,t,r,a);return}UV(e,t,r,a)},zV=(e,t,r)=>{const a=e===""?t:pM(t,e);a.classGroupId=r},BV=(e,t,r,a)=>{if(HV(e)){cw(e(a),t,r,a);return}t.validators===null&&(t.validators=[]),t.validators.push(RV(r,e))},UV=(e,t,r,a)=>{const s=Object.entries(e),l=s.length;for(let c=0;c<l;c++){const[d,f]=s[c];cw(f,pM(t,d),r,a)}},pM=(e,t)=>{let r=e;const a=t.split(dp),s=a.length;for(let l=0;l<s;l++){const c=a[l];let d=r.nextPart.get(c);d||(d=mM(),r.nextPart.set(c,d)),r=d}return r},HV=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,qV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const s=(l,c)=>{r[l]=c,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(l){let c=r[l];if(c!==void 0)return c;if((c=a[l])!==void 0)return s(l,c),c},set(l,c){l in r?r[l]=c:s(l,c)}}},Sb="!",DP=":",VV=[],LP=(e,t,r,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:s}),KV=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const l=[];let c=0,d=0,f=0,m;const h=s.length;for(let y=0;y<h;y++){const j=s[y];if(c===0&&d===0){if(j===DP){l.push(s.slice(f,y)),f=y+1;continue}if(j==="/"){m=y;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const g=l.length===0?s:s.slice(f);let v=g,b=!1;g.endsWith(Sb)?(v=g.slice(0,-1),b=!0):g.startsWith(Sb)&&(v=g.slice(1),b=!0);const w=m&&m>f?m-f:void 0;return LP(l,b,v,w)};if(t){const s=t+DP,l=a;a=c=>c.startsWith(s)?l(c.slice(s.length)):LP(VV,!1,c,void 0,!0)}if(r){const s=a;a=l=>r({className:l,parseClassName:s})}return a},WV=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{t.set(r,1e6+a)}),r=>{const a=[];let s=[];for(let l=0;l<r.length;l++){const c=r[l],d=c[0]==="[",f=t.has(c);d||f?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(c)):s.push(c)}return s.length>0&&(s.sort(),a.push(...s)),a}},GV=e=>({cache:qV(e.cacheSize),parseClassName:KV(e),sortModifiers:WV(e),...DV(e)}),YV=/\s+/,QV=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:l}=t,c=[],d=e.trim().split(YV);let f="";for(let m=d.length-1;m>=0;m-=1){const h=d[m],{isExternal:g,modifiers:v,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:y}=r(h);if(g){f=h+(f.length>0?" "+f:f);continue}let j=!!y,C=a(j?w.substring(0,y):w);if(!C){if(!j){f=h+(f.length>0?" "+f:f);continue}if(C=a(w),!C){f=h+(f.length>0?" "+f:f);continue}j=!1}const E=v.length===0?"":v.length===1?v[0]:l(v).join(":"),A=b?E+Sb:E,T=A+C;if(c.indexOf(T)>-1)continue;c.push(T);const k=s(C,j);for(let P=0;P<k.length;++P){const _=k[P];c.push(A+_)}f=h+(f.length>0?" "+f:f)}return f},XV=(...e)=>{let t=0,r,a,s="";for(;t<e.length;)(r=e[t++])&&(a=xM(r))&&(s&&(s+=" "),s+=a);return s},xM=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=xM(e[a]))&&(r&&(r+=" "),r+=t);return r},ZV=(e,...t)=>{let r,a,s,l;const c=f=>{const m=t.reduce((h,g)=>g(h),e());return r=GV(m),a=r.cache.get,s=r.cache.set,l=d,d(f)},d=f=>{const m=a(f);if(m)return m;const h=QV(f,r);return s(f,h),h};return l=c,(...f)=>l(XV(...f))},JV=[],Rn=e=>{const t=r=>r[e]||JV;return t.isThemeGetter=!0,t},gM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eK=/^\d+\/\d+$/,tK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ec=e=>eK.test(e),xt=e=>!!e&&!Number.isNaN(Number(e)),Bi=e=>!!e&&Number.isInteger(Number(e)),c0=e=>e.endsWith("%")&&xt(e.slice(0,-1)),$s=e=>tK.test(e),iK=()=>!0,lK=e=>nK.test(e)&&!rK.test(e),yM=()=>!1,oK=e=>aK.test(e),cK=e=>sK.test(e),dK=e=>!qe(e)&&!Ve(e),uK=e=>Yc(e,NM,yM),qe=e=>gM.test(e),$l=e=>Yc(e,wM,lK),d0=e=>Yc(e,xK,xt),IP=e=>Yc(e,jM,yM),fK=e=>Yc(e,bM,cK),lh=e=>Yc(e,SM,oK),Ve=e=>vM.test(e),iu=e=>Qc(e,wM),mK=e=>Qc(e,gK),$P=e=>Qc(e,jM),hK=e=>Qc(e,NM),pK=e=>Qc(e,bM),oh=e=>Qc(e,SM,!0),Yc=(e,t,r)=>{const a=gM.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},Qc=(e,t,r=!1)=>{const a=vM.exec(e);return a?a[1]?t(a[1]):r:!1},jM=e=>e==="position"||e==="percentage",bM=e=>e==="image"||e==="url",NM=e=>e==="length"||e==="size"||e==="bg-size",wM=e=>e==="length",xK=e=>e==="number",gK=e=>e==="family-name",SM=e=>e==="shadow",vK=()=>{const e=Rn("color"),t=Rn("font"),r=Rn("text"),a=Rn("font-weight"),s=Rn("tracking"),l=Rn("leading"),c=Rn("breakpoint"),d=Rn("container"),f=Rn("spacing"),m=Rn("radius"),h=Rn("shadow"),g=Rn("inset-shadow"),v=Rn("text-shadow"),b=Rn("drop-shadow"),w=Rn("blur"),y=Rn("perspective"),j=Rn("aspect"),C=Rn("ease"),E=Rn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...T(),Ve,qe],P=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],M=()=>[Ve,qe,f],X=()=>[ec,"full","auto",...M()],I=()=>[Bi,"none","subgrid",Ve,qe],R=()=>["auto",{span:["full",Bi,Ve,qe]},Bi,Ve,qe],V=()=>[Bi,"auto",Ve,qe],je=()=>["auto","min","max","fr",Ve,qe],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...M()],J=()=>[ec,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],$=()=>[e,Ve,qe],H=()=>[...T(),$P,IP,{position:[Ve,qe]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",hK,uK,{size:[Ve,qe]}],ne=()=>[c0,iu,$l],xe=()=>["","none","full",m,Ve,qe],Se=()=>["",xt,iu,$l],oe=()=>["solid","dashed","dotted","double"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[xt,c0,$P,IP],We=()=>["","none",w,Ve,qe],me=()=>["none",xt,Ve,qe],Re=()=>["none",xt,Ve,qe],W=()=>[xt,Ve,qe],ce=()=>[ec,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$s],breakpoint:[$s],color:[iK],container:[$s],"drop-shadow":[$s],ease:["in","out","in-out"],font:[dK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$s],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$s],shadow:[$s],spacing:["px",xt],text:[$s],"text-shadow":[$s],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ec,qe,Ve,j]}],container:["container"],columns:[{columns:[xt,qe,Ve,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[Bi,"auto",Ve,qe]}],basis:[{basis:[ec,"full","auto",d,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xt,ec,"auto","initial","none",qe]}],grow:[{grow:["",xt,Ve,qe]}],shrink:[{shrink:["",xt,Ve,qe]}],order:[{order:[Bi,"first","last","none",Ve,qe]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":je()}],"auto-rows":[{"auto-rows":je()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[d,"screen",...J()]}],"min-w":[{"min-w":[d,"screen","none",...J()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",r,iu,$l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ve,d0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",c0,qe]}],"font-family":[{font:[mK,qe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ve,qe]}],"line-clamp":[{"line-clamp":[xt,"none",Ve,d0]}],leading:[{leading:[l,...M()]}],"list-image":[{"list-image":["none",Ve,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[xt,"from-font","auto",Ve,$l]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[xt,"auto",Ve,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bi,Ve,qe],radial:["",Ve,qe],conic:[Bi,Ve,qe]},pK,fK]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:xe()}],"rounded-s":[{"rounded-s":xe()}],"rounded-e":[{"rounded-e":xe()}],"rounded-t":[{"rounded-t":xe()}],"rounded-r":[{"rounded-r":xe()}],"rounded-b":[{"rounded-b":xe()}],"rounded-l":[{"rounded-l":xe()}],"rounded-ss":[{"rounded-ss":xe()}],"rounded-se":[{"rounded-se":xe()}],"rounded-ee":[{"rounded-ee":xe()}],"rounded-es":[{"rounded-es":xe()}],"rounded-tl":[{"rounded-tl":xe()}],"rounded-tr":[{"rounded-tr":xe()}],"rounded-br":[{"rounded-br":xe()}],"rounded-bl":[{"rounded-bl":xe()}],"border-w":[{border:Se()}],"border-w-x":[{"border-x":Se()}],"border-w-y":[{"border-y":Se()}],"border-w-s":[{"border-s":Se()}],"border-w-e":[{"border-e":Se()}],"border-w-t":[{"border-t":Se()}],"border-w-r":[{"border-r":Se()}],"border-w-b":[{"border-b":Se()}],"border-w-l":[{"border-l":Se()}],"divide-x":[{"divide-x":Se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xt,Ve,qe]}],"outline-w":[{outline:["",xt,iu,$l]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",h,oh,lh]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,oh,lh]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[xt,$l]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":Se()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",v,oh,lh]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[xt,Ve,qe]}],"mix-blend":[{"mix-blend":[...$e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ve,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,qe]}],filter:[{filter:["","none",Ve,qe]}],blur:[{blur:We()}],brightness:[{brightness:[xt,Ve,qe]}],contrast:[{contrast:[xt,Ve,qe]}],"drop-shadow":[{"drop-shadow":["","none",b,oh,lh]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",xt,Ve,qe]}],"hue-rotate":[{"hue-rotate":[xt,Ve,qe]}],invert:[{invert:["",xt,Ve,qe]}],saturate:[{saturate:[xt,Ve,qe]}],sepia:[{sepia:["",xt,Ve,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,qe]}],"backdrop-blur":[{"backdrop-blur":We()}],"backdrop-brightness":[{"backdrop-brightness":[xt,Ve,qe]}],"backdrop-contrast":[{"backdrop-contrast":[xt,Ve,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xt,Ve,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xt,Ve,qe]}],"backdrop-invert":[{"backdrop-invert":["",xt,Ve,qe]}],"backdrop-opacity":[{"backdrop-opacity":[xt,Ve,qe]}],"backdrop-saturate":[{"backdrop-saturate":[xt,Ve,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",xt,Ve,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xt,"initial",Ve,qe]}],ease:[{ease:["linear","initial",C,Ve,qe]}],delay:[{delay:[xt,Ve,qe]}],animate:[{animate:["none",E,Ve,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ve,qe]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:W()}],"skew-x":[{"skew-x":W()}],"skew-y":[{"skew-y":W()}],transform:[{transform:[Ve,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,qe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[xt,iu,$l,d0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yK=ZV(vK);function Le(...e){return yK(wt(e))}const jK=p7,CM=p.forwardRef(({className:e,...t},r)=>n.jsx(YR,{ref:r,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));CM.displayName=YR.displayName;const bK=jx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),EM=p.forwardRef(({className:e,variant:t,...r},a)=>n.jsx(QR,{ref:a,className:Le(bK({variant:t}),e),...r}));EM.displayName=QR.displayName;const NK=p.forwardRef(({className:e,...t},r)=>n.jsx(JR,{ref:r,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));NK.displayName=JR.displayName;const AM=p.forwardRef(({className:e,...t},r)=>n.jsx(eM,{ref:r,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ow,{className:"h-4 w-4"})}));AM.displayName=eM.displayName;const PM=p.forwardRef(({className:e,...t},r)=>n.jsx(XR,{ref:r,className:Le("text-sm font-semibold",e),...t}));PM.displayName=XR.displayName;const TM=p.forwardRef(({className:e,...t},r)=>n.jsx(ZR,{ref:r,className:Le("text-sm opacity-90",e),...t}));TM.displayName=ZR.displayName;function wK(){const{toasts:e}=Zt();return n.jsxs(jK,{children:[e.map(function({id:t,title:r,description:a,action:s,...l}){return n.jsxs(EM,{...l,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(PM,{children:r}),a&&n.jsx(TM,{children:a})]}),s,n.jsx(AM,{})]},t)}),n.jsx(CM,{})]})}var SK=ef[" useId ".trim().toString()]||(()=>{}),CK=0;function Ba(e){const[t,r]=p.useState(SK());return un(()=>{r(a=>a??String(CK++))},[e]),t?`radix-${t}`:""}const EK=["top","right","bottom","left"],tl=Math.min,Gr=Math.max,up=Math.round,ch=Math.floor,rs=e=>({x:e,y:e}),AK={left:"right",right:"left",bottom:"top",top:"bottom"},PK={start:"end",end:"start"};function Cb(e,t,r){return Gr(e,tl(t,r))}function Js(e,t){return typeof e=="function"?e(t):e}function ei(e){return e.split("-")[0]}function Xc(e){return e.split("-")[1]}function dw(e){return e==="x"?"y":"x"}function uw(e){return e==="y"?"height":"width"}const TK=new Set(["top","bottom"]);function ts(e){return TK.has(ei(e))?"y":"x"}function fw(e){return dw(ts(e))}function OK(e,t,r){r===void 0&&(r=!1);const a=Xc(e),s=fw(e),l=uw(s);let c=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=fp(c)),[c,fp(c)]}function kK(e){const t=fp(e);return[Eb(e),t,Eb(t)]}function Eb(e){return e.replace(/start|end/g,t=>PK[t])}const FP=["left","right"],zP=["right","left"],_K=["top","bottom"],RK=["bottom","top"];function MK(e,t,r){switch(e){case"top":case"bottom":return r?t?zP:FP:t?FP:zP;case"left":case"right":return t?_K:RK;default:return[]}}function DK(e,t,r,a){const s=Xc(e);let l=MK(ei(e),r==="start",a);return s&&(l=l.map(c=>c+"-"+s),t&&(l=l.concat(l.map(Eb)))),l}function fp(e){return e.replace(/left|right|bottom|top/g,t=>AK[t])}function LK(e){return{top:0,right:0,bottom:0,left:0,...e}}function OM(e){return typeof e!="number"?LK(e):{top:e,right:e,bottom:e,left:e}}function mp(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function BP(e,t,r){let{reference:a,floating:s}=e;const l=ts(t),c=fw(t),d=uw(c),f=ei(t),m=l==="y",h=a.x+a.width/2-s.width/2,g=a.y+a.height/2-s.height/2,v=a[d]/2-s[d]/2;let b;switch(f){case"top":b={x:h,y:a.y-s.height};break;case"bottom":b={x:h,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y:g};break;case"left":b={x:a.x-s.width,y:g};break;default:b={x:a.x,y:a.y}}switch(Xc(t)){case"start":b[c]-=v*(r&&m?-1:1);break;case"end":b[c]+=v*(r&&m?-1:1);break}return b}const IK=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:g}=BP(m,a,f),v=a,b={},w=0;for(let y=0;y<d.length;y++){const{name:j,fn:C}=d[y],{x:E,y:A,data:T,reset:k}=await C({x:h,y:g,initialPlacement:a,placement:v,strategy:s,middlewareData:b,rects:m,platform:c,elements:{reference:e,floating:t}});h=E??h,g=A??g,b={...b,[j]:{...b[j],...T}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(m=k.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:h,y:g}=BP(m,v,f)),y=-1)}return{x:h,y:g,placement:v,strategy:s,middlewareData:b}};async function _u(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:v=!1,padding:b=0}=Js(t,e),w=OM(b),j=d[v?g==="floating"?"reference":"floating":g],C=mp(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(j)))==null||r?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:h,strategy:f})),E=g==="floating"?{x:a,y:s,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),T=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},k=mp(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:A,strategy:f}):E);return{top:(C.top-k.top+w.top)/T.y,bottom:(k.bottom-C.bottom+w.bottom)/T.y,left:(C.left-k.left+w.left)/T.x,right:(k.right-C.right+w.right)/T.x}}const $K=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:m,padding:h=0}=Js(e,t)||{};if(m==null)return{};const g=OM(h),v={x:r,y:a},b=fw(s),w=uw(b),y=await c.getDimensions(m),j=b==="y",C=j?"top":"left",E=j?"bottom":"right",A=j?"clientHeight":"clientWidth",T=l.reference[w]+l.reference[b]-v[b]-l.floating[w],k=v[b]-l.reference[b],P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let _=P?P[A]:0;(!_||!await(c.isElement==null?void 0:c.isElement(P)))&&(_=d.floating[A]||l.floating[w]);const M=T/2-k/2,X=_/2-y[w]/2-1,I=tl(g[C],X),R=tl(g[E],X),V=I,je=_-y[w]-R,Y=_/2-y[w]/2+M,te=Cb(V,Y,je),z=!f.arrow&&Xc(s)!=null&&Y!==te&&l.reference[w]/2-(Y<V?I:R)-y[w]/2<0,J=z?Y<V?Y-V:Y-je:0;return{[b]:v[b]+J,data:{[b]:te,centerOffset:Y-te-J,...z&&{alignmentOffset:J}},reset:z}}}),FK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...j}=Js(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=ei(s),E=ts(d),A=ei(d)===d,T=await(f.isRTL==null?void 0:f.isRTL(m.floating)),k=v||(A||!y?[fp(d)]:kK(d)),P=w!=="none";!v&&P&&k.push(...DK(d,y,w,T));const _=[d,...k],M=await _u(t,j),X=[];let I=((a=l.flip)==null?void 0:a.overflows)||[];if(h&&X.push(M[C]),g){const Y=OK(s,c,T);X.push(M[Y[0]],M[Y[1]])}if(I=[...I,{placement:s,overflows:X}],!X.every(Y=>Y<=0)){var R,V;const Y=(((R=l.flip)==null?void 0:R.index)||0)+1,te=_[Y];if(te&&(!(g==="alignment"?E!==ts(te):!1)||I.every($=>ts($.placement)===E?$.overflows[0]>0:!0)))return{data:{index:Y,overflows:I},reset:{placement:te}};let z=(V=I.filter(J=>J.overflows[0]<=0).sort((J,$)=>J.overflows[1]-$.overflows[1])[0])==null?void 0:V.placement;if(!z)switch(b){case"bestFit":{var je;const J=(je=I.filter($=>{if(P){const H=ts($.placement);return H===E||H==="y"}return!0}).map($=>[$.placement,$.overflows.filter(H=>H>0).reduce((H,pe)=>H+pe,0)]).sort(($,H)=>$[1]-H[1])[0])==null?void 0:je[0];J&&(z=J);break}case"initialPlacement":z=d;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function UP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function HP(e){return EK.some(t=>e[t]>=0)}const zK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=Js(e,t);switch(a){case"referenceHidden":{const l=await _u(t,{...s,elementContext:"reference"}),c=UP(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:HP(c)}}}case"escaped":{const l=await _u(t,{...s,altBoundary:!0}),c=UP(l,r.floating);return{data:{escapedOffsets:c,escaped:HP(c)}}}default:return{}}}}},kM=new Set(["left","top"]);async function BK(e,t){const{placement:r,platform:a,elements:s}=e,l=await(a.isRTL==null?void 0:a.isRTL(s.floating)),c=ei(r),d=Xc(r),f=ts(r)==="y",m=kM.has(c)?-1:1,h=l&&f?-1:1,g=Js(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof w=="number"&&(b=d==="end"?w*-1:w),f?{x:b*h,y:v*m}:{x:v*m,y:b*h}}const UK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:l,placement:c,middlewareData:d}=t,f=await BK(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:s+f.x,y:l+f.y,data:{...f,placement:c}}}}},HK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:j=>{let{x:C,y:E}=j;return{x:C,y:E}}},...f}=Js(e,t),m={x:r,y:a},h=await _u(t,f),g=ts(ei(s)),v=dw(g);let b=m[v],w=m[g];if(l){const j=v==="y"?"top":"left",C=v==="y"?"bottom":"right",E=b+h[j],A=b-h[C];b=Cb(E,b,A)}if(c){const j=g==="y"?"top":"left",C=g==="y"?"bottom":"right",E=w+h[j],A=w-h[C];w=Cb(E,w,A)}const y=d.fn({...t,[v]:b,[g]:w});return{...y,data:{x:y.x-r,y:y.y-a,enabled:{[v]:l,[g]:c}}}}}},qK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Js(e,t),h={x:r,y:a},g=ts(s),v=dw(g);let b=h[v],w=h[g];const y=Js(d,t),j=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const A=v==="y"?"height":"width",T=l.reference[v]-l.floating[A]+j.mainAxis,k=l.reference[v]+l.reference[A]-j.mainAxis;b<T?b=T:b>k&&(b=k)}if(m){var C,E;const A=v==="y"?"width":"height",T=kM.has(ei(s)),k=l.reference[g]-l.floating[A]+(T&&((C=c.offset)==null?void 0:C[g])||0)+(T?0:j.crossAxis),P=l.reference[g]+l.reference[A]+(T?0:((E=c.offset)==null?void 0:E[g])||0)-(T?j.crossAxis:0);w<k?w=k:w>P&&(w=P)}return{[v]:b,[g]:w}}}},VK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...m}=Js(e,t),h=await _u(t,m),g=ei(s),v=Xc(s),b=ts(s)==="y",{width:w,height:y}=l.floating;let j,C;g==="top"||g==="bottom"?(j=g,C=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(C=g,j=v==="end"?"top":"bottom");const E=y-h.top-h.bottom,A=w-h.left-h.right,T=tl(y-h[j],E),k=tl(w-h[C],A),P=!t.middlewareData.shift;let _=T,M=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=A),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(_=E),P&&!v){const I=Gr(h.left,0),R=Gr(h.right,0),V=Gr(h.top,0),je=Gr(h.bottom,0);b?M=w-2*(I!==0||R!==0?I+R:Gr(h.left,h.right)):_=y-2*(V!==0||je!==0?V+je:Gr(h.top,h.bottom))}await f({...t,availableWidth:M,availableHeight:_});const X=await c.getDimensions(d.floating);return w!==X.width||y!==X.height?{reset:{rects:!0}}:{}}}};function Nx(){return typeof window<"u"}function Zc(e){return _M(e)?(e.nodeName||"").toLowerCase():"#document"}function Jr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ps(e){var t;return(t=(_M(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _M(e){return Nx()?e instanceof Node||e instanceof Jr(e).Node:!1}function Ha(e){return Nx()?e instanceof Element||e instanceof Jr(e).Element:!1}function cs(e){return Nx()?e instanceof HTMLElement||e instanceof Jr(e).HTMLElement:!1}function qP(e){return!Nx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jr(e).ShadowRoot}const KK=new Set(["inline","contents"]);function cf(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=qa(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!KK.has(s)}const WK=new Set(["table","td","th"]);function GK(e){return WK.has(Zc(e))}const YK=[":popover-open",":modal"];function wx(e){return YK.some(t=>{try{return e.matches(t)}catch{return!1}})}const QK=["transform","translate","scale","rotate","perspective"],XK=["transform","translate","scale","rotate","perspective","filter"],ZK=["paint","layout","strict","content"];function mw(e){const t=hw(),r=Ha(e)?qa(e):e;return QK.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||XK.some(a=>(r.willChange||"").includes(a))||ZK.some(a=>(r.contain||"").includes(a))}function JK(e){let t=nl(e);for(;cs(t)&&!Cc(t);){if(mw(t))return t;if(wx(t))return null;t=nl(t)}return null}function hw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eW=new Set(["html","body","#document"]);function Cc(e){return eW.has(Zc(e))}function qa(e){return Jr(e).getComputedStyle(e)}function Sx(e){return Ha(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nl(e){if(Zc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qP(e)&&e.host||ps(e);return qP(t)?t.host:t}function RM(e){const t=nl(e);return Cc(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&cf(t)?t:RM(t)}function Ru(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=RM(e),l=s===((a=e.ownerDocument)==null?void 0:a.body),c=Jr(s);if(l){const d=Ab(c);return t.concat(c,c.visualViewport||[],cf(s)?s:[],d&&r?Ru(d):[])}return t.concat(s,Ru(s,[],r))}function Ab(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function MM(e){const t=qa(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=cs(e),l=s?e.offsetWidth:r,c=s?e.offsetHeight:a,d=up(r)!==l||up(a)!==c;return d&&(r=l,a=c),{width:r,height:a,$:d}}function pw(e){return Ha(e)?e:e.contextElement}function mc(e){const t=pw(e);if(!cs(t))return rs(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:l}=MM(t);let c=(l?up(r.width):r.width)/a,d=(l?up(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const tW=rs(0);function DM(e){const t=Jr(e);return!hw()||!t.visualViewport?tW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jr(e)?!1:t}function Jl(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),l=pw(e);let c=rs(1);t&&(a?Ha(a)&&(c=mc(a)):c=mc(e));const d=nW(l,r,a)?DM(l):rs(0);let f=(s.left+d.x)/c.x,m=(s.top+d.y)/c.y,h=s.width/c.x,g=s.height/c.y;if(l){const v=Jr(l),b=a&&Ha(a)?Jr(a):a;let w=v,y=Ab(w);for(;y&&a&&b!==w;){const j=mc(y),C=y.getBoundingClientRect(),E=qa(y),A=C.left+(y.clientLeft+parseFloat(E.paddingLeft))*j.x,T=C.top+(y.clientTop+parseFloat(E.paddingTop))*j.y;f*=j.x,m*=j.y,h*=j.x,g*=j.y,f+=A,m+=T,w=Jr(y),y=Ab(w)}}return mp({width:h,height:g,x:f,y:m})}function Cx(e,t){const r=Sx(e).scrollLeft;return t?t.left+r:Jl(ps(e)).left+r}function LM(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-Cx(e,r),s=r.top+t.scrollTop;return{x:a,y:s}}function rW(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const l=s==="fixed",c=ps(a),d=t?wx(t.floating):!1;if(a===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},m=rs(1);const h=rs(0),g=cs(a);if((g||!g&&!l)&&((Zc(a)!=="body"||cf(c))&&(f=Sx(a)),cs(a))){const b=Jl(a);m=mc(a),h.x=b.x+a.clientLeft,h.y=b.y+a.clientTop}const v=c&&!g&&!l?LM(c,f):rs(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+v.x,y:r.y*m.y-f.scrollTop*m.y+h.y+v.y}}function aW(e){return Array.from(e.getClientRects())}function sW(e){const t=ps(e),r=Sx(e),a=e.ownerDocument.body,s=Gr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=Gr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let c=-r.scrollLeft+Cx(e);const d=-r.scrollTop;return qa(a).direction==="rtl"&&(c+=Gr(t.clientWidth,a.clientWidth)-s),{width:s,height:l,x:c,y:d}}const VP=25;function iW(e,t){const r=Jr(e),a=ps(e),s=r.visualViewport;let l=a.clientWidth,c=a.clientHeight,d=0,f=0;if(s){l=s.width,c=s.height;const h=hw();(!h||h&&t==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}const m=Cx(a);if(m<=0){const h=a.ownerDocument,g=h.body,v=getComputedStyle(g),b=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(a.clientWidth-g.clientWidth-b);w<=VP&&(l-=w)}else m<=VP&&(l+=m);return{width:l,height:c,x:d,y:f}}const lW=new Set(["absolute","fixed"]);function oW(e,t){const r=Jl(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,l=cs(e)?mc(e):rs(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=s*l.x,m=a*l.y;return{width:c,height:d,x:f,y:m}}function KP(e,t,r){let a;if(t==="viewport")a=iW(e,r);else if(t==="document")a=sW(ps(e));else if(Ha(t))a=oW(t,r);else{const s=DM(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return mp(a)}function IM(e,t){const r=nl(e);return r===t||!Ha(r)||Cc(r)?!1:qa(r).position==="fixed"||IM(r,t)}function cW(e,t){const r=t.get(e);if(r)return r;let a=Ru(e,[],!1).filter(d=>Ha(d)&&Zc(d)!=="body"),s=null;const l=qa(e).position==="fixed";let c=l?nl(e):e;for(;Ha(c)&&!Cc(c);){const d=qa(c),f=mw(c);!f&&d.position==="fixed"&&(s=null),(l?!f&&!s:!f&&d.position==="static"&&!!s&&lW.has(s.position)||cf(c)&&!f&&IM(e,c))?a=a.filter(h=>h!==c):s=d,c=nl(c)}return t.set(e,a),a}function dW(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const c=[...r==="clippingAncestors"?wx(t)?[]:cW(t,this._c):[].concat(r),a],d=c[0],f=c.reduce((m,h)=>{const g=KP(t,h,s);return m.top=Gr(g.top,m.top),m.right=tl(g.right,m.right),m.bottom=tl(g.bottom,m.bottom),m.left=Gr(g.left,m.left),m},KP(t,d,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function uW(e){const{width:t,height:r}=MM(e);return{width:t,height:r}}function fW(e,t,r){const a=cs(t),s=ps(t),l=r==="fixed",c=Jl(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=rs(0);function m(){f.x=Cx(s)}if(a||!a&&!l)if((Zc(t)!=="body"||cf(s))&&(d=Sx(t)),a){const b=Jl(t,!0,l,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else s&&m();l&&!a&&s&&m();const h=s&&!a&&!l?LM(s,d):rs(0),g=c.left+d.scrollLeft-f.x-h.x,v=c.top+d.scrollTop-f.y-h.y;return{x:g,y:v,width:c.width,height:c.height}}function u0(e){return qa(e).position==="static"}function WP(e,t){if(!cs(e)||qa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ps(e)===r&&(r=r.ownerDocument.body),r}function $M(e,t){const r=Jr(e);if(wx(e))return r;if(!cs(e)){let s=nl(e);for(;s&&!Cc(s);){if(Ha(s)&&!u0(s))return s;s=nl(s)}return r}let a=WP(e,t);for(;a&&GK(a)&&u0(a);)a=WP(a,t);return a&&Cc(a)&&u0(a)&&!mw(a)?r:a||JK(e)||r}const mW=async function(e){const t=this.getOffsetParent||$M,r=this.getDimensions,a=await r(e.floating);return{reference:fW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function hW(e){return qa(e).direction==="rtl"}const pW={convertOffsetParentRelativeRectToViewportRelativeRect:rW,getDocumentElement:ps,getClippingRect:dW,getOffsetParent:$M,getElementRects:mW,getClientRects:aW,getDimensions:uW,getScale:mc,isElement:Ha,isRTL:hW};function FM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function xW(e,t){let r=null,a;const s=ps(e);function l(){var d;clearTimeout(a),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:g,width:v,height:b}=m;if(d||t(),!v||!b)return;const w=ch(g),y=ch(s.clientWidth-(h+v)),j=ch(s.clientHeight-(g+b)),C=ch(h),A={rootMargin:-w+"px "+-y+"px "+-j+"px "+-C+"px",threshold:Gr(0,tl(1,f))||1};let T=!0;function k(P){const _=P[0].intersectionRatio;if(_!==f){if(!T)return c();_?c(!1,_):a=setTimeout(()=>{c(!1,1e-7)},1e3)}_===1&&!FM(m,e.getBoundingClientRect())&&c(),T=!1}try{r=new IntersectionObserver(k,{...A,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,A)}r.observe(e)}return c(!0),l}function gW(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=a,m=pw(e),h=s||l?[...m?Ru(m):[],...Ru(t)]:[];h.forEach(C=>{s&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const g=m&&d?xW(m,r):null;let v=-1,b=null;c&&(b=new ResizeObserver(C=>{let[E]=C;E&&E.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),r()}),m&&!f&&b.observe(m),b.observe(t));let w,y=f?Jl(e):null;f&&j();function j(){const C=Jl(e);y&&!FM(y,C)&&r(),y=C,w=requestAnimationFrame(j)}return r(),()=>{var C;h.forEach(E=>{s&&E.removeEventListener("scroll",r),l&&E.removeEventListener("resize",r)}),g?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(w)}}const vW=UK,yW=HK,jW=FK,bW=VK,NW=zK,GP=$K,wW=qK,SW=(e,t,r)=>{const a=new Map,s={platform:pW,...r},l={...s.platform,_c:a};return IK(e,t,{...s,platform:l})};var CW=typeof document<"u",EW=function(){},Hh=CW?p.useLayoutEffect:EW;function hp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!hp(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const l=s[a];if(!(l==="_owner"&&e.$$typeof)&&!hp(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function zM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YP(e,t){const r=zM(e);return Math.round(t*r)/r}function f0(e){const t=p.useRef(e);return Hh(()=>{t.current=e}),t}function AW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[h,g]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=p.useState(a);hp(v,a)||b(a);const[w,y]=p.useState(null),[j,C]=p.useState(null),E=p.useCallback($=>{$!==P.current&&(P.current=$,y($))},[]),A=p.useCallback($=>{$!==_.current&&(_.current=$,C($))},[]),T=l||w,k=c||j,P=p.useRef(null),_=p.useRef(null),M=p.useRef(h),X=f!=null,I=f0(f),R=f0(s),V=f0(m),je=p.useCallback(()=>{if(!P.current||!_.current)return;const $={placement:t,strategy:r,middleware:v};R.current&&($.platform=R.current),SW(P.current,_.current,$).then(H=>{const pe={...H,isPositioned:V.current!==!1};Y.current&&!hp(M.current,pe)&&(M.current=pe,hs.flushSync(()=>{g(pe)}))})},[v,t,r,R,V]);Hh(()=>{m===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[m]);const Y=p.useRef(!1);Hh(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Hh(()=>{if(T&&(P.current=T),k&&(_.current=k),T&&k){if(I.current)return I.current(T,k,je);je()}},[T,k,je,I,X]);const te=p.useMemo(()=>({reference:P,floating:_,setReference:E,setFloating:A}),[E,A]),z=p.useMemo(()=>({reference:T,floating:k}),[T,k]),J=p.useMemo(()=>{const $={position:r,left:0,top:0};if(!z.floating)return $;const H=YP(z.floating,h.x),pe=YP(z.floating,h.y);return d?{...$,transform:"translate("+H+"px, "+pe+"px)",...zM(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:pe}},[r,d,z.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:je,refs:te,elements:z,floatingStyles:J}),[h,je,te,z,J])}const PW=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?GP({element:a.current,padding:s}).fn(r):{}:a?GP({element:a,padding:s}).fn(r):{}}}},TW=(e,t)=>({...vW(e),options:[e,t]}),OW=(e,t)=>({...yW(e),options:[e,t]}),kW=(e,t)=>({...wW(e),options:[e,t]}),_W=(e,t)=>({...jW(e),options:[e,t]}),RW=(e,t)=>({...bW(e),options:[e,t]}),MW=(e,t)=>({...NW(e),options:[e,t]}),DW=(e,t)=>({...PW(e),options:[e,t]});function LW(e){const t=IW(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(FW);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function IW(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=BW(s),d=zW(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $W=Symbol("radix.slottable");function FW(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$W}function zW(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function BW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var UW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HW=UW.reduce((e,t)=>{const r=LW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),qW="Arrow",BM=p.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...l}=e;return n.jsx(HW.svg,{...l,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});BM.displayName=qW;var VW=BM;function KW(e){const t=WW(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(YW);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function WW(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=XW(s),d=QW(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GW=Symbol("radix.slottable");function YW(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GW}function QW(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function XW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ZW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UM=ZW.reduce((e,t)=>{const r=KW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Ex(e){const[t,r]=p.useState(void 0);return un(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const l=s[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var xw="Popper",[HM,Ax]=gr(xw),[JW,qM]=HM(xw),VM=e=>{const{__scopePopper:t,children:r}=e,[a,s]=p.useState(null);return n.jsx(JW,{scope:t,anchor:a,onAnchorChange:s,children:r})};VM.displayName=xw;var KM="PopperAnchor",WM=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,l=qM(KM,r),c=p.useRef(null),d=it(t,c),f=p.useRef(null);return p.useEffect(()=>{const m=f.current;f.current=a?.current||c.current,m!==f.current&&l.onAnchorChange(f.current)}),a?null:n.jsx(UM.div,{...s,ref:d})});WM.displayName=KM;var gw="PopperContent",[eG,tG]=HM(gw),GM=p.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:w,...y}=e,j=qM(gw,r),[C,E]=p.useState(null),A=it(t,ge=>E(ge)),[T,k]=p.useState(null),P=Ex(T),_=P?.width??0,M=P?.height??0,X=a+(l!=="center"?"-"+l:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(m)?m:[m],V=R.length>0,je={padding:I,boundary:R.filter(rG),altBoundary:V},{refs:Y,floatingStyles:te,placement:z,isPositioned:J,middlewareData:$}=AW({strategy:"fixed",placement:X,whileElementsMounted:(...ge)=>gW(...ge,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[TW({mainAxis:s+M,alignmentAxis:c}),f&&OW({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?kW():void 0,...je}),f&&_W({...je}),RW({...je,apply:({elements:ge,rects:We,availableWidth:me,availableHeight:Re})=>{const{width:W,height:ce}=We.reference,Ie=ge.floating.style;Ie.setProperty("--radix-popper-available-width",`${me}px`),Ie.setProperty("--radix-popper-available-height",`${Re}px`),Ie.setProperty("--radix-popper-anchor-width",`${W}px`),Ie.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),T&&DW({element:T,padding:d}),aG({arrowWidth:_,arrowHeight:M}),v&&MW({strategy:"referenceHidden",...je})]}),[H,pe]=XM(z),D=Pn(w);un(()=>{J&&D?.()},[J,D]);const ne=$.arrow?.x,xe=$.arrow?.y,Se=$.arrow?.centerOffset!==0,[oe,$e]=p.useState();return un(()=>{C&&$e(window.getComputedStyle(C).zIndex)},[C]),n.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:J?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(eG,{scope:r,placedSide:H,onArrowChange:k,arrowX:ne,arrowY:xe,shouldHideArrow:Se,children:n.jsx(UM.div,{"data-side":H,"data-align":pe,...y,ref:A,style:{...y.style,animation:J?void 0:"none"}})})})});GM.displayName=gw;var YM="PopperArrow",nG={top:"bottom",right:"left",bottom:"top",left:"right"},QM=p.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,l=tG(YM,a),c=nG[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(VW,{...s,ref:r,style:{...s.style,display:"block"}})})});QM.displayName=YM;function rG(e){return e!==null}var aG=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:s}=t,c=s.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,h]=XM(r),g={start:"0%",center:"50%",end:"100%"}[h],v=(s.arrow?.x??0)+d/2,b=(s.arrow?.y??0)+f/2;let w="",y="";return m==="bottom"?(w=c?g:`${v}px`,y=`${-f}px`):m==="top"?(w=c?g:`${v}px`,y=`${a.floating.height+f}px`):m==="right"?(w=`${-f}px`,y=c?g:`${b}px`):m==="left"&&(w=`${a.floating.width+f}px`,y=c?g:`${b}px`),{data:{x:w,y}}}});function XM(e){const[t,r="center"]=e.split("-");return[t,r]}var ZM=VM,JM=WM,eD=GM,tD=QM;function sG(e){const t=iG(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(oG);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function iG(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=dG(s),d=cG(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nD=Symbol("radix.slottable");function lG(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=nD,t}function oG(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nD}function cG(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function dG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var uG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fG=uG.reduce((e,t)=>{const r=sG(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),[Px]=gr("Tooltip",[Ax]),Tx=Ax(),rD="TooltipProvider",mG=700,Pb="tooltip.open",[hG,vw]=Px(rD),aD=e=>{const{__scopeTooltip:t,delayDuration:r=mG,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:l}=e,c=p.useRef(!0),d=p.useRef(!1),f=p.useRef(0);return p.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),n.jsx(hG,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:p.useCallback(m=>{d.current=m},[]),disableHoverableContent:s,children:l})};aD.displayName=rD;var Mu="Tooltip",[pG,Ox]=Px(Mu),sD=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:s,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=e,f=vw(Mu,e.__scopeTooltip),m=Tx(t),[h,g]=p.useState(null),v=Ba(),b=p.useRef(0),w=c??f.disableHoverableContent,y=d??f.delayDuration,j=p.useRef(!1),[C,E]=ta({prop:a,defaultProp:s??!1,onChange:_=>{_?(f.onOpen(),document.dispatchEvent(new CustomEvent(Pb))):f.onClose(),l?.(_)},caller:Mu}),A=p.useMemo(()=>C?j.current?"delayed-open":"instant-open":"closed",[C]),T=p.useCallback(()=>{window.clearTimeout(b.current),b.current=0,j.current=!1,E(!0)},[E]),k=p.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E(!1)},[E]),P=p.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{j.current=!0,E(!0),b.current=0},y)},[y,E]);return p.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),n.jsx(ZM,{...m,children:n.jsx(pG,{scope:t,contentId:v,open:C,stateAttribute:A,trigger:h,onTriggerChange:g,onTriggerEnter:p.useCallback(()=>{f.isOpenDelayedRef.current?P():T()},[f.isOpenDelayedRef,P,T]),onTriggerLeave:p.useCallback(()=>{w?k():(window.clearTimeout(b.current),b.current=0)},[k,w]),onOpen:T,onClose:k,disableHoverableContent:w,children:r})})};sD.displayName=Mu;var Tb="TooltipTrigger",iD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Ox(Tb,r),l=vw(Tb,r),c=Tx(r),d=p.useRef(null),f=it(t,d,s.onTriggerChange),m=p.useRef(!1),h=p.useRef(!1),g=p.useCallback(()=>m.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),n.jsx(JM,{asChild:!0,...c,children:n.jsx(fG.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:f,onPointerMove:ze(e.onPointerMove,v=>{v.pointerType!=="touch"&&!h.current&&!l.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ze(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ze(e.onPointerDown,()=>{s.open&&s.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ze(e.onFocus,()=>{m.current||s.onOpen()}),onBlur:ze(e.onBlur,s.onClose),onClick:ze(e.onClick,s.onClose)})})});iD.displayName=Tb;var xG="TooltipPortal",[Bje,gG]=Px(xG,{forceMount:void 0}),Ec="TooltipContent",lD=p.forwardRef((e,t)=>{const r=gG(Ec,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...l}=e,c=Ox(Ec,e.__scopeTooltip);return n.jsx(aa,{present:a||c.open,children:c.disableHoverableContent?n.jsx(oD,{side:s,...l,ref:t}):n.jsx(vG,{side:s,...l,ref:t})})}),vG=p.forwardRef((e,t)=>{const r=Ox(Ec,e.__scopeTooltip),a=vw(Ec,e.__scopeTooltip),s=p.useRef(null),l=it(t,s),[c,d]=p.useState(null),{trigger:f,onClose:m}=r,h=s.current,{onPointerInTransitChange:g}=a,v=p.useCallback(()=>{d(null),g(!1)},[g]),b=p.useCallback((w,y)=>{const j=w.currentTarget,C={x:w.clientX,y:w.clientY},E=wG(C,j.getBoundingClientRect()),A=SG(C,E),T=CG(y.getBoundingClientRect()),k=AG([...A,...T]);d(k),g(!0)},[g]);return p.useEffect(()=>()=>v(),[v]),p.useEffect(()=>{if(f&&h){const w=j=>b(j,h),y=j=>b(j,f);return f.addEventListener("pointerleave",w),h.addEventListener("pointerleave",y),()=>{f.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",y)}}},[f,h,b,v]),p.useEffect(()=>{if(c){const w=y=>{const j=y.target,C={x:y.clientX,y:y.clientY},E=f?.contains(j)||h?.contains(j),A=!EG(C,c);E?v():A&&(v(),m())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[f,h,c,m,v]),n.jsx(oD,{...e,ref:l})}),[yG,jG]=Px(Mu,{isInside:!1}),bG=lG("TooltipContent"),oD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=e,f=Ox(Ec,r),m=Tx(r),{onClose:h}=f;return p.useEffect(()=>(document.addEventListener(Pb,h),()=>document.removeEventListener(Pb,h)),[h]),p.useEffect(()=>{if(f.trigger){const g=v=>{v.target?.contains(f.trigger)&&h()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,h]),n.jsx(af,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:h,children:n.jsxs(eD,{"data-state":f.stateAttribute,...m,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(bG,{children:a}),n.jsx(yG,{scope:r,isInside:!0,children:n.jsx(XH,{id:f.contentId,role:"tooltip",children:s||a})})]})})});lD.displayName=Ec;var cD="TooltipArrow",NG=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Tx(r);return jG(cD,r).isInside?null:n.jsx(tD,{...s,...a,ref:t})});NG.displayName=cD;function wG(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(r,a,s,l)){case l:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function SG(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function CG(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function EG(e,t){const{x:r,y:a}=e;let s=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],m=d.x,h=d.y,g=f.x,v=f.y;h>a!=v>a&&r<(g-m)*(a-h)/(v-h)+m&&(s=!s)}return s}function AG(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),PG(t)}function PG(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TG=aD,OG=sD,kG=iD,dD=lD;const uD=TG,Su=OG,Cu=kG,hc=p.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(dD,{ref:a,sideOffset:t,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));hc.displayName=dD.displayName;const fD=p.createContext(null);function _G({children:e}){const[t,r]=p.useState(null),[a,s]=p.useState(!0),l=p.useCallback(async()=>{try{const m=await fetch(`${ju}/auth/status`,{credentials:"include"});if(!m.ok){r(null);return}const h=await m.json();h.authenticated&&h.user?r({discordId:h.user.discordId,username:h.user.username,avatar:h.user.avatar,isAdmin:h.user.isAdmin}):r(null)}catch(m){console.error("Auth check failed:",m),r(null)}finally{s(!1)}},[]);p.useEffect(()=>{l()},[l]);const c=p.useCallback(()=>{window.location.href=`${ju}/auth/discord`},[]),d=p.useCallback(async()=>{try{await fetch(`${ju}/auth/logout`,{method:"POST",credentials:"include"})}catch(m){console.error("Logout failed:",m)}finally{r(null),window.location.href="/admin/login"}},[]),f={user:t,isLoading:a,isAuthenticated:!!t,isAdmin:t?.isAdmin??!1,login:c,logout:d,refreshAuth:l};return n.jsx(fD.Provider,{value:f,children:e})}function yw(){const e=p.useContext(fD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function RG({children:e,requireAdmin:t=!0}){const{isLoading:r,isAuthenticated:a,isAdmin:s}=yw();return r?n.jsx("div",{className:"flex items-center justify-center h-screen bg-background","data-testid":"loading-auth",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(Ee,{className:"w-8 h-8 animate-spin text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Checking authentication..."})]})}):a?t&&!s?n.jsx("div",{className:"flex items-center justify-center h-screen bg-background","data-testid":"access-denied",children:n.jsxs("div",{className:"text-center space-y-4 p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-destructive",children:"Access Denied"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access the admin dashboard."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact an administrator if you believe this is an error."})]})}):n.jsx(n.Fragment,{children:e}):n.jsx(iU,{to:"/admin/login"})}var MG=Symbol.for("react.lazy"),pp=ef[" use ".trim().toString()];function DG(e){return typeof e=="object"&&e!==null&&"then"in e}function mD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===MG&&"_payload"in e&&DG(e._payload)}function hD(e){const t=IG(e),r=p.forwardRef((a,s)=>{let{children:l,...c}=a;mD(l)&&typeof pp=="function"&&(l=pp(l._payload));const d=p.Children.toArray(l),f=d.find(FG);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}var LG=hD("Slot");function IG(e){const t=p.forwardRef((r,a)=>{let{children:s,...l}=r;if(mD(s)&&typeof pp=="function"&&(s=pp(s._payload)),p.isValidElement(s)){const c=BG(s),d=zG(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $G=Symbol("radix.slottable");function FG(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$G}function zG(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function BG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const jw=jx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),re=p.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},l)=>{const c=a?LG:"button";return n.jsx(c,{className:Le(jw({variant:t,size:r,className:e})),ref:l,...s})});re.displayName="Button";const UG=jx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function U({className:e,variant:t,...r}){return n.jsx("div",{className:Le(UG({variant:t}),e),...r})}function HG(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c);d.displayName=l+"Context";const f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:b,...w}=g,y=v?.[e]?.[f]||d,j=p.useMemo(()=>w,Object.values(w));return n.jsx(y.Provider,{value:j,children:b})};m.displayName=l+"Provider";function h(g,v){const b=v?.[e]?.[f]||d,w=p.useContext(b);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,qG(s,...t)]}function qG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var VG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fo=VG.reduce((e,t)=>{const r=hD(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function KG(){return cR.useSyncExternalStore(WG,()=>!0,()=>!1)}function WG(){return()=>{}}var bw="Avatar",[GG]=HG(bw),[YG,pD]=GG(bw),xD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[s,l]=p.useState("idle");return n.jsx(YG,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:n.jsx(fo.span,{...a,ref:t})})});xD.displayName=bw;var gD="AvatarImage",vD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...l}=e,c=pD(gD,r),d=QG(a,l),f=Pn(m=>{s(m),c.onImageLoadingStatusChange(m)});return un(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?n.jsx(fo.img,{...l,ref:t,src:a}):null});vD.displayName=gD;var yD="AvatarFallback",jD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...s}=e,l=pD(yD,r),[c,d]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const f=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(f)}},[a]),c&&l.imageLoadingStatus!=="loaded"?n.jsx(fo.span,{...s,ref:t}):null});jD.displayName=yD;function QP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function QG(e,{referrerPolicy:t,crossOrigin:r}){const a=KG(),s=p.useRef(null),l=a?(s.current||(s.current=new window.Image),s.current):null,[c,d]=p.useState(()=>QP(l,e));return un(()=>{d(QP(l,e))},[l,e]),un(()=>{const f=g=>()=>{d(g)};if(!l)return;const m=f("loaded"),h=f("error");return l.addEventListener("load",m),l.addEventListener("error",h),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",h)}},[l,r,t]),c}var bD=xD,ND=vD,wD=jD;const SD=({className:e,...t})=>n.jsx(bD,{className:Le(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t});SD.displayName=bD.displayName;const CD=({className:e,...t})=>n.jsx(ND,{className:Le("aspect-square h-full w-full",e),...t});CD.displayName=ND.displayName;const ED=({className:e,...t})=>n.jsx(wD,{className:Le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t});ED.displayName=wD.displayName;const XG=[{href:"/admin",label:"Dashboard",icon:wq},{href:"/admin/users",label:"Users",icon:Lr},{href:"/admin/value-allocation",label:"Value Allocation",icon:Nu},{href:"/admin/tokens",label:"Token Registry",icon:_r},{href:"/admin/pools",label:"Pools",icon:Tu},{href:"/admin/pool-indexer",label:"Pool Indexer V2",icon:Ca},{href:"/admin/pool-indexer-v1",label:"Pool Indexer V1",icon:Ca},{href:"/admin/pool-indexer-harmony",label:"Pool Indexer Harmony",icon:Ca},{href:"/admin/jeweler",label:"Jeweler",icon:of},{href:"/admin/gardening-quest",label:"Gardening Quest",icon:Ou},{href:"/admin/gardening-calc",label:"Gardening Calculator",icon:Aa},{href:"/admin/battle-ready",label:"Battle-Ready Heroes",icon:kr},{href:"/admin/summoning-calculator",label:"Summoning Calculator",icon:wu},{href:"/admin/summon-sniper",label:"Summon Sniper",icon:Rr},{href:"/admin/bargain-hunter",label:"Bargain Hunter",icon:Wn},{href:"/admin/dark-bargain-hunter",label:"Dark Bargain Hunter",icon:uo},{href:"/admin/tavern-indexer",label:"Tavern Indexer",icon:Ca},{href:"/admin/market-intel",label:"Market Intel",icon:On},{href:"/admin/profit-tracker",label:"Profit Tracker",icon:na},{href:"/admin/pve-droprates",label:"PVE Drop Rates",icon:kr},{href:"/admin/challenges",label:"Challenges",icon:Zr},{href:"/admin/level-racer",label:"Level Racer",icon:kr},{href:"/admin/hedge/combat-sync",label:"Hedge: Combat Sync",icon:tt},{href:"/admin/hedge/plans",label:"Hedge: Plans & Access",icon:Xs},{href:"/admin/expenses",label:"Expenses",icon:Qq},{href:"/admin/bridge",label:"Bridge",icon:bc},{href:"/admin/extractors",label:"Extractors",icon:Sc},{href:"/admin/settings",label:"Settings",icon:oM}];function ZG({children:e}){const{user:t,logout:r}=yw(),[a]=Ka(),[s,l]=p.useState(!1),{data:c}=ke({queryKey:["/api/admin/environment"],staleTime:1/0}),d=t?.avatar?`https://cdn.discordapp.com/avatars/${t.discordId}/${t.avatar}.png`:null,f=()=>{l(!1)};return n.jsxs("div",{className:"flex h-screen w-full bg-background","data-testid":"admin-layout",children:[s&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),n.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 border-r bg-card flex flex-col
        transform transition-transform duration-200 ease-in-out
        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-primary-foreground font-bold text-sm",children:"HL"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"font-semibold text-sm",children:"Hedge Ledger"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin"}),c&&n.jsx(U,{variant:c.isProduction?"default":"secondary",className:"text-[10px] px-1 py-0","data-testid":"badge-environment",children:c.isProduction?"PROD":"DEV"})]})]}),n.jsx(re,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",onClick:()=>l(!1),"data-testid":"button-close-sidebar",children:n.jsx(ow,{className:"h-4 w-4"})})]})}),n.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:XG.map(m=>{const h=a===m.href||m.href!=="/admin"&&a.startsWith(m.href),g=m.icon;return n.jsx(Qs,{href:m.href,onClick:f,children:n.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer ${h?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,"data-testid":`nav-${m.label.toLowerCase()}`,children:[n.jsx(g,{className:"w-4 h-4"}),n.jsx("span",{children:m.label}),h&&n.jsx(lf,{className:"w-4 h-4 ml-auto"})]})},m.href)})}),n.jsx("div",{className:"p-3 border-t",children:n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-accent/50",children:[n.jsxs(SD,{className:"w-8 h-8",children:[d&&n.jsx(CD,{src:d,alt:t?.username}),n.jsx(ED,{className:"text-xs",children:t?.username?.charAt(0).toUpperCase()||"?"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate","data-testid":"user-username",children:t?.username}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin"})]}),n.jsx(re,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8","data-testid":"button-logout",children:n.jsx(Mq,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("header",{className:"lg:hidden flex items-center gap-3 p-3 border-b bg-card",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>l(!0),"data-testid":"button-open-sidebar",children:n.jsx(zq,{className:"h-5 w-5"})}),n.jsx("span",{className:"font-semibold",children:"Hedge Ledger"}),c&&n.jsx(U,{variant:c.isProduction?"default":"secondary",className:"text-[10px] px-1 py-0",children:c.isProduction?"PROD":"DEV"})]}),n.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}const G=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));G.displayName="Card";const ae=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("flex flex-col space-y-1.5 p-6",e),...t}));ae.displayName="CardHeader";const ie=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const Ce=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));Ce.displayName="CardDescription";const Q=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("p-6 pt-0",e),...t}));Q.displayName="CardContent";const JG=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("flex items-center p-6 pt-0",e),...t}));JG.displayName="CardFooter";function eY(){const{isLoading:e,isAuthenticated:t,isAdmin:r,login:a}=yw(),[,s]=Ka();return p.useEffect(()=>{!e&&t&&r&&s("/admin")},[e,t,r,s]),e?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:n.jsx(Ee,{className:"w-8 h-8 animate-spin text-white"})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4","data-testid":"admin-login-page",children:n.jsxs(G,{className:"w-full max-w-md",children:[n.jsxs(ae,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:n.jsx("span",{className:"text-2xl font-bold text-white",children:"HL"})}),n.jsxs("div",{children:[n.jsx(ie,{className:"text-2xl",children:"Hedge Ledger Admin"}),n.jsx(Ce,{className:"mt-2",children:"Sign in with Discord to access the admin dashboard"})]})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs(re,{onClick:a,className:"w-full h-12 text-base gap-3 bg-[#5865F2] hover:bg-[#4752C4]","data-testid":"button-discord-login",children:[n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),"Sign in with Discord"]}),n.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Only authorized Discord accounts can access the admin area."})]})]})})}function Me({className:e,...t}){return n.jsx("div",{className:Le("animate-pulse rounded-md bg-muted",e),...t})}function tY(){const{data:e,isLoading:t}=ke({queryKey:["/api/analytics/overview"]}),{data:r,isLoading:a}=ke({queryKey:["/api/admin/hedge-wallet"],refetchInterval:6e4});return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-dashboard",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Overview of Hedge Ledger activity and metrics"})]}),n.jsxs(G,{className:"border-primary/20 bg-primary/5",children:[n.jsx(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Gc,{className:"h-5 w-5"}),"Hedge Wallet"]}),n.jsx(Ce,{className:"font-mono text-xs",children:r?.wallet||"Loading..."})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"flex flex-wrap gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"JEWEL"}),a?n.jsx(Me,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"stat-hedge-jewel",children:parseFloat(r?.balances?.jewel||"0").toFixed(4)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"CRYSTAL"}),a?n.jsx(Me,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-blue-500","data-testid":"stat-hedge-crystal",children:parseFloat(r?.balances?.crystal||"0").toFixed(4)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"cJEWEL (Staked)"}),a?n.jsx(Me,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"stat-hedge-cjewel",children:parseFloat(r?.balances?.cjewel||"0").toFixed(4)})]})]})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Players"}),n.jsx(Lr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:t?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-players",children:e?.players.total??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.players.withBalance??0," with active balances"]})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"JEWEL Deposits"}),n.jsx(jc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:t?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-jewel",children:parseFloat(e?.deposits.totalJewel??"0").toFixed(2)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.deposits.completed??0," completed deposits"]})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Revenue"}),n.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:t?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"stat-total-revenue",children:["$",parseFloat(e?.revenue.totalRevenue??"0").toFixed(2)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Profit: $",parseFloat(e?.revenue.totalProfit??"0").toFixed(2)]})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Queries"}),n.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:t?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-queries",children:e?.revenue.totalQueries??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.revenue.paidQueries??0," paid queries"]})]})})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Recent Activity"}),n.jsx(Ce,{children:"Latest player interactions and system events"})]}),n.jsx(Q,{children:n.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity feed will be displayed here. Navigate to Users to manage player profiles."})})]})]})}const Ke=p.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:Le("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));Ke.displayName="Input";function Du(e,[t,r]){return Math.min(r,Math.max(t,e))}var nY=p.createContext(void 0);function Jc(e){const t=p.useContext(nY);return e||t||"ltr"}var m0=0;function AD(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XP()),document.body.insertAdjacentElement("beforeend",e[1]??XP()),m0++,()=>{m0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),m0--}},[])}function XP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function rY(e){const t=aY(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(iY);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function aY(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=oY(s),d=lY(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sY=Symbol("radix.slottable");function iY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sY}function lY(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function oY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dY=cY.reduce((e,t)=>{const r=rY(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),h0="focusScope.autoFocusOnMount",p0="focusScope.autoFocusOnUnmount",ZP={bubbles:!1,cancelable:!0},uY="FocusScope",Nw=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...c}=e,[d,f]=p.useState(null),m=Pn(s),h=Pn(l),g=p.useRef(null),v=it(t,y=>f(y)),b=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let y=function(A){if(b.paused||!d)return;const T=A.target;d.contains(T)?g.current=T:Ui(g.current,{select:!0})},j=function(A){if(b.paused||!d)return;const T=A.relatedTarget;T!==null&&(d.contains(T)||Ui(g.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const k of A)k.removedNodes.length>0&&Ui(d)};document.addEventListener("focusin",y),document.addEventListener("focusout",j);const E=new MutationObserver(C);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),E.disconnect()}}},[a,d,b.paused]),p.useEffect(()=>{if(d){eT.add(b);const y=document.activeElement;if(!d.contains(y)){const C=new CustomEvent(h0,ZP);d.addEventListener(h0,m),d.dispatchEvent(C),C.defaultPrevented||(fY(gY(PD(d)),{select:!0}),document.activeElement===y&&Ui(d))}return()=>{d.removeEventListener(h0,m),setTimeout(()=>{const C=new CustomEvent(p0,ZP);d.addEventListener(p0,h),d.dispatchEvent(C),C.defaultPrevented||Ui(y??document.body,{select:!0}),d.removeEventListener(p0,h),eT.remove(b)},0)}}},[d,m,h,b]);const w=p.useCallback(y=>{if(!r&&!a||b.paused)return;const j=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(j&&C){const E=y.currentTarget,[A,T]=mY(E);A&&T?!y.shiftKey&&C===T?(y.preventDefault(),r&&Ui(A,{select:!0})):y.shiftKey&&C===A&&(y.preventDefault(),r&&Ui(T,{select:!0})):C===E&&y.preventDefault()}},[r,a,b.paused]);return n.jsx(dY.div,{tabIndex:-1,...c,ref:v,onKeyDown:w})});Nw.displayName=uY;function fY(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Ui(a,{select:t}),document.activeElement!==r)return}function mY(e){const t=PD(e),r=JP(t,e),a=JP(t.reverse(),e);return[r,a]}function PD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function JP(e,t){for(const r of e)if(!hY(r,{upTo:t}))return r}function hY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pY(e){return e instanceof HTMLInputElement&&"select"in e}function Ui(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pY(e)&&t&&e.select()}}var eT=xY();function xY(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=tT(e,t),e.unshift(t)},remove(t){e=tT(e,t),e[0]?.resume()}}}function tT(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function gY(e){return e.filter(t=>t.tagName!=="A")}function TD(e){const t=vY(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(jY);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function vY(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=NY(s),d=bY(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yY=Symbol("radix.slottable");function jY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yY}function bY(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function NY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sa=wY.reduce((e,t)=>{const r=TD(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function kx(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var SY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tc=new WeakMap,dh=new WeakMap,uh={},x0=0,OD=function(e){return e&&(e.host||OD(e.parentNode))},CY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=OD(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},EY=function(e,t,r,a){var s=CY(t,Array.isArray(e)?e:[e]);uh[r]||(uh[r]=new WeakMap);var l=uh[r],c=[],d=new Set,f=new Set(s),m=function(g){!g||d.has(g)||(d.add(g),m(g.parentNode))};s.forEach(m);var h=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(v){if(d.has(v))h(v);else try{var b=v.getAttribute(a),w=b!==null&&b!=="false",y=(tc.get(v)||0)+1,j=(l.get(v)||0)+1;tc.set(v,y),l.set(v,j),c.push(v),y===1&&w&&dh.set(v,!0),j===1&&v.setAttribute(r,"true"),w||v.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return h(t),d.clear(),x0++,function(){c.forEach(function(g){var v=tc.get(g)-1,b=l.get(g)-1;tc.set(g,v),l.set(g,b),v||(dh.has(g)||g.removeAttribute(a),dh.delete(g)),b||g.removeAttribute(r)}),x0--,x0||(tc=new WeakMap,tc=new WeakMap,dh=new WeakMap,uh={})}},kD=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=SY(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),EY(a,s,r,"aria-hidden")):function(){return null}},es=function(){return es=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},es.apply(this,arguments)};function _D(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function AY(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,l;a<s;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}var qh="right-scroll-bar-position",Vh="width-before-scroll-bar",PY="with-scroll-bars-hidden",TY="--removed-body-scroll-bar-size";function g0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OY(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var kY=typeof window<"u"?p.useLayoutEffect:p.useEffect,nT=new WeakMap;function _Y(e,t){var r=OY(null,function(a){return e.forEach(function(s){return g0(s,a)})});return kY(function(){var a=nT.get(r);if(a){var s=new Set(a),l=new Set(e),c=r.current;s.forEach(function(d){l.has(d)||g0(d,null)}),l.forEach(function(d){s.has(d)||g0(d,c)})}nT.set(r,e)},[e]),r}function RY(e){return e}function MY(e,t){t===void 0&&(t=RY);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,a);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(a=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){a=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var h=c;c=[],h.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),r={push:function(h){c.push(h),m()},filter:function(h){return c=c.filter(h),r}}}};return s}function DY(e){e===void 0&&(e={});var t=MY(null);return t.options=es({async:!0,ssr:!1},e),t}var RD=function(e){var t=e.sideCar,r=_D(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,es({},r))};RD.isSideCarExport=!0;function LY(e,t){return e.useMedium(t),RD}var MD=DY(),v0=function(){},_x=p.forwardRef(function(e,t){var r=p.useRef(null),a=p.useState({onScrollCapture:v0,onWheelCapture:v0,onTouchMoveCapture:v0}),s=a[0],l=a[1],c=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,h=e.enabled,g=e.shards,v=e.sideCar,b=e.noRelative,w=e.noIsolation,y=e.inert,j=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,A=e.gapMode,T=_D(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,P=_Y([r,t]),_=es(es({},T),s);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:MD,removeScrollBar:m,shards:g,noRelative:b,noIsolation:w,inert:y,setCallbacks:l,allowPinchZoom:!!j,lockRef:r,gapMode:A}),c?p.cloneElement(p.Children.only(d),es(es({},_),{ref:P})):p.createElement(E,es({},_,{className:f,ref:P}),d))});_x.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_x.classNames={fullWidth:Vh,zeroRight:qh};var IY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $Y(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IY();return t&&e.setAttribute("nonce",t),e}function FY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=$Y())&&(FY(t,r),zY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UY=function(){var e=BY();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},DD=function(){var e=UY(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},HY={left:0,top:0,right:0,gap:0},y0=function(e){return parseInt(e||"",10)||0},qY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[y0(r),y0(a),y0(s)]},VY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return HY;var t=qY(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},KY=DD(),pc="data-scroll-locked",WY=function(e,t,r,a){var s=e.left,l=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(PY,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(pc,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qh,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Vh,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(qh," .").concat(qh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Vh," .").concat(Vh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(pc,`] {
    `).concat(TY,": ").concat(d,`px;
  }
`)},rT=function(){var e=parseInt(document.body.getAttribute(pc)||"0",10);return isFinite(e)?e:0},GY=function(){p.useEffect(function(){return document.body.setAttribute(pc,(rT()+1).toString()),function(){var e=rT()-1;e<=0?document.body.removeAttribute(pc):document.body.setAttribute(pc,e.toString())}},[])},YY=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;GY();var l=p.useMemo(function(){return VY(s)},[s]);return p.createElement(KY,{styles:WY(l,!t,s,r?"":"!important")})},Ob=!1;if(typeof window<"u")try{var fh=Object.defineProperty({},"passive",{get:function(){return Ob=!0,!0}});window.addEventListener("test",fh,fh),window.removeEventListener("test",fh,fh)}catch{Ob=!1}var nc=Ob?{passive:!1}:!1,QY=function(e){return e.tagName==="TEXTAREA"},LD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!QY(e)&&r[t]==="visible")},XY=function(e){return LD(e,"overflowY")},ZY=function(e){return LD(e,"overflowX")},aT=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=ID(e,a);if(s){var l=$D(e,a),c=l[1],d=l[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},JY=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},eQ=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},ID=function(e,t){return e==="v"?XY(t):ZY(t)},$D=function(e,t){return e==="v"?JY(t):eQ(t)},tQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},nQ=function(e,t,r,a,s){var l=tQ(e,window.getComputedStyle(t).direction),c=l*a,d=r.target,f=t.contains(d),m=!1,h=c>0,g=0,v=0;do{if(!d)break;var b=$D(e,d),w=b[0],y=b[1],j=b[2],C=y-j-l*w;(w||C)&&ID(e,d)&&(g+=C,v+=w);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(h&&Math.abs(g)<1||!h&&Math.abs(v)<1)&&(m=!0),m},mh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sT=function(e){return[e.deltaX,e.deltaY]},iT=function(e){return e&&"current"in e?e.current:e},rQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sQ=0,rc=[];function iQ(e){var t=p.useRef([]),r=p.useRef([0,0]),a=p.useRef(),s=p.useState(sQ++)[0],l=p.useState(DD)[0],c=p.useRef(e);p.useEffect(function(){c.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=AY([e.lockRef.current],(e.shards||[]).map(iT),!0).filter(Boolean);return y.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(y,j){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!c.current.allowPinchZoom;var C=mh(y),E=r.current,A="deltaX"in y?y.deltaX:E[0]-C[0],T="deltaY"in y?y.deltaY:E[1]-C[1],k,P=y.target,_=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in y&&_==="h"&&P.type==="range")return!1;var M=aT(_,P);if(!M)return!0;if(M?k=_:(k=_==="v"?"h":"v",M=aT(_,P)),!M)return!1;if(!a.current&&"changedTouches"in y&&(A||T)&&(a.current=k),!k)return!0;var X=a.current||k;return nQ(X,j,y,X==="h"?A:T)},[]),f=p.useCallback(function(y){var j=y;if(!(!rc.length||rc[rc.length-1]!==l)){var C="deltaY"in j?sT(j):mh(j),E=t.current.filter(function(k){return k.name===j.type&&(k.target===j.target||j.target===k.shadowParent)&&rQ(k.delta,C)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var A=(c.current.shards||[]).map(iT).filter(Boolean).filter(function(k){return k.contains(j.target)}),T=A.length>0?d(j,A[0]):!c.current.noIsolation;T&&j.cancelable&&j.preventDefault()}}},[]),m=p.useCallback(function(y,j,C,E){var A={name:y,delta:j,target:C,should:E,shadowParent:lQ(C)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(T){return T!==A})},1)},[]),h=p.useCallback(function(y){r.current=mh(y),a.current=void 0},[]),g=p.useCallback(function(y){m(y.type,sT(y),y.target,d(y,e.lockRef.current))},[]),v=p.useCallback(function(y){m(y.type,mh(y),y.target,d(y,e.lockRef.current))},[]);p.useEffect(function(){return rc.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",f,nc),document.addEventListener("touchmove",f,nc),document.addEventListener("touchstart",h,nc),function(){rc=rc.filter(function(y){return y!==l}),document.removeEventListener("wheel",f,nc),document.removeEventListener("touchmove",f,nc),document.removeEventListener("touchstart",h,nc)}},[]);var b=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(l,{styles:aQ(s)}):null,b?p.createElement(YY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oQ=LY(MD,iQ);var ww=p.forwardRef(function(e,t){return p.createElement(_x,es({},e,{ref:t,sideCar:oQ}))});ww.classNames=_x.classNames;var cQ=[" ","Enter","ArrowUp","ArrowDown"],dQ=[" ","Enter"],eo="Select",[Rx,Mx,uQ]=rf(eo),[ed]=gr(eo,[uQ,Ax]),Dx=Ax(),[fQ,ul]=ed(eo),[mQ,hQ]=ed(eo),FD=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:m,name:h,autoComplete:g,disabled:v,required:b,form:w}=e,y=Dx(t),[j,C]=p.useState(null),[E,A]=p.useState(null),[T,k]=p.useState(!1),P=Jc(m),[_,M]=ta({prop:a,defaultProp:s??!1,onChange:l,caller:eo}),[X,I]=ta({prop:c,defaultProp:d,onChange:f,caller:eo}),R=p.useRef(null),V=j?w||!!j.closest("form"):!0,[je,Y]=p.useState(new Set),te=Array.from(je).map(z=>z.props.value).join(";");return n.jsx(ZM,{...y,children:n.jsxs(fQ,{required:b,scope:t,trigger:j,onTriggerChange:C,valueNode:E,onValueNodeChange:A,valueNodeHasChildren:T,onValueNodeHasChildrenChange:k,contentId:Ba(),value:X,onValueChange:I,open:_,onOpenChange:M,dir:P,triggerPointerDownPosRef:R,disabled:v,children:[n.jsx(Rx.Provider,{scope:t,children:n.jsx(mQ,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{Y(J=>new Set(J).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{Y(J=>{const $=new Set(J);return $.delete(z),$})},[]),children:r})}),V?n.jsxs(c5,{"aria-hidden":!0,required:b,tabIndex:-1,name:h,autoComplete:g,value:X,onChange:z=>I(z.target.value),disabled:v,form:w,children:[X===void 0?n.jsx("option",{value:""}):null,Array.from(je)]},te):null]})})};FD.displayName=eo;var zD="SelectTrigger",BD=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,l=Dx(r),c=ul(zD,r),d=c.disabled||a,f=it(t,c.onTriggerChange),m=Mx(r),h=p.useRef("touch"),[g,v,b]=u5(y=>{const j=m().filter(A=>!A.disabled),C=j.find(A=>A.value===c.value),E=f5(j,y,C);E!==void 0&&c.onValueChange(E.value)}),w=y=>{d||(c.onOpenChange(!0),b()),y&&(c.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return n.jsx(JM,{asChild:!0,...l,children:n.jsx(sa.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":d5(c.value)?"":void 0,...s,ref:f,onClick:ze(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&w(y)}),onPointerDown:ze(s.onPointerDown,y=>{h.current=y.pointerType;const j=y.target;j.hasPointerCapture(y.pointerId)&&j.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:ze(s.onKeyDown,y=>{const j=g.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&v(y.key),!(j&&y.key===" ")&&cQ.includes(y.key)&&(w(),y.preventDefault())})})})});BD.displayName=zD;var UD="SelectValue",HD=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:l,placeholder:c="",...d}=e,f=ul(UD,r),{onValueNodeHasChildrenChange:m}=f,h=l!==void 0,g=it(t,f.onValueNodeChange);return un(()=>{m(h)},[m,h]),n.jsx(sa.span,{...d,ref:g,style:{pointerEvents:"none"},children:d5(f.value)?n.jsx(n.Fragment,{children:c}):l})});HD.displayName=UD;var pQ="SelectIcon",qD=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(sa.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});qD.displayName=pQ;var xQ="SelectPortal",VD=e=>n.jsx(gx,{asChild:!0,...e});VD.displayName=xQ;var to="SelectContent",KD=p.forwardRef((e,t)=>{const r=ul(to,e.__scopeSelect),[a,s]=p.useState();if(un(()=>{s(new DocumentFragment)},[]),!r.open){const l=a;return l?hs.createPortal(n.jsx(WD,{scope:e.__scopeSelect,children:n.jsx(Rx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),l):null}return n.jsx(GD,{...e,ref:t})});KD.displayName=to;var Ia=10,[WD,fl]=ed(to),gQ="SelectContentImpl",vQ=TD("SelectContent.RemoveScroll"),GD=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:b,sticky:w,hideWhenDetached:y,avoidCollisions:j,...C}=e,E=ul(to,r),[A,T]=p.useState(null),[k,P]=p.useState(null),_=it(t,ge=>T(ge)),[M,X]=p.useState(null),[I,R]=p.useState(null),V=Mx(r),[je,Y]=p.useState(!1),te=p.useRef(!1);p.useEffect(()=>{if(A)return kD(A)},[A]),AD();const z=p.useCallback(ge=>{const[We,...me]=V().map(ce=>ce.ref.current),[Re]=me.slice(-1),W=document.activeElement;for(const ce of ge)if(ce===W||(ce?.scrollIntoView({block:"nearest"}),ce===We&&k&&(k.scrollTop=0),ce===Re&&k&&(k.scrollTop=k.scrollHeight),ce?.focus(),document.activeElement!==W))return},[V,k]),J=p.useCallback(()=>z([M,A]),[z,M,A]);p.useEffect(()=>{je&&J()},[je,J]);const{onOpenChange:$,triggerPointerDownPosRef:H}=E;p.useEffect(()=>{if(A){let ge={x:0,y:0};const We=Re=>{ge={x:Math.abs(Math.round(Re.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(Re.pageY)-(H.current?.y??0))}},me=Re=>{ge.x<=10&&ge.y<=10?Re.preventDefault():A.contains(Re.target)||$(!1),document.removeEventListener("pointermove",We),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",We),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",me,{capture:!0})}}},[A,$,H]),p.useEffect(()=>{const ge=()=>$(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[$]);const[pe,D]=u5(ge=>{const We=V().filter(W=>!W.disabled),me=We.find(W=>W.ref.current===document.activeElement),Re=f5(We,ge,me);Re&&setTimeout(()=>Re.ref.current.focus())}),ne=p.useCallback((ge,We,me)=>{const Re=!te.current&&!me;(E.value!==void 0&&E.value===We||Re)&&(X(ge),Re&&(te.current=!0))},[E.value]),xe=p.useCallback(()=>A?.focus(),[A]),Se=p.useCallback((ge,We,me)=>{const Re=!te.current&&!me;(E.value!==void 0&&E.value===We||Re)&&R(ge)},[E.value]),oe=a==="popper"?kb:YD,$e=oe===kb?{side:d,sideOffset:f,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:b,sticky:w,hideWhenDetached:y,avoidCollisions:j}:{};return n.jsx(WD,{scope:r,content:A,viewport:k,onViewportChange:P,itemRefCallback:ne,selectedItem:M,onItemLeave:xe,itemTextRefCallback:Se,focusSelectedItem:J,selectedItemText:I,position:a,isPositioned:je,searchRef:pe,children:n.jsx(ww,{as:vQ,allowPinchZoom:!0,children:n.jsx(Nw,{asChild:!0,trapped:E.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:ze(s,ge=>{E.trigger?.focus({preventScroll:!0}),ge.preventDefault()}),children:n.jsx(af,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:n.jsx(oe,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ge=>ge.preventDefault(),...C,...$e,onPlaced:()=>Y(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:ze(C.onKeyDown,ge=>{const We=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!We&&ge.key.length===1&&D(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Re=V().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const W=ge.target,ce=Re.indexOf(W);Re=Re.slice(ce+1)}setTimeout(()=>z(Re)),ge.preventDefault()}})})})})})})});GD.displayName=gQ;var yQ="SelectItemAlignedPosition",YD=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,l=ul(to,r),c=fl(to,r),[d,f]=p.useState(null),[m,h]=p.useState(null),g=it(t,_=>h(_)),v=Mx(r),b=p.useRef(!1),w=p.useRef(!0),{viewport:y,selectedItem:j,selectedItemText:C,focusSelectedItem:E}=c,A=p.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&y&&j&&C){const _=l.trigger.getBoundingClientRect(),M=m.getBoundingClientRect(),X=l.valueNode.getBoundingClientRect(),I=C.getBoundingClientRect();if(l.dir!=="rtl"){const W=I.left-M.left,ce=X.left-W,Ie=_.left-ce,Ye=_.width+Ie,Lt=Math.max(Ye,M.width),kt=window.innerWidth-Ia,ee=Du(ce,[Ia,Math.max(Ia,kt-Lt)]);d.style.minWidth=Ye+"px",d.style.left=ee+"px"}else{const W=M.right-I.right,ce=window.innerWidth-X.right-W,Ie=window.innerWidth-_.right-ce,Ye=_.width+Ie,Lt=Math.max(Ye,M.width),kt=window.innerWidth-Ia,ee=Du(ce,[Ia,Math.max(Ia,kt-Lt)]);d.style.minWidth=Ye+"px",d.style.right=ee+"px"}const R=v(),V=window.innerHeight-Ia*2,je=y.scrollHeight,Y=window.getComputedStyle(m),te=parseInt(Y.borderTopWidth,10),z=parseInt(Y.paddingTop,10),J=parseInt(Y.borderBottomWidth,10),$=parseInt(Y.paddingBottom,10),H=te+z+je+$+J,pe=Math.min(j.offsetHeight*5,H),D=window.getComputedStyle(y),ne=parseInt(D.paddingTop,10),xe=parseInt(D.paddingBottom,10),Se=_.top+_.height/2-Ia,oe=V-Se,$e=j.offsetHeight/2,ge=j.offsetTop+$e,We=te+z+ge,me=H-We;if(We<=Se){const W=R.length>0&&j===R[R.length-1].ref.current;d.style.bottom="0px";const ce=m.clientHeight-y.offsetTop-y.offsetHeight,Ie=Math.max(oe,$e+(W?xe:0)+ce+J),Ye=We+Ie;d.style.height=Ye+"px"}else{const W=R.length>0&&j===R[0].ref.current;d.style.top="0px";const Ie=Math.max(Se,te+y.offsetTop+(W?ne:0)+$e)+me;d.style.height=Ie+"px",y.scrollTop=We-Se+y.offsetTop}d.style.margin=`${Ia}px 0`,d.style.minHeight=pe+"px",d.style.maxHeight=V+"px",a?.(),requestAnimationFrame(()=>b.current=!0)}},[v,l.trigger,l.valueNode,d,m,y,j,C,l.dir,a]);un(()=>A(),[A]);const[T,k]=p.useState();un(()=>{m&&k(window.getComputedStyle(m).zIndex)},[m]);const P=p.useCallback(_=>{_&&w.current===!0&&(A(),E?.(),w.current=!1)},[A,E]);return n.jsx(bQ,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:P,children:n.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:n.jsx(sa.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});YD.displayName=yQ;var jQ="SelectPopperPosition",kb=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=Ia,...l}=e,c=Dx(r);return n.jsx(eD,{...c,...l,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kb.displayName=jQ;var[bQ,Sw]=ed(to,{}),_b="SelectViewport",QD=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,l=fl(_b,r),c=Sw(_b,r),d=it(t,l.onViewportChange),f=p.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Rx.Slot,{scope:r,children:n.jsx(sa.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,m=>{const h=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v?.current&&g){const b=Math.abs(f.current-h.scrollTop);if(b>0){const w=window.innerHeight-Ia*2,y=parseFloat(g.style.minHeight),j=parseFloat(g.style.height),C=Math.max(y,j);if(C<w){const E=C+b,A=Math.min(w,E),T=E-A;g.style.height=A+"px",g.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,g.style.justifyContent="flex-end")}}}f.current=h.scrollTop})})})]})});QD.displayName=_b;var XD="SelectGroup",[NQ,wQ]=ed(XD),SQ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=Ba();return n.jsx(NQ,{scope:r,id:s,children:n.jsx(sa.div,{role:"group","aria-labelledby":s,...a,ref:t})})});SQ.displayName=XD;var ZD="SelectLabel",JD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=wQ(ZD,r);return n.jsx(sa.div,{id:s.id,...a,ref:t})});JD.displayName=ZD;var xp="SelectItem",[CQ,e5]=ed(xp),t5=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:l,...c}=e,d=ul(xp,r),f=fl(xp,r),m=d.value===a,[h,g]=p.useState(l??""),[v,b]=p.useState(!1),w=it(t,E=>f.itemRefCallback?.(E,a,s)),y=Ba(),j=p.useRef("touch"),C=()=>{s||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(CQ,{scope:r,value:a,disabled:s,textId:y,isSelected:m,onItemTextChange:p.useCallback(E=>{g(A=>A||(E?.textContent??"").trim())},[]),children:n.jsx(Rx.ItemSlot,{scope:r,value:a,disabled:s,textValue:h,children:n.jsx(sa.div,{role:"option","aria-labelledby":y,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:w,onFocus:ze(c.onFocus,()=>b(!0)),onBlur:ze(c.onBlur,()=>b(!1)),onClick:ze(c.onClick,()=>{j.current!=="mouse"&&C()}),onPointerUp:ze(c.onPointerUp,()=>{j.current==="mouse"&&C()}),onPointerDown:ze(c.onPointerDown,E=>{j.current=E.pointerType}),onPointerMove:ze(c.onPointerMove,E=>{j.current=E.pointerType,s?f.onItemLeave?.():j.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:ze(c.onKeyDown,E=>{f.searchRef?.current!==""&&E.key===" "||(dQ.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});t5.displayName=xp;var gu="SelectItemText",n5=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...l}=e,c=ul(gu,r),d=fl(gu,r),f=e5(gu,r),m=hQ(gu,r),[h,g]=p.useState(null),v=it(t,C=>g(C),f.onItemTextChange,C=>d.itemTextRefCallback?.(C,f.value,f.disabled)),b=h?.textContent,w=p.useMemo(()=>n.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:y,onNativeOptionRemove:j}=m;return un(()=>(y(w),()=>j(w)),[y,j,w]),n.jsxs(n.Fragment,{children:[n.jsx(sa.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?hs.createPortal(l.children,c.valueNode):null]})});n5.displayName=gu;var r5="SelectItemIndicator",a5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return e5(r5,r).isSelected?n.jsx(sa.span,{"aria-hidden":!0,...a,ref:t}):null});a5.displayName=r5;var Rb="SelectScrollUpButton",s5=p.forwardRef((e,t)=>{const r=fl(Rb,e.__scopeSelect),a=Sw(Rb,e.__scopeSelect),[s,l]=p.useState(!1),c=it(t,a.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),s?n.jsx(l5,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});s5.displayName=Rb;var Mb="SelectScrollDownButton",i5=p.forwardRef((e,t)=>{const r=fl(Mb,e.__scopeSelect),a=Sw(Mb,e.__scopeSelect),[s,l]=p.useState(!1),c=it(t,a.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,h=Math.ceil(f.scrollTop)<m;l(h)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),s?n.jsx(l5,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});i5.displayName=Mb;var l5=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,l=fl("SelectScrollButton",r),c=p.useRef(null),d=Mx(r),f=p.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return p.useEffect(()=>()=>f(),[f]),un(()=>{d().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),n.jsx(sa.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:ze(s.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{f()})})}),EQ="SelectSeparator",o5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(sa.div,{"aria-hidden":!0,...a,ref:t})});o5.displayName=EQ;var Db="SelectArrow",AQ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=Dx(r),l=ul(Db,r),c=fl(Db,r);return l.open&&c.position==="popper"?n.jsx(tD,{...s,...a,ref:t}):null});AQ.displayName=Db;var PQ="SelectBubbleInput",c5=p.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const s=p.useRef(null),l=it(a,s),c=kx(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&h){const g=new Event("change",{bubbles:!0});h.call(d,t),d.dispatchEvent(g)}},[c,t]),n.jsx(sa.select,{...r,style:{...DR,...r.style},ref:l,defaultValue:t})});c5.displayName=PQ;function d5(e){return e===""||e===void 0}function u5(e){const t=Pn(e),r=p.useRef(""),a=p.useRef(0),s=p.useCallback(c=>{const d=r.current+c;t(d),(function f(m){r.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=p.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,l]}function f5(e,t,r){const s=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=TQ(e,Math.max(l,0));s.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function TQ(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var OQ=FD,m5=BD,kQ=HD,_Q=qD,RQ=VD,h5=KD,MQ=QD,p5=JD,x5=t5,DQ=n5,LQ=a5,g5=s5,v5=i5,y5=o5;const Ze=OQ,Je=kQ,Qe=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(m5,{ref:a,className:Le("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(_Q,{asChild:!0,children:n.jsx(Wc,{className:"h-4 w-4 opacity-50"})})]}));Qe.displayName=m5.displayName;const j5=p.forwardRef(({className:e,...t},r)=>n.jsx(g5,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(aM,{className:"h-4 w-4"})}));j5.displayName=g5.displayName;const b5=p.forwardRef(({className:e,...t},r)=>n.jsx(v5,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Wc,{className:"h-4 w-4"})}));b5.displayName=v5.displayName;const Xe=p.forwardRef(({className:e,children:t,position:r="popper",...a},s)=>n.jsx(RQ,{children:n.jsxs(h5,{ref:s,style:{backgroundColor:"hsl(220, 13%, 20%)"},className:Le("relative z-[9999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(j5,{}),n.jsx(MQ,{className:Le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(b5,{})]})}));Xe.displayName=h5.displayName;const IQ=p.forwardRef(({className:e,...t},r)=>n.jsx(p5,{ref:r,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));IQ.displayName=p5.displayName;const se=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(x5,{ref:a,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(LQ,{children:n.jsx(rM,{className:"h-4 w-4"})})}),n.jsx(DQ,{children:t})]}));se.displayName=x5.displayName;const $Q=p.forwardRef(({className:e,...t},r)=>n.jsx(y5,{ref:r,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));$Q.displayName=y5.displayName;const mt=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Le("w-full caption-bottom text-sm",e),...t})}));mt.displayName="Table";const ht=p.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Le("[&_tr]:border-b",e),...t}));ht.displayName="TableHeader";const pt=p.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Le("[&_tr:last-child]:border-0",e),...t}));pt.displayName="TableBody";const FQ=p.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));FQ.displayName="TableFooter";const Te=p.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Te.displayName="TableRow";const q=p.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));q.displayName="TableHead";const B=p.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));B.displayName="TableCell";const zQ=p.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Le("mt-4 text-sm text-muted-foreground",e),...t}));zQ.displayName="TableCaption";const BQ=["ALL","GUEST","ADVENTURER","PLAYER","INVESTOR","EXTRACTOR","UNKNOWN"],UQ=["ALL","0","1","2","3","4"],j0={0:"Common",1:"Uncommon",2:"Rare",3:"Legendary",4:"Mythic"},HQ={0:"bg-gray-400 text-white",1:"bg-green-500 text-white",2:"bg-blue-500 text-white",3:"bg-purple-500 text-white",4:"bg-orange-500 text-white"};function qQ(){const{toast:e}=Zt(),[t,r]=p.useState(""),[a,s]=p.useState("ALL"),[l,c]=p.useState("ALL"),[d,f]=p.useState("discordUsername"),[m,h]=p.useState("asc"),[,g]=Ka(),{data:v,isLoading:b,refetch:w,isRefetching:y}=ke({queryKey:["/api/admin/users"]}),j=Oe({mutationFn:async({userId:I,tier:R})=>De(`/api/admin/users/${I}/tier`,{method:"PATCH",body:JSON.stringify({tier:R})}),onSuccess:()=>{e({title:"Success",description:"User tier updated"}),_e.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{e({title:"Error",description:"Failed to update tier",variant:"destructive"})}});Oe({mutationFn:async I=>De(`/api/admin/users/${I}/refresh-snapshot`,{method:"POST"}),onSuccess:(I,R)=>{e({title:"Snapshot refreshed",description:"User snapshot updated."}),_e.invalidateQueries({queryKey:["/api/admin/users"]}),_e.invalidateQueries({queryKey:[`/api/admin/users/${R}/profile`]})},onError:()=>{e({title:"Error",description:"Failed to refresh snapshot",variant:"destructive"})}});const E=(v?.users??[]).filter(I=>{if(t){const R=t.toLowerCase();if(!I.discordUsername.toLowerCase().includes(R)&&!I.discordId.includes(R)&&!I.walletAddress?.toLowerCase().includes(R))return!1}return!(a!=="ALL"&&I.archetype!==a||l!=="ALL"&&I.tier!==parseInt(l))}).sort((I,R)=>{let V=0;return d==="discordUsername"?V=I.discordUsername.localeCompare(R.discordUsername):d==="tier"&&(V=I.tier-R.tier),m==="asc"?V:-V}),A=I=>{d===I?h(m==="asc"?"desc":"asc"):(f(I),h("asc"))},T=({field:I})=>d!==I?null:m==="asc"?n.jsx(aM,{className:"w-4 h-4"}):n.jsx(Wc,{className:"w-4 h-4"}),k=I=>{switch(I){case"INVESTOR":return"default";case"PLAYER":return"secondary";case"ADVENTURER":return"outline";case"EXTRACTOR":return"destructive";default:return"outline"}},P=I=>{switch(I){case"PROGRESSION_GAMER":return"secondary";case"INVESTOR_GROWTH":return"default";case"INVESTOR_EXTRACTOR":return"destructive";case"SOCIAL_COMMUNITY":return"outline";case"NEW_EXPLORER":return"outline";default:return"outline"}},_=I=>I?{PROGRESSION_GAMER:"Gamer",INVESTOR_GROWTH:"Growth",INVESTOR_EXTRACTOR:"Extractor",SOCIAL_COMMUNITY:"Social",NEW_EXPLORER:"New"}[I]||I:null,M=I=>HQ[I??0]||"bg-gray-400 text-white",X=async(I,R)=>{R&&R.stopPropagation();try{await navigator.clipboard.writeText(I),e({title:"Copied!",description:"Wallet address copied to clipboard"})}catch{e({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}};return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-users-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage player profiles, tiers, and classifications"})]}),n.jsxs(re,{onClick:()=>w(),variant:"outline",disabled:y,"data-testid":"button-refresh-users",children:[n.jsx(tt,{className:`w-4 h-4 mr-2 ${y?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-3",children:n.jsx(ie,{className:"text-base",children:"Filters"})}),n.jsx(Q,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(Zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Search by username, Discord ID, or wallet...",value:t,onChange:I=>r(I.target.value),className:"pl-9","data-testid":"input-search-users"})]})}),n.jsxs(Ze,{value:a,onValueChange:s,children:[n.jsx(Qe,{className:"w-[150px]","data-testid":"select-archetype-filter",children:n.jsx(Je,{placeholder:"Archetype"})}),n.jsx(Xe,{children:BQ.map(I=>n.jsx(se,{value:I,children:I==="ALL"?"All Archetypes":I},I))})]}),n.jsxs(Ze,{value:l,onValueChange:c,children:[n.jsx(Qe,{className:"w-[120px]","data-testid":"select-tier-filter",children:n.jsx(Je,{placeholder:"Tier"})}),n.jsx(Xe,{children:UQ.map(I=>n.jsx(se,{value:I,children:I==="ALL"?"All Tiers":j0[I]},I))})]})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{children:["Players (",E.length,")"]}),n.jsx(Ce,{children:"Click on a user row to view detailed profile"})]}),n.jsx(Q,{children:b?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((I,R)=>n.jsx(Me,{className:"h-12 w-full"},R))}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"cursor-pointer select-none",onClick:()=>A("discordUsername"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Discord",n.jsx(T,{field:"discordUsername"})]})}),n.jsx(q,{children:"Wallet"}),n.jsx(q,{children:"Archetype"}),n.jsx(q,{children:"Intent"}),n.jsx(q,{className:"cursor-pointer select-none",onClick:()=>A("tier"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Tier",n.jsx(T,{field:"tier"})]})}),n.jsx(q,{children:"State"}),n.jsx(q,{children:"Flags"}),n.jsx(q,{children:"Actions"})]})}),n.jsx(pt,{children:E.length===0?n.jsx(Te,{children:n.jsx(B,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No users found matching your filters"})}):E.map(I=>n.jsxs(Te,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-user-${I.id}`,onClick:()=>g(`/admin/users/${I.discordId}/dashboard`),children:[n.jsx(B,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:I.discordUsername}),n.jsx("div",{className:"text-xs text-muted-foreground",children:I.discordId})]})}),n.jsx(B,{children:I.walletAddress?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("span",{className:"font-mono text-xs",children:[I.walletAddress.slice(0,6),"...",I.walletAddress.slice(-4)]}),n.jsx(re,{size:"icon",variant:"ghost",onClick:R=>X(I.walletAddress,R),"data-testid":`button-copy-wallet-${I.id}`,children:n.jsx(op,{className:"h-4 w-4"})})]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"Not linked"})}),n.jsx(B,{children:n.jsx(U,{variant:k(I.archetype),children:I.archetype})}),n.jsx(B,{children:I.intentArchetype?n.jsx(U,{variant:P(I.intentArchetype),children:_(I.intentArchetype)}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"--"})}),n.jsx(B,{children:n.jsx(U,{className:M(I.tier??0),children:j0[I.tier??0]})}),n.jsx(B,{children:n.jsx("span",{className:"text-sm",children:I.state})}),n.jsx(B,{children:n.jsxs("div",{className:"flex gap-1 flex-wrap",children:[I.flags?.isWhale&&n.jsx(U,{variant:"secondary",className:"text-xs",children:"Whale"}),I.flags?.isExtractor&&n.jsx(U,{variant:"destructive",className:"text-xs",children:"Extractor"}),I.flags?.isHighPotential&&n.jsx(U,{variant:"default",className:"text-xs",children:"High Pot."})]})}),n.jsx(B,{children:n.jsxs(Ze,{value:(I.tier??0).toString(),onValueChange:R=>{j.mutate({userId:I.id,tier:parseInt(R)})},children:[n.jsx(Qe,{className:"w-[100px] h-8","data-testid":`select-tier-${I.id}`,children:n.jsx(Je,{})}),n.jsx(Xe,{children:[0,1,2,3,4].map(R=>n.jsx(se,{value:R.toString(),children:j0[R]},R))})]})})]},I.id))})]})})})]})]})}function VQ(){const{userId:e}=tf(),[t,r]=p.useState(!1),{data:a,isLoading:s,error:l}=ke({queryKey:[`/api/admin/users/${e}/profile`]});if(s)return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(Me,{className:"h-12 w-64"}),n.jsx(Me,{className:"h-96"})]});if(l||!a)return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsx(Qs,{href:"/admin/users",children:n.jsx(re,{variant:"ghost",size:"icon",children:n.jsx(Zi,{className:"h-4 w-4"})})}),n.jsx("div",{className:"mt-4 text-red-500",children:"Failed to load user profile"})]});const c=a.createdAt?new Date(a.createdAt).toISOString().split("T")[0]:"N/A";async function d(){try{r(!0);const f=await fetch(`/api/admin/users/${e}/refresh-snapshot`,{method:"POST"});if(!f.ok){const m=await f.json().catch(()=>({}));throw new Error(m.error||"Failed to refresh snapshot")}_e.invalidateQueries({queryKey:[`/api/admin/users/${e}/profile`]}),alert("Snapshot refreshed successfully.")}catch(f){console.error("Snapshot refresh failed:",f.message),alert("Failed to refresh snapshot.")}finally{r(!1)}}return n.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"user-profile-container",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Qs,{href:"/admin/users",children:n.jsx(re,{variant:"ghost",size:"icon","data-testid":"button-back",children:n.jsx(Zi,{className:"h-4 w-4"})})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold","data-testid":"profile-title",children:[a.discordUsername,"'s Account"]}),n.jsxs("p",{className:"text-muted-foreground","data-testid":"profile-subtitle",children:["User ID: ",a.discordId]})]})]}),n.jsxs(G,{"data-testid":"card-profile",children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Your Hedge Ledger Account"}),n.jsx(Ce,{children:"Admin view of user account dashboard"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Profile"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Discord:"})," ",a.discordUsername]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Tier:"})," ",n.jsx(U,{children:a.tier})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total queries:"})," ",a.totalQueries]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Member since:"})," ",c]})]})]}),n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Wallets"}),a.wallets&&a.wallets.length>0?n.jsxs("div",{className:"space-y-2",children:[a.wallets.slice(0,5).map((f,m)=>{const h=`${f.address.slice(0,6)}${f.address.slice(-4)}`,g=f.verified?" Verified":" Not verified";return n.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[n.jsxs("div",{children:[m+1,"."," ",n.jsx("code",{className:"text-xs",children:h})," ","(",f.chain,")  ",g]}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1 break-all",children:f.address})]},f.id)}),a.wallets.length>5&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ ",a.wallets.length-5," more wallets"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"No wallets linked yet."})]}),n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"LP Positions"}),a.lpPositions&&a.lpPositions.length>0?n.jsxs("div",{className:"space-y-3",children:[a.lpPositions.slice(0,5).map(f=>n.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[n.jsxs("div",{className:"font-medium",children:[f.poolName," (",f.chain,")"]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[" ",f.lpAmount," LP",n.jsx("br",{})," 24h APR (with quests): ",f.apr24h,"%"]})]},f.id)),a.lpPositions.length>5&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ ",a.lpPositions.length-5," more LP positions"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"No LP positions detected yet."})]}),n.jsxs("div",{className:"border-t pt-4 space-y-4",children:[n.jsx(re,{className:"w-full",variant:"default","data-testid":"button-view-dashboard",onClick:()=>window.open(`${window.location.origin}/account?userId=${a.discordId}`,"_blank"),children:"View User Dashboard"}),n.jsx(re,{className:"w-full",variant:"secondary",onClick:d,disabled:t,children:t?"Refreshing snapshot...":"Refresh Snapshot (Admin)"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Early Access  features and on-chain automation are still being rolled out."})]})]})]})]})}function KQ(e){const t=WQ(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(YQ);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function WQ(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=XQ(s),d=QQ(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GQ=Symbol("radix.slottable");function YQ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GQ}function QQ(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function XQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ZQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],N5=ZQ.reduce((e,t)=>{const r=KQ(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Lx="Switch",[JQ]=gr(Lx),[eX,tX]=JQ(Lx),w5=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:m,form:h,...g}=e,[v,b]=p.useState(null),w=it(t,A=>b(A)),y=p.useRef(!1),j=v?h||!!v.closest("form"):!0,[C,E]=ta({prop:s,defaultProp:l??!1,onChange:m,caller:Lx});return n.jsxs(eX,{scope:r,checked:C,disabled:d,children:[n.jsx(N5.button,{type:"button",role:"switch","aria-checked":C,"aria-required":c,"data-state":A5(C),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:w,onClick:ze(e.onClick,A=>{E(T=>!T),j&&(y.current=A.isPropagationStopped(),y.current||A.stopPropagation())})}),j&&n.jsx(E5,{control:v,bubbles:!y.current,name:a,value:f,checked:C,required:c,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});w5.displayName=Lx;var S5="SwitchThumb",C5=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=tX(S5,r);return n.jsx(N5.span,{"data-state":A5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});C5.displayName=S5;var nX="SwitchBubbleInput",E5=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...s},l)=>{const c=p.useRef(null),d=it(c,l),f=kx(r),m=Ex(t);return p.useEffect(()=>{const h=c.current;if(!h)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&b){const w=new Event("click",{bubbles:a});b.call(h,r),h.dispatchEvent(w)}},[f,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:d,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E5.displayName=nX;function A5(e){return e?"checked":"unchecked"}var P5=w5,rX=C5;const Qr=p.forwardRef(({className:e,...t},r)=>n.jsx(P5,{className:Le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(rX,{className:Le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qr.displayName=P5.displayName;var aX="Separator",lT="horizontal",sX=["horizontal","vertical"],T5=p.forwardRef((e,t)=>{const{decorative:r,orientation:a=lT,...s}=e,l=iX(a)?a:lT,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return n.jsx(fo.div,{"data-orientation":l,...d,...s,ref:t})});T5.displayName=aX;function iX(e){return sX.includes(e)}var O5=T5;const Ln=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},s)=>n.jsx(O5,{ref:s,decorative:r,orientation:t,className:Le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Ln.displayName=O5.displayName;function hh(e){if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toLocaleString()}function b0(e){return(typeof e=="number"&&isFinite(e)?e:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function oT(e,t=2){if(e==null||e==="")return 0 .toFixed(t);const r=typeof e=="number"?e:parseFloat(String(e));return isFinite(r)?r.toFixed(t):0 .toFixed(t)}function lX(){const{discordId:e}=tf(),{toast:t}=Zt();console.log("[UserDashboard] Component mounted, discordId:",e);const{data:r,isLoading:a,error:s}=ke({queryKey:["/api/user/summary",e],enabled:!!e}),l=r?.user,c=Oe({mutationFn:async y=>{if(!e)throw new Error("Missing discordId");const j=await fetch(`/api/user/settings/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(!j.ok){const C=await j.json().catch(()=>({}));throw new Error(C.error||"Failed to update settings")}return await j.json()},onMutate:async y=>{await _e.cancelQueries({queryKey:["/api/user/summary",e]});const j=_e.getQueryData(["/api/user/summary",e]);return j?.user&&_e.setQueryData(["/api/user/summary",e],{...j,user:{...j.user,userSettings:{...j.user.userSettings,...y}}}),{previous:j}},onError:(y,j,C)=>{C?.previous&&_e.setQueryData(["/api/user/summary",e],C.previous),t({title:"Failed to save settings",description:y.message,variant:"destructive"})},onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"Settings updated"})}}),d=p.useMemo(()=>{switch(l?.archetype){case"INVESTOR":return"default";case"PLAYER":return"secondary";case"ADVENTURER":return"outline";case"EXTRACTOR":return"destructive";default:return"outline"}},[l?.archetype]),f=y=>{switch(y){case"PROGRESSION_GAMER":return"secondary";case"INVESTOR_GROWTH":return"default";case"INVESTOR_EXTRACTOR":return"destructive";case"SOCIAL_COMMUNITY":return"outline";case"NEW_EXPLORER":return"outline";default:return"outline"}},m=y=>y?{PROGRESSION_GAMER:"Progression Gamer",INVESTOR_GROWTH:"Growth Investor",INVESTOR_EXTRACTOR:"Extractor",SOCIAL_COMMUNITY:"Social/Community",NEW_EXPLORER:"New Explorer"}[y]||y:null,h=async()=>{l?.walletAddress&&(await navigator.clipboard.writeText(l.walletAddress),t({title:"Wallet copied"}))},g=(y,j)=>{c.mutate({[y]:j})},v=Oe({mutationFn:async()=>{if(!l?.id)throw new Error("No user ID");return De("POST",`/api/admin/users/${l.id}/refresh-snapshot`)},onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"Snapshot refreshed",description:"DFK data has been updated."})},onError:y=>{t({title:"Failed to refresh snapshot",description:y.message,variant:"destructive"})}}),b=Oe({mutationFn:async()=>{if(!l?.id)throw new Error("No user ID");return De("POST",`/api/admin/users/${l.id}/reclassify`)},onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"User reclassified",description:"Intent classification has been updated."})},onError:y=>{t({title:"Failed to reclassify user",description:y.message,variant:"destructive"})}});if(a)return n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx(Me,{className:"h-9 w-64"}),n.jsx(Me,{className:"h-40"}),n.jsx(Me,{className:"h-40"})]});if(s||!l)return n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx(Qs,{href:"/admin/users",children:n.jsx(re,{variant:"ghost",size:"icon",children:n.jsx(Zi,{className:"h-4 w-4"})})}),n.jsx(G,{children:n.jsxs(ae,{children:[n.jsx(ie,{children:"Error loading user"}),n.jsx(Ce,{children:"Unable to load user dashboard. Please return to the Users list."})]})})]});const w=l.dfkSnapshot;return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-user-dashboard",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Qs,{href:"/admin/users",children:n.jsx(re,{variant:"ghost",size:"icon",children:n.jsx(Zi,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"text-2xl font-bold",children:l.discordUsername}),n.jsxs("p",{className:"text-muted-foreground text-sm",children:["Discord ID: ",l.discordId]})]}),n.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n.jsx(U,{variant:d,children:l.archetype}),l.intentArchetype&&n.jsx(U,{variant:f(l.intentArchetype),children:m(l.intentArchetype)}),n.jsxs(U,{className:"bg-blue-600 text-white",children:["Tier ",l.tier??0]}),n.jsx(U,{variant:"outline",children:l.state})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Account Overview"}),n.jsx(Ce,{children:"Wallet and profile snapshot powered by stored data (no live on-chain calls)."})]}),l.lastUpdatedAt&&n.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(tt,{className:"h-4 w-4"}),"Updated ",hh(l.lastUpdatedAt)]})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Linked Wallets"}),l.linkedWallets&&l.linkedWallets.length>0?n.jsx("div",{className:"space-y-2",children:l.linkedWallets.map((y,j)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap","data-testid":`wallet-row-${j}`,children:[n.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[y.address.slice(0,6),"...",y.address.slice(-4)]}),y.isPrimary&&n.jsx(U,{variant:"secondary",className:"text-xs",children:"PRIMARY"}),n.jsx(U,{variant:y.isVerified?"default":"outline",className:"text-xs",children:y.isVerified?"VERIFIED":"NOT VERIFIED"}),n.jsx(re,{size:"icon",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(y.address).then(()=>{t({title:"Wallet copied",description:y.address})}).catch(()=>{t({title:"Copy failed",variant:"destructive"})})},"data-testid":`button-copy-wallet-${j}`,children:n.jsx(op,{className:"h-4 w-4"})})]},y.address))}):l.walletAddress?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[l.walletAddress.slice(0,6),"...",l.walletAddress.slice(-4)]}),n.jsx(U,{variant:"outline",className:"text-xs",children:"NOT VERIFIED"}),n.jsx(re,{size:"icon",variant:"ghost",onClick:h,children:n.jsx(op,{className:"h-4 w-4"})})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No wallets linked"})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Flags"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(l.flags||{}).filter(([,y])=>y).length===0&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"None"}),Object.entries(l.flags||{}).filter(([,y])=>y).map(([y])=>n.jsx(U,{variant:"secondary",className:"text-xs",children:y},y))]})]}),n.jsx(Ln,{orientation:"vertical",className:"h-10"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Behavior Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.behaviorTags?.length?l.behaviorTags.map(y=>n.jsx(U,{variant:"outline",className:"text-xs",children:y},y)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No tags"})})]})]})]})]}),l.intentArchetype||l.intentScores?n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Intent Classification"}),n.jsx(Ce,{children:"AI-powered player classification based on behavior patterns and wallet activity."})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>b.mutate(),disabled:b.isPending||!l?.id,"data-testid":"button-reclassify",children:[n.jsx(tt,{className:`h-4 w-4 mr-2 ${b.isPending?"animate-spin":""}`}),b.isPending?"Reclassifying...":"Reclassify"]})]}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Primary Intent:"}),l.intentArchetype?n.jsx(U,{variant:f(l.intentArchetype),className:"text-sm",children:m(l.intentArchetype)}):n.jsx(U,{variant:"outline",className:"text-sm text-muted-foreground",children:"Unclassified"})]}),l.intentScores&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Intent Scores"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Progression Gamer"}),n.jsx("span",{className:"font-mono",children:l.intentScores.progressionScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.progressionScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Growth Investor"}),n.jsx("span",{className:"font-mono",children:l.intentScores.investorGrowthScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.investorGrowthScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Extractor"}),n.jsx("span",{className:"font-mono",children:l.intentScores.extractorScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.extractorScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Social/Community"}),n.jsx("span",{className:"font-mono",children:l.intentScores.socialScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.socialScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"New Explorer"}),n.jsx("span",{className:"font-mono",children:l.intentScores.onboardingScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-yellow-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.onboardingScore??0,100))}%`}})})]})]})]})]})})]}):n.jsx(G,{children:n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Intent Classification"}),n.jsx(Ce,{children:"This user has not been classified yet. Click to run intent classification."})]}),n.jsxs(re,{variant:"default",size:"sm",onClick:()=>b.mutate(),disabled:b.isPending||!l?.id,"data-testid":"button-reclassify-initial",children:[n.jsx(tt,{className:`h-4 w-4 mr-2 ${b.isPending?"animate-spin":""}`}),b.isPending?"Classifying...":"Run Classification"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"DeFi Kingdoms Snapshot"}),n.jsx(Ce,{children:"Cached hero and garden metrics for this player."})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>v.mutate(),disabled:v.isPending||!l?.id,"data-testid":"button-refresh-snapshot",children:[n.jsx(tt,{className:`h-4 w-4 mr-2 ${v.isPending?"animate-spin":""}`}),v.isPending?"Refreshing...":"Refresh"]})]}),n.jsxs(Q,{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Hero Count"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.heroCount??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"LP Positions"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.lpPositions?.length??w?.lpPositionsCount??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total LP Value (USD)"}),n.jsxs("p",{className:"text-lg font-semibold",children:["$",w?.totalLPValue?.toFixed(2)??"0.00"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"DFK Age (days)"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.dfkAgeDays??""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"JEWEL"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.jewelBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"CRYSTAL"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.crystalBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.cJewelBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL Lock (days)"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.cJewelLockDaysRemaining??""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"First TX"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.firstTxAt?hh(w.firstTxAt):"N/A"})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Recent Optimizations"}),n.jsx(Ce,{children:"Latest garden optimization jobs for this player."})]}),n.jsx(re,{variant:"outline",size:"sm","data-testid":"button-expire-all",onClick:async()=>{try{if(!(await fetch(`/api/user/${e}/expire-optimizations`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to expire optimizations");t({title:"All stale optimizations marked as expired"}),_e.invalidateQueries({queryKey:["/api/user/summary",e]})}catch{t({title:"Error",description:"Failed to expire optimizations",variant:"destructive"})}},children:"Mark All Expired"})]}),n.jsx(Q,{className:"space-y-3",children:l.recentOptimizations?.length?l.recentOptimizations.map(y=>n.jsxs("div",{className:"p-3 rounded-lg border flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:y.service||"garden_optimization"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:hh(y.createdAt)})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsx(U,{variant:"outline",className:"uppercase text-[11px]",children:y.status}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.paymentJewel?`${y.paymentJewel} JEWEL`:"",y.poolCount?`  ${y.poolCount} pools`:""]})]})]},y.id)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No optimization history found."})})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:["Bridge Activity",l.bridgeActivity&&l.bridgeActivity.netExtractedUsd>100&&n.jsxs(U,{variant:"outline",className:"text-orange-600 border-orange-600",children:[n.jsx(qs,{className:"h-3 w-3 mr-1"}),"Extractor"]})]}),n.jsx(Ce,{children:"Cross-chain bridge flows for this wallet."})]}),n.jsx(Q,{children:l.bridgeActivity?n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridged In"}),n.jsxs("p",{className:"text-xl font-semibold text-green-600 flex items-center gap-1","data-testid":"text-bridge-in",children:[n.jsx(sp,{className:"h-4 w-4"}),"$",b0(l.bridgeActivity.totalBridgedInUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.bridgeActivity.heroesIn??0," heroes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridged Out"}),n.jsxs("p",{className:"text-xl font-semibold text-red-600 flex items-center gap-1","data-testid":"text-bridge-out",children:[n.jsx(ip,{className:"h-4 w-4"}),"$",b0(l.bridgeActivity.totalBridgedOutUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.bridgeActivity.heroesOut??0," heroes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Extracted"}),n.jsxs("p",{className:`text-xl font-semibold ${(l.bridgeActivity.netExtractedUsd??0)>0?"text-orange-600":"text-green-600"}`,"data-testid":"text-net-extracted",children:["$",b0(l.bridgeActivity.netExtractedUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Score: ",l.bridgeActivity.extractorScore??0,"/10"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Bridge"}),n.jsx("p",{className:"text-sm","data-testid":"text-last-bridge",children:l.bridgeActivity.lastBridgeAt?hh(l.bridgeActivity.lastBridgeAt):"N/A"}),l.bridgeActivity.extractorFlags&&l.bridgeActivity.extractorFlags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.bridgeActivity.extractorFlags.map(y=>n.jsx(U,{variant:"outline",className:"text-xs",children:y.replace(/_/g," ")},y))})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No bridge activity found for this wallet. Run the bridge indexer to populate data."})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"LP Positions Details"}),n.jsx(Ce,{children:"Breakdown of staked LP tokens across garden pools."})]}),n.jsx(re,{size:"icon",variant:"ghost",onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-refresh-lp-positions",children:n.jsx(tt,{className:`h-4 w-4 ${v.isPending?"animate-spin":""}`})})]}),n.jsx(Q,{children:w?.lpPositions&&w.lpPositions.length>0?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-xs text-muted-foreground font-medium pb-2 border-b",children:[n.jsx("div",{children:"Pool"}),n.jsx("div",{className:"text-right",children:"PID"}),n.jsx("div",{className:"text-right",children:"Staked LP"}),n.jsx("div",{className:"text-right",children:"Value (USD)"})]}),w.lpPositions.map((y,j)=>n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm py-2 border-b border-muted/50","data-testid":`row-lp-position-${y.pid??j}`,children:[n.jsx("div",{className:"font-medium",children:(y.poolName||y.pairName)?.replace(/wJEWEL/g,"JEWEL")||`Pool ${y.pid??j}`}),n.jsx("div",{className:"text-right text-muted-foreground",children:y.pid??"-"}),n.jsx("div",{className:"text-right font-mono",children:oT(y.lpBalance??y.stakedAmount,4)}),n.jsxs("div",{className:"text-right font-semibold",children:["$",oT(y.userTVL,2)]})]},y.pid??j)),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm pt-2 font-semibold",children:[n.jsx("div",{className:"col-span-3 text-right",children:"Total:"}),n.jsxs("div",{className:"text-right",children:["$",w.totalLPValue?.toFixed(2)??"0.00"]})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:'No LP positions found. Click "Refresh Snapshot" above to fetch latest data.'})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Hedge Settings"}),n.jsx(Ce,{children:"Per-user notification preferences."})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notify me when APR drops on one of my pools"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Uses cached pool data; no live RPC calls."})]}),n.jsx(Qr,{checked:l.userSettings.notifyOnAprDrop,onCheckedChange:y=>g("notifyOnAprDrop",y),disabled:c.isPending})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notify me when a new optimization report is ready"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Alerts when fresh optimization output is available."})]}),n.jsx(Qr,{checked:l.userSettings.notifyOnNewOptimization,onCheckedChange:y=>g("notifyOnNewOptimization",y),disabled:c.isPending})]})]})]})]})}function oX(){return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-expenses-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Expenses"}),n.jsx("p",{className:"text-muted-foreground",children:"Track OpenAI, Replit, and other operational costs"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{variant:"outline","data-testid":"button-upload-expenses",children:[n.jsx(SV,{className:"w-4 h-4 mr-2"}),"Upload CSV"]}),n.jsxs(re,{"data-testid":"button-add-expense",children:[n.jsx(Ji,{className:"w-4 h-4 mr-2"}),"Add Expense"]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Monthly Expenses"}),n.jsx(Ce,{children:"Expense tracking and reconciliation will be implemented in Phase 8"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[n.jsx("p",{children:"Expense management coming soon."}),n.jsx("p",{className:"text-sm mt-2",children:"This will include OpenAI API costs, Replit compute costs, and manual expense entries."})]})})]})]})}var cX="Label",k5=p.forwardRef((e,t)=>n.jsx(fo.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));k5.displayName=cX;var _5=k5;const dX=jx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ae=p.forwardRef(({className:e,...t},r)=>n.jsx(_5,{ref:r,className:Le(dX(),e),...t}));Ae.displayName=_5.displayName;function N0({enabled:e,onToggle:t,accent:r="emerald",testId:a}){const s=r==="emerald"?"from-emerald-400 via-emerald-500 to-emerald-600":"from-blue-400 via-blue-500 to-blue-600";return n.jsxs("button",{type:"button",onClick:()=>t(!e),"data-testid":a,className:`relative inline-flex h-8 w-20 items-center rounded-full px-2 text-xs font-semibold tracking-wide transition-all duration-200
        ${e?"bg-gradient-to-r "+s+" text-white":"bg-slate-500 text-slate-200"}
      `,children:[n.jsx("span",{className:`z-10 transition-opacity duration-200 ${e?"opacity-100":"opacity-80"}`,children:e?"ON":"OFF"}),n.jsx("span",{className:`absolute h-7 w-7 rounded-full bg-white shadow transform transition-transform duration-200
          ${e?"translate-x-6":"-translate-x-1"}
        `})]})}function uX(){const[e,t]=p.useState({paymentBypass:!1,verboseLogging:!1,oauthBypass:!1}),[r,a]=p.useState(!1);async function s(){if(!r){a(!0);try{const c=await fetch("/api/admin/restart-server",{method:"POST",headers:{"Content-Type":"application/json"}});c.ok?setTimeout(()=>{window.location.reload()},3e3):(console.error("Restart failed with status:",c.status),a(!1))}catch(c){console.error("Failed to restart server:",c),setTimeout(()=>{window.location.reload()},2e3)}}}p.useEffect(()=>{async function c(){try{const d=await fetch("/api/admin/debug-settings");if(!d.ok)return;const f=await d.json();t(m=>({...m,...f}))}catch(d){console.error("Failed to load debug settings:",d)}}c()},[]);async function l(c,d){const f={...e,[c]:d};t(f);try{await fetch("/api/admin/debug-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),_e.invalidateQueries({queryKey:["/api/admin/debug-settings"]})}catch(m){console.error("Failed to update debug settings:",m)}}return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-settings-page",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure Hedge Ledger behavior and debug options"})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Debug Settings"}),n.jsx(Ce,{children:"Options for testing and development"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ae,{children:"Payment Bypass"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip JEWEL payment verification for garden optimization testing"})]}),n.jsx(N0,{enabled:e.paymentBypass,onToggle:c=>l("paymentBypass",c),accent:"emerald",testId:"switch-payment-bypass"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ae,{children:"Verbose Logging"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable detailed console logging for debugging"})]}),n.jsx(N0,{enabled:e.verboseLogging,onToggle:c=>l("verboseLogging",c),accent:"blue",testId:"switch-verbose-logging"})]}),e.oauthBypassAllowed&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ae,{children:"OAuth Bypass"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip Discord OAuth for admin dashboard testing (allows unauthenticated access)"})]}),n.jsx(N0,{enabled:e.oauthBypass,onToggle:c=>l("oauthBypass",c),accent:"emerald",testId:"switch-oauth-bypass"})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Bot Configuration"}),n.jsx(Ce,{children:"General bot settings (changes require restart)"})]}),n.jsx(Q,{children:n.jsx("div",{className:"py-8 text-center text-muted-foreground",children:n.jsx("p",{children:"Configuration options coming soon."})})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Server Control"}),n.jsx(Ce,{children:"Restart the server to apply code changes"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ae,{children:"Restart Server"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Restart the backend server process to apply code changes. The page will reload automatically."})]}),n.jsx(re,{onClick:s,disabled:r,variant:"destructive","data-testid":"button-restart-server",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}),"Restarting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:"h-4 w-4 mr-2"}),"Restart Server"]})})]})})]})]})}function fX(e){const t=mX(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(pX);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function mX(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=gX(s),d=xX(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hX=Symbol("radix.slottable");function pX(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hX}function xX(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function gX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],df=vX.reduce((e,t)=>{const r=fX(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function yX(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var Cw="ScrollArea",[R5]=gr(Cw),[jX,ka]=R5(Cw),M5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:l=600,...c}=e,[d,f]=p.useState(null),[m,h]=p.useState(null),[g,v]=p.useState(null),[b,w]=p.useState(null),[y,j]=p.useState(null),[C,E]=p.useState(0),[A,T]=p.useState(0),[k,P]=p.useState(!1),[_,M]=p.useState(!1),X=it(t,R=>f(R)),I=Jc(s);return n.jsx(jX,{scope:r,type:a,dir:I,scrollHideDelay:l,scrollArea:d,viewport:m,onViewportChange:h,content:g,onContentChange:v,scrollbarX:b,onScrollbarXChange:w,scrollbarXEnabled:k,onScrollbarXEnabledChange:P,scrollbarY:y,onScrollbarYChange:j,scrollbarYEnabled:_,onScrollbarYEnabledChange:M,onCornerWidthChange:E,onCornerHeightChange:T,children:n.jsx(df.div,{dir:I,...c,ref:X,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});M5.displayName=Cw;var D5="ScrollAreaViewport",L5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:s,...l}=e,c=ka(D5,r),d=p.useRef(null),f=it(t,d,c.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(df.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});L5.displayName=D5;var xs="ScrollAreaScrollbar",Ew=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=ka(xs,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=s,d=e.orientation==="horizontal";return p.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),s.type==="hover"?n.jsx(bX,{...a,ref:t,forceMount:r}):s.type==="scroll"?n.jsx(NX,{...a,ref:t,forceMount:r}):s.type==="auto"?n.jsx(I5,{...a,ref:t,forceMount:r}):s.type==="always"?n.jsx(Aw,{...a,ref:t}):null});Ew.displayName=xs;var bX=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=ka(xs,e.__scopeScrollArea),[l,c]=p.useState(!1);return p.useEffect(()=>{const d=s.scrollArea;let f=0;if(d){const m=()=>{window.clearTimeout(f),c(!0)},h=()=>{f=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",h),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),n.jsx(aa,{present:r||l,children:n.jsx(I5,{"data-state":l?"visible":"hidden",...a,ref:t})})}),NX=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=ka(xs,e.__scopeScrollArea),l=e.orientation==="horizontal",c=$x(()=>f("SCROLL_END"),100),[d,f]=yX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,s.scrollHideDelay,f]),p.useEffect(()=>{const m=s.viewport,h=l?"scrollLeft":"scrollTop";if(m){let g=m[h];const v=()=>{const b=m[h];g!==b&&(f("SCROLL"),c()),g=b};return m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[s.viewport,l,f,c]),n.jsx(aa,{present:r||d!=="hidden",children:n.jsx(Aw,{"data-state":d==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),I5=p.forwardRef((e,t)=>{const r=ka(xs,e.__scopeScrollArea),{forceMount:a,...s}=e,[l,c]=p.useState(!1),d=e.orientation==="horizontal",f=$x(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?m:h)}},10);return Ac(r.viewport,f),Ac(r.content,f),n.jsx(aa,{present:a||l,children:n.jsx(Aw,{"data-state":l?"visible":"hidden",...s,ref:t})})}),Aw=p.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,s=ka(xs,e.__scopeScrollArea),l=p.useRef(null),c=p.useRef(0),[d,f]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=U5(d.viewport,d.content),h={...a,sizes:d,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:v=>l.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function g(v,b){return PX(v,c.current,d,b)}return r==="horizontal"?n.jsx(wX,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollLeft,b=cT(v,d,s.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=g(v,s.dir))}}):r==="vertical"?n.jsx(SX,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollTop,b=cT(v,d);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=g(v))}}):null}),wX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,l=ka(xs,e.__scopeScrollArea),[c,d]=p.useState(),f=p.useRef(null),m=it(t,f,l.onScrollbarXChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(F5,{"data-orientation":"horizontal",...s,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ix(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,g)=>{if(l.viewport){const v=l.viewport.scrollLeft+h.deltaX;e.onWheelScroll(v),q5(v,g)&&h.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:vp(c.paddingLeft),paddingEnd:vp(c.paddingRight)}})}})}),SX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,l=ka(xs,e.__scopeScrollArea),[c,d]=p.useState(),f=p.useRef(null),m=it(t,f,l.onScrollbarYChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(F5,{"data-orientation":"vertical",...s,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ix(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,g)=>{if(l.viewport){const v=l.viewport.scrollTop+h.deltaY;e.onWheelScroll(v),q5(v,g)&&h.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:vp(c.paddingTop),paddingEnd:vp(c.paddingBottom)}})}})}),[CX,$5]=R5(xs),F5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:h,onResize:g,...v}=e,b=ka(xs,r),[w,y]=p.useState(null),j=it(t,X=>y(X)),C=p.useRef(null),E=p.useRef(""),A=b.viewport,T=a.content-a.viewport,k=Pn(h),P=Pn(f),_=$x(g,10);function M(X){if(C.current){const I=X.clientX-C.current.left,R=X.clientY-C.current.top;m({x:I,y:R})}}return p.useEffect(()=>{const X=I=>{const R=I.target;w?.contains(R)&&k(I,T)};return document.addEventListener("wheel",X,{passive:!1}),()=>document.removeEventListener("wheel",X,{passive:!1})},[A,w,T,k]),p.useEffect(P,[a,P]),Ac(w,_),Ac(b.content,_),n.jsx(CX,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:Pn(l),onThumbPointerUp:Pn(c),onThumbPositionChange:P,onThumbPointerDown:Pn(d),children:n.jsx(df.div,{...v,ref:j,style:{position:"absolute",...v.style},onPointerDown:ze(e.onPointerDown,X=>{X.button===0&&(X.target.setPointerCapture(X.pointerId),C.current=w.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),M(X))}),onPointerMove:ze(e.onPointerMove,M),onPointerUp:ze(e.onPointerUp,X=>{const I=X.target;I.hasPointerCapture(X.pointerId)&&I.releasePointerCapture(X.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),C.current=null})})})}),gp="ScrollAreaThumb",z5=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=$5(gp,e.__scopeScrollArea);return n.jsx(aa,{present:r||s.hasThumb,children:n.jsx(EX,{ref:t,...a})})}),EX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...s}=e,l=ka(gp,r),c=$5(gp,r),{onThumbPositionChange:d}=c,f=it(t,g=>c.onThumbChange(g)),m=p.useRef(void 0),h=$x(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const g=l.viewport;if(g){const v=()=>{if(h(),!m.current){const b=TX(g,d);m.current=b,d()}};return d(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[l.viewport,h,d]),n.jsx(df.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ze(e.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),w=g.clientX-b.left,y=g.clientY-b.top;c.onThumbPointerDown({x:w,y})}),onPointerUp:ze(e.onPointerUp,c.onThumbPointerUp)})});z5.displayName=gp;var Pw="ScrollAreaCorner",B5=p.forwardRef((e,t)=>{const r=ka(Pw,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?n.jsx(AX,{...e,ref:t}):null});B5.displayName=Pw;var AX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,s=ka(Pw,r),[l,c]=p.useState(0),[d,f]=p.useState(0),m=!!(l&&d);return Ac(s.scrollbarX,()=>{const h=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(h),f(h)}),Ac(s.scrollbarY,()=>{const h=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(h),c(h)}),m?n.jsx(df.div,{...a,ref:t,style:{width:l,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vp(e){return e?parseInt(e,10):0}function U5(e,t){const r=e/t;return isNaN(r)?0:r}function Ix(e){const t=U5(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function PX(e,t,r,a="ltr"){const s=Ix(r),l=s/2,c=t||l,d=s-c,f=r.scrollbar.paddingStart+c,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,h=r.content-r.viewport,g=a==="ltr"?[0,h]:[h*-1,0];return H5([f,m],g)(e)}function cT(e,t,r="ltr"){const a=Ix(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-s,c=t.content-t.viewport,d=l-a,f=r==="ltr"?[0,c]:[c*-1,0],m=Du(e,f);return H5([0,c],[0,d])(m)}function H5(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function q5(e,t){return e>0&&e<t}var TX=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function s(){const l={left:e.scrollLeft,top:e.scrollTop},c=r.left!==l.left,d=r.top!==l.top;(c||d)&&t(),r=l,a=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(a)};function $x(e,t){const r=Pn(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Ac(e,t){const r=Pn(t);un(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,r])}var V5=M5,OX=L5,kX=B5;const Yi=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(V5,{ref:a,className:Le("relative overflow-hidden",e),...r,children:[n.jsx(OX,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(K5,{}),n.jsx(kX,{})]}));Yi.displayName=V5.displayName;const K5=p.forwardRef(({className:e,orientation:t="vertical",...r},a)=>n.jsx(Ew,{ref:a,orientation:t,className:Le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(z5,{className:"relative flex-1 rounded-full bg-border"})}));K5.displayName=Ew.displayName;function _X(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c);d.displayName=l+"Context";const f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:b,...w}=g,y=v?.[e]?.[f]||d,j=p.useMemo(()=>w,Object.values(w));return n.jsx(y.Provider,{value:j,children:b})};m.displayName=l+"Provider";function h(g,v){const b=v?.[e]?.[f]||d,w=p.useContext(b);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,RX(s,...t)]}function RX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var Tw="Progress",Ow=100,[MX]=_X(Tw),[DX,LX]=MX(Tw),W5=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:l=IX,...c}=e;(s||s===0)&&!dT(s)&&console.error($X(`${s}`,"Progress"));const d=dT(s)?s:Ow;a!==null&&!uT(a,d)&&console.error(FX(`${a}`,"Progress"));const f=uT(a,d)?a:null,m=yp(f)?l(f,d):void 0;return n.jsx(DX,{scope:r,value:f,max:d,children:n.jsx(fo.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":yp(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":Q5(f,d),"data-value":f??void 0,"data-max":d,...c,ref:t})})});W5.displayName=Tw;var G5="ProgressIndicator",Y5=p.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=LX(G5,r);return n.jsx(fo.div,{"data-state":Q5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});Y5.displayName=G5;function IX(e,t){return`${Math.round(e/t*100)}%`}function Q5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function yp(e){return typeof e=="number"}function dT(e){return yp(e)&&!isNaN(e)&&e>0}function uT(e,t){return yp(e)&&!isNaN(e)&&e<=t&&e>=0}function $X(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ow}\`.`}function FX(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ow} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var X5=W5,zX=Y5;const Ut=p.forwardRef(({className:e,value:t,...r},a)=>n.jsx(X5,{ref:a,className:Le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(zX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`,backfaceVisibility:"hidden",willChange:"transform"}})}));Ut.displayName=X5.displayName;var BX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kw(e){if(typeof e!="string")return!1;var t=BX;return t.includes(e)}var UX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HX=new Set(UX);function Z5(e){return typeof e!="string"?!1:HX.has(e)}function J5(e){return typeof e=="string"&&e.startsWith("data-")}function Mr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Z5(r)||J5(r))&&(t[r]=e[r]);return t}function no(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Mr(t)}return typeof e=="object"&&!Array.isArray(e)?Mr(e):null}function cr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Z5(r)||J5(r)||kw(r))&&(t[r]=e[r]);return t}function qX(e){return e==null?null:p.isValidElement(e)?cr(e.props):typeof e=="object"&&!Array.isArray(e)?cr(e):null}var VX=["children","width","height","viewBox","className","style","title","desc"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lb.apply(null,arguments)}function KX(e,t){if(e==null)return{};var r,a,s=WX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var _w=p.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=KX(e,VX),g=l||{width:a,height:s,x:0,y:0},v=wt("recharts-surface",c);return p.createElement("svg",Lb({},cr(h),{className:v,width:a,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),p.createElement("title",null,f),p.createElement("desc",null,m),r)}),GX=["children","className"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ib.apply(null,arguments)}function YX(e,t){if(e==null)return{};var r,a,s=QX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var fn=p.forwardRef((e,t)=>{var{children:r,className:a}=e,s=YX(e,GX),l=wt("recharts-layer",a);return p.createElement("g",Ib({className:l},cr(s),{ref:t}),r)}),e3=p.createContext(null),XX=()=>p.useContext(e3);function Kt(e){return function(){return e}}const t3=Math.cos,jp=Math.sin,Wa=Math.sqrt,bp=Math.PI,Fx=2*bp,$b=Math.PI,Fb=2*$b,Fl=1e-6,ZX=Fb-Fl;function n3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function JX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n3;const r=10**t;return function(a){this._+=a[0];for(let s=1,l=a.length;s<l;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class eZ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?n3:JX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,l,c){this._append`C${+t},${+r},${+a},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,a,s,l){if(t=+t,r=+r,a=+a,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=a-t,m=s-r,h=c-t,g=d-r,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Fl)if(!(Math.abs(g*f-m*h)>Fl)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let b=a-c,w=s-d,y=f*f+m*m,j=b*b+w*w,C=Math.sqrt(y),E=Math.sqrt(v),A=l*Math.tan(($b-Math.acos((y+v-j)/(2*C*E)))/2),T=A/E,k=A/C;Math.abs(T-1)>Fl&&this._append`L${t+T*h},${r+T*g}`,this._append`A${l},${l},0,0,${+(g*b>h*w)},${this._x1=t+k*f},${this._y1=r+k*m}`}}arc(t,r,a,s,l,c){if(t=+t,r=+r,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),f=a*Math.sin(s),m=t+d,h=r+f,g=1^c,v=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Fl||Math.abs(this._y1-h)>Fl)&&this._append`L${m},${h}`,a&&(v<0&&(v=v%Fb+Fb),v>ZX?this._append`A${a},${a},0,1,${g},${t-d},${r-f}A${a},${a},0,1,${g},${this._x1=m},${this._y1=h}`:v>Fl&&this._append`A${a},${a},0,${+(v>=$b)},${g},${this._x1=t+a*Math.cos(l)},${this._y1=r+a*Math.sin(l)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Rw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new eZ(t)}function Mw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function r3(e){this._context=e}r3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zx(e){return new r3(e)}function a3(e){return e[0]}function s3(e){return e[1]}function i3(e,t){var r=Kt(!0),a=null,s=zx,l=null,c=Rw(d);e=typeof e=="function"?e:e===void 0?a3:Kt(e),t=typeof t=="function"?t:t===void 0?s3:Kt(t);function d(f){var m,h=(f=Mw(f)).length,g,v=!1,b;for(a==null&&(l=s(b=c())),m=0;m<=h;++m)!(m<h&&r(g=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(g,m,f),+t(g,m,f));if(b)return l=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Kt(!!f),d):r},d.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),d):s},d.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),d):a},d}function ph(e,t,r){var a=null,s=Kt(!0),l=null,c=zx,d=null,f=Rw(m);e=typeof e=="function"?e:e===void 0?a3:Kt(+e),t=typeof t=="function"?t:Kt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?s3:Kt(+r);function m(g){var v,b,w,y=(g=Mw(g)).length,j,C=!1,E,A=new Array(y),T=new Array(y);for(l==null&&(d=c(E=f())),v=0;v<=y;++v){if(!(v<y&&s(j=g[v],v,g))===C)if(C=!C)b=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=v-1;w>=b;--w)d.point(A[w],T[w]);d.lineEnd(),d.areaEnd()}C&&(A[v]=+e(j,v,g),T[v]=+t(j,v,g),d.point(a?+a(j,v,g):A[v],r?+r(j,v,g):T[v]))}if(E)return d=null,E+""||null}function h(){return i3().defined(s).curve(c).context(l)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),a=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),m):e},m.x1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Kt(+g),m):a},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),r=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),m):t},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Kt(+g),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(a).y(t)},m.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Kt(!!g),m):s},m.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),m):c},m.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),m):l},m}class l3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function tZ(e){return new l3(e,!0)}function nZ(e){return new l3(e,!1)}const Dw={draw(e,t){const r=Wa(t/bp);e.moveTo(r,0),e.arc(0,0,r,0,Fx)}},rZ={draw(e,t){const r=Wa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},o3=Wa(1/3),aZ=o3*2,sZ={draw(e,t){const r=Wa(t/aZ),a=r*o3;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},iZ={draw(e,t){const r=Wa(t),a=-r/2;e.rect(a,a,r,r)}},lZ=.8908130915292852,c3=jp(bp/10)/jp(7*bp/10),oZ=jp(Fx/10)*c3,cZ=-t3(Fx/10)*c3,dZ={draw(e,t){const r=Wa(t*lZ),a=oZ*r,s=cZ*r;e.moveTo(0,-r),e.lineTo(a,s);for(let l=1;l<5;++l){const c=Fx*l/5,d=t3(c),f=jp(c);e.lineTo(f*r,-d*r),e.lineTo(d*a-f*s,f*a+d*s)}e.closePath()}},w0=Wa(3),uZ={draw(e,t){const r=-Wa(t/(w0*3));e.moveTo(0,r*2),e.lineTo(-w0*r,-r),e.lineTo(w0*r,-r),e.closePath()}},va=-.5,ya=Wa(3)/2,zb=1/Wa(12),fZ=(zb/2+1)*3,mZ={draw(e,t){const r=Wa(t/fZ),a=r/2,s=r*zb,l=a,c=r*zb+r,d=-l,f=c;e.moveTo(a,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(va*a-ya*s,ya*a+va*s),e.lineTo(va*l-ya*c,ya*l+va*c),e.lineTo(va*d-ya*f,ya*d+va*f),e.lineTo(va*a+ya*s,va*s-ya*a),e.lineTo(va*l+ya*c,va*c-ya*l),e.lineTo(va*d+ya*f,va*f-ya*d),e.closePath()}};function hZ(e,t){let r=null,a=Rw(s);e=typeof e=="function"?e:Kt(e||Dw),t=typeof t=="function"?t:Kt(t===void 0?64:+t);function s(){let l;if(r||(r=l=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(+l),s):t},s.context=function(l){return arguments.length?(r=l??null,s):r},s}function Np(){}function wp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function d3(e){this._context=e}d3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pZ(e){return new d3(e)}function u3(e){this._context=e}u3.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xZ(e){return new u3(e)}function f3(e){this._context=e}f3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gZ(e){return new f3(e)}function m3(e){this._context=e}m3.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vZ(e){return new m3(e)}function fT(e){return e<0?-1:1}function mT(e,t,r){var a=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(a||s<0&&-0),c=(r-e._y1)/(s||a<0&&-0),d=(l*s+c*a)/(a+s);return(fT(l)+fT(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function hT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function S0(e,t,r){var a=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-a)/3;e._context.bezierCurveTo(a+d,s+d*t,l-d,c-d*r,l,c)}function Sp(e){this._context=e}Sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:S0(this,this._t0,hT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,S0(this,hT(this,r=mT(this,e,t)),r);break;default:S0(this,this._t0,r=mT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function h3(e){this._context=new p3(e)}(h3.prototype=Object.create(Sp.prototype)).point=function(e,t){Sp.prototype.point.call(this,t,e)};function p3(e){this._context=e}p3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,l){this._context.bezierCurveTo(t,e,a,r,l,s)}};function yZ(e){return new Sp(e)}function jZ(e){return new h3(e)}function x3(e){this._context=e}x3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=pT(e),s=pT(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(a[0][l],s[0][l],a[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pT(e){var t,r=e.length-1,a,s=new Array(r),l=new Array(r),c=new Array(r);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/l[t-1],l[t]-=a,c[t]-=a*c[t-1];for(s[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function bZ(e){return new x3(e)}function Bx(e,t){this._context=e,this._t=t}Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function NZ(e){return new Bx(e,.5)}function wZ(e){return new Bx(e,0)}function SZ(e){return new Bx(e,1)}function Pc(e,t){if((c=e.length)>1)for(var r=1,a,s,l=e[t[0]],c,d=l.length;r<c;++r)for(s=l,l=e[t[r]],a=0;a<d;++a)l[a][1]+=l[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Bb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function CZ(e,t){return e[t]}function EZ(e){const t=[];return t.key=e,t}function AZ(){var e=Kt([]),t=Bb,r=Pc,a=CZ;function s(l){var c=Array.from(e.apply(this,arguments),EZ),d,f=c.length,m=-1,h;for(const g of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+a(g,c[d].key,m,l)]).data=g;for(d=0,h=Mw(t(c));d<f;++d)c[h[d]].index=d;return r(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(a=typeof l=="function"?l:Kt(+l),s):a},s.order=function(l){return arguments.length?(t=l==null?Bb:typeof l=="function"?l:Kt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(r=l??Pc,s):r},s}function PZ(e,t){if((a=e.length)>0){for(var r,a,s=0,l=e[0].length,c;s<l;++s){for(c=r=0;r<a;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<a;++r)e[r][s][1]/=c}Pc(e,t)}}function TZ(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,l=a.length;r<l;++r){for(var c=0,d=0;c<s;++c)d+=e[c][r][1]||0;a[r][1]+=a[r][0]=-d/2}Pc(e,t)}}function OZ(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,l,c;a<l;++a){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],g=h[a][1]||0,v=h[a-1][1]||0,b=(g-v)/2,w=0;w<d;++w){var y=e[t[w]],j=y[a][1]||0,C=y[a-1][1]||0;b+=j-C}f+=g,m+=b*g}s[a-1][1]+=s[a-1][0]=r,f&&(r-=m/f)}s[a-1][1]+=s[a-1][0]=r,Pc(e,t)}}var C0={},E0={},xT;function kZ(){return xT||(xT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(E0)),E0}var A0={},gT;function g3(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(A0)),A0}var P0={},vT;function Lw(){return vT||(vT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(P0)),P0}var T0={},O0={},yT;function _Z(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(O0)),O0}var jT;function Iw(){return jT||(jT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Z(),r=Lw();function a(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const l=[],c=s.length;if(c===0)return l;let d=0,f="",m="",h=!1;for(s.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=s[d];m?g==="\\"&&d+1<c?(d++,f+=s[d]):g===m?m="":f+=g:h?g==='"'||g==="'"?m=g:g==="]"?(h=!1,l.push(f),f=""):f+=g:g==="["?(h=!0,f&&(l.push(f),f="")):g==="."?f&&(l.push(f),f=""):f+=g,d++}return f&&l.push(f),l}e.toPath=a})(T0)),T0}var bT;function $w(){return bT||(bT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kZ(),r=g3(),a=Lw(),s=Iw();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?r.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=a.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return m;h=h[f[g]]}return h===void 0?m:h}e.get=l})(C0)),C0}var k0,NT;function RZ(){return NT||(NT=1,k0=$w().get),k0}var MZ=RZ();const ro=ms(MZ);var Kn=e=>e===0?0:e>0?1:-1,Dr=e=>typeof e=="number"&&e!=+e,ti=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Be=e=>(typeof e=="number"||e instanceof Number)&&!Dr(e),Pa=e=>Be(e)||typeof e=="string",DZ=0,Lu=e=>{var t=++DZ;return"".concat(e||"").concat(t)},or=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(t)&&typeof t!="string")return a;var l;if(ti(t)){if(r==null)return a;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return Dr(l)&&(l=a),s&&r!=null&&l>r&&(l=r),l},v3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function Xt(e,t,r){return Be(e)&&Be(t)?e+r*(t-e):t}function y3(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):ro(a,t))===r)}var an=e=>e===null||typeof e>"u",uf=e=>an(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function LZ(e){return e!=null}function ff(){}var IZ=["type","size","sizeType"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ub.apply(null,arguments)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(a){$Z(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $Z(e,t,r){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t){if(e==null)return{};var r,a,s=UZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function UZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var j3={symbolCircle:Dw,symbolCross:rZ,symbolDiamond:sZ,symbolSquare:iZ,symbolStar:dZ,symbolTriangle:uZ,symbolWye:mZ},HZ=Math.PI/180,qZ=e=>{var t="symbol".concat(uf(e));return j3[t]||Dw},VZ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*HZ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},KZ=(e,t)=>{j3["symbol".concat(uf(e))]=t},Fw=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=BZ(e,IZ),l=ST(ST({},s),{},{type:t,size:r,sizeType:a}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var v=qZ(c),b=hZ().type(v).size(VZ(r,a,c)),w=b();if(w!==null)return w},{className:f,cx:m,cy:h}=l,g=cr(l);return Be(m)&&Be(h)&&Be(r)?p.createElement("path",Ub({},g,{className:wt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};Fw.registerSymbol=KZ;var b3=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,zw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{kw(s)&&(a[s]=(l=>r[s](r,l)))}),a},WZ=(e,t,r)=>a=>(e(t,r,a),null),mf=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var l=e[s];kw(s)&&typeof l=="function"&&(a||(a={}),a[s]=WZ(l,t,r))}),a};function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function GZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(a){YZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YZ(e,t,r){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(e,t){var r=GZ({},e),a=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),r);return l}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cp.apply(null,arguments)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ZZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(a){JZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JZ(e,t,r){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eJ(e){var t=tJ(e,"string");return typeof t=="symbol"?t:t+""}function tJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Na=32,nJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function rJ(e){var{data:t,iconType:r,inactiveColor:a}=e,s=Na/2,l=Na/6,c=Na/3,d=t.inactive?a:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var m;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:s,x2:Na,y2:s,className:"recharts-legend-icon"})}if(f==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Na,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(f==="rect")return p.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Na/8,"h").concat(Na,"v").concat(Na*3/4,"h").concat(-Na,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var h=ZZ({},t);return delete h.legendIcon,p.cloneElement(t.legendIcon,h)}return p.createElement(Fw,{fill:d,cx:s,cy:s,size:Na,sizeType:"diameter",type:f})}function aJ(e){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:l,iconType:c}=e,d={x:0,y:0,width:Na,height:Na},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var v=h.formatter||s,b=wt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var w=h.inactive?l:h.color,y=v?v(h.value,h,g):h.value;return p.createElement("li",Cp({className:b,style:f,key:"legend-item-".concat(g)},mf(e,h,g)),p.createElement(_w,{width:r,height:r,viewBox:d,style:m,"aria-label":"".concat(y," legend icon")},p.createElement(rJ,{data:h,iconType:c,inactiveColor:l})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y))})}var sJ=e=>{var t=bn(e,nJ),{payload:r,layout:a,align:s}=t;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:l},p.createElement(aJ,Cp({},t,{payload:r})))},_0={},R0={},AT;function iJ(){return AT||(AT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let l=0;l<r.length;l++){const c=r[l],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(R0)),R0}var M0={},PT;function N3(){return PT||(PT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(M0)),M0}var D0={},L0={},I0={},TT;function lJ(){return TT||(TT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(I0)),I0}var OT;function Bw(){return OT||(OT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lJ();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(L0)),L0}var $0={},kT;function oJ(){return kT||(kT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})($0)),$0}var _T;function cJ(){return _T||(_T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw(),r=oJ();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(D0)),D0}var F0={},z0={},RT;function dJ(){return RT||(RT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w();function r(a){return function(s){return t.get(s,a)}}e.property=r})(z0)),z0}var B0={},U0={},H0={},q0={},MT;function w3(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(q0)),q0}var V0={},DT;function S3(){return DT||(DT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(V0)),V0}var K0={},LT;function C3(){return LT||(LT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(K0)),K0}var IT;function uJ(){return IT||(IT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w3(),r=S3(),a=C3();function s(h,g,v){return typeof v!="function"?s(h,g,()=>{}):l(h,g,function b(w,y,j,C,E,A){const T=v(w,y,j,C,E,A);return T!==void 0?!!T:l(w,y,b,A)},new Map)}function l(h,g,v,b){if(g===h)return!0;switch(typeof g){case"object":return c(h,g,v,b);case"function":return Object.keys(g).length>0?l(h,{...g},v,b):a.eq(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:a.eq(h,g)}}function c(h,g,v,b){if(g==null)return!0;if(Array.isArray(g))return f(h,g,v,b);if(g instanceof Map)return d(h,g,v,b);if(g instanceof Set)return m(h,g,v,b);const w=Object.keys(g);if(h==null)return w.length===0;if(w.length===0)return!0;if(b?.has(g))return b.get(g)===h;b?.set(g,h);try{for(let y=0;y<w.length;y++){const j=w[y];if(!r.isPrimitive(h)&&!(j in h)||g[j]===void 0&&h[j]!==void 0||g[j]===null&&h[j]!==null||!v(h[j],g[j],j,h,g,b))return!1}return!0}finally{b?.delete(g)}}function d(h,g,v,b){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,y]of g.entries()){const j=h.get(w);if(v(j,y,w,h,g,b)===!1)return!1}return!0}function f(h,g,v,b){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let y=0;y<g.length;y++){const j=g[y];let C=!1;for(let E=0;E<h.length;E++){if(w.has(E))continue;const A=h[E];let T=!1;if(v(A,j,y,h,g,b)&&(T=!0),T){w.add(E),C=!0;break}}if(!C)return!1}return!0}function m(h,g,v,b){return g.size===0?!0:h instanceof Set?f([...h],[...g],v,b):!1}e.isMatchWith=s,e.isSetMatch=m})(H0)),H0}var $T;function E3(){return $T||($T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uJ();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(U0)),U0}var W0={},G0={},Y0={},FT;function fJ(){return FT||(FT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(Y0)),Y0}var Q0={},zT;function A3(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Q0)),Q0}var X0={},BT;function P3(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",b="[object Object]",w="[object Error]",y="[object DataView]",j="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",P="[object Int16Array]",_="[object Int32Array]",M="[object BigInt64Array]",X="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=y,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=X,e.float64ArrayTag=I,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=_,e.int8ArrayTag=k,e.mapTag=f,e.numberTag=a,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=C})(X0)),X0}var Z0={},UT;function mJ(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Z0)),Z0}var HT;function T3(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fJ(),r=A3(),a=P3(),s=S3(),l=mJ();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,v,b=new Map,w=void 0){const y=w?.(h,g,v,b);if(y!==void 0)return y;if(s.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const j=new Array(h.length);b.set(h,j);for(let C=0;C<h.length;C++)j[C]=d(h[C],C,v,b,w);return Object.hasOwn(h,"index")&&(j.index=h.index),Object.hasOwn(h,"input")&&(j.input=h.input),j}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const j=new RegExp(h.source,h.flags);return j.lastIndex=h.lastIndex,j}if(h instanceof Map){const j=new Map;b.set(h,j);for(const[C,E]of h)j.set(C,d(E,C,v,b,w));return j}if(h instanceof Set){const j=new Set;b.set(h,j);for(const C of h)j.add(d(C,void 0,v,b,w));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const j=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,j);for(let C=0;C<h.length;C++)j[C]=d(h[C],C,v,b,w);return j}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const j=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,j),f(j,h,v,b,w),j}if(typeof File<"u"&&h instanceof File){const j=new File([h],h.name,{type:h.type});return b.set(h,j),f(j,h,v,b,w),j}if(typeof Blob<"u"&&h instanceof Blob){const j=new Blob([h],{type:h.type});return b.set(h,j),f(j,h,v,b,w),j}if(h instanceof Error){const j=new h.constructor;return b.set(h,j),j.message=h.message,j.name=h.name,j.stack=h.stack,j.cause=h.cause,f(j,h,v,b,w),j}if(h instanceof Boolean){const j=new Boolean(h.valueOf());return b.set(h,j),f(j,h,v,b,w),j}if(h instanceof Number){const j=new Number(h.valueOf());return b.set(h,j),f(j,h,v,b,w),j}if(h instanceof String){const j=new String(h.valueOf());return b.set(h,j),f(j,h,v,b,w),j}if(typeof h=="object"&&m(h)){const j=Object.create(Object.getPrototypeOf(h));return b.set(h,j),f(j,h,v,b,w),j}return h}function f(h,g,v=h,b,w){const y=[...Object.keys(g),...t.getSymbols(g)];for(let j=0;j<y.length;j++){const C=y[j],E=Object.getOwnPropertyDescriptor(h,C);(E==null||E.writable)&&(h[C]=d(g[C],C,v,b,w))}}function m(h){switch(r.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f})(G0)),G0}var qT;function hJ(){return qT||(qT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T3();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(W0)),W0}var VT;function pJ(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E3(),r=hJ();function a(s){return s=r.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=a})(B0)),B0}var J0={},ej={},tj={},KT;function xJ(){return KT||(KT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T3(),r=P3();function a(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l?.(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s?.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=a})(tj)),tj}var WT;function gJ(){return WT||(WT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xJ();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(ej)),ej}var nj={},rj={},GT;function O3(){return GT||(GT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(rj)),rj}var aj={},YT;function vJ(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A3();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(aj)),aj}var QT;function yJ(){return QT||(QT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g3(),r=O3(),a=vJ(),s=Iw();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const g=f[h];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||a.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=l})(nj)),nj}var XT;function jJ(){return XT||(XT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E3(),r=Lw(),a=gJ(),s=$w(),l=yJ();function c(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=a.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(J0)),J0}var ZT;function bJ(){return ZT||(ZT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N3(),r=dJ(),a=pJ(),s=jJ();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(F0)),F0}var JT;function NJ(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iJ(),r=N3(),a=cJ(),s=bJ();function l(c,d=r.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l})(_0)),_0}var sj,eO;function wJ(){return eO||(eO=1,sj=NJ().uniqBy),sj}var SJ=wJ();const tO=ms(SJ);function k3(e,t,r){return t===!0?tO(e,r):typeof t=="function"?tO(e,t):e}var ij={exports:{}},lj={};var nO;function CJ(){if(nO)return lj;nO=1;var e=qc(),t=oR();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return lj.useSyncExternalStoreWithSelector=function(m,h,g,v,b){var w=l(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=d(function(){function C(P){if(!E){if(E=!0,A=P,P=v(P),b!==void 0&&y.hasValue){var _=y.value;if(b(_,P))return T=_}return T=P}if(_=T,a(A,P))return _;var M=v(P);return b!==void 0&&b(_,M)?(A=P,_):(A=P,T=M)}var E=!1,A,T,k=g===void 0?null:g;return[function(){return C(h())},k===null?void 0:function(){return C(k())}]},[h,g,v,b]);var j=s(m,w[0],w[1]);return c(function(){y.hasValue=!0,y.value=j},[j]),f(j),j},lj}var rO;function EJ(){return rO||(rO=1,ij.exports=CJ()),ij.exports}var AJ=EJ(),Uw=p.createContext(null),PJ=e=>e,Vt=()=>{var e=p.useContext(Uw);return e?e.store.dispatch:PJ},Kh=()=>{},TJ=()=>Kh,OJ=(e,t)=>e===t;function Fe(e){var t=p.useContext(Uw);return AJ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:TJ,t?t.store.getState:Kh,t?t.store.getState:Kh,t?e:Kh,OJ)}function kJ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _J(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function RJ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var aO=e=>Array.isArray(e)?e:[e];function MJ(e){const t=Array.isArray(e[0])?e[0]:e;return RJ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function DJ(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var LJ=class{constructor(e){this.value=e}deref(){return this.value}},IJ=typeof WeakRef<"u"?WeakRef:LJ,$J=0,sO=1;function xh(){return{s:$J,v:void 0,o:null,p:null}}function _3(e,t={}){let r=xh();const{resultEqualityCheck:a}=t;let s,l=0;function c(){let d=r;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=d.o;w===null&&(d.o=w=new WeakMap);const y=w.get(b);y===void 0?(d=xh(),w.set(b,d)):d=y}else{let w=d.p;w===null&&(d.p=w=new Map);const y=w.get(b);y===void 0?(d=xh(),w.set(b,d)):d=y}}const m=d;let h;if(d.s===sO)h=d.v;else if(h=e.apply(null,arguments),l++,a){const g=s?.deref?.()??s;g!=null&&a(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new IJ(h):h}return m.s=sO,m.v=h,h}return c.clearCache=()=>{r=xh(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function FJ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),kJ(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:b=_3,argsMemoizeOptions:w=[]}=h,y=aO(v),j=aO(w),C=MJ(s),E=g(function(){return l++,m.apply(null,arguments)},...y),A=b(function(){c++;const k=DJ(C,arguments);return d=E.apply(null,k),d},...j);return Object.assign(A,{resultFunc:m,memoizedResultFunc:E,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:b})};return Object.assign(a,{withTypes:()=>a}),a}var he=FJ(_3),zJ=Object.assign((e,t=he)=>{_J(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(l=>e[l]);return t(a,(...l)=>l.reduce((c,d,f)=>(c[r[f]]=d,c),{}))},{withTypes:()=>zJ}),oj={},cj={},dj={},iO;function BJ(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,l)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return l==="desc"?1:-1;if(a>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=r})(dj)),dj}var uj={},fj={},lO;function R3(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(fj)),fj}var oO;function UJ(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R3(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(a.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s})(uj)),uj}var cO;function HJ(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BJ(),r=UJ(),a=Iw();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,w)=>{let y=b;for(let j=0;j<w.length&&y!=null;++j)y=y[w[j]];return y},h=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:m(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?m(w,b):typeof w=="object"?w[b]:w,g=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:a.toPath(b)}));return l.map(b=>({original:b,criteria:g.map(w=>h(w,b))})).slice().sort((b,w)=>{for(let y=0;y<g.length;y++){const j=t.compareValues(b.criteria[y],w.criteria[y],d[y]);if(j!==0)return j}return 0}).map(b=>b.original)}e.orderBy=s})(cj)),cj}var mj={},dO;function qJ(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],l=Math.floor(a),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(r,0),s}e.flatten=t})(mj)),mj}var hj={},uO;function M3(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O3(),r=Bw(),a=w3(),s=C3();function l(c,d,f){return a.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l})(hj)),hj}var fO;function VJ(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HJ(),r=qJ(),a=M3();function s(l,...c){const d=c.length;return d>1&&a.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=s})(oj)),oj}var pj,mO;function KJ(){return mO||(mO=1,pj=VJ().sortBy),pj}var WJ=KJ();const Ux=ms(WJ);var D3=e=>e.legend.settings,GJ=e=>e.legend.size,YJ=e=>e.legend.payload,QJ=he([YJ,D3],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?Ux(a,r):a});function XJ(){return Fe(QJ)}var gh=1;function L3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>gh||Math.abs(c.left-t.left)>gh||Math.abs(c.top-t.top)>gh||Math.abs(c.width-t.width)>gh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",hO=ZJ,xj=()=>Math.random().toString(36).substring(7).split("").join("."),JJ={INIT:`@@redux/INIT${xj()}`,REPLACE:`@@redux/REPLACE${xj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xj()}`},Ep=JJ;function Hw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function I3(e,t,r){if(typeof e!="function")throw new Error(tr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(tr(1));return r(I3)(e,t)}let a=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((j,C)=>{c.set(C,j)}))}function h(){if(f)throw new Error(tr(3));return s}function g(j){if(typeof j!="function")throw new Error(tr(4));if(f)throw new Error(tr(5));let C=!0;m();const E=d++;return c.set(E,j),function(){if(C){if(f)throw new Error(tr(6));C=!1,m(),c.delete(E),l=null}}}function v(j){if(!Hw(j))throw new Error(tr(7));if(typeof j.type>"u")throw new Error(tr(8));if(typeof j.type!="string")throw new Error(tr(17));if(f)throw new Error(tr(9));try{f=!0,s=a(s,j)}finally{f=!1}return(l=c).forEach(E=>{E()}),j}function b(j){if(typeof j!="function")throw new Error(tr(10));a=j,v({type:Ep.REPLACE})}function w(){const j=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(tr(11));function E(){const T=C;T.next&&T.next(h())}return E(),{unsubscribe:j(E)}},[hO](){return this}}}return v({type:Ep.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:b,[hO]:w}}function eee(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ep.INIT})>"u")throw new Error(tr(12));if(typeof r(void 0,{type:Ep.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tr(13))})}function $3(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const a=Object.keys(r);let s;try{eee(r)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<a.length;h++){const g=a[h],v=r[g],b=c[g],w=v(b,d);if(typeof w>"u")throw d&&d.type,new Error(tr(14));m[g]=w,f=f||w!==b}return f=f||a.length!==Object.keys(c).length,f?m:c}}function Ap(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function tee(...e){return t=>(r,a)=>{const s=t(r,a);let l=()=>{throw new Error(tr(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=Ap(...d)(s.dispatch),{...s,dispatch:l}}}function F3(e){return Hw(e)&&"type"in e&&typeof e.type=="string"}var z3=Symbol.for("immer-nothing"),pO=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object,Tc=Xr.getPrototypeOf,Pp="constructor",Hx="prototype",Hb="configurable",Tp="enumerable",Wh="writable",Iu="value",ni=e=>!!e&&!!e[xr];function Va(e){return e?B3(e)||qx(e)||!!e[pO]||!!e[Pp]?.[pO]||Vx(e)||Kx(e):!1}var nee=Xr[Hx][Pp].toString(),xO=new WeakMap;function B3(e){if(!e||!qw(e))return!1;const t=Tc(e);if(t===null||t===Xr[Hx])return!0;const r=Xr.hasOwnProperty.call(t,Pp)&&t[Pp];if(r===Object)return!0;if(!oc(r))return!1;let a=xO.get(r);return a===void 0&&(a=Function.toString.call(r),xO.set(r,a)),a===nee}function hf(e,t,r=!0){pf(e)===0?(r?Reflect.ownKeys(e):Xr.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function pf(e){const t=e[xr];return t?t.type_:qx(e)?1:Vx(e)?2:Kx(e)?3:0}var gO=(e,t,r=pf(e))=>r===2?e.has(t):Xr[Hx].hasOwnProperty.call(e,t),qb=(e,t,r=pf(e))=>r===2?e.get(t):e[t],Op=(e,t,r,a=pf(e))=>{a===2?e.set(t,r):a===3?e.add(r):e[t]=r};function ree(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var qx=Array.isArray,Vx=e=>e instanceof Map,Kx=e=>e instanceof Set,qw=e=>typeof e=="object",oc=e=>typeof e=="function",gj=e=>typeof e=="boolean",Bs=e=>e.copy_||e.base_,Vw=e=>e.modified_?e.copy_:e.base_;function Vb(e,t){if(Vx(e))return new Map(e);if(Kx(e))return new Set(e);if(qx(e))return Array[Hx].slice.call(e);const r=B3(e);if(t===!0||t==="class_only"&&!r){const a=Xr.getOwnPropertyDescriptors(e);delete a[xr];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d[Wh]===!1&&(d[Wh]=!0,d[Hb]=!0),(d.get||d.set)&&(a[c]={[Hb]:!0,[Wh]:!0,[Tp]:d[Tp],[Iu]:e[c]})}return Xr.create(Tc(e),a)}else{const a=Tc(e);if(a!==null&&r)return{...e};const s=Xr.create(a);return Xr.assign(s,e)}}function Kw(e,t=!1){return Wx(e)||ni(e)||!Va(e)||(pf(e)>1&&Xr.defineProperties(e,{set:vh,add:vh,clear:vh,delete:vh}),Xr.freeze(e),t&&hf(e,(r,a)=>{Kw(a,!0)},!1)),e}function aee(){$a(2)}var vh={[Iu]:aee};function Wx(e){return e===null||!qw(e)?!0:Xr.isFrozen(e)}var kp="MapSet",Kb="Patches",U3={};function Oc(e){const t=U3[e];return t||$a(0,e),t}var see=e=>!!U3[e],$u,H3=()=>$u,iee=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:see(kp)?Oc(kp):void 0});function vO(e,t){t&&(e.patchPlugin_=Oc(Kb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wb(e){Gb(e),e.drafts_.forEach(lee),e.drafts_=null}function Gb(e){e===$u&&($u=e.parent_)}var yO=e=>$u=iee($u,e);function lee(e){const t=e[xr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[xr].modified_&&(Wb(t),$a(4)),Va(e)&&(e=bO(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[xr].base_,e,t)}else e=bO(t,r);return oee(t,e,!0),Wb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==z3?e:void 0}function bO(e,t){if(Wx(t))return t;const r=t[xr];if(!r)return Ww(t,e.handledSet_,e);if(!Gx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:a}=r;if(a)for(;a.length>0;)a.pop()(e);K3(r,e)}return r.copy_}function oee(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kw(t,r)}function q3(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Gx=(e,t)=>e.scope_===t,cee=[];function V3(e,t,r,a){const s=Bs(e),l=e.type_;if(a!==void 0&&qb(s,a,l)===t){Op(s,a,r,l);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;hf(s,(f,m)=>{if(ni(m)){const h=d.get(m)||[];h.push(f),d.set(m,h)}})}const c=e.draftLocations_.get(t)??cee;for(const d of c)Op(s,d,r,l)}function dee(e,t,r){e.callbacks_.push(function(s){const l=t;if(!l||!Gx(l,s))return;s.mapSetPlugin_?.fixSetContents(l);const c=Vw(l);V3(e,l.draft_??l,c,r),K3(l,s)})}function K3(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}q3(e)}}function uee(e,t,r){const{scope_:a}=e;if(ni(r)){const s=r[xr];Gx(s,a)&&s.callbacks_.push(function(){Gh(e);const c=Vw(s);V3(e,r,c,t)})}else Va(r)&&e.callbacks_.push(function(){const l=Bs(e);qb(l,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ww(qb(e.copy_,t,e.type_),a.handledSet_,a)})}function Ww(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ni(e)||t.has(e)||!Va(e)||Wx(e)||(t.add(e),hf(e,(a,s)=>{if(ni(s)){const l=s[xr];if(Gx(l,r)){const c=Vw(l);Op(e,a,c,e.type_),q3(l)}}else Va(s)&&Ww(s,t,r)})),e}function fee(e,t){const r=qx(e),a={type_:r?1:0,scope_:t?t.scope_:H3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,l=Gw;r&&(s=[a],l=Fu);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,[d,a]}var Gw={get(e,t){if(t===xr)return e;const r=Bs(e);if(!gO(r,t,e.type_))return mee(e,r,t);const a=r[t];if(e.finalized_||!Va(a))return a;if(a===vj(e.base_,t)){Gh(e);const s=e.type_===1?+t:t,l=Qb(e.scope_,a,e,s);return e.copy_[s]=l}return a},has(e,t){return t in Bs(e)},ownKeys(e){return Reflect.ownKeys(Bs(e))},set(e,t,r){const a=W3(Bs(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=vj(Bs(e),t),l=s?.[xr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(ree(r,s)&&(r!==void 0||gO(e.base_,t,e.type_)))return!0;Gh(e),Yb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),uee(e,t,r)),!0},deleteProperty(e,t){return Gh(e),vj(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Yb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Bs(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{[Wh]:!0,[Hb]:e.type_!==1||t!=="length",[Tp]:a[Tp],[Iu]:r[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Tc(e.base_)},setPrototypeOf(){$a(12)}},Fu={};hf(Gw,(e,t)=>{Fu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Fu.deleteProperty=function(e,t){return Fu.set.call(this,e,t,void 0)};Fu.set=function(e,t,r){return Gw.set.call(this,e[0],t,r,e[0])};function vj(e,t){const r=e[xr];return(r?Bs(r):e)[t]}function mee(e,t,r){const a=W3(t,r);return a?Iu in a?a[Iu]:a.get?.call(e.draft_):void 0}function W3(e,t){if(!(t in e))return;let r=Tc(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Tc(r)}}function Yb(e){e.modified_||(e.modified_=!0,e.parent_&&Yb(e.parent_))}function Gh(e){e.copy_||(e.assigned_=new Map,e.copy_=Vb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,a,s)=>{if(oc(r)&&!oc(a)){const c=a;a=r;const d=this;return function(m=c,...h){return d.produce(m,g=>a.call(this,g,...h))}}oc(a)||$a(6),s!==void 0&&!oc(s)&&$a(7);let l;if(Va(r)){const c=yO(this),d=Qb(c,r,void 0);let f=!0;try{l=a(d),f=!1}finally{f?Wb(c):Gb(c)}return vO(c,s),jO(l,c)}else if(!r||!qw(r)){if(l=a(r),l===void 0&&(l=r),l===z3&&(l=void 0),this.autoFreeze_&&Kw(l,!0),s){const c=[],d=[];Oc(Kb).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:d}),s(c,d)}return l}else $a(1,r)},this.produceWithPatches=(r,a)=>{if(oc(r))return(d,...f)=>this.produceWithPatches(d,m=>r(m,...f));let s,l;return[this.produce(r,a,(d,f)=>{s=d,l=f}),s,l]},gj(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),gj(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),gj(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Va(t)||$a(8),ni(t)&&(t=Ua(t));const r=yO(this),a=Qb(r,t,void 0);return a[xr].isManual_=!0,Gb(r),a}finishDraft(t,r){const a=t&&t[xr];(!a||!a.isManual_)&&$a(9);const{scope_:s}=a;return vO(s,r),jO(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const l=r[a];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}a>-1&&(r=r.slice(a+1));const s=Oc(Kb).applyPatches_;return ni(t)?s(t,r):this.produce(t,l=>s(l,r))}};function Qb(e,t,r,a){const[s,l]=Vx(t)?Oc(kp).proxyMap_(t,r):Kx(t)?Oc(kp).proxySet_(t,r):fee(t,r);return(r?.scope_??H3()).drafts_.push(s),l.callbacks_=r?.callbacks_??[],l.key_=a,r&&a!==void 0?dee(r,l,a):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),s}function Ua(e){return ni(e)||$a(10,e),G3(e)}function G3(e){if(!Va(e)||Wx(e))return e;const t=e[xr];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Vb(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Vb(e,!0);return hf(r,(s,l)=>{Op(r,s,G3(l))},a),t&&(t.finalized_=!1),r}var pee=new hee,Y3=pee.produce;function Q3(e){return({dispatch:r,getState:a})=>s=>l=>typeof l=="function"?l(r,a,e):s(l)}var xee=Q3(),gee=Q3,vee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ap:Ap.apply(null,arguments)};function Ta(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(ea(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>F3(a)&&a.type===e,r}var X3=class vu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vu.prototype)}static get[Symbol.species](){return vu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vu(...t[0].concat(this)):new vu(...t.concat(this))}};function NO(e){return Va(e)?Y3(e,()=>{}):e}function yh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function yee(e){return typeof e=="boolean"}var jee=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new X3;return r&&(yee(r)?c.push(xee):c.push(gee(r.extraArgument))),c},Z3="RTK_autoBatch",tn=()=>e=>({payload:e,meta:{[Z3]:!0}}),wO=e=>t=>{setTimeout(t,e)},J3=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wO(10):e.type==="callback"?e.queueNotification:wO(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const g=()=>s&&h(),v=a.subscribe(g);return d.add(h),()=>{v(),d.delete(h)}},dispatch(h){try{return s=!h?.meta?.[Z3],l=!s,l&&(c||(c=!0,f(m))),a.dispatch(h)}finally{s=!0}}})},bee=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new X3(e);return a&&s.push(J3(typeof a=="object"?a:void 0)),s};function Nee(e){const t=jee(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Hw(r))d=$3(r);else throw new Error(ea(1));let f;typeof a=="function"?f=a(t):f=t();let m=Ap;s&&(m=vee({trace:!1,...typeof s=="object"&&s}));const h=tee(...f),g=bee(h);let v=typeof c=="function"?c(g):g();const b=m(...v);return I3(d,l,b)}function eL(e){const t={},r=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ea(28));if(d in t)throw new Error(ea(29));return t[d]=c,s},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return r.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return e(s),[t,r,a]}function wee(e){return typeof e=="function"}function See(e,t){let[r,a,s]=eL(t),l;if(wee(e))l=()=>NO(e());else{const d=NO(e);l=()=>d}function c(d=l(),f){let m=[r[f.type],...a.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,g)=>{if(g)if(ni(h)){const b=g(h,f);return b===void 0?h:b}else{if(Va(h))return Y3(h,v=>g(v,f));{const v=g(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},d)}return c.getInitialState=l,c}var Cee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Eee=(e=21)=>{let t="",r=e;for(;r--;)t+=Cee[Math.random()*64|0];return t},Aee=Symbol.for("rtk-slice-createasyncthunk");function Pee(e,t){return`${e}/${t}`}function Tee({creators:e}={}){const t=e?.asyncThunk?.[Aee];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(ea(11));const c=(typeof a.reducers=="function"?a.reducers(kee()):a.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,T){const k=typeof A=="string"?A:A.type;if(!k)throw new Error(ea(12));if(k in f.sliceCaseReducersByType)throw new Error(ea(13));return f.sliceCaseReducersByType[k]=T,m},addMatcher(A,T){return f.sliceMatchers.push({matcher:A,reducer:T}),m},exposeAction(A,T){return f.actionCreators[A]=T,m},exposeCaseReducer(A,T){return f.sliceCaseReducersByName[A]=T,m}};d.forEach(A=>{const T=c[A],k={reducerName:A,type:Pee(s,A),createNotation:typeof a.reducers=="function"};Ree(T)?Dee(k,T,m,t):_ee(k,T,m)});function h(){const[A={},T=[],k=void 0]=typeof a.extraReducers=="function"?eL(a.extraReducers):[a.extraReducers],P={...A,...f.sliceCaseReducersByType};return See(a.initialState,_=>{for(let M in P)_.addCase(M,P[M]);for(let M of f.sliceMatchers)_.addMatcher(M.matcher,M.reducer);for(let M of T)_.addMatcher(M.matcher,M.reducer);k&&_.addDefaultCase(k)})}const g=A=>A,v=new Map,b=new WeakMap;let w;function y(A,T){return w||(w=h()),w(A,T)}function j(){return w||(w=h()),w.getInitialState()}function C(A,T=!1){function k(_){let M=_[A];return typeof M>"u"&&T&&(M=yh(b,k,j)),M}function P(_=g){const M=yh(v,T,()=>new WeakMap);return yh(M,_,()=>{const X={};for(const[I,R]of Object.entries(a.selectors??{}))X[I]=Oee(R,_,()=>yh(b,_,j),T);return X})}return{reducerPath:A,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const E={name:s,reducer:y,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:j,...C(l),injectInto(A,{reducerPath:T,...k}={}){const P=T??l;return A.inject({reducerPath:P,reducer:y},k),{...E,...C(P,!0)}}};return E}}function Oee(e,t,r,a){function s(l,...c){let d=t(l);return typeof d>"u"&&a&&(d=r()),e(d,...c)}return s.unwrapped=e,s}var Ir=Tee();function kee(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function _ee({type:e,reducerName:t,createNotation:r},a,s){let l,c;if("reducer"in a){if(r&&!Mee(a))throw new Error(ea(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?Ta(e,c):Ta(e))}function Ree(e){return e._reducerDefinitionType==="asyncThunk"}function Mee(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Dee({type:e,reducerName:t},r,a,s){if(!s)throw new Error(ea(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=r,g=s(e,l,h);a.exposeAction(t,g),c&&a.addCase(g.fulfilled,c),d&&a.addCase(g.pending,d),f&&a.addCase(g.rejected,f),m&&a.addMatcher(g.settled,m),a.exposeCaseReducer(t,{fulfilled:c||jh,pending:d||jh,rejected:f||jh,settled:m||jh})}function jh(){}var Lee="task",tL="listener",nL="completed",Yw="cancelled",Iee=`task-${Yw}`,$ee=`task-${nL}`,Xb=`${tL}-${Yw}`,Fee=`${tL}-${nL}`,Yx=class{constructor(e){this.code=e,this.message=`${Lee} ${Yw} (reason: ${e})`}name="TaskAbortError";message},Qw=(e,t)=>{if(typeof e!="function")throw new TypeError(ea(32))},_p=()=>{},rL=(e,t=_p)=>(e.catch(t),e),aL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Kl=e=>{if(e.aborted)throw new Yx(e.reason)};function sL(e,t){let r=_p;return new Promise((a,s)=>{const l=()=>s(new Yx(e.reason));if(e.aborted){l();return}r=aL(e,l),t.finally(()=>r()).then(a,s)}).finally(()=>{r=_p})}var zee=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Yx?"cancelled":"rejected",error:r}}finally{t?.()}},Rp=e=>t=>rL(sL(e,t).then(r=>(Kl(e),r))),iL=e=>{const t=Rp(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:xc}=Object,SO={},Qx="listenerMiddleware",Bee=(e,t)=>{const r=a=>aL(e,()=>a.abort(e.reason));return(a,s)=>{Qw(a);const l=new AbortController;r(l);const c=zee(async()=>{Kl(e),Kl(l.signal);const d=await a({pause:Rp(l.signal),delay:iL(l.signal),signal:l.signal});return Kl(l.signal),d},()=>l.abort($ee));return s?.autoJoin&&t.push(c.catch(_p)),{result:Rp(e)(c),cancel(){l.abort(Iee)}}}},Uee=(e,t)=>{const r=async(a,s)=>{Kl(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:a,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await sL(t,Promise.race(d));return Kl(t),f}finally{l()}};return(a,s)=>rL(r(a,s))},lL=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:l}=e;if(t)s=Ta(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(ea(21));return Qw(l),{predicate:s,type:t,effect:l}},oL=xc(e=>{const{type:t,predicate:r,effect:a}=lL(e);return{id:Eee(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ea(22))}}},{withTypes:()=>oL}),CO=(e,t)=>{const{type:r,effect:a,predicate:s}=lL(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===s)&&l.effect===a)},Zb=e=>{e.pending.forEach(t=>{t.abort(Xb)})},Hee=(e,t)=>()=>{for(const r of t.keys())Zb(r);e.clear()},EO=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},cL=xc(Ta(`${Qx}/add`),{withTypes:()=>cL}),qee=Ta(`${Qx}/removeAll`),dL=xc(Ta(`${Qx}/remove`),{withTypes:()=>dL}),Vee=(...e)=>{console.error(`${Qx}/error`,...e)},xf=(e={})=>{const t=new Map,r=new Map,a=b=>{const w=r.get(b)??0;r.set(b,w+1)},s=b=>{const w=r.get(b)??1;w===1?r.delete(b):r.set(b,w-1)},{extra:l,onError:c=Vee}=e;Qw(c);const d=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),w=>{b.unsubscribe(),w?.cancelActive&&Zb(b)}),f=b=>{const w=CO(t,b)??oL(b);return d(w)};xc(f,{withTypes:()=>f});const m=b=>{const w=CO(t,b);return w&&(w.unsubscribe(),b.cancelActive&&Zb(w)),!!w};xc(m,{withTypes:()=>m});const h=async(b,w,y,j)=>{const C=new AbortController,E=Uee(f,C.signal),A=[];try{b.pending.add(C),a(b),await Promise.resolve(b.effect(w,xc({},y,{getOriginalState:j,condition:(T,k)=>E(T,k).then(Boolean),take:E,delay:iL(C.signal),pause:Rp(C.signal),extra:l,signal:C.signal,fork:Bee(C.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((T,k,P)=>{T!==C&&(T.abort(Xb),P.delete(T))})},cancel:()=>{C.abort(Xb),b.pending.delete(C)},throwIfCancelled:()=>{Kl(C.signal)}})))}catch(T){T instanceof Yx||EO(c,T,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(Fee),s(b),b.pending.delete(C)}},g=Hee(t,r);return{middleware:b=>w=>y=>{if(!F3(y))return w(y);if(cL.match(y))return f(y.payload);if(qee.match(y)){g();return}if(dL.match(y))return m(y.payload);let j=b.getState();const C=()=>{if(j===SO)throw new Error(ea(23));return j};let E;try{if(E=w(y),t.size>0){const A=b.getState(),T=Array.from(t.values());for(const k of T){let P=!1;try{P=k.predicate(y,A,j)}catch(_){P=!1,EO(c,_,{raisedBy:"predicate"})}P&&h(k,y,b,C)}}}finally{j=SO}return E},startListening:f,stopListening:m,clearListeners:g}};function ea(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Kee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},uL=Ir({name:"chartLayout",initialState:Kee,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Wee,setLayout:Gee,setChartSize:Yee,setScale:Qee}=uL.actions,Xee=uL.reducer;function fL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(a){Zee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zee(e,t,r){return(t=Jee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jee(e){var t=ete(e,"string");return typeof t=="symbol"?t:t+""}function ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ht(e,t,r){return an(e)||an(t)?r:Pa(t)?ro(e,t,r):typeof t=="function"?t(e):r}var tte=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Be(e[l]))return cc(cc({},e),{},{[l]:e[l]+(a||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Be(e[c]))return cc(cc({},e),{},{[c]:e[c]+(s||0)})}return e},ui=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",mL=(e,t,r,a)=>{if(a)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(r),c},hL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:g,niceTicks:v,axisType:b}=e;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,y=s==="category"&&c.bandwidth?c.bandwidth()/w:0;if(y=b==="angleAxis"&&l&&l.length>=2?Kn(l[0]-l[1])*2*y:y,g||v){var j=(g||v||[]).map((C,E)=>{var A=a?a.indexOf(C):C;return{coordinate:c(A)+y,value:C,offset:y,index:E}});return j.filter(C=>!Dr(C.coordinate))}return f&&m?m.map((C,E)=>({coordinate:c(C)+y,value:C,index:E,offset:y})):c.ticks&&h!=null?c.ticks(h).map((C,E)=>({coordinate:c(C)+y,value:C,offset:y,index:E})):c.domain().map((C,E)=>({coordinate:c(C)+y,value:a?a[C]:C,index:E,offset:y}))},PO=1e-4,nte=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-PO,l=Math.max(a[0],a[1])+PO,c=e(t[0]),d=e(t[r-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[r-1]])}},rte=(e,t)=>{if(!t||t.length!==2||!Be(t[0])||!Be(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Be(e[0])||e[0]<r)&&(s[0]=r),(!Be(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},ate=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,l=0,c=0;c<t;++c){var d=Dr(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=s,e[c][r][1]=s+d,s=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+d,l=e[c][r][1])}},ste=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,l=0;l<t;++l){var c=Dr(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},ite={sign:ate,expand:PZ,none:Pc,silhouette:TZ,wiggle:OZ,positive:ste},lte=(e,t,r)=>{var a=ite[r],s=AZ().keys(t).value((l,c)=>Number(Ht(l,c,0))).order(Bb).offset(a);return s(e)};function pL(e){return e==null?void 0:String(e)}function TO(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!an(s[t.dataKey])){var d=y3(r,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return r[l]?r[l].coordinate+a/2:null}var f=Ht(s,an(c)?t.dataKey:c);return an(f)?null:t.scale(f)}var OO=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+a:null;var d=Ht(l,t.dataKey,t.scale.domain()[c]);return an(d)?null:t.scale(d)-s/2+a},ote=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},cte=e=>{var t=e.flat(2).filter(Be);return[Math.min(...t),Math.max(...t)]},dte=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ute=(e,t,r)=>{if(e!=null)return dte(Object.keys(e).reduce((a,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=fL(m,t,r),g=cte(h);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},kO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_O=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=Ux(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function RO(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:l}=e;return cc(cc({},t),{},{dataKey:r,payload:a,value:s,name:l})}function td(e,t){if(e)return String(e);if(typeof t=="string")return t}var fte=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mte=(e,t)=>t==="centric"?e.angle:e.radius,fi=e=>e.layout.width,mi=e=>e.layout.height,hte=e=>e.layout.scale,xL=e=>e.layout.margin,Xx=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zx=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gL="data-recharts-item-index",vL="data-recharts-item-data-key",gf=60;function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(a){pte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pte(e,t,r){return(t=xte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vte=e=>e.brush.height;function yte(e){var t=Zx(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:gf;return r+s}return r},0)}function jte(e){var t=Zx(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:gf;return r+s}return r},0)}function bte(e){var t=Xx(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function Nte(e){var t=Xx(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var In=he([fi,mi,xL,vte,yte,jte,bte,Nte,D3,GJ],(e,t,r,a,s,l,c,d,f,m)=>{var h={left:(r.left||0)+s,right:(r.right||0)+l},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},v=bh(bh({},g),h),b=v.bottom;v.bottom+=a,v=tte(v,f,m);var w=e-v.left-v.right,y=t-v.top-v.bottom;return bh(bh({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(y,0)})}),wte=he(In,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Xw=he(fi,mi,(e,t)=>({x:0,y:0,width:e,height:t})),Ste=p.createContext(null),ar=()=>p.useContext(Ste)!=null,Jx=e=>e.brush,eg=he([Jx,In,xL],(e,t,r)=>({height:e.height,x:Be(e.x)?e.x:t.left,y:Be(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Be(e.width)?e.width:t.width})),yj={},jj={},bj={},DO;function Cte(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{m&&h(),y()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},a)},w=()=>{v!==null&&(clearTimeout(v),v=null)},y=()=>{w(),c=void 0,d=null},j=()=>{h()},C=function(...E){if(s?.aborted)return;c=this,d=E;const A=v==null;b(),f&&A&&h()};return C.schedule=b,C.cancel=y,C.flush=j,s?.addEventListener("abort",y,{once:!0}),C}e.debounce=t})(bj)),bj}var LO;function Ete(){return LO||(LO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cte();function r(a,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,g=null;const v=t.debounce(function(...y){h=a.apply(this,y),g=null},s,{edges:m}),b=function(...y){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(h=a.apply(this,y),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,y),h)},w=()=>(v.flush(),h);return b.cancel=v.cancel,b.flush=w,b}e.debounce=r})(jj)),jj}var IO;function Ate(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ete();function r(a,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=r})(yj)),yj}var Nj,$O;function Pte(){return $O||($O=1,Nj=Ate().throttle),Nj}var Tte=Pte();const Ote=ms(Tte);var Mp=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>s[c++]))}},yL=(e,t,r)=>{var{width:a="100%",height:s="100%",aspect:l,maxHeight:c}=r,d=ti(a)?e:Number(a),f=ti(s)?t:Number(s);return l&&l>0&&(d?f=d/l:f&&(d=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},kte={width:0,height:0,overflow:"visible"},_te={width:0,overflowX:"visible"},Rte={height:0,overflowY:"visible"},Mte={},Dte=e=>{var{width:t,height:r}=e,a=ti(t),s=ti(r);return a&&s?kte:a?_te:s?Rte:Mte};function Lte(e){var{width:t,height:r,aspect:a}=e,s=t,l=r;return s===void 0&&l===void 0?(s="100%",l="100%"):s===void 0?s=a&&a>0?void 0:"100%":l===void 0&&(l=a&&a>0?void 0:"100%"),{width:s,height:l}}function Dt(e){return Number.isFinite(e)}function ds(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jb.apply(null,arguments)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(a){Ite(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ite(e,t,r){return(t=$te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $te(e){var t=Fte(e,"string");return typeof t=="symbol"?t:t+""}function Fte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jL=p.createContext({width:-1,height:-1});function zte(e){return ds(e.width)&&ds(e.height)}function bL(e){var{children:t,width:r,height:a}=e,s=p.useMemo(()=>({width:r,height:a}),[r,a]);return zte(s)?p.createElement(jL.Provider,{value:s},t):null}var Zw=()=>p.useContext(jL),Bte=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:l,minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:g,className:v,onResize:b,style:w={}}=e,y=p.useRef(null),j=p.useRef();j.current=b,p.useImperativeHandle(t,()=>y.current);var[C,E]=p.useState({containerWidth:a.width,containerHeight:a.height}),A=p.useCallback((M,X)=>{E(I=>{var R=Math.round(M),V=Math.round(X);return I.containerWidth===R&&I.containerHeight===V?I:{containerWidth:R,containerHeight:V}})},[]);p.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return ff;var M=V=>{var je,{width:Y,height:te}=V[0].contentRect;A(Y,te),(je=j.current)===null||je===void 0||je.call(j,Y,te)};h>0&&(M=Ote(M,h,{trailing:!0,leading:!1}));var X=new ResizeObserver(M),{width:I,height:R}=y.current.getBoundingClientRect();return A(I,R),X.observe(y.current),()=>{X.disconnect()}},[A,h]);var{containerWidth:T,containerHeight:k}=C;Mp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:_}=yL(T,k,{width:s,height:l,aspect:r,maxHeight:f});return Mp(P!=null&&P>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,_,s,l,c,d,r),p.createElement("div",{id:g?"".concat(g):void 0,className:wt("recharts-responsive-container",v),style:zO(zO({},w),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:y},p.createElement("div",{style:Dte({width:s,height:l})},p.createElement(bL,{width:P,height:_},m)))}),zu=p.forwardRef((e,t)=>{var r=Zw();if(ds(r.width)&&ds(r.height))return e.children;var{width:a,height:s}=Lte({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=yL(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Be(l)&&Be(c)?p.createElement(bL,{width:l,height:c},e.children):p.createElement(Bte,Jb({},e,{width:a,height:s,ref:t}))});function NL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var vf=()=>{var e,t=ar(),r=Fe(wte),a=Fe(eg),s=(e=Fe(Jx))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},Ute={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wL=()=>{var e;return(e=Fe(In))!==null&&e!==void 0?e:Ute},Jw=()=>Fe(fi),e1=()=>Fe(mi),Hte=()=>Fe(e=>e.layout.margin),St=e=>e.layout.layoutType,nd=()=>Fe(St),qte=()=>{var e=nd();if(e==="horizontal"||e==="vertical")return e},Vte=()=>{var e=nd();return e!==void 0},tg=e=>{var t=Vt(),r=ar(),{width:a,height:s}=e,l=Zw(),c=a,d=s;return l&&(c=l.width>0?l.width:a,d=l.height>0?l.height:s),p.useEffect(()=>{!r&&ds(c)&&ds(d)&&t(Yee({width:c,height:d}))},[t,r,c,d]),null},SL=Symbol.for("immer-nothing"),BO=Symbol.for("immer-draftable"),ra=Symbol.for("immer-state");function Fa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bu=Object.getPrototypeOf;function _c(e){return!!e&&!!e[ra]}function ao(e){return e?CL(e)||Array.isArray(e)||!!e[BO]||!!e.constructor?.[BO]||yf(e)||rg(e):!1}var Kte=Object.prototype.constructor.toString(),UO=new WeakMap;function CL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=UO.get(r);return a===void 0&&(a=Function.toString.call(r),UO.set(r,a)),a===Kte}function Dp(e,t,r=!0){ng(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function ng(e){const t=e[ra];return t?t.type_:Array.isArray(e)?1:yf(e)?2:rg(e)?3:0}function eN(e,t){return ng(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function EL(e,t,r){const a=ng(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function Wte(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yf(e){return e instanceof Map}function rg(e){return e instanceof Set}function zl(e){return e.copy_||e.base_}function tN(e,t){if(yf(e))return new Map(e);if(rg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=CL(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[ra];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Bu(e),a)}else{const a=Bu(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function t1(e,t=!1){return ag(e)||_c(e)||!ao(e)||(ng(e)>1&&Object.defineProperties(e,{set:Nh,add:Nh,clear:Nh,delete:Nh}),Object.freeze(e),t&&Object.values(e).forEach(r=>t1(r,!0))),e}function Gte(){Fa(2)}var Nh={value:Gte};function ag(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Yte={};function so(e){const t=Yte[e];return t||Fa(0,e),t}var Uu;function AL(){return Uu}function Qte(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HO(e,t){t&&(so("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nN(e){rN(e),e.drafts_.forEach(Xte),e.drafts_=null}function rN(e){e===Uu&&(Uu=e.parent_)}function qO(e){return Uu=Qte(Uu,e)}function Xte(e){const t=e[ra];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ra].modified_&&(nN(t),Fa(4)),ao(e)&&(e=Lp(t,e),t.parent_||Ip(t,e)),t.patches_&&so("Patches").generateReplacementPatches_(r[ra].base_,e,t.patches_,t.inversePatches_)):e=Lp(t,r,[]),nN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==SL?e:void 0}function Lp(e,t,r){if(ag(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[ra];if(!s)return Dp(t,(l,c)=>KO(e,s,t,l,c,r),a),t;if(s.scope_!==e)return t;if(!s.modified_)return Ip(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let c=l,d=!1;s.type_===3&&(c=new Set(l),l.clear(),d=!0),Dp(c,(f,m)=>KO(e,s,l,f,m,r,d),a),Ip(e,l,!1),r&&e.patches_&&so("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function KO(e,t,r,a,s,l,c){if(s==null||typeof s!="object"&&!c)return;const d=ag(s);if(!(d&&!c)){if(_c(s)){const f=l&&t&&t.type_!==3&&!eN(t.assigned_,a)?l.concat(a):void 0,m=Lp(e,s,f);if(EL(r,a,m),_c(m))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(ao(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&d)return;Lp(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(yf(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&Ip(e,s)}}}function Ip(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&t1(t,r)}function Zte(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:AL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,l=n1;r&&(s=[a],l=Hu);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,d}var n1={get(e,t){if(t===ra)return e;const r=zl(e);if(!eN(r,t))return Jte(e,r,t);const a=r[t];return e.finalized_||!ao(a)?a:a===wj(e.base_,t)?(Sj(e),e.copy_[t]=sN(a,e)):a},has(e,t){return t in zl(e)},ownKeys(e){return Reflect.ownKeys(zl(e))},set(e,t,r){const a=PL(zl(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=wj(zl(e),t),l=s?.[ra];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Wte(r,s)&&(r!==void 0||eN(e.base_,t)))return!0;Sj(e),aN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Sj(e),aN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=zl(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Fa(11)},getPrototypeOf(e){return Bu(e.base_)},setPrototypeOf(){Fa(12)}},Hu={};Dp(n1,(e,t)=>{Hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,r){return n1.set.call(this,e[0],t,r,e[0])};function wj(e,t){const r=e[ra];return(r?zl(r):e)[t]}function Jte(e,t,r){const a=PL(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function PL(e,t){if(!(t in e))return;let r=Bu(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Bu(r)}}function aN(e){e.modified_||(e.modified_=!0,e.parent_&&aN(e.parent_))}function Sj(e){e.copy_||(e.copy_=tN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ene=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&Fa(6),a!==void 0&&typeof a!="function"&&Fa(7);let s;if(ao(t)){const l=qO(this),c=sN(t,void 0);let d=!0;try{s=r(c),d=!1}finally{d?nN(l):rN(l)}return HO(l,a),VO(s,l)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===SL&&(s=void 0),this.autoFreeze_&&t1(s,!0),a){const l=[],c=[];so("Patches").generateReplacementPatches_(t,s,l,c),a(l,c)}return s}else Fa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let a,s;return[this.produce(t,r,(c,d)=>{a=c,s=d}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ao(e)||Fa(8),_c(e)&&(e=tne(e));const t=qO(this),r=sN(e,void 0);return r[ra].isManual_=!0,rN(t),r}finishDraft(e,t){const r=e&&e[ra];(!r||!r.isManual_)&&Fa(9);const{scope_:a}=r;return HO(a,t),VO(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=so("Patches").applyPatches_;return _c(e)?a(e,t):this.produce(e,s=>a(s,t))}};function sN(e,t){const r=yf(e)?so("MapSet").proxyMap_(e,t):rg(e)?so("MapSet").proxySet_(e,t):Zte(e,t);return(t?t.scope_:AL()).drafts_.push(r),r}function tne(e){return _c(e)||Fa(10,e),TL(e)}function TL(e){if(!ao(e)||ag(e))return e;const t=e[ra];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tN(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=tN(e,!0);return Dp(r,(s,l)=>{EL(r,s,TL(l))},a),t&&(t.finalized_=!1),r}var nne=new ene;nne.produce;var rne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},OL=Ir({name:"legend",initialState:rne,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:tn()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ua(e).payload.indexOf(r);s>-1&&(e.payload[s]=a)},prepare:tn()},removeLegendPayload:{reducer(e,t){var r=Ua(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:tn()}}}),{setLegendSize:WO,setLegendSettings:ane,addLegendPayload:kL,replaceLegendPayload:_L,removeLegendPayload:RL}=OL.actions,sne=OL.reducer,ine=["contextPayload"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},iN.apply(null,arguments)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(a){lne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lne(e,t,r){return(t=one(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function one(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t){if(e==null)return{};var r,a,s=une(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function une(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function fne(e){return e.value}function mne(e){var{contextPayload:t}=e,r=dne(e,ine),a=k3(t,e.payloadUniqBy,fne),s=Rc(Rc({},r),{},{payload:a});return p.isValidElement(e.content)?p.cloneElement(e.content,s):typeof e.content=="function"?p.createElement(e.content,s):p.createElement(sJ,s)}function hne(e,t,r,a,s,l){var{layout:c,align:d,verticalAlign:f}=t,m,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?m={left:((a||0)-l.width)/2}:m=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((s||0)-l.height)/2}:h=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Rc(Rc({},m),h)}function pne(e){var t=Vt();return p.useEffect(()=>{t(ane(e))},[t,e]),null}function xne(e){var t=Vt();return p.useEffect(()=>(t(WO(e)),()=>{t(WO({width:0,height:0}))}),[t,e]),null}function gne(e,t,r,a){return e==="vertical"&&Be(t)?{height:t}:e==="horizontal"?{width:r||a}:null}var vne={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function jf(e){var t=bn(e,vne),r=XJ(),a=XX(),s=Hte(),{width:l,height:c,wrapperStyle:d,portal:f}=t,[m,h]=L3([r]),g=Jw(),v=e1();if(g==null||v==null)return null;var b=g-(s?.left||0)-(s?.right||0),w=gne(t.layout,c,l,b),y=f?d:Rc(Rc({position:"absolute",width:w?.width||l||"auto",height:w?.height||c||"auto"},hne(d,t,s,g,v,m)),d),j=f??a;if(j==null||r==null)return null;var C=p.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:h},p.createElement(pne,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&p.createElement(xne,{width:m.width,height:m.height}),p.createElement(mne,iN({},t,w,{margin:s,chartWidth:g,chartHeight:v,contextPayload:r})));return hs.createPortal(C,j)}jf.displayName="Legend";function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lN.apply(null,arguments)}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(a){yne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yne(e,t,r){return(t=jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e){return Array.isArray(e)&&Pa(e[0])&&Pa(e[1])?e.join(" ~ "):e}var wne=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:g,accessibilityLayer:v=!1}=e,b=()=>{if(l&&l.length){var k={padding:0,margin:0},P=(d?Ux(l,d):l).map((_,M)=>{if(_.type==="none")return null;var X=_.formatter||c||Nne,{value:I,name:R}=_,V=I,je=R;if(X){var Y=X(I,R,_,M,l);if(Array.isArray(Y))[V,je]=Y;else if(Y!=null)V=Y;else return null}var te=Cj({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:te},Pa(je)?p.createElement("span",{className:"recharts-tooltip-item-name"},je):null,Pa(je)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},V),p.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:k},P)}return null},w=Cj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Cj({margin:0},s),j=!an(h),C=j?h:"",E=wt("recharts-default-tooltip",f),A=wt("recharts-tooltip-label",m);j&&g&&l!==void 0&&l!==null&&(C=g(h,l));var T=v?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",lN({className:E,style:w},T),p.createElement("p",{className:A,style:y},p.isValidElement(C)?C:"".concat(C)),b())},lu="recharts-tooltip-wrapper",Sne={visibility:"hidden"};function Cne(e){var{coordinate:t,translateX:r,translateY:a}=e;return wt(lu,{["".concat(lu,"-right")]:Be(r)&&t&&Be(t.x)&&r>=t.x,["".concat(lu,"-left")]:Be(r)&&t&&Be(t.x)&&r<t.x,["".concat(lu,"-bottom")]:Be(a)&&t&&Be(t.y)&&a>=t.y,["".concat(lu,"-top")]:Be(a)&&t&&Be(t.y)&&a<t.y})}function QO(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&Be(l[a]))return l[a];var h=r[a]-d-(s>0?s:0),g=r[a]+s;if(t[a])return c[a]?h:g;var v=f[a];if(v==null)return 0;if(c[a]){var b=h,w=v;return b<w?Math.max(g,v):Math.max(h,v)}if(m==null)return 0;var y=g+d,j=v+m;return y>j?Math.max(h,v):Math.max(g,v)}function Ene(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ane(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,g;return c.height>0&&c.width>0&&r?(h=QO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=QO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=Ene({translateX:h,translateY:g,useTranslate3d:d})):m=Sne,{cssProperties:m,cssClasses:Cne({translateX:h,translateY:g,coordinate:r})}}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(a){oN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oN(e,t,r){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pne(e){var t=Tne(e,"string");return typeof t=="symbol"?t:t+""}function Tne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class One extends p.PureComponent{constructor(){super(...arguments),oN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),oN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:w,lastBoundingBox:y,innerRef:j,hasPortalFromProps:C}=this.props,{cssClasses:E,cssProperties:A}=Ane({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:{height:y.height,width:y.width},useTranslate3d:v,viewBox:b}),T=C?{}:wh(wh({transition:f&&t?"transform ".concat(a,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),k=wh(wh({},T),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:k,ref:j},l)}}var ML=()=>{var e;return(e=Fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cN.apply(null,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function JO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(a){kne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kne(e,t,r){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ek={curveBasisClosed:xZ,curveBasisOpen:gZ,curveBasis:pZ,curveBumpX:tZ,curveBumpY:nZ,curveLinearClosed:vZ,curveLinear:zx,curveMonotoneX:yZ,curveMonotoneY:jZ,curveNatural:bZ,curveStep:NZ,curveStepAfter:SZ,curveStepBefore:wZ},$p=e=>Dt(e.x)&&Dt(e.y),tk=e=>e.base!=null&&$p(e.base)&&$p(e),ou=e=>e.x,cu=e=>e.y,Mne=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(uf(e));return(r==="curveMonotone"||r==="curveBump")&&t?ek["".concat(r).concat(t==="vertical"?"Y":"X")]:ek[r]||zx},Dne=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:l=!1}=e,c=Mne(t,s),d=l?r.filter($p):r,f;if(Array.isArray(a)){var m=r.map((b,w)=>JO(JO({},b),{},{base:a[w]}));s==="vertical"?f=ph().y(cu).x1(ou).x0(b=>b.base.x):f=ph().x(ou).y1(cu).y0(b=>b.base.y);var h=f.defined(tk).curve(c),g=l?m.filter(tk):m;return h(g)}s==="vertical"&&Be(a)?f=ph().y(cu).x1(ou).x0(a):Be(a)?f=ph().x(ou).y1(cu).y0(a):f=i3().x(ou).y(cu);var v=f.defined($p).curve(c);return v(d)},gc=e=>{var{className:t,points:r,path:a,pathRef:s}=e;if((!r||!r.length)&&!a)return null;var l=r&&r.length?Dne(e):a;return p.createElement("path",cN({},Mr(e),zw(e),{className:wt("recharts-curve",t),d:l===null?void 0:l,ref:s}))},Lne=["x","y","top","left","width","height","className"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dN.apply(null,arguments)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ine(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(a){$ne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $ne(e,t,r){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fne(e){var t=zne(e,"string");return typeof t=="symbol"?t:t+""}function zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bne(e,t){if(e==null)return{};var r,a,s=Une(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Une(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Hne=(e,t,r,a,s,l)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(t,"h").concat(r),qne=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=Bne(e,Lne),m=Ine({x:t,y:r,top:a,left:s,width:l,height:c},f);return!Be(t)||!Be(r)||!Be(l)||!Be(c)||!Be(a)||!Be(s)?null:p.createElement("path",dN({},cr(m),{className:wt("recharts-cross",d),d:Hne(t,r,l,c,a,s)}))};function Vne(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(a){Kne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kne(e,t,r){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wne(e){var t=Gne(e,"string");return typeof t=="symbol"?t:t+""}function Gne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yne=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DL=(e,t,r)=>e.map(a=>"".concat(Yne(a)," ").concat(t,"ms ").concat(r)).join(","),Qne=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),qu=(e,t)=>Object.keys(t).reduce((r,a)=>ak(ak({},r),{},{[a]:e(a,t[a])}),{});function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(a){Xne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xne(e,t,r){return(t=Zne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zne(e){var t=Jne(e,"string");return typeof t=="symbol"?t:t+""}function Jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fp=(e,t,r)=>e+(t-e)*r,uN=e=>{var{from:t,to:r}=e;return t!==r},LL=(e,t,r)=>{var a=qu((s,l)=>{if(uN(l)){var[c,d]=e(l.from,l.to,l.velocity);return Mn(Mn({},l),{},{from:c,velocity:d})}return l},t);return r<1?qu((s,l)=>uN(l)?Mn(Mn({},l),{},{velocity:Fp(l.velocity,a[s].velocity,r),from:Fp(l.from,a[s].from,r)}):l,t):LL(e,a,r-1)};function ere(e,t,r,a,s,l){var c,d=a.reduce((v,b)=>Mn(Mn({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>qu((v,b)=>b.from,d),m=()=>!Object.values(d).filter(uN).length,h=null,g=v=>{c||(c=v);var b=v-c,w=b/r.dt;d=LL(r,d,w),s(Mn(Mn(Mn({},e),t),f())),c=v,m()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{var v;(v=h)===null||v===void 0||v()})}function tre(e,t,r,a,s,l,c){var d=null,f=s.reduce((g,v)=>Mn(Mn({},g),{},{[v]:[e[v],t[v]]}),{}),m,h=g=>{m||(m=g);var v=(g-m)/a,b=qu((y,j)=>Fp(...j,r(v)),f);if(l(Mn(Mn(Mn({},e),t),b)),v<1)d=c.setTimeout(h);else{var w=qu((y,j)=>Fp(...j,r(1)),f);l(Mn(Mn(Mn({},e),t),w))}};return()=>(d=c.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}const nre=(e,t,r,a,s,l)=>{var c=Qne(e,t);return r==null?()=>(s(Mn(Mn({},e),t)),()=>{}):r.isStepper===!0?ere(e,t,r,c,s,l):tre(e,t,r,a,c,s,l)};var zp=1e-4,IL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$L=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),ik=(e,t)=>r=>{var a=IL(e,t);return $L(a,r)},rre=(e,t)=>r=>{var a=IL(e,t),s=[...a.map((l,c)=>l*c).slice(1),0];return $L(s,r)},are=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,l=r[0].split("(");if(l[0]==="cubic-bezier"&&((s=l[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return r.length===4?r:[0,0,1,1]},sre=(e,t,r,a)=>{var s=ik(e,r),l=ik(t,a),c=rre(e,r),d=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,g=h,v=0;v<8;++v){var b=s(g)-h,w=c(g);if(Math.abs(b-h)<zp||w<zp)return l(g);g=d(g-b/w)}return l(g)};return f.isStepper=!1,f},lk=function(){return sre(...are(...arguments))},ire=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*r,h=f*a,g=f+(m-h)*s/1e3,v=f*s/1e3+c;return Math.abs(v-d)<zp&&Math.abs(g)<zp?[d,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},lre=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lk(e);case"spring":return ire();default:if(e.split("(")[0]==="cubic-bezier")return lk(e)}return typeof e=="function"?e:null};function ore(e){var t,r=()=>null,a=!1,s=null,l=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class cre{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,l=c=>{c-a>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{s!=null&&cancelAnimationFrame(s)}}}function dre(){return ore(new cre)}var ure=p.createContext(dre);function fre(e,t){var r=p.useContext(ure);return p.useMemo(()=>t??r(e),[e,t,r])}var mre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rd={devToolsEnabled:!1,isSsr:mre()},hre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ok={t:0},Ej={t:1};function bf(e){var t=bn(e,hre),{isActive:r,canBegin:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=r==="auto"?!rd.isSsr:r,g=fre(t.animationId,t.animationManager),[v,b]=p.useState(h?ok:Ej),w=p.useRef(null);return p.useEffect(()=>{h||b(Ej)},[h]),p.useEffect(()=>{if(!h||!a)return ff;var y=nre(ok,Ej,lre(l),s,b,g.getTimeoutController()),j=()=>{w.current=y()};return g.start([f,c,j,s,d]),()=>{g.stop(),w.current&&w.current(),d()}},[h,a,s,l,c,f,d,g]),m(v.t)}function Nf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Lu(t)),a=p.useRef(e);return a.current!==e&&(r.current=Lu(t),a.current=e),r.current}var pre=["radius"],xre=["radius"];function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(a){gre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gre(e,t,r){return(t=vre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bp.apply(null,arguments)}function uk(e,t){if(e==null)return{};var r,a,s=jre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jre(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var fk=(e,t,r,a,s)=>{var l=Math.min(Math.abs(r)/2,Math.abs(a)/2),c=a>=0?1:-1,d=r>=0?1:-1,f=a>=0&&r>=0||a<0&&r<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>l?l:s[g];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+r-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*h[1])),m+="L ".concat(e+r,",").concat(t+a-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-d*h[2],",").concat(t+a)),m+="L ".concat(e+d*h[3],",").concat(t+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+a-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var b=Math.min(l,s);m="M ".concat(e,",").concat(t+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+r-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*b,`
            L `).concat(e+r,",").concat(t+a-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+r-d*b,",").concat(t+a,`
            L `).concat(e+d*b,",").concat(t+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+a-c*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return m},mk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FL=e=>{var t=bn(e,mk),r=p.useRef(null),[a,s]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var J=r.current.getTotalLength();J&&s(J)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:y}=t,j=p.useRef(d),C=p.useRef(f),E=p.useRef(l),A=p.useRef(c),T=p.useMemo(()=>({x:l,y:c,width:d,height:f,radius:m}),[l,c,d,f,m]),k=Nf(T,"rectangle-");if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var P=wt("recharts-rectangle",h);if(!y){var _=cr(t),{radius:M}=_,X=uk(_,pre);return p.createElement("path",Bp({},X,{radius:typeof m=="number"?m:void 0,className:P,d:fk(l,c,d,f,m)}))}var I=j.current,R=C.current,V=E.current,je=A.current,Y="0px ".concat(a===-1?1:a,"px"),te="".concat(a,"px 0px"),z=DL(["strokeDasharray"],v,typeof g=="string"?g:mk.animationEasing);return p.createElement(bf,{animationId:k,key:k,canBegin:a>0,duration:v,easing:g,isActive:y,begin:b},J=>{var $=Xt(I,d,J),H=Xt(R,f,J),pe=Xt(V,l,J),D=Xt(je,c,J);r.current&&(j.current=$,C.current=H,E.current=pe,A.current=D);var ne;w?J>0?ne={transition:z,strokeDasharray:te}:ne={strokeDasharray:Y}:ne={strokeDasharray:te};var xe=cr(t),{radius:Se}=xe,oe=uk(xe,xre);return p.createElement("path",Bp({},oe,{radius:typeof m=="number"?m:void 0,className:P,d:fk(pe,D,$,H,m),ref:r,style:dk(dk({},ne),t.style)}))})};function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(a){bre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bre(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Up=Math.PI/180,Sre=e=>e*180/Math.PI,Tn=(e,t,r,a)=>({x:e+Math.cos(-Up*a)*r,y:t+Math.sin(-Up*a)*r}),zL=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},Cre=(e,t)=>{var{x:r,y:a}=e,{x:s,y:l}=t;return Math.sqrt((r-s)**2+(a-l)**2)},Ere=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:l}=t,c=Cre({x:r,y:a},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(r-s)/c,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:c,angle:Sre(f),angleInRadian:f}},Are=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),l=Math.min(a,s);return{startAngle:t-l*360,endAngle:r-l*360}},Pre=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),l=Math.floor(a/360),c=Math.min(s,l);return e+c*360},Tre=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:s,angle:l}=Ere({x:r,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=Are(t),h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?pk(pk({},t),{},{radius:s,angle:Pre(h,t)}):null};function BL(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:l}=e,c=Tn(t,r,a,s),d=Tn(t,r,a,l);return{points:[c,d],cx:t,cy:r,radius:a,startAngle:s,endAngle:l}}function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fN.apply(null,arguments)}var Ore=(e,t)=>{var r=Kn(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Sh=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+a,h=Math.asin(d/m)/Up,g=f?s:s+l*h,v=Tn(t,r,m,g),b=Tn(t,r,a,g),w=f?s-l*h:s,y=Tn(t,r,m*Math.cos(h*Up),w);return{center:v,circleTangency:b,lineTangency:y,theta:h}},UL=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,d=Ore(l,c),f=l+d,m=Tn(t,r,s,l),h=Tn(t,r,s,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var v=Tn(t,r,a,l),b=Tn(t,r,a,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},kre=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=Kn(m-f),{circleTangency:g,lineTangency:v,theta:b}=Sh({cx:t,cy:r,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:w,lineTangency:y,theta:j}=Sh({cx:t,cy:r,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),C=d?Math.abs(f-m):Math.abs(f-m)-b-j;if(C<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):UL({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var{circleTangency:A,lineTangency:T,theta:k}=Sh({cx:t,cy:r,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:P,lineTangency:_,theta:M}=Sh({cx:t,cy:r,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),X=d?Math.abs(f-m):Math.abs(f-m)-k-M;if(X<0&&l===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(X>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},_re={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HL=e=>{var t=bn(e,_re),{cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:g}=t;if(l<s||m===h)return null;var v=wt("recharts-sector",g),b=l-s,w=or(c,b,0,!0),y;return w>0&&Math.abs(m-h)<360?y=kre({cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):y=UL({cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),p.createElement("path",fN({},cr(t),{className:v,d:y}))};function Rre(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(b3(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:l,outerRadius:c,angle:d}=t,f=Tn(a,s,l,d),m=Tn(a,s,c,d);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return BL(t)}}var Aj={},Pj={},Tj={},xk;function Mre(){return xk||(xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R3();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(Tj)),Tj}var gk;function Dre(){return gk||(gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mre();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(Pj)),Pj}var vk;function Lre(){return vk||(vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M3(),r=Dre();function a(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=r.toFinite(s),l===void 0?(l=s,s=0):l=r.toFinite(l),c=c===void 0?s<l?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=a})(Aj)),Aj}var Oj,yk;function Ire(){return yk||(yk=1,Oj=Lre().range),Oj}var $re=Ire();const qL=ms($re);function Qi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r1(e){let t,r,a;e.length!==2?(t=Qi,r=(d,f)=>Qi(e(d),f),a=(d,f)=>e(d)-f):(t=e===Qi||e===Fre?e:zre,r=e,a=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<0?m=g+1:h=g}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<=0?m=g+1:h=g}while(m<h)}return m}function c(d,f,m=0,h=d.length){const g=s(d,f,m,h-1);return g>m&&a(d[g-1],f)>-a(d[g],f)?g-1:g}return{left:s,center:c,right:l}}function zre(){return 0}function VL(e){return e===null?NaN:+e}function*Bre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ure=r1(Qi),wf=Ure.right;r1(VL).center;class jk extends Map{constructor(t,r=Vre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(bk(this,t))}has(t){return super.has(bk(this,t))}set(t,r){return super.set(Hre(this,t),r)}delete(t){return super.delete(qre(this,t))}}function bk({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Hre({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function qre({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Vre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Kre(e=Qi){if(e===Qi)return KL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function KL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Wre=Math.sqrt(50),Gre=Math.sqrt(10),Yre=Math.sqrt(2);function Hp(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),l=a/Math.pow(10,s),c=l>=Wre?10:l>=Gre?5:l>=Yre?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=r&&r<2?Hp(e,t,r*2):[d,f,m]}function mN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,l,c]=a?Hp(t,e,r):Hp(e,t,r);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(a)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function hN(e,t,r){return t=+t,e=+e,r=+r,Hp(e,t,r)[2]}function pN(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?hN(t,e,r):hN(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function Nk(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function wk(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function WL(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?KL:Kre(s);a>r;){if(a-r>600){const f=a-r+1,m=t-r+1,h=Math.log(f),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(f-g)/f)*(m-f/2<0?-1:1),b=Math.max(r,Math.floor(t-m*g/f+v)),w=Math.min(a,Math.floor(t+(f-m)*g/f+v));WL(e,t,b,w,s)}const l=e[t];let c=r,d=a;for(du(e,r,t),s(e[a],l)>0&&du(e,r,a);c<d;){for(du(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[r],l)===0?du(e,r,d):(++d,du(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function du(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Qre(e,t,r){if(e=Float64Array.from(Bre(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return wk(e);if(t>=1)return Nk(e);var a,s=(a-1)*t,l=Math.floor(s),c=Nk(WL(e,l).subarray(0,l+1)),d=wk(e.subarray(l+1));return c+(d-c)*(s-l)}}function Xre(e,t,r=VL){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,l=Math.floor(s),c=+r(e[l],l,e),d=+r(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function Zre(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(s);++a<s;)l[a]=e+a*r;return l}function _a(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xN=Symbol("implicit");function a1(){var e=new jk,t=[],r=[],a=xN;function s(l){let c=e.get(l);if(c===void 0){if(a!==xN)return a;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new jk;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(r=Array.from(l),s):r.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return a1(t,r).unknown(a)},_a.apply(s,arguments),s}function s1(){var e=a1().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function g(){var v=t().length,b=s<a,w=b?s:a,y=b?a:s;l=(y-w)/Math.max(1,v-f+m*2),d&&(l=Math.floor(l)),w+=(y-w-l*(v-f))*h,c=l*(1-f),d&&(w=Math.round(w),c=Math.round(c));var j=Zre(v).map(function(C){return w+l*C});return r(b?j.reverse():j)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([a,s]=v,a=+a,s=+s,g()):[a,s]},e.rangeRound=function(v){return[a,s]=v,a=+a,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,g()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return s1(t(),[a,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},_a.apply(g(),arguments)}function GL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GL(t())},e}function Jre(){return GL(s1.apply(null,arguments).paddingInner(1))}function i1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function YL(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Sf(){}var Vu=.7,qp=1/Vu,vc="\\s*([+-]?\\d+)\\s*",Ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eae=/^#([0-9a-f]{3,8})$/,tae=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),nae=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),rae=new RegExp(`^rgba\\(${vc},${vc},${vc},${Ku}\\)$`),aae=new RegExp(`^rgba\\(${as},${as},${as},${Ku}\\)$`),sae=new RegExp(`^hsl\\(${Ku},${as},${as}\\)$`),iae=new RegExp(`^hsla\\(${Ku},${as},${as},${Ku}\\)$`),Sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i1(Sf,Wu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ck,formatHex:Ck,formatHex8:lae,formatHsl:oae,formatRgb:Ek,toString:Ek});function Ck(){return this.rgb().formatHex()}function lae(){return this.rgb().formatHex8()}function oae(){return QL(this).formatHsl()}function Ek(){return this.rgb().formatRgb()}function Wu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ak(t):r===3?new Or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ch(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ch(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tae.exec(e))?new Or(t[1],t[2],t[3],1):(t=nae.exec(e))?new Or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rae.exec(e))?Ch(t[1],t[2],t[3],t[4]):(t=aae.exec(e))?Ch(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sae.exec(e))?Ok(t[1],t[2]/100,t[3]/100,1):(t=iae.exec(e))?Ok(t[1],t[2]/100,t[3]/100,t[4]):Sk.hasOwnProperty(e)?Ak(Sk[e]):e==="transparent"?new Or(NaN,NaN,NaN,0):null}function Ak(e){return new Or(e>>16&255,e>>8&255,e&255,1)}function Ch(e,t,r,a){return a<=0&&(e=t=r=NaN),new Or(e,t,r,a)}function cae(e){return e instanceof Sf||(e=Wu(e)),e?(e=e.rgb(),new Or(e.r,e.g,e.b,e.opacity)):new Or}function gN(e,t,r,a){return arguments.length===1?cae(e):new Or(e,t,r,a??1)}function Or(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}i1(Or,gN,YL(Sf,{brighter(e){return e=e==null?qp:Math.pow(qp,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vu:Math.pow(Vu,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Or(Wl(this.r),Wl(this.g),Wl(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pk,formatHex:Pk,formatHex8:dae,formatRgb:Tk,toString:Tk}));function Pk(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}`}function dae(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}${Hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tk(){const e=Vp(this.opacity);return`${e===1?"rgb(":"rgba("}${Wl(this.r)}, ${Wl(this.g)}, ${Wl(this.b)}${e===1?")":`, ${e})`}`}function Vp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hl(e){return e=Wl(e),(e<16?"0":"")+e.toString(16)}function Ok(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new za(e,t,r,a)}function QL(e){if(e instanceof za)return new za(e.h,e.s,e.l,e.opacity);if(e instanceof Sf||(e=Wu(e)),!e)return new za;if(e instanceof za)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),l=Math.max(t,r,a),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(r-a)/d+(r<a)*6:r===l?c=(a-t)/d+2:c=(t-r)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new za(c,d,f,e.opacity)}function uae(e,t,r,a){return arguments.length===1?QL(e):new za(e,t,r,a??1)}function za(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}i1(za,uae,YL(Sf,{brighter(e){return e=e==null?qp:Math.pow(qp,e),new za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vu:Math.pow(Vu,e),new za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Or(kj(e>=240?e-240:e+120,s,a),kj(e,s,a),kj(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new za(kk(this.h),Eh(this.s),Eh(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vp(this.opacity);return`${e===1?"hsl(":"hsla("}${kk(this.h)}, ${Eh(this.s)*100}%, ${Eh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kk(e){return e=(e||0)%360,e<0?e+360:e}function Eh(e){return Math.max(0,Math.min(1,e||0))}function kj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const l1=e=>()=>e;function fae(e,t){return function(r){return e+r*t}}function mae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function hae(e){return(e=+e)==1?XL:function(t,r){return r-t?mae(t,r,e):l1(isNaN(t)?r:t)}}function XL(e,t){var r=t-e;return r?fae(e,r):l1(isNaN(e)?t:e)}const _k=(function e(t){var r=hae(t);function a(s,l){var c=r((s=gN(s)).r,(l=gN(l)).r),d=r(s.g,l.g),f=r(s.b,l.b),m=XL(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return a.gamma=e,a})(1);function pae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(l){for(s=0;s<r;++s)a[s]=e[s]*(1-l)+t[s]*l;return a}}function xae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gae(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),l=new Array(r),c;for(c=0;c<a;++c)s[c]=ad(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(d){for(c=0;c<a;++c)l[c]=s[c](d);return l}}function vae(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Kp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yae(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ad(e[s],t[s]):a[s]=t[s];return function(l){for(s in r)a[s]=r[s](l);return a}}var vN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_j=new RegExp(vN.source,"g");function jae(e){return function(){return e}}function bae(e){return function(t){return e(t)+""}}function Nae(e,t){var r=vN.lastIndex=_j.lastIndex=0,a,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(a=vN.exec(e))&&(s=_j.exec(t));)(l=s.index)>r&&(l=t.slice(r,l),d[c]?d[c]+=l:d[++c]=l),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:Kp(a,s)})),r=_j.lastIndex;return r<t.length&&(l=t.slice(r),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?bae(f[0].x):jae(t):(t=f.length,function(m){for(var h=0,g;h<t;++h)d[(g=f[h]).i]=g.x(m);return d.join("")})}function ad(e,t){var r=typeof t,a;return t==null||r==="boolean"?l1(t):(r==="number"?Kp:r==="string"?(a=Wu(t))?(t=a,_k):Nae:t instanceof Wu?_k:t instanceof Date?vae:xae(t)?pae:Array.isArray(t)?gae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yae:Kp)(e,t)}function o1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function wae(e,t){t===void 0&&(t=e,e=ad);for(var r=0,a=t.length-1,s=t[0],l=new Array(a<0?0:a);r<a;)l[r]=e(s,s=t[++r]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return l[d](c-d)}}function Sae(e){return function(){return e}}function Wp(e){return+e}var Rk=[0,1];function hr(e){return e}function yN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Sae(isNaN(t)?NaN:.5)}function Cae(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function Eae(e,t,r){var a=e[0],s=e[1],l=t[0],c=t[1];return s<a?(a=yN(s,a),l=r(c,l)):(a=yN(a,s),l=r(l,c)),function(d){return l(a(d))}}function Aae(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),l=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=yN(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(d){var f=wf(e,d,1,a)-1;return l[f](s[f](d))}}function Cf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sg(){var e=Rk,t=Rk,r=ad,a,s,l,c=hr,d,f,m;function h(){var v=Math.min(e.length,t.length);return c!==hr&&(c=Cae(e[0],e[v-1])),d=v>2?Aae:Eae,f=m=null,g}function g(v){return v==null||isNaN(v=+v)?l:(f||(f=d(e.map(a),t,r)))(a(c(v)))}return g.invert=function(v){return c(s((m||(m=d(t,e.map(a),Kp)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Wp),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=o1,h()},g.clamp=function(v){return arguments.length?(c=v?!0:hr,h()):c!==hr},g.interpolate=function(v){return arguments.length?(r=v,h()):r},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,b){return a=v,s=b,h()}}function c1(){return sg()(hr,hr)}function Pae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Mc(e){return e=Gp(Math.abs(e)),e?e[1]:NaN}function Tae(e,t){return function(r,a){for(var s=r.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>a&&(d=Math.max(1,a-f)),l.push(r.substring(s-=d,s+d)),!((f+=d+1)>a));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function Oae(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gu(e){if(!(t=kae.exec(e)))throw new Error("invalid format: "+e);var t;return new d1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gu.prototype=d1.prototype;function d1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}d1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _ae(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var ZL;function Rae(e,t){var r=Gp(e,t);if(!r)return e+"";var a=r[0],s=r[1],l=s-(ZL=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return l===c?a:l>c?a+new Array(l-c+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+Gp(e,Math.max(0,t+l-1))[0]}function Mk(e,t){var r=Gp(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const Dk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Mk(e*100,t),r:Mk,s:Rae,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Lk(e){return e}var Ik=Array.prototype.map,$k=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mae(e){var t=e.grouping===void 0||e.thousands===void 0?Lk:Tae(Ik.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Lk:Oae(Ik.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(g){g=Gu(g);var v=g.fill,b=g.align,w=g.sign,y=g.symbol,j=g.zero,C=g.width,E=g.comma,A=g.precision,T=g.trim,k=g.type;k==="n"?(E=!0,k="g"):Dk[k]||(A===void 0&&(A=12),T=!0,k="g"),(j||v==="0"&&b==="=")&&(j=!0,v="0",b="=");var P=y==="$"?r:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=y==="$"?a:/[%p]/.test(k)?c:"",M=Dk[k],X=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function I(R){var V=P,je=_,Y,te,z;if(k==="c")je=M(R)+je,R="";else{R=+R;var J=R<0||1/R<0;if(R=isNaN(R)?f:M(Math.abs(R),A),T&&(R=_ae(R)),J&&+R==0&&w!=="+"&&(J=!1),V=(J?w==="("?w:d:w==="-"||w==="("?"":w)+V,je=(k==="s"?$k[8+ZL/3]:"")+je+(J&&w==="("?")":""),X){for(Y=-1,te=R.length;++Y<te;)if(z=R.charCodeAt(Y),48>z||z>57){je=(z===46?s+R.slice(Y+1):R.slice(Y))+je,R=R.slice(0,Y);break}}}E&&!j&&(R=t(R,1/0));var $=V.length+R.length+je.length,H=$<C?new Array(C-$+1).join(v):"";switch(E&&j&&(R=t(H+R,H.length?C-je.length:1/0),H=""),b){case"<":R=V+R+je+H;break;case"=":R=V+H+R+je;break;case"^":R=H.slice(0,$=H.length>>1)+V+R+je+H.slice($);break;default:R=H+V+R+je;break}return l(R)}return I.toString=function(){return g+""},I}function h(g,v){var b=m((g=Gu(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(Mc(v)/3)))*3,y=Math.pow(10,-w),j=$k[8+w/3];return function(C){return b(y*C)+j}}return{format:m,formatPrefix:h}}var Ah,u1,JL;Dae({thousands:",",grouping:[3],currency:["$",""]});function Dae(e){return Ah=Mae(e),u1=Ah.format,JL=Ah.formatPrefix,Ah}function Lae(e){return Math.max(0,-Mc(Math.abs(e)))}function Iae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mc(t)/3)))*3-Mc(Math.abs(e)))}function $ae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mc(t)-Mc(e))+1}function eI(e,t,r,a){var s=pN(e,t,r),l;switch(a=Gu(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(l=Iae(s,c))&&(a.precision=l),JL(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(l=$ae(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=l-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(l=Lae(s))&&(a.precision=l-(a.type==="%")*2);break}}return u1(a)}function ml(e){var t=e.domain;return e.ticks=function(r){var a=t();return mN(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return eI(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,l=a.length-1,c=a[s],d=a[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=hN(c,d,r),m===f)return a[s]=c,a[l]=d,t(a);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function tI(){var e=c1();return e.copy=function(){return Cf(e,tI())},_a.apply(e,arguments),ml(e)}function nI(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Wp),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return nI(e).unknown(t)},e=arguments.length?Array.from(e,Wp):[0,1],ml(r)}function rI(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],l=e[a],c;return l<s&&(c=r,r=a,a=c,c=s,s=l,l=c),e[r]=t.floor(s),e[a]=t.ceil(l),e}function Fk(e){return Math.log(e)}function zk(e){return Math.exp(e)}function Fae(e){return-Math.log(-e)}function zae(e){return-Math.exp(-e)}function Bae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Uae(e){return e===10?Bae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Hae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Bk(e){return(t,r)=>-e(-t,r)}function f1(e){const t=e(Fk,zk),r=t.domain;let a=10,s,l;function c(){return s=Hae(a),l=Uae(a),r()[0]<0?(s=Bk(s),l=Bk(l),e(Fae,zae)):e(Fk,zk),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const f=r();let m=f[0],h=f[f.length-1];const g=h<m;g&&([m,h]=[h,m]);let v=s(m),b=s(h),w,y;const j=d==null?10:+d;let C=[];if(!(a%1)&&b-v<j){if(v=Math.floor(v),b=Math.ceil(b),m>0){for(;v<=b;++v)for(w=1;w<a;++w)if(y=v<0?w/l(-v):w*l(v),!(y<m)){if(y>h)break;C.push(y)}}else for(;v<=b;++v)for(w=a-1;w>=1;--w)if(y=v>0?w/l(-v):w*l(v),!(y<m)){if(y>h)break;C.push(y)}C.length*2<j&&(C=mN(m,h,j))}else C=mN(v,b,Math.min(b-v,j)).map(l);return g?C.reverse():C},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=a===10?"s":","),typeof f!="function"&&(!(a%1)&&(f=Gu(f)).precision==null&&(f.trim=!0),f=u1(f)),d===1/0)return f;const m=Math.max(1,a*d/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*a<a-.5&&(g*=a),g<=m?f(h):""}},t.nice=()=>r(rI(r(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function aI(){const e=f1(sg()).domain([1,10]);return e.copy=()=>Cf(e,aI()).base(e.base()),_a.apply(e,arguments),e}function Uk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Hk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function m1(e){var t=1,r=e(Uk(t),Hk(t));return r.constant=function(a){return arguments.length?e(Uk(t=+a),Hk(t)):t},ml(r)}function sI(){var e=m1(sg());return e.copy=function(){return Cf(e,sI()).constant(e.constant())},_a.apply(e,arguments)}function qk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vae(e){return e<0?-e*e:e*e}function h1(e){var t=e(hr,hr),r=1;function a(){return r===1?e(hr,hr):r===.5?e(qae,Vae):e(qk(r),qk(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},ml(t)}function p1(){var e=h1(sg());return e.copy=function(){return Cf(e,p1()).exponent(e.exponent())},_a.apply(e,arguments),e}function Kae(){return p1.apply(null,arguments).exponent(.5)}function Vk(e){return Math.sign(e)*e*e}function Wae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iI(){var e=c1(),t=[0,1],r=!1,a;function s(l){var c=Wae(e(l));return isNaN(c)?a:r?Math.round(c):c}return s.invert=function(l){return e.invert(Vk(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Wp)).map(Vk)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(r=!!l,s):r},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return iI(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},_a.apply(s,arguments),ml(s)}function lI(){var e=[],t=[],r=[],a;function s(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=Xre(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?a:t[wf(r,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Qi),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(a=c,l):a},l.quantiles=function(){return r.slice()},l.copy=function(){return lI().domain(e).range(t).unknown(a)},_a.apply(l,arguments)}function oI(){var e=0,t=1,r=1,a=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[wf(a,f,0,r)]:l}function d(){var f=-1;for(a=new Array(r);++f<r;)a[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(r=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=r?[a[r-1],t]:[a[m-1],a[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return a.slice()},c.copy=function(){return oI().domain([e,t]).range(s).unknown(l)},_a.apply(ml(c),arguments)}function cI(){var e=[.5],t=[0,1],r,a=1;function s(l){return l!=null&&l<=l?t[wf(e,l,0,a)]:r}return s.domain=function(l){return arguments.length?(e=Array.from(l),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return cI().domain(e).range(t).unknown(r)},_a.apply(s,arguments)}const Rj=new Date,Mj=new Date;function $n(e,t,r,a){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>$n(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),r&&(s.count=(l,c)=>(Rj.setTime(+l),Mj.setTime(+c),e(Rj),e(Mj),Math.floor(r(Rj,Mj))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(a?c=>a(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const Yp=$n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$n(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yp);Yp.range;const Vs=1e3,Ea=Vs*60,Ks=Ea*60,ri=Ks*24,x1=ri*7,Kk=ri*30,Dj=ri*365,ql=$n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vs)},(e,t)=>(t-e)/Vs,e=>e.getUTCSeconds());ql.range;const g1=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vs)},(e,t)=>{e.setTime(+e+t*Ea)},(e,t)=>(t-e)/Ea,e=>e.getMinutes());g1.range;const v1=$n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ea)},(e,t)=>(t-e)/Ea,e=>e.getUTCMinutes());v1.range;const y1=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vs-e.getMinutes()*Ea)},(e,t)=>{e.setTime(+e+t*Ks)},(e,t)=>(t-e)/Ks,e=>e.getHours());y1.range;const j1=$n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ks)},(e,t)=>(t-e)/Ks,e=>e.getUTCHours());j1.range;const Ef=$n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ea)/ri,e=>e.getDate()-1);Ef.range;const ig=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ri,e=>e.getUTCDate()-1);ig.range;const dI=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ri,e=>Math.floor(e/ri));dI.range;function mo(e){return $n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ea)/x1)}const lg=mo(0),Qp=mo(1),Gae=mo(2),Yae=mo(3),Dc=mo(4),Qae=mo(5),Xae=mo(6);lg.range;Qp.range;Gae.range;Yae.range;Dc.range;Qae.range;Xae.range;function ho(e){return $n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/x1)}const og=ho(0),Xp=ho(1),Zae=ho(2),Jae=ho(3),Lc=ho(4),ese=ho(5),tse=ho(6);og.range;Xp.range;Zae.range;Jae.range;Lc.range;ese.range;tse.range;const b1=$n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());b1.range;const N1=$n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());N1.range;const ai=$n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ai.range;const si=$n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});si.range;function uI(e,t,r,a,s,l){const c=[[ql,1,Vs],[ql,5,5*Vs],[ql,15,15*Vs],[ql,30,30*Vs],[l,1,Ea],[l,5,5*Ea],[l,15,15*Ea],[l,30,30*Ea],[s,1,Ks],[s,3,3*Ks],[s,6,6*Ks],[s,12,12*Ks],[a,1,ri],[a,2,2*ri],[r,1,x1],[t,1,Kk],[t,3,3*Kk],[e,1,Dj]];function d(m,h,g){const v=h<m;v&&([m,h]=[h,m]);const b=g&&typeof g.range=="function"?g:f(m,h,g),w=b?b.range(m,+h+1):[];return v?w.reverse():w}function f(m,h,g){const v=Math.abs(h-m)/g,b=r1(([,,j])=>j).right(c,v);if(b===c.length)return e.every(pN(m/Dj,h/Dj,g));if(b===0)return Yp.every(Math.max(pN(m,h,g),1));const[w,y]=c[v/c[b-1][2]<c[b][2]/v?b-1:b];return w.every(y)}return[d,f]}const[nse,rse]=uI(si,N1,og,dI,j1,v1),[ase,sse]=uI(ai,b1,lg,Ef,y1,g1);function Lj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ij(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ise(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=fu(s),h=mu(s),g=fu(l),v=mu(l),b=fu(c),w=mu(c),y=fu(d),j=mu(d),C=fu(f),E=mu(f),A={a:J,A:$,b:H,B:pe,c:null,d:Zk,e:Zk,f:Tse,g:Fse,G:Bse,H:Ese,I:Ase,j:Pse,L:fI,m:Ose,M:kse,p:D,q:ne,Q:t_,s:n_,S:_se,u:Rse,U:Mse,V:Dse,w:Lse,W:Ise,x:null,X:null,y:$se,Y:zse,Z:Use,"%":e_},T={a:xe,A:Se,b:oe,B:$e,c:null,d:Jk,e:Jk,f:Kse,g:nie,G:aie,H:Hse,I:qse,j:Vse,L:hI,m:Wse,M:Gse,p:ge,q:We,Q:t_,s:n_,S:Yse,u:Qse,U:Xse,V:Zse,w:Jse,W:eie,x:null,X:null,y:tie,Y:rie,Z:sie,"%":e_},k={a:I,A:R,b:V,B:je,c:Y,d:Qk,e:Qk,f:Nse,g:Yk,G:Gk,H:Xk,I:Xk,j:vse,L:bse,m:gse,M:yse,p:X,q:xse,Q:Sse,s:Cse,S:jse,u:use,U:fse,V:mse,w:dse,W:hse,x:te,X:z,y:Yk,Y:Gk,Z:pse,"%":wse};A.x=P(r,A),A.X=P(a,A),A.c=P(t,A),T.x=P(r,T),T.X=P(a,T),T.c=P(t,T);function P(me,Re){return function(W){var ce=[],Ie=-1,Ye=0,Lt=me.length,kt,ee,de;for(W instanceof Date||(W=new Date(+W));++Ie<Lt;)me.charCodeAt(Ie)===37&&(ce.push(me.slice(Ye,Ie)),(ee=Wk[kt=me.charAt(++Ie)])!=null?kt=me.charAt(++Ie):ee=kt==="e"?" ":"0",(de=Re[kt])&&(kt=de(W,ee)),ce.push(kt),Ye=Ie+1);return ce.push(me.slice(Ye,Ie)),ce.join("")}}function _(me,Re){return function(W){var ce=uu(1900,void 0,1),Ie=M(ce,me,W+="",0),Ye,Lt;if(Ie!=W.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Re&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ye=Ij(uu(ce.y,0,1)),Lt=Ye.getUTCDay(),Ye=Lt>4||Lt===0?Xp.ceil(Ye):Xp(Ye),Ye=ig.offset(Ye,(ce.V-1)*7),ce.y=Ye.getUTCFullYear(),ce.m=Ye.getUTCMonth(),ce.d=Ye.getUTCDate()+(ce.w+6)%7):(Ye=Lj(uu(ce.y,0,1)),Lt=Ye.getDay(),Ye=Lt>4||Lt===0?Qp.ceil(Ye):Qp(Ye),Ye=Ef.offset(Ye,(ce.V-1)*7),ce.y=Ye.getFullYear(),ce.m=Ye.getMonth(),ce.d=Ye.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Lt="Z"in ce?Ij(uu(ce.y,0,1)).getUTCDay():Lj(uu(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Lt+5)%7:ce.w+ce.U*7-(Lt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Ij(ce)):Lj(ce)}}function M(me,Re,W,ce){for(var Ie=0,Ye=Re.length,Lt=W.length,kt,ee;Ie<Ye;){if(ce>=Lt)return-1;if(kt=Re.charCodeAt(Ie++),kt===37){if(kt=Re.charAt(Ie++),ee=k[kt in Wk?Re.charAt(Ie++):kt],!ee||(ce=ee(me,W,ce))<0)return-1}else if(kt!=W.charCodeAt(ce++))return-1}return ce}function X(me,Re,W){var ce=m.exec(Re.slice(W));return ce?(me.p=h.get(ce[0].toLowerCase()),W+ce[0].length):-1}function I(me,Re,W){var ce=b.exec(Re.slice(W));return ce?(me.w=w.get(ce[0].toLowerCase()),W+ce[0].length):-1}function R(me,Re,W){var ce=g.exec(Re.slice(W));return ce?(me.w=v.get(ce[0].toLowerCase()),W+ce[0].length):-1}function V(me,Re,W){var ce=C.exec(Re.slice(W));return ce?(me.m=E.get(ce[0].toLowerCase()),W+ce[0].length):-1}function je(me,Re,W){var ce=y.exec(Re.slice(W));return ce?(me.m=j.get(ce[0].toLowerCase()),W+ce[0].length):-1}function Y(me,Re,W){return M(me,t,Re,W)}function te(me,Re,W){return M(me,r,Re,W)}function z(me,Re,W){return M(me,a,Re,W)}function J(me){return c[me.getDay()]}function $(me){return l[me.getDay()]}function H(me){return f[me.getMonth()]}function pe(me){return d[me.getMonth()]}function D(me){return s[+(me.getHours()>=12)]}function ne(me){return 1+~~(me.getMonth()/3)}function xe(me){return c[me.getUTCDay()]}function Se(me){return l[me.getUTCDay()]}function oe(me){return f[me.getUTCMonth()]}function $e(me){return d[me.getUTCMonth()]}function ge(me){return s[+(me.getUTCHours()>=12)]}function We(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Re=P(me+="",A);return Re.toString=function(){return me},Re},parse:function(me){var Re=_(me+="",!1);return Re.toString=function(){return me},Re},utcFormat:function(me){var Re=P(me+="",T);return Re.toString=function(){return me},Re},utcParse:function(me){var Re=_(me+="",!0);return Re.toString=function(){return me},Re}}}var Wk={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,lse=/^%/,ose=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",l=s.length;return a+(l<r?new Array(r-l+1).join(t)+s:s)}function cse(e){return e.replace(ose,"\\$&")}function fu(e){return new RegExp("^(?:"+e.map(cse).join("|")+")","i")}function mu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dse(e,t,r){var a=Gn.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function use(e,t,r){var a=Gn.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function fse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function mse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function hse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Gk(e,t,r){var a=Gn.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Yk(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function pse(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function xse(e,t,r){var a=Gn.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function gse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function Qk(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function vse(e,t,r){var a=Gn.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function Xk(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function yse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function jse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function bse(e,t,r){var a=Gn.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function Nse(e,t,r){var a=Gn.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function wse(e,t,r){var a=lse.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function Sse(e,t,r){var a=Gn.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function Cse(e,t,r){var a=Gn.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function Zk(e,t){return Pt(e.getDate(),t,2)}function Ese(e,t){return Pt(e.getHours(),t,2)}function Ase(e,t){return Pt(e.getHours()%12||12,t,2)}function Pse(e,t){return Pt(1+Ef.count(ai(e),e),t,3)}function fI(e,t){return Pt(e.getMilliseconds(),t,3)}function Tse(e,t){return fI(e,t)+"000"}function Ose(e,t){return Pt(e.getMonth()+1,t,2)}function kse(e,t){return Pt(e.getMinutes(),t,2)}function _se(e,t){return Pt(e.getSeconds(),t,2)}function Rse(e){var t=e.getDay();return t===0?7:t}function Mse(e,t){return Pt(lg.count(ai(e)-1,e),t,2)}function mI(e){var t=e.getDay();return t>=4||t===0?Dc(e):Dc.ceil(e)}function Dse(e,t){return e=mI(e),Pt(Dc.count(ai(e),e)+(ai(e).getDay()===4),t,2)}function Lse(e){return e.getDay()}function Ise(e,t){return Pt(Qp.count(ai(e)-1,e),t,2)}function $se(e,t){return Pt(e.getFullYear()%100,t,2)}function Fse(e,t){return e=mI(e),Pt(e.getFullYear()%100,t,2)}function zse(e,t){return Pt(e.getFullYear()%1e4,t,4)}function Bse(e,t){var r=e.getDay();return e=r>=4||r===0?Dc(e):Dc.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function Use(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function Jk(e,t){return Pt(e.getUTCDate(),t,2)}function Hse(e,t){return Pt(e.getUTCHours(),t,2)}function qse(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function Vse(e,t){return Pt(1+ig.count(si(e),e),t,3)}function hI(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function Kse(e,t){return hI(e,t)+"000"}function Wse(e,t){return Pt(e.getUTCMonth()+1,t,2)}function Gse(e,t){return Pt(e.getUTCMinutes(),t,2)}function Yse(e,t){return Pt(e.getUTCSeconds(),t,2)}function Qse(e){var t=e.getUTCDay();return t===0?7:t}function Xse(e,t){return Pt(og.count(si(e)-1,e),t,2)}function pI(e){var t=e.getUTCDay();return t>=4||t===0?Lc(e):Lc.ceil(e)}function Zse(e,t){return e=pI(e),Pt(Lc.count(si(e),e)+(si(e).getUTCDay()===4),t,2)}function Jse(e){return e.getUTCDay()}function eie(e,t){return Pt(Xp.count(si(e)-1,e),t,2)}function tie(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function nie(e,t){return e=pI(e),Pt(e.getUTCFullYear()%100,t,2)}function rie(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function aie(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Lc(e):Lc.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function sie(){return"+0000"}function e_(){return"%"}function t_(e){return+e}function n_(e){return Math.floor(+e/1e3)}var ac,xI,gI;iie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iie(e){return ac=ise(e),xI=ac.format,ac.parse,gI=ac.utcFormat,ac.utcParse,ac}function lie(e){return new Date(e)}function oie(e){return e instanceof Date?+e:+new Date(+e)}function w1(e,t,r,a,s,l,c,d,f,m){var h=c1(),g=h.invert,v=h.domain,b=m(".%L"),w=m(":%S"),y=m("%I:%M"),j=m("%I %p"),C=m("%a %d"),E=m("%b %d"),A=m("%B"),T=m("%Y");function k(P){return(f(P)<P?b:d(P)<P?w:c(P)<P?y:l(P)<P?j:a(P)<P?s(P)<P?C:E:r(P)<P?A:T)(P)}return h.invert=function(P){return new Date(g(P))},h.domain=function(P){return arguments.length?v(Array.from(P,oie)):v().map(lie)},h.ticks=function(P){var _=v();return e(_[0],_[_.length-1],P??10)},h.tickFormat=function(P,_){return _==null?k:m(_)},h.nice=function(P){var _=v();return(!P||typeof P.range!="function")&&(P=t(_[0],_[_.length-1],P??10)),P?v(rI(_,P)):h},h.copy=function(){return Cf(h,w1(e,t,r,a,s,l,c,d,f,m))},h}function cie(){return _a.apply(w1(ase,sse,ai,b1,lg,Ef,y1,g1,ql,xI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function die(){return _a.apply(w1(nse,rse,si,N1,og,ig,j1,v1,ql,gI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cg(){var e=0,t=1,r,a,s,l,c=hr,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(s===0?.5:(g=(l(g)-r)*s,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,r=l(e=+e),a=l(t=+t),s=r===a?0:1/(a-r),m):[e,t]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function h(g){return function(v){var b,w;return arguments.length?([b,w]=v,c=g(b,w),m):[c(0),c(1)]}}return m.range=h(ad),m.rangeRound=h(o1),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return l=g,r=g(e),a=g(t),s=r===a?0:1/(a-r),m}}function hl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vI(){var e=ml(cg()(hr));return e.copy=function(){return hl(e,vI())},hi.apply(e,arguments)}function yI(){var e=f1(cg()).domain([1,10]);return e.copy=function(){return hl(e,yI()).base(e.base())},hi.apply(e,arguments)}function jI(){var e=m1(cg());return e.copy=function(){return hl(e,jI()).constant(e.constant())},hi.apply(e,arguments)}function S1(){var e=h1(cg());return e.copy=function(){return hl(e,S1()).exponent(e.exponent())},hi.apply(e,arguments)}function uie(){return S1.apply(null,arguments).exponent(.5)}function bI(){var e=[],t=hr;function r(a){if(a!=null&&!isNaN(a=+a))return t((wf(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qi),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,l)=>Qre(e,l/a))},r.copy=function(){return bI(t).domain(e)},hi.apply(r,arguments)}function dg(){var e=0,t=.5,r=1,a=1,s,l,c,d,f,m=hr,h,g=!1,v;function b(y){return isNaN(y=+y)?v:(y=.5+((y=+h(y))-l)*(a*y<a*l?d:f),m(g?Math.max(0,Math.min(1,y)):y))}b.domain=function(y){return arguments.length?([e,t,r]=y,s=h(e=+e),l=h(t=+t),c=h(r=+r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,b):[e,t,r]},b.clamp=function(y){return arguments.length?(g=!!y,b):g},b.interpolator=function(y){return arguments.length?(m=y,b):m};function w(y){return function(j){var C,E,A;return arguments.length?([C,E,A]=j,m=wae(y,[C,E,A]),b):[m(0),m(.5),m(1)]}}return b.range=w(ad),b.rangeRound=w(o1),b.unknown=function(y){return arguments.length?(v=y,b):v},function(y){return h=y,s=y(e),l=y(t),c=y(r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,b}}function NI(){var e=ml(dg()(hr));return e.copy=function(){return hl(e,NI())},hi.apply(e,arguments)}function wI(){var e=f1(dg()).domain([.1,1,10]);return e.copy=function(){return hl(e,wI()).base(e.base())},hi.apply(e,arguments)}function SI(){var e=m1(dg());return e.copy=function(){return hl(e,SI()).constant(e.constant())},hi.apply(e,arguments)}function C1(){var e=h1(dg());return e.copy=function(){return hl(e,C1()).exponent(e.exponent())},hi.apply(e,arguments)}function fie(){return C1.apply(null,arguments).exponent(.5)}const yu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:s1,scaleDiverging:NI,scaleDivergingLog:wI,scaleDivergingPow:C1,scaleDivergingSqrt:fie,scaleDivergingSymlog:SI,scaleIdentity:nI,scaleImplicit:xN,scaleLinear:tI,scaleLog:aI,scaleOrdinal:a1,scalePoint:Jre,scalePow:p1,scaleQuantile:lI,scaleQuantize:oI,scaleRadial:iI,scaleSequential:vI,scaleSequentialLog:yI,scaleSequentialPow:S1,scaleSequentialQuantile:bI,scaleSequentialSqrt:uie,scaleSequentialSymlog:jI,scaleSqrt:Kae,scaleSymlog:sI,scaleThreshold:cI,scaleTime:cie,scaleUtc:die,tickFormat:eI},Symbol.toStringTag,{value:"Module"}));var pl=e=>e.chartData,E1=he([pl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ug=(e,t,r,a)=>a?E1(e):pl(e);function rl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Dt(t)&&Dt(r))return!0}return!1}function r_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function CI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,l;if(Dt(r))s=r;else if(typeof r=="function")return;if(Dt(a))l=a;else if(typeof a=="function")return;var c=[s,l];if(rl(c))return c}}function mie(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(rl(a))return r_(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Be(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&kO.test(s)){var f=kO.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Be(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[1]))}catch{}else if(typeof l=="string"&&_O.test(l)){var h=_O.exec(l);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[1]+g}}else d=t?.[1];var v=[c,d];if(rl(v))return t==null?v:r_(v,t,r)}}}var sd=1e9,hie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},P1,nn=!0,Oa="[DecimalError] ",Gl=Oa+"Invalid argument: ",A1=Oa+"Exponent out of range: ",id=Math.floor,Bl=Math.pow,pie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yr,Vn=1e7,Qt=7,EI=9007199254740991,Zp=id(EI/Qt),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,r,a,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(a=l.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return a===s?0:a>s^l.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(e){return Ws(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,r=t.constructor;return qt(Ws(t,new r(e),0,1),r.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return kn(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,r=this,a=r.constructor,s=a.precision,l=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Yr))throw Error(Oa+"NaN");if(r.s<1)throw Error(Oa+(r.s?"NaN":"-Infinity"));return r.eq(Yr)?new a(0):(nn=!1,t=Ws(Yu(r,l),Yu(e,l),l),nn=!0,qt(t,s))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TI(t,e):AI(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Oa+"NaN");return r.s?(nn=!1,t=Ws(r,e,0,1).times(e),nn=!0,r.minus(t)):qt(new a(r),s)};Ue.naturalExponential=Ue.exp=function(){return PI(this)};Ue.naturalLogarithm=Ue.ln=function(){return Yu(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AI(t,e):TI(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gl+e);if(t=kn(s)+1,a=s.d.length-1,r=a*Qt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Ue.squareRoot=Ue.sqrt=function(){var e,t,r,a,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Oa+"NaN")}for(e=kn(d),nn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ns(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=id((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new f(t)):a=new f(s.toString()),r=f.precision,s=c=r+3;;)if(l=a,a=l.plus(Ws(d,l,c+2)).times(.5),ns(l.d).slice(0,c)===(t=ns(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(qt(l,r+1,0),l.times(l).eq(d)){a=l;break}}else if(t!="9999")break;c+=4}return nn=!0,qt(a,r)};Ue.times=Ue.mul=function(e){var t,r,a,s,l,c,d,f,m,h=this,g=h.constructor,v=h.d,b=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=b.length,f<m&&(l=v,v=b,b=l,c=f,f=m,m=c),l=[],c=f+m,a=c;a--;)l.push(0);for(a=m;--a>=0;){for(t=0,s=f+a;s>a;)d=l[s]+b[a]*v[s-a-1]+t,l[s--]=d%Vn|0,t=d/Vn|0;l[s]=(l[s]+t)%Vn|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,nn?qt(e,g.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(us(e,0,sd),t===void 0?t=a.rounding:us(t,0,8),qt(r,e+kn(r)+1,t))};Ue.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=io(a,!0):(us(e,0,sd),t===void 0?t=s.rounding:us(t,0,8),a=qt(new s(a),e+1,t),r=io(a,!0,e+1)),r};Ue.toFixed=function(e,t){var r,a,s=this,l=s.constructor;return e===void 0?io(s):(us(e,0,sd),t===void 0?t=l.rounding:us(t,0,8),a=qt(new l(s),e+kn(s)+1,t),r=io(a.abs(),!1,e+kn(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return qt(new t(e),kn(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,r,a,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Yr);if(d=new f(d),!d.s){if(e.s<1)throw Error(Oa+"Infinity");return d}if(d.eq(Yr))return d;if(a=f.precision,e.eq(Yr))return qt(d,a);if(t=e.e,r=e.d.length-1,c=t>=r,l=d.s,c){if((r=h<0?-h:h)<=EI){for(s=new f(Yr),t=Math.ceil(a/Qt+4),nn=!1;r%2&&(s=s.times(d),s_(s.d,t)),r=id(r/2),r!==0;)d=d.times(d),s_(d.d,t);return nn=!0,e.s<0?new f(Yr).div(s):qt(s,a)}}else if(l<0)throw Error(Oa+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,nn=!1,s=e.times(Yu(d,a+m)),nn=!0,s=PI(s),s.s=l,s};Ue.toPrecision=function(e,t){var r,a,s=this,l=s.constructor;return e===void 0?(r=kn(s),a=io(s,r<=l.toExpNeg||r>=l.toExpPos)):(us(e,1,sd),t===void 0?t=l.rounding:us(t,0,8),s=qt(new l(s),e,t),r=kn(s),a=io(s,e<=r||r<=l.toExpNeg,e)),a};Ue.toSignificantDigits=Ue.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(us(e,1,sd),t===void 0?t=a.rounding:us(t,0,8)),qt(new a(r),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kn(e),r=e.constructor;return io(e,t<=r.toExpNeg||t>=r.toExpPos)};function AI(e,t){var r,a,s,l,c,d,f,m,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),nn?qt(t,g):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(a=f,l=-l,d=m.length):(a=m,s=c,d=f.length),c=Math.ceil(g/Qt),d=c>d?c+1:d+1,l>d&&(l=d,a.length=1),a.reverse();l--;)a.push(0);a.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,a=m,m=f,f=a),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/Vn|0,f[l]%=Vn;for(r&&(f.unshift(r),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,nn?qt(t,g):t}function us(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Gl+e)}function ns(e){var t,r,a,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)a=e[t]+"",r=Qt-a.length,r&&(l+=Hi(r)),l+=a;c=e[t],a=c+"",r=Qt-a.length,r&&(l+=Hi(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Ws=(function(){function e(a,s){var l,c=0,d=a.length;for(a=a.slice();d--;)l=a[d]*s+c,a[d]=l%Vn|0,c=l/Vn|0;return c&&a.unshift(c),a}function t(a,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(a[d]!=s[d]){f=a[d]>s[d]?1:-1;break}return f}function r(a,s,l){for(var c=0;l--;)a[l]-=c,c=a[l]<s[l]?1:0,a[l]=c*Vn+a[l]-s[l];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,l,c){var d,f,m,h,g,v,b,w,y,j,C,E,A,T,k,P,_,M,X=a.constructor,I=a.s==s.s?1:-1,R=a.d,V=s.d;if(!a.s)return new X(a);if(!s.s)throw Error(Oa+"Division by zero");for(f=a.e-s.e,_=V.length,k=R.length,b=new X(I),w=b.d=[],m=0;V[m]==(R[m]||0);)++m;if(V[m]>(R[m]||0)&&--f,l==null?E=l=X.precision:c?E=l+(kn(a)-kn(s))+1:E=l,E<0)return new X(0);if(E=E/Qt+2|0,m=0,_==1)for(h=0,V=V[0],E++;(m<k||h)&&E--;m++)A=h*Vn+(R[m]||0),w[m]=A/V|0,h=A%V|0;else{for(h=Vn/(V[0]+1)|0,h>1&&(V=e(V,h),R=e(R,h),_=V.length,k=R.length),T=_,y=R.slice(0,_),j=y.length;j<_;)y[j++]=0;M=V.slice(),M.unshift(0),P=V[0],V[1]>=Vn/2&&++P;do h=0,d=t(V,y,_,j),d<0?(C=y[0],_!=j&&(C=C*Vn+(y[1]||0)),h=C/P|0,h>1?(h>=Vn&&(h=Vn-1),g=e(V,h),v=g.length,j=y.length,d=t(g,y,v,j),d==1&&(h--,r(g,_<v?M:V,v))):(h==0&&(d=h=1),g=V.slice()),v=g.length,v<j&&g.unshift(0),r(y,g,j),d==-1&&(j=y.length,d=t(V,y,_,j),d<1&&(h++,r(y,_<j?M:V,j))),j=y.length):d===0&&(h++,y=[0]),w[m++]=h,d&&y[0]?y[j++]=R[T]||0:(y=[R[T]],j=1);while((T++<k||y[0]!==void 0)&&E--)}return w[0]||w.shift(),b.e=f,qt(b,c?l+kn(b)+1:l)}})();function PI(e,t){var r,a,s,l,c,d,f=0,m=0,h=e.constructor,g=h.precision;if(kn(e)>16)throw Error(A1+kn(e));if(!e.s)return new h(Yr);for(nn=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(a=Math.log(Bl(2,m))/Math.LN10*2+5|0,d+=a,r=s=l=new h(Yr),h.precision=d;;){if(s=qt(s.times(e),d),r=r.times(++f),c=l.plus(Ws(s,r,d)),ns(c.d).slice(0,d)===ns(l.d).slice(0,d)){for(;m--;)l=qt(l.times(l),d);return h.precision=g,t==null?(nn=!0,qt(l,g)):l}l=c}}function kn(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function $j(e,t,r){if(t>e.LN10.sd())throw nn=!0,r&&(e.precision=r),Error(Oa+"LN10 precision limit exceeded");return qt(new e(e.LN10),t)}function Hi(e){for(var t="";e--;)t+="0";return t}function Yu(e,t){var r,a,s,l,c,d,f,m,h,g=1,v=10,b=e,w=b.d,y=b.constructor,j=y.precision;if(b.s<1)throw Error(Oa+(b.s?"NaN":"-Infinity"));if(b.eq(Yr))return new y(0);if(t==null?(nn=!1,m=j):m=t,b.eq(10))return t==null&&(nn=!0),$j(y,m);if(m+=v,y.precision=m,r=ns(w),a=r.charAt(0),l=kn(b),Math.abs(l)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)b=b.times(e),r=ns(b.d),a=r.charAt(0),g++;l=kn(b),a>1?(b=new y("0."+r),l++):b=new y(a+"."+r.slice(1))}else return f=$j(y,m+2,j).times(l+""),b=Yu(new y(a+"."+r.slice(1)),m-v).plus(f),y.precision=j,t==null?(nn=!0,qt(b,j)):b;for(d=c=b=Ws(b.minus(Yr),b.plus(Yr),m),h=qt(b.times(b),m),s=3;;){if(c=qt(c.times(h),m),f=d.plus(Ws(c,new y(s),m)),ns(f.d).slice(0,m)===ns(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus($j(y,m+2,j).times(l+""))),d=Ws(d,new y(g),m),y.precision=j,t==null?(nn=!0,qt(d,j)):d;d=f,s+=2}}function a_(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=id(r/Qt),e.d=[],a=(r+1)%Qt,r<0&&(a+=Qt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Qt;a<s;)e.d.push(+t.slice(a,a+=Qt));t=t.slice(a),a=Qt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),nn&&(e.e>Zp||e.e<-Zp))throw Error(A1+r)}else e.s=0,e.e=0,e.d=[0];return e}function qt(e,t,r){var a,s,l,c,d,f,m,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(a=t-c,a<0)a+=Qt,s=t,m=g[h=0];else{if(h=Math.ceil((a+1)/Qt),l=g.length,h>=l)return e;for(m=l=g[h],c=1;l>=10;l/=10)c++;a%=Qt,s=a-Qt+c}if(r!==void 0&&(l=Bl(10,c-s-1),d=m/l%10|0,f=t<0||g[h+1]!==void 0||m%l,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(a>0?s>0?m/Bl(10,c-s):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(l=kn(e),g.length=1,t=t-l-1,g[0]=Bl(10,(Qt-t%Qt)%Qt),e.e=id(-t/Qt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(a==0?(g.length=h,l=1,h--):(g.length=h+1,l=Bl(10,Qt-a),g[h]=s>0?(m/Bl(10,c-s)%Bl(10,s)|0)*l:0),f)for(;;)if(h==0){(g[0]+=l)==Vn&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Vn)break;g[h--]=0,l=1}for(a=g.length;g[--a]===0;)g.pop();if(nn&&(e.e>Zp||e.e<-Zp))throw Error(A1+kn(e));return e}function TI(e,t){var r,a,s,l,c,d,f,m,h,g,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),nn?qt(t,b):t;if(f=e.d,g=t.d,a=t.e,m=e.e,f=f.slice(),c=m-a,c){for(h=c<0,h?(r=f,c=-c,d=g.length):(r=g,a=m,d=f.length),s=Math.max(Math.ceil(b/Qt),d)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=f.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=g[s]){h=f[s]<g[s];break}c=0}for(h&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,s=g.length-d;s>0;--s)f[d++]=0;for(s=g.length;s>c;){if(f[--s]<g[s]){for(l=s;l&&f[--l]===0;)f[l]=Vn-1;--f[l],f[s]+=Vn}f[s]-=g[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--a;return f[0]?(t.d=f,t.e=a,nn?qt(t,b):t):new v(0)}function io(e,t,r){var a,s=kn(e),l=ns(e.d),c=l.length;return t?(r&&(a=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+Hi(a):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+Hi(-s-1)+l,r&&(a=r-c)>0&&(l+=Hi(a))):s>=c?(l+=Hi(s+1-c),r&&(a=r-s-1)>0&&(l=l+"."+Hi(a))):((a=s+1)<c&&(l=l.slice(0,a)+"."+l.slice(a)),r&&(a=r-c)>0&&(s+1===c&&(l+="."),l+=Hi(a))),e.s<0?"-"+l:l}function s_(e,t){if(e.length>t)return e.length=t,!0}function OI(e){var t,r,a;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Gl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return a_(c,l.toString())}else if(typeof l!="string")throw Error(Gl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,pie.test(l))a_(c,l);else throw Error(Gl+l)}if(s.prototype=Ue,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=OI,s.config=s.set=xie,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function xie(e){if(!e||typeof e!="object")throw Error(Oa+"Object expected");var t,r,a,s=["precision",1,sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(id(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Gl+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Gl+r+": "+a);return this}var P1=OI(hie);Yr=new P1(1);const Mt=P1;var gie=e=>e,kI={},_I=e=>e===kI,i_=e=>function t(){return arguments.length===0||arguments.length===1&&_I(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},RI=(e,t)=>e===1?t:i_(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var l=a.filter(c=>c!==kI).length;return l>=e?t(...a):RI(e-l,i_(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=a.map(h=>_I(h)?d.shift():h);return t(...m,...d)}))}),vie=e=>RI(e.length,e),jN=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},yie=vie((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),jie=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return gie;var s=r.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},bN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function MI(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function DI(e,t,r){for(var a=new Mt(e),s=0,l=[];a.lt(t)&&s<1e5;)l.push(a.toNumber()),a=a.add(r),s++;return l}var LI=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},II=(e,t,r)=>{if(e.lte(0))return new Mt(0);var a=MI(e.toNumber()),s=new Mt(10).pow(a),l=e.div(s),c=a!==1?.05:.1,d=new Mt(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=d.mul(s);return t?new Mt(f.toNumber()):new Mt(Math.ceil(f.toNumber()))},bie=(e,t,r)=>{var a=new Mt(1),s=new Mt(e);if(!s.isint()&&r){var l=Math.abs(e);l<1?(a=new Mt(10).pow(MI(e)-1),s=new Mt(Math.floor(s.div(a).toNumber())).mul(a)):l>1&&(s=new Mt(Math.floor(e)))}else e===0?s=new Mt(Math.floor((t-1)/2)):r||(s=new Mt(Math.floor(e)));var c=Math.floor((t-1)/2),d=jie(yie(f=>s.add(new Mt(f-c).mul(a)).toNumber()),jN);return d(0,t)},$I=function(t,r,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var c=II(new Mt(r).sub(t).div(a-1),s,l),d;t<=0&&r>=0?d=new Mt(0):(d=new Mt(t).add(r).div(2),d=d.sub(new Mt(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Mt(r).sub(d).div(c).toNumber()),h=f+m+1;return h>a?$I(t,r,a,s,l+1):(h<a&&(m=r>0?m+(a-h):m,f=r>0?f:f+(a-h)),{step:c,tickMin:d.sub(new Mt(f).mul(c)),tickMax:d.add(new Mt(m).mul(c))})},Nie=function(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,f]=LI([r,a]);if(d===-1/0||f===1/0){var m=f===1/0?[d,...jN(0,s-1).map(()=>1/0)]:[...jN(0,s-1).map(()=>-1/0),f];return r>a?bN(m):m}if(d===f)return bie(d,s,l);var{step:h,tickMin:g,tickMax:v}=$I(d,f,c,l,0),b=DI(g,v.add(new Mt(.1).mul(h)),h);return r>a?bN(b):b},wie=function(t,r){var[a,s]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=LI([a,s]);if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var f=Math.max(r,2),m=II(new Mt(d).sub(c).div(f-1),l,0),h=[...DI(new Mt(c),new Mt(d),m),d];return l===!1&&(h=h.map(g=>Math.round(g))),a>s?bN(h):h},FI=e=>e.rootProps.maxBarSize,Sie=e=>e.rootProps.barGap,zI=e=>e.rootProps.barCategoryGap,Cie=e=>e.rootProps.barSize,Af=e=>e.rootProps.stackOffset,BI=e=>e.rootProps.reverseStackOrder,T1=e=>e.options.chartName,O1=e=>e.rootProps.syncId,UI=e=>e.rootProps.syncMethod,k1=e=>e.options.eventEmitter,Eie=e=>e.rootProps.baseValue,yn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Us={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Aie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Us.angleAxisId,includeHidden:!1,name:void 0,reversed:Us.reversed,scale:Us.scale,tick:Us.tick,tickCount:void 0,ticks:void 0,type:Us.type,unit:void 0},Pie={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},Tie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Us.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Us.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Us.scale,tick:Us.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Oie={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:"category",unit:void 0},_1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Tie:Aie,R1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Oie:Pie,mg=e=>e.polarOptions,M1=he([fi,mi,In],zL),HI=he([mg,M1],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),qI=he([mg,M1],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),kie=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},VI=he([mg],kie);he([_1,VI],fg);var KI=he([M1,HI,qI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});he([R1,KI],fg);var WI=he([St,mg,HI,qI,fi,mi],(e,t,r,a,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:or(c,s,s/2),cy:or(d,l,l/2),innerRadius:r,outerRadius:a,startAngle:f,endAngle:m,clockWise:!1}}}),rn=(e,t)=>t,Pf=(e,t,r)=>r;function hg(e){return e?.id}function GI(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:l}=r,c=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:a;if(!(m==null||m.length===0)){var h=hg(d);m.forEach((g,v)=>{var b=l==null||s?v:String(Ht(g,l,null)),w=Ht(g,d.dataKey,0),y;c.has(b)?y=c.get(b):y={},Object.assign(y,{[h]:w}),c.set(b,y)})}}),Array.from(c.values())}function pg(e){return e.stackId!=null&&e.dataKey!=null}var xg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function gg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _ie(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Fn=e=>{var t=St(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ld=e=>e.tooltip.settings.axisId;function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(a){Rie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rie(e,t,r){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NN=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},YI=(e,t)=>e.cartesianAxis.xAxis[t],gs=(e,t)=>{var r=YI(e,t);return r??Hn},qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:NN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gf},QI=(e,t)=>e.cartesianAxis.yAxis[t],vs=(e,t)=>{var r=QI(e,t);return r??qn},Lie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},D1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Lie},sn=(e,t,r)=>{switch(t){case"xAxis":return gs(e,r);case"yAxis":return vs(e,r);case"zAxis":return D1(e,r);case"angleAxis":return _1(e,r);case"radiusAxis":return R1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Iie=(e,t,r)=>{switch(t){case"xAxis":return gs(e,r);case"yAxis":return vs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Tf=(e,t,r)=>{switch(t){case"xAxis":return gs(e,r);case"yAxis":return vs(e,r);case"angleAxis":return _1(e,r);case"radiusAxis":return R1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},XI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function L1(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var vg=e=>e.graphicalItems.cartesianItems,$ie=he([rn,Pf],L1),I1=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),Of=he([vg,sn,$ie],I1,{memoizeOptions:{resultEqualityCheck:gg}}),ZI=he([Of],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pg)),JI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Fie=he([Of],JI),$1=e=>e.map(t=>t.data).filter(Boolean).flat(1),zie=he([Of],$1,{memoizeOptions:{resultEqualityCheck:gg}}),F1=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},z1=he([zie,ug],F1),B1=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:Ht(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:Ht(s,a)}))):e.map(a=>({value:a})),yg=he([z1,sn,Of],B1);function e$(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Yh(e){if(Pa(e)||e instanceof Date){var t=Number(e);if(Dt(t))return t}}function o_(e){if(Array.isArray(e)){var t=[Yh(e[0]),Yh(e[1])];return rl(t)?t:void 0}var r=Yh(e);if(r!=null)return[r,r]}function ii(e){return e.map(Yh).filter(LZ)}function Bie(e,t,r){return!r||typeof t!="number"||Dr(t)?[]:r.length?ii(r.flatMap(a=>{var s=Ht(e,a.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Dt(l)||!Dt(c)))return[t-l,t+c]})):[]}var zn=e=>{var t=Fn(e),r=ld(e);return Tf(e,t,r)},kf=he([zn],e=>e?.dataKey),Uie=he([ZI,ug,zn],GI),t$=(e,t,r,a)=>{var s={},l=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),s);return Object.fromEntries(Object.entries(l).map(c=>{var[d,f]=c,m=a?[...f].reverse():f,h=m.map(hg);return[d,{stackedData:lte(e,h,r),graphicalItems:m}]}))},Qu=he([Uie,ZI,Af,BI],t$),n$=(e,t,r,a)=>{var{dataStartIndex:s,dataEndIndex:l}=t;if(a==null&&r!=="zAxis"){var c=ute(e,s,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Hie=he([sn],e=>e.allowDataOverflow),U1=e=>{var t;if(e==null||!("domain"in e))return NN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ii(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:NN},H1=he([sn],U1),q1=he([H1,Hie],CI),qie=he([Qu,pl,rn,q1],n$,{memoizeOptions:{resultEqualityCheck:xg}}),jg=e=>e.errorBars,Vie=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>e$(r,a)),ex=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},V1=(e,t,r,a,s)=>{var l,c;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var m,h,g=(m=a[f.id])===null||m===void 0?void 0:m.filter(C=>e$(s,C)),v=Ht(d,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),b=Bie(d,v,g);if(b.length>=2){var w=Math.min(...b),y=Math.max(...b);(l==null||w<l)&&(l=w),(c==null||y>c)&&(c=y)}var j=o_(v);j!=null&&(l=l==null?j[0]:Math.min(l,j[0]),c=c==null?j[1]:Math.max(c,j[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=o_(Ht(d,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Dt(l)&&Dt(c))return[l,c]},Kie=he([z1,sn,Fie,jg,rn],V1,{memoizeOptions:{resultEqualityCheck:xg}});function Wie(e){var{value:t}=e;if(Pa(t)||t instanceof Date)return t}var Gie=(e,t,r)=>{var a=e.map(Wie).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&v3(a))?qL(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},r$=e=>e.referenceElements.dots,od=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Yie=he([r$,rn,Pf],od),a$=e=>e.referenceElements.areas,Qie=he([a$,rn,Pf],od),s$=e=>e.referenceElements.lines,Xie=he([s$,rn,Pf],od),i$=(e,t)=>{var r=ii(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Zie=he(Yie,rn,i$),l$=(e,t)=>{var r=ii(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Jie=he([Qie,rn],l$);function ele(e){var t;if(e.x!=null)return ii([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:ii(r)}function tle(e){var t;if(e.y!=null)return ii([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:ii(r)}var o$=(e,t)=>{var r=e.flatMap(a=>t==="xAxis"?ele(a):tle(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nle=he([Xie,rn],o$),rle=he(Zie,nle,Jie,(e,t,r)=>ex(e,r,t)),K1=(e,t,r,a,s,l,c,d)=>{if(r!=null)return r;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",m=f?ex(a,l,s):ex(l,s);return mie(t,m,e.allowDataOverflow)},ale=he([sn,H1,q1,qie,Kie,rle,St,rn],K1,{memoizeOptions:{resultEqualityCheck:xg}}),sle=[0,1],W1=(e,t,r,a,s,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=ui(t,l);if(m&&d==null){var h;return qL(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?Gie(a,e,m):s==="expand"?sle:c}},G1=he([sn,St,z1,yg,Af,rn,ale],W1),c$=(e,t,r,a,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(uf(l));return d in yu?d:"point"}}},cd=he([sn,St,XI,T1,rn],c$);function ile(e){if(e!=null){if(e in yu)return yu[e]();var t="scale".concat(uf(e));if(t in yu)return yu[t]()}}function Y1(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=ile(t);if(s!=null){var l=s.domain(r).range(a);return nte(l),l}}}var Q1=(e,t,r)=>{var a=U1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&rl(e))return Nie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&rl(e))return wie(e,t.tickCount,t.allowDecimals)}},X1=he([G1,Tf,cd],Q1),Z1=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&rl(t)&&Array.isArray(r)&&r.length>0){var s=t[0],l=r[0],c=t[1],d=r[r.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},lle=he([sn,G1,X1,rn],Z1),ole=he(yg,sn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(ii(e.map(d=>d.value))).sort((d,f)=>d-f);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var l=0;l<a.length-1;l++){var c=a[l+1]-a[l];r=Math.min(r,c)}return r/s}}),d$=he(ole,St,zI,In,(e,t,r,a)=>a,(e,t,r,a,s)=>{if(!Dt(e))return 0;var l=t==="vertical"?a.height:a.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=or(r,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),cle=(e,t)=>{var r=gs(e,t);return r==null||typeof r.padding!="string"?0:d$(e,"xAxis",t,r.padding)},dle=(e,t)=>{var r=vs(e,t);return r==null||typeof r.padding!="string"?0:d$(e,"yAxis",t,r.padding)},ule=he(gs,cle,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),fle=he(vs,dle,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),mle=he([In,ule,eg,Jx,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:l}=a;return s?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),hle=he([In,St,fle,eg,Jx,(e,t,r)=>r],(e,t,r,a,s,l)=>{var{padding:c}=s;return l?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_f=(e,t,r,a)=>{var s;switch(t){case"xAxis":return mle(e,r,a);case"yAxis":return hle(e,r,a);case"zAxis":return(s=D1(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return VI(e);case"radiusAxis":return KI(e,r);default:return}},u$=he([sn,_f],fg),al=he([sn,cd,lle,u$],Y1);he([Of,jg,rn],Vie);function f$(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bg=(e,t)=>t,Ng=(e,t,r)=>r,ple=he(Xx,bg,Ng,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(f$)),xle=he(Zx,bg,Ng,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(f$)),m$=(e,t)=>({width:e.width,height:t.height}),gle=(e,t)=>{var r=typeof t.width=="number"?t.width:gf;return{width:r,height:e.height}},h$=he(In,gs,m$),vle=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},yle=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},jle=he(mi,In,ple,bg,Ng,(e,t,r,a,s)=>{var l={},c;return r.forEach(d=>{var f=m$(t,d);c==null&&(c=vle(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),ble=he(fi,In,xle,bg,Ng,(e,t,r,a,s)=>{var l={},c;return r.forEach(d=>{var f=gle(t,d);c==null&&(c=yle(t,a,e));var m=a==="left"&&!s||a==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),Nle=(e,t)=>{var r=gs(e,t);if(r!=null)return jle(e,r.orientation,r.mirror)},wle=he([In,gs,Nle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),Sle=(e,t)=>{var r=vs(e,t);if(r!=null)return ble(e,r.orientation,r.mirror)},Cle=he([In,vs,Sle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),p$=he(In,vs,(e,t)=>{var r=typeof t.width=="number"?t.width:gf;return{width:r,height:e.height}}),c_=(e,t,r)=>{switch(t){case"xAxis":return h$(e,r).width;case"yAxis":return p$(e,r).height;default:return}},x$=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=r,d=ui(e,a),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&v3(f))return f}},J1=he([St,yg,sn,rn],x$),g$=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:l}=r,c=ui(e,a);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},eS=he([St,yg,Tf,rn],g$),d_=he([St,Iie,cd,al,J1,eS,_f,X1,rn],(e,t,r,a,s,l,c,d,f)=>{if(t!=null){var m=ui(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:r,scale:a}}}),Ele=(e,t,r,a,s,l,c,d,f)=>{if(!(t==null||a==null)){var m=ui(e,f),{type:h,ticks:g,tickCount:v}=t,b=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=h==="category"&&a.bandwidth?a.bandwidth()/b:0;w=f==="angleAxis"&&l!=null&&l.length>=2?Kn(l[0]-l[1])*2*w:w;var y=g||s;if(y){var j=y.map((C,E)=>{var A=c?c.indexOf(C):C;return{index:E,coordinate:a(A)+w,value:C,offset:w}});return j.filter(C=>Dt(C.coordinate))}return m&&d?d.map((C,E)=>({coordinate:a(C)+w,value:C,index:E,offset:w})).filter(C=>Dt(C.coordinate)):a.ticks?a.ticks(v).map(C=>({coordinate:a(C)+w,value:C,offset:w})):a.domain().map((C,E)=>({coordinate:a(C)+w,value:c?c[C]:C,index:E,offset:w}))}},v$=he([St,Tf,cd,al,X1,_f,J1,eS,rn],Ele),Ale=(e,t,r,a,s,l,c)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var d=ui(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&a?.length>=2?Kn(a[0]-a[1])*2*m:m,d&&l?l.map((h,g)=>({coordinate:r(h)+m,value:h,index:g,offset:m})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,g)=>({coordinate:r(h)+m,value:s?s[h]:h,index:g,offset:m}))}},sl=he([St,Tf,al,_f,J1,eS,rn],Ale),il=he(sn,al,(e,t)=>{if(!(e==null||t==null))return Jp(Jp({},e),{},{scale:t})}),Ple=he([sn,cd,G1,u$],Y1);he((e,t,r)=>D1(e,r),Ple,(e,t)=>{if(!(e==null||t==null))return Jp(Jp({},e),{},{scale:t})});var Tle=he([St,Xx,Zx],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),y$=e=>e.options.defaultTooltipEventType,j$=e=>e.options.validateTooltipEventTypes;function b$(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function tS(e,t){var r=y$(e),a=j$(e);return b$(t,r,a)}function Ole(e){return Fe(t=>tS(t,e))}var N$=(e,t)=>{var r,a=Number(t);if(!(Dr(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},kle=e=>e.tooltip.settings,Ki={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_le={itemInteraction:{click:Ki,hover:Ki},axisInteraction:{click:Ki,hover:Ki},keyboardInteraction:Ki,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},w$=Ir({name:"tooltip",initialState:_le,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:tn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ua(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=a)},prepare:tn()},removeTooltipEntrySettings:{reducer(e,t){var r=Ua(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:tn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Rle,replaceTooltipEntrySettings:Mle,removeTooltipEntrySettings:Dle,setTooltipSettingsState:Lle,setActiveMouseOverItemIndex:S$,mouseLeaveItem:Ile,mouseLeaveChart:C$,setActiveClickItemIndex:$le,setMouseOverAxisIndex:E$,setMouseClickAxisIndex:Fle,setSyncInteraction:wN,setKeyboardInteraction:SN}=w$.actions,zle=w$.reducer;function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(a){Ble(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ble(e,t,r){return(t=Ule(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ule(e){var t=Hle(e,"string");return typeof t=="symbol"?t:t+""}function Hle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qle(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Vle(e){return e.index!=null}var A$=(e,t,r,a)=>{if(t==null)return Ki;var s=qle(e,t,r);if(s==null)return Ki;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Vle(s)){if(l)return Ph(Ph({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return Ph(Ph({},Ki),{},{coordinate:s.coordinate})};function Kle(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Wle(e,t){var r=Kle(e),a=t[0],s=t[1];if(r===void 0)return!1;var l=Math.min(a,s),c=Math.max(a,s);return r>=l&&r<=c}function Gle(e,t,r){if(r==null||t==null)return!0;var a=Ht(e,t);return a==null||!rl(r)?!0:Wle(a,r)}var nS=(e,t,r,a)=>{var s=e?.index;if(s==null)return null;var l=Number(s);if(!Dt(l))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(c,Math.min(l,d)),m=t[f];return m==null||Gle(m,r,a)?String(f):null},P$=(e,t,r,a,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s?.[Number(l)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},T$=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Rf=e=>e.options.tooltipPayloadSearcher,dd=e=>e.tooltip;function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(a){Yle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yle(e,t,r){return(t=Qle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qle(e){var t=Xle(e,"string");return typeof t=="symbol"?t:t+""}function Xle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zle(e,t){return e??t}var O$=(e,t,r,a,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,g=[];return e.reduce((v,b)=>{var w,{dataDefinedOnItem:y,settings:j}=b,C=Zle(y,d),E=Array.isArray(C)?fL(C,m,h):C,A=(w=j?.dataKey)!==null&&w!==void 0?w:a,T=j?.nameKey,k;if(a&&Array.isArray(E)&&!Array.isArray(E[0])&&c==="axis"?k=y3(E,a,s):k=l(E,t,f,T),Array.isArray(k))k.forEach(_=>{var M=m_(m_({},j),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});v.push(RO({tooltipEntrySettings:M,dataKey:_.dataKey,payload:_.payload,value:Ht(_.payload,_.dataKey),name:_.name}))});else{var P;v.push(RO({tooltipEntrySettings:j,dataKey:A,payload:k,value:Ht(k,A),name:(P=Ht(k,T))!==null&&P!==void 0?P:j?.name}))}return v},g)}},rS=he([zn,St,XI,T1,Fn],c$),Jle=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eoe=he([Fn,ld],L1),Mf=he([Jle,zn,eoe],I1,{memoizeOptions:{resultEqualityCheck:gg}}),toe=he([Mf],e=>e.filter(pg)),noe=he([Mf],$1,{memoizeOptions:{resultEqualityCheck:gg}}),ud=he([noe,pl],F1),roe=he([toe,pl,zn],GI),aS=he([ud,zn,Mf],B1),k$=he([zn],U1),aoe=he([zn],e=>e.allowDataOverflow),_$=he([k$,aoe],CI),soe=he([Mf],e=>e.filter(pg)),ioe=he([roe,soe,Af,BI],t$),loe=he([ioe,pl,Fn,_$],n$),ooe=he([Mf],JI),coe=he([ud,zn,ooe,jg,Fn],V1,{memoizeOptions:{resultEqualityCheck:xg}}),doe=he([r$,Fn,ld],od),uoe=he([doe,Fn],i$),foe=he([a$,Fn,ld],od),moe=he([foe,Fn],l$),hoe=he([s$,Fn,ld],od),poe=he([hoe,Fn],o$),xoe=he([uoe,poe,moe],ex),goe=he([zn,k$,_$,loe,coe,xoe,St,Fn],K1),Df=he([zn,St,ud,aS,Af,Fn,goe],W1),voe=he([Df,zn,rS],Q1),yoe=he([zn,Df,voe,Fn],Z1),R$=e=>{var t=Fn(e),r=ld(e),a=!1;return _f(e,t,r,a)},M$=he([zn,R$],fg),D$=he([zn,rS,yoe,M$],Y1),joe=he([St,aS,zn,Fn],x$),boe=he([St,aS,zn,Fn],g$),Noe=(e,t,r,a,s,l,c,d)=>{if(t){var{type:f}=t,m=ui(e,d);if(a){var h=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=f==="category"&&a.bandwidth?a.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&s?.length>=2?Kn(s[0]-s[1])*2*g:g,m&&c?c.map((v,b)=>({coordinate:a(v)+g,value:v,index:b,offset:g})):a.domain().map((v,b)=>({coordinate:a(v)+g,value:l?l[v]:v,index:b,offset:g}))}}},pi=he([St,zn,rS,D$,R$,joe,boe,Fn],Noe),sS=he([y$,j$,kle],(e,t,r)=>b$(r.shared,e,t)),L$=e=>e.tooltip.settings.trigger,iS=e=>e.tooltip.settings.defaultIndex,Lf=he([dd,sS,L$,iS],A$),ll=he([Lf,ud,kf,Df],nS),I$=he([pi,ll],N$),lS=he([Lf],e=>{if(e)return e.dataKey}),woe=he([Lf],e=>{if(e)return e.graphicalItemId}),$$=he([dd,sS,L$,iS],T$),Soe=he([fi,mi,St,In,pi,iS,$$,Rf],P$),Coe=he([Lf,Soe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Eoe=he([Lf],e=>e.active),Aoe=he([$$,ll,pl,kf,I$,Rf,sS],O$),Poe=he([Aoe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(a){Toe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Toe(e,t,r){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=koe(e,"string");return typeof t=="symbol"?t:t+""}function koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _oe=()=>Fe(zn),Roe=()=>{var e=_oe(),t=Fe(pi),r=Fe(D$);return kc(!e||!r?void 0:p_(p_({},e),{},{scale:r}),t)};function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(a){Moe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Moe(e,t,r){return(t=Doe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Doe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ioe=(e,t,r,a)=>{var s=t.find(l=>l&&l.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},$oe=(e,t,r,a)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="centric"){var l=s.coordinate,{radius:c}=a;return sc(sc(sc({},a),Tn(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=a;return sc(sc(sc({},a),Tn(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Foe(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var F$=(e,t,r,a,s)=>{var l,c=-1,d=(l=t?.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?r[f-1].coordinate:r[d-1].coordinate,h=r[f].coordinate,g=f>=d-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(Kn(h-m)!==Kn(g-h)){var b=[];if(Kn(g-h)===Kn(s[1]-s[0])){v=g;var w=h+s[1]-s[0];b[0]=Math.min(w,(w+m)/2),b[1]=Math.max(w,(w+m)/2)}else{v=m;var y=g+s[1]-s[0];b[0]=Math.min(h,(y+h)/2),b[1]=Math.max(h,(y+h)/2)}var j=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>j[0]&&e<=j[1]||e>=b[0]&&e<=b[1]){({index:c}=r[f]);break}}else{var C=Math.min(m,g),E=Math.max(m,g);if(e>(C+h)/2&&e<=(E+h)/2){({index:c}=r[f]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:c}=t[A]);break}}return c},z$=()=>Fe(T1),oS=(e,t)=>t,B$=(e,t,r)=>r,cS=(e,t,r,a)=>a,zoe=he(pi,e=>Ux(e,t=>t.coordinate)),dS=he([dd,oS,B$,cS],A$),uS=he([dS,ud,kf,Df],nS),Boe=(e,t,r)=>{if(t!=null){var a=dd(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},U$=he([dd,oS,B$,cS],T$),tx=he([fi,mi,St,In,pi,cS,U$,Rf],P$),Uoe=he([dS,tx],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),H$=he([pi,uS],N$),Hoe=he([U$,uS,pl,kf,H$,Rf,oS],O$),qoe=he([dS,uS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Voe=(e,t,r,a,s,l,c)=>{if(!(!e||!r||!a||!s)&&Foe(e,c)){var d=fte(e,t),f=F$(d,l,s,r,a),m=Ioe(t,s,f,e);return{activeIndex:String(f),activeCoordinate:m}}},Koe=(e,t,r,a,s,l,c)=>{if(!(!e||!a||!s||!l||!r)){var d=Tre(e,r);if(d){var f=mte(d,t),m=F$(f,c,l,a,s),h=$oe(t,l,m,d);return{activeIndex:String(m),activeCoordinate:h}}}},Woe=(e,t,r,a,s,l,c,d)=>{if(!(!e||!t||!a||!s||!l))return t==="horizontal"||t==="vertical"?Voe(e,t,a,s,l,c,d):Koe(e,t,r,a,s,l,c)},Goe=he(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElementId:a.elementId}}),Yoe=he(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(yn)),r=Array.from(new Set(t));return r.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:_ie}});function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(a){Qoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qoe(e,t,r){return(t=Xoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xoe(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:t+""}function Zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Joe={},ece={zIndexMap:Object.values(yn).reduce((e,t)=>v_(v_({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Joe)},tce=new Set(Object.values(yn));function nce(e){return tce.has(e)}var q$=Ir({name:"zIndex",initialState:ece,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:tn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!nce(r)&&delete e.zIndexMap[r])},prepare:tn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:a,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=a:e.zIndexMap[r].elementId=a:e.zIndexMap[r]={consumers:0,elementId:s?void 0:a,panoramaElementId:s?a:void 0}},prepare:tn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:tn()}}}),{registerZIndexPortal:rce,unregisterZIndexPortal:ace,registerZIndexPortalId:sce,unregisterZIndexPortalId:ice}=q$.actions,lce=q$.reducer;function vr(e){var{zIndex:t,children:r}=e,a=Vte(),s=a&&t!==void 0&&t!==0,l=ar(),c=Vt();p.useLayoutEffect(()=>s?(c(rce({zIndex:t})),()=>{c(ace({zIndex:t}))}):ff,[c,t,s]);var d=Fe(m=>Goe(m,t,l));if(!s)return r;if(!d)return null;var f=document.getElementById(d);return f?hs.createPortal(r,f):null}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},CN.apply(null,arguments)}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(a){oce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oce(e,t,r){return(t=cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=dce(e,"string");return typeof t=="symbol"?t:t+""}function dce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uce(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return p.isValidElement(t)?p.cloneElement(t,a):p.createElement(r,a)}function fce(e){var t,{coordinate:r,payload:a,index:s,offset:l,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:m,chartName:h}=e,g=r,v=a,b=s;if(!f||!g||h!=="ScatterChart"&&m!=="axis")return null;var w,y,j;if(h==="ScatterChart")w=g,y=qne,j=yn.cursorLine;else if(h==="BarChart")w=Vne(d,g,l,c),y=FL,j=yn.cursorRectangle;else if(d==="radial"&&b3(g)){var{cx:C,cy:E,radius:A,startAngle:T,endAngle:k}=BL(g);w={cx:C,cy:E,startAngle:T,endAngle:k,innerRadius:A,outerRadius:A},y=HL,j=yn.cursorLine}else w={points:Rre(d,g,l)},y=gc,j=yn.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,_=Th(Th(Th(Th({stroke:"#ccc",pointerEvents:"none"},l),w),no(f)),{},{payload:v,payloadIndex:b,className:wt("recharts-tooltip-cursor",P)});return p.createElement(vr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:j},p.createElement(uce,{cursor:f,cursorComp:y,cursorProps:_}))}function mce(e){var t=Roe(),r=wL(),a=nd(),s=z$();return t==null||r==null||a==null||s==null?null:p.createElement(fce,CN({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var V$=p.createContext(null),hce=()=>p.useContext(V$),Fj={exports:{}},j_;function pce(){return j_||(j_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new s(h,g||f,v),w=r?r+m:m;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new a:delete f._events[m]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,g;if(this._eventsCount===0)return m;for(g in h=this._events)t.call(h,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=r?r+m:m,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,b=g.length,w=new Array(b);v<b;v++)w[v]=g[v].fn;return w},d.prototype.listenerCount=function(m){var h=r?r+m:m,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,h,g,v,b,w){var y=r?r+m:m;if(!this._events[y])return!1;var j=this._events[y],C=arguments.length,E,A;if(j.fn){switch(j.once&&this.removeListener(m,j.fn,void 0,!0),C){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,h),!0;case 3:return j.fn.call(j.context,h,g),!0;case 4:return j.fn.call(j.context,h,g,v),!0;case 5:return j.fn.call(j.context,h,g,v,b),!0;case 6:return j.fn.call(j.context,h,g,v,b,w),!0}for(A=1,E=new Array(C-1);A<C;A++)E[A-1]=arguments[A];j.fn.apply(j.context,E)}else{var T=j.length,k;for(A=0;A<T;A++)switch(j[A].once&&this.removeListener(m,j[A].fn,void 0,!0),C){case 1:j[A].fn.call(j[A].context);break;case 2:j[A].fn.call(j[A].context,h);break;case 3:j[A].fn.call(j[A].context,h,g);break;case 4:j[A].fn.call(j[A].context,h,g,v);break;default:if(!E)for(k=1,E=new Array(C-1);k<C;k++)E[k-1]=arguments[k];j[A].fn.apply(j[A].context,E)}}return!0},d.prototype.on=function(m,h,g){return l(this,m,h,g,!1)},d.prototype.once=function(m,h,g){return l(this,m,h,g,!0)},d.prototype.removeListener=function(m,h,g,v){var b=r?r+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===h&&(!v||w.once)&&(!g||w.context===g)&&c(this,b);else{for(var y=0,j=[],C=w.length;y<C;y++)(w[y].fn!==h||v&&!w[y].once||g&&w[y].context!==g)&&j.push(w[y]);j.length?this._events[b]=j.length===1?j[0]:j:c(this,b)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Fj)),Fj.exports}var xce=pce();const gce=ms(xce);var Xu=new gce,EN="recharts.syncEvent.tooltip",b_="recharts.syncEvent.brush";function fS(e,t){if(t){var r=Number.parseInt(t,10);if(!Dr(r))return e?.[r]}}var vce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},K$=Ir({name:"options",initialState:vce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yce=K$.reducer,{createEventEmitter:jce}=K$.actions;function bce(e){return e.tooltip.syncInteraction}var Nce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W$=Ir({name:"chartData",initialState:Nce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:N_,setDataStartEndIndexes:wce,setComputedData:Hje}=W$.actions,Sce=W$.reducer,Cce=["x","y"];function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(a){Ece(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ece(e,t,r){return(t=Ace(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ace(e){var t=Pce(e,"string");return typeof t=="symbol"?t:t+""}function Pce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tce(e,t){if(e==null)return{};var r,a,s=Oce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Oce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function kce(){var e=Fe(O1),t=Fe(k1),r=Vt(),a=Fe(UI),s=Fe(pi),l=nd(),c=vf(),d=Fe(f=>f.rootProps.className);p.useEffect(()=>{if(e==null)return ff;var f=(m,h,g)=>{if(t!==g&&e===m){if(a==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:w,y}=b,j=Tce(b,Cce),{x:C,y:E,width:A,height:T}=h.payload.sourceViewBox,k=ic(ic({},j),{},{x:c.x+(A?(w-C)/A:0)*c.width,y:c.y+(T?(y-E)/T:0)*c.height});r(ic(ic({},h),{},{payload:ic(ic({},h.payload),{},{coordinate:k})}))}else r(h);return}if(s!=null){var P;if(typeof a=="function"){var _={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},M=a(s,_);P=s[M]}else a==="value"&&(P=s.find(z=>String(z.value)===h.payload.label));var{coordinate:X}=h.payload;if(P==null||h.payload.active===!1||X==null||c==null){r(wN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:R}=X,V=Math.min(I,c.x+c.width),je=Math.min(R,c.y+c.height),Y={x:l==="horizontal"?P.coordinate:V,y:l==="horizontal"?je:P.coordinate},te=wN({active:h.payload.active,coordinate:Y,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(te)}}};return Xu.on(EN,f),()=>{Xu.off(EN,f)}},[d,r,t,e,a,s,l,c])}function _ce(){var e=Fe(O1),t=Fe(k1),r=Vt();p.useEffect(()=>{if(e==null)return ff;var a=(s,l,c)=>{t!==c&&e===s&&r(wce(l))};return Xu.on(b_,a),()=>{Xu.off(b_,a)}},[r,t,e])}function Rce(){var e=Vt();p.useEffect(()=>{e(jce())},[e]),kce(),_ce()}function Mce(e,t,r,a,s,l){var c=Fe(b=>Boe(b,e,t)),d=Fe(k1),f=Fe(O1),m=Fe(UI),h=Fe(bce),g=h?.active,v=vf();p.useEffect(()=>{if(!g&&f!=null&&d!=null){var b=wN({active:l,coordinate:r,dataKey:c,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:v,graphicalItemId:void 0});Xu.emit(EN,f,b,d)}},[g,r,c,s,a,d,f,m,l,v])}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(a){Dce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Dce(e,t,r){return(t=Lce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lce(e){var t=Ice(e,"string");return typeof t=="symbol"?t:t+""}function Ice(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ce(e){return e.dataKey}function Fce(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(wne,t)}var E_=[],zce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wg(e){var t,r,a=bn(e,zce),{active:s,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:f,filterNull:m,isAnimationActive:h,offset:g,payloadUniqBy:v,position:b,reverseDirection:w,useTranslate3d:y,wrapperStyle:j,cursor:C,shared:E,trigger:A,defaultIndex:T,portal:k,axisId:P}=a,_=Vt(),M=typeof T=="number"?String(T):T;p.useEffect(()=>{_(Lle({shared:E,trigger:A,axisId:P,active:s,defaultIndex:M}))},[_,E,A,P,s,M]);var X=vf(),I=ML(),R=Ole(E),{activeIndex:V,isActive:je}=(t=Fe(ge=>qoe(ge,R,A,M)))!==null&&t!==void 0?t:{},Y=Fe(ge=>Hoe(ge,R,A,M)),te=Fe(ge=>H$(ge,R,A,M)),z=Fe(ge=>Uoe(ge,R,A,M)),J=Y,$=hce(),H=(r=s??je)!==null&&r!==void 0?r:!1,[pe,D]=L3([J,H]),ne=R==="axis"?te:void 0;Mce(R,A,z,ne,V,H);var xe=k??$;if(xe==null||X==null||R==null)return null;var Se=J??E_;H||(Se=E_),m&&Se.length&&(Se=k3(Se.filter(ge=>ge.value!=null&&(ge.hide!==!0||a.includeHidden)),v,$ce));var oe=Se.length>0,$e=p.createElement(One,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:h,active:H,coordinate:z,hasPayload:oe,offset:g,position:b,reverseDirection:w,useTranslate3d:y,viewBox:X,wrapperStyle:j,lastBoundingBox:pe,innerRef:D,hasPortalFromProps:!!k},Fce(f,C_(C_({},a),{},{payload:Se,label:ne,active:H,activeIndex:V,coordinate:z,accessibilityLayer:I})));return p.createElement(p.Fragment,null,hs.createPortal($e,xe),H&&p.createElement(mce,{cursor:C,tooltipEventType:R,coordinate:z,payload:Se,index:V}))}var li=e=>null;li.displayName="Cell";function Bce(e,t,r){return(t=Uce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uce(e){var t=Hce(e,"string");return typeof t=="symbol"?t:t+""}function Hce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qce{constructor(t){Bce(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(a){Kce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kce(e,t,r){return(t=Wce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=Gce(e,"string");return typeof t=="symbol"?t:t+""}function Gce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yce={cacheSize:2e3,enableCache:!0},G$=Vce({},Yce),P_=new qce(G$.cacheSize),Qce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},T_="recharts_measurement_span";function Xce(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var O_=(e,t)=>{try{var r=document.getElementById(T_);r||(r=document.createElement("span"),r.setAttribute("id",T_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Qce,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Eu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rd.isSsr)return{width:0,height:0};if(!G$.enableCache)return O_(t,r);var a=Xce(t,r),s=P_.get(a);if(s)return s;var l=O_(t,r);return P_.set(a,l),l},k_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,__=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Y$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ede=Object.keys(Y$),dc="NaN";function tde(e,t){return e*Y$[t]}class Ar{static parse(t){var r,[,a,s]=(r=Jce.exec(t))!==null&&r!==void 0?r:[];return new Ar(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Dr(t)&&(this.unit=""),r!==""&&!Zce.test(r)&&(this.num=NaN,this.unit=""),ede.includes(r)&&(this.num=tde(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dr(this.num)}}function Q$(e){if(e.includes(dc))return dc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,l]=(r=k_.exec(t))!==null&&r!==void 0?r:[],c=Ar.parse(a??""),d=Ar.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return dc;t=t.replace(k_,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,g,v]=(m=__.exec(t))!==null&&m!==void 0?m:[],b=Ar.parse(h??""),w=Ar.parse(v??""),y=g==="+"?b.add(w):b.subtract(w);if(y.isNaN())return dc;t=t.replace(__,y.toString())}return t}var R_=/\(([^()]*)\)/;function nde(e){for(var t=e,r;(r=R_.exec(t))!=null;){var[,a]=r;t=t.replace(R_,Q$(a))}return t}function rde(e){var t=e.replace(/\s+/g,"");return t=nde(t),t=Q$(t),t}function ade(e){try{return rde(e)}catch{return dc}}function zj(e){var t=ade(e.slice(5,-1));return t===dc?"":t}var sde=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ide=["dx","dy","angle","className","breakAll"];function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},AN.apply(null,arguments)}function M_(e,t){if(e==null)return{};var r,a,s=lde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var X$=/[ \f\n\r\t\v\u2028\u2029]+/,Z$=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];an(t)||(r?s=t.toString().split(""):s=t.toString().split(X$));var l=s.map(d=>({word:d,width:Eu(d,a).width})),c=r?0:Eu("",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function ode(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var J$=(e,t,r,a)=>e.reduce((s,l)=>{var{word:c,width:d}=l,f=s[s.length-1];if(f&&d!=null&&(t==null||a||f.width+d+r<Number(t)))f.words.push(c),f.width+=d+r;else{var m={words:[c],width:d};s.push(m)}return s},[]),e6=e=>e.reduce((t,r)=>t.width>r.width?t:r),cde="",D_=(e,t,r,a,s,l,c,d)=>{var f=e.slice(0,t),m=Z$({breakAll:r,style:a,children:f+cde});if(!m)return[!1,[]];var h=J$(m.wordsWithComputedWidth,l,c,d),g=h.length>s||e6(h).width>Number(l);return[g,h]},dde=(e,t,r,a,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=Be(l),h=String(c),g=J$(t,a,r,s);if(!m||s)return g;var v=g.length>l||e6(g).width>Number(a);if(!v)return g;for(var b=0,w=h.length-1,y=0,j;b<=w&&y<=h.length-1;){var C=Math.floor((b+w)/2),E=C-1,[A,T]=D_(h,E,f,d,l,a,r,s),[k]=D_(h,C,f,d,l,a,r,s);if(!A&&!k&&(b=C+1),A&&k&&(w=C-1),!A&&k){j=T;break}y++}return j||g},L_=e=>{var t=an(e)?[]:e.toString().split(X$);return[{words:t,width:void 0}]},ude=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:l,maxLines:c}=e;if((t||r)&&!rd.isSsr){var d,f,m=Z$({breakAll:l,children:a,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:g}=m;d=h,f=g}else return L_(a);return dde({breakAll:l,children:a,maxLines:c,style:s},d,f,t,!!r)}return L_(a)},t6="#808080",fde={angle:0,breakAll:!1,capHeight:"0.71em",fill:t6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Sg=p.forwardRef((e,t)=>{var r=bn(e,fde),{x:a,y:s,lineHeight:l,capHeight:c,fill:d,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,g=M_(r,sde),v=p.useMemo(()=>ude({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:b,dy:w,angle:y,className:j,breakAll:C}=g,E=M_(g,ide);if(!Pa(a)||!Pa(s)||v.length===0)return null;var A=Number(a)+(Be(b)?b:0),T=Number(s)+(Be(w)?w:0);if(!Dt(A)||!Dt(T))return null;var k;switch(h){case"start":k=zj("calc(".concat(c,")"));break;case"middle":k=zj("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:k=zj("calc(".concat(v.length-1," * -").concat(l,")"));break}var P=[];if(f){var _=v[0].width,{width:M}=g;P.push("scale(".concat(Be(M)&&Be(_)?M/_:1,")"))}return y&&P.push("rotate(".concat(y,", ").concat(A,", ").concat(T,")")),P.length&&(E.transform=P.join(" ")),p.createElement("text",AN({},cr(E),{ref:t,x:A,y:T,className:wt("recharts-text",j),textAnchor:m,fill:d.includes("url")?t6:d}),v.map((X,I)=>{var R=X.words.join(C?"":" ");return p.createElement("tspan",{x:A,dy:I===0?k:l,key:"".concat(R,"-").concat(I)},R)}))});Sg.displayName="Text";var mde=["labelRef"];function hde(e,t){if(e==null)return{};var r,a,s=pde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(a){xde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xde(e,t,r){return(t=gde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gde(e){var t=vde(e,"string");return typeof t=="symbol"?t:t+""}function vde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hs.apply(null,arguments)}var n6=p.createContext(null),r6=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:s,width:l,height:c,children:d}=e,f=p.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:s,width:l,height:c}),[t,r,a,s,l,c]);return p.createElement(n6.Provider,{value:f},d)},a6=()=>{var e=p.useContext(n6),t=vf();return e||NL(t)},yde=p.createContext(null),jde=()=>{var e=p.useContext(yde),t=Fe(WI);return e||t},bde=e=>{var{value:t,formatter:r}=e,a=an(e.children)?t:e.children;return typeof r=="function"?r(a):a},mS=e=>e!=null&&typeof e=="function",Nde=(e,t)=>{var r=Kn(t-e),a=Math.min(Math.abs(t-e),360);return r*a},wde=(e,t,r,a,s)=>{var{offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:g,endAngle:v,clockWise:b}=s,w=(m+h)/2,y=Nde(g,v),j=y>=0?1:-1,C,E;switch(t){case"insideStart":C=g+j*l,E=b;break;case"insideEnd":C=v-j*l,E=!b;break;case"end":C=v+j*l,E=b;break;default:throw new Error("Unsupported position ".concat(t))}E=y<=0?E:!E;var A=Tn(d,f,w,C),T=Tn(d,f,w,C+(E?1:-1)*359),k="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),P=an(e.id)?Lu("recharts-radial-line-"):e.id;return p.createElement("text",Hs({},a,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",c)}),p.createElement("defs",null,p.createElement("path",{id:P,d:k})),p.createElement("textPath",{xlinkHref:"#".concat(P)},r))},Sde=(e,t,r)=>{var{cx:a,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(r==="outside"){var{x:h,y:g}=Tn(a,s,c+t,m);return{x:h,y:g,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:b,y:w}=Tn(a,s,v,m);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},PN=e=>"cx"in e&&Be(e.cx),Cde=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,l;r!=null&&!PN(r)&&(l=r);var{x:c,y:d,upperWidth:f,lowerWidth:m,height:h}=t,g=c,v=c+(f-m)/2,b=(g+v)/2,w=(f+m)/2,y=g+f/2,j=h>=0?1:-1,C=j*a,E=j>0?"end":"start",A=j>0?"start":"end",T=f>=0?1:-1,k=T*a,P=T>0?"end":"start",_=T>0?"start":"end";if(s==="top"){var M={x:g+f/2,y:d-C,textAnchor:"middle",verticalAnchor:E};return xn(xn({},M),l?{height:Math.max(d-l.y,0),width:f}:{})}if(s==="bottom"){var X={x:v+m/2,y:d+h+C,textAnchor:"middle",verticalAnchor:A};return xn(xn({},X),l?{height:Math.max(l.y+l.height-(d+h),0),width:m}:{})}if(s==="left"){var I={x:b-k,y:d+h/2,textAnchor:P,verticalAnchor:"middle"};return xn(xn({},I),l?{width:Math.max(I.x-l.x,0),height:h}:{})}if(s==="right"){var R={x:b+w+k,y:d+h/2,textAnchor:_,verticalAnchor:"middle"};return xn(xn({},R),l?{width:Math.max(l.x+l.width-R.x,0),height:h}:{})}var V=l?{width:w,height:h}:{};return s==="insideLeft"?xn({x:b+k,y:d+h/2,textAnchor:_,verticalAnchor:"middle"},V):s==="insideRight"?xn({x:b+w-k,y:d+h/2,textAnchor:P,verticalAnchor:"middle"},V):s==="insideTop"?xn({x:g+f/2,y:d+C,textAnchor:"middle",verticalAnchor:A},V):s==="insideBottom"?xn({x:v+m/2,y:d+h-C,textAnchor:"middle",verticalAnchor:E},V):s==="insideTopLeft"?xn({x:g+k,y:d+C,textAnchor:_,verticalAnchor:A},V):s==="insideTopRight"?xn({x:g+f-k,y:d+C,textAnchor:P,verticalAnchor:A},V):s==="insideBottomLeft"?xn({x:v+k,y:d+h-C,textAnchor:_,verticalAnchor:E},V):s==="insideBottomRight"?xn({x:v+m-k,y:d+h-C,textAnchor:P,verticalAnchor:E},V):s&&typeof s=="object"&&(Be(s.x)||ti(s.x))&&(Be(s.y)||ti(s.y))?xn({x:c+or(s.x,w),y:d+or(s.y,h),textAnchor:"end",verticalAnchor:"end"},V):xn({x:y,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},V)},Ede={angle:0,offset:5,zIndex:yn.label,position:"middle",textBreakAll:!1};function qi(e){var t=bn(e,Ede),{viewBox:r,position:a,value:s,children:l,content:c,className:d="",textBreakAll:f,labelRef:m}=t,h=jde(),g=a6(),v=a==="center"?g:h??g,b,w,y;if(r==null?b=v:PN(r)?b=r:b=NL(r),!b||an(s)&&an(l)&&!p.isValidElement(c)&&typeof c!="function")return null;var j=xn(xn({},t),{},{viewBox:b});if(p.isValidElement(c)){var{labelRef:C}=j,E=hde(j,mde);return p.cloneElement(c,E)}if(typeof c=="function"){if(w=p.createElement(c,j),p.isValidElement(w))return w}else w=bde(t);var A=cr(t);if(PN(b)){if(a==="insideStart"||a==="insideEnd"||a==="end")return wde(t,a,w,A,b);y=Sde(b,t.offset,t.position)}else y=Cde(t,b);return p.createElement(vr,{zIndex:t.zIndex},p.createElement(Sg,Hs({ref:m,className:wt("recharts-label",d)},A,y,{textAnchor:ode(A.textAnchor)?A.textAnchor:y.textAnchor,breakAll:f}),w))}qi.displayName="Label";var Ade=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?p.createElement(qi,Hs({key:"label-implicit"},a)):Pa(e)?p.createElement(qi,Hs({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===qi?p.cloneElement(e,xn({key:"label-implicit"},a)):p.createElement(qi,Hs({key:"label-implicit",content:e},a)):mS(e)?p.createElement(qi,Hs({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(qi,Hs({},e,{key:"label-implicit"},a)):null};function s6(e){var{label:t,labelRef:r}=e,a=a6();return Ade(t,a,r)||null}var Bj={},Uj={},$_;function Pde(){return $_||($_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Uj)),Uj}var Hj={},F_;function Tde(){return F_||(F_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Hj)),Hj}var z_;function Ode(){return z_||(z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pde(),r=Tde(),a=Bw();function s(l){if(a.isArrayLike(l))return t.last(r.toArray(l))}e.last=s})(Bj)),Bj}var qj,B_;function kde(){return B_||(B_=1,qj=Ode().last),qj}var _de=kde();const Rde=ms(_de);var Mde=["valueAccessor"],Dde=["dataKey","clockWise","id","textBreakAll","zIndex"];function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nx.apply(null,arguments)}function U_(e,t){if(e==null)return{};var r,a,s=Lde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Lde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ide=e=>Array.isArray(e.value)?Rde(e.value):e.value,i6=p.createContext(void 0),l6=i6.Provider,o6=p.createContext(void 0),$de=o6.Provider;function Fde(){return p.useContext(i6)}function zde(){return p.useContext(o6)}function Qh(e){var{valueAccessor:t=Ide}=e,r=U_(e,Mde),{dataKey:a,clockWise:s,id:l,textBreakAll:c,zIndex:d}=r,f=U_(r,Dde),m=Fde(),h=zde(),g=m||h;return!g||!g.length?null:p.createElement(vr,{zIndex:d??yn.label},p.createElement(fn,{className:"recharts-label-list"},g.map((v,b)=>{var w,y=an(a)?t(v,b):Ht(v&&v.payload,a),j=an(l)?{}:{id:"".concat(l,"-").concat(b)};return p.createElement(qi,nx({key:"label-".concat(b)},cr(v),f,j,{fill:(w=r.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:y,textBreakAll:c,viewBox:v.viewBox,index:b,zIndex:0}))})))}Qh.displayName="LabelList";function hS(e){var{label:t}=e;return t?t===!0?p.createElement(Qh,{key:"labelList-implicit"}):p.isValidElement(t)||mS(t)?p.createElement(Qh,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Qh,nx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},TN.apply(null,arguments)}var c6=e=>{var{cx:t,cy:r,r:a,className:s}=e,l=wt("recharts-dot",s);return Be(t)&&Be(r)&&Be(a)?p.createElement("circle",TN({},Mr(e),zw(e),{className:l,cx:t,cy:r,r:a})):null},d6=e=>e.graphicalItems.polarItems,Bde=he([rn,Pf],L1),Cg=he([d6,sn,Bde],I1),Ude=he([Cg],$1),Eg=he([Ude,E1],F1),Hde=he([Eg,sn,Cg],B1);he([Eg,sn,Cg],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var l,c=Ht(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Ht(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var H_=()=>{},qde=he([Eg,sn,Cg,jg,rn],V1),Vde=he([sn,H1,q1,H_,qde,H_,St,rn],K1),u6=he([sn,St,Eg,Hde,Af,rn,Vde],W1),Kde=he([u6,sn,cd],Q1);he([sn,u6,Kde,rn],Z1);var Wde={radiusAxis:{},angleAxis:{}},f6=Ir({name:"polarAxis",initialState:Wde,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:qje,removeRadiusAxis:Vje,addAngleAxis:Kje,removeAngleAxis:Wje}=f6.actions,Gde=f6.reducer;function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function V_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(a){Yde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yde(e,t,r){return(t=Qde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qde(e){var t=Xde(e,"string");return typeof t=="symbol"?t:t+""}function Xde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zde=(e,t)=>t,pS=he([d6,Zde],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Jde=[],xS=(e,t,r)=>r?.length===0?Jde:r,m6=he([E1,pS,xS],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(l=>V_(V_({},t.presentationProps),l.props))),s!=null)return s}}),eue=he([m6,pS,xS],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var l,c=Ht(a,t.nameKey,t.name),d;return r!=null&&(l=r[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:td(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),tue=he([m6,pS,xS,In],(e,t,r,a)=>{if(!(t==null||e==null))return nfe({offset:a,pieSettings:t,displayedData:e,cells:r})}),Vj={exports:{}},zt={};var K_;function nue(){if(K_)return zt;K_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(y){if(typeof y=="object"&&y!==null){var j=y.$$typeof;switch(j){case e:switch(y=y.type,y){case r:case s:case a:case f:case m:case v:return y;default:switch(y=y&&y.$$typeof,y){case c:case d:case g:case h:return y;case l:return y;default:return j}}case t:return j}}}return zt.ContextConsumer=l,zt.ContextProvider=c,zt.Element=e,zt.ForwardRef=d,zt.Fragment=r,zt.Lazy=g,zt.Memo=h,zt.Portal=t,zt.Profiler=s,zt.StrictMode=a,zt.Suspense=f,zt.SuspenseList=m,zt.isContextConsumer=function(y){return w(y)===l},zt.isContextProvider=function(y){return w(y)===c},zt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},zt.isForwardRef=function(y){return w(y)===d},zt.isFragment=function(y){return w(y)===r},zt.isLazy=function(y){return w(y)===g},zt.isMemo=function(y){return w(y)===h},zt.isPortal=function(y){return w(y)===t},zt.isProfiler=function(y){return w(y)===s},zt.isStrictMode=function(y){return w(y)===a},zt.isSuspense=function(y){return w(y)===f},zt.isSuspenseList=function(y){return w(y)===m},zt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===a||y===f||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===c||y.$$typeof===l||y.$$typeof===d||y.$$typeof===b||y.getModuleId!==void 0)},zt.typeOf=w,zt}var W_;function rue(){return W_||(W_=1,Vj.exports=nue()),Vj.exports}var aue=rue(),G_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Y_=null,Kj=null,h6=e=>{if(e===Y_&&Array.isArray(Kj))return Kj;var t=[];return p.Children.forEach(e,r=>{an(r)||(aue.isFragment(r)?t=t.concat(h6(r.props.children)):t.push(r))}),Kj=t,Y_=e,t};function gS(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>G_(s)):a=[G_(t)],h6(e).forEach(s=>{var l=ro(s,"type.displayName")||ro(s,"type.name");l&&a.indexOf(l)!==-1&&r.push(s)}),r}var p6=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Wj={},Q_;function sue(){return Q_||(Q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(Wj)),Wj}var Gj,X_;function iue(){return X_||(X_=1,Gj=sue().isPlainObject),Gj}var lue=iue();const oue=ms(lue);function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(a){cue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cue(e,t,r){return(t=due(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function due(e){var t=uue(e,"string");return typeof t=="symbol"?t:t+""}function uue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rx.apply(null,arguments)}var e4=(e,t,r,a,s)=>{var l=r-a,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-l/2,",").concat(t+s),c+="L ".concat(e+r-l/2-a,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},fue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mue=e=>{var t=bn(e,fue),{x:r,y:a,upperWidth:s,lowerWidth:l,height:c,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:g}=t,v=p.useRef(null),[b,w]=p.useState(-1),y=p.useRef(s),j=p.useRef(l),C=p.useRef(c),E=p.useRef(r),A=p.useRef(a),T=Nf(e,"trapezoid-");if(p.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Y=v.current.getTotalLength();Y&&w(Y)}catch{}},[]),r!==+r||a!==+a||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var k=wt("recharts-trapezoid",d);if(!g)return p.createElement("g",null,p.createElement("path",rx({},cr(t),{className:k,d:e4(r,a,s,l,c)})));var P=y.current,_=j.current,M=C.current,X=E.current,I=A.current,R="0px ".concat(b===-1?1:b,"px"),V="".concat(b,"px 0px"),je=DL(["strokeDasharray"],m,f);return p.createElement(bf,{animationId:T,key:T,canBegin:b>0,duration:m,easing:f,isActive:g,begin:h},Y=>{var te=Xt(P,s,Y),z=Xt(_,l,Y),J=Xt(M,c,Y),$=Xt(X,r,Y),H=Xt(I,a,Y);v.current&&(y.current=te,j.current=z,C.current=J,E.current=$,A.current=H);var pe=Y>0?{transition:je,strokeDasharray:V}:{strokeDasharray:R};return p.createElement("path",rx({},cr(t),{className:k,d:e4($,H,te,z,J),ref:v,style:J_(J_({},pe),t.style)}))})},hue=["option","shapeType","propTransformer","activeClassName"];function pue(e,t){if(e==null)return{};var r,a,s=xue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(a){gue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gue(e,t,r){return(t=vue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=yue(e,"string");return typeof t=="symbol"?t:t+""}function yue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jue(e,t){return ax(ax({},t),e)}function bue(e,t){return e==="symbols"}function n4(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(FL,r);case"trapezoid":return p.createElement(mue,r);case"sector":return p.createElement(HL,r);case"symbols":if(bue(t))return p.createElement(Fw,r);break;case"curve":return p.createElement(gc,r);default:return null}}function Nue(e){return p.isValidElement(e)?e.props:e}function x6(e){var{option:t,shapeType:r,propTransformer:a=jue,activeClassName:s="recharts-active-shape"}=e,l=pue(e,hue),c;if(p.isValidElement(t))c=p.cloneElement(t,ax(ax({},l),Nue(t)));else if(typeof t=="function")c=t(l,l.index);else if(oue(t)&&typeof t!="boolean"){var d=a(t,l);c=p.createElement(n4,{shapeType:r,elementProps:d})}else{var f=l;c=p.createElement(n4,{shapeType:r,elementProps:f})}return l.isActive?p.createElement(fn,{className:s},c):c}var vS=(e,t,r)=>{var a=Vt();return(s,l)=>c=>{e?.(s,l,c),a(S$({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},yS=e=>{var t=Vt();return(r,a)=>s=>{e?.(r,a,s),t(Ile())}},jS=(e,t,r)=>{var a=Vt();return(s,l)=>c=>{e?.(s,l,c),a($le({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function bS(e){var{tooltipEntrySettings:t}=e,r=Vt(),a=ar(),s=p.useRef(null);return p.useLayoutEffect(()=>{a||(s.current===null?r(Rle(t)):s.current!==t&&r(Mle({prev:s.current,next:t})),s.current=t)},[t,r,a]),p.useLayoutEffect(()=>()=>{s.current&&(r(Dle(s.current)),s.current=null)},[r]),null}function g6(e){var{legendPayload:t}=e,r=Vt(),a=ar(),s=p.useRef(null);return p.useLayoutEffect(()=>{a||(s.current===null?r(kL(t)):s.current!==t&&r(_L({prev:s.current,next:t})),s.current=t)},[r,a,t]),p.useLayoutEffect(()=>()=>{s.current&&(r(RL(s.current)),s.current=null)},[r]),null}function wue(e){var{legendPayload:t}=e,r=Vt(),a=Fe(St),s=p.useRef(null);return p.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(s.current===null?r(kL(t)):s.current!==t&&r(_L({prev:s.current,next:t})),s.current=t)},[r,a,t]),p.useLayoutEffect(()=>()=>{s.current&&(r(RL(s.current)),s.current=null)},[r]),null}var Yj,Sue=()=>{var[e]=p.useState(()=>Lu("uid-"));return e},Cue=(Yj=ef.useId)!==null&&Yj!==void 0?Yj:Sue;function v6(e,t){var r=Cue();return t||(e?"".concat(e,"-").concat(r):r)}var Eue=p.createContext(void 0),NS=e=>{var{id:t,type:r,children:a}=e,s=v6("recharts-".concat(r),t);return p.createElement(Eue.Provider,{value:s},a(s))},Aue={cartesianItems:[],polarItems:[]},y6=Ir({name:"graphicalItems",initialState:Aue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:tn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ua(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},prepare:tn()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ua(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:tn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:tn()},removePolarGraphicalItem:{reducer(e,t){var r=Ua(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:tn()}}}),{addCartesianGraphicalItem:Pue,replaceCartesianGraphicalItem:Tue,removeCartesianGraphicalItem:Oue,addPolarGraphicalItem:kue,removePolarGraphicalItem:_ue}=y6.actions,Rue=y6.reducer,Mue=e=>{var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(Pue(e)):r.current!==e&&t(Tue({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(Oue(r.current)),r.current=null)},[t]),null},j6=p.memo(Mue);function Due(e){var t=Vt();return p.useLayoutEffect(()=>(t(kue(e)),()=>{t(_ue(e))}),[t,e]),null}var Lue=["key"],Iue=["onMouseEnter","onClick","onMouseLeave"],$ue=["id"],Fue=["id"];function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(a){zue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zue(e,t,r){return(t=Bue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bue(e){var t=Uue(e,"string");return typeof t=="symbol"?t:t+""}function Uue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ol.apply(null,arguments)}function Ag(e,t){if(e==null)return{};var r,a,s=Hue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Hue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function que(e){var t=p.useMemo(()=>gS(e.children,li),[e.children]),r=Fe(a=>eue(a,e.id,t));return r==null?null:p.createElement(wue,{legendPayload:r})}var Vue=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e,h={dataDefinedOnItem:a.map(g=>g.tooltipPayload),positions:a.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:td(d,t),hide:f,type:m,color:c,unit:""}};return p.createElement(bS,{tooltipEntrySettings:h})}),Kue=(e,t)=>e>t?"start":e<t?"end":"middle",Wue=(e,t,r)=>or(typeof t=="function"?t(e):t,r,r*.8),Gue=(e,t,r)=>{var{top:a,left:s,width:l,height:c}=t,d=zL(l,c),f=s+or(e.cx,l,l/2),m=a+or(e.cy,c,c/2),h=or(e.innerRadius,d,0),g=Wue(r,e.outerRadius,d),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:g,maxRadius:v}},Yue=(e,t)=>{var r=Kn(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function Que(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Xue=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=wt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,s=Ag(t,Lue);return p.createElement(gc,ol({},s,{type:"linear",className:r}))},Zue=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),p.isValidElement(a)))return a;var s=wt("recharts-pie-label-text",Que(e));return p.createElement(Sg,ol({},t,{alignmentBaseline:"middle",className:s}),a)};function Jue(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:l,dataKey:c}=r;if(!a||!s||!t)return null;var d=Mr(r),f=no(s),m=no(l),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=t.map((v,b)=>{var w=(v.startAngle+v.endAngle)/2,y=Tn(v.cx,v.cy,v.outerRadius+h,w),j=dn(dn(dn(dn({},d),v),{},{stroke:"none"},f),{},{index:b,textAnchor:Kue(y.x,v.cx)},y),C=dn(dn(dn(dn({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:b,points:[Tn(v.cx,v.cy,v.outerRadius,w),y],key:"line"});return p.createElement(vr,{zIndex:yn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},p.createElement(fn,null,l&&Xue(l,C),Zue(s,j,Ht(v,c))))});return p.createElement(fn,{className:"recharts-pie-labels"},g)}function efe(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(hS,{label:s}):p.createElement(Jue,{sectors:t,props:r,showLabels:a})}function tfe(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s,shape:l,id:c}=e,d=Fe(ll),f=Fe(lS),m=Fe(woe),{onMouseEnter:h,onClick:g,onMouseLeave:v}=s,b=Ag(s,Iue),w=vS(h,s.dataKey,c),y=yS(v),j=jS(g,s.dataKey,c);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((C,E)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,T=String(E)===d&&(f==null||s.dataKey===f)&&A,k=d?a:null,P=r&&T?r:k,_=dn(dn({},C),{},{stroke:C.stroke,tabIndex:-1,[gL]:E,[vL]:s.dataKey});return p.createElement(fn,ol({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},mf(b,C,E),{onMouseEnter:w(C,E),onMouseLeave:y(C,E),onClick:j(C,E)}),p.createElement(x6,ol({option:l??P,index:E,shapeType:"sector",isActive:T},_)))}))}function nfe(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:g}=r,v=Math.abs(r.minAngle),b=Yue(d,f),w=Math.abs(b),y=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,j=a.filter(P=>Ht(P,m,0)!==0).length,C=(w>=360?j:j-1)*y,E=w-j*v-C,A=a.reduce((P,_)=>{var M=Ht(_,m,0);return P+(Be(M)?M:0)},0),T;if(A>0){var k;T=a.map((P,_)=>{var M=Ht(P,m,0),X=Ht(P,h,_),I=Gue(r,l,P),R=(Be(M)?M:0)/A,V,je=dn(dn({},P),s&&s[_]&&s[_].props);_?V=k.endAngle+Kn(b)*y*(M!==0?1:0):V=d;var Y=V+Kn(b)*((M!==0?v:0)+R*E),te=(V+Y)/2,z=(I.innerRadius+I.outerRadius)/2,J=[{name:X,value:M,payload:je,dataKey:m,type:g}],$=Tn(I.cx,I.cy,z,te);return k=dn(dn(dn(dn({},r.presentationProps),{},{percent:R,cornerRadius:typeof c=="string"?parseFloat(c):c,name:X,tooltipPayload:J,midAngle:te,middleRadius:z,tooltipPosition:$},je),I),{},{value:M,dataKey:m,startAngle:V,endAngle:Y,payload:je,paddingAngle:Kn(b)*y}),k})}return T}function rfe(e){var{showLabels:t,sectors:r,children:a}=e,s=p.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return p.createElement($de,{value:t?s:void 0},a)}function afe(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:g,onAnimationEnd:v}=t,b=Nf(t,"recharts-pie-"),w=r.current,[y,j]=p.useState(!1),C=p.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),E=p.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]);return p.createElement(rfe,{showLabels:!y,sectors:s},p.createElement(bf,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationStart:E,onAnimationEnd:C,key:b},A=>{var T=[],k=s&&s[0],P=k?.startAngle;return s?.forEach((_,M)=>{var X=w&&w[M],I=M>0?ro(_,"paddingAngle",0):0;if(X){var R=Xt(X.endAngle-X.startAngle,_.endAngle-_.startAngle,A),V=dn(dn({},_),{},{startAngle:P+I,endAngle:P+R+I});T.push(V),P=V.endAngle}else{var{endAngle:je,startAngle:Y}=_,te=Xt(0,je-Y,A),z=dn(dn({},_),{},{startAngle:P+I,endAngle:P+te+I});T.push(z),P=z.endAngle}}),r.current=T,p.createElement(fn,null,p.createElement(tfe,{sectors:T,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:a}))}),p.createElement(efe,{showLabels:!y,sectors:s,props:t}),t.children)}var sfe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:yn.area};function ife(e){var{id:t}=e,r=Ag(e,$ue),{hide:a,className:s,rootTabIndex:l}=e,c=p.useMemo(()=>gS(e.children,li),[e.children]),d=Fe(h=>tue(h,t,c)),f=p.useRef(null),m=wt("recharts-pie",s);return a||d==null?(f.current=null,p.createElement(fn,{tabIndex:l,className:m})):p.createElement(vr,{zIndex:e.zIndex},p.createElement(Vue,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),p.createElement(fn,{tabIndex:l,className:m},p.createElement(afe,{props:dn(dn({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function If(e){var t=bn(e,sfe),{id:r}=t,a=Ag(t,Fue),s=Mr(a);return p.createElement(NS,{id:r,type:"pie"},l=>p.createElement(p.Fragment,null,p.createElement(Due,{type:"pie",id:l,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),p.createElement(que,ol({},a,{id:l})),p.createElement(ife,ol({},a,{id:l}))))}If.displayName="Pie";var lfe=["points"];function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(a){ofe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ofe(e,t,r){return(t=cfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=dfe(e,"string");return typeof t=="symbol"?t:t+""}function dfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sx.apply(null,arguments)}function ufe(e,t){if(e==null)return{};var r,a,s=ffe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ffe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function mfe(e){var{option:t,dotProps:r,className:a}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var s=wt(a,typeof t!="boolean"?t.className:""),l=r??{},{points:c}=l,d=ufe(l,lfe);return p.createElement(c6,sx({},d,{className:s}))}function hfe(e,t){return e==null?!1:t?!0:e.length===1}function pfe(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:l,baseProps:c,needClip:d,clipPathId:f,zIndex:m=yn.scatter}=e;if(!hfe(t,r))return null;var h=p6(r),g=qX(r),v=t.map((w,y)=>{var j,C,E=Qj(Qj(Qj({r:3},c),g),{},{index:y,cx:(j=w.x)!==null&&j!==void 0?j:void 0,cy:(C=w.y)!==null&&C!==void 0?C:void 0,dataKey:l,value:w.value,payload:w.payload,points:t});return p.createElement(mfe,{key:"dot-".concat(y),option:r,dotProps:E,className:s})}),b={};return d&&f!=null&&(b.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),p.createElement(vr,{zIndex:m},p.createElement(fn,sx({className:a},b),v))}function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function i4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(a){xfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xfe(e,t,r){return(t=gfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gfe(e){var t=vfe(e,"string");return typeof t=="symbol"?t:t+""}function vfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yfe={xAxis:{},yAxis:{},zAxis:{}},b6=Ir({name:"cartesianAxis",initialState:yfe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:tn()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:tn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:tn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:tn()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:tn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:tn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:tn()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:tn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:tn()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,s=e.yAxis[r];if(s){var l=s.widthHistory||[];if(l.length===3&&l[0]===l[2]&&a===l[1]&&a!==s.width&&Math.abs(a-l[0])<=1)return;var c=[...l,a].slice(-3);e.yAxis[r]=i4(i4({},e.yAxis[r]),{},{width:a,widthHistory:c})}}}}),{addXAxis:jfe,replaceXAxis:bfe,removeXAxis:Nfe,addYAxis:wfe,replaceYAxis:Sfe,removeYAxis:Cfe,addZAxis:Gje,replaceZAxis:Yje,removeZAxis:Qje,updateYAxisWidth:Efe}=b6.actions,Afe=b6.reducer,Pfe=he([In],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Tfe=he([Pfe,fi,mi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),wS=()=>Fe(Tfe),Ofe=()=>Fe(Poe);function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(a){kfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kfe(e,t,r){return(t=_fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _fe(e){var t=Rfe(e,"string");return typeof t=="symbol"?t:t+""}function Rfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mfe=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:l,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:l,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Xj(Xj(Xj({},d),no(s)),zw(s)),m;return p.isValidElement(s)?m=p.cloneElement(s,f):typeof s=="function"?m=s(f):m=p.createElement(c6,f),p.createElement(fn,{className:"recharts-active-dot",clipPath:c},m)};function o4(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,clipPath:l,zIndex:c=yn.activeDot}=e,d=Fe(ll),f=Ofe();if(t==null||f==null)return null;var m=t.find(h=>f.includes(h.payload));return an(m)?null:p.createElement(vr,{zIndex:c},p.createElement(Mfe,{point:m,childIndex:Number(d),mainColor:r,dataKey:s,activeDot:a,clipPath:l}))}var Dfe="Invariant failed";function Lfe(e,t){throw new Error(Dfe)}var Ife=["x","y"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ON.apply(null,arguments)}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(a){$fe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $fe(e,t,r){return(t=Ffe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ffe(e){var t=zfe(e,"string");return typeof t=="symbol"?t:t+""}function zfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bfe(e,t){if(e==null)return{};var r,a,s=Ufe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ufe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Hfe(e,t){var{x:r,y:a}=e,s=Bfe(e,Ife),l="".concat(r),c=parseInt(l,10),d="".concat(a),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),g="".concat(t.width||s.width),v=parseInt(g,10);return hu(hu(hu(hu(hu({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function ix(e){return p.createElement(x6,ON({shapeType:"rectangle",propTransformer:Hfe,activeClassName:"recharts-active-bar"},e))}var qfe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Be(t))return t;var l=Be(a)||an(a);return l?t(a,s):(l||Lfe(),r)}},Vfe={},N6=Ir({name:"errorBars",initialState:Vfe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===a.dataKey&&l.direction===a.direction?s:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:Xje,replaceErrorBar:Zje,removeErrorBar:Jje}=N6.actions,Kfe=N6.reducer,Wfe=["children"];function Gfe(e,t){if(e==null)return{};var r,a,s=Yfe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Yfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Qfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xfe=p.createContext(Qfe);function Zfe(e){var{children:t}=e,r=Gfe(e,Wfe);return p.createElement(Xfe.Provider,{value:r},t)}function SS(e,t){var r,a,s=Fe(m=>gs(m,e)),l=Fe(m=>vs(m,t)),c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Hn.allowDataOverflow,d=(a=l?.allowDataOverflow)!==null&&a!==void 0?a:qn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function w6(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=wS(),{needClipX:l,needClipY:c,needClip:d}=SS(t,r);if(!d||!s)return null;var{x:f,y:m,width:h,height:g}=s;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:l?f:f-h/2,y:c?m:m-g/2,width:l?h:h*2,height:c?g:g*2}))}function Jfe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Dt(e.zIndex)?e.zIndex:t}var Zj={exports:{}},Jj={};var d4;function eme(){if(d4)return Jj;d4=1;var e=qc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Jj.useSyncExternalStoreWithSelector=function(f,m,h,g,v){var b=s(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function j(k){if(!C){if(C=!0,E=k,k=g(k),v!==void 0&&w.hasValue){var P=w.value;if(v(P,k))return A=P}return A=k}if(P=A,r(E,k))return P;var _=g(k);return v!==void 0&&v(P,_)?(E=k,P):(E=k,A=_)}var C=!1,E,A,T=h===void 0?null:h;return[function(){return j(m())},T===null?void 0:function(){return j(T())}]},[m,h,g,v]);var y=a(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=y},[y]),d(y),y},Jj}var u4;function tme(){return u4||(u4=1,Zj.exports=eme()),Zj.exports}tme();function nme(e){e()}function rme(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nme(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var f4={notify(){},get:()=>[]};function ame(e,t){let r,a=f4,s=0,l=!1;function c(y){h();const j=a.subscribe(y);let C=!1;return()=>{C||(C=!0,j(),g())}}function d(){a.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function h(){s++,r||(r=e.subscribe(f),a=rme())}function g(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=f4)}function v(){l||(l=!0,h())}function b(){l&&(l=!1,g())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>a};return w}var sme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ime=sme(),lme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ome=lme(),cme=()=>ime||ome?p.useLayoutEffect:p.useEffect,dme=cme();function m4(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ume(e,t){if(m4(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!m4(e[r[s]],t[r[s]]))return!1;return!0}var fme=Symbol.for("react-redux-context"),mme=typeof globalThis<"u"?globalThis:{};function hme(){if(!p.createContext)return{};const e=mme[fme]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var pme=hme();function xme(e){const{children:t,context:r,serverState:a,store:s}=e,l=p.useMemo(()=>{const f=ame(s);return{store:s,subscription:f,getServerState:a?()=>a:void 0}},[s,a]),c=p.useMemo(()=>s.getState(),[s]);dme(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=r||pme;return p.createElement(d.Provider,{value:l},t)}var gme=xme,vme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function yme(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Pg(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(vme.has(a)){if(e[a]==null&&t[a]==null)continue;if(!ume(e[a],t[a]))return!1}else if(!yme(e[a],t[a]))return!1;return!0}var jme=["onMouseEnter","onMouseLeave","onClick"],bme=["value","background","tooltipPosition"],Nme=["id"],wme=["onMouseEnter","onClick","onMouseLeave"];function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oi.apply(null,arguments)}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(a){Sme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sme(e,t,r){return(t=Cme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cme(e){var t=Eme(e,"string");return typeof t=="symbol"?t:t+""}function Eme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lx(e,t){if(e==null)return{};var r,a,s=Ame(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ame(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Pme=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:td(r,t),payload:e}]},Tme=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:l,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:td(l,t),hide:c,type:f,color:s,unit:d}};return p.createElement(bS,{tooltipEntrySettings:m})});function Ome(e){var t=Fe(ll),{data:r,dataKey:a,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=lx(l,jme),h=vS(c,a),g=yS(d),v=jS(f,a);if(!s||r==null)return null;var b=no(s);return p.createElement(vr,{zIndex:Jfe(s,yn.barBackground)},r.map((w,y)=>{var{value:j,background:C,tooltipPosition:E}=w,A=lx(w,bme);if(!C)return null;var T=h(w,y),k=g(w,y),P=v(w,y),_=mr(mr(mr(mr(mr({option:s,isActive:String(y)===t},A),{},{fill:"#eee"},C),b),mf(m,w,y)),{},{onMouseEnter:T,onMouseLeave:k,onClick:P,dataKey:a,index:y,className:"recharts-bar-background-rectangle"});return p.createElement(ix,oi({key:"background-bar-".concat(y)},_))}))}function kme(e){var{showLabels:t,children:r,rects:a}=e,s=a?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return mr(mr({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return p.createElement(l6,{value:t?s:void 0},r)}function _me(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:l,dataKey:c}=e,d=Fe(ll),f=Fe(lS),m=r&&String(l)===d&&(f==null||c===f),h=m?r:t;return m?p.createElement(vr,{zIndex:yn.activeBar},p.createElement(ix,oi({},a,{name:String(a.name)},s,{isActive:m,option:h,index:l,dataKey:c}))):p.createElement(ix,oi({},a,{name:String(a.name)},s,{isActive:m,option:h,index:l,dataKey:c}))}function Rme(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:l}=e;return p.createElement(ix,oi({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:s,dataKey:l}))}function Mme(e){var t,{data:r,props:a}=e,s=(t=Mr(a))!==null&&t!==void 0?t:{},{id:l}=s,c=lx(s,Nme),{shape:d,dataKey:f,activeBar:m}=a,{onMouseEnter:h,onClick:g,onMouseLeave:v}=a,b=lx(a,wme),w=vS(h,f),y=yS(v),j=jS(g,f);return r?p.createElement(p.Fragment,null,r.map((C,E)=>p.createElement(fn,oi({key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(E),className:"recharts-bar-rectangle"},mf(b,C,E),{onMouseEnter:w(C,E),onMouseLeave:y(C,E),onClick:j(C,E)}),m?p.createElement(_me,{shape:d,activeBar:m,baseProps:c,entry:C,index:E,dataKey:f}):p.createElement(Rme,{shape:d,baseProps:c,entry:C,index:E,dataKey:f})))):null}function Dme(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,g=r.current,v=Nf(t,"recharts-bar-"),[b,w]=p.useState(!1),y=!b,j=p.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),C=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return p.createElement(kme,{showLabels:y,rects:a},p.createElement(bf,{animationId:v,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:C,key:v},E=>{var A=E===1?a:a?.map((T,k)=>{var P=g&&g[k];if(P)return mr(mr({},T),{},{x:Xt(P.x,T.x,E),y:Xt(P.y,T.y,E),width:Xt(P.width,T.width,E),height:Xt(P.height,T.height,E)});if(s==="horizontal"){var _=Xt(0,T.height,E),M=Xt(T.stackedBarStart,T.y,E);return mr(mr({},T),{},{y:M,height:_})}var X=Xt(0,T.width,E),I=Xt(T.stackedBarStart,T.x,E);return mr(mr({},T),{},{width:X,x:I})});return E>0&&(r.current=A??null),A==null?null:p.createElement(fn,null,p.createElement(Mme,{props:t,data:A}))}),p.createElement(hS,{label:t.label}),t.children)}function Lme(e){var t=p.useRef(null);return p.createElement(Dme,{previousRectanglesRef:t,props:e})}var S6=0,Ime=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ht(e,t)}};class $me extends p.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t||r==null)return null;var h=wt("recharts-bar",s),g=m;return p.createElement(fn,{className:h,id:m},d&&p.createElement("defs",null,p.createElement(w6,{clipPathId:g,xAxisId:l,yAxisId:c})),p.createElement(fn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},p.createElement(Ome,{data:r,dataKey:a,background:f,allOtherBarProps:this.props}),p.createElement(Lme,this.props)))}}var Fme={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:S6,xAxisId:0,yAxisId:0,zIndex:yn.bar};function zme(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:g}=SS(t,r),v=nd(),b=ar(),w=gS(e.children,li),y=Fe(E=>hhe(E,t,r,b,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var j,C=y?.[0];return C==null||C.height==null||C.width==null?j=0:j=v==="vertical"?C.height/2:C.width/2,p.createElement(Zfe,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:Ime,errorBarOffset:j},p.createElement($me,oi({},e,{layout:v,needClip:g,data:y,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function Bme(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:g,offset:v,cells:b,parentViewBox:w,dataStartIndex:y}=e,j=t==="horizontal"?d:c,C=h?j.scale.domain():null,E=ote({numericAxis:j}),A=j.scale(E);return g.map((T,k)=>{var P,_,M,X,I,R;h?P=rte(h[k+y],C):(P=Ht(T,r),Array.isArray(P)||(P=[E,P]));var V=qfe(a,S6)(P[1],k);if(t==="horizontal"){var je,[Y,te]=[d.scale(P[0]),d.scale(P[1])];_=OO({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:T,index:k}),M=(je=te??Y)!==null&&je!==void 0?je:void 0,X=s.size;var z=Y-te;if(I=Dr(z)?0:z,R={x:_,y:v.top,width:X,height:v.height},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var J=Kn(I||V)*(Math.abs(V)-Math.abs(I));M-=J,I+=J}}else{var[$,H]=[c.scale(P[0]),c.scale(P[1])];if(_=$,M=OO({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:T,index:k}),X=H-$,I=s.size,R={x:v.left,y:M,width:v.width,height:I},Math.abs(V)>0&&Math.abs(X)<Math.abs(V)){var pe=Kn(X||V)*(Math.abs(V)-Math.abs(X));X+=pe}}if(_==null||M==null||X==null||I==null)return null;var D=mr(mr({},T),{},{stackedBarStart:A,x:_,y:M,width:X,height:I,value:h?P:P[1],payload:T,background:R,tooltipPosition:{x:_+X/2,y:M+I/2},parentViewBox:w},b&&b[k]&&b[k].props);return D}).filter(Boolean)}function Ume(e){var t=bn(e,Fme),r=ar();return p.createElement(NS,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(g6,{legendPayload:Pme(t)}),p.createElement(Tme,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(j6,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:pL(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(vr,{zIndex:t.zIndex},p.createElement(zme,oi({},t,{id:a})))))}var C6=p.memo(Ume,Pg);C6.displayName="Bar";function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(a){Hme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hme(e,t,r){return(t=qme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qme(e){var t=Vme(e,"string");return typeof t=="symbol"?t:t+""}function Vme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kme=(e,t)=>t,Wme=(e,t,r)=>r,Gme=(e,t,r,a)=>a,Yme=(e,t,r,a,s)=>s,$f=he([vg,Yme],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Qme=he([$f],e=>e?.maxBarSize),Xme=(e,t,r,a,s,l)=>l,x4=(e,t,r)=>{var a=r??e;if(!an(a))return or(a,t,0)},Zme=he([St,vg,Kme,Wme,Gme],(e,t,r,a,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===r:l.yAxisId===a).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Jme=(e,t,r,a)=>{var s=St(e);return s==="horizontal"?Qu(e,"yAxis",r,a):Qu(e,"xAxis",t,a)},ehe=(e,t,r)=>{var a=St(e);return a==="horizontal"?c_(e,"xAxis",t):c_(e,"yAxis",r)},the=(e,t,r)=>{var a={},s=e.filter(pg),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),d=Object.entries(c).map(m=>{var[h,g]=m,v=g.map(w=>w.dataKey),b=x4(t,r,g[0].barSize);return{stackId:h,dataKeys:v,barSize:b}}),f=l.map(m=>{var h=[m.dataKey].filter(v=>v!=null),g=x4(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...f]},nhe=he([Zme,Cie,ehe],the),rhe=(e,t,r,a,s)=>{var l,c,d=$f(e,t,r,a,s);if(d!=null){var f=St(e),m=FI(e),{maxBarSize:h}=d,g=an(h)?m:h,v,b;return f==="horizontal"?(v=il(e,"xAxis",t,a),b=sl(e,"xAxis",t,a)):(v=il(e,"yAxis",r,a),b=sl(e,"yAxis",r,a)),(l=(c=kc(v,b,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},E6=(e,t,r,a)=>{var s=St(e),l,c;return s==="horizontal"?(l=il(e,"xAxis",t,a),c=sl(e,"xAxis",t,a)):(l=il(e,"yAxis",r,a),c=sl(e,"yAxis",r,a)),kc(l,c)};function ahe(e,t,r,a,s){var l=a.length;if(!(l<1)){var c=or(e,r,0,!0),d,f=[];if(Dt(a[0].barSize)){var m=!1,h=r/l,g=a.reduce((C,E)=>C+(E.barSize||0),0);g+=(l-1)*c,g>=r&&(g-=(l-1)*c,c=0),g>=r&&h>0&&(m=!0,h*=.9,g=l*h);var v=(r-g)/2>>0,b={offset:v-c,size:0};d=a.reduce((C,E)=>{var A,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b.offset+b.size+c,size:m?h:(A=E.barSize)!==null&&A!==void 0?A:0}},k=[...C,T];return b=k[k.length-1].position,k},f)}else{var w=or(t,r,0,!0);r-2*w-(l-1)*c<=0&&(c=0);var y=(r-2*w-(l-1)*c)/l;y>1&&(y>>=0);var j=Dt(s)?Math.min(y,s):y;d=a.reduce((C,E,A)=>[...C,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:w+(y+c)*A+(y-j)/2,size:j}}],f)}return d}}var she=(e,t,r,a,s,l,c)=>{var d=an(c)?t:c,f=ahe(r,a,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>Oh(Oh({},m),{},{position:Oh(Oh({},m.position),{},{offset:m.position.offset-s/2})}))),f},ihe=he([nhe,FI,Sie,zI,rhe,E6,Qme],she),lhe=(e,t,r,a)=>il(e,"xAxis",t,a),ohe=(e,t,r,a)=>il(e,"yAxis",r,a),che=(e,t,r,a)=>sl(e,"xAxis",t,a),dhe=(e,t,r,a)=>sl(e,"yAxis",r,a),uhe=he([ihe,$f],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),fhe=(e,t)=>{var r=hg(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===r)}}}},mhe=he([Jme,$f],fhe),hhe=he([In,Xw,lhe,ohe,che,dhe,uhe,St,ug,E6,mhe,$f,Xme],(e,t,r,a,s,l,c,d,f,m,h,g,v)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:y}=f;if(!(g==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||a==null||s==null||l==null||m==null)){var{data:j}=g,C;if(j!=null&&j.length>0?C=j:C=b?.slice(w,y+1),C!=null)return Bme({layout:d,barSettings:g,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:l,stackedData:h,displayedData:C,offset:e,cells:v,dataStartIndex:w})}}),A6=e=>{var{chartData:t}=e,r=Vt(),a=ar();return p.useEffect(()=>a?()=>{}:(r(N_(t)),()=>{r(N_(void 0))}),[t,r,a]),null},g4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},P6=Ir({name:"brush",initialState:g4,reducers:{setBrushSettings(e,t){return t.payload==null?g4:t.payload}}}),{setBrushSettings:ebe}=P6.actions,phe=P6.reducer;function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(a){T6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function T6(e,t,r){return(t=xhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xhe(e){var t=ghe(e,"string");return typeof t=="symbol"?t:t+""}function ghe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vhe=(e,t)=>{var{x:r,y:a}=e,{x:s,y:l}=t;return{x:Math.min(r,s),y:Math.min(a,l),width:Math.abs(s-r),height:Math.abs(l-a)}},yhe=e=>{var{x1:t,y1:r,x2:a,y2:s}=e;return vhe({x:t,y:r},{x:a,y:s})};class Tg{static create(t){return new Tg(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}T6(Tg,"EPS",1e-4);var jhe=e=>{var t=Object.keys(e).reduce((r,a)=>kh(kh({},r),{},{[a]:Tg.create(e[a])}),{});return kh(kh({},t),{},{apply(r){var{bandAware:a,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(l=>{var[c,d]=l;return[c,t[c].apply(d,{bandAware:a,position:s})]}))},isInRange(r){return Object.keys(r).every(a=>t[a].isInRange(r[a]))}})};function bhe(e){return(e%180+180)%180}var Nhe=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=bhe(s),c=l*Math.PI/180,d=Math.atan(a/r),f=c>d&&c<Math.PI-d?a/Math.sin(c):r/Math.cos(c);return Math.abs(f)},whe={dots:[],areas:[],lines:[]},O6=Ir({name:"referenceElements",initialState:whe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ua(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ua(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ua(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:tbe,removeDot:nbe,addArea:rbe,removeArea:abe,addLine:She,removeLine:Che}=O6.actions,Ehe=O6.reducer,k6=p.createContext(void 0),Ahe=e=>{var{children:t}=e,[r]=p.useState("".concat(Lu("recharts"),"-clip")),a=wS();if(a==null)return null;var{x:s,y:l,width:c,height:d}=a;return p.createElement(k6.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:s,y:l,height:d,width:c}))),t)},Phe=()=>p.useContext(k6);function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function j4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(a){The(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function The(e,t,r){return(t=Ohe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ohe(e){var t=khe(e,"string");return typeof t=="symbol"?t:t+""}function khe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ox.apply(null,arguments)}var _he=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Dt(t.x1)||!Dt(t.y1)||!Dt(t.x2)||!Dt(t.y2))return null;r=p.createElement("line",ox({},t,{className:"recharts-reference-line-line"}))}return r},Rhe=(e,t,r,a,s,l)=>{var{x:c,width:d}=l,f=s.y.apply(e,{position:r});if(Dr(f)||t==="discard"&&!s.y.isInRange(f))return null;var m=[{x:c+d,y:f},{x:c,y:f}];return a==="left"?m.reverse():m},Mhe=(e,t,r,a,s,l)=>{var{y:c,height:d}=l,f=s.x.apply(e,{position:r});if(Dr(f)||t==="discard"&&!s.x.isInRange(f))return null;var m=[{x:f,y:c+d},{x:f,y:c}];return a==="top"?m.reverse():m},Dhe=(e,t,r,a)=>{var s=e.map(l=>a.apply(l,{position:r}));return t==="discard"&&s.some(l=>!a.isInRange(l))?null:s},Lhe=(e,t,r,a,s,l)=>{var{x:c,y:d,segment:f,ifOverflow:m}=l,h=Pa(c),g=Pa(d);return g?Rhe(d,m,r,s,e,t):h?Mhe(c,m,r,a,e,t):f!=null&&f.length===2?Dhe(f,m,r,e):null};function Ihe(e){var t=Vt();return p.useEffect(()=>(t(She(e)),()=>{t(Che(e))})),null}function $he(e){var{xAxisId:t,yAxisId:r,shape:a,className:s,ifOverflow:l}=e,c=ar(),d=Phe(),f=Fe(P=>gs(P,t)),m=Fe(P=>vs(P,r)),h=Fe(P=>al(P,"xAxis",t,c)),g=Fe(P=>al(P,"yAxis",r,c)),v=vf();if(!d||!v||f==null||m==null||h==null||g==null)return null;var b=jhe({x:h,y:g}),w=Lhe(b,v,e.position,f.orientation,m.orientation,e);if(!w)return null;var[{x:y,y:j},{x:C,y:E}]=w,A=l==="hidden"?"url(#".concat(d,")"):void 0,T=j4(j4({clipPath:A},cr(e)),{},{x1:y,y1:j,x2:C,y2:E}),k=yhe({x1:y,y1:j,x2:C,y2:E});return p.createElement(vr,{zIndex:e.zIndex},p.createElement(fn,{className:wt("recharts-reference-line",s)},_he(a,T),p.createElement(r6,ox({},k,{lowerWidth:k.width,upperWidth:k.width}),p.createElement(s6,{label:e.label}),e.children)))}var Fhe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:yn.line};function _6(e){var t=bn(e,Fhe);return p.createElement(p.Fragment,null,p.createElement(Ihe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),p.createElement($he,t))}_6.displayName="ReferenceLine";function R6(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function zhe(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Nhe(a,r)}function Bhe(e,t,r){var a=r==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:a?s:l,end:a?s+c:l+d}:{start:a?s+c:l+d,end:a?s:l}}function cx(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var l=r();return e*(t-e*l/2-a)>=0&&e*(t+e*l/2-s)<=0}function Uhe(e,t){return R6(e,t+1)}function Hhe(e,t,r,a,s){for(var l=(a||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,g=function(){var w=a?.[f];if(w===void 0)return{v:R6(a,m)};var y=f,j,C=()=>(j===void 0&&(j=r(w,y)),j),E=w.coordinate,A=f===0||cx(e,E,C,h,d);A||(f=0,h=c,m+=1),A&&(h=E+e*(C()/2+s),f+=m)},v;m<=l.length;)if(v=g(),v)return v.v;return[]}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(a){qhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qhe(e,t,r){return(t=Vhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vhe(e){var t=Khe(e,"string");return typeof t=="symbol"?t:t+""}function Khe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Whe(e,t,r,a,s){for(var l=(a||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(v){var b=l[v],w,y=()=>(w===void 0&&(w=r(b,v)),w);if(v===c-1){var j=e*(b.coordinate+e*y()/2-f);l[v]=b=ir(ir({},b),{},{tickCoord:j>0?b.coordinate-j*e:b.coordinate})}else l[v]=b=ir(ir({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var C=cx(e,b.tickCoord,y,d,f);C&&(f=b.tickCoord-e*(y()/2+s),l[v]=ir(ir({},b),{},{isShow:!0}))}},h=c-1;h>=0;h--)m(h);return l}function Ghe(e,t,r,a,s,l){var c=(a||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=a[d-1],g=r(h,d-1),v=e*(h.coordinate+e*g/2-m);if(c[d-1]=h=ir(ir({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var b=cx(e,h.tickCoord,()=>g,f,m);b&&(m=h.tickCoord-e*(g/2+s),c[d-1]=ir(ir({},h),{},{isShow:!0}))}}for(var w=l?d-1:d,y=function(E){var A=c[E],T,k=()=>(T===void 0&&(T=r(A,E)),T);if(E===0){var P=e*(A.coordinate-e*k()/2-f);c[E]=A=ir(ir({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else c[E]=A=ir(ir({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var _=cx(e,A.tickCoord,k,f,m);_&&(f=A.tickCoord+e*(k()/2+s),c[E]=ir(ir({},A),{},{isShow:!0}))}},j=0;j<w;j++)y(j);return c}function CS(e,t,r){var{tick:a,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:g}=e;if(!s||!s.length||!a)return[];if(Be(f)||rd.isSsr){var v;return(v=Uhe(s,Be(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",y=h&&w==="width"?Eu(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(A,T)=>{var k=typeof m=="function"?m(A.value,T):A.value;return w==="width"?zhe(Eu(k,{fontSize:t,letterSpacing:r}),y,g):Eu(k,{fontSize:t,letterSpacing:r})[w]},C=s.length>=2?Kn(s[1].coordinate-s[0].coordinate):1,E=Bhe(l,C,w);return f==="equidistantPreserveStart"?Hhe(C,E,j,s,c):(f==="preserveStart"||f==="preserveStartEnd"?b=Ghe(C,E,j,s,c,f==="preserveStartEnd"):b=Whe(C,E,j,s,c),b.filter(A=>A.isShow))}var Yhe=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(r?a:0);return Math.round(m)}return 0},Qhe=["axisLine","width","height","className","hide","ticks","axisType"];function Xhe(e,t){if(e==null)return{};var r,a,s=Zhe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lo.apply(null,arguments)}function N4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(r),!0).forEach(function(a){Jhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jhe(e,t,r){return(t=epe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function epe(e){var t=tpe(e,"string");return typeof t=="symbol"?t:t+""}function tpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yn.axis};function npe(e){var{x:t,y:r,width:a,height:s,orientation:l,mirror:c,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var m=An(An(An({},f),Mr(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);m=An(An({},m),{},{x1:t,y1:r+h*s,x2:t+a,y2:r+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);m=An(An({},m),{},{x1:t+g*a,y1:r,x2:t+g*a,y2:r+s})}return p.createElement("line",lo({},m,{className:wt("recharts-cartesian-axis-line",ro(d,"className"))}))}function rpe(e,t,r,a,s,l,c,d,f){var m,h,g,v,b,w,y=d?-1:1,j=e.tickSize||c,C=Be(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":m=h=e.coordinate,v=r+ +!d*s,g=v-y*j,w=g-y*f,b=C;break;case"left":g=v=e.coordinate,h=t+ +!d*a,m=h-y*j,b=m-y*f,w=C;break;case"right":g=v=e.coordinate,h=t+ +d*a,m=h+y*j,b=m+y*f,w=C;break;default:m=h=e.coordinate,v=r+ +d*s,g=v+y*j,w=g+y*f,b=C;break}return{line:{x1:m,y1:g,x2:h,y2:v},tick:{x:b,y:w}}}function ape(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function spe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ipe(e){var{option:t,tickProps:r,value:a}=e,s,l=wt(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,An(An({},r),{},{className:l}));else if(typeof t=="function")s=t(An(An({},r),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=wt(c,t?.className)),s=p.createElement(Sg,lo({},r,{className:c}),a)}return s}var lpe=p.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:l,tickFormatter:c,unit:d,padding:f,tickTextProps:m,orientation:h,mirror:g,x:v,y:b,width:w,height:y,tickSize:j,tickMargin:C,fontSize:E,letterSpacing:A,getTicksConfig:T,events:k,axisType:P}=e,_=CS(An(An({},T),{},{ticks:r}),E,A),M=ape(h,g),X=spe(h,g),I=Mr(T),R=no(a),V={};typeof s=="object"&&(V=s);var je=An(An({},I),{},{fill:"none"},V),Y=_.map(J=>An({entry:J},rpe(J,v,b,w,y,h,j,g,C))),te=Y.map(J=>{var{entry:$,line:H}=J;return p.createElement(fn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},s&&p.createElement("line",lo({},je,H,{className:wt("recharts-cartesian-axis-tick-line",ro(s,"className"))})))}),z=Y.map((J,$)=>{var{entry:H,tick:pe}=J,D=An(An(An(An({textAnchor:M,verticalAnchor:X},I),{},{stroke:"none",fill:l},R),pe),{},{index:$,payload:H,visibleTicksCount:_.length,tickFormatter:c,padding:f},m);return p.createElement(fn,lo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},mf(k,H,$)),a&&p.createElement(ipe,{option:a,tickProps:D,value:"".concat(typeof c=="function"?c(H.value,$):H.value).concat(d||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},z.length>0&&p.createElement(vr,{zIndex:yn.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},z)),te.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},te))}),ope=p.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:l,hide:c,ticks:d,axisType:f}=e,m=Xhe(e,Qhe),[h,g]=p.useState(""),[v,b]=p.useState(""),w=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return Yhe({ticks:w.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=p.useCallback(j=>{if(j){var C=j.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=C;var E=C[0];if(E){var A=window.getComputedStyle(E),T=A.fontSize,k=A.letterSpacing;(T!==h||k!==v)&&(g(T),b(k))}}},[h,v]);return c||a!=null&&a<=0||s!=null&&s<=0?null:p.createElement(vr,{zIndex:e.zIndex},p.createElement(fn,{className:wt("recharts-cartesian-axis",l)},p.createElement(npe,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Mr(e)}),p.createElement(lpe,{ref:y,axisType:f,events:m,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(r6,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(s6,{label:e.label,labelRef:e.labelRef}),e.children)))}),ES=p.forwardRef((e,t)=>{var r=bn(e,Gs);return p.createElement(ope,lo({},r,{ref:t}))});ES.displayName="CartesianAxis";var cpe=["x1","y1","x2","y2","key"],dpe=["offset"],upe=["xAxisId","yAxisId"],fpe=["xAxisId","yAxisId"];function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(a){mpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mpe(e,t,r){return(t=hpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hpe(e){var t=ppe(e,"string");return typeof t=="symbol"?t:t+""}function ppe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vl.apply(null,arguments)}function dx(e,t){if(e==null)return{};var r,a,s=xpe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var gpe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:l,height:c,ry:d}=e;return p.createElement("rect",{x:a,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function M6(e){var{option:t,lineItemProps:r}=e,a;if(p.isValidElement(t))a=p.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s,{x1:l,y1:c,x2:d,y2:f,key:m}=r,h=dx(r,cpe),g=(s=Mr(h))!==null&&s!==void 0?s:{},{offset:v}=g,b=dx(g,dpe);a=p.createElement("line",Vl({},b,{x1:l,y1:c,x2:d,y2:f,fill:"none",key:m}))}return a}function vpe(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=dx(e,upe),f=s.map((m,h)=>{var g=lr(lr({},d),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(h),index:h});return p.createElement(M6,{key:"line-".concat(h),option:a,lineItemProps:g})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function ype(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=dx(e,fpe),f=s.map((m,h)=>{var g=lr(lr({},d),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(h),index:h});return p.createElement(M6,{option:a,lineItemProps:g,key:"line-".concat(h)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function jpe(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var m=d.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var b=!m[v+1],w=b?s+c-g:m[v+1]-g;if(w<=0)return null;var y=v%t.length;return p.createElement("rect",{key:"react-".concat(v),y:g,x:a,height:w,width:l,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function bpe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var m=f.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var b=!m[v+1],w=b?s+c-g:m[v+1]-g;if(w<=0)return null;var y=v%r.length;return p.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:w,height:d,stroke:"none",fill:r[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Npe=(e,t)=>{var{xAxis:r,width:a,height:s,offset:l}=e;return mL(CS(lr(lr(lr({},Gs),r),{},{ticks:hL(r),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,t)},wpe=(e,t)=>{var{yAxis:r,width:a,height:s,offset:l}=e;return mL(CS(lr(lr(lr({},Gs),r),{},{ticks:hL(r),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,t)},Spe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yn.grid};function D6(e){var t=Jw(),r=e1(),a=wL(),s=lr(lr({},bn(e,Spe)),{},{x:Be(e.x)?e.x:a.left,y:Be(e.y)?e.y:a.top,width:Be(e.width)?e.width:a.width,height:Be(e.height)?e.height:a.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:b}=s,w=ar(),y=Fe(X=>d_(X,"xAxis",l,w)),j=Fe(X=>d_(X,"yAxis",c,w));if(!ds(m)||!ds(h)||!Be(d)||!Be(f))return null;var C=s.verticalCoordinatesGenerator||Npe,E=s.horizontalCoordinatesGenerator||wpe,{horizontalPoints:A,verticalPoints:T}=s;if((!A||!A.length)&&typeof E=="function"){var k=v&&v.length,P=E({yAxis:j?lr(lr({},j),{},{ticks:k?v:j.ticks}):void 0,width:t??m,height:r??h,offset:a},k?!0:g);Mp(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!T||!T.length)&&typeof C=="function"){var _=b&&b.length,M=C({xAxis:y?lr(lr({},y),{},{ticks:_?b:y.ticks}):void 0,width:t??m,height:r??h,offset:a},_?!0:g);Mp(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(T=M)}return p.createElement(vr,{zIndex:s.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(gpe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(jpe,Vl({},s,{horizontalPoints:A})),p.createElement(bpe,Vl({},s,{verticalPoints:T})),p.createElement(vpe,Vl({},s,{offset:a,horizontalPoints:A,xAxis:y,yAxis:j})),p.createElement(ype,Vl({},s,{offset:a,verticalPoints:T,xAxis:y,yAxis:j}))))}D6.displayName="CartesianGrid";function Cpe(e){var t=no(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:l}=t,c=Number(s),d=Number(l);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(d)||d<0)&&(d=a),{r:c,strokeWidth:d}}return{r,strokeWidth:a}}var L6=(e,t,r,a)=>il(e,"xAxis",t,a),I6=(e,t,r,a)=>sl(e,"xAxis",t,a),$6=(e,t,r,a)=>il(e,"yAxis",r,a),F6=(e,t,r,a)=>sl(e,"yAxis",r,a),Epe=he([St,L6,$6,I6,F6],(e,t,r,a,s)=>ui(e,"xAxis")?kc(t,a,!1):kc(r,s,!1)),Ape=(e,t,r,a,s)=>s,z6=he([vg,Ape],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Ppe=(e,t,r,a,s)=>{var l,c=z6(e,t,r,a,s);if(c!=null){var d=St(e),f=ui(d,"xAxis"),m;if(f?m=Qu(e,"yAxis",r,a):m=Qu(e,"xAxis",t,a),m!=null){var{stackId:h}=c,g=hg(c);if(!(h==null||g==null)){var v=(l=m[h])===null||l===void 0?void 0:l.stackedData;return v?.find(b=>b.key===g)}}}},Tpe=he([St,L6,$6,I6,F6,Ppe,ug,Epe,z6,Eie],(e,t,r,a,s,l,c,d,f,m)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||d==null)){var{data:b}=f,w;if(b&&b.length>0?w=b:w=h?.slice(g,v+1),w!=null)return Gpe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:g,areaSettings:f,stackedData:l,displayedData:w,chartBaseValue:m,bandSize:d})}}),Ope=["id"],kpe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yl.apply(null,arguments)}function B6(e,t){if(e==null)return{};var r,a,s=_pe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _pe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(a){Rpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rpe(e,t,r){return(t=Mpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mpe(e){var t=Dpe(e,"string");return typeof t=="symbol"?t:t+""}function Dpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ux(e,t){return e&&e!=="none"?e:t}var Lpe=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:ux(a,s),value:td(r,t),payload:e}]},Ipe=p.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:l,name:c,hide:d,unit:f,tooltipType:m}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:td(c,t),hide:d,type:m,color:ux(a,l),unit:f}};return p.createElement(bS,{tooltipEntrySettings:h})});function $pe(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:l,dataKey:c}=a,d=Mr(a);return p.createElement(pfe,{points:r,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function Fpe(e){var{showLabels:t,children:r,points:a}=e,s=a.map(l=>{var c,d,f={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return uc(uc({},f),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return p.createElement(l6,{value:t?s:void 0},r)}function C4(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:l}=e,{layout:c,type:d,stroke:f,connectNulls:m,isRange:h}=l,{id:g}=l,v=B6(l,Ope),b=Mr(v),w=cr(v);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(fn,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},p.createElement(gc,Yl({},w,{id:g,points:t,connectNulls:m,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&p.createElement(gc,Yl({},b,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:t})),f!=="none"&&h&&p.createElement(gc,Yl({},b,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r}))),p.createElement($pe,{points:t,props:v,clipPathId:s}))}function zpe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,l=a[0].y,c=a[a.length-1].y;if(!Dt(l)||!Dt(c))return null;var d=t*Math.abs(l-c),f=Math.max(...a.map(m=>m.x||0));return Be(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.x||0),f)),Be(f)?p.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Bpe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,l=a[0].x,c=a[a.length-1].x;if(!Dt(l)||!Dt(c))return null;var d=t*Math.abs(l-c),f=Math.max(...a.map(m=>m.y||0));return Be(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.y||0),f)),Be(f)?p.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function Upe(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:l}=e;return r==="vertical"?p.createElement(zpe,{alpha:t,points:a,baseLine:s,strokeWidth:l}):p.createElement(Bpe,{alpha:t,points:a,baseLine:s,strokeWidth:l})}function Hpe(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:l}=e,{points:c,baseLine:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:g,onAnimationStart:v,onAnimationEnd:b}=a,w=p.useMemo(()=>({points:c,baseLine:d}),[c,d]),y=Nf(w,"recharts-area-"),j=qte(),[C,E]=p.useState(!1),A=!C,T=p.useCallback(()=>{typeof b=="function"&&b(),E(!1)},[b]),k=p.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]);if(j==null)return null;var P=s.current,_=l.current;return p.createElement(Fpe,{showLabels:A,points:c},a.children,p.createElement(bf,{animationId:y,begin:m,duration:h,isActive:f,easing:g,onAnimationEnd:T,onAnimationStart:k,key:y},M=>{if(P){var X=P.length/c.length,I=M===1?c:c.map((V,je)=>{var Y=Math.floor(je*X);if(P[Y]){var te=P[Y];return uc(uc({},V),{},{x:Xt(te.x,V.x,M),y:Xt(te.y,V.y,M)})}return V}),R;return Be(d)?R=Xt(_,d,M):an(d)||Dr(d)?R=Xt(_,0,M):R=d.map((V,je)=>{var Y=Math.floor(je*X);if(Array.isArray(_)&&_[Y]){var te=_[Y];return uc(uc({},V),{},{x:Xt(te.x,V.x,M),y:Xt(te.y,V.y,M)})}return V}),M>0&&(s.current=I,l.current=R),p.createElement(C4,{points:I,baseLine:R,needClip:t,clipPathId:r,props:a})}return M>0&&(s.current=c,l.current=d),p.createElement(fn,null,f&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(Upe,{alpha:M,points:c,baseLine:d,layout:j,strokeWidth:a.strokeWidth}))),p.createElement(fn,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(C4,{points:c,baseLine:d,needClip:t,clipPathId:r,props:a})))}),p.createElement(hS,{label:a.label}))}function qpe(e){var{needClip:t,clipPathId:r,props:a}=e,s=p.useRef(null),l=p.useRef();return p.createElement(Hpe,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:l})}class Vpe extends p.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:l,left:c,needClip:d,xAxisId:f,yAxisId:m,width:h,height:g,id:v,baseLine:b,zIndex:w}=this.props;if(t)return null;var y=wt("recharts-area",s),j=v,{r:C,strokeWidth:E}=Cpe(r),A=p6(r),T=C*2+E,k=d?"url(#clipPath-".concat(A?"":"dots-").concat(j,")"):void 0;return p.createElement(vr,{zIndex:w},p.createElement(fn,{className:y},d&&p.createElement("defs",null,p.createElement(w6,{clipPathId:j,xAxisId:f,yAxisId:m}),!A&&p.createElement("clipPath",{id:"clipPath-dots-".concat(j)},p.createElement("rect",{x:c-T/2,y:l-T/2,width:h+T,height:g+T}))),p.createElement(qpe,{needClip:d,clipPathId:j,props:this.props})),p.createElement(o4,{points:a,mainColor:ux(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(b)&&p.createElement(o4,{points:b,mainColor:ux(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var U6={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:yn.area};function Kpe(e){var t,r=bn(e,U6),{activeDot:a,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,fill:m,fillOpacity:h,hide:g,isAnimationActive:v,legendType:b,stroke:w,xAxisId:y,yAxisId:j}=r,C=B6(r,kpe),E=nd(),A=z$(),{needClip:T}=SS(y,j),k=ar(),{points:P,isRange:_,baseLine:M}=(t=Fe(Y=>Tpe(Y,y,j,k,e.id)))!==null&&t!==void 0?t:{},X=wS();if(E!=="horizontal"&&E!=="vertical"||X==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:I,width:R,x:V,y:je}=X;return!P||!P.length?null:p.createElement(Vpe,Yl({},C,{activeDot:a,animationBegin:s,animationDuration:l,animationEasing:c,baseLine:M,connectNulls:d,dot:f,fill:m,fillOpacity:h,height:I,hide:g,layout:E,isAnimationActive:v==="auto"?!rd.isSsr:v,isRange:_,legendType:b,needClip:T,points:P,stroke:w,width:R,left:V,top:je,xAxisId:y,yAxisId:j}))}var Wpe=(e,t,r,a,s)=>{var l=r??t;if(Be(l))return l;var c=e==="horizontal"?s:a,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]};function Gpe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:l,chartBaseValue:c,xAxis:d,yAxis:f,displayedData:m,dataStartIndex:h,xAxisTicks:g,yAxisTicks:v,bandSize:b}=e,w=s&&s.length,y=Wpe(l,c,r,d,f),j=l==="horizontal",C=!1,E=m.map((T,k)=>{var P;w?P=s[h+k]:(P=Ht(T,a),Array.isArray(P)?C=!0:P=[y,P]);var _=P[1]==null||w&&!t&&Ht(T,a)==null;return j?{x:TO({axis:d,ticks:g,bandSize:b,entry:T,index:k}),y:_?null:f.scale(P[1]),value:P,payload:T}:{x:_?null:d.scale(P[1]),y:TO({axis:f,ticks:v,bandSize:b,entry:T,index:k}),value:P,payload:T}}),A;return w||C?A=E.map(T=>{var k=Array.isArray(T.value)?T.value[0]:null;return j?{x:T.x,y:k!=null&&T.y!=null?f.scale(k):null,payload:T.payload}:{x:k!=null?d.scale(k):null,y:T.y,payload:T.payload}}):A=j?f.scale(y):d.scale(y),{points:E,baseLine:A,isRange:C}}function Ype(e){var t=bn(e,U6),r=ar();return p.createElement(NS,{id:t.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(g6,{legendPayload:Lpe(t)}),p.createElement(Ipe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(j6,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:pL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(Kpe,Yl({},t,{id:a}))))}var Xh=p.memo(Ype,Pg);Xh.displayName="Area";var Qpe=["domain","range"],Xpe=["domain","range"];function E4(e,t){if(e==null)return{};var r,a,s=Zpe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function A4(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function H6(e,t){if(e===t)return!0;var{domain:r,range:a}=e,s=E4(e,Qpe),{domain:l,range:c}=t,d=E4(t,Xpe);return!A4(r,l)||!A4(a,c)?!1:Pg(s,d)}var Jpe=["dangerouslySetInnerHTML","ticks"],exe=["id"];function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kN.apply(null,arguments)}function P4(e,t){if(e==null)return{};var r,a,s=txe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function txe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nxe(e){var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(jfe(e)):r.current!==e&&t(bfe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(Nfe(r.current)),r.current=null)},[t]),null}var rxe=e=>{var{xAxisId:t,className:r}=e,a=Fe(Xw),s=ar(),l="xAxis",c=Fe(j=>al(j,l,t,s)),d=Fe(j=>v$(j,l,t,s)),f=Fe(j=>h$(j,t)),m=Fe(j=>wle(j,t)),h=Fe(j=>YI(j,t));if(f==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,b=P4(e,Jpe),{id:w}=h,y=P4(h,exe);return p.createElement(ES,kN({},b,y,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:wt("recharts-".concat(l," ").concat(l),r),viewBox:a,ticks:d,axisType:l}))},axe={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:Gs.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:Gs.tickLine,tickSize:Gs.tickSize,type:Hn.type,xAxisId:0},sxe=e=>{var t=bn(e,axe);return p.createElement(p.Fragment,null,p.createElement(nxe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(rxe,t))},AS=p.memo(sxe,H6);AS.displayName="XAxis";var ixe=["dangerouslySetInnerHTML","ticks"],lxe=["id"];function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_N.apply(null,arguments)}function T4(e,t){if(e==null)return{};var r,a,s=oxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function cxe(e){var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(wfe(e)):r.current!==e&&t(Sfe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(Cfe(r.current)),r.current=null)},[t]),null}var dxe=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,l=p.useRef(null),c=p.useRef(null),d=Fe(Xw),f=ar(),m=Vt(),h="yAxis",g=Fe(k=>al(k,h,t,f)),v=Fe(k=>p$(k,t)),b=Fe(k=>Cle(k,t)),w=Fe(k=>v$(k,h,t,f)),y=Fe(k=>QI(k,t));if(p.useLayoutEffect(()=>{if(!(a!=="auto"||!v||mS(s)||p.isValidElement(s)||y==null)){var k=l.current;if(k){var P=k.getCalculatedWidth();Math.round(v.width)!==Math.round(P)&&m(Efe({id:t,width:P}))}}},[w,v,m,s,t,a,y]),v==null||b==null||y==null)return null;var{dangerouslySetInnerHTML:j,ticks:C}=e,E=T4(e,ixe),{id:A}=y,T=T4(y,lxe);return p.createElement(ES,_N({},E,T,{ref:l,labelRef:c,scale:g,x:b.x,y:b.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:v.width,height:v.height,className:wt("recharts-".concat(h," ").concat(h),r),viewBox:d,ticks:w,axisType:h}))},uxe={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,angle:qn.angle,axisLine:Gs.axisLine,hide:!1,includeHidden:qn.includeHidden,interval:qn.interval,minTickGap:qn.minTickGap,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,tickLine:Gs.tickLine,tickSize:Gs.tickSize,type:qn.type,width:qn.width,yAxisId:0},fxe=e=>{var t=bn(e,uxe);return p.createElement(p.Fragment,null,p.createElement(cxe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(dxe,t))},PS=p.memo(fxe,H6);PS.displayName="YAxis";var mxe=(e,t)=>t,TS=he([mxe,St,WI,Fn,M$,pi,zoe,In],Woe),OS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},q6=Ta("mouseClick"),V6=xf();V6.startListening({actionCreator:q6,effect:(e,t)=>{var r=e.payload,a=TS(t.getState(),OS(r));a?.activeIndex!=null&&t.dispatch(Fle({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var RN=Ta("mouseMove"),K6=xf(),_h=null;K6.startListening({actionCreator:RN,effect:(e,t)=>{var r=e.payload;_h!==null&&cancelAnimationFrame(_h);var a=OS(r);_h=requestAnimationFrame(()=>{var s=t.getState(),l=tS(s,s.tooltip.settings.shared);if(l==="axis"){var c=TS(s,a);c?.activeIndex!=null?t.dispatch(E$({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(C$())}_h=null})}});var O4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W6=Ir({name:"rootProps",initialState:O4,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:O4.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),hxe=W6.reducer,{updateOptions:pxe}=W6.actions,G6=Ir({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xxe}=G6.actions,gxe=G6.reducer,Y6=Ta("keyDown"),Q6=Ta("focus"),kS=xf();kS.startListening({actionCreator:Y6,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=nS(s,ud(r),kf(r),Df(r)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=pi(r);if(l==="Enter"){var m=tx(r,"axis","hover",String(s.index));t.dispatch(SN({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var h=Tle(r),g=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,b=d+v*g;if(!(f==null||b>=f.length||b<0)){var w=tx(r,"axis","hover",String(b));t.dispatch(SN({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});kS.startListening({actionCreator:Q6,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var l="0",c=tx(r,"axis","hover",String(l));t.dispatch(SN({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var ba=Ta("externalEvent"),X6=xf(),eb=new Map;X6.startListening({actionCreator:ba,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(r!=null){a.persist();var s=a.type,l=eb.get(s);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:Coe(d),activeDataKey:lS(d),activeIndex:ll(d),activeLabel:I$(d),activeTooltipIndex:ll(d),isTooltipActive:Eoe(d)};r(f,a)}finally{eb.delete(s)}});eb.set(s,c)}}});var vxe=he([dd],e=>e.tooltipItemPayloads),yxe=he([vxe,Rf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,r);return c}}}),Z6=Ta("touchMove"),J6=xf();J6.startListening({actionCreator:Z6,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),s=tS(a,a.tooltip.settings.shared);if(s==="axis"){var l=TS(a,OS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(E$({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(gL),h=(c=f.getAttribute(vL))!==null&&c!==void 0?c:void 0,g=yxe(t.getState(),m,h);t.dispatch(S$({activeDataKey:h,activeIndex:m,activeCoordinate:g}))}}}});var jxe=$3({brush:phe,cartesianAxis:Afe,chartData:Sce,errorBars:Kfe,graphicalItems:Rue,layout:Xee,legend:sne,options:yce,polarAxis:Gde,polarOptions:gxe,referenceElements:Ehe,rootProps:hxe,tooltip:zle,zIndex:lce}),bxe=function(t){return Nee({reducer:jxe,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([V6.middleware,K6.middleware,kS.middleware,X6.middleware,J6.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(J3({type:"raf"}))},devTools:rd.devToolsEnabled})};function eF(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=ar(),l=p.useRef(null);if(s)return r;l.current==null&&(l.current=bxe(t));var c=Uw;return p.createElement(gme,{context:c,store:l.current},r)}function Nxe(e){var{layout:t,margin:r}=e,a=Vt(),s=ar();return p.useEffect(()=>{s||(a(Gee(t)),a(Wee(r)))},[a,s,t,r]),null}var tF=p.memo(Nxe,Pg);function nF(e){var t=Vt();return p.useEffect(()=>{t(pxe(e))},[t,e]),null}function k4(e){var{zIndex:t,isPanorama:r}=e,a=r?"recharts-zindex-panorama-":"recharts-zindex-",s=v6("".concat(a).concat(t)),l=Vt();return p.useLayoutEffect(()=>(l(sce({zIndex:t,elementId:s,isPanorama:r})),()=>{l(ice({zIndex:t,isPanorama:r}))}),[l,t,s,r]),p.createElement("g",{tabIndex:-1,id:s})}function _4(e){var{children:t,isPanorama:r}=e,a=Fe(Yoe);if(!a||a.length===0)return t;var s=a.filter(c=>c<0),l=a.filter(c=>c>0);return p.createElement(p.Fragment,null,s.map(c=>p.createElement(k4,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>p.createElement(k4,{key:c,zIndex:c,isPanorama:r})))}var wxe=["children"];function Sxe(e,t){if(e==null)return{};var r,a,s=Cxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Cxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fx.apply(null,arguments)}var Exe={width:"100%",height:"100%",display:"block"},Axe=p.forwardRef((e,t)=>{var r=Jw(),a=e1(),s=ML();if(!ds(r)||!ds(a))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0),p.createElement(_w,fx({},c,{title:d,desc:f,role:h,tabIndex:m,width:r,height:a,style:Exe,ref:t}),l)}),Pxe=e=>{var{children:t}=e,r=Fe(eg);if(!r)return null;var{width:a,height:s,y:l,x:c}=r;return p.createElement(_w,{width:a,height:s,x:c,y:l},t)},R4=p.forwardRef((e,t)=>{var{children:r}=e,a=Sxe(e,wxe),s=ar();return s?p.createElement(Pxe,null,p.createElement(_4,{isPanorama:!0},r)):p.createElement(Axe,fx({ref:t},a),p.createElement(_4,{isPanorama:!1},r))});function Txe(){var e=Vt(),[t,r]=p.useState(null),a=Fe(hte);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Dt(l)&&l!==a&&e(Qee(l))}},[t,e,a]),r}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(a){kxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kxe(e,t,r){return(t=_xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=Rxe(e,"string");return typeof t=="symbol"?t:t+""}function Rxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oo.apply(null,arguments)}var Mxe=()=>(Rce(),null);function mx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Dxe=p.forwardRef((e,t)=>{var r,a,s=p.useRef(null),[l,c]=p.useState({containerWidth:mx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:mx((a=e.style)===null||a===void 0?void 0:a.height)}),d=p.useCallback((m,h)=>{c(g=>{var v=Math.round(m),b=Math.round(h);return g.containerWidth===v&&g.containerHeight===b?g:{containerWidth:v,containerHeight:b}})},[]),f=p.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=m.getBoundingClientRect();d(h,g);var v=w=>{var{width:y,height:j}=w[0].contentRect;d(y,j)},b=new ResizeObserver(v);b.observe(m),s.current=b}},[t,d]);return p.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[d]),p.createElement(p.Fragment,null,p.createElement(tg,{width:l.containerWidth,height:l.containerHeight}),p.createElement("div",oo({ref:f},e)))}),Lxe=p.forwardRef((e,t)=>{var{width:r,height:a}=e,[s,l]=p.useState({containerWidth:mx(r),containerHeight:mx(a)}),c=p.useCallback((f,m)=>{l(h=>{var g=Math.round(f),v=Math.round(m);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),d=p.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return p.createElement(p.Fragment,null,p.createElement(tg,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",oo({ref:d},e)))}),Ixe=p.forwardRef((e,t)=>{var{width:r,height:a}=e;return p.createElement(p.Fragment,null,p.createElement(tg,{width:r,height:a}),p.createElement("div",oo({ref:t},e)))}),$xe=p.forwardRef((e,t)=>{var{width:r,height:a}=e;return ti(r)||ti(a)?p.createElement(Lxe,oo({},e,{ref:t})):p.createElement(Ixe,oo({},e,{ref:t}))});function Fxe(e){return e===!0?Dxe:$xe}var zxe=p.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:b,onTouchMove:w,onTouchStart:y,style:j,width:C,responsive:E,dispatchTouchEvents:A=!0}=e,T=p.useRef(null),k=Vt(),[P,_]=p.useState(null),[M,X]=p.useState(null),I=Txe(),R=Zw(),V=R?.width>0?R.width:C,je=R?.height>0?R.height:s,Y=p.useCallback(me=>{I(me),typeof t=="function"&&t(me),_(me),X(me),me!=null&&(T.current=me)},[I,t,_,X]),te=p.useCallback(me=>{k(q6(me)),k(ba({handler:l,reactEvent:me}))},[k,l]),z=p.useCallback(me=>{k(RN(me)),k(ba({handler:m,reactEvent:me}))},[k,m]),J=p.useCallback(me=>{k(C$()),k(ba({handler:h,reactEvent:me}))},[k,h]),$=p.useCallback(me=>{k(RN(me)),k(ba({handler:g,reactEvent:me}))},[k,g]),H=p.useCallback(()=>{k(Q6())},[k]),pe=p.useCallback(me=>{k(Y6(me.key))},[k]),D=p.useCallback(me=>{k(ba({handler:c,reactEvent:me}))},[k,c]),ne=p.useCallback(me=>{k(ba({handler:d,reactEvent:me}))},[k,d]),xe=p.useCallback(me=>{k(ba({handler:f,reactEvent:me}))},[k,f]),Se=p.useCallback(me=>{k(ba({handler:v,reactEvent:me}))},[k,v]),oe=p.useCallback(me=>{k(ba({handler:y,reactEvent:me}))},[k,y]),$e=p.useCallback(me=>{A&&k(Z6(me)),k(ba({handler:w,reactEvent:me}))},[k,A,w]),ge=p.useCallback(me=>{k(ba({handler:b,reactEvent:me}))},[k,b]),We=Fxe(E);return p.createElement(V$.Provider,{value:P},p.createElement(e3.Provider,{value:M},p.createElement(We,{width:V??j?.width,height:je??j?.height,className:wt("recharts-wrapper",a),style:Oxe({position:"relative",cursor:"default",width:V,height:je},j),onClick:te,onContextMenu:D,onDoubleClick:ne,onFocus:H,onKeyDown:pe,onMouseDown:xe,onMouseEnter:z,onMouseLeave:J,onMouseMove:$,onMouseUp:Se,onTouchEnd:ge,onTouchMove:$e,onTouchStart:oe,ref:Y},p.createElement(Mxe,null),r)))}),Bxe=["width","height","responsive","children","className","style","compact","title","desc"];function Uxe(e,t){if(e==null)return{};var r,a,s=Hxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Hxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var rF=p.forwardRef((e,t)=>{var{width:r,height:a,responsive:s,children:l,className:c,style:d,compact:f,title:m,desc:h}=e,g=Uxe(e,Bxe),v=Mr(g);return f?p.createElement(p.Fragment,null,p.createElement(tg,{width:r,height:a}),p.createElement(R4,{otherAttributes:v,title:m,desc:h},l)):p.createElement(zxe,{className:c,style:d,width:r,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(R4,{otherAttributes:v,title:m,desc:h,ref:t},p.createElement(Ahe,null,l)))});function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},MN.apply(null,arguments)}var qxe={top:5,right:5,bottom:5,left:5},Vxe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:qxe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},aF=p.forwardRef(function(t,r){var a,s=bn(t.categoricalChartProps,Vxe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(eF,{preloadedState:{options:h},reduxStoreName:(a=m.id)!==null&&a!==void 0?a:l},p.createElement(A6,{chartData:m.data}),p.createElement(tF,{layout:s.layout,margin:s.margin}),p.createElement(nF,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(rF,MN({},s,{ref:r})))}),Kxe=["axis","item"],Wxe=p.forwardRef((e,t)=>p.createElement(aF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Kxe,tooltipPayloadSearcher:fS,categoricalChartProps:e,ref:t}));function Gxe(e){var t=Vt();return p.useEffect(()=>{t(xxe(e))},[t,e]),null}var Yxe=["layout"];function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},DN.apply(null,arguments)}function Qxe(e,t){if(e==null)return{};var r,a,s=Xxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Xxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Zxe={top:5,right:5,bottom:5,left:5},sF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Zxe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Jxe=p.forwardRef(function(t,r){var a,s=bn(t.categoricalChartProps,sF),{layout:l}=s,c=Qxe(s,Yxe),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(eF,{preloadedState:{options:g},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:d},p.createElement(A6,{chartData:s.data}),p.createElement(tF,{layout:l,margin:s.margin}),p.createElement(nF,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(Gxe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(rF,DN({},c,{ref:r})))});function D4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(r),!0).forEach(function(a){ege(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ege(e,t,r){return(t=tge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tge(e){var t=nge(e,"string");return typeof t=="symbol"?t:t+""}function nge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rge=["item"],age=L4(L4({},sF),{},{layout:"centric",startAngle:0,endAngle:360}),Og=p.forwardRef((e,t)=>{var r=bn(e,age);return p.createElement(Jxe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:rge,tooltipPayloadSearcher:fS,categoricalChartProps:r,ref:t})}),sge=["axis"],ige=p.forwardRef((e,t)=>p.createElement(aF,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sge,tooltipPayloadSearcher:fS,categoricalChartProps:e,ref:t}));const lge=[{value:"1w",label:"1W"},{value:"1m",label:"1M"},{value:"3m",label:"3M"},{value:"1y",label:"1Y"},{value:"2y",label:"2Y"},{value:"all",label:"All"}],oge=[{value:"7d",label:"7D"},{value:"30d",label:"30D"},{value:"6m",label:"6M"},{value:"1y",label:"1Y"}];function cge(){const{toast:e}=Zt(),[t,r]=p.useState(""),[a,s]=p.useState(null),[l,c]=p.useState("all"),[d,f]=p.useState("30d"),{data:m,isLoading:h,isError:g,refetch:v}=ke({queryKey:["/api/admin/bridge/overview"]}),{data:b,isLoading:w,isError:y}=ke({queryKey:["/api/admin/bridge/extractors",l],queryFn:async()=>{const ee=await fetch(`/api/admin/bridge/extractors?timeRange=${l}&limit=1000`);if(!ee.ok)throw new Error("Failed to fetch extractors");return ee.json()}}),j=m&&!("error"in m)?m:null,C=Array.isArray(b)?b:[],{data:E,isLoading:A,isError:T,refetch:k}=ke({queryKey:["/api/admin/bridge/value-breakdown"]}),{data:P,isLoading:_}=ke({queryKey:["/api/admin/bridge/tvl-reconciliation"]}),{data:M,isLoading:X}=ke({queryKey:["/api/admin/bridge/daily-averages"]}),{data:I,isLoading:R}=ke({queryKey:["/api/admin/bridge/daily-timeseries",d],queryFn:async()=>{const ee=await fetch(`/api/admin/bridge/daily-timeseries?range=${d}`);if(!ee.ok)throw new Error("Failed to fetch time series");return ee.json()}}),{data:V,isLoading:je}=ke({queryKey:["/api/admin/bridge/wallet",a],enabled:!!a}),Y=Oe({mutationFn:async ee=>De("POST","/api/admin/bridge/index-wallet",{wallet:ee}),onSuccess:()=>{e({title:"Wallet indexed successfully"}),_e.invalidateQueries({queryKey:["/api/admin/bridge"]})},onError:()=>{e({title:"Failed to index wallet",variant:"destructive"})}}),te=Oe({mutationFn:async()=>De("POST","/api/admin/bridge/refresh-metrics"),onSuccess:()=>{e({title:"Metrics refreshed"}),_e.invalidateQueries({queryKey:["/api/admin/bridge"]})}}),{data:z}=ke({queryKey:["/api/admin/bridge/indexer-status"],refetchInterval:5e3}),J=Oe({mutationFn:async()=>De("POST","/api/admin/bridge/run-indexer"),onSuccess:()=>{e({title:"Bridge indexer started",description:"Scanning last 100k blocks (~2-3 days). This may take several minutes."}),_e.invalidateQueries({queryKey:["/api/admin/bridge/indexer-status"]})},onError:ee=>{ee?.message?.includes("409")?e({title:"Indexer already running",variant:"destructive"}):e({title:"Failed to start indexer",variant:"destructive"})}}),{data:$}=ke({queryKey:["/api/admin/bridge/sync-progress"],refetchInterval:5e3});Oe({mutationFn:async()=>De("POST","/api/admin/bridge/start-historical-sync"),onSuccess:()=>{e({title:"Historical sync started",description:"Indexing from genesis block. This may take hours."}),_e.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})},onError:()=>{e({title:"Failed to start historical sync",variant:"destructive"})}}),Oe({mutationFn:async()=>De("POST","/api/admin/bridge/stop-historical-sync"),onSuccess:()=>{e({title:"Historical sync stopped"}),_e.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})}});const{data:H,refetch:pe}=ke({queryKey:["/api/admin/bridge/batch-progress"],refetchInterval:1e3});Oe({mutationFn:async()=>(await De("POST","/api/admin/bridge/run-incremental-batch")).json(),onSuccess:ee=>{pe(),ee.status==="complete"?e({title:"Already at latest block",description:ee.message}):ee.status==="success"?e({title:"Indexed 10K blocks",description:`Blocks ${ee.startBlock?.toLocaleString()}-${ee.endBlock?.toLocaleString()}: ${ee.eventsInserted} events in ${((ee.runtimeMs||0)/1e3).toFixed(1)}s`}):ee.status==="error"&&e({title:"Batch failed",description:ee.error,variant:"destructive"}),_e.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})},onError:ee=>{ee?.message?.includes("409")?e({title:"Batch already running",variant:"destructive"}):e({title:"Failed to run batch",variant:"destructive"})}});const{data:D,refetch:ne}=ke({queryKey:["/api/admin/bridge/parallel-sync/status"],refetchInterval:3e3}),[xe,Se]=p.useState(8),oe=Oe({mutationFn:async()=>De("POST","/api/admin/bridge/parallel-sync/start",{workers:xe,batchSize:1e4,maxBatches:100}),onSuccess:()=>{e({title:"Parallel sync started",description:`${xe} workers indexing in parallel`}),ne()},onError:ee=>{ee?.message?.includes("409")?e({title:"Parallel sync already running",variant:"destructive"}):e({title:"Failed to start parallel sync",variant:"destructive"})}}),$e=Oe({mutationFn:async()=>De("POST","/api/admin/bridge/parallel-sync/stop"),onSuccess:()=>{e({title:"Parallel sync stopping",description:"Workers will complete current batches"}),ne()},onError:()=>{e({title:"Failed to stop parallel sync",variant:"destructive"})}}),{data:ge,refetch:We}=ke({queryKey:["/api/admin/bridge/price-enrichment/status"],refetchInterval:3e3}),me=Oe({mutationFn:async()=>De("POST","/api/admin/bridge/price-enrichment/start",{workers:8}),onSuccess:()=>{e({title:"Price enrichment started",description:"8 workers adding USD values in parallel"}),We()},onError:ee=>{ee?.message?.includes("409")?e({title:"Enrichment already running",variant:"destructive"}):e({title:"Failed to start enrichment",variant:"destructive"})}}),Re=Oe({mutationFn:async()=>De("POST","/api/admin/bridge/price-enrichment/stop"),onSuccess:()=>{e({title:"Enrichment stopping",description:"Workers will complete current batches"}),We()},onError:()=>{e({title:"Failed to stop enrichment",variant:"destructive"})}}),W=async()=>{if(t.trim()){const ee=t.trim().toLowerCase();try{await Y.mutateAsync(ee),s(ee)}catch{}}},ce=ee=>{const de=typeof ee=="string"?parseFloat(ee):ee;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(de)},Ie=ee=>{const de=typeof ee=="string"?parseFloat(ee):ee;return de>=1e9?`$${(de/1e9).toFixed(2)}B`:de>=1e6?`$${(de/1e6).toFixed(2)}M`:de>=1e3?`$${(de/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(de)},Ye=ee=>{const de=typeof ee=="string"?parseFloat(ee):ee,at=Math.abs(de);let ct;return at>=1e9?ct=`$${(at/1e9).toFixed(2)}B`:at>=1e6?ct=`$${(at/1e6).toFixed(2)}M`:at>=1e3?ct=`$${(at/1e3).toFixed(2)}K`:ct=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(at),de<0?`(${ct})`:ct},Lt=ee=>new Date(ee).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),kt=ee=>`${ee.slice(0,6)}...${ee.slice(-4)}`;return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"bridge-analytics",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Bridge Analytics"}),n.jsx("p",{className:"text-muted-foreground",children:"Track cross-chain bridge flows and identify extractors"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>J.mutate(),disabled:J.isPending||z?.running,"data-testid":"button-run-indexer",children:[z?.running?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 mr-2"}),z?.running?"Indexer Running...":"Run Indexer"]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>te.mutate(),disabled:te.isPending,"data-testid":"button-refresh-metrics",children:[n.jsx(tt,{className:`h-4 w-4 mr-2 ${te.isPending?"animate-spin":""}`}),"Refresh Metrics"]})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Ca,{className:"h-5 w-5"}),"Historical Sync Progress"]}),n.jsx(Ce,{children:"Index all bridge events from genesis for complete extraction analysis"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[D?.running?n.jsxs(re,{variant:"destructive",size:"sm",onClick:()=>$e.mutate(),disabled:$e.isPending,"data-testid":"button-stop-parallel-sync",children:[n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Stop Sync (",D.combinedProgress,"%)"]}):n.jsxs(re,{variant:"default",size:"sm",onClick:()=>oe.mutate(),disabled:oe.isPending||D?.allComplete,"data-testid":"button-start-parallel-sync",children:[oe.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Wn,{className:"h-4 w-4 mr-2"}),D?.allComplete?"Sync Complete":"Start Block Sync"]}),ge?.running?n.jsxs(re,{variant:"destructive",size:"sm",onClick:()=>Re.mutate(),disabled:Re.isPending,"data-testid":"button-stop-enrichment",children:[n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Stop Prices (",ge.workers.filter(ee=>ee.running).length," active)"]}):n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>me.mutate(),disabled:me.isPending||ge?.unpricedCount===0,"data-testid":"button-start-enrichment",children:[me.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(na,{className:"h-4 w-4 mr-2"}),ge?.unpricedCount===0?"All Priced":"Add USD Prices"]})]})]})}),n.jsxs(Q,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{variant:D?.running?"default":D?.allComplete?"outline":$?.progress?.status==="error"?"destructive":"secondary",children:D?.running?`Syncing (${D.combinedProgress}%)`:D?.allComplete?"Complete":`${(D?.combinedProgress||0).toFixed(0)}% synced`}),ge?.running&&n.jsx(U,{variant:"default",children:"Pricing"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Progress"}),n.jsxs("p",{className:"text-lg font-semibold",children:[(D?.combinedProgress||0).toFixed(0),"% / ",(D?.latestBlock||0).toLocaleString()," blocks"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"text-lg font-semibold",children:(D?.workers?.reduce((ee,de)=>ee+(de.totalEventsIndexed||0),0)||0).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Needing USD Prices"}),n.jsx("p",{className:"text-lg font-semibold",children:(ge?.unpricedCount||0).toLocaleString()})]})]}),D?.latestBlock&&D.latestBlock>0&&(()=>{const ee=D?.combinedProgress||0,de=D.latestBlock,at=D?.allComplete||!1,ct=D?.workers?.filter(ln=>ln.status==="running"||ln.progress<100&&ln.status!=="complete").length||0;return n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg","data-testid":"block-sync-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Block Sync Progress"}),n.jsxs("span",{className:"text-sm font-mono",children:[ee.toFixed(2),"%"]})]}),n.jsx(Ut,{value:ee,className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Workers:"}),n.jsxs("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-workers",children:[ct," of ",D?.workersTotal||8," active"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Latest block:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-latest-block",children:de.toLocaleString()})]})]}),n.jsx("div",{className:"text-xs mt-1 text-center",children:at?n.jsx("span",{className:"text-green-600 font-medium",children:"Sync complete"}):D?.running?n.jsxs("span",{className:"text-primary font-medium",children:["Syncing with ",D.workersTotal," parallel workers"]}):n.jsxs("span",{className:"text-muted-foreground",children:[(100-ee).toFixed(0),"% remaining"]})}),(D?.workers?.reduce((ln,yr)=>ln+(yr.totalBatchCount||0),0)??0)>0&&n.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-muted text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total batches:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-batch-count",children:(D?.workers?.reduce((ln,yr)=>ln+(yr.totalBatchCount||0),0)||0).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Completed workers:"}),n.jsxs("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-completed-workers",children:[D?.workers?.filter(ln=>ln.status==="complete").length||0," / ",D?.workersTotal||8]})]})]})]})})(),$?.progress?.lastError&&n.jsxs("div",{className:"mt-3 p-2 bg-destructive/10 rounded text-sm text-destructive",children:["Last error: ",$.progress.lastError]}),D?.running&&D.workers&&D.workers.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg","data-testid":"parallel-sync-workers",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Wn,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Block Sync Workers"}),n.jsxs(U,{variant:"outline",className:"ml-auto",children:[D.workers.filter(ee=>ee.status==="running"||ee.progress<100).length," active"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:D.workers.map(ee=>n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["W",ee.workerId]}),n.jsx(Ut,{value:ee.progress,className:"h-1.5"}),n.jsxs("div",{className:"text-xs font-mono",children:[ee.progress.toFixed(0),"%"]})]},ee.workerId))})]}),(ge?.unpricedCount>0||ge?.running)&&(()=>{const ee=ge?.unpricedCount||0,de=ge?.workers?.reduce((Nn,st)=>Nn+(st.eventsUpdated||0),0)||0,at=ee+de,ct=at>0?de/at*100:0,ln=ge?.workers?.filter(Nn=>Nn.running).length||0,yr=ge?.running;return n.jsxs("div",{className:"mt-4 p-4 bg-green-500/5 border border-green-500/20 rounded-lg","data-testid":"pricing-sync-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(na,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Pricing Sync Progress"})]}),n.jsxs("span",{className:"text-sm font-mono",children:[ct.toFixed(1),"%"]})]}),n.jsx(Ut,{value:ct,className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Events priced:"}),n.jsx("span",{className:"font-mono font-semibold text-green-600","data-testid":"text-events-priced",children:de.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Remaining:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-events-remaining",children:ee.toLocaleString()})]})]}),n.jsx("div",{className:"text-xs mt-1 text-center",children:ee===0?n.jsx("span",{className:"text-green-600 font-medium",children:"All events priced!"}):yr?n.jsxs("span",{className:"text-green-500 font-medium",children:["Pricing with ",ln," parallel workers"]}):n.jsxs("span",{className:"text-muted-foreground",children:[ee.toLocaleString()," events need USD prices"]})}),yr&&ge.workers&&ge.workers.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Price Enrichment Workers"}),n.jsxs(U,{variant:"outline",className:"ml-auto text-xs",children:[ln," active"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:ge.workers.map(Nn=>{const st=Nn.groupsTotal>0?Nn.groupsProcessed/Nn.groupsTotal*100:0;return n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["W",Nn.workerId]}),n.jsx(Ut,{value:st,className:"h-1.5"}),n.jsx("div",{className:"text-xs font-mono text-green-600",children:Nn.eventsUpdated})]},Nn.workerId)})}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Groups: ",ge.workers.reduce((Nn,st)=>Nn+(st.groupsProcessed||0),0).toLocaleString()," / ",ge.workers.reduce((Nn,st)=>Nn+(st.groupsTotal||0),0).toLocaleString()]}),n.jsxs("span",{children:["Total updated: ",de.toLocaleString()]})]})]})]})})()]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Bridge Events"}),n.jsx(jc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:h?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-events",children:j?.events?.total??0}),n.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(sp,{className:"h-3 w-3 text-green-500"}),j?.events?.in??0," in"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ip,{className:"h-3 w-3 text-red-500"}),j?.events?.out??0," out"]})]})]})})]}),n.jsxs(G,{className:"md:col-span-2",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Net Bridge Flow"}),n.jsx(nV,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:h?n.jsx(Me,{className:"h-8 w-32"}):(()=>{const ee=j?.events?.totalUsdIn??0,de=j?.events?.totalUsdOut??0,at=ee-de,ct=at>=0;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"sr-only","data-testid":"stat-bridged-in",children:["Total bridged in: ",ce(ee)]}),n.jsxs("span",{className:"sr-only","data-testid":"stat-bridged-out",children:["Total bridged out: ",ce(de)]}),n.jsxs(Su,{children:[n.jsx(Cu,{asChild:!0,children:n.jsx("button",{type:"button",className:`text-2xl font-bold cursor-help bg-transparent border-0 p-0 text-left ${ct?"text-green-600":"text-red-600"}`,"data-testid":"stat-net-bridge-flow",children:Ye(at)})}),n.jsx(hc,{side:"bottom",className:"text-xs",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("span",{className:"text-green-500",children:["In: ",ce(ee)]}),n.jsxs("span",{className:"text-red-500",children:["Out: ",ce(de)]})]})})]})]})})()})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Extractors Identified"}),n.jsx(qs,{className:"h-4 w-4 text-orange-500"})]}),n.jsx(Q,{children:h?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"stat-extractors",children:j?.metrics?.extractorCount??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ce(j?.metrics?.totalExtracted??0)," extracted"]})]})})]})]}),n.jsxs(G,{"data-testid":"card-daily-averages",children:[n.jsx(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Sc,{className:"h-5 w-5"}),"Bridge Flow Daily Averages"]}),n.jsx(Ce,{children:"Net daily average bridged in vs out by time period. Negative values (more out than in) shown in parentheses."})]})}),n.jsx(Q,{children:X?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(ee=>n.jsx(Me,{className:"h-24"},ee))}):M&&M.length>0?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:M.map(ee=>n.jsxs("div",{className:"border rounded-lg p-4","data-testid":`daily-avg-${ee.period}`,children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:ee.label}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"In/day:"}),n.jsx("span",{className:"text-green-600 font-medium",children:Ie(ee.dailyAvgIn)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Out/day:"}),n.jsx("span",{className:"text-red-600 font-medium",children:Ie(ee.dailyAvgOut)})]}),n.jsx(Ln,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Net/day:"}),n.jsx("span",{className:`font-bold ${ee.netDailyAvg>=0?"text-green-600":"text-red-600"}`,children:Ye(ee.netDailyAvg)})]})]})]},ee.period))}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bridge data available"})})]}),n.jsxs(G,{"data-testid":"card-daily-chart",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(jc,{className:"h-5 w-5"}),"Daily Bridge Flow"]}),n.jsx(Ce,{children:"Daily in/out/net bridged amounts over time"})]}),n.jsx("div",{className:"flex gap-1",children:oge.map(ee=>n.jsx(re,{variant:d===ee.value?"default":"outline",size:"sm",onClick:()=>f(ee.value),"data-testid":`button-chart-range-${ee.value}`,children:ee.label},ee.value))})]}),n.jsxs(Q,{children:[R?n.jsx("div",{className:"flex items-center justify-center h-64","data-testid":"loading-chart",children:n.jsx(Ee,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):I&&I.length>0?n.jsx("div",{className:"h-[350px]","data-testid":"chart-area-container",children:n.jsx(zu,{width:"100%",height:"100%",children:n.jsxs(ige,{data:I,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorIn",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorOut",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(0, 84%, 60%)",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(0, 84%, 60%)",stopOpacity:0})]})]}),n.jsx(D6,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(AS,{dataKey:"date",tickFormatter:ee=>new Date(ee).toLocaleDateString("en-US",{month:"short",day:"numeric"}),className:"text-xs fill-muted-foreground"}),n.jsx(PS,{tickFormatter:ee=>ee>=1e6?`$${(ee/1e6).toFixed(1)}M`:ee>=1e3?`$${(ee/1e3).toFixed(0)}K`:`$${ee}`,className:"text-xs fill-muted-foreground"}),n.jsx(wg,{content:({active:ee,payload:de,label:at})=>{if(ee&&de&&de.length&&at){const ct=new Date(String(at));return n.jsxs("div",{className:"bg-popover border rounded-lg shadow-lg p-3 text-sm",children:[n.jsx("p",{className:"font-medium mb-2",children:ct.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-green-600",children:["In: ",Ie(de[0]?.value||0)]}),n.jsxs("p",{className:"text-red-600",children:["Out: ",Ie(de[1]?.value||0)]}),n.jsxs("p",{className:`font-medium ${(de[2]?.value||0)>=0?"text-blue-600":"text-orange-600"}`,children:["Net: ",Ye(de[2]?.value||0)]})]})]})}return null}}),n.jsx(_6,{y:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"3 3"}),n.jsx(Xh,{type:"monotone",dataKey:"in",stroke:"hsl(142, 76%, 36%)",fillOpacity:1,fill:"url(#colorIn)",name:"Bridged In"}),n.jsx(Xh,{type:"monotone",dataKey:"out",stroke:"hsl(0, 84%, 60%)",fillOpacity:1,fill:"url(#colorOut)",name:"Bridged Out"}),n.jsx(Xh,{type:"monotone",dataKey:"net",stroke:"hsl(217, 91%, 60%)",fill:"none",strokeWidth:2,strokeDasharray:"5 5",name:"Net Flow"})]})})}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bridge data available for chart"}),n.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Bridged In"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Bridged Out"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-0.5 bg-blue-500 border-dashed border-t-2 border-blue-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Net Flow"})]})]})]})]}),n.jsxs(G,{"data-testid":"card-value-distribution",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Nu,{className:"h-5 w-5"}),"DFK Chain Value Distribution"]}),n.jsx(Ce,{children:"Where bridged tokens are locked across LP pools, staking, and game contracts"})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>k(),disabled:A,"data-testid":"button-refresh-breakdown",children:[n.jsx(tt,{className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),"Refresh"]})]}),n.jsx(Q,{children:A?n.jsx("div",{className:"flex items-center justify-center h-64","data-testid":"loading-breakdown",children:n.jsx(Ee,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-4","data-testid":"error-breakdown",children:[n.jsx(qs,{className:"h-8 w-8 text-destructive"}),n.jsx("p",{children:"Failed to load value breakdown data"}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>k(),"data-testid":"button-retry-breakdown",children:[n.jsx(tt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):E?.summary?n.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[n.jsx("div",{className:"h-[280px] min-h-[250px]","data-testid":"chart-pie-container",children:n.jsx(zu,{width:"100%",height:"100%",children:n.jsxs(Og,{children:[n.jsx(If,{data:[{name:"LP Pools",value:E.summary.lpPoolsValue,fill:"hsl(217, 91%, 60%)"},{name:"Staking",value:E.summary.stakingValue,fill:"hsl(160, 84%, 39%)"},{name:"Bridges",value:E.summary.bridgeValue,fill:"hsl(38, 92%, 50%)"},{name:"System",value:E.summary.systemValue,fill:"hsl(263, 70%, 50%)"}].filter(ee=>ee.value>0),cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",label:({name:ee,percent:de})=>`${ee} ${(de*100).toFixed(0)}%`,labelLine:!1,children:[{name:"LP Pools",value:E.summary.lpPoolsValue,fill:"hsl(217, 91%, 60%)"},{name:"Staking",value:E.summary.stakingValue,fill:"hsl(160, 84%, 39%)"},{name:"Bridges",value:E.summary.bridgeValue,fill:"hsl(38, 92%, 50%)"},{name:"System",value:E.summary.systemValue,fill:"hsl(263, 70%, 50%)"}].filter(ee=>ee.value>0).map((ee,de)=>n.jsx(li,{fill:ee.fill},`cell-${de}`))}),n.jsx(jf,{wrapperStyle:{fontSize:"12px"}})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 bg-blue-500/10 dark:bg-blue-500/20 rounded-lg border border-blue-500/20","data-testid":"stat-lp-pools",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"LP Pools"}),n.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400","data-testid":"breakdown-lp",children:ce(E.summary.lpPoolsValue)})]}),n.jsxs("div",{className:"p-3 bg-green-500/10 dark:bg-green-500/20 rounded-lg border border-green-500/20","data-testid":"stat-staking",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Staking/Governance"}),n.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"breakdown-staking",children:ce(E.summary.stakingValue)})]}),n.jsxs("div",{className:"p-3 bg-amber-500/10 dark:bg-amber-500/20 rounded-lg border border-amber-500/20","data-testid":"stat-bridges",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridge Contracts"}),n.jsx("p",{className:"text-lg font-bold text-amber-600 dark:text-amber-400","data-testid":"breakdown-bridges",children:ce(E.summary.bridgeValue)})]}),n.jsxs("div",{className:"p-3 bg-violet-500/10 dark:bg-violet-500/20 rounded-lg border border-violet-500/20","data-testid":"stat-system",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"System Contracts"}),n.jsx("p",{className:"text-lg font-bold text-violet-600 dark:text-violet-400","data-testid":"breakdown-system",children:ce(E.summary.systemValue)})]})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{"data-testid":"stat-jewel-locked",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total JEWEL Locked"}),n.jsxs("p",{className:"font-semibold","data-testid":"breakdown-jewel",children:[E.summary.totalJewelLocked.toLocaleString()," JEWEL"]})]}),n.jsxs("div",{"data-testid":"stat-crystal-locked",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total CRYSTAL Locked"}),n.jsxs("p",{className:"font-semibold","data-testid":"breakdown-crystal",children:[E.summary.totalCrystalLocked.toLocaleString()," CRYSTAL"]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg","data-testid":"stat-tvl-summary",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value Locked (TVL)"}),n.jsx("span",{className:"text-xl font-bold","data-testid":"breakdown-tvl",children:ce(E.summary.totalValueUSD)})]}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs","data-testid":"text-prices",children:[n.jsxs("span",{className:"text-muted-foreground",children:["JEWEL: $",E.prices.jewel.toFixed(4)]}),E.prices.jewelSource&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${E.prices.jewelSource==="defillama"?"bg-green-500/20 text-green-600 dark:text-green-400":E.prices.jewelSource==="coingecko"?"bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-amber-500/20 text-amber-600 dark:text-amber-400"}`,"data-testid":"badge-jewel-source",children:E.prices.jewelSource})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs","data-testid":"text-crystal-price",children:[n.jsxs("span",{className:"text-muted-foreground",children:["CRYSTAL: $",E.prices.crystal.toFixed(4)]}),E.prices.crystalSource&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${E.prices.crystalSource==="defillama"?"bg-green-500/20 text-green-600 dark:text-green-400":E.prices.crystalSource==="coingecko"?"bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-amber-500/20 text-amber-600 dark:text-amber-400"}`,"data-testid":"badge-crystal-source",children:E.prices.crystalSource})]}),(E.prices.jewelSource==="fallback"||E.prices.crystalSource==="fallback")&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-amber-600 dark:text-amber-400","data-testid":"warning-fallback-prices",children:[n.jsx(qs,{className:"h-3 w-3"}),n.jsx("span",{children:"Using fallback prices - live data unavailable"})]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"text-updated",children:["Updated: ",new Date(E.timestamp).toLocaleString()]})]})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-2","data-testid":"empty-breakdown",children:[n.jsx(Nu,{className:"h-8 w-8 opacity-50"}),n.jsx("p",{children:"No value breakdown data available"})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{className:"text-lg",children:"Analyze Wallet"}),n.jsx(Ce,{children:"Enter a wallet address to index and analyze bridge activity"})]}),n.jsxs(Q,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ke,{placeholder:"0x...",value:t,onChange:ee=>r(ee.target.value),className:"font-mono","data-testid":"input-wallet-search"}),n.jsxs(re,{onClick:W,disabled:Y.isPending,"data-testid":"button-search-wallet",children:[n.jsx(Zs,{className:"h-4 w-4 mr-2"}),Y.isPending?"Indexing...":"Analyze"]})]}),a&&V&&n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsx(Ln,{}),V.summary?n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total In"}),n.jsx("p",{className:"text-xl font-semibold text-green-600",children:ce(V.summary.totalBridgedInUsd)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Out"}),n.jsx("p",{className:"text-xl font-semibold text-red-600",children:ce(V.summary.totalBridgedOutUsd)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Extracted"}),n.jsx("p",{className:`text-xl font-semibold ${parseFloat(V.summary.netExtractedUsd)>0?"text-orange-600":"text-green-600"}`,children:ce(V.summary.netExtractedUsd)})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No bridge activity found for this wallet"}),V.events.length>0&&n.jsx(Yi,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-2",children:V.events.map(ee=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[ee.direction==="in"?n.jsx(sp,{className:"h-4 w-4 text-green-500"}):n.jsx(ip,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",children:[ee.tokenSymbol," ",ee.bridgeType]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Lt(ee.blockTimestamp)})]})]}),n.jsxs("div",{className:"text-right",children:[ee.usdValue&&n.jsx("p",{className:`text-sm font-medium ${ee.direction==="in"?"text-green-600":"text-red-600"}`,children:ce(ee.usdValue)}),ee.amount&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[parseFloat(ee.amount).toFixed(2)," ",ee.tokenSymbol]})]})]},ee.id))})})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Nu,{className:"h-5 w-5 text-blue-500"}),"TVL Reconciliation"]}),n.jsx(Ce,{children:"Net bridge flows vs current TVL with pricing coverage analysis"})]}),n.jsx(Q,{children:_?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(ee=>n.jsx(Me,{className:"h-16 w-full"},ee))}):P?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:P.chains.map(ee=>n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50","data-testid":`chain-flow-${ee.chainId}`,children:[n.jsx("h4",{className:"font-semibold mb-2",children:ee.chainName}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Token IN:"}),n.jsxs("span",{className:"text-green-600",children:["$",(ee.tokenIn/1e6).toFixed(2),"M"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Token OUT:"}),n.jsxs("span",{className:"text-red-600",children:["$",(ee.tokenOut/1e6).toFixed(2),"M"]})]}),n.jsx(Ln,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Net Flow:"}),n.jsxs("span",{className:ee.netToken>=0?"text-green-600":"text-red-600",children:["$",(ee.netToken/1e6).toFixed(2),"M"]})]}),ee.currentTVL&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Current TVL:"}),n.jsxs("span",{children:["$",(ee.currentTVL/1e6).toFixed(2),"M"]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL Price:"}),n.jsxs("span",{children:["$",ee.jewelPrice?.toFixed(3)]})]})]}),n.jsx(Ln,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Heroes:"}),n.jsxs("span",{className:ee.netHeroes>=0?"text-green-600":"text-red-600",children:["+",ee.heroIn," / -",ee.heroOut," = ",ee.netHeroes>0?"+":"",ee.netHeroes]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Equipment:"}),n.jsxs("span",{className:ee.netEquipment>=0?"text-green-600":"text-red-600",children:["+",ee.equipmentIn," / -",ee.equipmentOut," = ",ee.netEquipment>0?"+":"",ee.netEquipment]})]})]})]},ee.chainId))}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[n.jsx(Ca,{className:"h-4 w-4"}),"Token Pricing Coverage",n.jsxs(U,{variant:"outline",children:[P.summary.overallCoverage,"%"]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:P.pricingCoverage.slice(0,10).map(ee=>n.jsxs("div",{className:"p-2 rounded bg-muted/30 text-xs","data-testid":`token-coverage-${ee.token}`,children:[n.jsx("div",{className:"font-medium",children:ee.token}),n.jsxs("div",{className:"text-muted-foreground",children:[ee.totalEvents.toLocaleString()," events"]}),n.jsxs("div",{className:parseFloat(ee.coverage)>=99?"text-green-600":parseFloat(ee.coverage)>=50?"text-yellow-600":"text-red-600",children:[ee.coverage,"% priced"]})]},ee.token))})]}),n.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-3 rounded",children:[n.jsx(qs,{className:"h-3 w-3 inline mr-1"}),P.summary.note]})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No reconciliation data available"})})})]}),n.jsxs(G,{children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Sc,{className:"h-5 w-5 text-orange-500"}),"Top Extractors"]}),n.jsx(Ce,{children:"Wallets with highest net value extracted from DFK Chain"})]}),n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg","data-testid":"time-range-filter",children:lge.map(ee=>n.jsx(re,{variant:l===ee.value?"default":"ghost",size:"sm",onClick:()=>c(ee.value),className:"h-7 px-3 text-xs font-medium","data-testid":`button-time-${ee.value}`,children:ee.label},ee.value))})]})}),n.jsx(Q,{children:w?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(ee=>n.jsx(Me,{className:"h-12 w-full"},ee))}):C.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"No extractors identified yet"}),n.jsx("p",{className:"text-sm",children:"Index some wallets to start tracking"})]}):n.jsx(Yi,{className:"h-[500px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-2 text-xs font-medium text-muted-foreground bg-muted/50 rounded-md",children:[n.jsx("div",{children:"Wallet"}),n.jsx("div",{children:"Summoner"}),n.jsx("div",{className:"text-right",children:"Bridged In"}),n.jsx("div",{className:"text-right",children:"Bridged Out"}),n.jsx("div",{className:"text-right",children:"Net Extracted"}),n.jsx("div",{className:"text-right",children:"Last Bridge Amt"}),n.jsx("div",{className:"text-center",children:"Flags"}),n.jsx("div",{className:"text-right",children:"Last Bridge"})]}),n.jsx(Ln,{}),C.map(ee=>{const de=parseFloat(ee.netExtractedUsd),at=ee.extractorFlags?.includes("heavy_extractor"),ct=ee.extractorFlags?.includes("net_extractor");return n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-3 text-sm items-center hover-elevate rounded-md cursor-pointer",onClick:()=>s(ee.wallet),"data-testid":`row-extractor-${ee.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gc,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${ee.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline flex items-center gap-1",onClick:ln=>ln.stopPropagation(),"data-testid":`link-wallet-${ee.id}`,children:[kt(ee.wallet),n.jsx(nr,{className:"h-3 w-3"})]})]}),n.jsx("div",{className:"text-xs text-primary font-medium truncate","data-testid":`text-summoner-${ee.id}`,children:ee.summonerName||"*"}),n.jsx("div",{className:"text-right text-green-600 font-medium",children:Ie(ee.totalBridgedInUsd)}),n.jsx("div",{className:"text-right text-red-600 font-medium",children:Ie(ee.totalBridgedOutUsd)}),n.jsx("div",{className:`text-right font-bold ${de>0?"text-amber-600":"text-foreground"}`,children:Ie(de)}),n.jsx("div",{className:"text-right text-muted-foreground",children:ee.lastBridgeAmountUsd?Ie(ee.lastBridgeAmountUsd):"-"}),n.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[at&&n.jsx(U,{variant:"destructive",className:"text-xs",children:"Heavy"}),ct&&!at&&n.jsx(U,{variant:"secondary",className:"text-xs",children:"Net"}),!at&&!ct&&n.jsx(U,{variant:"outline",className:"text-xs",children:"-"})]}),n.jsx("div",{className:"text-right text-muted-foreground text-xs",children:ee.lastBridgeAt?Lt(ee.lastBridgeAt):"-"})]},ee.id)})]})})})]})]})}const Rh={"LP Pools":"#22c55e","Staking/Governance":"#3b82f6","Bridge Contracts":"#f59e0b","System Contracts":"#8b5cf6"};function en(e){return e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}K`:`$${e.toFixed(2)}`}function Yt(e){return e>=1e9?`${(e/1e9).toFixed(2)}B`:e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(2)}function Mh(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function dge(){const[,e]=Ka(),{data:t,isLoading:r,refetch:a,isFetching:s}=ke({queryKey:["/api/admin/bridge/value-breakdown"],refetchInterval:3e5}),{data:l,isLoading:c,refetch:d}=ke({queryKey:["/api/admin/bridge/cex-liquidity"],refetchInterval:6e4}),f=()=>{_e.invalidateQueries({queryKey:["/api/admin/bridge/value-breakdown"]}),_e.invalidateQueries({queryKey:["/api/admin/bridge/cex-liquidity"]}),a(),d()},m=t?[{name:"LP Pools",value:t.summary.lpPoolsValue,color:Rh["LP Pools"]},{name:"Staking",value:t.summary.stakingValue,color:Rh["Staking/Governance"]},{name:"Bridges",value:t.summary.bridgeValue,color:Rh["Bridge Contracts"]},{name:"System",value:t.summary.systemValue,color:Rh["System Contracts"]}].filter(j=>j.value>0):[],h=m.reduce((j,C)=>j+C.value,0),g=({cx:j,cy:C,midAngle:E,innerRadius:A,outerRadius:T,percent:k,name:P})=>{if(k<.03)return null;const _=Math.PI/180,M=A+(T-A)*.5,X=j+M*Math.cos(-E*_),I=C+M*Math.sin(-E*_);return n.jsx("text",{x:X,y:I,fill:"white",textAnchor:"middle",dominantBaseline:"central",className:"text-xs font-medium",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:`${(k*100).toFixed(0)}%`})},v=t?.categories.find(j=>j.category==="LP Pools"),b=t?.categories.find(j=>j.category==="Staking/Governance"),w=t?.categories.find(j=>j.category==="Bridge Contracts"),y=t?.categories.find(j=>j.category==="System Contracts");return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"value-allocation-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Value Allocation"}),n.jsx("p",{className:"text-muted-foreground",children:"Complete breakdown of DFK Chain value distribution across LP pools, staking, bridges, and system contracts"})]}),n.jsxs(re,{onClick:f,disabled:s,variant:"outline","data-testid":"button-refresh",children:[n.jsx(tt,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),r?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Me,{className:"h-80"}),n.jsx(Me,{className:"h-80"})]}):t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(G,{"data-testid":"card-pie-chart",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Nu,{className:"w-5 h-5"}),"Value Distribution"]}),n.jsxs(Ce,{children:["Total Value Locked: ",en(t.summary.totalValueUSD)]})]}),n.jsx(Q,{children:n.jsx("div",{className:"h-64",children:n.jsx(zu,{width:"100%",height:"100%",children:n.jsxs(Og,{children:[n.jsx(If,{data:m,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",labelLine:!1,label:g,children:m.map((j,C)=>n.jsx(li,{fill:j.color,stroke:j.color},`cell-${C}`))}),n.jsx(wg,{formatter:j=>en(j),contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx(jf,{formatter:(j,C)=>{const E=m.find(T=>T.name===j),A=E&&h>0?(E.value/h*100).toFixed(1):"0";return n.jsxs("span",{className:"text-sm",children:[j," (",A,"%)"]})}})]})})})})]}),n.jsxs(G,{"data-testid":"card-summary",children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Summary"}),n.jsxs(Ce,{children:["Updated: ",new Date(t.timestamp).toLocaleString()]})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border","data-testid":"card-total-usd",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value Locked"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-total-usd",children:en(t.summary.totalValueUSD)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"LP Pools"}),n.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"text-lp-pools-value",children:en(t.summary.lpPoolsValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Staking"}),n.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"text-staking-value",children:en(t.summary.stakingValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridges"}),n.jsx("p",{className:"text-xl font-bold text-amber-500","data-testid":"text-bridges-value",children:en(t.summary.bridgeValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-violet-500/10 border border-violet-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"System"}),n.jsx("p",{className:"text-xl font-bold text-violet-500","data-testid":"text-system-value",children:en(t.summary.systemValue)})]})]}),n.jsxs("div",{className:"pt-4 border-t space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total JEWEL Locked"}),n.jsxs("span",{className:"font-medium",children:[Yt(t.summary.totalJewelLocked)," JEWEL"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total CRYSTAL Locked"}),n.jsxs("span",{className:"font-medium",children:[Yt(t.summary.totalCrystalLocked)," CRYSTAL"]})]}),n.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL Price"}),n.jsxs("span",{className:"font-medium",children:["$",t.prices.jewel.toFixed(4),n.jsx(U,{variant:"outline",className:"ml-2 text-xs",children:t.prices.jewelSource})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL Price"}),n.jsxs("span",{className:"font-medium",children:["$",t.prices.crystal.toFixed(4),n.jsx(U,{variant:"outline",className:"ml-2 text-xs",children:t.prices.crystalSource})]})]})]})]})]})]}),n.jsxs(G,{"data-testid":"card-token-prices",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"w-5 h-5 text-yellow-500"}),"Token Prices"]}),n.jsx(Ce,{children:"Current prices used for TVL calculations"})]}),n.jsx(Q,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:(t.tokenPrices??[]).map(j=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50","data-testid":`token-price-${j.symbol}`,children:[n.jsx("div",{className:"text-sm font-medium",children:j.symbol}),n.jsx("div",{className:"text-lg font-bold font-mono",children:j.price>=1?`$${j.price.toFixed(2)}`:`$${j.price.toFixed(4)}`}),n.jsx("div",{className:"text-xs text-muted-foreground",children:j.source})]},j.symbol))})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(G,{"data-testid":"card-jewel-supply",children:[n.jsxs(ae,{className:"pb-2",children:[n.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(q7,{className:"w-5 h-5 text-purple-500"}),"JEWEL Supply"]}),n.jsx(Ce,{children:"Official supply from DFK API"})]}),n.jsx(Q,{className:"space-y-3",children:t.jewelSupply?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Supply"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-total-supply",children:Yt(t.jewelSupply.totalSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Circulating"}),n.jsx("span",{className:"font-medium font-mono text-green-500","data-testid":"text-circulating-supply",children:Yt(t.jewelSupply.circulatingSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Locked (vesting)"}),n.jsx("span",{className:"font-medium font-mono text-blue-500","data-testid":"text-locked-supply",children:Yt(t.jewelSupply.lockedSupply)})]}),t.jewelSupply.burnedSupply>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx(cp,{className:"w-3 h-3 text-orange-500"}),"Burned"]}),n.jsx("span",{className:"font-medium font-mono text-orange-500","data-testid":"text-burned-supply",children:Yt(t.jewelSupply.burnedSupply)})]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Source: ",t.jewelSupply.source]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to fetch supply data"})})]}),n.jsxs(G,{"data-testid":"card-coverage-kpi",className:"cursor-pointer hover-elevate transition-all",onClick:()=>e("/admin/coverage-details"),children:[n.jsxs(ae,{className:"pb-2",children:[n.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(Rr,{className:"w-5 h-5 text-cyan-500"}),"Coverage KPI",n.jsxs(Su,{children:[n.jsx(Cu,{onClick:j=>j.stopPropagation(),children:n.jsx(xu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(hc,{className:"max-w-xs",children:n.jsx("p",{children:"Percentage of circulating JEWEL tracked across LP pools, staking, bridges, and system contracts. Click for detailed breakdown."})})]}),n.jsx(nr,{className:"w-4 h-4 text-muted-foreground ml-auto"})]}),n.jsx(Ce,{children:"Tracked JEWEL vs circulating supply"})]}),n.jsx(Q,{className:"space-y-3",children:t.coverageKPI?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-center",children:[n.jsxs("p",{className:"text-3xl font-bold text-cyan-500","data-testid":"text-coverage-ratio",children:[(t.coverageKPI.coverageRatio*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Coverage Ratio"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracked JEWEL"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-tracked-jewel",children:Yt(t.coverageKPI.trackedJewel)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Circulating"}),n.jsx("span",{className:"font-medium font-mono",children:Yt(t.coverageKPI.circulatingSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-amber-600",children:[n.jsx("span",{children:"Unaccounted"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-unaccounted-jewel",children:Yt(t.coverageKPI.unaccountedJewel)})]}),n.jsx("div",{className:"text-xs text-center text-muted-foreground mt-2",children:"Click for detailed breakdown"})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to calculate coverage"})})]}),n.jsxs(G,{"data-testid":"card-burn-ledger",children:[n.jsxs(ae,{className:"pb-2",children:[n.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(cp,{className:"w-5 h-5 text-orange-500"}),"Burn Ledger",n.jsxs(Su,{children:[n.jsx(Cu,{children:n.jsx(xu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(hc,{className:"max-w-xs",children:n.jsx("p",{children:"JEWEL permanently removed from circulation via burn addresses. Does NOT count toward value allocation."})})]})]}),n.jsx(Ce,{children:"Deflationary token burns"})]}),n.jsx(Q,{className:"space-y-3",children:t.burnData&&t.burnData.totalBurned>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 rounded-lg bg-orange-500/10 border border-orange-500/20 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-orange-500","data-testid":"text-total-burned",children:[Yt(t.burnData.totalBurned)," JEWEL"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",en(t.burnData.totalBurned*t.prices.jewel).replace("$","")," USD"]})]}),n.jsx("div",{className:"space-y-2",children:t.burnData.burnAddresses.map((j,C)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground font-mono text-xs",children:[j.address.slice(0,10),"..."]}),n.jsx("span",{className:"font-medium font-mono",children:Yt(j.balance)})]},j.address))}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Sources: ",t.burnData.sources.join(", ")]})]}):n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No burned JEWEL detected in standard burn addresses"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Burns may occur through other mechanisms"})]})})]})]}),n.jsxs(G,{"data-testid":"card-cex-liquidity",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"w-5 h-5 text-cyan-500"}),"CEX Liquidity (Off-Chain)",n.jsxs(Su,{children:[n.jsx(Cu,{children:n.jsx(xu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(hc,{className:"max-w-xs",children:n.jsxs("p",{children:["Order book depth within ",l?.depthBand||"2%"," of mid-price. This measures immediately tradable liquidity, not total CEX holdings."]})})]})]}),n.jsx(Ce,{children:"JEWEL order book depth on centralized exchanges"})]}),n.jsx(Q,{children:c?n.jsx(Me,{className:"h-32"}):l?n.jsxs("div",{className:"space-y-4",children:[l.failedCount===l.totalCount?n.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center gap-3",children:[n.jsx(rr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"All CEX APIs Failed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Unable to fetch order books from any exchange. Check API connectivity."})]})]}):l.totalLiquidityUSD===0?n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border flex items-center gap-3",children:[n.jsx(xu,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"No Active CEX Markets"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL is primarily traded on decentralized exchanges (DFK DEX, Trader Joe). CEX order books show no active liquidity."})]})]}):n.jsxs(n.Fragment,{children:[l.failedCount>0&&n.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20 flex items-center gap-2",children:[n.jsx(rr,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:[l.failedCount,"/",l.totalCount," exchanges failed. Totals may be incomplete."]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/20",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total CEX Liquidity (",l.depthBand,")"]}),n.jsx("p",{className:"text-2xl font-bold text-cyan-500","data-testid":"text-cex-liquidity-total",children:en(l.totalLiquidityUSD)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avg spread: ",l.averageSpread.toFixed(2),"%"]})]})]}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Exchange"}),n.jsx(q,{children:"Pair"}),n.jsx(q,{className:"text-right",children:"Mid Price"}),n.jsx(q,{className:"text-right",children:"Bid Depth"}),n.jsx(q,{className:"text-right",children:"Ask Depth"}),n.jsx(q,{className:"text-right",children:"Total"}),n.jsx(q,{className:"text-right",children:"Spread"})]})}),n.jsx(pt,{children:l.exchanges.map(j=>n.jsxs(Te,{"data-testid":`row-cex-${j.exchange}`,children:[n.jsx(B,{className:"font-medium",children:j.exchange}),n.jsx(B,{children:j.pair}),n.jsx(B,{className:"text-right font-mono",children:j.error?n.jsx(U,{variant:"outline",className:"text-red-500",children:"Error"}):`$${j.midPrice.toFixed(4)}`}),n.jsx(B,{className:"text-right font-mono text-green-500",children:j.error?"-":en(j.bidDepthUSD)}),n.jsx(B,{className:"text-right font-mono text-red-500",children:j.error?"-":en(j.askDepthUSD)}),n.jsx(B,{className:"text-right font-mono font-bold",children:j.error?"-":en(j.totalDepthUSD)}),n.jsx(B,{className:"text-right",children:j.error?"-":`${j.spreadPercent.toFixed(2)}%`})]},j.exchange))})]}),n.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Updated: ",new Date(l.updatedAt).toLocaleString()]})]}):n.jsxs("div",{className:"flex items-center justify-center p-8 text-muted-foreground",children:[n.jsx(rr,{className:"w-5 h-5 mr-2"}),"Failed to load CEX data"]})})]}),n.jsxs(G,{"data-testid":"card-lp-pools",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"w-5 h-5 text-green-500"}),"LP Pools Staked Value (V2 + V1)"]}),n.jsx(Ce,{children:"Value of LP tokens staked in Master Gardener V2 and legacy V1 contracts"})]}),n.jsx(Q,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Pool"}),n.jsx(q,{className:"text-right text-green-400",children:"24hr APR"}),n.jsx(q,{children:"Contract"}),n.jsx(q,{className:"text-right",children:"Staked Token 0"}),n.jsx(q,{className:"text-right",children:"Staked Token 1"}),n.jsx(q,{className:"text-right text-blue-400",children:"V2 Value"}),n.jsx(q,{className:"text-right text-amber-400",children:"V1 Value"}),n.jsx(q,{className:"text-right",children:"Total Staked"})]})}),n.jsxs(pt,{children:[(v?.contracts??[]).map(j=>n.jsxs(Te,{"data-testid":`row-lp-${j.name}`,className:j.pid!==void 0?"cursor-pointer hover-elevate":"",onClick:()=>j.pid!==void 0&&e(`/admin/pools/${j.pid}`),children:[n.jsx(B,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{variant:"secondary",className:"font-mono text-xs",children:j.token0Symbol||"TOKEN0"}),n.jsx("span",{className:"text-muted-foreground",children:"/"}),n.jsx(U,{variant:"secondary",className:"font-mono text-xs",children:j.token1Symbol||"TOKEN1"})]})}),n.jsx(B,{className:"text-right font-mono text-sm text-green-400",children:j.passive24hAPR!=null?`${j.passive24hAPR.toFixed(2)}%`:"-"}),n.jsx(B,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${j.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",onClick:C=>C.stopPropagation(),children:[Mh(j.address),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(B,{className:"text-right font-mono text-sm",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{children:Yt(j.token0Balance||0)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:j.token0Symbol})]})}),n.jsx(B,{className:"text-right font-mono text-sm",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{children:Yt(j.token1Balance||0)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:j.token1Symbol})]})}),n.jsx(B,{className:"text-right text-sm text-blue-400 font-mono",children:en(j.v2ValueUSD||0)}),n.jsx(B,{className:"text-right text-sm text-amber-400 font-mono",children:en(j.v1ValueUSD||0)}),n.jsx(B,{className:"text-right font-medium",children:en(j.totalValueUSD)})]},j.address)),n.jsxs(Te,{className:"bg-green-500/5 font-medium",children:[n.jsx(B,{colSpan:5,children:"Total Staked LP"}),n.jsx(B,{className:"text-right text-blue-400",children:en((v?.contracts??[]).reduce((j,C)=>j+(C.v2ValueUSD||0),0))}),n.jsx(B,{className:"text-right text-amber-400",children:en((v?.contracts??[]).reduce((j,C)=>j+(C.v1ValueUSD||0),0))}),n.jsx(B,{className:"text-right text-green-500",children:en(v?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(G,{"data-testid":"card-staking",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Nb,{className:"w-5 h-5 text-blue-500"}),"Staking / Governance Breakdown"]}),n.jsx(Ce,{children:"Locked tokens in governance and staking contracts"})]}),n.jsx(Q,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Contract Name"}),n.jsx(q,{children:"Address"}),n.jsx(q,{className:"text-right",children:"JEWEL"}),n.jsx(q,{className:"text-right",children:"CRYSTAL"}),n.jsx(q,{className:"text-right",children:"Total USD"})]})}),n.jsxs(pt,{children:[(b?.contracts??[]).map(j=>n.jsxs(Te,{"data-testid":`row-staking-${j.name}`,children:[n.jsx(B,{className:"font-medium",children:j.name}),n.jsx(B,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${j.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Mh(j.address),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(B,{className:"text-right font-mono text-sm",children:Yt(j.jewelBalance)}),n.jsx(B,{className:"text-right font-mono text-sm",children:Yt(j.crystalBalance)}),n.jsx(B,{className:"text-right font-medium",children:en(j.totalValueUSD)})]},j.address)),n.jsxs(Te,{className:"bg-blue-500/5 font-medium",children:[n.jsx(B,{colSpan:2,children:"Total Staking"}),n.jsx(B,{className:"text-right font-mono",children:Yt(b?.totalJewel||0)}),n.jsx(B,{className:"text-right font-mono",children:Yt(b?.totalCrystal||0)}),n.jsx(B,{className:"text-right text-blue-500",children:en(b?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(G,{"data-testid":"card-bridges",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(bc,{className:"w-5 h-5 text-amber-500"}),"Bridge Contracts Breakdown"]}),n.jsx(Ce,{children:"Tokens held in cross-chain bridge contracts"})]}),n.jsx(Q,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Contract Name"}),n.jsx(q,{children:"Address"}),n.jsx(q,{className:"text-right",children:"JEWEL"}),n.jsx(q,{className:"text-right",children:"CRYSTAL"}),n.jsx(q,{className:"text-right",children:"Total USD"})]})}),n.jsxs(pt,{children:[(w?.contracts??[]).map(j=>n.jsxs(Te,{"data-testid":`row-bridge-${j.name}`,children:[n.jsx(B,{className:"font-medium",children:j.name}),n.jsx(B,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${j.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Mh(j.address),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(B,{className:"text-right font-mono text-sm",children:Yt(j.jewelBalance)}),n.jsx(B,{className:"text-right font-mono text-sm",children:Yt(j.crystalBalance)}),n.jsx(B,{className:"text-right font-medium",children:en(j.totalValueUSD)})]},j.address)),n.jsxs(Te,{className:"bg-amber-500/5 font-medium",children:[n.jsx(B,{colSpan:2,children:"Total Bridges"}),n.jsx(B,{className:"text-right font-mono",children:Yt(w?.totalJewel||0)}),n.jsx(B,{className:"text-right font-mono",children:Yt(w?.totalCrystal||0)}),n.jsx(B,{className:"text-right text-amber-500",children:en(w?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(G,{"data-testid":"card-system",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(fM,{className:"w-5 h-5 text-violet-500"}),"System Contracts Breakdown"]}),n.jsx(Ce,{children:"Tokens held in game system and operational contracts"})]}),n.jsx(Q,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Contract Name"}),n.jsx(q,{children:"Address"}),n.jsx(q,{className:"text-right",children:"JEWEL"}),n.jsx(q,{className:"text-right",children:"CRYSTAL"}),n.jsx(q,{className:"text-right",children:"Total USD"})]})}),n.jsxs(pt,{children:[(y?.contracts??[]).map(j=>n.jsxs(Te,{"data-testid":`row-system-${j.name}`,children:[n.jsx(B,{className:"font-medium",children:j.name}),n.jsx(B,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${j.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Mh(j.address),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(B,{className:"text-right font-mono text-sm",children:Yt(j.jewelBalance)}),n.jsx(B,{className:"text-right font-mono text-sm",children:Yt(j.crystalBalance)}),n.jsx(B,{className:"text-right font-medium",children:en(j.totalValueUSD)})]},j.address)),n.jsxs(Te,{className:"bg-violet-500/5 font-medium",children:[n.jsx(B,{colSpan:2,children:"Total System"}),n.jsx(B,{className:"text-right font-mono",children:Yt(y?.totalJewel||0)}),n.jsx(B,{className:"text-right font-mono",children:Yt(y?.totalCrystal||0)}),n.jsx(B,{className:"text-right text-violet-500",children:en(y?.totalValueUSD||0)})]})]})]})})]})]}):n.jsx(G,{children:n.jsx(Q,{className:"py-10 text-center text-muted-foreground",children:"Failed to load value breakdown data"})})]})}const Vr={"LP Pools":"#22c55e","Staking/Governance":"#3b82f6","Bridge Contracts":"#f59e0b","System Contracts":"#8b5cf6","Multi-Chain":"#ec4899",Burned:"#ef4444","Team Wallets":"#a855f7",Liquid:"#06b6d4",Unaccounted:"#6b7280"};function Fs(e){return e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(2)}function uge(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function fge(){const[,e]=Ka(),{data:t,isLoading:r,refetch:a,isFetching:s}=ke({queryKey:["/api/admin/bridge/value-breakdown"],staleTime:6e4,refetchOnWindowFocus:!1}),l=[];let c=0;if(t){const m=t.coverageBreakdown;if(t.coverageKPI,m){if(m.pooled.total>0){const g=[];if(m.pooled.contracts&&m.pooled.contracts.length>0)for(const v of m.pooled.contracts)g.push({name:`[${v.chain}] ${v.name}`,address:v.address,jewel:v.jewelReserves});l.push({name:"LP Pools (Full Reserves)",jewel:m.pooled.total,percentage:0,icon:Tu,color:Vr["LP Pools"],contracts:g.sort((v,b)=>b.jewel-v.jewel)}),c+=m.pooled.total}if(m.locked.total>0){const g=[];m.locked.cJewel>0&&g.push({name:"cJEWEL (Staking)",address:"0x9ed2c155632C042CB8bC20634571fF1CA26f5742",jewel:m.locked.cJewel}),m.locked.systemContracts>0&&g.push({name:"System Contracts",address:"Various",jewel:m.locked.systemContracts}),l.push({name:"Locked JEWEL (DFK Chain)",jewel:m.locked.total,percentage:0,icon:Nb,color:Vr["Staking/Governance"],contracts:g.sort((v,b)=>b.jewel-v.jewel)}),c+=m.locked.total}if(m.locked.bridgeContracts>0&&l.push({name:"Bridge Contracts (Ref Only)",jewel:m.locked.bridgeContracts,percentage:0,icon:bc,color:Vr["Bridge Contracts"],contracts:[{name:"Synapse Bridge (DFK)",address:"0x52285D426120aB91F378B3dF4A15a036A62200aE",jewel:m.locked.bridgeContracts}],excludedFromTotal:!0}),m.multiChain.total>0){const g=[];if(m.multiChain.wallets&&m.multiChain.wallets.length>0)for(const v of m.multiChain.wallets)g.push({name:`[${v.chain}] ${v.name}`,address:v.address,jewel:v.jewelBalance});else m.multiChain.harmonyBridge>0&&g.push({name:"Harmony Bridge",address:"Harmony Chain",jewel:m.multiChain.harmonyBridge}),m.multiChain.kaiaBridge>0&&g.push({name:"Kaia Bridge",address:"Kaia Chain",jewel:m.multiChain.kaiaBridge}),m.multiChain.metisBridge>0&&g.push({name:"Metis Bridge",address:"Metis Chain",jewel:m.multiChain.metisBridge}),m.multiChain.avalancheBridge>0&&g.push({name:"Avalanche Bridge",address:"Avalanche C-Chain",jewel:m.multiChain.avalancheBridge});l.push({name:"Multi-Chain Bridges (Liquid)",jewel:m.multiChain.total,percentage:0,icon:_P,color:Vr["Multi-Chain"],contracts:g.sort((v,b)=>b.jewel-v.jewel)}),c+=m.multiChain.total}if(m.burned.total>0){const g=m.burned.addresses.map(v=>({name:v.address==="0x0000000000000000000000000000000000000000"?"Zero Address":v.address.toLowerCase().includes("dead")?"Dead Address":"Burn Address",address:v.address,jewel:v.balance}));l.push({name:"Burned JEWEL",jewel:m.burned.total,percentage:0,icon:cp,color:Vr.Burned,contracts:g.sort((v,b)=>b.jewel-v.jewel)}),c+=m.burned.total}if(m.teamWallets&&m.teamWallets.total>0){const g=[];for(const v of m.teamWallets.categories)for(const b of v.wallets)b.balance>0&&g.push({name:`[${v.name}] ${b.name}`,address:b.address,jewel:b.balance});l.push({name:"Team Wallets",jewel:m.teamWallets.total,percentage:0,icon:Lr,color:Vr["Team Wallets"],contracts:g.sort((v,b)=>b.jewel-v.jewel)}),c+=m.teamWallets.total}m.liquid.estimated>0&&(l.push({name:"Liquid JEWEL (Est.)",jewel:m.liquid.estimated,percentage:0,icon:Gc,color:Vr.Liquid,contracts:[{name:"User Wallets & CEX",address:"Various",jewel:m.liquid.estimated}]}),c+=m.liquid.estimated)}else{const g=t.categories.find(y=>y.category==="LP Pools");if(g){let y=0;const j=[];for(const C of g.contracts){let E=0;C.token0Symbol==="wJEWEL"&&(E+=C.token0Balance||0),C.token1Symbol==="wJEWEL"&&(E+=C.token1Balance||0),E>0&&(y+=E,j.push({name:C.name,address:C.address,jewel:E}))}y>0&&(l.push({name:"LP Pools (wJEWEL)",jewel:y,percentage:0,icon:Tu,color:Vr["LP Pools"],contracts:j.sort((C,E)=>E.jewel-C.jewel)}),c+=y)}const v=t.categories.find(y=>y.category==="Staking/Governance");v&&v.totalJewel>0&&(l.push({name:"Staking (cJEWEL)",jewel:v.totalJewel,percentage:0,icon:Nb,color:Vr["Staking/Governance"],contracts:v.contracts.filter(y=>y.jewelBalance>0).map(y=>({name:y.name,address:y.address,jewel:y.jewelBalance})).sort((y,j)=>j.jewel-y.jewel)}),c+=v.totalJewel);const b=t.categories.find(y=>y.category==="Bridge Contracts");b&&b.totalJewel>0&&(l.push({name:"Bridge Contracts",jewel:b.totalJewel,percentage:0,icon:bc,color:Vr["Bridge Contracts"],contracts:b.contracts.filter(y=>y.jewelBalance>0).map(y=>({name:y.name,address:y.address,jewel:y.jewelBalance})).sort((y,j)=>j.jewel-y.jewel)}),c+=b.totalJewel);const w=t.categories.find(y=>y.category==="System Contracts");if(w&&w.totalJewel>0&&(l.push({name:"System Contracts",jewel:w.totalJewel,percentage:0,icon:fM,color:Vr["System Contracts"],contracts:w.contracts.filter(y=>y.jewelBalance>0).map(y=>({name:y.name,address:y.address,jewel:y.jewelBalance})).sort((y,j)=>j.jewel-y.jewel)}),c+=w.totalJewel),t.multiChainBalances&&t.multiChainBalances.length>0){let y=0;const j=[];for(const C of t.multiChainBalances)if(C.status==="success"){const E=C.totalJewel;E>0&&(y+=E,j.push({name:`${C.chain} (Bridge)`,address:C.tokenAddress,jewel:E}))}y>0&&(l.push({name:"Multi-Chain Bridges (Liquid)",jewel:y,percentage:0,icon:_P,color:Vr["Multi-Chain"],contracts:j.sort((C,E)=>E.jewel-C.jewel)}),c+=y)}}const h=t.jewelSupply?.circulatingSupply||c;for(const g of l)g.percentage=h>0?g.jewel/h*100:0}const d=l.filter(m=>!m.excludedFromTotal).map(m=>({name:m.name,value:m.jewel,color:m.color})),f=()=>{_e.invalidateQueries({queryKey:["/api/admin/bridge/value-breakdown"]}),a()};return r?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Me,{className:"h-8 w-8"}),n.jsx(Me,{className:"h-8 w-64"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Me,{className:"h-[400px]"}),n.jsx(Me,{className:"h-[400px]"})]})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon","data-testid":"button-back",onClick:()=>e("/admin/value-allocation"),children:n.jsx(Zi,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Rr,{className:"w-6 h-6 text-cyan-500"}),"Coverage Breakdown"]}),n.jsx("p",{className:"text-muted-foreground",children:"Detailed view of tracked JEWEL across all sources"})]})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:f,disabled:s,"data-testid":"button-refresh",children:[n.jsx(tt,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),t?.coverageKPI&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(G,{"data-testid":"card-coverage-ratio",children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-4xl font-bold text-cyan-500",children:[(t.coverageKPI.coverageRatio*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coverage Ratio"})]})})}),n.jsx(G,{"data-testid":"card-tracked-total",children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-500 font-mono",children:Fs(t.coverageKPI.trackedJewel)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tracked JEWEL"})]})})}),n.jsx(G,{"data-testid":"card-circulating",children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold font-mono",children:Fs(t.coverageKPI.circulatingSupply)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Circulating Supply"})]})})}),n.jsx(G,{"data-testid":"card-unaccounted",children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-500 font-mono",children:Fs(t.coverageKPI.unaccountedJewel)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Unaccounted"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(G,{"data-testid":"card-distribution-chart",children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"JEWEL Distribution by Source"}),n.jsx(Ce,{children:"Visual breakdown of tracked JEWEL across categories"})]}),n.jsx(Q,{children:n.jsx("div",{className:"h-[350px]",children:n.jsx(zu,{width:"100%",height:"100%",children:n.jsxs(Og,{children:[n.jsx(If,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,dataKey:"value",nameKey:"name",label:({name:m,percent:h})=>`${(m||"").split(" ")[0]} ${((h||0)*100).toFixed(0)}%`,labelLine:!1,children:d.map((m,h)=>n.jsx(li,{fill:m.color},`cell-${h}`))}),n.jsx(wg,{formatter:m=>[Fs(m),"JEWEL"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx(jf,{})]})})})})]}),n.jsxs(G,{"data-testid":"card-source-breakdown",children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Breakdown by Source"}),n.jsx(Ce,{children:"JEWEL allocation across different contract types"})]}),n.jsxs(Q,{className:"space-y-4",children:[l.filter(m=>!m.excludedFromTotal).map(m=>{const h=m.icon;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),n.jsx(h,{className:"w-4 h-4",style:{color:m.color}}),n.jsx("span",{className:"font-medium",children:m.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-mono font-medium",children:Fs(m.jewel)}),n.jsxs(U,{variant:"secondary",className:"ml-2",children:[m.percentage.toFixed(1),"%"]})]})]}),n.jsx(Ut,{value:m.percentage,className:"h-2",style:{"--progress-color":m.color}})]},m.name)}),l.filter(m=>m.excludedFromTotal).map(m=>{const h=m.icon;return n.jsxs("div",{className:"space-y-2 pt-2 border-t border-dashed opacity-70",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-dashed",style:{borderColor:m.color}}),n.jsx(h,{className:"w-4 h-4",style:{color:m.color}}),n.jsx("span",{className:"font-medium",children:m.name}),n.jsx(U,{variant:"outline",className:"text-xs",children:"Excluded"})]}),n.jsx("div",{className:"text-right",children:n.jsx("span",{className:"font-mono font-medium text-muted-foreground",children:Fs(m.jewel)})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Already counted in multi-chain totals (bridged to other chains)"})]},m.name)}),t?.coverageKPI&&t.coverageKPI.unaccountedJewel>0&&n.jsx("div",{className:"space-y-2 pt-2 border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Vr.Unaccounted}}),n.jsx("span",{className:"font-medium text-muted-foreground",children:"Unaccounted"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-mono font-medium text-amber-500",children:Fs(t.coverageKPI.unaccountedJewel)}),n.jsxs(U,{variant:"outline",className:"ml-2 border-amber-500/50 text-amber-500",children:[(t.coverageKPI.unaccountedJewel/t.coverageKPI.circulatingSupply*100).toFixed(1),"%"]})]})]})})]})]})]}),n.jsx("div",{className:"space-y-6",children:l.map(m=>{const h=m.icon;return n.jsxs(G,{"data-testid":`card-contracts-${m.name.toLowerCase().replace(/[^a-z]/g,"-")}`,children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(h,{className:"w-5 h-5",style:{color:m.color}}),m.name,n.jsxs(U,{style:{backgroundColor:m.color,color:"white"},children:[Fs(m.jewel)," JEWEL"]})]}),n.jsxs(Ce,{children:[m.contracts.length," contract",m.contracts.length!==1?"s":""," tracked"]})]}),n.jsx(Q,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Contract"}),n.jsx(q,{children:"Address"}),n.jsx(q,{className:"text-right",children:"JEWEL"}),n.jsx(q,{className:"text-right",children:"% of Source"})]})}),n.jsxs(pt,{children:[m.contracts.slice(0,10).map(g=>n.jsxs(Te,{children:[n.jsx(B,{className:"font-medium",children:g.name}),n.jsx(B,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${g.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground",children:[n.jsx("span",{className:"font-mono text-sm",children:uge(g.address)}),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(B,{className:"text-right font-mono",children:Fs(g.jewel)}),n.jsx(B,{className:"text-right",children:n.jsxs(U,{variant:"outline",children:[(g.jewel/m.jewel*100).toFixed(1),"%"]})})]},g.address)),m.contracts.length>10&&n.jsx(Te,{children:n.jsxs(B,{colSpan:4,className:"text-center text-muted-foreground",children:["... and ",m.contracts.length-10," more contracts"]})})]})]})})]},m.name)})}),t&&n.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Last updated: ",new Date(t.timestamp).toLocaleString()," | JEWEL Price: $",t.prices.jewel.toFixed(4)," (",t.prices.jewelSource,")"]})]})}function iF(e){const t=mge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(pge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function mge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=gge(s),d=xge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hge=Symbol("radix.slottable");function pge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hge}function xge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function gge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ff=vge.reduce((e,t)=>{const r=iF(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),kg="Dialog",[lF,oF]=gr(kg),[yge,Ga]=lF(kg),cF=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,d=p.useRef(null),f=p.useRef(null),[m,h]=ta({prop:a,defaultProp:s??!1,onChange:l,caller:kg});return n.jsx(yge,{scope:t,triggerRef:d,contentRef:f,contentId:Ba(),titleId:Ba(),descriptionId:Ba(),open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(g=>!g),[h]),modal:c,children:r})};cF.displayName=kg;var dF="DialogTrigger",uF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ga(dF,r),l=it(t,s.triggerRef);return n.jsx(Ff.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":MS(s.open),...a,ref:l,onClick:ze(e.onClick,s.onOpenToggle)})});uF.displayName=dF;var _S="DialogPortal",[jge,fF]=lF(_S,{forceMount:void 0}),mF=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,l=Ga(_S,t);return n.jsx(jge,{scope:t,forceMount:r,children:p.Children.map(a,c=>n.jsx(aa,{present:r||l.open,children:n.jsx(gx,{asChild:!0,container:s,children:c})}))})};mF.displayName=_S;var hx="DialogOverlay",hF=p.forwardRef((e,t)=>{const r=fF(hx,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=Ga(hx,e.__scopeDialog);return l.modal?n.jsx(aa,{present:a||l.open,children:n.jsx(Nge,{...s,ref:t})}):null});hF.displayName=hx;var bge=iF("DialogOverlay.RemoveScroll"),Nge=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ga(hx,r);return n.jsx(ww,{as:bge,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(Ff.div,{"data-state":MS(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),co="DialogContent",pF=p.forwardRef((e,t)=>{const r=fF(co,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=Ga(co,e.__scopeDialog);return n.jsx(aa,{present:a||l.open,children:l.modal?n.jsx(wge,{...s,ref:t}):n.jsx(Sge,{...s,ref:t})})});pF.displayName=co;var wge=p.forwardRef((e,t)=>{const r=Ga(co,e.__scopeDialog),a=p.useRef(null),s=it(t,r.contentRef,a);return p.useEffect(()=>{const l=a.current;if(l)return kD(l)},[]),n.jsx(xF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,l=>l.preventDefault())})}),Sge=p.forwardRef((e,t)=>{const r=Ga(co,e.__scopeDialog),a=p.useRef(!1),s=p.useRef(!1);return n.jsx(xF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),xF=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,...c}=e,d=Ga(co,r),f=p.useRef(null),m=it(t,f);return AD(),n.jsxs(n.Fragment,{children:[n.jsx(Nw,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l,children:n.jsx(af,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":MS(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Ege,{titleId:d.titleId}),n.jsx(Pge,{contentRef:f,descriptionId:d.descriptionId})]})]})}),RS="DialogTitle",gF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ga(RS,r);return n.jsx(Ff.h2,{id:s.titleId,...a,ref:t})});gF.displayName=RS;var vF="DialogDescription",yF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ga(vF,r);return n.jsx(Ff.p,{id:s.descriptionId,...a,ref:t})});yF.displayName=vF;var jF="DialogClose",bF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ga(jF,r);return n.jsx(Ff.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});bF.displayName=jF;function MS(e){return e?"open":"closed"}var NF="DialogTitleWarning",[Cge,wF]=YU(NF,{contentName:co,titleName:RS,docsSlug:"dialog"}),Ege=({titleId:e})=>{const t=wF(NF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Age="DialogDescriptionWarning",Pge=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wF(Age).contentName}}.`;return p.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},SF=cF,CF=uF,EF=mF,DS=hF,LS=pF,IS=gF,$S=yF,FS=bF;const Ys=SF,AF=CF,Tge=EF,PF=p.forwardRef(({className:e,...t},r)=>n.jsx(DS,{ref:r,className:Le("fixed inset-0 z-[9998] bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));PF.displayName=DS.displayName;const ss=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Tge,{children:[n.jsx(PF,{}),n.jsxs(LS,{ref:a,style:{backgroundColor:"hsl(220, 13%, 20%)"},className:Le("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(FS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ow,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ss.displayName=LS.displayName;const is=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});is.displayName="DialogHeader";const cl=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cl.displayName="DialogFooter";const ls=p.forwardRef(({className:e,...t},r)=>n.jsx(IS,{ref:r,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));ls.displayName=IS.displayName;const os=p.forwardRef(({className:e,...t},r)=>n.jsx($S,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));os.displayName=$S.displayName;const Oge=["draft","validated","deployed","deprecated"],kge=["tiered","binary","milestone"],_ge={hero_progression:kr,economy_strategy:_r,profession_specialization:lM,ownership_collection:Xs,behavior_engagement:Lr,seasonal_events:nw,prestige_overall:sw,summoning_prestige:uo},Rge={draft:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",validated:"bg-blue-500/20 text-blue-500 border-blue-500/30",deployed:"bg-green-500/20 text-green-500 border-green-500/30",deprecated:"bg-gray-500/20 text-gray-500 border-gray-500/30"},TF={draft:el,validated:rw,deployed:aw,deprecated:fc};function Mge({state:e}){const t=Rge[e]||"bg-muted text-muted-foreground",r=TF[e]||rr;return n.jsxs(U,{variant:"outline",className:`text-xs ${t} gap-1`,"data-testid":`badge-state-${e}`,children:[n.jsx(r,{className:"w-3 h-3"}),e.toUpperCase()]})}function Dge(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Me,{className:"h-10 w-64"}),n.jsx(Me,{className:"h-10 w-32"}),n.jsx(Me,{className:"h-10 w-32"}),n.jsx(Me,{className:"h-10 w-32"})]}),n.jsx(G,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>n.jsx(Me,{className:"h-12 w-full"},e))})})})]})}function Lge(){const[,e]=Ka(),{toast:t}=Zt(),[r,a]=p.useState(""),[s,l]=p.useState(""),[c,d]=p.useState(""),[f,m]=p.useState(""),[h,g]=p.useState(null),[v,b]=p.useState(!1),w=()=>{const P=new URLSearchParams;s&&P.append("state",s),c&&P.append("category",c),f&&P.append("type",f),r&&P.append("search",r);const _=P.toString();return _?`?${_}`:""},{data:y,isLoading:j,error:C}=ke({queryKey:["/api/admin/challenges",s,c,f,r],queryFn:async()=>{const P=await fetch(`/api/admin/challenges${w()}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch challenges");return P.json()}}),{data:E}=ke({queryKey:["/api/admin/challenge-categories"],queryFn:async()=>{const P=await fetch("/api/admin/challenge-categories",{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch categories");return P.json()}}),A=Oe({mutationFn:async P=>{const _=await fetch(`/api/admin/challenges/${P}`,{method:"DELETE",credentials:"include"});if(!_.ok)throw new Error("Failed to delete challenge");return _.json()},onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/challenges"]}),t({title:"Challenge deprecated",description:"The challenge has been marked as deprecated."}),g(null)},onError:P=>{t({title:"Error",description:P.message,variant:"destructive"})}}),T=Oe({mutationFn:async()=>{const P=await fetch("/api/admin/etl/trigger",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"incremental"})});if(!P.ok)throw new Error("Failed to trigger ETL");return P.json()},onSuccess:P=>{P.success===!1?t({title:"ETL Not Started",description:P.message||"ETL could not be started",variant:"destructive"}):t({title:"ETL Complete",description:P.message||"Challenge progress updated from blockchain data"})},onError:P=>{t({title:"ETL Failed",description:P.message,variant:"destructive"})}}),k={draft:y?.filter(P=>P.state==="draft").length||0,validated:y?.filter(P=>P.state==="validated").length||0,deployed:y?.filter(P=>P.state==="deployed").length||0,deprecated:y?.filter(P=>P.state==="deprecated").length||0};return j?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Challenge Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading challenges..."})]}),n.jsx(Dge,{})]}):C?n.jsx("div",{className:"p-6",children:n.jsx(G,{className:"border-destructive",children:n.jsxs(ae,{children:[n.jsx(ie,{className:"text-destructive",children:"Error Loading Challenges"}),n.jsx(Ce,{children:C instanceof Error?C.message:"Failed to load challenges"})]})})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Challenge Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage challenge definitions, validation, and deployment"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(re,{variant:"outline",onClick:()=>T.mutate(),disabled:T.isPending,"data-testid":"button-refresh-etl",children:[T.isPending?n.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(tt,{className:"w-4 h-4 mr-2"}),"Refresh Progress"]}),n.jsxs(re,{onClick:()=>b(!0),"data-testid":"button-create-challenge",children:[n.jsx(Ji,{className:"w-4 h-4 mr-2"}),"New Challenge"]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Oge.map(P=>{const _=TF[P],M=k[P];return n.jsx(G,{className:`cursor-pointer hover-elevate ${s===P?"ring-2 ring-primary":""}`,onClick:()=>l(s===P?"":P),"data-testid":`card-state-filter-${P}`,children:n.jsx(ae,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ie,{className:"text-sm font-medium capitalize flex items-center gap-2",children:[n.jsx(_,{className:"w-4 h-4"}),P]}),n.jsx(U,{variant:"secondary",children:M})]})})},P)})}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[n.jsx(Zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Search by code or name...",value:r,onChange:P=>a(P.target.value),className:"pl-10","data-testid":"input-search"})]}),n.jsxs(Ze,{value:c||"all",onValueChange:P=>d(P==="all"?"":P),children:[n.jsx(Qe,{className:"w-[180px]","data-testid":"select-category",children:n.jsx(Je,{placeholder:"All Categories"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"all",children:"All Categories"}),E?.map(P=>n.jsx(se,{value:P.key,children:P.name},P.key))]})]}),n.jsxs(Ze,{value:f||"all",onValueChange:P=>m(P==="all"?"":P),children:[n.jsx(Qe,{className:"w-[150px]","data-testid":"select-type",children:n.jsx(Je,{placeholder:"All Types"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"all",children:"All Types"}),kge.map(P=>n.jsx(se,{value:P,children:P},P))]})]}),(s||c||f||r)&&n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{l(""),d(""),m(""),a("")},"data-testid":"button-clear-filters",children:"Clear Filters"})]}),n.jsx(G,{children:n.jsx(Q,{className:"p-0",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-[200px]",children:"Code"}),n.jsx(q,{children:"Name"}),n.jsx(q,{children:"Category"}),n.jsx(q,{children:"Type"}),n.jsx(q,{children:"State"}),n.jsx(q,{children:"Visibility"}),n.jsx(q,{className:"text-right",children:"Actions"})]})}),n.jsxs(pt,{children:[y?.length===0&&n.jsx(Te,{children:n.jsx(B,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No challenges found. Create your first challenge!"})}),y?.map(P=>{const _=_ge[P.category]||Zr;return n.jsxs(Te,{"data-testid":`row-challenge-${P.id}`,children:[n.jsx(B,{className:"font-mono text-sm",children:P.code}),n.jsx(B,{className:"font-medium",children:P.name}),n.jsx(B,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:P.category})]})}),n.jsx(B,{children:n.jsx(U,{variant:"outline",className:"text-xs",children:P.type})}),n.jsx(B,{children:n.jsx(Mge,{state:P.state})}),n.jsx(B,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[P.isVisibleFe?n.jsxs(U,{variant:"secondary",className:"text-xs gap-1",children:[n.jsx(Nc,{className:"w-3 h-3"})," Visible"]}):n.jsxs(U,{variant:"outline",className:"text-xs gap-1 text-muted-foreground",children:[n.jsx(Wi,{className:"w-3 h-3"})," Hidden"]}),P.isTestOnly&&n.jsx(U,{variant:"outline",className:"text-xs text-amber-500 border-amber-500/30",children:"Test"})]})}),n.jsx(B,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(re,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/challenges/${P.id}`),"data-testid":`button-view-${P.id}`,children:n.jsx(Nc,{className:"w-4 h-4"})}),P.state!=="deployed"&&P.state!=="deprecated"&&n.jsx(re,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/challenges/${P.id}/edit`),"data-testid":`button-edit-${P.id}`,children:n.jsx(el,{className:"w-4 h-4"})}),P.state!=="deprecated"&&n.jsx(re,{size:"icon",variant:"ghost",onClick:()=>g(P),"data-testid":`button-delete-${P.id}`,children:n.jsx(lw,{className:"w-4 h-4 text-destructive"})})]})})]},P.id)})]})]})})}),n.jsx(Ys,{open:!!h,onOpenChange:()=>g(null),children:n.jsxs(ss,{children:[n.jsxs(is,{children:[n.jsx(ls,{children:"Deprecate Challenge"}),n.jsxs(os,{children:['Are you sure you want to deprecate "',h?.name,'"? This will hide it from the frontend and mark it as inactive.']})]}),n.jsxs(cl,{children:[n.jsx(re,{variant:"outline",onClick:()=>g(null),children:"Cancel"}),n.jsx(re,{variant:"destructive",onClick:()=>h&&A.mutate(h.id),disabled:A.isPending,"data-testid":"button-confirm-delete",children:A.isPending?"Deprecating...":"Deprecate"})]})]})}),n.jsx(Ys,{open:v,onOpenChange:b,children:n.jsxs(ss,{className:"max-w-2xl",children:[n.jsxs(is,{children:[n.jsx(ls,{children:"Create New Challenge"}),n.jsx(os,{children:"Define a new challenge. It will start in draft state."})]}),n.jsx(Ige,{categories:E||[],onSuccess:()=>{b(!1),_e.invalidateQueries({queryKey:["/api/admin/challenges"]})}})]})})]})}function Ige({categories:e,onSuccess:t}){const{toast:r}=Zt(),[a,s]=p.useState({code:"",name:"",category:"hero_progression",type:"tiered",descriptionShort:"",metricType:"integer",metricSource:"onchain_heroes",metricKey:""}),l=Oe({mutationFn:async d=>{const f=await fetch("/api/admin/challenges",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(d)});if(!f.ok){const m=await f.json();throw new Error(m.error||"Failed to create challenge")}return f.json()},onSuccess:()=>{r({title:"Challenge created",description:"The challenge has been created in draft state."}),t()},onError:d=>{r({title:"Error",description:d.message,variant:"destructive"})}}),c=d=>{d.preventDefault(),l.mutate(a)};return n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Code (unique key)"}),n.jsx(Ke,{placeholder:"e.g., hero_count_10",value:a.code,onChange:d=>s({...a,code:d.target.value}),required:!0,"data-testid":"input-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),n.jsx(Ke,{placeholder:"e.g., Hero Collector",value:a.name,onChange:d=>s({...a,name:d.target.value}),required:!0,"data-testid":"input-name"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(Ze,{value:a.category,onValueChange:d=>s({...a,category:d}),children:[n.jsx(Qe,{"data-testid":"select-form-category",children:n.jsx(Je,{})}),n.jsx(Xe,{children:e.map(d=>n.jsx(se,{value:d.key,children:d.name},d.key))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Challenge Type"}),n.jsxs(Ze,{value:a.type,onValueChange:d=>s({...a,type:d}),children:[n.jsx(Qe,{"data-testid":"select-form-type",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"tiered",children:"Tiered (multi-level)"}),n.jsx(se,{value:"binary",children:"Binary (yes/no)"}),n.jsx(se,{value:"milestone",children:"Milestone (one-time)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Short Description"}),n.jsx(Ke,{placeholder:"Brief description for UI display",value:a.descriptionShort,onChange:d=>s({...a,descriptionShort:d.target.value}),"data-testid":"input-description"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),n.jsxs(Ze,{value:a.metricType,onValueChange:d=>s({...a,metricType:d}),children:[n.jsx(Qe,{"data-testid":"select-metric-type",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"integer",children:"Integer"}),n.jsx(se,{value:"decimal",children:"Decimal"}),n.jsx(se,{value:"boolean",children:"Boolean"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Source"}),n.jsxs(Ze,{value:a.metricSource,onValueChange:d=>s({...a,metricSource:d}),children:[n.jsx(Qe,{"data-testid":"select-metric-source",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"onchain_heroes",children:"On-chain: Heroes"}),n.jsx(se,{value:"onchain_quests",children:"On-chain: Quests"}),n.jsx(se,{value:"onchain_summons",children:"On-chain: Summons"}),n.jsx(se,{value:"onchain_pets",children:"On-chain: Pets"}),n.jsx(se,{value:"onchain_meditation",children:"On-chain: Meditation"}),n.jsx(se,{value:"onchain_gardens",children:"On-chain: Gardens"}),n.jsx(se,{value:"onchain_portfolio",children:"On-chain: Portfolio"}),n.jsx(se,{value:"behavior_model",children:"Behavior Model"}),n.jsx(se,{value:"discord_interactions",children:"Discord Activity"}),n.jsx(se,{value:"payment_events",children:"Payment Events"}),n.jsx(se,{value:"event_progress",children:"Event Progress"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Key"}),n.jsx(Ke,{placeholder:"e.g., heroCount",value:a.metricKey,onChange:d=>s({...a,metricKey:d.target.value}),required:!0,"data-testid":"input-metric-key"})]})]}),n.jsx(cl,{children:n.jsx(re,{type:"submit",disabled:l.isPending,"data-testid":"button-submit-create",children:l.isPending?"Creating...":"Create Challenge"})})]})}const Au=p.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Au.displayName="Textarea";function $ge(e){const t=Fge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Bge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Fge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Hge(s),d=Uge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zge=Symbol("radix.slottable");function Bge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zge}function Uge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Hge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zS=qge.reduce((e,t)=>{const r=$ge(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),_g="Checkbox",[Vge]=gr(_g),[Kge,BS]=Vge(_g);function Wge(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:l,form:c,name:d,onCheckedChange:f,required:m,value:h="on",internal_do_not_use_render:g}=e,[v,b]=ta({prop:r,defaultProp:s??!1,onChange:f,caller:_g}),[w,y]=p.useState(null),[j,C]=p.useState(null),E=p.useRef(!1),A=w?!!c||!!w.closest("form"):!0,T={checked:v,disabled:l,setChecked:b,control:w,setControl:y,name:d,form:c,value:h,hasConsumerStoppedPropagationRef:E,required:m,defaultChecked:Xi(s)?!1:s,isFormControl:A,bubbleInput:j,setBubbleInput:C};return n.jsx(Kge,{scope:t,...T,children:Gge(g)?g(T):a})}var OF="CheckboxTrigger",kF=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},s)=>{const{control:l,value:c,disabled:d,checked:f,required:m,setControl:h,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:w}=BS(OF,e),y=it(s,h),j=p.useRef(f);return p.useEffect(()=>{const C=l?.form;if(C){const E=()=>g(j.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[l,g]),n.jsx(zS.button,{type:"button",role:"checkbox","aria-checked":Xi(f)?"mixed":f,"aria-required":m,"data-state":LF(f),"data-disabled":d?"":void 0,disabled:d,value:c,...a,ref:y,onKeyDown:ze(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ze(r,C=>{g(E=>Xi(E)?!0:!E),w&&b&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})})});kF.displayName=OF;var US=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:l,required:c,disabled:d,value:f,onCheckedChange:m,form:h,...g}=e;return n.jsx(Wge,{__scopeCheckbox:r,checked:s,defaultChecked:l,disabled:d,required:c,onCheckedChange:m,name:a,form:h,value:f,internal_do_not_use_render:({isFormControl:v})=>n.jsxs(n.Fragment,{children:[n.jsx(kF,{...g,ref:t,__scopeCheckbox:r}),v&&n.jsx(DF,{__scopeCheckbox:r})]})})});US.displayName=_g;var _F="CheckboxIndicator",RF=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,l=BS(_F,r);return n.jsx(aa,{present:a||Xi(l.checked)||l.checked===!0,children:n.jsx(zS.span,{"data-state":LF(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});RF.displayName=_F;var MF="CheckboxBubbleInput",DF=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:l,defaultChecked:c,required:d,disabled:f,name:m,value:h,form:g,bubbleInput:v,setBubbleInput:b}=BS(MF,e),w=it(r,b),y=kx(l),j=Ex(a);p.useEffect(()=>{const E=v;if(!E)return;const A=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(A,"checked").set,P=!s.current;if(y!==l&&k){const _=new Event("click",{bubbles:P});E.indeterminate=Xi(l),k.call(E,Xi(l)?!1:l),E.dispatchEvent(_)}},[v,y,l,s]);const C=p.useRef(Xi(l)?!1:l);return n.jsx(zS.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??C.current,required:d,disabled:f,name:m,value:h,form:g,...t,tabIndex:-1,ref:w,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});DF.displayName=MF;function Gge(e){return typeof e=="function"}function Xi(e){return e==="indeterminate"}function LF(e){return Xi(e)?"indeterminate":e?"checked":"unchecked"}const px=p.forwardRef(({className:e,...t},r)=>n.jsx(US,{ref:r,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(RF,{className:Le("flex items-center justify-center text-current"),children:n.jsx(rM,{className:"h-4 w-4"})})}));px.displayName=US.displayName;function Yge(e){const t=Qge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Zge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Qge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=eve(s),d=Jge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xge=Symbol("radix.slottable");function Zge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xge}function Jge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function eve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IF=tve.reduce((e,t)=>{const r=Yge(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),tb="rovingFocusGroup.onEntryFocus",nve={bubbles:!1,cancelable:!0},zf="RovingFocusGroup",[LN,$F,rve]=rf(zf),[ave,FF]=gr(zf,[rve]),[sve,ive]=ave(zf),zF=p.forwardRef((e,t)=>n.jsx(LN.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(LN.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(lve,{...e,ref:t})})}));zF.displayName=zf;var lve=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...g}=e,v=p.useRef(null),b=it(t,v),w=Jc(l),[y,j]=ta({prop:c,defaultProp:d??null,onChange:f,caller:zf}),[C,E]=p.useState(!1),A=Pn(m),T=$F(r),k=p.useRef(!1),[P,_]=p.useState(0);return p.useEffect(()=>{const M=v.current;if(M)return M.addEventListener(tb,A),()=>M.removeEventListener(tb,A)},[A]),n.jsx(sve,{scope:r,orientation:a,dir:w,loop:s,currentTabStopId:y,onItemFocus:p.useCallback(M=>j(M),[j]),onItemShiftTab:p.useCallback(()=>E(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>_(M=>M-1),[]),children:n.jsx(IF.div,{tabIndex:C||P===0?-1:0,"data-orientation":a,...g,ref:b,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{k.current=!0}),onFocus:ze(e.onFocus,M=>{const X=!k.current;if(M.target===M.currentTarget&&X&&!C){const I=new CustomEvent(tb,nve);if(M.currentTarget.dispatchEvent(I),!I.defaultPrevented){const R=T().filter(z=>z.focusable),V=R.find(z=>z.active),je=R.find(z=>z.id===y),te=[V,je,...R].filter(Boolean).map(z=>z.ref.current);HF(te,h)}}k.current=!1}),onBlur:ze(e.onBlur,()=>E(!1))})})}),BF="RovingFocusGroupItem",UF=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:l,children:c,...d}=e,f=Ba(),m=l||f,h=ive(BF,r),g=h.currentTabStopId===m,v=$F(r),{onFocusableItemAdd:b,onFocusableItemRemove:w,currentTabStopId:y}=h;return p.useEffect(()=>{if(a)return b(),()=>w()},[a,b,w]),n.jsx(LN.ItemSlot,{scope:r,id:m,focusable:a,active:s,children:n.jsx(IF.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...d,ref:t,onMouseDown:ze(e.onMouseDown,j=>{a?h.onItemFocus(m):j.preventDefault()}),onFocus:ze(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:ze(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){h.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const C=dve(j,h.orientation,h.dir);if(C!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let A=v().filter(T=>T.focusable).map(T=>T.ref.current);if(C==="last")A.reverse();else if(C==="prev"||C==="next"){C==="prev"&&A.reverse();const T=A.indexOf(j.currentTarget);A=h.loop?uve(A,T+1):A.slice(T+1)}setTimeout(()=>HF(A))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:y!=null}):c})})});UF.displayName=BF;var ove={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cve(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dve(e,t,r){const a=cve(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return ove[a]}function HF(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function uve(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var fve=zF,mve=UF;function hve(e){const t=pve(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(gve);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function pve(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=yve(s),d=vve(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xve=Symbol("radix.slottable");function gve(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xve}function vve(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function yve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rg=jve.reduce((e,t)=>{const r=hve(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Mg="Tabs",[bve]=gr(Mg,[FF]),qF=FF(),[Nve,HS]=bve(Mg),VF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...m}=e,h=Jc(d),[g,v]=ta({prop:a,onChange:s,defaultProp:l??"",caller:Mg});return n.jsx(Nve,{scope:r,baseId:Ba(),value:g,onValueChange:v,orientation:c,dir:h,activationMode:f,children:n.jsx(Rg.div,{dir:h,"data-orientation":c,...m,ref:t})})});VF.displayName=Mg;var KF="TabsList",WF=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,l=HS(KF,r),c=qF(r);return n.jsx(fve,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:a,children:n.jsx(Rg.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:t})})});WF.displayName=KF;var GF="TabsTrigger",YF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...l}=e,c=HS(GF,r),d=qF(r),f=ZF(c.baseId,a),m=JF(c.baseId,a),h=a===c.value;return n.jsx(mve,{asChild:!0,...d,focusable:!s,active:h,children:n.jsx(Rg.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...l,ref:t,onMouseDown:ze(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?c.onValueChange(a):g.preventDefault()}),onKeyDown:ze(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(a)}),onFocus:ze(e.onFocus,()=>{const g=c.activationMode!=="manual";!h&&!s&&g&&c.onValueChange(a)})})})});YF.displayName=GF;var QF="TabsContent",XF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:l,...c}=e,d=HS(QF,r),f=ZF(d.baseId,a),m=JF(d.baseId,a),h=a===d.value,g=p.useRef(h);return p.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),n.jsx(aa,{present:s||h,children:({present:v})=>n.jsx(Rg.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:v&&l})})});XF.displayName=QF;function ZF(e,t){return`${e}-trigger-${t}`}function JF(e,t){return`${e}-content-${t}`}var wve=VF,ez=WF,tz=YF,nz=XF;const ci=wve,fs=p.forwardRef(({className:e,...t},r)=>n.jsx(ez,{ref:r,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fs.displayName=ez.displayName;const Ct=p.forwardRef(({className:e,...t},r)=>n.jsx(tz,{ref:r,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ct.displayName=tz.displayName;const Ot=p.forwardRef(({className:e,...t},r)=>n.jsx(nz,{ref:r,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ot.displayName=nz.displayName;function Sve({challengeKey:e,canEdit:t,tiers:r,setTiers:a}){const{toast:s}=Zt(),[l,c]=p.useState("ALL"),[d,f]=p.useState({pct1:.4,pct2:.7,pct3:.9,pct4:.97}),[m,h]=p.useState(null),[g,v]=p.useState(null),[b,w]=p.useState(null),[y,j]=p.useState(!1),[C,E]=p.useState(!1),[A,T]=p.useState(!1),k={COMMON:"text-gray-500",UNCOMMON:"text-green-600",RARE:"text-blue-600",LEGENDARY:"text-orange-600",MYTHIC:"text-purple-600",BASIC:"text-blue-600",ADVANCED:"text-green-600",ELITE:"text-purple-600",EXALTED:"text-amber-600",UNLOCKED:"text-green-600",LOCKED:"text-gray-500"},P={COMMON:"[&>div]:bg-gray-400",UNCOMMON:"[&>div]:bg-green-500",RARE:"[&>div]:bg-blue-500",LEGENDARY:"[&>div]:bg-orange-500",MYTHIC:"[&>div]:bg-purple-500",BASIC:"[&>div]:bg-blue-500",ADVANCED:"[&>div]:bg-green-500",ELITE:"[&>div]:bg-purple-500",EXALTED:"[&>div]:bg-amber-500"},_=async()=>{j(!0);try{const Y=await fetch(`/api/admin/challenges/${e}/calibration?cohortKey=${l}`,{credentials:"include"});if(!Y.ok){const z=await Y.json().catch(()=>({}));throw new Error(z.error||`HTTP ${Y.status}`)}const te=await Y.json();te.cached?(h(te),te.targets&&f({pct1:te.targets.pct1??.4,pct2:te.targets.pct2??.7,pct3:te.targets.pct3??.9,pct4:te.targets.pct4??.97})):(h(null),s({title:"No Cached Stats",description:"Click Refresh to compute calibration stats",variant:"default"}))}catch(Y){s({title:"Error Loading Stats",description:Y instanceof Error?Y.message:"Failed to load calibration stats",variant:"destructive"})}j(!1)},M=async()=>{E(!0);try{const Y=await fetch(`/api/admin/challenges/${e}/calibration/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cohortKey:l,targets:d})});if(!Y.ok){const z=await Y.json().catch(()=>({}));throw new Error(z.error||`HTTP ${Y.status}`)}const te=await Y.json();if(te.success)h({cached:!0,challengeKey:te.challengeKey,cohortKey:te.cohortKey,computedAt:new Date().toISOString(),clusterCount:te.clusterCount,nonzeroCount:te.nonzeroCount,tierSystem:te.tierSystem,tierLadder:te.tierLadder||[],suggestableTiers:te.suggestableTiers||[],isPrestige:te.isPrestige||!1,percentiles:te.percentiles,targets:te.targets,suggestedByTier:te.suggestedByTier||{},warnings:te.warnings||[],zeroInflated:te.zeroInflated||!1,whaleSkew:te.whaleSkew||!1,lowSample:te.lowSample||!1}),s({title:"Stats Refreshed",description:`Computed for ${te.clusterCount?.toLocaleString()||0} clusters`});else throw new Error(te.error||"Refresh failed")}catch(Y){s({title:"Refresh Failed",description:Y instanceof Error?Y.message:"Failed to refresh stats",variant:"destructive"})}E(!1)},X=async(Y,te=!1)=>{T(!0);try{const z=await fetch(`/api/admin/challenges/${e}/calibration/simulate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cohortKey:l,thresholds:Y})});if(!z.ok){const $=await z.json().catch(()=>({}));throw new Error($.error||`HTTP ${z.status}`)}const J=await z.json();te?w(J):v(J)}catch(z){s({title:"Simulation Failed",description:z instanceof Error?z.message:"Failed to simulate",variant:"destructive"})}T(!1)},I=async Y=>{try{const te=await fetch(`/api/admin/challenges/${e}/calibration/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({thresholds:Y})});if(!te.ok){const J=await te.json().catch(()=>({}));throw new Error(J.error||`HTTP ${te.status}`)}const z=await te.json();if(z.success){const J=r.map($=>{const H=Y[$.tierCode];return H!==void 0?{...$,thresholdValue:Math.round(H)}:$});a(J),_e.invalidateQueries({queryKey:["/api/admin/challenges"]}),s({title:"Thresholds Applied",description:`Updated ${z.updatedTiers?.length||0} tier thresholds`})}else throw new Error(z.error||"Apply failed")}catch(te){s({title:"Apply Failed",description:te instanceof Error?te.message:"Failed to apply thresholds",variant:"destructive"})}},R=()=>{const Y={};for(const te of r)Y[te.tierCode]=te.thresholdValue;return Y},V=()=>m?.suggestableTiers||[],je=()=>{f({pct1:.4,pct2:.7,pct3:.9,pct4:.97})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(G,{children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(lp,{className:"w-5 h-5"}),"Calibration & Distribution"]}),n.jsx(Ce,{children:"Analyze player distribution and tune tier thresholds"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ze,{value:l,onValueChange:c,children:[n.jsx(Qe,{className:"w-40","data-testid":"select-cohort",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"ALL",children:"All Players"}),n.jsx(se,{value:"NONZERO",children:"Non-zero Only"}),n.jsx(se,{value:"ACTIVE_30D",children:"Active (30 days)"})]})]}),n.jsx(re,{variant:"outline",onClick:_,disabled:y,"data-testid":"button-load-stats",children:y?"Loading...":"Load Stats"}),n.jsxs(re,{onClick:M,disabled:C,"data-testid":"button-refresh-stats",children:[n.jsx(tt,{className:`w-4 h-4 mr-2 ${C?"animate-spin":""}`}),C?"Refreshing...":"Refresh"]})]})]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[n.jsx(Rr,{className:"w-4 h-4"}),"Target Percentiles",m?.tierSystem&&n.jsx(U,{variant:"outline",className:"text-xs",children:m.tierSystem})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 2 (p",Math.round(d.pct1*100),")"]}),n.jsx(Ke,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct1,onChange:Y=>f({...d,pct1:parseFloat(Y.target.value)||0}),"data-testid":"input-target-pct1"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 3 (p",Math.round(d.pct2*100),")"]}),n.jsx(Ke,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct2,onChange:Y=>f({...d,pct2:parseFloat(Y.target.value)||0}),"data-testid":"input-target-pct2"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 4 (p",Math.round(d.pct3*100),")"]}),n.jsx(Ke,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct3,onChange:Y=>f({...d,pct3:parseFloat(Y.target.value)||0}),"data-testid":"input-target-pct3"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 5 (p",Math.round(d.pct4*100),")"]}),n.jsx(Ke,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct4,onChange:Y=>f({...d,pct4:parseFloat(Y.target.value)||0}),"data-testid":"input-target-pct4"})]})]}),n.jsx(re,{variant:"ghost",size:"sm",onClick:je,className:"mt-2","data-testid":"button-reset-targets",children:"Reset to Defaults"})]}),m&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(G,{children:n.jsxs(Q,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-cluster-count",children:m.clusterCount.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Clusters"})]})}),n.jsx(G,{children:n.jsxs(Q,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-nonzero-count",children:m.nonzeroCount.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Non-zero Progress"})]})}),n.jsx(G,{children:n.jsxs(Q,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-computed-at",children:m.computedAt?new Date(m.computedAt).toLocaleDateString():"N/A"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Computed"})]})})]}),m.warnings.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.zeroInflated&&n.jsxs(U,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",children:[n.jsx(rr,{className:"w-3 h-3 mr-1"}),"Zero Inflated"]}),m.whaleSkew&&n.jsxs(U,{variant:"outline",className:"bg-orange-500/10 text-orange-600 border-orange-500/30",children:[n.jsx(On,{className:"w-3 h-3 mr-1"}),"Whale Skew"]}),m.lowSample&&n.jsxs(U,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/30",children:[n.jsx(rr,{className:"w-3 h-3 mr-1"}),"Low Sample"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Percentile Distribution"}),n.jsxs("div",{className:"grid gap-2 grid-cols-4 md:grid-cols-7 text-center text-xs",children:[n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"Min"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.min.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p25"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p25.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p50"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p50.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p75"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p75.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p90"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p90.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p95"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p95.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"Max"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.max.toLocaleString()})]})]})]}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Aa,{className:"w-4 h-4"}),"Suggested Thresholds",n.jsx(U,{variant:"outline",className:"text-xs",children:m.tierSystem})]}),m.isPrestige?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Feat challenges use boolean (unlocked/locked) and don't have threshold suggestions."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`grid gap-4 md:grid-cols-${V().length}`,children:V().map(Y=>n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded",children:[n.jsx("div",{className:`text-lg font-bold ${k[Y.tierCode]||"text-foreground"}`,"data-testid":`text-suggested-${Y.tierCode.toLowerCase()}`,children:Math.round(m.suggestedByTier[Y.tierCode]||0).toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Y.displayName||Y.tierCode})]},Y.tierCode))}),t&&Object.keys(m.suggestedByTier).length>0&&n.jsx(re,{variant:"outline",onClick:()=>I(m.suggestedByTier),"data-testid":"button-apply-suggested",children:"Apply Suggested Thresholds"})]})]})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(lp,{className:"w-5 h-5"}),"Tier Distribution Simulation"]}),n.jsx(Ce,{children:"Preview how players would be distributed across tiers"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(re,{variant:"outline",onClick:()=>X(R()),disabled:A,"data-testid":"button-simulate-current",children:"Simulate Current Thresholds"}),m&&!m.isPrestige&&n.jsx(re,{variant:"outline",onClick:()=>X(m.suggestedByTier,!0),disabled:A,"data-testid":"button-simulate-suggested",children:"Simulate Suggested Thresholds"})]}),(g||b)&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[g&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium mb-3",children:"Current Thresholds"}),n.jsx("div",{className:"space-y-2",children:Object.entries(g.distribution).map(([Y,te])=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:Y==="_BELOW_TIER1"?"text-muted-foreground":k[Y]||"text-foreground",children:Y==="_BELOW_TIER1"?"Below Tier 1":Y}),n.jsxs("span",{children:[te.count.toLocaleString()," (",te.pct,"%)"]})]}),n.jsx(Ut,{value:te.pct,className:`h-2 ${Y==="_BELOW_TIER1"?"":P[Y]||""}`})]},Y))})]}),b&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium mb-3",children:"Suggested Thresholds"}),n.jsx("div",{className:"space-y-2",children:Object.entries(b.distribution).map(([Y,te])=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:Y==="_BELOW_TIER1"?"text-muted-foreground":k[Y]||"text-foreground",children:Y==="_BELOW_TIER1"?"Below Tier 1":Y}),n.jsxs("span",{children:[te.count.toLocaleString()," (",te.pct,"%)"]})]}),n.jsx(Ut,{value:te.pct,className:`h-2 ${Y==="_BELOW_TIER1"?"":P[Y]||""}`})]},Y))})]})]})]})]})]})}const Cve={draft:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",validated:"bg-blue-500/20 text-blue-500 border-blue-500/30",deployed:"bg-green-500/20 text-green-500 border-green-500/30",deprecated:"bg-gray-500/20 text-gray-500 border-gray-500/30"},Eve={draft:el,validated:rw,deployed:aw,deprecated:fc};function I4({state:e}){const t=Cve[e]||"bg-muted text-muted-foreground",r=Eve[e]||rr;return n.jsxs(U,{variant:"outline",className:`text-xs ${t} gap-1`,children:[n.jsx(r,{className:"w-3 h-3"}),e.toUpperCase()]})}function $4(){const{id:e}=tf(),[,t]=Ka(),{toast:r}=Zt(),a=window.location.pathname.includes("/edit"),s=e&&/^\d+$/.test(e)?parseInt(e,10):null,l=s!==null&&!isNaN(s),{data:c,isLoading:d,error:f}=ke({queryKey:["/api/admin/challenges",e],queryFn:async()=>{const I=await fetch(`/api/admin/challenges/${e}`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch challenge");return I.json()},enabled:l}),{data:m}=ke({queryKey:["/api/admin/challenge-categories"],queryFn:async()=>{const I=await fetch("/api/admin/challenge-categories",{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch categories");return I.json()}}),{data:h}=ke({queryKey:["/api/admin/challenges",e,"audit"],queryFn:async()=>{const I=await fetch(`/api/admin/challenges/${e}/audit`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch audit log");return I.json()},enabled:l}),[g,v]=p.useState({}),[b,w]=p.useState([]),[y,j]=p.useState({});p.useEffect(()=>{c&&(v({name:c.name,category:c.category,type:c.type,descriptionShort:c.descriptionShort,descriptionLong:c.descriptionLong,metricType:c.metricType,metricSource:c.metricSource,metricKey:c.metricKey,metricAggregation:c.metricAggregation,metricFilters:c.metricFilters,tieringMode:c.tieringMode,tierConfig:c.tierConfig,isClusterBased:c.isClusterBased,isTestOnly:c.isTestOnly,isVisibleFe:c.isVisibleFe,sortOrder:c.sortOrder}),w(c.tiers||[]),j(c.validation?.manualChecks||{}))},[c]);const C=Oe({mutationFn:async I=>{const R=await fetch(`/api/admin/challenges/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...I,tiers:b})});if(!R.ok){const V=await R.json();throw new Error(V.error||"Failed to update challenge")}return R.json()},onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/challenges",e]}),r({title:"Challenge updated",description:"Changes saved successfully."})},onError:I=>{r({title:"Error",description:I.message,variant:"destructive"})}}),E=Oe({mutationFn:async()=>{const I=await fetch(`/api/admin/challenges/${e}/validate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({manualChecks:y})});if(!I.ok){const R=await I.json();throw new Error(R.error||"Failed to validate")}return I.json()},onSuccess:I=>{_e.invalidateQueries({queryKey:["/api/admin/challenges",e]}),r({title:"Validation complete",description:I.canPromoteToValidated?"Challenge can be promoted to validated.":"Some checks are failing."})},onError:I=>{r({title:"Error",description:I.message,variant:"destructive"})}}),A=Oe({mutationFn:async I=>{const R=await fetch(`/api/admin/challenges/${e}/state`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({targetState:I})});if(!R.ok){const V=await R.json();throw new Error(V.error||"Failed to transition state")}return R.json()},onSuccess:I=>{_e.invalidateQueries({queryKey:["/api/admin/challenges",e]}),_e.invalidateQueries({queryKey:["/api/admin/challenges"]}),r({title:"State changed",description:`Challenge is now ${I.newState}.`})},onError:I=>{r({title:"Error",description:I.message,variant:"destructive"})}}),T=()=>{C.mutate(g)},k=()=>{w([...b,{tierCode:"",displayName:"",thresholdValue:0,isPrestige:!1,sortOrder:b.length+1}])},P=I=>{w(b.filter((R,V)=>V!==I))},_=(I,R,V)=>{const je=[...b];je[I][R]=V,w(je)};if(!l)return n.jsx("div",{className:"p-6",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Invalid Challenge ID"}),n.jsxs(Ce,{children:['The challenge ID "',e,'" is not valid. Please select a challenge from the list or create a new one.']})]}),n.jsx(Q,{children:n.jsxs(re,{onClick:()=>t("/admin/challenges"),"data-testid":"button-back-to-list",children:[n.jsx(Zi,{className:"w-4 h-4 mr-2"}),"Back to Challenges"]})})]})});if(d)return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(Me,{className:"h-8 w-64"}),n.jsx(Me,{className:"h-[400px] w-full"})]});if(f||!c)return n.jsx("div",{className:"p-6",children:n.jsx(G,{className:"border-destructive",children:n.jsxs(ae,{children:[n.jsx(ie,{className:"text-destructive",children:"Error"}),n.jsx(Ce,{children:f instanceof Error?f.message:"Challenge not found"})]})})});const M=c.state==="draft"||c.state==="validated",X=c.validation?.autoChecks||{};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t("/admin/challenges"),"data-testid":"button-back",children:n.jsx(Zi,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-challenge-name",children:c.name}),n.jsx(I4,{state:c.state})]}),n.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:c.code})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[M&&a&&n.jsxs(re,{onClick:T,disabled:C.isPending,"data-testid":"button-save",children:[n.jsx(wb,{className:"w-4 h-4 mr-2"}),C.isPending?"Saving...":"Save Changes"]}),!a&&M&&n.jsxs(re,{onClick:()=>t(`/admin/challenges/${e}/edit`),"data-testid":"button-edit",children:[n.jsx(el,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]}),n.jsxs(ci,{defaultValue:"basic",className:"space-y-6",children:[n.jsxs(fs,{children:[n.jsx(Ct,{value:"basic","data-testid":"tab-basic",children:"Basic Info"}),n.jsx(Ct,{value:"metric","data-testid":"tab-metric",children:"Metric Definition"}),n.jsx(Ct,{value:"tiers","data-testid":"tab-tiers",children:"Tiering"}),n.jsx(Ct,{value:"calibration","data-testid":"tab-calibration",children:"Calibration"}),n.jsx(Ct,{value:"display","data-testid":"tab-display",children:"Frontend Display"}),n.jsx(Ct,{value:"validation","data-testid":"tab-validation",children:"Validation"}),n.jsx(Ct,{value:"deploy","data-testid":"tab-deploy",children:"Deploy Controls"}),n.jsx(Ct,{value:"audit","data-testid":"tab-audit",children:"Audit Log"})]}),n.jsx(Ot,{value:"basic",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Basic Information"}),n.jsx(Ce,{children:"Core challenge identity and categorization"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),n.jsx(Ke,{value:g.name||"",onChange:I=>v({...g,name:I.target.value}),disabled:!M||!a,"data-testid":"input-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(Ze,{value:g.category||"",onValueChange:I=>v({...g,category:I}),disabled:!M||!a,children:[n.jsx(Qe,{"data-testid":"select-category",children:n.jsx(Je,{})}),n.jsx(Xe,{children:m?.map(I=>n.jsx(se,{value:I.key,children:I.name},I.key))})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Challenge Type"}),n.jsxs(Ze,{value:g.type||"",onValueChange:I=>v({...g,type:I}),disabled:!M||!a,children:[n.jsx(Qe,{"data-testid":"select-type",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"tiered",children:"Tiered"}),n.jsx(se,{value:"binary",children:"Binary"}),n.jsx(se,{value:"milestone",children:"Milestone"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Sort Order"}),n.jsx(Ke,{type:"number",value:g.sortOrder||0,onChange:I=>v({...g,sortOrder:parseInt(I.target.value)}),disabled:!M||!a,"data-testid":"input-sort-order"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Short Description"}),n.jsx(Ke,{value:g.descriptionShort||"",onChange:I=>v({...g,descriptionShort:I.target.value}),disabled:!M||!a,"data-testid":"input-description-short"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Long Description"}),n.jsx(Au,{value:g.descriptionLong||"",onChange:I=>v({...g,descriptionLong:I.target.value}),disabled:!M||!a,rows:4,"data-testid":"input-description-long"})]})]})]})}),n.jsx(Ot,{value:"metric",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Metric Definition"}),n.jsx(Ce,{children:"How progress is measured for this challenge"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),n.jsxs(Ze,{value:g.metricType||"",onValueChange:I=>v({...g,metricType:I}),disabled:!M||!a,children:[n.jsx(Qe,{"data-testid":"select-metric-type",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"integer",children:"Integer"}),n.jsx(se,{value:"decimal",children:"Decimal"}),n.jsx(se,{value:"boolean",children:"Boolean"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Source"}),n.jsxs(Ze,{value:g.metricSource||"",onValueChange:I=>v({...g,metricSource:I}),disabled:!M||!a,children:[n.jsx(Qe,{"data-testid":"select-metric-source",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"onchain_heroes",children:"On-chain: Heroes"}),n.jsx(se,{value:"onchain_quests",children:"On-chain: Quests"}),n.jsx(se,{value:"onchain_summons",children:"On-chain: Summons"}),n.jsx(se,{value:"onchain_pets",children:"On-chain: Pets"}),n.jsx(se,{value:"onchain_meditation",children:"On-chain: Meditation"}),n.jsx(se,{value:"onchain_gardens",children:"On-chain: Gardens"}),n.jsx(se,{value:"onchain_portfolio",children:"On-chain: Portfolio"}),n.jsx(se,{value:"behavior_model",children:"Behavior Model"}),n.jsx(se,{value:"discord_interactions",children:"Discord Activity"}),n.jsx(se,{value:"payment_events",children:"Payment Events"}),n.jsx(se,{value:"event_progress",children:"Event Progress"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Key"}),n.jsx(Ke,{value:g.metricKey||"",onChange:I=>v({...g,metricKey:I.target.value}),disabled:!M||!a,"data-testid":"input-metric-key"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Aggregation"}),n.jsxs(Ze,{value:g.metricAggregation||"",onValueChange:I=>v({...g,metricAggregation:I}),disabled:!M||!a,children:[n.jsx(Qe,{"data-testid":"select-aggregation",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"count",children:"Count"}),n.jsx(se,{value:"sum",children:"Sum"}),n.jsx(se,{value:"max",children:"Maximum"}),n.jsx(se,{value:"min",children:"Minimum"}),n.jsx(se,{value:"avg",children:"Average"}),n.jsx(se,{value:"latest",children:"Latest Value"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tiering Mode"}),n.jsxs(Ze,{value:g.tieringMode||"",onValueChange:I=>v({...g,tieringMode:I}),disabled:!M||!a,children:[n.jsx(Qe,{"data-testid":"select-tiering-mode",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"threshold",children:"Threshold-based"}),n.jsx(se,{value:"percentile",children:"Percentile-based"}),n.jsx(se,{value:"none",children:"No Tiers"})]})]})]})]}),n.jsx("div",{className:"flex items-center gap-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:g.isClusterBased||!1,onCheckedChange:I=>v({...g,isClusterBased:I}),disabled:!M||!a,"data-testid":"switch-cluster-based"}),n.jsx("label",{className:"text-sm",children:"Cluster-based metrics"})]})})]})]})}),n.jsx(Ot,{value:"tiers",children:n.jsxs(G,{children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Tier Thresholds"}),n.jsx(Ce,{children:"Define progression tiers and their requirements"})]}),M&&a&&n.jsxs(re,{size:"sm",onClick:k,"data-testid":"button-add-tier",children:[n.jsx(Ji,{className:"w-4 h-4 mr-2"}),"Add Tier"]})]})}),n.jsx(Q,{children:b.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No tiers defined yet."}):n.jsx("div",{className:"space-y-3",children:b.map((I,R)=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-md","data-testid":`tier-row-${R}`,children:[n.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-4",children:[n.jsx(Ke,{placeholder:"Tier Code",value:I.tierCode,onChange:V=>_(R,"tierCode",V.target.value),disabled:!M||!a,"data-testid":`input-tier-code-${R}`}),n.jsx(Ke,{placeholder:"Display Name",value:I.displayName,onChange:V=>_(R,"displayName",V.target.value),disabled:!M||!a,"data-testid":`input-tier-display-${R}`}),n.jsx(Ke,{type:"number",placeholder:"Threshold",value:I.thresholdValue,onChange:V=>_(R,"thresholdValue",parseFloat(V.target.value)),disabled:!M||!a,"data-testid":`input-tier-threshold-${R}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:I.isPrestige,onCheckedChange:V=>_(R,"isPrestige",V),disabled:!M||!a,"data-testid":`switch-tier-top-tier-${R}`}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Top Tier"})]})]}),M&&a&&n.jsx(re,{size:"icon",variant:"ghost",onClick:()=>P(R),"data-testid":`button-remove-tier-${R}`,children:n.jsx(lw,{className:"w-4 h-4 text-destructive"})})]},R))})})]})}),n.jsx(Ot,{value:"calibration",children:n.jsx(Sve,{challengeKey:c.code,canEdit:M,tiers:b,setTiers:w})}),n.jsx(Ot,{value:"display",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Frontend Display"}),n.jsx(Ce,{children:"Control visibility and presentation"})]}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:g.isVisibleFe||!1,onCheckedChange:I=>v({...g,isVisibleFe:I}),disabled:!M||!a,"data-testid":"switch-visible-fe"}),n.jsx("label",{className:"text-sm",children:"Visible in Frontend"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:g.isTestOnly||!1,onCheckedChange:I=>v({...g,isTestOnly:I}),disabled:!M||!a,"data-testid":"switch-test-only"}),n.jsx("label",{className:"text-sm",children:"Test Only (hidden from production)"})]})]})})]})}),n.jsx(Ot,{value:"validation",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Validation Status"}),n.jsx(Ce,{children:"Automated and manual validation checks"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Automated Checks"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[X.hasMetricSource?n.jsx(Tr,{className:"w-4 h-4 text-green-500"}):n.jsx(Wi,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Valid metric source"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[X.fieldValid?n.jsx(Tr,{className:"w-4 h-4 text-green-500"}):n.jsx(Wi,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Metric key defined"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[X.hasTierConfig?n.jsx(Tr,{className:"w-4 h-4 text-green-500"}):n.jsx(Wi,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Tier configuration valid"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[X.codeUnique?n.jsx(Tr,{className:"w-4 h-4 text-green-500"}):n.jsx(Wi,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Unique challenge code"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Manual Checks (for deployment)"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(px,{checked:y.etlOutputVerified||!1,onCheckedChange:I=>j({...y,etlOutputVerified:!!I}),"data-testid":"checkbox-etl-verified"}),n.jsx("label",{className:"text-sm",children:"ETL output verified"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(px,{checked:y.copyApproved||!1,onCheckedChange:I=>j({...y,copyApproved:!!I}),"data-testid":"checkbox-copy-approved"}),n.jsx("label",{className:"text-sm",children:"Copy/description approved"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(re,{onClick:()=>E.mutate(),disabled:E.isPending,"data-testid":"button-run-validation",children:[n.jsx(vn,{className:"w-4 h-4 mr-2"}),E.isPending?"Running...":"Run Validation"]}),c.validation?.lastRunAt&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last run: ",new Date(c.validation.lastRunAt).toLocaleString()," by ",c.validation.lastRunBy]})]})]})]})}),n.jsx(Ot,{value:"deploy",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Deploy Controls"}),n.jsx(Ce,{children:"Manage challenge state lifecycle"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm font-medium",children:"Current State:"}),n.jsx(I4,{state:c.state})]}),n.jsxs("div",{className:"space-y-4",children:[c.state==="draft"&&n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Promote to Validated"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark this challenge as validated after passing all automated checks."}),n.jsxs(re,{onClick:()=>A.mutate("validated"),disabled:A.isPending||!X.hasMetricSource||!X.fieldValid,"data-testid":"button-promote-validated",children:[n.jsx(rw,{className:"w-4 h-4 mr-2"}),"Promote to Validated"]})]}),c.state==="validated"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Deploy to Production"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Make this challenge live. Requires all manual checks to be completed."}),n.jsxs(re,{onClick:()=>A.mutate("deployed"),disabled:A.isPending||!y.etlOutputVerified||!y.copyApproved,"data-testid":"button-deploy",children:[n.jsx(aw,{className:"w-4 h-4 mr-2"}),"Deploy"]})]}),n.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium text-muted-foreground",children:"Rollback to Draft"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return this challenge to draft state for further editing."}),n.jsxs(re,{variant:"outline",onClick:()=>A.mutate("draft"),disabled:A.isPending,"data-testid":"button-rollback-draft",children:[n.jsx(el,{className:"w-4 h-4 mr-2"}),"Rollback to Draft"]})]})]}),c.state==="deployed"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border border-amber-500/30 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Hotfix Mode"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return to validated state to make urgent fixes."}),n.jsxs(re,{variant:"outline",onClick:()=>A.mutate("validated"),disabled:A.isPending,"data-testid":"button-hotfix",children:[n.jsx(rr,{className:"w-4 h-4 mr-2"}),"Enter Hotfix Mode"]})]}),n.jsxs("div",{className:"p-4 border border-destructive/30 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium text-destructive",children:"Deprecate"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove this challenge from production. This action cannot be undone."}),n.jsxs(re,{variant:"destructive",onClick:()=>A.mutate("deprecated"),disabled:A.isPending,"data-testid":"button-deprecate",children:[n.jsx(fc,{className:"w-4 h-4 mr-2"}),"Deprecate"]})]})]}),c.state==="deprecated"&&n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsx("p",{className:"text-muted-foreground",children:"This challenge has been deprecated and cannot be reactivated."})})]})]})]})}),n.jsx(Ot,{value:"audit",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(xq,{className:"w-5 h-5"}),"Audit Log"]}),n.jsx(Ce,{children:"History of changes to this challenge"})]}),n.jsx(Q,{children:!h||h.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No audit history yet."}):n.jsx("div",{className:"space-y-3",children:h.map(I=>n.jsx("div",{className:"flex items-center gap-4 p-3 border rounded-md","data-testid":`audit-row-${I.id}`,children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{variant:"outline",className:"text-xs",children:I.action}),I.fromState&&I.toState&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.fromState,"  ",I.toState]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["by ",I.actor," at ",new Date(I.createdAt).toLocaleString()]})]})},I.id))})})]})})]})]})}const Ave={gardening:Ou,mining:hq,fishing:oq,foraging:uM},Dh=[{value:"gardening",label:"Gardening"},{value:"mining",label:"Mining"},{value:"fishing",label:"Fishing"},{value:"foraging",label:"Foraging"}];function rz(e){switch(e){case"OPEN":return n.jsx(U,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/30","data-testid":"badge-state-open",children:"Open"});case"FILLING":return n.jsx(U,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30","data-testid":"badge-state-filling",children:"Filling"});case"RACING":return n.jsx(U,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/30","data-testid":"badge-state-racing",children:"Racing"});case"FINISHED":return n.jsx(U,{variant:"outline",className:"bg-muted text-muted-foreground","data-testid":"badge-state-finished",children:"Finished"});default:return n.jsx(U,{variant:"secondary",children:e})}}function Pve(e){return new Date(e).toLocaleString()}function Zh({profession:e,className:t}){const r=Ave[e];return n.jsx(r,{className:t||"w-4 h-4"})}function F4({pool:e,isSelected:t,onSelect:r}){return n.jsxs("div",{className:`p-3 border rounded-md cursor-pointer transition-colors ${t?"border-primary bg-primary/5":"hover:bg-accent/50"}`,onClick:r,"data-testid":`pool-item-${e.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zh,{profession:e.profession,className:"w-3 h-3 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:e.heroClassName}),rz(e.state)]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Lr,{className:"w-3 h-3"}),e.currentEntries,"/",e.maxEntries]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:["Level ",e.level,e.isRecurrent&&n.jsx(U,{variant:"secondary",className:"text-[10px] px-1",children:"Recurrent"})]}),n.jsxs("span",{children:["$",e.usdEntryFee," / $",e.usdPrize," (",e.tokenType,")"]})]}),e.state!=="OPEN"&&n.jsx(Ut,{value:e.currentEntries/e.maxEntries*100,className:"h-1 mt-2"})]})}const Tve={gardening:{entryFee:"25.00",prize:"100.00",maxEntries:"2"},mining:{entryFee:"5.00",prize:"40.00",maxEntries:"6"},fishing:{entryFee:"5.00",prize:"40.00",maxEntries:"6"},foraging:{entryFee:"5.00",prize:"40.00",maxEntries:"6"}};function Ove(){const{toast:e}=Zt(),[t,r]=p.useState(null),[a,s]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState(null),[m,h]=p.useState(""),[g,v]=p.useState("fishing"),[b,w]=p.useState("all"),[y,j]=p.useState("5.00"),[C,E]=p.useState("40.00"),[A,T]=p.useState("JEWEL"),[k,P]=p.useState("6"),[_,M]=p.useState("common"),[X,I]=p.useState(""),[R,V]=p.useState(!0);p.useEffect(()=>{if(a&&!l){const de=Tve[g];j(de.entryFee),E(de.prize),P(de.maxEntries)}},[g,a,l]);const{data:je,isLoading:Y}=ke({queryKey:["/api/level-racer/classes"]}),{data:te,isLoading:z,refetch:J}=ke({queryKey:["/api/level-racer/admin/pools"]}),{data:$,isLoading:H}=ke({queryKey:["/api/level-racer/pools",t],enabled:!!t}),{data:pe}=ke({queryKey:["/api/level-racer/pools",t,"events"],enabled:!!t}),D=Oe({mutationFn:async de=>{const ct=await(await De("POST","/api/level-racer/admin/pools",de)).text();return ct?JSON.parse(ct):{}},onSuccess:()=>{e({title:"Pool created successfully"}),_e.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]}),s(!1),h("")},onError:de=>{e({title:"Failed to create pool",description:de.message||"An error occurred",variant:"destructive"})}}),ne=Oe({mutationFn:async de=>{const ct=await(await De("POST",`/api/level-racer/dev/pools/${de}/simulate-tick`)).text();return ct?JSON.parse(ct):{}},onSuccess:de=>{e({title:"Simulation tick complete",description:de.message}),_e.invalidateQueries({queryKey:["/api/level-racer/pools",t]}),_e.invalidateQueries({queryKey:["/api/level-racer/pools",t,"events"]}),_e.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]})},onError:de=>{e({title:"Simulation failed",description:de.message||"An error occurred",variant:"destructive"})}}),xe=Oe({mutationFn:async de=>{const{poolId:at,...ct}=de,yr=await(await De("PATCH",`/api/level-racer/admin/pools/${at}`,ct)).text();return yr?JSON.parse(yr):{}},onSuccess:()=>{e({title:"Pool updated successfully"}),_e.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]}),_e.invalidateQueries({queryKey:["/api/level-racer/pools",d?.id]}),c(!1),f(null)},onError:de=>{e({title:"Failed to update pool",description:de.message||"An error occurred",variant:"destructive"})}}),Se=de=>{f(de),j(de.usdEntryFee),E(de.usdPrize),T(de.tokenType),P(de.maxEntries.toString()),M(de.rarityFilter||"common"),I(de.maxMutations!==null?de.maxMutations.toString():""),V(de.isRecurrent),c(!0)},oe=()=>{d&&xe.mutate({poolId:d.id,usdEntryFee:y,usdPrize:C,tokenType:A,maxEntries:parseInt(k),rarityFilter:_,maxMutations:X?parseInt(X):null,isRecurrent:R})},$e=()=>{if(!m){e({title:"Please select a hero class",variant:"destructive"});return}D.mutate({classSlug:m,profession:g,usdEntryFee:y,usdPrize:C,tokenType:A,maxEntries:parseInt(k),rarityFilter:_,maxMutations:X?parseInt(X):null,isRecurrent:R})},ge=te?.pools||[],me=(je?.classes||[]).filter(de=>de.isBasic!==!1),Re=b==="all"?ge:ge.filter(de=>de.profession===b),W=Re.filter(de=>de.state!=="FINISHED"),ce=ge.filter(de=>de.state==="RACING"),Ie=ge.filter(de=>de.state==="OPEN"),Ye=Re.filter(de=>de.state==="FINISHED"),Lt=Dh.reduce((de,at)=>(de[at.value]=ge.filter(ct=>ct.profession===at.value&&ct.state!=="FINISHED"),de),{}),kt=ge.reduce((de,at)=>de+(at.totalFeesCollected||0),0),ee=ge.filter(de=>de.prizeAwarded).reduce((de,at)=>de+at.jewelPrize,0);return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"level-racer-admin",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(kr,{className:"w-6 h-6"}),"Level Racer Admin"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage racing pools and track competitions"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{variant:"outline",onClick:()=>J(),"data-testid":"button-refresh-pools",children:[n.jsx(tt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(Ys,{open:a,onOpenChange:s,children:[n.jsx(AF,{asChild:!0,children:n.jsxs(re,{"data-testid":"button-create-pool",children:[n.jsx(Ji,{className:"w-4 h-4 mr-2"}),"Create Pool"]})}),n.jsxs(ss,{children:[n.jsxs(is,{children:[n.jsx(ls,{children:"Create New Racing Pool"}),n.jsx(os,{children:"Create a new Level Racer pool for a hero class"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"class",children:"Hero Class"}),n.jsxs(Ze,{value:m,onValueChange:h,children:[n.jsx(Qe,{"data-testid":"select-hero-class",children:n.jsx(Je,{placeholder:"Select a class"})}),n.jsx(Xe,{children:me.map(de=>n.jsx(se,{value:de.slug,children:de.displayName},de.slug))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"profession",children:"Quest Profession"}),n.jsxs(Ze,{value:g,onValueChange:de=>v(de),children:[n.jsx(Qe,{"data-testid":"select-profession",children:n.jsx(Je,{})}),n.jsx(Xe,{children:Dh.map(de=>n.jsx(se,{value:de.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Zh,{profession:de.value,className:"w-3 h-3"}),de.label]})},de.value))})]})]})]}),n.jsx(Ln,{}),n.jsx("h4",{className:"text-sm font-medium",children:"Pricing (USD-based)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"usdEntryFee",children:"Entry Fee (USD)"}),n.jsx(Ke,{id:"usdEntryFee",type:"text",value:y,onChange:de=>j(de.target.value),placeholder:"5.00","data-testid":"input-usd-entry-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"usdPrize",children:"Prize (USD)"}),n.jsx(Ke,{id:"usdPrize",type:"text",value:C,onChange:de=>E(de.target.value),placeholder:"40.00","data-testid":"input-usd-prize"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"tokenType",children:"Token Type"}),n.jsxs(Ze,{value:A,onValueChange:de=>T(de),children:[n.jsx(Qe,{"data-testid":"select-token-type",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"JEWEL",children:"JEWEL"}),n.jsx(se,{value:"CRYSTAL",children:"CRYSTAL"}),n.jsx(se,{value:"USDC",children:"USDC"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"maxEntries",children:"Max Entries"}),n.jsx(Ke,{id:"maxEntries",type:"number",value:k,onChange:de=>P(de.target.value),"data-testid":"input-max-entries"})]}),n.jsx(Ln,{}),n.jsx("h4",{className:"text-sm font-medium",children:"Special Race Filters"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"rarityFilter",children:"Rarity Filter"}),n.jsxs(Ze,{value:_,onValueChange:M,children:[n.jsx(Qe,{"data-testid":"select-rarity-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"common",children:"Common Only"}),n.jsx(se,{value:"uncommon",children:"Up to Uncommon"}),n.jsx(se,{value:"rare",children:"Up to Rare"}),n.jsx(se,{value:"legendary",children:"Up to Legendary"}),n.jsx(se,{value:"mythic",children:"All Rarities"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"maxMutations",children:"Max Mutations (empty = no limit)"}),n.jsx(Ke,{id:"maxMutations",type:"number",value:X,onChange:de=>I(de.target.value),placeholder:"No limit","data-testid":"input-max-mutations"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ae,{htmlFor:"isRecurrent",children:"Recurrent Pool"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-create new pool when this one fills"})]}),n.jsx(Qr,{id:"isRecurrent",checked:R,onCheckedChange:V,"data-testid":"switch-recurrent"})]})]}),n.jsxs(cl,{children:[n.jsx(re,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(re,{onClick:$e,disabled:D.isPending,"data-testid":"button-confirm-create",children:[D.isPending&&n.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Pool"]})]})]})]}),n.jsx(Ys,{open:l,onOpenChange:c,children:n.jsxs(ss,{children:[n.jsxs(is,{children:[n.jsx(ls,{children:"Edit Pool Settings"}),n.jsxs(os,{children:["Edit settings for ",d?.heroClassName," (",d?.profession,") pool"]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"edit-entry-fee",children:"Entry Fee (USD)"}),n.jsx(Ke,{id:"edit-entry-fee",type:"number",step:"0.01",value:y,onChange:de=>j(de.target.value),"data-testid":"input-edit-entry-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"edit-prize",children:"Prize (USD)"}),n.jsx(Ke,{id:"edit-prize",type:"number",step:"0.01",value:C,onChange:de=>E(de.target.value),"data-testid":"input-edit-prize"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"edit-token",children:"Payment Token"}),n.jsxs(Ze,{value:A,onValueChange:de=>T(de),children:[n.jsx(Qe,{"data-testid":"select-edit-token",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"JEWEL",children:"JEWEL"}),n.jsx(se,{value:"CRYSTAL",children:"CRYSTAL"}),n.jsx(se,{value:"USDC",children:"USDC"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"edit-max-entries",children:"Max Entries"}),n.jsx(Ke,{id:"edit-max-entries",type:"number",value:k,onChange:de=>P(de.target.value),"data-testid":"input-edit-max-entries"})]})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"edit-rarity",children:"Max Rarity Allowed"}),n.jsxs(Ze,{value:_,onValueChange:M,children:[n.jsx(Qe,{"data-testid":"select-edit-rarity",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"common",children:"Common"}),n.jsx(se,{value:"uncommon",children:"Uncommon"}),n.jsx(se,{value:"rare",children:"Rare"}),n.jsx(se,{value:"legendary",children:"Legendary"}),n.jsx(se,{value:"mythic",children:"Mythic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"edit-mutations",children:"Max Mutations (empty = no limit)"}),n.jsx(Ke,{id:"edit-mutations",type:"number",placeholder:"No limit",value:X,onChange:de=>I(de.target.value),"data-testid":"input-edit-mutations"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qr,{id:"edit-recurrent",checked:R,onCheckedChange:V,"data-testid":"switch-edit-recurrent"}),n.jsx(Ae,{htmlFor:"edit-recurrent",children:"Recurrent (auto-restart when finished)"})]})]}),n.jsxs(cl,{children:[n.jsx(re,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsxs(re,{onClick:oe,disabled:xe.isPending,"data-testid":"button-confirm-edit",children:[xe.isPending&&n.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Racing"}),n.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-racing-pools",children:ce.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ie.length," open for registration"]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Pools"}),n.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-pools",children:ge.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ye.length," finished"]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Fees Collected"}),n.jsx(_r,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-fees-collected",children:kt}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL total"})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Prizes Awarded"}),n.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-prizes-awarded",children:ee}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL total"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs(G,{className:"col-span-1",children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Racing Pools"}),n.jsx(Ce,{children:"Organized by quest profession"})]}),n.jsxs(Ze,{value:b,onValueChange:de=>w(de),children:[n.jsx(Qe,{className:"w-[160px]","data-testid":"select-profession-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"all",children:"All Professions"}),Dh.map(de=>n.jsx(se,{value:de.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Zh,{profession:de.value,className:"w-3 h-3"}),de.label]})},de.value))]})]})]})}),n.jsx(Q,{children:z?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(de=>n.jsx(Me,{className:"h-16 w-full"},de))}):Re.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(kr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No pools found"}),n.jsx("p",{className:"text-sm",children:"Try a different filter or create a pool"})]}):n.jsx(Yi,{className:"h-[600px]",children:n.jsx("div",{className:"space-y-4",children:b==="all"?Dh.map(de=>{const at=Lt[de.value];return at.length===0?null:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-medium text-muted-foreground",children:[n.jsx(Zh,{profession:de.value,className:"w-4 h-4"}),n.jsx("span",{children:de.label}),n.jsx(U,{variant:"secondary",className:"text-[10px]",children:at.length})]}),n.jsx("div",{className:"space-y-2",children:at.map(ct=>n.jsx(F4,{pool:ct,isSelected:t===ct.id,onSelect:()=>r(ct.id)},ct.id))})]},de.value)}):n.jsx("div",{className:"space-y-2",children:W.map(de=>n.jsx(F4,{pool:de,isSelected:t===de.id,onSelect:()=>r(de.id)},de.id))})})})})]}),n.jsxs(G,{className:"col-span-1",children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Pool Details"}),n.jsx(Ce,{children:t?`Pool #${t}`:"Select a pool to view details"})]}),n.jsxs("div",{className:"flex gap-2",children:[t&&$?.state==="OPEN"&&n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>{const de=ge.find(at=>at.id===t);de&&Se(de)},"data-testid":"button-edit-pool",children:[n.jsx(Uq,{className:"w-4 h-4 mr-2"}),"Edit"]}),t&&$?.state==="RACING"&&n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>ne.mutate(t),disabled:ne.isPending,"data-testid":"button-simulate-tick",children:[ne.isPending?n.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Simulate Tick"]})]})]})}),n.jsx(Q,{children:t?H?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(de=>n.jsx(Me,{className:"h-12 w-full"},de))}):$?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.heroClassName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"State:"}),n.jsx("span",{className:"ml-2",children:rz($.state)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Entry Fee:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.usdEntryFee]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prize:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.usdPrize]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Token:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.tokenType})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Fees Collected:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.totalFeesCollectedUsd]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Rarity:"}),n.jsx("span",{className:"ml-2 font-medium capitalize",children:$.rarityFilter})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Max Mutations:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.maxMutations??"No limit"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Recurrent:"}),n.jsx("span",{className:"ml-2",children:$.isRecurrent?n.jsx(kP,{className:"w-4 h-4 inline text-green-500"}):n.jsx(Wi,{className:"w-4 h-4 inline text-muted-foreground"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prize Awarded:"}),n.jsx("span",{className:"ml-2",children:$.prizeAwarded?n.jsx(kP,{className:"w-4 h-4 inline text-green-500"}):n.jsx(Wi,{className:"w-4 h-4 inline text-muted-foreground"})})]})]}),n.jsx(Ln,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(Lr,{className:"w-4 h-4"}),"Entries (",$.entries.length,"/",$.maxEntries,")"]}),$.entries.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No entries yet"}):n.jsx(Yi,{className:"h-[150px]",children:n.jsx("div",{className:"space-y-2",children:$.entries.map(de=>n.jsxs("div",{className:`p-2 border rounded-md text-sm ${de.isWinner?"border-yellow-500 bg-yellow-500/10":""}`,"data-testid":`entry-item-${de.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-mono text-xs",children:["Hero #",de.heroId]}),de.isWinner&&n.jsx(U,{className:"bg-yellow-500 text-black",children:"Winner"})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["XP: ",de.heroCurrentXp]}),n.jsx("span",{children:de.heroReadyToLevel?"Ready to level":"Training..."})]})]},de.id))})})]}),n.jsx(Ln,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(di,{className:"w-4 h-4"}),"Recent Events"]}),n.jsx(Yi,{className:"h-[150px]",children:pe?.events&&pe.events.length>0?n.jsx("div",{className:"space-y-2",children:pe.events.slice(-10).reverse().map(de=>n.jsxs("div",{className:"text-sm border-l-2 border-muted pl-2",children:[n.jsxs("p",{className:"text-muted-foreground text-xs",children:[de.eventType," - ",Pve(de.createdAt)]}),n.jsx("p",{className:"italic",children:de.commentary})]},de.id))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No events yet"})})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"Pool not found"}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Nc,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Select a pool from the list"})]})})]})]})]})}function kve(){const{data:e,isLoading:t,refetch:r}=ke({queryKey:["/api/admin/tokens"]}),a=Oe({mutationFn:async c=>await De("/api/admin/tokens/sync",{method:"POST",body:JSON.stringify({fullSync:c})}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/tokens"]})}}),s=c=>`${c.slice(0,6)}...${c.slice(-4)}`,l=c=>new Date(c).toLocaleString();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Token Registry"}),n.jsx("p",{className:"text-muted-foreground",children:"DFK Chain token metadata from RouteScan"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{variant:"outline",onClick:()=>r(),disabled:t,"data-testid":"button-refresh",children:[n.jsx(tt,{className:`mr-2 h-4 w-4 ${t?"animate-spin":""}`}),"Refresh"]}),n.jsxs(re,{onClick:()=>a.mutate(!1),disabled:a.isPending,"data-testid":"button-sync-known",children:[a.isPending?n.jsx(tt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Ca,{className:"mr-2 h-4 w-4"}),"Sync Known Tokens"]}),n.jsxs(re,{variant:"secondary",onClick:()=>a.mutate(!0),disabled:a.isPending,"data-testid":"button-sync-full",children:[a.isPending?n.jsx(tt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(_r,{className:"mr-2 h-4 w-4"}),"Full RouteScan Sync"]})]})]}),a.isSuccess&&n.jsx(G,{className:"border-green-500/50 bg-green-500/10",children:n.jsx(Q,{className:"pt-4",children:n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400","data-testid":"text-sync-result",children:["Sync complete: ",a.data.added," added, ",a.data.updated," updated, ",a.data.errors," errors"]})})}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5"}),"Registered Tokens"]}),n.jsxs(Ce,{children:[e?.count||0," tokens in registry"]})]}),n.jsx(Q,{children:t?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(tt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Symbol"}),n.jsx(q,{children:"Name"}),n.jsx(q,{children:"Address"}),n.jsx(q,{className:"text-center",children:"Decimals"}),n.jsx(q,{className:"text-center",children:"Holders"}),n.jsx(q,{children:"Chain"}),n.jsx(q,{children:"Last Updated"})]})}),n.jsxs(pt,{children:[e?.tokens.map(c=>n.jsxs(Te,{"data-testid":`row-token-${c.id}`,children:[n.jsx(B,{children:n.jsx(U,{variant:"secondary","data-testid":`badge-symbol-${c.id}`,children:c.symbol})}),n.jsx(B,{className:"font-medium","data-testid":`text-name-${c.id}`,children:c.name}),n.jsx(B,{children:n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded","data-testid":`text-address-${c.id}`,children:s(c.address)})}),n.jsx(B,{className:"text-center","data-testid":`text-decimals-${c.id}`,children:c.decimals}),n.jsx(B,{className:"text-center","data-testid":`text-holders-${c.id}`,children:c.holders?c.holders.toLocaleString():"-"}),n.jsx(B,{children:n.jsx(U,{variant:"outline","data-testid":`badge-chain-${c.id}`,children:c.chain.toUpperCase()})}),n.jsx(B,{className:"text-muted-foreground text-sm","data-testid":`text-updated-${c.id}`,children:l(c.lastUpdatedAt)})]},c.id)),(!e?.tokens||e.tokens.length===0)&&n.jsx(Te,{children:n.jsx(B,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:'No tokens registered. Click "Sync Known Tokens" to populate.'})})]})]})})]})]})}const _ve={light:"",dark:".dark"},az=p.createContext(null);function sz(){const e=p.useContext(az);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const IN=p.forwardRef(({id:e,className:t,children:r,config:a,...s},l)=>{const c=p.useId(),d=`chart-${e||c.replace(/:/g,"")}`;return n.jsx(az.Provider,{value:{config:a},children:n.jsxs("div",{"data-chart":d,ref:l,className:Le("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...s,children:[n.jsx(Rve,{id:d,config:a}),n.jsx(zu,{children:r})]})})});IN.displayName="Chart";const Rve=({id:e,config:t})=>{const r=Object.entries(t).filter(([,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(_ve).map(([a,s])=>`
${s} [data-chart=${e}] {
${r.map(([l,c])=>{const d=c.theme?.[a]||c.color;return d?`  --color-${l}: ${d};`:null}).join(`
`)}
}
`).join(`
`)}}):null},z4=wg,$N=p.forwardRef(({active:e,payload:t,className:r,indicator:a="dot",hideLabel:s=!1,hideIndicator:l=!1,label:c,labelFormatter:d,labelClassName:f,formatter:m,color:h,nameKey:g,labelKey:v},b)=>{const{config:w}=sz(),y=p.useMemo(()=>{if(s||!t?.length)return null;const[C]=t,E=`${v||C?.dataKey||C?.name||"value"}`,A=FN(w,C,E),T=!v&&typeof c=="string"?w[c]?.label||c:A?.label;return d?n.jsx("div",{className:Le("font-medium",f),children:d(T,t)}):T?n.jsx("div",{className:Le("font-medium",f),children:T}):null},[c,d,t,s,f,w,v]);if(!e||!t?.length)return null;const j=t.length===1&&a!=="dot";return n.jsxs("div",{ref:b,className:Le("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[j?null:y,n.jsx("div",{className:"grid gap-1.5",children:t.map((C,E)=>{const A=`${g||C.name||C.dataKey||"value"}`,T=FN(w,C,A),k=h||C.payload.fill||C.color;return n.jsx("div",{className:Le("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:m&&C?.value!==void 0&&C.name?m(C.value,C.name,C,E,C.payload):n.jsxs(n.Fragment,{children:[T?.icon?n.jsx(T.icon,{}):!l&&n.jsx("div",{className:Le("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":j&&a==="dashed"}),style:{"--color-bg":k,"--color-border":k}}),n.jsxs("div",{className:Le("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[j?y:null,n.jsx("span",{className:"text-muted-foreground",children:T?.label||C.name})]}),C.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:C.value.toLocaleString()})]})]})},C.dataKey)})})]})});$N.displayName="ChartTooltip";const Mve=p.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:a="bottom",nameKey:s},l)=>{const{config:c}=sz();return r?.length?n.jsx("div",{ref:l,className:Le("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:r.map(d=>{const f=`${s||d.dataKey||"value"}`,m=FN(c,d,f);return n.jsxs("div",{className:Le("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[m?.icon&&!t?n.jsx(m.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:d.color}}),m?.label]},d.value)})}):null});Mve.displayName="ChartLegend";function FN(e,t,r){if(typeof t!="object"||t===null)return;const a="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let s=r;return r in t&&typeof t[r]=="string"?s=t[r]:a&&r in a&&typeof a[r]=="string"&&(s=a[r]),s in e?e[s]:e[r]}const Dve=[{value:"1w",label:"1W"},{value:"1m",label:"1M"},{value:"3m",label:"3M"},{value:"1y",label:"1Y"},{value:"2y",label:"2Y"},{value:"all",label:"All"}],B4={bridgedIn:{label:"Bridged In",color:"hsl(var(--chart-1))"},bridgedOut:{label:"Bridged Out",color:"hsl(var(--chart-2))"},netFlow:{label:"Net Flow",color:"hsl(var(--chart-3))"},extracted:{label:"Extracted",color:"hsl(var(--chart-4))"},value:{label:"Value",color:"hsl(var(--chart-1))"}};function Lve(){const[e,t]=p.useState("all"),{data:r,isLoading:a}=ke({queryKey:["/api/admin/bridge/overview"]}),{data:s,isLoading:l}=ke({queryKey:["/api/admin/bridge/extractors",e],queryFn:async()=>{const A=await fetch(`/api/admin/bridge/extractors?timeRange=${e}&limit=1000`);if(!A.ok)throw new Error("Failed to fetch extractors");return A.json()}}),c=r&&!("error"in r)?r:null,d=Array.isArray(s)?s:[],f=A=>{const T=typeof A=="string"?parseFloat(A):A;return T>=1e9?`$${(T/1e9).toFixed(2)}B`:T>=1e6?`$${(T/1e6).toFixed(2)}M`:T>=1e3?`$${(T/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T)},m=A=>{const T=typeof A=="string"?parseFloat(A):A;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(T)},h=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=A=>`${A.slice(0,6)}...${A.slice(-4)}`,v=c?.events?.totalUsdIn||0,b=c?.events?.totalUsdOut||0,w=v-b,y=c?.metrics?.extractorCount||0,j=c?.metrics?.totalExtracted||0,C=[{name:"Bridged In",value:v,fill:"hsl(var(--chart-1))"},{name:"Bridged Out",value:b,fill:"hsl(var(--chart-2))"}],E=d.slice(0,10).map((A,T)=>({name:g(A.wallet),extracted:parseFloat(A.netExtractedUsd),fill:`hsl(var(--chart-${T%5+1}))`}));return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"extractors-analysis",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Extractor Analysis"}),n.jsx("p",{className:"text-muted-foreground",children:"Analyze bridge flow delta and identify value extractors"})]}),a?n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(A=>n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsx(Me,{className:"h-4 w-24"})}),n.jsx(Q,{children:n.jsx(Me,{className:"h-8 w-32"})})]},A))}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(G,{"data-testid":"card-bridged-in",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Bridged In"}),n.jsx(sp,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-bridged-in",children:f(v)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.events?.in?.toLocaleString()||0," events"]})]})]}),n.jsxs(G,{"data-testid":"card-bridged-out",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Bridged Out"}),n.jsx(ip,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-bridged-out",children:f(b)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.events?.out?.toLocaleString()||0," events"]})]})]}),n.jsxs(G,{"data-testid":"card-net-flow",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Net Flow (Delta)"}),w>=0?n.jsx(On,{className:"h-4 w-4 text-green-500"}):n.jsx(Sc,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(Q,{children:[n.jsxs("div",{className:`text-2xl font-bold ${w>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-net-flow",children:[w>=0?"+":"",f(w)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:w>=0?"Net inflow to DFK":"Net outflow from DFK"})]})]}),n.jsxs(G,{"data-testid":"card-extractors",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Extractors Identified"}),n.jsx(qs,{className:"h-4 w-4 text-amber-500"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-extractor-count",children:y.toLocaleString()}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(j)," total extracted"]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Bridge Flow Breakdown"}),n.jsx(Ce,{children:"Total USD value bridged in vs out"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"h-[300px]",children:n.jsx(IN,{config:B4,className:"h-full w-full",children:n.jsxs(Og,{children:[n.jsx(If,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",nameKey:"name",label:({name:A,value:T})=>`${A}: ${f(T)}`,labelLine:!0,children:C.map((A,T)=>n.jsx(li,{fill:A.fill},`cell-${T}`))}),n.jsx(z4,{content:n.jsx($N,{formatter:A=>m(A)})}),n.jsx(jf,{})]})})}),n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),n.jsxs("span",{className:"text-lg font-bold",children:[v>0?(w/v*100).toFixed(1):0,"%"]})]}),n.jsx(Ut,{value:v>0?Math.max(0,w/v*100):0,className:"mt-2 h-2"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Percentage of bridged-in value retained in DFK"})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Top 10 Extractors"}),n.jsx(Ce,{children:"Wallets with highest net extraction"})]}),n.jsx(Q,{children:n.jsx("div",{className:"h-[300px]",children:E.length>0?n.jsx(IN,{config:B4,className:"h-full w-full",children:n.jsxs(Wxe,{data:E,layout:"vertical",margin:{left:80,right:20,top:10,bottom:10},children:[n.jsx(AS,{type:"number",tickFormatter:A=>f(A)}),n.jsx(PS,{type:"category",dataKey:"name",width:75,tick:{fontSize:11}}),n.jsx(z4,{content:n.jsx($N,{formatter:A=>m(A)})}),n.jsx(C6,{dataKey:"extracted",radius:4,children:E.map((A,T)=>n.jsx(li,{fill:A.fill},`cell-${T}`))})]})}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No extractor data available"})})})]})]})]}),n.jsxs(G,{children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Lr,{className:"h-5 w-5"}),"All Extractors"]}),n.jsx(Ce,{children:"Wallets that have extracted more value than they brought in (net extracted > $100)"})]}),n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg","data-testid":"time-range-filter",children:Dve.map(A=>n.jsx(re,{variant:e===A.value?"default":"ghost",size:"sm",onClick:()=>t(A.value),className:"h-7 px-3 text-xs font-medium","data-testid":`button-time-${A.value}`,children:A.label},A.value))})]})}),n.jsx(Q,{children:l?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(A=>n.jsx(Me,{className:"h-12 w-full"},A))}):d.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No extractors identified yet. Run the bridge indexer and metrics refresh."}):n.jsx(Yi,{className:"h-[500px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-2 text-xs font-medium text-muted-foreground bg-muted/50 rounded-md",children:[n.jsx("div",{children:"Wallet"}),n.jsx("div",{children:"Summoner"}),n.jsx("div",{className:"text-right",children:"Bridged In"}),n.jsx("div",{className:"text-right",children:"Bridged Out"}),n.jsx("div",{className:"text-right",children:"Net Extracted"}),n.jsx("div",{className:"text-right",children:"Last Bridge Amt"}),n.jsx("div",{className:"text-center",children:"Flags"}),n.jsx("div",{className:"text-right",children:"Last Bridge"})]}),n.jsx(Ln,{}),d.map(A=>{const T=parseFloat(A.netExtractedUsd),k=A.extractorFlags?.includes("heavy_extractor"),P=A.extractorFlags?.includes("net_extractor");return n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-3 text-sm items-center hover-elevate rounded-md","data-testid":`row-extractor-${A.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gc,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${A.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline flex items-center gap-1","data-testid":`link-wallet-${A.id}`,children:[g(A.wallet),n.jsx(nr,{className:"h-3 w-3"})]})]}),n.jsx("div",{className:"text-xs text-primary font-medium truncate","data-testid":`text-summoner-${A.id}`,children:A.summonerName||"*"}),n.jsx("div",{className:"text-right text-green-600 font-medium",children:f(A.totalBridgedInUsd)}),n.jsx("div",{className:"text-right text-red-600 font-medium",children:f(A.totalBridgedOutUsd)}),n.jsx("div",{className:`text-right font-bold ${T>0?"text-amber-600":"text-foreground"}`,children:f(T)}),n.jsx("div",{className:"text-right text-muted-foreground",children:A.lastBridgeAmountUsd?f(A.lastBridgeAmountUsd):"-"}),n.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[k&&n.jsx(U,{variant:"destructive",className:"text-xs",children:"Heavy"}),P&&!k&&n.jsx(U,{variant:"secondary",className:"text-xs",children:"Net"}),!k&&!P&&n.jsx(U,{variant:"outline",className:"text-xs",children:"-"})]}),n.jsx("div",{className:"text-right text-muted-foreground text-xs",children:A.lastBridgeAt?h(A.lastBridgeAt):"-"})]},A.id)})]})})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Flow Statistics"}),n.jsx(Ce,{children:"Detailed breakdown of bridge activity"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(na,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Value Bridged In"})]}),n.jsx("p",{className:"text-2xl font-bold",children:m(v)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Across ",c?.events?.in?.toLocaleString()||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(na,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Value Bridged Out"})]}),n.jsx("p",{className:"text-2xl font-bold",children:m(b)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Across ",c?.events?.out?.toLocaleString()||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w>=0?n.jsx(On,{className:"h-5 w-5 text-green-500"}):n.jsx(Sc,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Net Flow (Delta)"})]}),n.jsxs("p",{className:`text-2xl font-bold ${w>=0?"text-green-600":"text-red-600"}`,children:[w>=0?"+":"",m(w)]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w>=0?"Value retained in ecosystem":"Value extracted from ecosystem"})]})]})})]})]})}function Ive(){const[,e]=Ka(),{data:t,isLoading:r,refetch:a}=ke({queryKey:["/api/admin/pools"],refetchInterval:3e4}),s=d=>d==null||isNaN(d)?"$0.00":d>=1e6?`$${(d/1e6).toFixed(2)}M`:d>=1e3?`$${(d/1e3).toFixed(2)}K`:`$${d.toFixed(2)}`,l=d=>d==null||isNaN(d)?"0.00%":`${(d*100).toFixed(2)}%`,c=d=>{e(`/admin/pools/${d}`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Garden Pools"}),n.jsx("p",{className:"text-muted-foreground",children:"LP pools with APR breakdowns and gardener analytics"})]}),n.jsxs(re,{variant:"outline",onClick:()=>a(),disabled:r,"data-testid":"button-refresh",children:[n.jsx(tt,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Tu,{className:"h-5 w-5"}),"Active Pools"]}),n.jsxs(Ce,{children:[t?.count||0," pools with staked liquidity"]})]}),n.jsx(Q,{children:r?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(tt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"PID"}),n.jsx(q,{children:"Pair"}),n.jsx(q,{className:"text-right",children:"V1 TVL"}),n.jsx(q,{className:"text-right",children:"V2 TVL"}),n.jsx(q,{className:"text-right",children:"Total TVL"}),n.jsx(q,{className:"text-right",children:"Passive APR"}),n.jsx(q,{className:"text-right",children:"Active APR"}),n.jsx(q,{className:"text-right",children:"Total APR"}),n.jsx(q,{className:"w-10"})]})}),n.jsxs(pt,{children:[t?.pools.map(d=>n.jsxs(Te,{className:"cursor-pointer hover-elevate",onClick:()=>c(d.pid),"data-testid":`row-pool-${d.pid}`,children:[n.jsx(B,{children:n.jsx(U,{variant:"outline","data-testid":`badge-pid-${d.pid}`,children:d.pid})}),n.jsx(B,{children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium","data-testid":`text-pair-${d.pid}`,children:d.pairName})})}),n.jsx(B,{className:"text-right","data-testid":`text-v1-tvl-${d.pid}`,children:d.v1TVL>0?n.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:s(d.v1TVL)}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(B,{className:"text-right","data-testid":`text-v2-tvl-${d.pid}`,children:d.v2TVL>0?n.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:s(d.v2TVL)}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(B,{className:"text-right font-medium","data-testid":`text-tvl-${d.pid}`,children:s(d.tvl)}),n.jsx(B,{className:"text-right","data-testid":`text-passive-apr-${d.pid}`,children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(On,{className:"h-3 w-3 text-muted-foreground"}),l(d.passiveAPR)]})}),n.jsx(B,{className:"text-right","data-testid":`text-active-apr-${d.pid}`,children:d.activeAPRMin===d.activeAPRMax?l(d.activeAPRMin):n.jsxs("span",{className:"text-muted-foreground",children:[l(d.activeAPRMin)," - ",l(d.activeAPRMax)]})}),n.jsx(B,{className:"text-right","data-testid":`text-total-apr-${d.pid}`,children:n.jsx(U,{variant:"secondary",children:d.totalAPRMin===d.totalAPRMax?l(d.totalAPRMin):`${l(d.totalAPRMin)} - ${l(d.totalAPRMax)}`})}),n.jsx(B,{children:n.jsx(lf,{className:"h-4 w-4 text-muted-foreground"})})]},d.pid)),(!t?.pools||t.pools.length===0)&&n.jsx(Te,{children:n.jsx(B,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No pools found. Check that pool analytics cache is populated."})})]})]})})]})]})}function $ve(){const{pid:e}=tf(),[,t]=Ka(),{toast:r}=Zt(),[a,s]=p.useState(4),[l,c]=p.useState("300000"),{data:d,isLoading:f,refetch:m}=ke({queryKey:["/api/admin/pools",e],enabled:!!e}),{data:h,isLoading:g,refetch:v,isFetching:b}=ke({queryKey:["/api/admin/pools",e,"all-stakers"],enabled:!!e}),{data:w,refetch:y}=ke({queryKey:["/api/admin/pool-indexer/status"],refetchInterval:2e3}),j=w?.unifiedIndexers?.find(D=>D.pid===Number(e)),C=j?.live?{isRunning:j.live.isRunning,currentBlock:j.live.currentBlock,targetBlock:j.live.targetBlock,totalEventsFound:(j.live.stakersFound||0)+(j.live.swapsFound||0)+(j.live.rewardsFound||0),totalStakersFound:j.live.stakersFound||0,batchesCompleted:0,startedAt:null,lastBatchAt:null,lastBatchEventsFound:0,percentComplete:j.live.percentComplete}:null,E=j?{pid:j.pid,lastBlock:j.lastIndexedBlock,stakersFound:j.live?.stakersFound||0,lastUpdated:j.updatedAt,isComplete:j.status==="complete"}:void 0,A=!!j?.autoRun,T=Oe({mutationFn:async()=>{const ne=await(await De("POST","/api/admin/pool-indexer/unified/auto-run",{pid:Number(e),action:"start",intervalMs:parseInt(l)})).text();return ne?JSON.parse(ne):{success:!0}},onSuccess:()=>{r({title:"Auto-Run Started",description:`Unified indexer will run automatically every ${parseInt(l)/6e4} minutes.`}),y()},onError:D=>{r({title:"Error Starting Auto-Run",description:D.message,variant:"destructive"})}}),k=Oe({mutationFn:async()=>{const ne=await(await De("POST","/api/admin/pool-indexer/unified/auto-run",{pid:Number(e),action:"stop"})).text();return ne?JSON.parse(ne):{success:!0}},onSuccess:D=>{r({title:"Auto-Run Stopped",description:`Completed ${D.result?.runsCompleted||0} runs before stopping.`}),y()},onError:D=>{r({title:"Error Stopping Auto-Run",description:D.message,variant:"destructive"})}}),P=D=>{D?T.mutate():k.mutate()},_=Oe({mutationFn:async()=>{const ne=await(await De("POST","/api/admin/pool-indexer/unified/trigger",{pid:Number(e)})).text();return ne?JSON.parse(ne):{success:!0}},onSuccess:D=>{const ne=D;r({title:"Unified Batch Complete",description:`Found ${ne.result?.stakersUpdated||0} stakers, ${ne.result?.swapsSaved||0} swaps, ${ne.result?.rewardsSaved||0} rewards.`}),y(),v()},onError:D=>{r({title:"Indexer Error",description:D.message,variant:"destructive"})}}),M=Oe({mutationFn:async()=>(r({title:"Names Update",description:"Summoner name updates happen automatically during indexing."}),{success:!0}),onSuccess:()=>{v()},onError:D=>{r({title:"Update Error",description:D.message,variant:"destructive"})}}),X=Oe({mutationFn:async()=>{const ne=await(await De("POST","/api/admin/pool-indexer/unified/reset",{pid:Number(e)})).text();return ne?JSON.parse(ne):{success:!0}},onSuccess:()=>{r({title:"Index Reset",description:"Unified indexer has been reset. Run indexer to rebuild."}),y(),v()},onError:D=>{r({title:"Reset Error",description:D.message,variant:"destructive"})}}),I=D=>D==null?"$0.00":D>=1e6?`$${(D/1e6).toFixed(2)}M`:D>=1e3?`$${(D/1e3).toFixed(2)}K`:`$${D.toFixed(2)}`,R=D=>D==null?"0.00%":`${D.toFixed(2)}%`,V=D=>`${D.slice(0,6)}...${D.slice(-4)}`,je=()=>{m(),v()},Y=d?.pool,te=d?.aprBreakdown,z=f||g,[J,$]=p.useState("1y"),H=D=>{if(D==null)return 0;switch(J){case"1m":return D/12;case"24h":return D/365;default:return D}},pe=()=>{switch(J){case"1m":return"Monthly";case"24h":return"Daily";default:return"Annual"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t("/admin/pools"),"data-testid":"button-back",children:n.jsx(Zi,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:Y?.pairName||`Pool ${e}`}),n.jsxs("p",{className:"text-muted-foreground",children:["Pool ID: ",e," ",Y?.lpToken&&` LP: ${V(Y.lpToken)}`]})]})]}),n.jsxs(re,{variant:"outline",onClick:je,disabled:z,"data-testid":"button-refresh",children:[n.jsx(tt,{className:`mr-2 h-4 w-4 ${z?"animate-spin":""}`}),"Refresh"]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(tt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):Y?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"APR Window:"}),n.jsx("div",{className:"flex gap-1",children:["1y","1m","24h"].map(D=>n.jsx(re,{variant:J===D?"default":"outline",size:"sm",onClick:()=>$(D),"data-testid":`button-apr-${D}`,children:D.toUpperCase()},D))}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",pe()," rates)"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Value Locked"}),n.jsx(Tu,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tvl",children:I(Y.totalTVL)})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Passive APR"}),n.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-passive-apr",children:R(H(te?.passive?.totalPassive))}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Fee: ",R(H(te?.passive?.feeAprValue))," + Harvest: ",R(H(te?.passive?.harvestAprValue))]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Active APR"}),n.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-apr",children:H(te?.active?.questAprWorst)===H(te?.active?.questAprBest)?R(H(te?.active?.questAprWorst)):`${R(H(te?.active?.questAprWorst))} - ${R(H(te?.active?.questAprBest))}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Hero-dependent quest rewards"})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total APR"}),n.jsx(On,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400","data-testid":"text-total-apr",children:H(te?.total?.worst)===H(te?.total?.best)?R(H(te?.total?.worst)):`${R(H(te?.total?.worst))} - ${R(H(te?.total?.best))}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined passive + active APR"})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Lr,{className:"h-5 w-5"}),"All Gardeners List"]}),n.jsxs(Ce,{className:"flex items-center gap-2 flex-wrap",children:[h?.count||0," wallets staked in this pool",typeof h?.activeWalletCount=="number"&&n.jsx(uD,{delayDuration:0,children:n.jsxs(Su,{children:[n.jsx(Cu,{asChild:!0,children:n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground cursor-default",children:[n.jsx(RP,{className:"h-3 w-3"}),h.activeWalletCount," active wallets",n.jsx("span",{className:"text-[10px]",children:"(last 30d)"})]})}),n.jsx(hc,{children:n.jsx("p",{className:"max-w-xs text-sm",children:"Active wallets have recent activity in the past 30 days and a non-zero stake across V1 or V2."})})]})}),h?.source&&n.jsx(U,{variant:h.source==="indexed"?"default":"secondary",children:h.source==="indexed"?"Indexed":"Live Scan"})]})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>v(),disabled:b,"data-testid":"button-fetch-stakers",children:[n.jsx(tt,{className:`mr-2 h-4 w-4 ${b?"animate-spin":""}`}),b?"Fetching...":"Fetch Stakers"]})]}),n.jsx(Q,{children:g||b?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(tt,{className:"h-8 w-8 animate-spin text-muted-foreground"}),n.jsx("span",{className:"ml-2 text-muted-foreground",children:"Scanning blockchain..."})]}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Wallet"}),n.jsx(q,{children:"Summoner"}),n.jsx(q,{className:"text-right",children:"V1 USD"}),n.jsx(q,{className:"text-right",children:"V2 USD"}),n.jsx(q,{className:"text-right",children:"Total"}),n.jsx(q,{className:"text-right",children:"Last Activity"})]})}),n.jsxs(pt,{children:[h?.stakers.map((D,ne)=>n.jsxs(Te,{"data-testid":`row-staker-${ne}`,children:[n.jsx(B,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${D.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm hover:underline",onClick:xe=>xe.stopPropagation(),"data-testid":`link-wallet-${ne}`,children:[n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:V(D.wallet)}),n.jsx(nr,{className:"h-3 w-3"})]})}),n.jsx(B,{"data-testid":`text-summoner-${ne}`,children:D.summonerName?n.jsx("span",{className:"font-medium text-primary",children:D.summonerName}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(B,{className:"text-right font-medium","data-testid":`text-v1-${ne}`,children:(()=>{const xe=parseFloat(D.v1Value);return!isNaN(xe)&&xe>0?n.jsxs("span",{className:"text-amber-600 dark:text-amber-400",children:["$",xe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})()}),n.jsx(B,{className:"text-right font-medium","data-testid":`text-v2-${ne}`,children:(()=>{const xe=parseFloat(D.v2Value);return!isNaN(xe)&&xe>0?n.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",xe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})()}),n.jsx(B,{className:"text-right font-medium","data-testid":`text-total-${ne}`,children:(()=>{const xe=parseFloat(D.totalValue);return!isNaN(xe)&&xe>0?`$${xe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"})()}),n.jsx(B,{className:"text-right","data-testid":`text-activity-${ne}`,children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx(U,{variant:D.lastActivity.type==="Deposit"?"default":"secondary",children:D.lastActivity.type}),D.lastActivity.amount&&n.jsxs("span",{className:"text-xs font-medium",children:[parseFloat(D.lastActivity.amount)>1e-4?parseFloat(D.lastActivity.amount).toFixed(4):"<0.0001"," LP"]}),D.lastActivity.date&&n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(D.lastActivity.date).toLocaleDateString()})]})})]},D.wallet)),(!h?.stakers||h.stakers.length===0)&&n.jsx(Te,{children:n.jsx(B,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:'No stakers found. Click "Fetch Stakers" to scan blockchain.'})})]})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Ca,{className:"h-5 w-5"}),"Unified Indexer"]}),n.jsx(Ce,{children:"Scans Deposit, Withdraw, Swap, and Harvest events in a single blockchain pass"})]}),n.jsxs(Q,{className:"space-y-4",children:[C&&(C.isRunning||C.completedAt&&A)&&n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-3","data-testid":"section-live-progress",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:C.isRunning?n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:"h-4 w-4 animate-spin text-primary"}),n.jsx("span",{className:"font-medium",children:"Indexing in Progress"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ca,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"Sync Complete"})]})}),n.jsxs(U,{variant:C.isRunning?"default":"secondary","data-testid":"badge-percent-complete",children:[C.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:C.percentComplete,className:"h-2","data-testid":"progress-indexer"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Current Block"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-current-block",children:C.currentBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Target Block"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-target-block",children:C.targetBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Events Found"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-events",children:C.totalEventsFound.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Batches Completed"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-batches",children:C.batchesCompleted.toLocaleString()})]})]}),C.completedAt&&!C.isRunning&&n.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Completed at ",new Date(C.completedAt).toLocaleTimeString()," - waiting for new blocks"]}),C.lastBatchAt&&C.isRunning&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last batch: ",new Date(C.lastBatchAt).toLocaleTimeString(),"(",C.lastBatchEventsFound," events)"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Indexed Block"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-block",children:C?.currentBlock?.toLocaleString()||E?.lastBlock?.toLocaleString()||"Not started"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Stakers Found"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-stakers",children:C?.totalStakersFound?.toLocaleString()||E?.stakersFound?.toLocaleString()||"0"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-events",children:C?.totalEventsFound?.toLocaleString()||"0"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(U,{variant:C?.isRunning||E?.isComplete?"default":"secondary","data-testid":"badge-indexer-status",children:C?.isRunning?"Indexing...":E?.isComplete?"Complete":"Idle"})]})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[n.jsx(Gq,{className:`h-4 w-4 ${A?"text-green-500":"text-muted-foreground"}`}),n.jsx("span",{className:"text-sm font-medium",children:"Auto-Run:"}),n.jsx(Qr,{checked:A,onCheckedChange:P,disabled:T.isPending||k.isPending,"data-testid":"switch-auto-run"}),n.jsxs(Ze,{value:l,onValueChange:c,disabled:A,children:[n.jsx(Qe,{className:"w-28","data-testid":"select-auto-run-interval",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"60000",children:"1 min"}),n.jsx(se,{value:"300000",children:"5 min"}),n.jsx(se,{value:"600000",children:"10 min"}),n.jsx(se,{value:"1800000",children:"30 min"}),n.jsx(se,{value:"3600000",children:"1 hour"})]})]}),A&&j?.autoRun&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(dM,{className:"h-3 w-3"}),n.jsxs("span",{children:[j.autoRun.runsCompleted," runs"]})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Workers:"}),n.jsxs(Ze,{value:a.toString(),onValueChange:D=>s(Number(D)),children:[n.jsx(Qe,{className:"w-20","data-testid":"select-workers",children:n.jsx(Je,{})}),n.jsx(Xe,{children:[1,2,4,6,8].map(D=>n.jsx(se,{value:D.toString(),children:D},D))})]})]}),n.jsxs(re,{onClick:()=>_.mutate(),disabled:_.isPending,"data-testid":"button-run-indexer",children:[_.isPending?n.jsx(tt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(vn,{className:"mr-2 h-4 w-4"}),_.isPending?"Indexing...":"Run Indexer Batch"]}),n.jsxs(re,{variant:"outline",onClick:()=>M.mutate(),disabled:M.isPending,"data-testid":"button-update-names",children:[M.isPending?n.jsx(tt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(RP,{className:"mr-2 h-4 w-4"}),M.isPending?"Updating...":"Update Summoner Names"]}),n.jsxs(re,{variant:"outline",onClick:()=>X.mutate(),disabled:X.isPending,"data-testid":"button-reset-index",children:[X.isPending?n.jsx(tt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(wc,{className:"mr-2 h-4 w-4"}),"Reset Index"]})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"}),"Pool Activity"]}),n.jsx(Ce,{children:"Recent staking and unstaking activity for this pool"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"py-8 text-center text-muted-foreground","data-testid":"text-activity-placeholder",children:[n.jsx("p",{children:"Activity tracking coming soon."}),n.jsx("p",{className:"text-sm mt-2",children:"This section will show recent deposits, withdrawals, and quest completions."})]})})]})]}):n.jsx(G,{children:n.jsx(Q,{className:"py-8",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Pool not found or data unavailable."})})})]})}function iz({status:e,isRunning:t}){return t?n.jsxs(U,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Ee,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(U,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Tr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(U,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(rr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(U,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(di,{className:"w-3 h-3"}),"Idle"]})}function Pr(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function nb(e){if(!e)return 0;const t=parseFloat(e);return isNaN(t)?0:t}function Jh(e){return e.toLocaleString()}function lz(e,t){const r=typeof e=="number"&&!isNaN(e),a=typeof t=="number"&&!isNaN(t);return!r&&!a?null:r&&a&&e!==t?`${Jh(e)}  ${Jh(t)}`:Jh(r?e:t)}function ep(e){return[...e].sort((t,r)=>t.pid-r.pid)}function Fve(e,t,r){if(t<=0||t>=100)return null;const a=r.get(e);if(!a||a.length<2)return null;const c=Date.now()-3e4,d=a.filter(w=>w.time>=c);if(d.length<2){if(a.length>=2){const w=a[0],y=a[a.length-1],j=y.time-w.time,C=y.percent-w.percent;if(j<5e3||C<=0)return null;const E=C/j;if(!isFinite(E)||E<=0)return null;const A=(100-t)/E;return U4(A)}return null}const f=d[0],m=d[d.length-1],h=m.time-f.time,g=m.percent-f.percent;if(h<3e3||g<=0)return null;const v=g/h;if(!isFinite(v)||v<=0)return null;const b=(100-t)/v;return isFinite(b)?U4(b):null}function U4(e){if(!isFinite(e)||e<0)return null;const t=Math.floor(e/1e3);if(t<60)return`~${t}s`;const r=Math.floor(t/60);if(r<60)return`~${r}m`;const a=Math.floor(r/60),s=r%60;if(a<24)return`~${a}h ${s}m`;const l=Math.floor(a/24),c=a%24;return`~${l}d ${c}h`}function zve(e,t,r,a){const s=Date.now(),l=6e4;if(!a||r<=0||r>=100){e.delete(t);return}let c=e.get(t);c||(c=[],e.set(t,c));const d=c[c.length-1];(!d||s-d.time>=1e3)&&c.push({time:s,percent:r});const f=s-l;for(;c.length>0&&c[0].time<f;)c.shift()}function Bve(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Me,{className:"h-10 w-40"}),n.jsx(Me,{className:"h-10 w-40"}),n.jsx(Me,{className:"h-10 w-40"})]}),n.jsx(G,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4].map(e=>n.jsx(Me,{className:"h-12 w-full"},e))})})})]})}function H4({indexers:e,type:t,onTrigger:r,onAutoRun:a,isTriggering:s}){return!e||e.length===0?n.jsx(G,{children:n.jsxs(Q,{className:"p-8 text-center text-muted-foreground",children:["No ",t," indexers found. Trigger a batch to initialize."]})}):n.jsx(G,{children:n.jsx(Q,{className:"p-0",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-16",children:"Pool"}),n.jsx(q,{children:"Status"}),n.jsx(q,{children:"Progress"}),n.jsx(q,{className:"text-right",children:"Events"}),n.jsx(q,{className:"text-right",children:"Last Block"}),n.jsx(q,{className:"text-right",children:"Updated"}),n.jsx(q,{className:"text-right",children:"Actions"})]})}),n.jsx(pt,{children:e.map(l=>{const c=l.live?.isRunning||!1,d=l.live?.percentComplete||0,f=!!l.autoRun,m=l.live?.currentBlock??l.lastIndexedBlock,h=l.live?.targetBlock??l.lastIndexedBlock,g=lz(m,h),v=l.updatedAt?new Date(l.updatedAt).toLocaleTimeString():null,b=t==="swap"?l.swapEventCount??l.live?.totalEventsFound??l.totalEventsIndexed:l.rewardEventCount??l.live?.totalEventsFound??l.totalEventsIndexed;return n.jsxs(Te,{"data-testid":`row-indexer-${t}-${l.pid}`,children:[n.jsxs(B,{className:"font-mono font-medium",children:["#",l.pid]}),n.jsx(B,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(iz,{status:l.status,isRunning:c}),f&&n.jsxs(U,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1 text-xs",children:[n.jsx(Wn,{className:"w-3 h-3"}),"Auto (",l.autoRun.runsCompleted," runs)"]})]})}),n.jsxs(B,{children:[c&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ut,{value:d,className:"h-2 w-24"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.toFixed(1),"%"]}),g&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Blocks ",g]})]}),!c&&l.status==="complete"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-green-500",children:"Synced"}),g&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Last at ",g]})]})]}),n.jsx(B,{className:"text-right font-mono",children:Pr(b||0)}),n.jsx(B,{className:"text-right font-mono text-xs",children:m!==void 0?Jh(m):"-"}),n.jsx(B,{className:"text-right text-xs text-muted-foreground",children:v||"-"}),n.jsx(B,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>r(l.pid),disabled:c||s,"data-testid":`button-trigger-${t}-${l.pid}`,children:s?n.jsx(Ee,{className:"w-4 h-4 animate-spin"}):n.jsx(vn,{className:"w-4 h-4"})}),n.jsx(re,{size:"sm",variant:f?"destructive":"outline",onClick:()=>a(l.pid,f?"stop":"start"),"data-testid":`button-auto-${t}-${l.pid}`,children:f?n.jsx(pr,{className:"w-4 h-4"}):n.jsx(Wn,{className:"w-4 h-4"})})]})})]},l.indexerName)})})]})})})}function Uve({aggregates:e}){const t=(e||[]).filter(r=>r!=null&&r.pid!==void 0);return t.length===0?n.jsx(G,{children:n.jsx(Q,{className:"p-8 text-center text-muted-foreground",children:"No aggregates computed yet. Trigger aggregation to compute."})}):n.jsx(G,{children:n.jsx(Q,{className:"p-0",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-16",children:"Pool"}),n.jsx(q,{children:"Date"}),n.jsx(q,{className:"text-right",children:"TVL"}),n.jsx(q,{className:"text-right",children:"Volume 24h"}),n.jsx(q,{className:"text-right",children:"Fees 24h"}),n.jsx(q,{className:"text-right",children:"Rewards 24h"}),n.jsx(q,{className:"text-right",children:"Fee APR"}),n.jsx(q,{className:"text-right",children:"Reward APR"}),n.jsx(q,{className:"text-right",children:"Total APR"})]})}),n.jsx(pt,{children:t.map(r=>n.jsxs(Te,{"data-testid":`row-aggregate-${r.pid}`,children:[n.jsxs(B,{className:"font-mono font-medium",children:["#",r.pid]}),n.jsx(B,{children:r.date}),n.jsxs(B,{className:"text-right font-mono",children:["$",Pr(r.tvl)]}),n.jsxs(B,{className:"text-right font-mono",children:["$",Pr(r.volume24h)]}),n.jsxs(B,{className:"text-right font-mono",children:["$",Pr(r.fees24h)]}),n.jsxs(B,{className:"text-right font-mono",children:[Pr(r.rewards24h)," CRYSTAL"]}),n.jsxs(B,{className:"text-right font-mono text-blue-500",children:[nb(r.feeApr).toFixed(2),"%"]}),n.jsxs(B,{className:"text-right font-mono text-purple-500",children:[nb(r.harvestApr).toFixed(2),"%"]}),n.jsxs(B,{className:"text-right font-mono text-green-500 font-bold",children:[nb(r.totalApr).toFixed(2),"%"]})]},`${r.pid}-${r.date}`))})]})})})}function Hve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return null;const a=e.filter(d=>d.isRunning),s=e.reduce((d,f)=>d+(f.percentComplete??0),0)/e.length,l=Math.min(...e.map(d=>d.percentComplete??0)),c=Math.max(...e.map(d=>d.percentComplete??0));return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover-elevate rounded px-1 py-0.5",onClick:()=>r(!t),"data-testid":"worker-summary",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-14",children:[a.length,"/",e.length,"w"]}),n.jsx(Ut,{value:s,className:"h-1.5 flex-1 bg-blue-100"}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[s.toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:t?"":"+"})]}),t&&n.jsxs("div",{className:"pl-2 space-y-0.5 border-l-2 border-muted ml-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",l.toFixed(0),"% - ",c.toFixed(0),"%"]}),e.map(d=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["W",d.workerId]}),n.jsx(Ut,{value:d.percentComplete,className:`h-1 flex-1 ${d.isRunning?"bg-blue-100":"bg-muted"}`}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[(d.percentComplete??0).toFixed(0),"%"]})]},d.workerId))]})]})}function qve({indexers:e,onTrigger:t,onAutoRun:r,isTriggering:a,workerStatus:s,progressHistory:l}){for(const f of e){const m=f.live?.isRunning||!1,h=f.live?.percentComplete||0,g=`unified-${f.pid}`;zve(l,g,h,m)}if(!e||e.length===0)return n.jsx(G,{children:n.jsx(Q,{className:"p-8 text-center text-muted-foreground",children:"No unified indexers found. Trigger a batch to initialize a pool."})});const c=new Map;if(s?.pools)for(const f of s.pools)c.set(f.pid,(c.get(f.pid)||0)+1);const d=ep(e);return n.jsx(G,{children:n.jsx(Q,{className:"p-0",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-16",children:"Pool"}),n.jsx(q,{children:"Status"}),n.jsx(q,{className:"w-48",children:"Workers"}),n.jsx(q,{className:"text-right",children:"Stakers"}),n.jsx(q,{className:"text-right",children:"Swaps"}),n.jsx(q,{className:"text-right",children:"Rewards"}),n.jsx(q,{className:"text-right",children:"Actions"})]})}),n.jsx(pt,{children:d.map(f=>{const m=f.live?.isRunning||!1,h=f.live?.percentComplete||0,g=f.liveWorkers||f.live?.workers||[],v=c.get(f.pid)||0,b=v>0||!!f.autoRun,w=f.autoRun?.intervalMs?Math.round(f.autoRun.intervalMs/6e4):null,y=`unified-${f.pid}`,j=m?Fve(y,h,l):null,C=lz(f.live?.currentBlock??f.lastIndexedBlock,f.live?.targetBlock??f.lastIndexedBlock),E=Pr(f.v2StakerCount||0),A=f.v2TotalStaked?Pr(f.v2TotalStaked):null,T=f.swapEventCount??f.live?.swapsFound??0,k=f.rewardEventCount??f.live?.rewardsFound??0,P=f.updatedAt?new Date(f.updatedAt).toLocaleTimeString():null;return n.jsxs(Te,{"data-testid":`row-indexer-unified-${f.pid}`,children:[n.jsxs(B,{className:"font-mono font-medium",children:["#",f.pid]}),n.jsx(B,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(iz,{status:f.status,isRunning:m}),b&&n.jsxs(U,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1 text-xs",children:[n.jsx(Wn,{className:"w-3 h-3"}),v>0?`${v} workers`:"Auto",w?`  ${w}m`:""]}),j&&n.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`eta-unified-${f.pid}`,children:["ETA: ",j]}),C&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Blocks ",C]}),P&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Updated ",P]})]})}),n.jsx(B,{children:g.length>0?n.jsx(Hve,{workers:g}):m?n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ut,{value:h,className:"h-2 w-full"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[h.toFixed(1),"%"]}),C&&n.jsx("span",{className:"text-[11px] text-muted-foreground block",children:C})]}):f.status==="complete"?n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-green-500",children:"Synced"}),C&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Last at ",C]})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(B,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:E}),A&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:[A," staked"]})]})}),n.jsx(B,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:Pr(T)}),m&&f.live?.swapsFound!==void 0&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["+",Pr(f.live.swapsFound)," this run"]})]})}),n.jsx(B,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:Pr(k)}),m&&f.live?.rewardsFound!==void 0&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["+",Pr(f.live.rewardsFound)," this run"]})]})}),n.jsx(B,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>t(f.pid),disabled:m||a,"data-testid":`button-trigger-unified-${f.pid}`,children:a?n.jsx(Ee,{className:"w-4 h-4 animate-spin"}):n.jsx(vn,{className:"w-4 h-4"})}),n.jsx(re,{size:"sm",variant:b?"destructive":"outline",onClick:()=>r(f.pid,b?"stop":"start"),"data-testid":`button-auto-unified-${f.pid}`,children:b?n.jsx(pr,{className:"w-4 h-4"}):n.jsx(Wn,{className:"w-4 h-4"})})]})})]},f.indexerName)})})]})})})}function Vve(){const{toast:e}=Zt(),[t,r]=p.useState("unified"),a=p.useRef(new Map),{data:s,isLoading:l,error:c,refetch:d}=ke({queryKey:["/api/admin/pool-indexer/status"],refetchInterval:5e3}),{data:f}=ke({queryKey:["/api/admin/pool-indexer/unified/status"],refetchInterval:5e3}),m=Oe({mutationFn:async pe=>De("POST","/api/admin/pool-indexer/swap/trigger",{pid:pe}),onSuccess:()=>{e({title:"Swap indexer triggered",description:"Batch started"}),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),h=Oe({mutationFn:async pe=>De("POST","/api/admin/pool-indexer/reward/trigger",{pid:pe}),onSuccess:()=>{e({title:"Reward indexer triggered",description:"Batch started"}),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),g=Oe({mutationFn:async({pid:pe,action:D})=>De("POST","/api/admin/pool-indexer/swap/auto-run",{pid:pe,action:D}),onSuccess:(pe,D)=>{e({title:`Swap auto-run ${D.action==="start"?"started":"stopped"}`,description:`Pool #${D.pid}`}),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),v=Oe({mutationFn:async({pid:pe,action:D})=>De("POST","/api/admin/pool-indexer/reward/auto-run",{pid:pe,action:D}),onSuccess:(pe,D)=>{e({title:`Reward auto-run ${D.action==="start"?"started":"stopped"}`,description:`Pool #${D.pid}`}),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),b=Oe({mutationFn:async()=>De("POST","/api/admin/pool-indexer/aggregate/trigger",{}),onSuccess:()=>{e({title:"Aggregation triggered",description:"Computing daily aggregates for all pools"}),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),w=Oe({mutationFn:async pe=>De("POST","/api/admin/pool-indexer/unified/trigger",{pid:pe}),onSuccess:()=>{e({title:"Unified indexer triggered",description:"Scanning all event types"}),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),y=Oe({mutationFn:async({pid:pe,action:D})=>De("POST","/api/admin/pool-indexer/unified/auto-run",{pid:pe,action:D}),onSuccess:(pe,D)=>{e({title:`Unified auto-run ${D.action==="start"?"started":"stopped"}`,description:`Pool #${D.pid}`}),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}});if(l)return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Pool Indexer Status"}),n.jsx(Bve,{})]});if(c)return n.jsx("div",{className:"p-6",children:n.jsx(G,{children:n.jsxs(Q,{className:"p-8 text-center",children:[n.jsx(rr,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error loading status"}),n.jsx("p",{className:"text-muted-foreground",children:c.message}),n.jsx(re,{onClick:()=>d(),className:"mt-4","data-testid":"button-retry",children:"Retry"})]})})});const j=ep(s?.swapIndexers||[]),C=ep(s?.rewardIndexers||[]),E=ep(s?.unifiedIndexers||[]),A=s?.aggregates||[],T=j.reduce((pe,D)=>pe+(D.swapEventCount??D.totalEventsIndexed??0),0),k=C.reduce((pe,D)=>pe+(D.rewardEventCount??D.totalEventsIndexed??0),0),P=s?.totalSwapEventCount??T,_=s?.totalRewardEventCount??k,M=s?.poolsIndexed??E.length,X=s?.totalPools??Math.max(E.length,j.length,C.length),I=E.reduce((pe,D)=>pe+(D.v2StakerCount||0),0),R=j.filter(pe=>pe.live?.isRunning).length,V=C.filter(pe=>pe.live?.isRunning).length,je=E.filter(pe=>pe.live?.isRunning).length,Y=j.length>0,te=C.length>0,z=Y?R:je,J=te?V:je,$=Y?j.length:E.length,H=te?C.length:E.length;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Pool Indexer Status"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage swap/reward event indexing"})]}),n.jsxs(re,{onClick:()=>d(),variant:"outline",disabled:l,"data-testid":"button-refresh",children:[n.jsx(tt,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Active Workers"}),n.jsx(Wn,{className:`h-4 w-4 ${f?.activeWorkers?"text-green-500":"text-muted-foreground"}`})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-workers",children:f?.activeWorkers??0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f?.activeWorkers?n.jsxs(n.Fragment,{children:["unified auto-run",f.activeWorkers>1?"s":""]}):"no workers running"})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Pools Indexed"}),n.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pools-indexed",children:[M," / ",X||0]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Pr(I)," stakers tracked"]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Swap Events"}),n.jsx(bc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-swaps",children:Pr(P)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:z>0?`${z} ${Y?"indexer(s)":"unified worker(s)"} running`:`${$} ${Y?"indexers":"unified pools"}`})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Reward Events"}),n.jsx(_r,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:Pr(_)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:J>0?`${J} ${te?"indexer(s)":"unified worker(s)"} running`:`${H} ${te?"indexers":"unified pools"}`})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Daily Aggregates"}),n.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-aggregates",children:A.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"pools with data"})]}),n.jsxs(re,{onClick:()=>b.mutate(),disabled:b.isPending,"data-testid":"button-compute-all",children:[b.isPending?n.jsx(Ee,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Run All"]})]})})]})]}),n.jsxs(ci,{value:t,onValueChange:r,children:[n.jsxs(fs,{className:"flex-wrap gap-1",children:[n.jsxs(Ct,{value:"unified","data-testid":"tab-unified",children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Unified (",E.length,")"]}),n.jsxs(Ct,{value:"swaps","data-testid":"tab-swaps",children:[n.jsx(bc,{className:"w-4 h-4 mr-2"}),"Swaps (",j.length,")"]}),n.jsxs(Ct,{value:"rewards","data-testid":"tab-rewards",children:[n.jsx(_r,{className:"w-4 h-4 mr-2"}),"Rewards (",C.length,")"]}),n.jsxs(Ct,{value:"aggregates","data-testid":"tab-aggregates",children:[n.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Aggregates (",A.length,")"]})]}),n.jsxs(Ot,{value:"unified",className:"mt-4",children:[n.jsx(G,{className:"mb-4",children:n.jsxs(ae,{className:"pb-2",children:[n.jsx(ie,{className:"text-sm",children:"Unified Indexer"}),n.jsx(Ce,{children:"Scans all event types (Deposit, Withdraw, Swap, Harvest) in a single blockchain pass per pool. This consolidates staker tracking, swap volume analytics, and reward distribution into one efficient indexer."})]})}),n.jsx(qve,{indexers:E,onTrigger:pe=>w.mutate(pe),onAutoRun:(pe,D)=>y.mutate({pid:pe,action:D}),isTriggering:w.isPending,workerStatus:f,progressHistory:a.current})]}),n.jsx(Ot,{value:"swaps",className:"mt-4",children:n.jsx(H4,{indexers:j,type:"swap",onTrigger:pe=>m.mutate(pe),onAutoRun:(pe,D)=>g.mutate({pid:pe,action:D}),isTriggering:m.isPending})}),n.jsx(Ot,{value:"rewards",className:"mt-4",children:n.jsx(H4,{indexers:C,type:"reward",onTrigger:pe=>h.mutate(pe),onAutoRun:(pe,D)=>v.mutate({pid:pe,action:D}),isTriggering:h.isPending})}),n.jsx(Ot,{value:"aggregates",className:"mt-4",children:n.jsx(Uve,{aggregates:A})})]})]})}function Kve({status:e,isRunning:t}){return t?n.jsxs(U,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Ee,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(U,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Tr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(U,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(rr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(U,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(di,{className:"w-3 h-3"}),"Idle"]})}function q4(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Wve(e,t,r){if(t<=0||t>=100)return null;const a=r.get(e);if(!a||a.length<2)return null;const c=Date.now()-3e4,d=a.filter(w=>w.time>=c);if(d.length<2){if(a.length>=2){const w=a[0],y=a[a.length-1],j=y.time-w.time,C=y.percent-w.percent;if(j<5e3||C<=0)return null;const E=C/j;if(!isFinite(E)||E<=0)return null;const A=(100-t)/E;return V4(A)}return null}const f=d[0],m=d[d.length-1],h=m.time-f.time,g=m.percent-f.percent;if(h<3e3||g<=0)return null;const v=g/h;if(!isFinite(v)||v<=0)return null;const b=(100-t)/v;return isFinite(b)?V4(b):null}function V4(e){if(!isFinite(e)||e<0)return null;const t=Math.floor(e/1e3);if(t<60)return`~${t}s`;const r=Math.floor(t/60);if(r<60)return`~${r}m`;const a=Math.floor(r/60),s=r%60;if(a<24)return`~${a}h ${s}m`;const l=Math.floor(a/24),c=a%24;return`~${l}d ${c}h`}function Gve(e,t,r,a){const s=Date.now(),l=6e4;if(!a||r<=0||r>=100){e.delete(t);return}let c=e.get(t);c||(c=[],e.set(t,c));const d=c[c.length-1];(!d||s-d.time>=1e3)&&c.push({time:s,percent:r});const f=s-l;for(;c.length>0&&c[0].time<f;)c.shift()}function Yve(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Me,{className:"h-10 w-40"}),n.jsx(Me,{className:"h-10 w-40"})]}),n.jsx(G,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4].map(e=>n.jsx(Me,{className:"h-12 w-full"},e))})})})]})}function Qve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return null;const a=e.filter(d=>d.isRunning),s=e.reduce((d,f)=>d+(f.percentComplete??0),0)/e.length,l=Math.min(...e.map(d=>d.percentComplete??0)),c=Math.max(...e.map(d=>d.percentComplete??0));return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover-elevate rounded px-1 py-0.5",onClick:()=>r(!t),"data-testid":"worker-summary",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-14",children:[a.length,"/",e.length,"w"]}),n.jsx(Ut,{value:s,className:"h-1.5 flex-1 bg-blue-100"}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[s.toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:t?"":"+"})]}),t&&n.jsxs("div",{className:"pl-2 space-y-0.5 border-l-2 border-muted ml-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",l.toFixed(0),"% - ",c.toFixed(0),"%"]}),e.map(d=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["W",d.workerId]}),n.jsx(Ut,{value:d.percentComplete,className:`h-1 flex-1 ${d.isRunning?"bg-blue-100":"bg-muted"}`}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[(d.percentComplete??0).toFixed(0),"%"]})]},d.workerId))]})]})}function Xve(){const{toast:e}=Zt(),[t,r]=p.useState(!1),[a,s]=p.useState(!1),l=p.useRef(new Map),{data:c,isLoading:d,refetch:f}=ke({queryKey:["/api/admin/pool-indexer-v1/status"],refetchInterval:3e3}),m=Oe({mutationFn:async C=>(await De("POST","/api/admin/pool-indexer-v1/trigger",{pid:C})).json(),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 batch triggered"})},onError:C=>{e({title:"Failed to trigger V1 batch",description:C.message,variant:"destructive"})}}),h=Oe({mutationFn:async({pid:C,action:E})=>(await De("POST","/api/admin/pool-indexer-v1/auto-run",{pid:C,action:E})).json(),onSuccess:(C,{action:E})=>{_e.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:`V1 auto-run ${E==="start"?"started":"stopped"}`})},onError:C=>{e({title:"Failed to toggle V1 auto-run",description:C.message,variant:"destructive"})}}),g=Oe({mutationFn:async()=>(r(!0),(await De("POST","/api/admin/pool-indexer-v1/start-all")).json()),onSuccess:C=>{r(!1),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 indexers started",description:`Started ${C.started} workers across ${C.totalPools} pools`})},onError:C=>{r(!1),e({title:"Failed to start V1 indexers",description:C.message,variant:"destructive"})}}),v=Oe({mutationFn:async()=>(s(!0),(await De("POST","/api/admin/pool-indexer-v1/stop-all")).json()),onSuccess:C=>{s(!1),_e.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 indexers stopped",description:`Stopped ${C.totalWorkers} workers`})},onError:C=>{s(!1),e({title:"Failed to stop V1 indexers",description:C.message,variant:"destructive"})}}),b=c?.indexers||[],w=c?.workerStatus,y=w?.activeWorkers||0,j=new Map;if(w?.pools)for(const C of w.pools)j.set(C.pid,(j.get(C.pid)||0)+1);for(const C of b){const E=C.live?.isRunning||!1,A=C.live?.percentComplete||0,T=`v1-${C.pid}`;Gve(l.current,T,A,E)}return d?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(fc,{className:"w-6 h-6 text-amber-500"}),"V1 Pool Indexer (Legacy)"]}),n.jsx("p",{className:"text-muted-foreground",children:"Index staker positions from deprecated Master Gardener V1"})]})}),n.jsx(Yve,{})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(fc,{className:"w-6 h-6 text-amber-500"}),"V1 Pool Indexer (Legacy)"]}),n.jsx("p",{className:"text-muted-foreground",children:"Index staker positions from deprecated Master Gardener V1"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(re,{variant:"outline",onClick:()=>f(),disabled:d,"data-testid":"button-refresh",children:[n.jsx(tt,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium",children:"Active V1 Workers"})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-workers",children:y}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[w?.workersPerPool||5," max per pool"]})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium",children:"V1 Pools Indexed"})}),n.jsxs(Q,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pools-indexed",children:[c?.poolsIndexed??0," / ",c?.totalPools??14]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Legacy staker positions"})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium",children:"Global Actions"})}),n.jsxs(Q,{className:"flex gap-2",children:[n.jsxs(re,{size:"sm",onClick:()=>g.mutate(),disabled:t||y>0,"data-testid":"button-start-all-v1",children:[t?n.jsx(Ee,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(vn,{className:"w-4 h-4 mr-1"}),"Start All V1"]}),n.jsxs(re,{size:"sm",variant:"destructive",onClick:()=>v.mutate(),disabled:a||y===0,"data-testid":"button-stop-all-v1",children:[a?n.jsx(Ee,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(pr,{className:"w-4 h-4 mr-1"}),"Stop All V1"]})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(fc,{className:"w-5 h-5 text-amber-500"}),"V1 Legacy Indexers"]}),n.jsx(Ce,{children:"Track staker positions from the deprecated V1 Master Gardener contract"})]}),n.jsx(Q,{className:"p-0",children:b.length===0?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No V1 indexers found. Start indexing to track legacy positions."}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-16",children:"Pool"}),n.jsx(q,{children:"Status"}),n.jsx(q,{className:"w-48",children:"Workers"}),n.jsx(q,{className:"text-right",children:"V1 Stakers"}),n.jsx(q,{className:"text-right",children:"Events"}),n.jsx(q,{className:"text-right",children:"Actions"})]})}),n.jsx(pt,{children:b.map(C=>{const E=C.live?.isRunning||!1,A=C.live?.percentComplete||0,T=C.live?.workers||[],k=j.get(C.pid)||0,P=k>0,_=`v1-${C.pid}`,M=E?Wve(_,A,l.current):null;return n.jsxs(Te,{"data-testid":`row-indexer-v1-${C.pid}`,children:[n.jsxs(B,{className:"font-mono font-medium",children:["#",C.pid]}),n.jsx(B,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(Kve,{status:C.status,isRunning:E}),P&&n.jsxs(U,{variant:"outline",className:"bg-amber-500/20 text-amber-500 border-amber-500/30 gap-1 text-xs",children:[n.jsx(Wn,{className:"w-3 h-3"}),"V1 (",k,"w)"]}),M&&n.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`eta-v1-${C.pid}`,children:["ETA: ",M]})]})}),n.jsx(B,{children:T.length>0?n.jsx(Qve,{workers:T}):n.jsx("span",{className:"text-xs text-muted-foreground",children:P?`${k} workers`:"No workers"})}),n.jsx(B,{className:"text-right font-mono",children:q4(C.v1StakerCount||0)}),n.jsx(B,{className:"text-right font-mono",children:q4(C.totalEventsIndexed)}),n.jsx(B,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>m.mutate(C.pid),disabled:E||m.isPending,"data-testid":`button-trigger-v1-${C.pid}`,children:m.isPending?n.jsx(Ee,{className:"w-4 h-4 animate-spin"}):n.jsx(vn,{className:"w-4 h-4"})}),n.jsx(re,{size:"sm",variant:P?"destructive":"outline",onClick:()=>h.mutate({pid:C.pid,action:P?"stop":"start"}),"data-testid":`button-auto-v1-${C.pid}`,children:P?n.jsx(pr,{className:"w-4 h-4"}):n.jsx(Wn,{className:"w-4 h-4"})})]})})]},C.indexerName)})})]})})]})]})}function Zve({status:e,isRunning:t}){return t?n.jsxs(U,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Ee,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(U,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Tr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(U,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(rr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(U,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(di,{className:"w-3 h-3"}),"Idle"]})}function tp(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Jve(e){return e.toLocaleString()}function eye({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return n.jsx("span",{className:"text-muted-foreground text-sm",children:"No workers"});const a=e.filter(l=>l.isRunning).length,s=e.reduce((l,c)=>l+c.percentComplete,0)/e.length;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>r(!t),className:"h-auto p-1 gap-1","data-testid":"button-expand-workers",children:[t?n.jsx(Wc,{className:"w-4 h-4"}):n.jsx(lf,{className:"w-4 h-4"}),n.jsxs("span",{className:"text-sm",children:[e.length," workers (",a," active)  ",s.toFixed(1),"%"]})]}),t&&n.jsx("div",{className:"pl-4 space-y-1 text-xs",children:e.map(l=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(U,{variant:l.isRunning?"default":"secondary",className:"text-xs",children:["W",l.workerId]}),n.jsx(Ut,{value:l.percentComplete,className:"w-20 h-1"}),n.jsxs("span",{className:"text-muted-foreground",children:[l.percentComplete.toFixed(1),"%  ",tp(l.stakersFound)," stakers"]})]},l.workerId))})]})}function tye(){const{toast:e}=Zt(),[t,r]=p.useState(!0),{data:a,isLoading:s,refetch:l}=ke({queryKey:["/api/admin/pool-indexer-harmony/status"],refetchInterval:t?3e3:!1});p.useEffect(()=>{const b=t?setInterval(()=>l(),3e3):void 0;return()=>{b&&clearInterval(b)}},[t,l]);const c=Oe({mutationFn:async b=>De("/api/admin/pool-indexer-harmony/trigger",{method:"POST",body:JSON.stringify({pid:b})}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"Indexer triggered",description:"Harmony indexer batch started"})},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),d=Oe({mutationFn:async({pid:b,action:w})=>De("/api/admin/pool-indexer-harmony/auto-run",{method:"POST",body:JSON.stringify({pid:b,action:w})}),onSuccess:(b,{action:w})=>{_e.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:w==="start"?"Auto-run started":"Auto-run stopped"})},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),f=Oe({mutationFn:async()=>De("/api/admin/pool-indexer-harmony/start-all",{method:"POST"}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"All indexers started"})},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}}),m=Oe({mutationFn:async()=>De("/api/admin/pool-indexer-harmony/stop-all",{method:"POST"}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"All indexers stopped"})},onError:b=>{e({title:"Error",description:b.message,variant:"destructive"})}});if(s)return n.jsxs("div",{className:"space-y-6 p-6","data-testid":"loading-skeleton",children:[n.jsx(Me,{className:"h-8 w-64"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Me,{className:"h-32"}),n.jsx(Me,{className:"h-32"}),n.jsx(Me,{className:"h-32"})]}),n.jsx(Me,{className:"h-64"})]});const h=a?.pools||[],g=h.filter(b=>b.isAutoRunning||b.isRunning),v=h.reduce((b,w)=>b+(w.stakerCount||0),0);return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"page-title",children:"Harmony Pool Indexer"}),n.jsx("p",{className:"text-muted-foreground",children:"Legacy Serendale Master Gardener on Harmony chain"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>l(),"data-testid":"button-refresh",children:[n.jsx(tt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>r(!t),"data-testid":"button-toggle-refresh",children:[n.jsx(tt,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),t?"Auto ON":"Auto OFF"]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-start-all",children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Start All"]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>m.mutate(),disabled:m.isPending,"data-testid":"button-stop-all",children:[n.jsx(pr,{className:"w-4 h-4 mr-2"}),"Stop All"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(G,{"data-testid":"card-latest-block",children:n.jsxs(ae,{className:"pb-2",children:[n.jsx(Ce,{children:"Latest Block"}),n.jsx(ie,{className:"text-xl",children:Jve(a?.latestBlock||0)})]})}),n.jsx(G,{"data-testid":"card-pool-count",children:n.jsxs(ae,{className:"pb-2",children:[n.jsx(Ce,{children:"Pools Discovered"}),n.jsxs(ie,{className:"text-xl",children:[h.length," / ",a?.poolLength||0]})]})}),n.jsx(G,{"data-testid":"card-running-pools",children:n.jsxs(ae,{className:"pb-2",children:[n.jsx(Ce,{children:"Running Pools"}),n.jsx(ie,{className:"text-xl",children:g.length})]})}),n.jsx(G,{"data-testid":"card-total-stakers",children:n.jsxs(ae,{className:"pb-2",children:[n.jsx(Ce,{children:"Total Stakers"}),n.jsx(ie,{className:"text-xl",children:tp(v)})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Pool Status"}),n.jsx(Ce,{children:"Harmony Serendale LP pools with staking activity"})]}),n.jsx(Q,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"PID"}),n.jsx(q,{children:"LP Token"}),n.jsx(q,{children:"Stakers"}),n.jsx(q,{children:"Total Staked"}),n.jsx(q,{children:"Status"}),n.jsx(q,{children:"Workers"}),n.jsx(q,{children:"Actions"})]})}),n.jsx(pt,{children:h.length===0?n.jsx(Te,{children:n.jsx(B,{colSpan:7,className:"text-center text-muted-foreground",children:'No pools found. Click "Start All" to begin indexing.'})}):h.map(b=>{const w=a?.dbProgress?.find(y=>y.pid===b.pid);return n.jsxs(Te,{"data-testid":`row-pool-${b.pid}`,children:[n.jsx(B,{className:"font-mono",children:b.pid}),n.jsx(B,{className:"font-mono text-xs max-w-[120px] truncate",title:b.lpToken,children:b.lpToken?`${b.lpToken.slice(0,10)}...${b.lpToken.slice(-6)}`:"-"}),n.jsx(B,{children:tp(b.stakerCount)}),n.jsx(B,{children:tp(b.totalStaked)}),n.jsx(B,{children:n.jsx(Zve,{status:w?.status||"idle",isRunning:b.isRunning||b.isAutoRunning})}),n.jsx(B,{children:n.jsx(eye,{workers:b.liveWorkers})}),n.jsx(B,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[b.isAutoRunning?n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>d.mutate({pid:b.pid,action:"stop"}),disabled:d.isPending,"data-testid":`button-stop-${b.pid}`,children:n.jsx(pr,{className:"w-4 h-4"})}):n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>d.mutate({pid:b.pid,action:"start"}),disabled:d.isPending,"data-testid":`button-start-${b.pid}`,children:n.jsx(vn,{className:"w-4 h-4"})}),n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>c.mutate(b.pid),disabled:c.isPending,"data-testid":`button-trigger-${b.pid}`,children:n.jsx(tt,{className:"w-4 h-4"})})]})})]},b.pid)})})]})})]})]})}function Lh(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(2)}function K4(e){return isNaN(e)||!isFinite(e)?"0.00%":`${e.toFixed(2)}%`}function nye(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function rye({status:e,isRunning:t}){if(t)return n.jsxs(U,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Ee,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(U,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function aye(){const{toast:e}=Zt(),{data:t,isLoading:r,refetch:a}=ke({queryKey:["/api/admin/jeweler/status"],refetchInterval:3e3}),{data:s,isLoading:l}=ke({queryKey:["/api/admin/jeweler/leaderboard"],refetchInterval:3e4}),c=Oe({mutationFn:async()=>await De("POST","/api/admin/jeweler/trigger",{}),onSuccess:()=>{e({title:"Jeweler indexer triggered"}),_e.invalidateQueries({queryKey:["/api/admin/jeweler/status"]})},onError:g=>{e({title:"Failed to trigger indexer",description:g.message,variant:"destructive"})}}),d=Oe({mutationFn:async g=>await De("POST","/api/admin/jeweler/auto-run",{action:g}),onSuccess:(g,v)=>{e({title:`Auto-run ${v==="start"?"started":"stopped"}`}),_e.invalidateQueries({queryKey:["/api/admin/jeweler/status"]})},onError:g=>{e({title:"Failed to manage auto-run",description:g.message,variant:"destructive"})}}),f=Oe({mutationFn:async()=>await De("POST","/api/admin/jeweler/refresh-balances",{}),onSuccess:()=>{e({title:"Balance refresh started",description:"Fetching live balances and summoner names for all stakers. This may take a few minutes - refresh the page to see updates."})},onError:g=>{e({title:"Failed to start balance refresh",description:g.message,variant:"destructive"})}}),m=t?.liveProgress?.isRunning||!1,h=t?.liveProgress?.percentComplete||0;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"page-title",children:[n.jsx(of,{className:"w-6 h-6 text-purple-500"}),"Jeweler"]}),n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL staking analytics and leaderboard"})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>a(),"data-testid":"button-refresh",children:[n.jsx(tt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(_r,{className:"w-4 h-4"}),"JEWEL Locked"]})}),n.jsxs(Q,{children:[n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-jewel-locked",children:r?"...":Lh(t?.totalJewelLocked||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Lh(t?.totalCjewelSupply||0)," cJEWEL supply"]})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Lr,{className:"w-4 h-4"}),"Total Stakers"]})}),n.jsx(Q,{children:n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-stakers",children:r?"...":(t?.totalStakers||0).toLocaleString()})})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4"}),"cJEWEL/JEWEL Ratio"]})}),n.jsx(Q,{children:n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-ratio",children:r?"...":(t?.currentRatio||1).toFixed(6)})})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4 text-green-500"}),"APR"]})}),n.jsxs(Q,{children:[n.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"text-apr",children:r?"...":K4(t?.apr7d||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["30d: ",K4(t?.apr30d||0)]})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{className:"text-lg",children:"Indexer Status"}),n.jsx(Ce,{children:"Tracks cJEWEL minting/burning events to build staker leaderboard"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(rye,{status:t?.indexerProgress?.status||"idle",isRunning:m}),t?.isAutoRunning&&n.jsxs(U,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1",children:[n.jsx(Wn,{className:"w-3 h-3"}),"Auto-run"]}),m&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ut,{value:h,className:"w-32 h-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{size:"sm",variant:"outline",onClick:()=>c.mutate(),disabled:m||c.isPending,"data-testid":"button-trigger",children:[c.isPending?n.jsx(Ee,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Run Now"]}),n.jsxs(re,{size:"sm",variant:"outline",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-refresh-balances",children:[f.isPending?n.jsx(Ee,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(tt,{className:"w-4 h-4 mr-2"}),"Refresh Balances"]}),n.jsx(re,{size:"sm",variant:t?.isAutoRunning?"destructive":"outline",onClick:()=>d.mutate(t?.isAutoRunning?"stop":"start"),disabled:d.isPending,"data-testid":"button-auto-run",children:t?.isAutoRunning?n.jsxs(n.Fragment,{children:[n.jsx(pr,{className:"w-4 h-4 mr-2"}),"Stop Auto"]}):n.jsxs(n.Fragment,{children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Auto Run"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Last Block"}),n.jsx("p",{className:"font-mono","data-testid":"text-last-block",children:t?.indexerProgress?.lastIndexedBlock?.toLocaleString()||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"font-mono","data-testid":"text-events-indexed",children:t?.indexerProgress?.totalEventsIndexed?.toLocaleString()||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Stakers Found"}),n.jsx("p",{className:"font-mono","data-testid":"text-stakers-found",children:t?.indexerProgress?.totalStakersFound?.toLocaleString()||0})]})]}),t?.workersProgress&&t.workersProgress.length>0&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h4",{className:"text-sm font-medium",children:["Parallel Workers (",t.workersStatus?.activeWorkers||0,"/",t.workersStatus?.maxWorkers||5,")"]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.workersProgress.map(g=>n.jsxs("div",{className:"border rounded-lg p-3 space-y-2","data-testid":`worker-card-${g.workerId}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium text-sm",children:["Worker ",g.workerId]}),g.isRunning?n.jsxs(U,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 text-xs gap-1",children:[n.jsx(Ee,{className:"w-2 h-2 animate-spin"}),"Running"]}):g.completedAt?n.jsx(U,{className:"bg-green-500/20 text-green-500 border-green-500/30 text-xs",children:"Done"}):n.jsx(U,{className:"bg-gray-500/20 text-gray-500 border-gray-500/30 text-xs",children:"Idle"})]}),n.jsx(Ut,{value:g.percentComplete,className:"h-1.5"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:[g.percentComplete.toFixed(1),"%"]}),n.jsxs("span",{children:[g.eventsFound.toLocaleString()," events"]})]}),n.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:[g.currentBlock.toLocaleString()," / ",(g.rangeEnd||g.targetBlock||0).toLocaleString()]})]},g.workerId))})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{className:"text-lg",children:"Top cJEWEL Holders"}),n.jsx(Ce,{children:"Leaderboard of wallets with the most cJEWEL staked"})]}),n.jsx(Q,{children:l?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Ee,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-12",children:"#"}),n.jsx(q,{children:"Wallet"}),n.jsx(q,{children:"Summoner"}),n.jsx(q,{className:"text-right",children:"cJEWEL"}),n.jsx(q,{className:"text-right",children:"JEWEL Value"}),n.jsx(q,{className:"text-right",children:"Lock End"}),n.jsx(q,{className:"text-right",children:"Last Activity"})]})}),n.jsxs(pt,{children:[(s?.stakers||[]).slice(0,50).map((g,v)=>n.jsxs(Te,{"data-testid":`row-staker-${g.id}`,children:[n.jsx(B,{className:"font-mono text-muted-foreground",children:v+1}),n.jsx(B,{className:"font-mono text-sm",children:n.jsx("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${g.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:nye(g.wallet)})}),n.jsx(B,{children:g.summonerName||n.jsx("span",{className:"text-muted-foreground",children:"*"})}),n.jsx(B,{className:"text-right font-mono",children:Lh(g.cjewelBalance)}),n.jsx(B,{className:"text-right font-mono text-green-500",children:Lh(g.stakedJewel)}),n.jsx(B,{className:"text-right font-mono text-sm",children:g.lockEnd?n.jsx("span",{className:new Date(g.lockEnd)>new Date?"text-yellow-500":"text-muted-foreground",children:new Date(g.lockEnd).toLocaleDateString()}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(B,{className:"text-right",children:g.lastActivityType&&n.jsx(U,{variant:"outline",className:g.lastActivityType==="Deposit"?"bg-green-500/20 text-green-500 border-green-500/30":"bg-red-500/20 text-red-500 border-red-500/30",children:g.lastActivityType})})]},g.id)),(!s?.stakers||s.stakers.length===0)&&n.jsx(Te,{children:n.jsx(B,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No stakers found. Run the indexer to populate data."})})]})]})})]})]})}var sye=Symbol("radix.slottable");function iye(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=sye,t}var oz="AlertDialog",[lye]=gr(oz,[oF]),xi=oF(),cz=e=>{const{__scopeAlertDialog:t,...r}=e,a=xi(t);return n.jsx(SF,{...a,...r,modal:!0})};cz.displayName=oz;var oye="AlertDialogTrigger",dz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=xi(r);return n.jsx(CF,{...s,...a,ref:t})});dz.displayName=oye;var cye="AlertDialogPortal",uz=e=>{const{__scopeAlertDialog:t,...r}=e,a=xi(t);return n.jsx(EF,{...a,...r})};uz.displayName=cye;var dye="AlertDialogOverlay",fz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=xi(r);return n.jsx(DS,{...s,...a,ref:t})});fz.displayName=dye;var yc="AlertDialogContent",[uye,fye]=lye(yc),mye=iye("AlertDialogContent"),mz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,l=xi(r),c=p.useRef(null),d=it(t,c),f=p.useRef(null);return n.jsx(Cge,{contentName:yc,titleName:hz,docsSlug:"alert-dialog",children:n.jsx(uye,{scope:r,cancelRef:f,children:n.jsxs(LS,{role:"alertdialog",...l,...s,ref:d,onOpenAutoFocus:ze(s.onOpenAutoFocus,m=>{m.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(mye,{children:a}),n.jsx(pye,{contentRef:c})]})})})});mz.displayName=yc;var hz="AlertDialogTitle",pz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=xi(r);return n.jsx(IS,{...s,...a,ref:t})});pz.displayName=hz;var xz="AlertDialogDescription",gz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=xi(r);return n.jsx($S,{...s,...a,ref:t})});gz.displayName=xz;var hye="AlertDialogAction",vz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=xi(r);return n.jsx(FS,{...s,...a,ref:t})});vz.displayName=hye;var yz="AlertDialogCancel",jz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=fye(yz,r),l=xi(r),c=it(t,s);return n.jsx(FS,{...l,...a,ref:c})});jz.displayName=yz;var pye=({contentRef:e})=>{const t=`\`${yc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yc}\` by passing a \`${xz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},xye=cz,gye=dz,vye=uz,bz=fz,Nz=mz,wz=vz,Sz=jz,Cz=pz,Ez=gz;const Zu=xye,Ju=gye,yye=vye,Az=p.forwardRef(({className:e,...t},r)=>n.jsx(bz,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Az.displayName=bz.displayName;const Ic=p.forwardRef(({className:e,...t},r)=>n.jsxs(yye,{children:[n.jsx(Az,{}),n.jsx(Nz,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ic.displayName=Nz.displayName;const $c=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",e),...t});$c.displayName="AlertDialogHeader";const Fc=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fc.displayName="AlertDialogFooter";const zc=p.forwardRef(({className:e,...t},r)=>n.jsx(Cz,{ref:r,className:Le("text-lg font-semibold",e),...t}));zc.displayName=Cz.displayName;const Bc=p.forwardRef(({className:e,...t},r)=>n.jsx(Ez,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));Bc.displayName=Ez.displayName;const Uc=p.forwardRef(({className:e,...t},r)=>n.jsx(wz,{ref:r,className:Le(jw(),e),...t}));Uc.displayName=wz.displayName;const Hc=p.forwardRef(({className:e,...t},r)=>n.jsx(Sz,{ref:r,className:Le(jw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Hc.displayName=Sz.displayName;function zs(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(4)}function rb(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString()}function jye(e){return`${e.slice(0,10)}...${e.slice(-6)}`}function bye({status:e,isRunning:t}){if(t)return n.jsxs(U,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Ee,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(U,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function Nye({worker:e}){const t=e.completedAt!==null,r=e.isRunning?"text-blue-500":t?"text-green-500":e.isActive?"text-amber-500":"text-gray-500";return n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2","data-testid":`worker-card-${e.workerId}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-medium",children:["Worker ",e.workerId]}),e.isRunning&&n.jsx(Ee,{className:"w-3 h-3 animate-spin text-blue-500"}),t&&n.jsx(U,{variant:"outline",className:"text-green-500 border-green-500/30",children:"Done"})]}),n.jsx("span",{className:`text-sm ${r}`,children:e.isRunning?"Indexing...":t?"Complete":e.isActive?"Waiting":"Idle"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",rb(e.rangeStart)," - ",e.rangeEnd?rb(e.rangeEnd):"latest"]}),n.jsx(Ut,{value:e.percentComplete,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Block ",rb(e.currentBlock)]}),n.jsxs("span",{children:[e.percentComplete.toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Events: ",e.eventsFound]}),n.jsxs("span",{className:"text-muted-foreground",children:["Runs: ",e.runsCompleted]})]})]})}function wye(){const{toast:e}=Zt(),[t,r]=p.useState(""),[a,s]=p.useState(null),{data:l,isLoading:c,refetch:d}=ke({queryKey:["/api/admin/gardening-quest/status"],refetchInterval:3e3}),{data:f,isLoading:m}=ke({queryKey:["/api/admin/gardening-quest/hero",a],enabled:a!==null}),h=Oe({mutationFn:async()=>await De("POST","/api/admin/gardening-quest/trigger",{}),onSuccess:()=>{e({title:"Gardening quest indexer triggered"}),_e.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to trigger indexer",description:P.message,variant:"destructive"})}}),g=Oe({mutationFn:async P=>await De("POST","/api/admin/gardening-quest/auto-run",{action:P}),onSuccess:(P,_)=>{e({title:`Auto-run ${_==="start"?"started with 5 parallel workers":"stopped"}`}),_e.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to manage auto-run",description:P.message,variant:"destructive"})}}),v=Oe({mutationFn:async({startBlock:P,clearRewards:_})=>await De("POST","/api/admin/gardening-quest/reset-to-block",{startBlock:P,clearRewards:_}),onSuccess:P=>{e({title:"Indexer reset to recent blocks",description:`Starting from block ${P.startBlock?.toLocaleString()}, ${P.blocksToIndex?.toLocaleString()} blocks to scan`}),_e.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to reset indexer",description:P.message,variant:"destructive"})}}),b=Oe({mutationFn:async()=>await De("POST","/api/admin/gardening-quest/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"All gardening quest data cleared. Ready to re-index."}),_e.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Reset failed",description:P.message,variant:"destructive"})}}),w=async()=>{const _=Math.max(0,56e6);v.mutate({startBlock:_,clearRewards:!0})},y=()=>{const P=parseInt(t);!isNaN(P)&&P>0&&s(P)},j=l?.liveProgress?.isRunning||!1,C=l?.liveProgress,E=l?.indexerProgress,A=l?.stats,T=l?.workers,k=(T?.activeWorkers||0)>0;return n.jsxs("div",{className:"space-y-6","data-testid":"page-gardening-quest",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ou,{className:"w-6 h-6 text-green-500"}),"Gardening Quest Rewards"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track actual CRYSTAL/JEWEL earned per hero from gardening quests"})]}),n.jsx(re,{variant:"outline",size:"icon",onClick:()=>d(),"data-testid":"button-refresh",children:n.jsx(tt,{className:"w-4 h-4"})})]}),c?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Ee,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(of,{className:"w-4 h-4 text-purple-500"}),"Total CRYSTAL"]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-total-crystal",children:zs(A?.totalCrystal||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.crystalCount||0," rewards"]})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(_r,{className:"w-4 h-4 text-amber-500"}),"Total JEWEL"]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-500","data-testid":"text-total-jewel",children:zs(A?.totalJewel||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.jewelCount||0," rewards"]})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Lr,{className:"w-4 h-4"}),"Unique Heroes"]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-heroes",children:zs(A?.uniqueHeroes||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.uniquePlayers||0," players"]})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Total Rewards"})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:zs(A?.totalRewards||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"indexed events"})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wn,{className:"w-5 h-5 text-amber-500"}),n.jsx("span",{children:"Parallel Workers"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[k&&n.jsxs(U,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[T?.activeWorkers," / ",T?.maxWorkers," Workers"]}),n.jsx(bye,{status:E?.status||"idle",isRunning:k||j})]})]}),n.jsx(Ce,{children:"5 parallel workers with work-stealing for fast historical scanning"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{onClick:()=>h.mutate(),disabled:h.isPending||j||k,size:"sm","data-testid":"button-trigger",children:[h.isPending?n.jsx(Ee,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Run Once"]}),l?.isAutoRunning?n.jsxs(re,{onClick:()=>g.mutate("stop"),disabled:g.isPending,variant:"destructive",size:"sm","data-testid":"button-stop-auto",children:[n.jsx(pr,{className:"w-4 h-4 mr-2"}),"Stop Workers"]}):n.jsxs(re,{onClick:()=>g.mutate("start"),disabled:g.isPending,variant:"outline",size:"sm","data-testid":"button-start-auto",children:[n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Start 5 Workers"]}),n.jsxs(re,{onClick:w,disabled:v.isPending||l?.isAutoRunning||k,variant:"outline",size:"sm","data-testid":"button-reset-recent",children:[v.isPending?n.jsx(Ee,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(tt,{className:"w-4 h-4 mr-2"}),"Reset to Last 1M Blocks"]}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsxs(re,{size:"sm",variant:"destructive",disabled:b.isPending||l?.isAutoRunning||k||j,"data-testid":"button-reset-all",children:[n.jsx(wc,{className:"w-4 h-4 mr-2"}),"Reset All"]})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsx(zc,{children:"Reset All Gardening Quest Data?"}),n.jsx(Bc,{children:"This will delete all indexed gardening quest data including pool rewards and hero earnings. You'll need to re-index to restore the data with the latest capture fields."})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsxs(Uc,{onClick:()=>b.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset-all",children:[b.isPending?n.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]}),T&&T.workers.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:T.workers.map(P=>n.jsx(Nye,{worker:P},P.workerId))}),C&&j&&!k&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:["Block ",C.currentBlock.toLocaleString()," / ",C.targetBlock.toLocaleString()]}),n.jsxs("span",{children:[C.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:C.percentComplete}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Found ",C.eventsFound," rewards"]})]}),E&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t pt-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Last Block:"}),n.jsx("span",{className:"ml-2 font-mono",children:E.lastIndexedBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Events Indexed:"}),n.jsx("span",{className:"ml-2",children:E.totalEventsIndexed.toLocaleString()})]}),E.lastError&&n.jsxs("div",{className:"col-span-2 text-red-500 text-xs",children:["Error: ",E.lastError]})]})]})]}),l?.poolBreakdown&&l.poolBreakdown.length>0&&n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Ou,{className:"w-5 h-5 text-green-500"}),"Rewards by Pool"]}),n.jsx(Ce,{children:"Breakdown of rewards earned across all gardening pools"})]}),n.jsx(Q,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Pool"}),n.jsx(q,{className:"text-right",children:"CRYSTAL"}),n.jsx(q,{className:"text-right",children:"JEWEL"}),n.jsx(q,{className:"text-right",children:"Rewards"}),n.jsx(q,{className:"text-right",children:"Heroes"})]})}),n.jsx(pt,{children:l.poolBreakdown.map(P=>n.jsxs(Te,{"data-testid":`row-pool-${P.poolId}`,children:[n.jsxs(B,{className:"font-medium",children:[P.poolName,P.poolId===255&&n.jsx(U,{variant:"outline",className:"ml-2 text-xs",children:"Unlimited"})]}),n.jsx(B,{className:"text-right text-purple-500 font-medium",children:zs(P.crystalAmount)}),n.jsx(B,{className:"text-right text-amber-500 font-medium",children:zs(P.jewelAmount)}),n.jsx(B,{className:"text-right text-muted-foreground",children:P.rewardCount.toLocaleString()}),n.jsx(B,{className:"text-right text-muted-foreground",children:P.uniqueHeroes.toLocaleString()})]},P.poolId))})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Search Hero Rewards"}),n.jsx(Ce,{children:"Look up actual rewards earned by a specific hero"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ke,{type:"number",placeholder:"Enter Hero ID...",value:t,onChange:P=>r(P.target.value),onKeyDown:P=>P.key==="Enter"&&y(),className:"max-w-xs","data-testid":"input-hero-search"}),n.jsx(re,{onClick:y,disabled:m,"data-testid":"button-search-hero",children:m?n.jsx(Ee,{className:"w-4 h-4 animate-spin"}):n.jsx(Zs,{className:"w-4 h-4"})})]}),f&&a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Hero ID"}),n.jsx("div",{className:"font-bold","data-testid":"text-hero-id",children:f.stats.heroId})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Quests"}),n.jsx("div",{className:"font-bold",children:f.stats.totalQuests}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.stats.manualQuestCount||0," manual / ",f.stats.expeditionCount||0," expedition"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total CRYSTAL"}),n.jsx("div",{className:"font-bold text-purple-500",children:zs(f.stats.totalCrystal)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total JEWEL"}),n.jsx("div",{className:"font-bold text-amber-500",children:zs(f.stats.totalJewel)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Quest"}),n.jsx("div",{className:"font-bold text-xs",children:f.stats.lastQuest?new Date(f.stats.lastQuest).toLocaleDateString():"-"})]})]}),f.rewards.length>0?n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Time"}),n.jsx(q,{children:"Source"}),n.jsx(q,{children:"Pool"}),n.jsx(q,{children:"Token"}),n.jsx(q,{className:"text-right",children:"Amount"}),n.jsx(q,{children:"Tx"})]})}),n.jsx(pt,{children:f.rewards.slice(0,20).map(P=>n.jsxs(Te,{"data-testid":`row-reward-${P.id}`,children:[n.jsx(B,{className:"text-xs",children:new Date(P.timestamp).toLocaleString()}),n.jsx(B,{children:n.jsx(U,{variant:"outline",className:P.source==="expedition"?"border-blue-500/30 text-blue-500":"border-gray-500/30",children:P.source==="expedition"?"Expedition":"Manual"})}),n.jsx(B,{children:n.jsxs(U,{variant:"outline",children:["Pool ",P.poolId]})}),n.jsx(B,{children:n.jsx(U,{className:P.rewardSymbol==="CRYSTAL"?"bg-purple-500/20 text-purple-500":P.rewardSymbol==="JEWEL"?"bg-amber-500/20 text-amber-500":"",children:P.rewardSymbol})}),n.jsx(B,{className:"text-right font-mono",children:zs(P.rewardAmount)}),n.jsx(B,{className:"text-xs font-mono",children:n.jsx("a",{href:`https://subnets.avax.network/defi-kingdoms/tx/${P.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:jye(P.txHash)})})]},P.id))})]}):n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No rewards found for this hero yet"})]})]})]})]})]})}function Sye(e){const t=Cye(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Aye);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Cye(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Tye(s),d=Pye(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Eye=Symbol("radix.slottable");function Aye(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Eye}function Pye(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Tye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Oye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bf=Oye.reduce((e,t)=>{const r=Sye(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Pz=["PageUp","PageDown"],Tz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Oz={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},fd="Slider",[zN,kye,_ye]=rf(fd),[kz]=gr(fd,[_ye]),[Rye,Dg]=kz(fd),_z=p.forwardRef((e,t)=>{const{name:r,min:a=0,max:s=100,step:l=1,orientation:c="horizontal",disabled:d=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[a],value:h,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:b=!1,form:w,...y}=e,j=p.useRef(new Set),C=p.useRef(0),A=c==="horizontal"?Mye:Dye,[T=[],k]=ta({prop:h,defaultProp:m,onChange:R=>{[...j.current][C.current]?.focus(),g(R)}}),P=p.useRef(T);function _(R){const V=zye(T,R);I(R,V)}function M(R){I(R,C.current)}function X(){const R=P.current[C.current];T[C.current]!==R&&v(T)}function I(R,V,{commit:je}={commit:!1}){const Y=qye(l),te=Vye(Math.round((R-a)/l)*l+a,Y),z=Du(te,[a,s]);k((J=[])=>{const $=$ye(J,z,V);if(Hye($,f*l)){C.current=$.indexOf(z);const H=String($)!==String(J);return H&&je&&v($),H?$:J}else return J})}return n.jsx(Rye,{scope:e.__scopeSlider,name:r,disabled:d,min:a,max:s,valueIndexToChangeRef:C,thumbs:j.current,values:T,orientation:c,form:w,children:n.jsx(zN.Provider,{scope:e.__scopeSlider,children:n.jsx(zN.Slot,{scope:e.__scopeSlider,children:n.jsx(A,{"aria-disabled":d,"data-disabled":d?"":void 0,...y,ref:t,onPointerDown:ze(y.onPointerDown,()=>{d||(P.current=T)}),min:a,max:s,inverted:b,onSlideStart:d?void 0:_,onSlideMove:d?void 0:M,onSlideEnd:d?void 0:X,onHomeKeyDown:()=>!d&&I(a,0,{commit:!0}),onEndKeyDown:()=>!d&&I(s,T.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:V})=>{if(!d){const te=Pz.includes(R.key)||R.shiftKey&&Tz.includes(R.key)?10:1,z=C.current,J=T[z],$=l*te*V;I(J+$,z,{commit:!0})}}})})})})});_z.displayName=fd;var[Rz,Mz]=kz(fd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Mye=p.forwardRef((e,t)=>{const{min:r,max:a,dir:s,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:f,onStepKeyDown:m,...h}=e,[g,v]=p.useState(null),b=it(t,A=>v(A)),w=p.useRef(void 0),y=Jc(s),j=y==="ltr",C=j&&!l||!j&&l;function E(A){const T=w.current||g.getBoundingClientRect(),k=[0,T.width],_=qS(k,C?[r,a]:[a,r]);return w.current=T,_(A-T.left)}return n.jsx(Rz,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:n.jsx(Dz,{dir:y,"data-orientation":"horizontal",...h,ref:b,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const T=E(A.clientX);c?.(T)},onSlideMove:A=>{const T=E(A.clientX);d?.(T)},onSlideEnd:()=>{w.current=void 0,f?.()},onStepKeyDown:A=>{const k=Oz[C?"from-left":"from-right"].includes(A.key);m?.({event:A,direction:k?-1:1})}})})}),Dye=p.forwardRef((e,t)=>{const{min:r,max:a,inverted:s,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...m}=e,h=p.useRef(null),g=it(t,h),v=p.useRef(void 0),b=!s;function w(y){const j=v.current||h.current.getBoundingClientRect(),C=[0,j.height],A=qS(C,b?[a,r]:[r,a]);return v.current=j,A(y-j.top)}return n.jsx(Rz,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:n.jsx(Dz,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const j=w(y.clientY);l?.(j)},onSlideMove:y=>{const j=w(y.clientY);c?.(j)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:y=>{const C=Oz[b?"from-bottom":"from-top"].includes(y.key);f?.({event:y,direction:C?-1:1})}})})}),Dz=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:f,...m}=e,h=Dg(fd,r);return n.jsx(Bf.span,{...m,ref:t,onKeyDown:ze(e.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(d(g),g.preventDefault()):Pz.concat(Tz).includes(g.key)&&(f(g),g.preventDefault())}),onPointerDown:ze(e.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),h.thumbs.has(v)?v.focus():a(g)}),onPointerMove:ze(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:ze(e.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),l(g))})})}),Lz="SliderTrack",Iz=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=Dg(Lz,r);return n.jsx(Bf.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:t})});Iz.displayName=Lz;var BN="SliderRange",$z=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=Dg(BN,r),l=Mz(BN,r),c=p.useRef(null),d=it(t,c),f=s.values.length,m=s.values.map(v=>Bz(v,s.min,s.max)),h=f>1?Math.min(...m):0,g=100-Math.max(...m);return n.jsx(Bf.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:d,style:{...e.style,[l.startEdge]:h+"%",[l.endEdge]:g+"%"}})});$z.displayName=BN;var UN="SliderThumb",Fz=p.forwardRef((e,t)=>{const r=kye(e.__scopeSlider),[a,s]=p.useState(null),l=it(t,d=>s(d)),c=p.useMemo(()=>a?r().findIndex(d=>d.ref.current===a):-1,[r,a]);return n.jsx(Lye,{...e,ref:l,index:c})}),Lye=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:s,...l}=e,c=Dg(UN,r),d=Mz(UN,r),[f,m]=p.useState(null),h=it(t,E=>m(E)),g=f?c.form||!!f.closest("form"):!0,v=Ex(f),b=c.values[a],w=b===void 0?0:Bz(b,c.min,c.max),y=Fye(a,c.values.length),j=v?.[d.size],C=j?Bye(j,w,d.direction):0;return p.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${w}% + ${C}px)`},children:[n.jsx(zN.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(Bf.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":c.min,"aria-valuenow":b,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:h,style:b===void 0?{display:"none"}:e.style,onFocus:ze(e.onFocus,()=>{c.valueIndexToChangeRef.current=a})})}),g&&n.jsx(zz,{name:s??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:b},a)]})});Fz.displayName=UN;var Iye="RadioBubbleInput",zz=p.forwardRef(({__scopeSlider:e,value:t,...r},a)=>{const s=p.useRef(null),l=it(s,a),c=kx(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&h){const g=new Event("input",{bubbles:!0});h.call(d,t),d.dispatchEvent(g)}},[c,t]),n.jsx(Bf.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});zz.displayName=Iye;function $ye(e=[],t,r){const a=[...e];return a[r]=t,a.sort((s,l)=>s-l)}function Bz(e,t,r){const l=100/(r-t)*(e-t);return Du(l,[0,100])}function Fye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function zye(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),a=Math.min(...r);return r.indexOf(a)}function Bye(e,t,r){const a=e/2,l=qS([0,50],[0,a]);return(a-l(t)*r)*r}function Uye(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Hye(e,t){if(t>0){const r=Uye(e);return Math.min(...r)>=t}return!0}function qS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function qye(e){return(String(e).split(".")[1]||"").length}function Vye(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Uz=_z,Kye=Iz,Wye=$z,Gye=Fz;const Vi=p.forwardRef(({className:e,...t},r)=>n.jsxs(Uz,{ref:r,className:Le("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(Kye,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(Wye,{className:"absolute h-full bg-primary"})}),n.jsx(Gye,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Vi.displayName=Uz.displayName;const Yye=[{id:0,name:"wJEWEL-xJEWEL"},{id:1,name:"CRYSTAL-AVAX"},{id:2,name:"CRYSTAL-wJEWEL"},{id:3,name:"CRYSTAL-USDC"},{id:4,name:"ETH-USDC"},{id:5,name:"wJEWEL-USDC"},{id:6,name:"CRYSTAL-ETH"},{id:7,name:"CRYSTAL-BTC.b"},{id:8,name:"CRYSTAL-KLAY"},{id:9,name:"wJEWEL-KLAY"},{id:10,name:"wJEWEL-AVAX"},{id:11,name:"wJEWEL-BTC.b"},{id:12,name:"wJEWEL-ETH"},{id:13,name:"BTC.b-USDC"}];function W4({label:e,tokenType:t,heroId:r,setHeroId:a,petId:s,setPetId:l,heroData:c,petData:d,onFetchHero:f,onFetchPet:m,heroLoading:h,petLoading:g,stamina:v,setStamina:b}){const w=t==="jewel"?"text-purple-500":"text-blue-500",y=t==="jewel"?"bg-purple-500/10":"bg-blue-500/10",j=t==="jewel"?of:Z7;return n.jsxs("div",{className:`p-4 rounded-lg border ${y}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(j,{className:`h-5 w-5 ${w}`}),n.jsx("h3",{className:`font-semibold ${w}`,children:e}),n.jsxs(U,{variant:"outline",className:w,children:["Earns ",t.toUpperCase()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Uh,{className:"h-4 w-4"}),"Hero ID"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ke,{value:r,onChange:C=>a(C.target.value),placeholder:"e.g. 123456","data-testid":`input-${t}-hero-id`}),n.jsx(re,{onClick:f,disabled:h||!r,size:"icon","data-testid":`button-fetch-${t}-hero`,children:h?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(Zs,{className:"h-4 w-4"})})]}),c?.ok&&n.jsxs("div",{className:"text-sm p-2 bg-background/50 rounded-md space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Class:"}),n.jsxs(U,{variant:"outline",children:[c.class,"/",c.subClass]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Level:"}),n.jsx("span",{className:"font-mono",children:c.level})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"WIS/VIT:"}),n.jsxs("span",{className:"font-mono",children:[c.wisdom,"/",c.vitality]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Gardening:"}),n.jsx("span",{className:"font-mono",children:c.gardeningSkill})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Profession:"}),n.jsx(U,{variant:c.hasGardeningGene?"default":"secondary",children:c.profession})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(R7,{className:"h-4 w-4"}),"Pet ID (optional)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ke,{value:s,onChange:C=>l(C.target.value),placeholder:"e.g. 789","data-testid":`input-${t}-pet-id`}),n.jsx(re,{onClick:m,disabled:g||!s,size:"icon","data-testid":`button-fetch-${t}-pet`,children:g?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(Zs,{className:"h-4 w-4"})})]}),d?.ok&&n.jsxs("div",{className:"text-sm p-2 bg-background/50 rounded-md space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Name:"}),n.jsx("span",{children:d.name||`Pet #${d.petId}`})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Type:"}),n.jsx(U,{variant:d.isGardeningPet?"default":"secondary",children:d.isGardeningPet?"Gardening":`Egg Type ${d.eggType}`})]}),d.bonusType&&n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:[d.bonusType,":"]}),n.jsxs("span",{className:"font-mono text-green-500",children:["+",d.powerSurgeBonus||d.skilledGreenskeeperBonus,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Fed:"}),n.jsx(U,{variant:d.isFed?"default":"destructive",children:d.isFed?"Yes":"Hungry"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex justify-between",children:n.jsxs(Ae,{children:["Stamina: ",v[0]]})}),n.jsx(Vi,{value:v,onValueChange:b,max:250,min:1,step:1,"data-testid":`slider-${t}-stamina`})]})]})]})}function Qye(){const{toast:e}=Zt(),[t,r]=p.useState(""),[a,s]=p.useState(""),[l,c]=p.useState(null),[d,f]=p.useState(null),[m,h]=p.useState([25]),[g,v]=p.useState(""),[b,w]=p.useState(""),[y,j]=p.useState(null),[C,E]=p.useState(null),[A,T]=p.useState([25]),[k,P]=p.useState(""),[_,M]=p.useState("2"),[X,I]=p.useState("0.1"),[R,V]=p.useState(null),{data:je,isLoading:Y}=ke({queryKey:["/api/admin/gardening-calc/reward-fund"],refetchInterval:6e4}),{data:te,isLoading:z}=ke({queryKey:["/api/admin/gardening-validate/summary"]}),J=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/hero/${t}`)).json(),onSuccess:oe=>{oe.ok?(c(oe),h([oe.stamina]),e({title:"JEWEL Hero loaded",description:`${oe.class} Lv${oe.level} - ${oe.profession}`})):e({title:"Error",description:oe.error||"Hero not found",variant:"destructive"})},onError:oe=>{e({title:"Error",description:oe.message,variant:"destructive"})}}),$=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/pet/${a}`)).json(),onSuccess:oe=>{oe.ok?(f(oe),oe.isGardeningPet&&oe.bonusType?e({title:"JEWEL Pet loaded",description:`${oe.bonusType} +${oe.powerSurgeBonus||oe.skilledGreenskeeperBonus}%`}):oe.isGardeningPet||e({title:"Warning",description:`Not a gardening pet (egg type ${oe.eggType})`,variant:"destructive"})):e({title:"Error",description:oe.error||"Pet not found",variant:"destructive"})},onError:oe=>{e({title:"Error",description:oe.message,variant:"destructive"})}}),H=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/hero/${g}`)).json(),onSuccess:oe=>{oe.ok?(j(oe),T([oe.stamina]),e({title:"CRYSTAL Hero loaded",description:`${oe.class} Lv${oe.level} - ${oe.profession}`})):e({title:"Error",description:oe.error||"Hero not found",variant:"destructive"})},onError:oe=>{e({title:"Error",description:oe.message,variant:"destructive"})}}),pe=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/pet/${b}`)).json(),onSuccess:oe=>{oe.ok?(E(oe),oe.isGardeningPet&&oe.bonusType?e({title:"CRYSTAL Pet loaded",description:`${oe.bonusType} +${oe.powerSurgeBonus||oe.skilledGreenskeeperBonus}%`}):oe.isGardeningPet||e({title:"Warning",description:`Not a gardening pet (egg type ${oe.eggType})`,variant:"destructive"})):e({title:"Error",description:oe.error||"Pet not found",variant:"destructive"})},onError:oe=>{e({title:"Error",description:oe.message,variant:"destructive"})}}),D=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/wallet/${k}/positions`)).json(),onSuccess:oe=>{oe.ok?(V(oe),oe.positions.length>0?(M(String(oe.positions[0].poolId)),I(oe.positions[0].lpSharePct),e({title:"Wallet loaded",description:`Found ${oe.positions.length} LP position(s)`})):e({title:"No positions",description:"No staked LP found for this wallet"})):e({title:"Error",description:oe.error||"Failed to fetch wallet",variant:"destructive"})},onError:oe=>{e({title:"Error",description:oe.message,variant:"destructive"})}}),ne=Oe({mutationFn:async()=>{const oe=d?.isFed??!0,$e=C?.isFed??!0,We=await(await De("POST","/api/admin/gardening-calc/calculate-dual",{poolId:parseInt(_),playerAddress:k||"0x0000000000000000000000000000000000000000",lpShareOverride:k?null:parseFloat(X)/100,jewelHero:{heroId:t,wisdom:l?.wisdom??50,vitality:l?.vitality??50,gardeningSkill:l?.gardeningSkill??0,hasGardeningGene:l?.hasGardeningGene??!1,stamina:m[0],petBonusPct:oe?d?.powerSurgeBonus??0:0,skilledGreenskeeperBonus:oe?d?.skilledGreenskeeperBonus??0:0,petFed:oe},crystalHero:{heroId:g,wisdom:y?.wisdom??50,vitality:y?.vitality??50,gardeningSkill:y?.gardeningSkill??0,hasGardeningGene:y?.hasGardeningGene??!1,stamina:A[0],petBonusPct:$e?C?.powerSurgeBonus??0:0,skilledGreenskeeperBonus:$e?C?.skilledGreenskeeperBonus??0:0,petFed:$e}})).json();if(!We.ok)throw new Error(We.error||"Calculation failed");return We},onError:oe=>{e({title:"Calculation Error",description:oe.message,variant:"destructive"})}}),xe=ne.data,Se=oe=>{M(oe);const $e=R?.positions.find(ge=>ge.poolId===parseInt(oe));$e&&I($e.lpSharePct)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(Ou,{className:"h-6 w-6"}),"Gardening Yield Calculator"]}),n.jsx("p",{className:"text-muted-foreground",children:"Calculate expected rewards for two heroes per quest iteration"})]})}),n.jsxs(ci,{defaultValue:"calculator",className:"space-y-4",children:[n.jsxs(fs,{children:[n.jsxs(Ct,{value:"calculator","data-testid":"tab-calculator",children:[n.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Calculator"]}),n.jsxs(Ct,{value:"validation","data-testid":"tab-validation",children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Validation"]})]}),n.jsx(Ot,{value:"calculator",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Quest Heroes"}),n.jsx(Ce,{children:"Enter hero and pet IDs for both JEWEL and CRYSTAL earners"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(W4,{label:"JEWEL Hero",tokenType:"jewel",heroId:t,setHeroId:r,petId:a,setPetId:s,heroData:l,petData:d,onFetchHero:()=>J.mutate(),onFetchPet:()=>$.mutate(),heroLoading:J.isPending,petLoading:$.isPending,stamina:m,setStamina:h}),n.jsx(W4,{label:"CRYSTAL Hero",tokenType:"crystal",heroId:g,setHeroId:v,petId:b,setPetId:w,heroData:y,petData:C,onFetchHero:()=>H.mutate(),onFetchPet:()=>pe.mutate(),heroLoading:H.isPending,petLoading:pe.isPending,stamina:A,setStamina:T})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Garden Pool"}),n.jsx(Ce,{children:"Select pool and LP position (shared by both heroes)"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Gc,{className:"h-4 w-4"}),"Wallet Address (optional)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ke,{id:"walletAddress",value:k,onChange:oe=>P(oe.target.value),placeholder:"0x... to auto-detect LP positions","data-testid":"input-wallet-address"}),n.jsx(re,{onClick:()=>D.mutate(),disabled:D.isPending||!k,"data-testid":"button-fetch-wallet",children:D.isPending?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(Zs,{className:"h-4 w-4"})})]}),R?.ok&&R.positions.length>0&&n.jsxs("div",{className:"text-sm p-2 bg-muted rounded-md",children:[n.jsx("div",{className:"font-medium mb-2",children:"Staked LP Positions:"}),R.positions.map(oe=>n.jsxs("div",{className:`flex justify-between p-1 rounded cursor-pointer hover-elevate ${_===String(oe.poolId)?"bg-accent":""}`,onClick:()=>Se(String(oe.poolId)),children:[n.jsx("span",{children:oe.poolName}),n.jsxs("span",{className:"font-mono",children:[oe.lpSharePct,"%"]})]},oe.poolId))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"poolId",children:"Garden Pool"}),n.jsxs(Ze,{value:_,onValueChange:Se,children:[n.jsx(Qe,{"data-testid":"select-pool",children:n.jsx(Je,{placeholder:"Select pool"})}),n.jsx(Xe,{children:Yye.map(oe=>n.jsx(se,{value:String(oe.id),children:oe.name},oe.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"lpShare",children:"LP Share %"}),n.jsx(Ke,{id:"lpShare",type:"number",step:"0.0001",value:X,onChange:oe=>I(oe.target.value),placeholder:"0.1",disabled:!!k,"data-testid":"input-lp-share"})]})]}),n.jsxs(re,{onClick:()=>ne.mutate(),disabled:ne.isPending,className:"w-full","data-testid":"button-calculate",children:[ne.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Calculate Rewards"]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Quest Reward Fund"}),n.jsx(Ce,{children:"Current balances available for rewards"})]}),n.jsx(Q,{children:Y?n.jsx(Ee,{className:"h-6 w-6 animate-spin"}):n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-crystal-pool",children:je?.crystalPool?.toLocaleString(void 0,{maximumFractionDigits:0})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-jewel-pool",children:je?.jewelPool?.toLocaleString(void 0,{maximumFractionDigits:0})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL"})]})]})})]}),xe?.ok&&xe.jewelHero&&xe.crystalHero&&n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"h-5 w-5 text-green-500"}),"Calculated Rewards"]}),n.jsx(Ce,{children:xe.poolName})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["JEWEL Hero #",xe.jewelHero.heroId||"N/A"]}),n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-jewel-reward",children:xe.totalRewards?.jewel?.toFixed(4)??"0.0000"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[xe.jewelHero.perStamina?.toFixed(6)??"0.000000","/stam"]})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["CRYSTAL Hero #",xe.crystalHero.heroId||"N/A"]}),n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-crystal-reward",children:xe.totalRewards?.crystal?.toFixed(4)??"0.0000"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[xe.crystalHero.perStamina?.toFixed(6)??"0.000000","/stam"]})]})]}),n.jsxs("div",{className:"border-t pt-4 space-y-3 text-sm",children:[n.jsx("h4",{className:"font-medium",children:"Hero Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-2 bg-purple-500/5 rounded",children:[n.jsx("div",{className:"text-xs text-purple-500 font-medium mb-1",children:"JEWEL Hero"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Hero Factor:"}),n.jsx("span",{className:"font-mono",children:xe.jewelHero.heroFactor?.toFixed(4)??"0.0000"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pet Mult:"}),n.jsxs("span",{className:"font-mono",children:[xe.jewelHero.petMultiplier?.toFixed(2)??"1.00","x"]})]})]}),n.jsxs("div",{className:"p-2 bg-blue-500/5 rounded",children:[n.jsx("div",{className:"text-xs text-blue-500 font-medium mb-1",children:"CRYSTAL Hero"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Hero Factor:"}),n.jsx("span",{className:"font-mono",children:xe.crystalHero.heroFactor?.toFixed(4)??"0.0000"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pet Mult:"}),n.jsxs("span",{className:"font-mono",children:[xe.crystalHero.petMultiplier?.toFixed(2)??"1.00","x"]})]})]})]}),n.jsx("h4",{className:"font-medium pt-2",children:"Shared Pool Stats"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{children:"Pool Allocation:"}),n.jsxs("div",{className:"font-mono",children:[((xe.shared?.poolAllocation??0)*100).toFixed(1),"%"]}),n.jsx("div",{children:"LP Share:"}),n.jsxs("div",{className:"font-mono",children:[((xe.shared?.lpShare??0)*100).toFixed(4),"%"]})]})]})]})]})]})]})}),n.jsx(Ot,{value:"validation",className:"space-y-4",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Indexed Rewards Summary"}),n.jsx(Ce,{children:"Statistics from on-chain gardening quest reward data"})]}),n.jsx(Q,{children:z?n.jsx(Ee,{className:"h-6 w-6 animate-spin"}):te?.ok?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:parseInt(te.summary.totalRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Rewards"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-heroes",children:parseInt(te.summary.uniqueHeroes).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Heroes"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-players",children:parseInt(te.summary.uniquePlayers).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Players"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-avg-reward",children:parseFloat(te.summary.avgRewardAmount).toFixed(4)}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Reward"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-blue-500",children:parseInt(te.summary.crystalRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL Rewards"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-purple-500",children:parseInt(te.summary.jewelRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL Rewards"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Rewards by Pool"}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Pool"}),n.jsx(q,{className:"text-right",children:"Count"}),n.jsx(q,{className:"text-right",children:"Avg Reward"})]})}),n.jsx(pt,{children:te.poolBreakdown.filter(oe=>oe.poolId!==255).sort((oe,$e)=>$e.count-oe.count).map(oe=>n.jsxs(Te,{children:[n.jsx(B,{children:oe.poolName}),n.jsx(B,{className:"text-right font-mono",children:oe.count.toLocaleString()}),n.jsx(B,{className:"text-right font-mono",children:oe.avgReward.toFixed(4)})]},oe.poolId))})]})]}),parseInt(te.summary.withSnapshots)===0&&n.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[n.jsx(qs,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"LP Snapshots Not Available"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Historical rewards don't have LP position snapshots. New rewards indexed going forward will include heroLpStake and poolTotalLp for accurate yield validation."})]})]}):n.jsx("div",{className:"text-center text-muted-foreground",children:"No validation data available"})})]})})]})]})}const Xye={cv:"Crystalvale Tavern",sd:"Sundered Isles Barkeep"};function Ih(e){if(e==null)return 0;let t;if(typeof e=="string"){const r=e.match(/ability_(\d+)/);if(!r)return 0;t=parseInt(r[1],10)}else t=e;return isNaN(t)||t>=0&&t<=7?0:t>=8&&t<=11?1:t>=12&&t<=13?2:t===14?3:t>=16&&t<=23?0:t>=24&&t<=27?1:t>=28&&t<=29?2:t===30?3:0}function ab(e){return Ih(e.active1)+Ih(e.active2)+Ih(e.passive1)+Ih(e.passive2)}const Sa=["Common","Uncommon","Rare","Legendary","Mythic"],sb=["text-gray-500","text-green-500","text-blue-500","text-orange-500","text-purple-500"],VS={0:"Warrior",1:"Knight",2:"Thief",3:"Archer",4:"Priest",5:"Wizard",6:"Monk",7:"Pirate",8:"Paladin",9:"DarkKnight",10:"Summoner",11:"Ninja",16:"Dragoon",17:"Sage",18:"DreadKnight",19:"Shapeshifter",24:"Bard"};function Hz(e){if(!e||e===0)return[];const t=[];for(let r=0;r<32;r++)e&1<<r&&t.push(VS[r]||`Class${r}`);return t}function lc(e){return`${((typeof e=="string"?parseFloat(e):e)*100).toFixed(0)}%`}function np(e,t){const r=e??1,a=t??100;return r<=1&&a>=100?null:r===a?`Lv ${r}`:`Lv ${r}-${a}`}function HN(e){const t=e??9e3;return t>=9e3?null:`TTS ${t}`}function Zye(e){const t=[],r=np(e.level_min,e.level_max);r&&t.push(r);const a=e.rarity_min??0,s=e.rarity_max??4;(a>0||s<4)&&(a===s?t.push(`${Sa[a]} Only`):a>0&&s===4?t.push(`${Sa[a]}+`):a===0&&s<4?t.push(`${Sa[s]}`):t.push(`${Sa[a]}-${Sa[s]}`));const l=HN(e.max_team_stat_score);if(l&&t.push(l),e.must_include_class&&e.included_class_id!=null){const f=VS[e.included_class_id]||`Class${e.included_class_id}`;t.push(`Req: ${f}`)}const c=Hz(e.excluded_classes);c.length>0&&t.push(`No: ${c.slice(0,2).join(", ")}${c.length>2?"...":""}`),e.all_unique_classes&&t.push("Unique Classes"),e.no_triple_classes&&t.push("No Triples");const d=e.party_size??3;return t.length===0?`Open ${d}v${d}`:`${t.join(" ")} ${d}v${d}`}function Jye({status:e}){return e==="running"?n.jsxs(U,{variant:"default",className:"bg-green-500",children:[n.jsx(Ee,{className:"h-3 w-3 mr-1 animate-spin"}),"Running"]}):e==="error"?n.jsx(U,{variant:"destructive",children:"Error"}):n.jsx(U,{variant:"secondary",children:"Idle"})}function e0e(){const{toast:e}=Zt(),[t,r]=p.useState("100"),[a,s]=p.useState("cv"),[l,c]=p.useState(null),[d,f]=p.useState(new Set),[m,h]=p.useState("all"),[g,v]=p.useState("any"),[b,w]=p.useState("4"),[y,j]=p.useState("any"),[C,E]=p.useState("10"),[A,T]=p.useState("price"),[k,P]=p.useState(null),[_,M]=p.useState(null),{data:X,isLoading:I,refetch:R}=ke({queryKey:["/api/admin/tournament/status"],refetchInterval:5e3}),{data:V,isLoading:je}=ke({queryKey:["/api/admin/tournament/recent"],refetchInterval:1e4}),{data:Y,isLoading:te,refetch:z}=ke({queryKey:["/api/admin/similarity/config"]}),{data:J,isLoading:$}=ke({queryKey:["/api/admin/battle-ready/recommendations"]}),H=new URLSearchParams;m!=="all"&&H.set("realm",m),g!=="any"&&H.set("maxTts",g),b!=="any"&&H.set("minRarity",b),y!=="any"&&H.set("minCombatPower",y),C!=="any"&&H.set("minLevel",C),H.set("sortBy",A),H.set("limit","100");const pe=H.toString(),D=`/api/admin/tavern-listings${pe?`?${pe}`:""}`,{data:ne,isLoading:xe,refetch:Se}=ke({queryKey:["/api/admin/tavern-listings",m,g,b,y,C,A],queryFn:async()=>{const F=await fetch(D);if(!F.ok)throw new Error("Failed to fetch tavern listings");return F.json()}}),{data:oe,refetch:$e}=ke({queryKey:["/api/admin/tavern-indexer/status"],refetchInterval:5e3}),ge=Oe({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/trigger",{}),onSuccess:()=>{e({title:"Indexing started",description:"Tavern indexer is now running"}),$e()},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),We=Oe({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"Tavern data cleared. Starting fresh index with gene data..."}),$e(),Se(),ge.mutate()},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),{data:me,isLoading:Re,refetch:W}=ke({queryKey:["/api/admin/tournament/patterns"]}),ce=p.useMemo(()=>{if(!me?.patterns)return[];const F=new Map;for(const rt of me.patterns){const lt=rt.signature;if(!F.has(lt))F.set(lt,rt);else{const Ra=F.get(lt),ys=parseInt(String(Ra.occurrence_count))||0;(parseInt(String(rt.occurrence_count))||0)>ys&&F.set(lt,rt)}}return Array.from(F.values())},[me?.patterns]),Ie=k?me?.patterns.find(F=>F.signature===k)?.labelInfo?.id:null,{data:Ye,isLoading:Lt}=ke({queryKey:["/api/admin/tournament/types",Ie,"heroes"],queryFn:async()=>{const F=await fetch(`/api/admin/tournament/types/${Ie}/heroes`);if(!F.ok)throw new Error("Failed to fetch heroes");return F.json()},enabled:!!Ie}),kt=Oe({mutationFn:async F=>De("POST","/api/admin/tournament/types",F),onSuccess:()=>{e({title:"Label created",description:"Tournament type label saved"}),M(null),_e.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),ee=Oe({mutationFn:async F=>De("DELETE",`/api/admin/tournament/types/${F}`,{}),onSuccess:()=>{e({title:"Label deleted",description:"Tournament type label removed"}),_e.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),de=Oe({mutationFn:async()=>De("POST","/api/admin/tournament/trigger",{maxBattles:parseInt(t)||100,realm:a}),onSuccess:()=>{const F=Xye[a]||a;e({title:"Indexer triggered",description:`Battle indexing started for ${F}`}),_e.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),at=Oe({mutationFn:async F=>De("PUT","/api/admin/similarity/config",F),onSuccess:()=>{e({title:"Config saved",description:"Similarity weights updated"}),c(null),z()},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),ct=Oe({mutationFn:async()=>De("POST","/api/admin/tournament/stop"),onSuccess:()=>{e({title:"Indexer stopped",description:"Battle indexing stopped"}),_e.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),ln=Oe({mutationFn:async()=>De("POST","/api/admin/tournament/autorun/start",{maxBattlesPerRun:200}),onSuccess:()=>{e({title:"Auto-run started",description:"Indexer will run periodically"}),_e.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),yr=Oe({mutationFn:async()=>De("POST","/api/admin/tournament/autorun/stop"),onSuccess:()=>{e({title:"Auto-run stopped",description:"Periodic indexing stopped"}),_e.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:F=>{e({title:"Error",description:F.message,variant:"destructive"})}}),Nn=Oe({mutationFn:async()=>De("POST","/api/admin/tournament/reset"),onSuccess:()=>{e({title:"Reset complete",description:"All tournament data cleared. Ready to re-index."}),_e.invalidateQueries({queryKey:["/api/admin/tournament/status"]}),_e.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]}),_e.invalidateQueries({queryKey:["/api/admin/battle-ready/recommendations"]})},onError:F=>{e({title:"Reset failed",description:F.message,variant:"destructive"})}}),st=l||Y?.config,xl=X?.progress,gl=X?.stats,mn=X?.live,po=F=>{if(!F)return"N/A";if(F<60)return`${F}s`;if(F<3600)return`${Math.floor(F/60)}m ${F%60}s`;const rt=Math.floor(F/3600),lt=Math.floor(F%3600/60);return`${rt}h ${lt}m`},Uf=mn?.totalBattlesToProcess?Math.round(mn.battlesProcessed/mn.totalBattlesToProcess*100):0,vl=p.useMemo(()=>{if(!ne)return[];const F=ne.crystalvale||[],rt=ne.serendale||[];let lt;if(m==="cv"?lt=F:m==="sd"?lt=rt:lt=[...F,...rt],g!=="any"){const Ra=parseInt(g,10);lt=lt.filter(ys=>ab(ys)<=Ra)}return lt.sort((Ra,ys)=>(Ra.priceUSD??999999)-(ys.priceUSD??999999))},[ne,m,g]),ia=p.useMemo(()=>{const F=vl.filter(Yn=>d.has(Yn.id)),rt=F.filter(Yn=>Yn.nativeToken==="CRYSTAL").reduce((Yn,la)=>Yn+la.priceNative,0),lt=F.filter(Yn=>Yn.nativeToken==="JEWEL").reduce((Yn,la)=>Yn+la.priceNative,0),Ra=F.reduce((Yn,la)=>Yn+(la.priceUSD??0),0),ys=F.reduce((Yn,la)=>Yn+ab(la),0);return{crystalTotal:rt,jewelTotal:lt,usdTotal:Ra,count:F.length,teamTts:ys}},[vl,d]),Fg=F=>{f(rt=>{const lt=new Set(rt);return lt.has(F)?lt.delete(F):lt.add(F),lt})},yl=()=>f(new Set);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(kr,{className:"h-8 w-8 text-primary"}),"Battle-Ready Heroes"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Index PVP battle data and configure similarity scoring for hero recommendations"})]}),n.jsxs(re,{variant:"outline",onClick:()=>R(),"data-testid":"button-refresh-status",children:[n.jsx(tt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Battles Indexed"}),n.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tournaments-count",children:I?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):gl?.tournaments.toLocaleString()||0})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Hero Placements"}),n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-placements-count",children:I?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):gl?.placements.toLocaleString()||0})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Hero Snapshots"}),n.jsx(sw,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-snapshots-count",children:I?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):gl?.snapshots.toLocaleString()||0})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Winners"}),n.jsx(Zr,{className:"h-4 w-4 text-yellow-500"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold text-yellow-500","data-testid":"text-winners-count",children:I?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):gl?.placementBreakdown?.winner?.toLocaleString()||0})})]})]}),mn?.isRunning&&n.jsxs(G,{className:"border-green-500/50 bg-green-500/5",children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Ee,{className:"h-5 w-5 animate-spin text-green-500"}),"Indexer Running - ",mn.workers.length," Workers"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{children:["Progress: ",mn.battlesProcessed," / ",mn.totalBattlesToProcess," battles"]}),n.jsxs("span",{className:"font-mono",children:[Uf,"%"]})]}),n.jsx(Ut,{value:Uf,className:"h-3","data-testid":"progress-indexer"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-green-500",children:mn.throughputPerMinute}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"battles/min"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:po(mn.estimatedSecondsRemaining)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mn.placementsIndexed}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"placements"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mn.workQueueSize}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"queue size"})]})]}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:mn.workers.map(F=>n.jsxs("div",{className:`p-2 rounded border text-center text-xs ${F.status==="working"?"bg-green-500/20 border-green-500/50":F.status==="stealing"?"bg-yellow-500/20 border-yellow-500/50":F.status==="done"?"bg-muted border-muted-foreground/20":"bg-background border-border"}`,"data-testid":`worker-card-${F.id}`,children:[n.jsxs("div",{className:"font-bold",children:["W",F.id+1]}),n.jsx("div",{className:"capitalize",children:F.status}),n.jsx("div",{className:"text-muted-foreground",children:F.battlesProcessed})]},F.id))}),n.jsxs(re,{variant:"destructive",onClick:()=>ct.mutate(),disabled:ct.isPending,className:"w-full","data-testid":"button-stop-indexer",children:[ct.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Stop Indexer"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(vn,{className:"h-5 w-5"}),"Indexer Control"]}),n.jsx(Ce,{children:"Trigger battle data indexing with 5 parallel workers"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{htmlFor:"maxBattles",children:"Max Battles:"}),n.jsx(Ke,{id:"maxBattles",type:"number",value:t,onChange:F=>r(F.target.value),className:"w-24","data-testid":"input-max-battles"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ae,{children:[n.jsx(Lq,{className:"h-4 w-4 inline mr-1"}),"Realm:"]}),n.jsxs(Ze,{value:a,onValueChange:s,children:[n.jsx(Qe,{className:"w-48","data-testid":"select-realm",children:n.jsx(Je,{placeholder:"Select realm"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"cv",children:"Crystalvale Tavern"}),n.jsx(se,{value:"sd",children:"Sundered Isles Barkeep"})]})]})]}),n.jsxs(re,{onClick:()=>de.mutate(),disabled:de.isPending||mn?.isRunning,"data-testid":"button-trigger-indexer",children:[de.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Index Battles"]})]}),n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Auto-Run (Production):"}),mn?.isAutoRunning?n.jsx(U,{variant:"default",className:"bg-green-500",children:"Active"}):n.jsx(U,{variant:"secondary",children:"Inactive"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(re,{size:"sm",variant:"outline",onClick:()=>ln.mutate(),disabled:ln.isPending||mn?.isAutoRunning,"data-testid":"button-start-autorun",children:[n.jsx(vn,{className:"h-3 w-3 mr-1"}),"Start Auto-Run"]}),n.jsxs(re,{size:"sm",variant:"outline",onClick:()=>yr.mutate(),disabled:yr.isPending||!mn?.isAutoRunning,"data-testid":"button-stop-autorun",children:[n.jsx(pr,{className:"h-3 w-3 mr-1"}),"Stop Auto-Run"]}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsxs(re,{size:"sm",variant:"destructive",disabled:Nn.isPending||mn?.isRunning||mn?.isAutoRunning,"data-testid":"button-reset-tournaments",children:[n.jsx(wc,{className:"h-3 w-3 mr-1"}),"Reset & Re-index"]})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsx(zc,{children:"Reset Tournament Data?"}),n.jsx(Bc,{children:"This will delete all indexed tournament data including heroes, placements, and snapshots. You'll need to re-index to restore the data with the latest capture fields (entry fees, rewards, etc)."})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsxs(Uc,{onClick:()=>Nn.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset",children:[Nn.isPending?n.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]})]}),n.jsxs("div",{className:"space-y-2 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Status:"}),n.jsx(Jye,{status:xl?.status||"idle"})]}),xl?.lastRunAt&&n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Last Run:"}),n.jsx("span",{children:new Date(xl.lastRunAt).toLocaleString()})]}),xl?.lastError&&n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:xl.lastError})]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(oM,{className:"h-5 w-5"}),"Similarity Weights"]}),n.jsx(Ce,{children:"Configure how heroes are scored for similarity to battle winners"})]}),n.jsx(Q,{className:"space-y-4",children:te?n.jsx(Ee,{className:"h-8 w-8 animate-spin mx-auto"}):st?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Stats Weight"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vi,{value:[parseFloat(st.statsWeight)*100],max:100,step:5,onValueChange:F=>c({...st,statsWeight:(F[0]/100).toString()}),"data-testid":"slider-stats-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(st.statsWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Active Abilities"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vi,{value:[parseFloat(st.activeAbilitiesWeight)*100],max:100,step:5,onValueChange:F=>c({...st,activeAbilitiesWeight:(F[0]/100).toString()}),"data-testid":"slider-active-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(st.activeAbilitiesWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Passive Abilities"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vi,{value:[parseFloat(st.passiveAbilitiesWeight)*100],max:100,step:5,onValueChange:F=>c({...st,passiveAbilitiesWeight:(F[0]/100).toString()}),"data-testid":"slider-passive-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(st.passiveAbilitiesWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Class Match"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vi,{value:[parseFloat(st.classMatchWeight)*100],max:100,step:5,onValueChange:F=>c({...st,classMatchWeight:(F[0]/100).toString()}),"data-testid":"slider-class-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(st.classMatchWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Rarity Match"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vi,{value:[parseFloat(st.rarityMatchWeight)*100],max:100,step:5,onValueChange:F=>c({...st,rarityMatchWeight:(F[0]/100).toString()}),"data-testid":"slider-rarity-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(st.rarityMatchWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Gene Quality"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vi,{value:[parseFloat(st.geneQualityWeight)*100],max:100,step:5,onValueChange:F=>c({...st,geneQualityWeight:(F[0]/100).toString()}),"data-testid":"slider-gene-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(st.geneQualityWeight)})]})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Weight Sum:"}),n.jsx("span",{className:"font-mono",children:(parseFloat(st.statsWeight)+parseFloat(st.activeAbilitiesWeight)+parseFloat(st.passiveAbilitiesWeight)+parseFloat(st.classMatchWeight)+parseFloat(st.rarityMatchWeight)+parseFloat(st.geneQualityWeight)).toFixed(2)})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Weights are auto-normalized when calculating scores (final score always 0-1)"})]}),l&&n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsxs(re,{onClick:()=>at.mutate(l),disabled:at.isPending,"data-testid":"button-save-config",children:[at.isPending&&n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]}),n.jsx(re,{variant:"outline",onClick:()=>c(null),children:"Cancel"})]})]}):n.jsx("div",{className:"text-muted-foreground text-center py-4",children:"No config found. Trigger the indexer to create default config."})})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Recent Battle Winners"}),n.jsx(Ce,{children:"Heroes that have won recent PVP battles with their combat stats"})]}),n.jsx(Q,{children:$?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ee,{className:"h-8 w-8 animate-spin"})}):J?.recommendations&&J.recommendations.length>0?n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Hero ID"}),n.jsx(q,{children:"Class"}),n.jsx(q,{children:"Level"}),n.jsx(q,{children:"Rarity"}),n.jsx(q,{children:"Combat Power"}),n.jsx(q,{children:"Stats"}),n.jsx(q,{children:"Abilities"})]})}),n.jsx(pt,{children:J.recommendations.slice(0,20).map(F=>{const rt=F.snapshot,lt=F.tournament;return rt?n.jsxs(Te,{"data-testid":`row-winner-${rt.heroId}`,children:[n.jsx(B,{className:"font-mono",children:rt.heroId}),n.jsx(B,{children:rt.mainClass}),n.jsx(B,{children:rt.level}),n.jsx(B,{children:n.jsx("span",{className:sb[rt.rarity]||"",children:Sa[rt.rarity]||rt.rarity})}),n.jsx(B,{className:"font-bold",children:rt.combatPowerScore||"N/A"}),n.jsxs(B,{className:"text-xs",children:["STR:",rt.strength??"-"," AGI:",rt.agility??"-"," DEX:",rt.dexterity??"-",n.jsx("br",{}),"VIT:",rt.vitality??"-"," END:",rt.endurance??"-"," INT:",rt.intelligence??"-"]}),n.jsx(B,{className:"text-xs text-muted-foreground",children:[rt.active1,rt.active2].filter(Boolean).join(", ")||"None"})]},`${rt.heroId}-${lt?.tournamentId||rt.tournamentId}`):null})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No battle winners indexed yet. Trigger the indexer to start collecting data."})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Recent Battles"}),n.jsx(Ce,{children:"Recently indexed PVP battles with their requirements"})]}),n.jsx(Q,{children:je?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ee,{className:"h-8 w-8 animate-spin"})}):V?.tournaments&&V.tournaments.length>0?n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Battle ID"}),n.jsx(q,{children:"Format"}),n.jsx(q,{children:"Level Range"}),n.jsx(q,{children:"Rarity Range"}),n.jsx(q,{children:"Party Size"}),n.jsx(q,{children:"Status"})]})}),n.jsx(pt,{children:V.tournaments.slice(0,20).map(F=>n.jsxs(Te,{"data-testid":`row-battle-${F.tournamentId}`,children:[n.jsx(B,{className:"font-mono",children:F.tournamentId}),n.jsx(B,{children:F.format}),n.jsx(B,{children:np(F.levelMin,F.levelMax)||n.jsx("span",{className:"text-muted-foreground",children:"Open"})}),n.jsx(B,{children:F.rarityMin!==0||F.rarityMax!==4?`${Sa[F.rarityMin]||F.rarityMin} - ${Sa[F.rarityMax]||F.rarityMax}`:n.jsx("span",{className:"text-muted-foreground",children:"Any"})}),n.jsxs(B,{children:[F.partySize,"v",F.partySize]}),n.jsx(B,{children:n.jsx(U,{variant:"secondary",children:F.status})})]},F.tournamentId))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No battles indexed yet."})})]}),n.jsxs(G,{children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(iw,{className:"h-5 w-5"}),"Tournament Types"]}),n.jsxs(Ce,{children:["Discovered tournament patterns with restrictions. ",me?.totalLabels||0," labeled."]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>W(),"data-testid":"button-refresh-patterns",children:[n.jsx(tt,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]})}),n.jsx(Q,{children:Re?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ee,{className:"h-8 w-8 animate-spin"})}):ce.length>0?n.jsxs("div",{className:"space-y-2",children:[_&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg mb-4 space-y-3","data-testid":"label-form",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:["Create Label for: ",n.jsx("code",{className:"text-xs",children:_.signature})]}),n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>M(null),children:"Cancel"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"label-name",children:"Label Name"}),n.jsx(Ke,{id:"label-name",value:_.label,onChange:F=>M({..._,label:F.target.value}),placeholder:"e.g., Beginner 3v3","data-testid":"input-label-name"})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"label-category",children:"Category"}),n.jsxs(Ze,{value:_.category,onValueChange:F=>M({..._,category:F}),children:[n.jsx(Qe,{"data-testid":"select-label-category",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"open",children:"Open"}),n.jsx(se,{value:"beginner",children:"Beginner"}),n.jsx(se,{value:"veteran",children:"Veteran"}),n.jsx(se,{value:"specialty",children:"Specialty"}),n.jsx(se,{value:"general",children:"General"})]})]})]}),n.jsxs("div",{children:[n.jsx(Ae,{htmlFor:"label-color",children:"Color"}),n.jsx(Ke,{id:"label-color",type:"color",value:_.color,onChange:F=>M({..._,color:F.target.value}),className:"h-9 w-full","data-testid":"input-label-color"})]})]}),n.jsxs(re,{onClick:()=>kt.mutate(_),disabled:!_.label||kt.isPending,"data-testid":"button-save-label",children:[kt.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(Ji,{className:"h-4 w-4 mr-1"}),"Save Label"]})]}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-8"}),n.jsx(q,{children:"Type"}),n.jsx(q,{children:"Restrictions"}),n.jsx(q,{children:"Occurrences"}),n.jsx(q,{children:"Label"}),n.jsx(q,{children:"Actions"})]})}),n.jsx(pt,{children:ce.slice(0,30).map((F,rt)=>n.jsxs(n.Fragment,{children:[n.jsxs(Te,{"data-testid":`row-pattern-${rt}`,children:[n.jsx(B,{children:F.labelInfo&&n.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>P(k===F.signature?null:F.signature),"data-testid":`button-expand-${rt}`,children:k===F.signature?n.jsx(Wc,{className:"h-4 w-4"}):n.jsx(lf,{className:"h-4 w-4"})})}),n.jsxs(B,{children:[n.jsx("div",{className:"font-medium text-sm",children:Zye(F)}),n.jsx("div",{className:"text-xs font-mono text-muted-foreground truncate max-w-[200px]",title:F.signature,children:F.signature})]}),n.jsx(B,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[np(F.level_min,F.level_max)&&n.jsx(U,{variant:"default",className:"text-xs bg-blue-600",children:np(F.level_min,F.level_max)}),n.jsxs(U,{variant:"outline",className:"text-xs",children:[F.party_size,"v",F.party_size]}),HN(F.max_team_stat_score)&&n.jsx(U,{variant:"default",className:"text-xs bg-amber-600",children:HN(F.max_team_stat_score)}),F.rarity_min!==null&&F.rarity_max!==null&&(F.rarity_min!==0||F.rarity_max!==4)&&n.jsxs(U,{variant:"outline",className:"text-xs",children:[Sa[F.rarity_min]||"Common","-",Sa[F.rarity_max]||"Mythic"]}),F.all_unique_classes&&n.jsx(U,{variant:"secondary",className:"text-xs",children:"All Unique"}),F.no_triple_classes&&n.jsx(U,{variant:"secondary",className:"text-xs",children:"No Triples"}),F.excluded_classes&&F.excluded_classes>0&&n.jsxs(U,{variant:"destructive",className:"text-xs",children:["No: ",Hz(F.excluded_classes).join(", ")]}),F.must_include_class&&F.included_class_id!==null&&n.jsxs(U,{className:"text-xs bg-green-600",children:["Req: ",VS[F.included_class_id]||`Class${F.included_class_id}`]}),F.max_hero_stat_score!==null&&F.max_hero_stat_score<3e3&&n.jsxs(U,{variant:"secondary",className:"text-xs",children:["Hero",F.max_hero_stat_score]}),F.battle_budget&&n.jsxs(U,{variant:"secondary",className:"text-xs",children:["Budget: ",F.battle_budget]}),F.battle_inventory&&F.battle_inventory>0&&n.jsxs(U,{variant:"secondary",className:"text-xs",children:["Inv: ",F.battle_inventory]}),F.shot_clock_duration&&F.shot_clock_duration!==45&&n.jsxs(U,{variant:"outline",className:"text-xs",children:[F.shot_clock_duration,"s"]}),F.min_glories&&F.min_glories>0&&n.jsxs(U,{variant:"outline",className:"text-xs bg-yellow-600/20 border-yellow-500",children:["Entry: ",F.min_glories," Glory"]}),F.max_sponsor_count&&F.max_sponsor_count>0&&n.jsx(U,{variant:"outline",className:"text-xs bg-blue-600/20 border-blue-500",children:"Sponsored"}),F.glory_bout&&n.jsx(U,{variant:"outline",className:"text-xs bg-purple-600/20 border-purple-500",children:"Glory Bout"}),F.private_battle&&n.jsx(U,{variant:"outline",className:"text-xs bg-gray-600/20 border-gray-500",children:"Private"}),F.map_id!==null&&F.map_id>0&&n.jsxs(U,{variant:"outline",className:"text-xs",children:["Map: ",F.map_id]}),F.excluded_consumables&&F.excluded_consumables>0&&n.jsx(U,{variant:"destructive",className:"text-xs",children:"No Items"}),F.excluded_origin&&F.excluded_origin>0&&n.jsx(U,{variant:"secondary",className:"text-xs",children:"Origin Excl"})]})}),n.jsx(B,{children:n.jsx("span",{className:"font-mono",children:typeof F.occurrence_count=="number"?F.occurrence_count.toLocaleString():parseInt(String(F.occurrence_count)).toLocaleString()})}),n.jsx(B,{children:F.label?n.jsx(U,{style:{backgroundColor:F.labelInfo?.color||"#6366f1"},children:F.label}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"Unlabeled"})}),n.jsx(B,{children:n.jsx("div",{className:"flex items-center gap-1",children:F.label?n.jsxs(n.Fragment,{children:[n.jsx(re,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>M({signature:F.signature,label:F.label||"",category:F.labelInfo?.category||"general",color:F.labelInfo?.color||"#6366f1"}),"data-testid":`button-edit-label-${rt}`,children:n.jsx(el,{className:"h-3 w-3"})}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsx(re,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive","data-testid":`button-delete-label-${rt}`,children:n.jsx(lw,{className:"h-3 w-3"})})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsx(zc,{children:"Delete Label"}),n.jsxs(Bc,{children:['Are you sure you want to delete the label "',F.label,'"? This cannot be undone.']})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsx(Uc,{onClick:()=>F.labelInfo?.id&&ee.mutate(F.labelInfo.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]}):n.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>M({signature:F.signature,label:"",category:"general",color:"#6366f1"}),"data-testid":`button-add-label-${rt}`,children:[n.jsx(Ji,{className:"h-3 w-3 mr-1"}),"Label"]})})})]},`${F.signature}-${rt}`),k===F.signature&&F.labelInfo&&n.jsx(Te,{children:n.jsx(B,{colSpan:6,className:"bg-muted/30",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"text-sm font-medium mb-2",children:['Winning Heroes for "',F.label,'"']}),Lt?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx(Ee,{className:"h-4 w-4 animate-spin"})}):Ye?.heroes&&Ye.heroes.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Ye.heroes.slice(0,8).map((lt,Ra)=>n.jsxs("div",{className:"p-2 bg-background rounded border text-xs",children:[n.jsxs("div",{className:"font-medium",children:[lt.main_class,"/",lt.sub_class]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv ",lt.level," | ",n.jsx("span",{className:sb[lt.rarity],children:Sa[lt.rarity]})]}),n.jsxs("div",{className:"text-muted-foreground",children:["STR:",lt.strength," AGI:",lt.agility," INT:",lt.intelligence]})]},Ra))}):n.jsx("div",{className:"text-muted-foreground text-xs",children:"No winning heroes found for this type."})]})})},`${F.signature}-heroes`)]}))})]})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tournament patterns discovered yet. Run the indexer to collect data."})})]}),n.jsxs(G,{children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(cM,{className:"h-5 w-5"}),"Tavern Listings"]}),n.jsx(Ce,{children:"Tournament-ready heroes from both taverns (Mythic rarity by default)"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Ze,{value:m,onValueChange:F=>h(F),children:[n.jsx(Qe,{className:"w-40","data-testid":"select-tavern-filter",children:n.jsx(Je,{placeholder:"Filter tavern"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"all",children:"All Taverns"}),n.jsx(se,{value:"cv",children:"Crystalvale"}),n.jsx(se,{value:"sd",children:"Sundered Isles"})]})]}),n.jsxs(Ze,{value:g,onValueChange:F=>v(F),children:[n.jsx(Qe,{className:"w-32","data-testid":"select-tts-filter",children:n.jsx(Je,{placeholder:"Max TTS"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"any",children:"Any TTS"}),n.jsx(se,{value:"3",children:"TTS 3"}),n.jsx(se,{value:"5",children:"TTS 5"}),n.jsx(se,{value:"7",children:"TTS 7"}),n.jsx(se,{value:"9",children:"TTS 9"})]})]}),n.jsxs(Ze,{value:b,onValueChange:F=>w(F),children:[n.jsx(Qe,{className:"w-36","data-testid":"select-rarity-filter",children:n.jsx(Je,{placeholder:"Min Rarity"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"any",children:"Any Rarity"}),n.jsx(se,{value:"2",children:"Rare+"}),n.jsx(se,{value:"3",children:"Legendary+"}),n.jsx(se,{value:"4",children:"Mythic"})]})]}),n.jsxs(Ze,{value:y,onValueChange:F=>j(F),children:[n.jsx(Qe,{className:"w-40","data-testid":"select-combat-power-filter",children:n.jsx(Je,{placeholder:"Min Combat Power"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"any",children:"Any CP"}),n.jsx(se,{value:"150",children:"CP 150 (L1)"}),n.jsx(se,{value:"220",children:"CP 220 (L10)"}),n.jsx(se,{value:"290",children:"CP 290 (L20)"})]})]}),n.jsxs(Ze,{value:C,onValueChange:F=>E(F),children:[n.jsx(Qe,{className:"w-32","data-testid":"select-level-filter",children:n.jsx(Je,{placeholder:"Min Level"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"any",children:"Any Level"}),n.jsx(se,{value:"10",children:"Level 10+"}),n.jsx(se,{value:"20",children:"Level 20+"}),n.jsx(se,{value:"50",children:"Level 50+"})]})]}),n.jsxs(Ze,{value:A,onValueChange:F=>T(F),children:[n.jsx(Qe,{className:"w-36","data-testid":"select-sort-by",children:n.jsx(Je,{placeholder:"Sort By"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"price",children:"Cheapest"}),n.jsx(se,{value:"combat_power",children:"Strongest"}),n.jsx(se,{value:"value",children:"Best Value"})]})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>Se(),"data-testid":"button-refresh-tavern",children:[n.jsx(tt,{className:"h-4 w-4 mr-1"}),"Refresh"]}),ia.count>0&&n.jsxs(re,{variant:"ghost",size:"sm",onClick:yl,"data-testid":"button-clear-selection",children:["Clear (",ia.count,")"]})]})]})}),n.jsxs(Q,{children:[ia.count>0&&n.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-lg flex flex-wrap items-center gap-4","data-testid":"team-cost-summary",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(na,{className:"h-5 w-5 text-green-500"}),n.jsxs("span",{className:"font-semibold",children:["Team (",ia.count," heroes):"]})]}),ia.crystalTotal>0&&n.jsxs(U,{variant:"outline",className:"text-blue-400","data-testid":"text-crystal-total",children:[ia.crystalTotal.toFixed(2)," CRYSTAL"]}),ia.jewelTotal>0&&n.jsxs(U,{variant:"outline",className:"text-purple-400","data-testid":"text-jewel-total",children:[ia.jewelTotal.toFixed(2)," JEWEL"]}),n.jsxs(U,{className:"bg-green-600","data-testid":"text-usd-total",children:["$",ia.usdTotal.toFixed(2)," USD"]}),n.jsxs(U,{variant:"outline",className:"text-orange-400","data-testid":"text-team-tts",children:["TTS: ",ia.teamTts]})]}),n.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg","data-testid":"tavern-indexer-status",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[oe?.status?.isRunning?n.jsx(Ee,{className:"h-4 w-4 animate-spin text-yellow-500"}):n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:oe?.status?.isRunning?"Indexing...":"Indexed"})]}),n.jsxs(U,{variant:"outline",className:"text-xs",children:[oe?.status?.totalHeroesIndexed||0," heroes"]}),ne?.source==="indexed"&&ne?.lastIndexed&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(ne.lastIndexed.replace(" ","T")).toLocaleString()]}),ne?.source==="live"&&n.jsx(U,{variant:"outline",className:"text-xs text-orange-400",children:"Live API"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>We.mutate(),disabled:oe?.status?.isRunning||We.isPending||ge.isPending,"data-testid":"button-reset-tavern-indexer",children:[We.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(wc,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>ge.mutate(),disabled:oe?.status?.isRunning||ge.isPending,"data-testid":"button-trigger-tavern-indexer",children:[oe?.status?.isRunning||ge.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 mr-1"}),"Re-index"]}),oe?.status?.autoRunActive&&n.jsx(U,{variant:"secondary",className:"text-xs",children:"Auto-refresh: 30min"})]})]}),oe?.stats&&oe.stats.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-4 text-xs text-muted-foreground",children:oe.stats.map(F=>n.jsxs("span",{children:[F.realm==="cv"?"CV":"SD",": ",F.total_heroes," heroes, avg ",parseFloat(F.avg_price).toFixed(1)," ",F.realm==="cv"?"CRYSTAL":"JEWEL"]},F.realm))})]}),xe?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ee,{className:"h-8 w-8 animate-spin"})}):vl.length>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Source: ",ne?.source==="indexed"?"Database":"Live API"," | Prices: CRYSTAL $",ne?.prices.crystal?.toFixed(4)||"N/A"," | JEWEL $",ne?.prices.jewel?.toFixed(4)||"N/A"]}),n.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-10"}),n.jsx(q,{children:"Hero ID"}),n.jsx(q,{children:"Class"}),n.jsx(q,{children:"Level"}),n.jsx(q,{children:"Rarity"}),n.jsx(q,{children:"CP"}),n.jsx(q,{children:"TTS"}),n.jsx(q,{children:"Profession"}),n.jsx(q,{children:"Summons"}),n.jsx(q,{children:"Stats"}),n.jsx(q,{className:"text-right",children:"Price"})]})}),n.jsx(pt,{children:vl.map(F=>n.jsxs(Te,{"data-testid":`row-tavern-${F.id}`,className:d.has(F.id)?"bg-muted/50":"",children:[n.jsx(B,{children:n.jsx(px,{checked:d.has(F.id),onCheckedChange:()=>Fg(F.id),"data-testid":`checkbox-hero-${F.id}`})}),n.jsx(B,{className:"font-mono text-xs",children:F.normalizedId}),n.jsx(B,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:F.mainClassStr}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.subClassStr})]})}),n.jsx(B,{children:F.level}),n.jsx(B,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:sb[F.rarity]||"",children:Sa[F.rarity]||F.rarity}),F.summonStone&&n.jsxs(U,{variant:"outline",className:`text-xs px-1 py-0 ${F.stoneTier==="greater"?"text-yellow-400 border-yellow-400/50":F.stoneTier==="normal"?"text-slate-300 border-slate-400/50":F.stoneTier==="lesser"?"text-amber-600 border-amber-500/50":"text-emerald-400 border-emerald-400/50"}`,"data-testid":`badge-stoned-${F.id}`,title:F.stoneTier&&F.stoneType?`${F.stoneTier.charAt(0).toUpperCase()+F.stoneTier.slice(1)} ${F.stoneType.charAt(0).toUpperCase()+F.stoneType.slice(1)} Stone`:"Enhancement Stone",children:[n.jsx(of,{className:"h-3 w-3 mr-0.5"}),n.jsxs("span",{className:"text-[10px]",children:[F.stoneTier==="greater"?"G":F.stoneTier==="lesser"?"L":"",F.stoneType?F.stoneType.slice(0,3).toUpperCase():""]})]})]})}),n.jsx(B,{children:n.jsx(U,{variant:"secondary",className:"text-xs font-mono","data-testid":`text-hero-cp-${F.id}`,children:F.combatPower||F.strength+F.agility+F.intelligence+F.wisdom+F.luck+F.dexterity+F.vitality+F.endurance||0})}),n.jsx(B,{children:n.jsx(U,{variant:"outline",className:"text-xs","data-testid":`text-hero-tts-${F.id}`,children:ab(F)})}),n.jsx(B,{className:"text-xs",children:F.professionStr}),n.jsxs(B,{className:"text-xs",children:[F.summons,"/",F.maxSummons]}),n.jsxs(B,{className:"text-xs",children:["STR:",F.strength," AGI:",F.agility,n.jsx("br",{}),"INT:",F.intelligence," WIS:",F.wisdom]}),n.jsx(B,{className:"text-right",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:F.nativeToken==="CRYSTAL"?"text-blue-400 font-medium":"text-purple-400 font-medium",children:[F.priceNative.toFixed(2)," ",F.nativeToken]}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",F.priceUSD?.toFixed(2)??"N/A"]})]})})]},F.id))})]})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No heroes for sale found. Try refreshing."})]})]})]})}const t0e="/assets/image_1767989909914-BoOIJOrw.png",n0e="/assets/image_1767989916670-CIB_QLg6.png",r0e="/assets/image_1767989924709-Cd-fX91X.png",a0e="/assets/image_1767989933201-CExWd6gH.png",s0e="/assets/image_1767989940273-D-256Xo-.png",i0e="/assets/image_1767989948128-DF1TFkq_.png",l0e={0:"B1",1:"B2",2:"B3",3:"B4",4:"B5",5:"B6",6:"B7",7:"B8",8:"B9",9:"B10",10:"B11",11:"B12",12:"B13",13:"B14",14:"B15",15:"B16",16:"A1",17:"A2",18:"A3",19:"A4",20:"A5",21:"A6",24:"E1",25:"E2",26:"E3",28:"X1"},o0e={0:"#ab9159",1:"#af3853",2:"#578761",3:"#068483",4:"#48321e",5:"#66489e",6:"#ca93a7",7:"#62a7e6",8:"#c34b1e",9:"#326988",10:"#513f4f",11:"#d48b41",12:"#dbfbf5",13:"#8f9bb3",14:"#c5bfa7",15:"#d7bc65",16:"#d7bc65",17:"#9b68ab",18:"#8d6b3a",19:"#566377",20:"#dbfbf5",21:"#8f9bb3",24:"#275435",25:"#77b23c",26:"#880016",28:"#353132"},c0e={0:"#203997",2:"#896693",4:"#bb3f55",6:"#0d7634",8:"#8d7136",10:"#613d8a",12:"#2494a2",14:"#a41e12"},d0e={0:"#c58135",2:"#f1ca9e",4:"#985e1c",6:"#57340c",8:"#e6a861",10:"#7b4a11",12:"#e5ac91",14:"#aa5c38"},G4={0:"#c5bfa7",1:"#a88b47",2:"#58381e",3:"#566f7d",4:"#2a386d",5:"#3f2e40",6:"#830e18",7:"#6f3a3c",8:"#cddef0",9:"#df7126",10:"#835138",11:"#86a637",16:"#6b173c",17:"#a0304d",18:"#78547c",19:"#352a51",24:"#147256",25:"#cf7794",26:"#c29d35",28:"#211f1f"},u0e={0:"Battle Hawk",1:"Wolf Mane",2:"Enchanter",3:"Wild Growth",4:"Pixel",5:"Sunrise",6:"Bouffant",7:"Agleam Spike",8:"Wayfinder",9:"Faded Topknot",10:"Side Shave",11:"Ronin",16:"Gruff",17:"Rogue Locs",18:"Stone Cold",19:"Zinra's Tail",20:"Hedgehog",21:"Delinquent",24:"Skegg",25:"Shinobi",26:"Sanjo",28:"Perfect Form"},f0e={0:"Windswept",1:"Fauna",2:"Enchantress",3:"Pineapple Top",4:"Pixie",5:"Darkweave Plait",6:"Coif",7:"Courtly Updo",8:"Cerulean Tuft",9:"Lorelei",10:"Casual Ponytail",11:"Wild Ponytail",16:"Vogue Locs",17:"Twilight Locs",18:"Ethereal Wisherah",19:"Kunoichi",20:"Sweeping Wisherah",21:"Chignon",24:"Regal Locks",25:"Moonlight Cascade",26:"Mystic Coil",28:"Divine Radiance"},m0e={0:"None",1:"Kitsune Ears",2:"Satyr Horns",3:"Ram Horns",4:"Imp Horns",5:"Cat Ears",6:"Minotaur Horns",7:"Faun Horns",8:"Draconic Horns",9:"Fae Circlet",10:"Ragfly Antennae",11:"Royal Crown",16:"Jagged Horns",17:"Spindle Horns",18:"Bear Ears",19:"Antennae",20:"Fallen Angel Coronet",21:"Power Horn",24:"Wood Elf Ears",25:"Snow Elf Ears",26:"Cranial Wings",28:"Insight Jewel"},h0e={0:"None",1:"Monkey Tail",2:"Cat Tail",3:"Imp Tail",4:"Minotaur Tail",5:"Daish",6:"Kitsune Tail",7:"Zweihnder",8:"Skeletal Wings",9:"Skeletal Tail",10:"Afflicted Spikes",11:"Traveler's Pack",16:"Gryphon Wings",17:"Draconic Wings",18:"Butterfly Wings",19:"Phoenix Wings",20:"Fallen Angel",21:"Crystal Wings",24:"Aura of the Inner Grove",25:"Ancient Orbs",26:"Arachnid Legs",28:"Cecaelia Tentacles"},ib={0:"Sand",1:"Rose",2:"Emerald",3:"Teal",4:"Brown",5:"Amethyst",6:"Pink",7:"Cornflower",8:"Auburn",9:"Ocean",10:"Plum",11:"Honey",16:"Wheat",17:"Lavender",18:"Chestnut",19:"Slate",20:"Forest",21:"Lime",24:"Crimson",25:"Obsidian",26:"Mint",28:"Silver"},p0e={0:"Azure",2:"Mirabella",4:"Izmir",6:"Turmalin",8:"Hazel",10:"Violet",12:"Aqua",14:"Crimson"},x0e={0:"Nomad",2:"Ginger",4:"Salmon",6:"Nutmeg",8:"Peach",10:"Copper",12:"Rose",14:"Terra"},Y4={0:"Blacksmithing",2:"Goldsmithing",4:"Armorsmithing",6:"Woodworking",8:"Leatherworking",10:"Tailoring",12:"Enchanting",14:"Alchemy"},Q4={0:"Basic1",1:"Basic2",2:"Basic3",3:"Basic4",4:"Basic5",5:"Basic6",6:"Basic7",7:"Basic8",16:"Advanced1",17:"Advanced2",18:"Advanced3",19:"Advanced4",24:"Elite1",25:"Elite2",28:"Exalted1"},g0e={0:"Desert",2:"Forest",4:"Plains",6:"Island",8:"Swamp",10:"Mountains",12:"City",14:"Arctic"},qz={"poisoned blade":"B","blinding winds":"B",heal:"B",cleanse:"B","iron skin":"B",speed:"B","critical aim":"B",deathmark:"B",exhaust:"A",daze:"A",explosion:"A","hardened shield":"A",stun:"E","second wind":"E",resurrection:"X",duelist:"B",clutch:"B",foresight:"B",headstrong:"B","clear vision":"B",fearless:"B",chatterbox:"B",stalwart:"B",leadership:"A",efficient:"A",intimidation:"A",toxic:"A","giant slayer":"E","last stand":"E","second life":"X"};function Vz(e){return e.toLowerCase().trim()}function v0e(e){const t=qz[Vz(e)];return t==="A"||t==="E"||t==="X"}function y0e(e){const t=qz[Vz(e)];return t==="A"||t==="E"||t==="X"?"text-cyan-400":""}function j0e(e){return e.startsWith("A")||e.startsWith("E")||e.startsWith("X")}const b0e={0:"bg-gray-500",1:"bg-green-500",2:"bg-blue-500",3:"bg-orange-500",4:"bg-purple-500"};function ja({title:e,probabilities:t,mutations:r,isSkillTable:a=!1}){let s;if(r?r instanceof Set?s=r:Array.isArray(r)?s=new Set(r):(console.warn(`[SummoningCalculator] Unexpected mutations format for ${e}:`,typeof r,r),s=new Set):s=new Set,!t||typeof t!="object")return null;const l=Object.entries(t).sort((c,d)=>d[1]-c[1]).filter(([c,d])=>d>0);return l.length===0?null:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("div",{className:"space-y-0.5",children:l.map(([c,d])=>{const f=s.has(c),m=a&&v0e(c),h=a?y0e(c):"";return n.jsxs("div",{className:`flex justify-between text-xs py-0.5 px-1 rounded ${f?"bg-orange-500/20 text-orange-300":""}`,title:f?"Mutation (not in parent dominant genes)":m?"Non-basic skill (Advanced/Elite/Exalted)":void 0,children:[n.jsx("span",{className:`${f?"font-medium":""} ${h}`,children:c}),n.jsxs("span",{className:`font-mono ${h}`,children:[d.toFixed(2),"%"]})]},c)})})]})}function Kr({title:e,probabilities:t,nameMap:r,colorMap:a,showPairNames:s,femaleNameMap:l}){if(!t||typeof t!="object")return null;const c=Object.entries(t).sort((d,f)=>f[1]-d[1]).filter(([d,f])=>f>0);return c.length===0?null:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("div",{className:"space-y-0.5",children:c.map(([d,f])=>{const m=Number(d),h=l0e[m]||`?${m}`,g=j0e(h),v=a?.[m],b=r[m]||`Gene ${m}`;let w=b;if(s&&l){const y=l[m];y&&y!==b&&(w=`${b} / ${y}`)}return n.jsxs("div",{className:`flex items-center justify-between text-xs py-0.5 px-1 rounded gap-1 ${g?"bg-orange-500/20":""}`,children:[n.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[v&&n.jsx("div",{className:"w-3 h-3 rounded-sm border border-border/50 flex-shrink-0",style:{backgroundColor:v}}),n.jsxs("span",{className:`truncate ${g?"text-orange-300 font-medium":""}`,children:["(",h,") ",w]})]}),n.jsxs("span",{className:"font-mono flex-shrink-0",children:[f.toFixed(2),"%"]})]},d)})})]})}function N0e({genetics:e,title:t}){const r=[{name:"Class",value:e.mainClass},{name:"SubClass",value:e.subClass},{name:"Profession",value:e.profession},{name:"Stat Boost 1",value:e.statBoost1},{name:"Stat Boost 2",value:e.statBoost2},{name:"Active 1",value:e.active1},{name:"Active 2",value:e.active2},{name:"Passive 1",value:e.passive1},{name:"Passive 2",value:e.passive2},{name:"Element",value:e.element}];return n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:t}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-1 px-1",children:"Trait"}),n.jsx("th",{className:"text-left py-1 px-1",children:"Dominant"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R1"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R2"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R3"})]})}),n.jsx("tbody",{children:r.map(({name:a,value:s})=>n.jsxs("tr",{className:"border-b border-border/50",children:[n.jsx("td",{className:"py-1 px-1 font-medium",children:a}),n.jsx("td",{className:"py-1 px-1",children:s?.dominant||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R1||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R2||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R3||"-"})]},a))})]})})]})}function X4({hero:e,genetics:t}){return n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs(ie,{className:"text-lg",children:["Hero #",e.normalizedId]}),n.jsx(U,{className:b0e[e.rarity],children:e.rarityName})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"})," ",e.mainClass]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"SubClass:"})," ",e.subClass]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Profession:"})," ",e.profession]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",e.level]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen:"})," ",e.generation]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Summons:"})," ",e.summonsRemaining,"/",e.maxSummons]})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"STR:"})," ",e.strength]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"AGI:"})," ",e.agility]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"INT:"})," ",e.intelligence]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"WIS:"})," ",e.wisdom]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"LCK:"})," ",e.luck]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"DEX:"})," ",e.dexterity]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"VIT:"})," ",e.vitality]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"END:"})," ",e.endurance]})]}),t&&n.jsxs(n.Fragment,{children:[n.jsx(Ln,{}),n.jsx(N0e,{genetics:t,title:"Stat Genetics"})]})]})]})}function w0e(){const[e,t]=p.useState(""),[r,a]=p.useState(""),[s,l]=p.useState(null),[c,d]=p.useState("calculator"),[f,m]=p.useState(!1),[h,g]=p.useState(""),[v,b]=p.useState(""),[w,y]=p.useState(["cv","sd"]),[j,C]=p.useState("500"),[E,A]=p.useState("1"),[T,k]=p.useState("1"),[P,_]=p.useState(""),[M,X]=p.useState(null),{data:I}=ke({queryKey:["/api/admin/sniper/filters"]}),R=Oe({mutationFn:async({hero1Id:$,hero2Id:H})=>(await De("POST","/api/admin/summoning/calculate",{hero1Id:$,hero2Id:H})).json(),onSuccess:$=>{$.ok&&l($)}}),V=()=>{!e||!r||R.mutate({hero1Id:e,hero2Id:r})};p.useEffect(()=>{if(f)return;const $=new URLSearchParams(window.location.search),H=$.get("hero1"),pe=$.get("hero2");H&&pe&&(t(H),a(pe),m(!0),setTimeout(()=>{R.mutate({hero1Id:H,hero2Id:pe})},100))},[f]);const je=Oe({mutationFn:async()=>(await De("POST","/api/admin/sniper/search",{targetClass:h||void 0,targetProfession:v||void 0,realms:w,maxPricePerHero:parseFloat(j)||500,minSummonsRemaining:parseInt(E)||1,minLevel:parseInt(T)||1,maxTTS:P?parseFloat(P):null,limit:20})).json(),onSuccess:$=>{$.ok&&X($)}}),Y=()=>{!h&&!v||je.mutate()},te=$=>{y(H=>H.includes($)?H.filter(pe=>pe!==$):[...H,$])},z=$=>["Common","Uncommon","Rare","Legendary","Mythic"][$]||"Unknown",J=$=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][$]||"text-gray-400";return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Aa,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summoning Calculator"}),n.jsx("p",{className:"text-muted-foreground",children:"Calculate offspring trait probabilities from two parent heroes"})]})]}),n.jsx(ci,{value:c,onValueChange:d,className:"w-full",children:n.jsxs(fs,{className:"flex flex-wrap h-auto gap-1 w-full sm:w-auto",children:[n.jsxs(Ct,{value:"calculator","data-testid":"tab-calculator",children:[n.jsx(Aa,{className:"h-4 w-4 mr-1"}),"Calculator"]}),n.jsxs(Ct,{value:"infographics","data-testid":"tab-infographics",children:[n.jsx(vq,{className:"h-4 w-4 mr-1"}),"Infographics"]}),n.jsxs(Ct,{value:"sniper","data-testid":"tab-sniper",children:[n.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Sniper"]})]})})]}),c==="calculator"&&n.jsxs(n.Fragment,{children:[n.jsxs(G,{children:[n.jsx(ae,{children:n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Zs,{className:"h-5 w-5"}),"Enter Parent Heroes"]})}),n.jsxs(Q,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(Ae,{htmlFor:"hero1",children:"Hero 1 ID"}),n.jsx(Ke,{id:"hero1",placeholder:"e.g. 62",value:e,onChange:$=>t($.target.value),"data-testid":"input-hero1-id"})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(Ae,{htmlFor:"hero2",children:"Hero 2 ID"}),n.jsx(Ke,{id:"hero2",placeholder:"e.g. 569",value:r,onChange:$=>a($.target.value),"data-testid":"input-hero2-id"})]}),n.jsxs(re,{onClick:V,disabled:!e||!r||R.isPending,"data-testid":"button-calculate",children:[R.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(uo,{className:"h-4 w-4 mr-2"}),"Calculate"]})]}),R.isError&&n.jsxs("p",{className:"text-destructive text-sm mt-2",children:["Error: ",R.error?.message||"Failed to calculate"]})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(X4,{hero:s.parent1,genetics:s.genetics1}),n.jsx(X4,{hero:s.parent2,genetics:s.genetics2})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(wu,{className:"h-5 w-5"}),"Summoning Chances",n.jsxs(U,{variant:"outline",className:"ml-2",children:["Offspring Gen ",s.offspringGeneration]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"text-orange-400",children:"Orange"})," = Mutation (trait not in either parent's dominant gene)"]})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Stat Genes"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(ja,{title:"Class",probabilities:s.probabilities.class,mutations:s.probabilities.mutations?.class}),n.jsx(ja,{title:"Sub Class",probabilities:s.probabilities.subClass,mutations:s.probabilities.mutations?.subClass}),n.jsx(ja,{title:"Profession",probabilities:s.probabilities.profession,mutations:s.probabilities.mutations?.profession}),n.jsx(ja,{title:"Rarity",probabilities:s.probabilities.rarity}),n.jsx(ja,{title:"Stat Boost 1",probabilities:s.probabilities.statBoost1,mutations:s.probabilities.mutations?.statBoost1}),n.jsx(ja,{title:"Stat Boost 2",probabilities:s.probabilities.statBoost2,mutations:s.probabilities.mutations?.statBoost2})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mt-4",children:[n.jsx(ja,{title:"Active 1",probabilities:s.probabilities.active1,mutations:s.probabilities.mutations?.active1,isSkillTable:!0}),n.jsx(ja,{title:"Active 2",probabilities:s.probabilities.active2,mutations:s.probabilities.mutations?.active2,isSkillTable:!0}),n.jsx(ja,{title:"Passive 1",probabilities:s.probabilities.passive1,mutations:s.probabilities.mutations?.passive1,isSkillTable:!0}),n.jsx(ja,{title:"Passive 2",probabilities:s.probabilities.passive2,mutations:s.probabilities.mutations?.passive2,isSkillTable:!0}),n.jsx(ja,{title:"Element",probabilities:s.probabilities.element,mutations:s.probabilities.mutations?.element})]})]}),n.jsx(Ln,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Nc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Visual Genes"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(Kr,{title:"Hair Style",probabilities:s.probabilities.hairStyle,nameMap:u0e,showPairNames:!0,femaleNameMap:f0e}),n.jsx(Kr,{title:"Hair Color",probabilities:s.probabilities.hairColor,nameMap:ib,colorMap:o0e}),n.jsx(Kr,{title:"Head App",probabilities:s.probabilities.headAppendage,nameMap:m0e}),n.jsx(Kr,{title:"Head App Color",probabilities:s.probabilities.appendageColor,nameMap:ib,colorMap:G4}),n.jsx(Kr,{title:"Back App",probabilities:s.probabilities.backAppendage,nameMap:h0e}),n.jsx(Kr,{title:"Back App Color",probabilities:s.probabilities.backAppendageColor,nameMap:ib,colorMap:G4})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-4",children:[n.jsx(Kr,{title:"Eye Color",probabilities:s.probabilities.eyeColor,nameMap:p0e,colorMap:c0e}),n.jsx(Kr,{title:"Skin Color",probabilities:s.probabilities.skinColor,nameMap:x0e,colorMap:d0e}),n.jsx(Kr,{title:"Crafting 1",probabilities:s.probabilities.crafting1,nameMap:Y4}),n.jsx(Kr,{title:"Crafting 2",probabilities:s.probabilities.crafting2,nameMap:Y4}),n.jsx(Kr,{title:"Visual Unknown 1",probabilities:s.probabilities.visualUnknown1,nameMap:Q4}),n.jsx(Kr,{title:"Visual Unknown 2",probabilities:s.probabilities.visualUnknown2,nameMap:Q4})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-4",children:[n.jsx(ja,{title:"Gender",probabilities:s.probabilities.gender,mutations:s.probabilities.mutations?.gender}),n.jsx(Kr,{title:"Background",probabilities:s.probabilities.background,nameMap:g0e})]})]})]})]})]})]}),c==="infographics"&&n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(uM,{className:"h-5 w-5"}),"Visual Mutation Trees"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference charts showing mutation paths from Basic  Advanced  Elite  Exalted  Transcendent"})]}),n.jsx(Q,{children:n.jsxs(ci,{defaultValue:"hairstyle",children:[n.jsxs(fs,{className:"mb-4 flex-wrap h-auto gap-1",children:[n.jsx(Ct,{value:"hairstyle","data-testid":"tab-infographic-hairstyle",children:"Female Hairstyle"}),n.jsx(Ct,{value:"hairstyle-male","data-testid":"tab-infographic-hairstyle-male",children:"Male Hairstyle"}),n.jsx(Ct,{value:"head-app","data-testid":"tab-infographic-head-app",children:"Head Appendage"}),n.jsx(Ct,{value:"back-app","data-testid":"tab-infographic-back-app",children:"Back Appendage"}),n.jsx(Ct,{value:"app-color","data-testid":"tab-infographic-app-color",children:"Appendage Color"}),n.jsx(Ct,{value:"hair-color","data-testid":"tab-infographic-hair-color",children:"Hair Color"})]}),n.jsx(Ot,{value:"hairstyle",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:t0e,alt:"Female Hairstyle Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"hairstyle-male",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:n0e,alt:"Male Hairstyle Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"head-app",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:r0e,alt:"Head Appendage Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"back-app",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:a0e,alt:"Back Appendage Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"app-color",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:s0e,alt:"Appendage Color Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"hair-color",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:i0e,alt:"Hair Color Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})})]})})]}),c==="sniper"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(sM,{className:"h-5 w-5"}),"Search Filters"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Find optimal hero pairs from the tavern that maximize your chance of breeding specific traits"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"targetClass",children:"Target Class"}),n.jsxs("select",{id:"targetClass",value:h,onChange:$=>g($.target.value),className:"w-full h-9 px-3 rounded-md border bg-background text-sm","data-testid":"select-target-class",children:[n.jsx("option",{value:"",children:"Any Class"}),I?.filters?.classes?.map($=>n.jsx("option",{value:$,children:$},$))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"targetProfession",children:"Target Profession"}),n.jsxs("select",{id:"targetProfession",value:v,onChange:$=>b($.target.value),className:"w-full h-9 px-3 rounded-md border bg-background text-sm","data-testid":"select-target-profession",children:[n.jsx("option",{value:"",children:"Any Profession"}),I?.filters?.professions?.map($=>n.jsx("option",{value:$,children:$},$))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"maxPrice",children:"Max Price (per hero)"}),n.jsx(Ke,{id:"maxPrice",type:"number",value:j,onChange:$=>C($.target.value),placeholder:"500","data-testid":"input-max-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"minSummons",children:"Min Summons Remaining"}),n.jsx(Ke,{id:"minSummons",type:"number",value:E,onChange:$=>A($.target.value),placeholder:"1","data-testid":"input-min-summons"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"minLevel",children:"Min Level"}),n.jsx(Ke,{id:"minLevel",type:"number",value:T,onChange:$=>k($.target.value),placeholder:"1","data-testid":"input-min-level"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"maxTTS",children:"Max TTS (leave empty for any)"}),n.jsx(Ke,{id:"maxTTS",type:"number",value:P,onChange:$=>_($.target.value),placeholder:"Any","data-testid":"input-max-tts"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Ae,{children:"Realms:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(U,{variant:w.includes("cv")?"default":"outline",className:"cursor-pointer",onClick:()=>te("cv"),"data-testid":"badge-realm-cv",children:"Crystalvale"}),n.jsx(U,{variant:w.includes("sd")?"default":"outline",className:"cursor-pointer",onClick:()=>te("sd"),"data-testid":"badge-realm-sd",children:"Sundered Isles"})]})]}),n.jsxs(re,{onClick:Y,disabled:!h&&!v||je.isPending,"data-testid":"button-sniper-search",children:[je.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Find Best Pairs"]}),je.isError&&n.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",je.error?.message||"Search failed"]})]})]}),M&&n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"}),"Best Hero Pairs",n.jsxs(U,{variant:"outline",className:"ml-2",children:[M.pairs.length," pairs from ",M.totalHeroes," heroes"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ranked by efficiency (probability per token spent)"})]}),n.jsx(Q,{children:M.pairs.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No matching hero pairs found. Try adjusting your filters."}):n.jsx("div",{className:"space-y-4",children:M.pairs.map(($,H)=>n.jsx(G,{className:"bg-muted/30",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(U,{variant:"secondary",children:["#",H+1]}),n.jsx(U,{variant:"outline",children:$.realm==="cv"?"Crystalvale":"Sundered Isles"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:"Hero 1"}),n.jsxs("div",{className:J($.hero1.rarity),children:[z($.hero1.rarity)," ",$.hero1.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Gen ",$.hero1.generation," | ",$.hero1.summonsRemaining," summons"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(na,{className:"h-3 w-3"}),$.hero1.price.toFixed(2)," ",$.hero1.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${$.hero1.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(nr,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:"Hero 2"}),n.jsxs("div",{className:J($.hero2.rarity),children:[z($.hero2.rarity)," ",$.hero2.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Gen ",$.hero2.generation," | ",$.hero2.summonsRemaining," summons"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(na,{className:"h-3 w-3"}),$.hero2.price.toFixed(2)," ",$.hero2.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${$.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(nr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[$.targetProbability.toFixed(1),"% chance"]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",$.totalCost.toFixed(2)," ",$.hero1.token]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Efficiency: ",$.efficiency.toFixed(4)]})]})]}),$.probabilities&&n.jsx("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-xs",children:$.probabilities.class&&Object.entries($.probabilities.class).slice(0,3).map(([pe,D])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[pe,":"]}),n.jsxs("span",{children:[D,"%"]})]},pe))})]})},H))})})]})]})]})}const Z4=[{id:0,name:"Common"},{id:1,name:"Uncommon"},{id:2,name:"Rare"},{id:3,name:"Legendary"},{id:4,name:"Mythic"}];function S0e(){const[e,t]=p.useState(["Archer","Berserker","Knight","Priest","Seer","Warrior","Wizard","Pirate"]),[r,a]=p.useState([]),[s,l]=p.useState([]),[c,d]=p.useState([]),[f,m]=p.useState(["cv","sd"]),[h,g]=p.useState(0),[v,b]=p.useState("0"),[w,y]=p.useState("1"),[j,C]=p.useState(""),[E,A]=p.useState(""),[T,k]=p.useState(""),[P,_]=p.useState(""),[M,X]=p.useState(null),[I,R]=p.useState("tavern"),[V,je]=p.useState("regular"),[Y,te]=p.useState(""),[z,J]=p.useState("0.50"),[$,H]=p.useState("efficiency"),{data:pe}=ke({queryKey:["/api/admin/sniper/filters"]}),D=Oe({mutationFn:async()=>{const W=parseInt(v)||0;return(await De("POST","/api/admin/sniper/search",{targetClasses:e,targetProfessions:r,targetActiveSkills:s,targetPassiveSkills:c,realms:f,minRarity:h,minSummonsRemaining:W,maxSummonsRemaining:void 0,minLevel:parseInt(w)||1,targetTTSValue:j?parseInt(j):null,minTTSProbability:E?parseFloat(E):null,minEliteChance:T?parseFloat(T):null,minExaltedChance:P?parseFloat(P):null,summonType:V,searchMode:I,myHeroId:I==="myHero"?Y:void 0,bridgeFeeUsd:parseFloat(z)||0,sortBy:$,limit:50})).json()},onSuccess:W=>{W.ok&&X(W)}}),ne=()=>{e.length===0&&r.length===0&&s.length===0&&c.length===0||I==="myHero"&&!Y.trim()||D.mutate()},xe=W=>{t(ce=>ce.includes(W)?ce.filter(Ie=>Ie!==W):[...ce,W])},Se=W=>{a(ce=>ce.includes(W)?ce.filter(Ie=>Ie!==W):[...ce,W])},oe=W=>{l(ce=>ce.includes(W)?ce.filter(Ie=>Ie!==W):[...ce,W])},$e=W=>{d(ce=>ce.includes(W)?ce.filter(Ie=>Ie!==W):[...ce,W])},ge=W=>{m(ce=>ce.includes(W)?ce.filter(Ie=>Ie!==W):[...ce,W])},We=W=>["Common","Uncommon","Rare","Legendary","Mythic"][W]||"Unknown",me=W=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][W]||"text-gray-400",Re=p.useMemo(()=>{if(!M?.pairs)return[];const W=[...M.pairs];switch($){case"chance":return W.sort((ce,Ie)=>Ie.targetProbability-ce.targetProbability);case"price":return W.sort((ce,Ie)=>ce.totalCostUsd-Ie.totalCostUsd);case"skillScore":return W.sort((ce,Ie)=>(Ie.tts?.expected||0)-(ce.tts?.expected||0));case"efficiency":default:return W.sort((ce,Ie)=>Ie.efficiency-ce.efficiency)}},[M?.pairs,$]);return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rr,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summon Sniper"}),n.jsx("p",{className:"text-muted-foreground",children:"Find optimal hero pairs from the tavern to maximize breeding success for specific traits"})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(sM,{className:"h-5 w-5"}),"Search Filters"]}),n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx(xu,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:"Select multiple classes/professions to find heroes that can breed ANY of the selected traits. Results automatically show cheapest pairs ranked by efficiency."})]})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ae,{children:"Search Mode"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(U,{variant:I==="tavern"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${I==="tavern"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>R("tavern"),"data-testid":"badge-mode-tavern",children:[n.jsx(Lr,{className:"h-3.5 w-3.5 mr-1.5"}),"Two from Tavern"]}),n.jsxs(U,{variant:I==="myHero"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${I==="myHero"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>R("myHero"),"data-testid":"badge-mode-myhero",children:[n.jsx(Uh,{className:"h-3.5 w-3.5 mr-1.5"}),"Pair for My Hero"]})]}),I==="myHero"&&n.jsxs("div",{className:"mt-2",children:[n.jsx(Ae,{htmlFor:"myHeroId",children:"Your Hero ID"}),n.jsx(Ke,{id:"myHeroId",type:"text",value:Y,onChange:W=>te(W.target.value),placeholder:"Enter your hero ID (e.g., 1000000123456)",className:"mt-1 max-w-md","data-testid":"input-my-hero-id"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Find the best tavern hero to pair with your existing hero"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ae,{children:"Summon Type"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(U,{variant:V==="regular"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${V==="regular"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>je("regular"),"data-testid":"badge-summon-regular",children:"Regular Summon"}),n.jsx(U,{variant:V==="dark"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${V==="dark"?"bg-purple-600 text-white ring-2 ring-purple-500 ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>je("dark"),"data-testid":"badge-summon-dark",children:"Dark Summon"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:V==="regular"?"Standard summoning with full token cost. Heroes must have summons remaining.":"Dark summoning burns both heroes (1/4 cost). More summons = higher rarity chance."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ae,{children:"Target Classes (select one or more)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:pe?.filters?.classes?.map(W=>n.jsx(U,{variant:e.includes(W)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${e.includes(W)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>xe(W),"data-testid":`badge-class-${W.toLowerCase()}`,children:W},W))}),e.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",e.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ae,{children:"Target Professions (select one or more)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:pe?.filters?.professions?.map(W=>n.jsx(U,{variant:r.includes(W)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${r.includes(W)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>Se(W),"data-testid":`badge-profession-${W.toLowerCase()}`,children:W},W))}),r.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",r.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ae,{children:"Target Active Skills (optional)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:pe?.filters?.activeSkills?.map(W=>n.jsx(U,{variant:s.includes(W)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${s.includes(W)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>oe(W),"data-testid":`badge-active-${W.toLowerCase().replace(/\s+/g,"-")}`,children:W},W))}),s.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",s.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ae,{children:"Target Passive Skills (optional)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:pe?.filters?.passiveSkills?.map(W=>n.jsx(U,{variant:c.includes(W)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${c.includes(W)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>$e(W),"data-testid":`badge-passive-${W.toLowerCase().replace(/\s+/g,"-")}`,children:W},W))}),c.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",c.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ae,{children:"Minimum Parent Rarity"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Z4.map(W=>n.jsx(U,{variant:h===W.id?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${h===W.id?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>g(W.id),"data-testid":`badge-rarity-${W.name.toLowerCase()}`,children:W.name},W.id))}),h>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only showing ",Z4[h].name,"+ parents"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"minSummons",children:V==="dark"?"Summons Remaining (Fixed)":"Min Summons Remaining"}),V==="dark"?n.jsx("div",{className:"h-9 px-3 py-2 bg-muted rounded-md text-sm text-muted-foreground flex items-center",children:"Any (more summons = higher rarity chance)"}):n.jsx(Ke,{id:"minSummons",type:"number",value:v,onChange:W=>b(W.target.value),placeholder:"0","data-testid":"input-min-summons"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"minLevel",children:"Min Level"}),n.jsx(Ke,{id:"minLevel",type:"number",value:w,onChange:W=>y(W.target.value),placeholder:"1","data-testid":"input-min-level"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"targetTTSValue",children:"Target TTS"}),n.jsx(Ke,{id:"targetTTSValue",type:"number",min:"0",max:"12",value:j,onChange:W=>C(W.target.value),placeholder:"e.g. 8","data-testid":"input-target-tts-value"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"minTTSProbability",children:"Min TTS % Chance"}),n.jsx(Ke,{id:"minTTSProbability",type:"number",step:"1",min:"0",max:"100",value:E,onChange:W=>A(W.target.value),placeholder:"e.g. 20","data-testid":"input-min-tts-probability"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"minEliteChance",children:"Min Elite % Chance"}),n.jsx(Ke,{id:"minEliteChance",type:"number",step:"1",min:"0",max:"100",value:T,onChange:W=>k(W.target.value),placeholder:"e.g. 20","data-testid":"input-min-elite-chance"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"minExaltedChance",children:"Min Exalted % Chance"}),n.jsx(Ke,{id:"minExaltedChance",type:"number",step:"1",min:"0",max:"100",value:P,onChange:W=>_(W.target.value),placeholder:"e.g. 2","data-testid":"input-min-exalted-chance"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"TTS filters for total tier score. Elite/Exalted filters for chance of at least one elite (Stun, Second Wind, etc.) or exalted (Resurrection, Second Life) skill."}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{htmlFor:"bridgeFee",children:"Bridge Fee per Hero (USD)"}),n.jsx(Ke,{id:"bridgeFee",type:"number",step:"0.01",value:z,onChange:W=>J(W.target.value),placeholder:"0.50","data-testid":"input-bridge-fee"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Metis heroes need bridging to CV for summoning. Estimate ~$0.50 per hero."})]})}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsx(Ae,{children:"Realms:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(U,{variant:f.includes("cv")?"default":"outline",className:`cursor-pointer transition-colors ${f.includes("cv")?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>ge("cv"),"data-testid":"badge-realm-cv",children:"Crystalvale"}),n.jsx(U,{variant:f.includes("sd")?"default":"outline",className:`cursor-pointer transition-colors ${f.includes("sd")?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>ge("sd"),"data-testid":"badge-realm-sd",children:"Sundered Isles"})]})]}),n.jsxs(re,{onClick:ne,disabled:e.length===0&&r.length===0||D.isPending,"data-testid":"button-sniper-search",children:[D.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Find Best Pairs"]}),D.isError&&n.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",D.error?.message||"Search failed"]})]})]}),M&&n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(On,{className:"h-5 w-5"}),M.userHero?"Best Tavern Matches":"Best Hero Pairs",n.jsxs(U,{variant:"outline",className:"ml-2",children:[M.pairs.length," ",M.userHero?"matches":"pairs"," from ",M.totalHeroes," heroes"]}),M.searchParams?.summonType==="dark"&&n.jsx(U,{className:"bg-purple-600 text-white",children:"Dark Summon"})]}),M.userHero&&n.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Uh,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Your Hero"})]}),n.jsxs("div",{className:`text-sm ${me(M.userHero.rarity)}`,children:[We(M.userHero.rarity)," ",M.userHero.mainClass]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lv",M.userHero.level," Gen",M.userHero.generation," | ",M.userHero.summonsRemaining," summons | ID: ",M.userHero.id]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{children:"Sort by:"}),n.jsxs(Ze,{value:$,onValueChange:W=>H(W),children:[n.jsx(Qe,{className:"w-[180px] h-8","data-testid":"select-sort-by",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"efficiency",children:"Efficiency (%/$)"}),n.jsx(se,{value:"chance",children:"Highest Chance"}),n.jsx(se,{value:"price",children:"Lowest Price"}),n.jsx(se,{value:"skillScore",children:"Offspring Skill Score"})]})]})]}),M.tokenPrices&&n.jsxs("p",{className:"text-xs",children:["Token prices: CRYSTAL $",M.tokenPrices.CRYSTAL?.toFixed(4)||"0",", JEWEL $",M.tokenPrices.JEWEL?.toFixed(4)||"0"]}),M.searchParams&&n.jsxs("p",{className:"text-xs",children:["Searching for: ",M.searchParams.targetClasses?.length>0&&`Classes: ${M.searchParams.targetClasses.join(" OR ")}`,M.searchParams.targetClasses?.length>0&&M.searchParams.targetProfessions?.length>0&&" AND ",M.searchParams.targetProfessions?.length>0&&`Professions: ${M.searchParams.targetProfessions.join(" OR ")}`,(M.searchParams.targetClasses?.length>0||M.searchParams.targetProfessions?.length>0)&&M.searchParams.targetActiveSkills?.length>0&&" AND ",M.searchParams.targetActiveSkills?.length>0&&`Active: ${M.searchParams.targetActiveSkills.join(" OR ")}`,(M.searchParams.targetClasses?.length>0||M.searchParams.targetProfessions?.length>0||M.searchParams.targetActiveSkills?.length>0)&&M.searchParams.targetPassiveSkills?.length>0&&" AND ",M.searchParams.targetPassiveSkills?.length>0&&`Passive: ${M.searchParams.targetPassiveSkills.join(" OR ")}`]})]})]}),n.jsx(Q,{children:M.pairs.length===0?n.jsxs("div",{className:"text-center py-8 space-y-3",children:[n.jsx("p",{className:"text-muted-foreground",children:"No matching hero pairs found. Try adjusting your filters."}),M.ttsMetadata&&(M.ttsMetadata.requestedTarget!==null||j&&E)&&n.jsxs("div",{className:"text-xs text-amber-500 bg-amber-500/10 rounded-md p-3 max-w-md mx-auto","data-testid":"tts-guidance-panel",children:[n.jsx("p",{className:"font-medium mb-1",children:"TTS Filter may be too strict"}),n.jsxs("p",{children:["You requested TTS  ",M.ttsMetadata.requestedTarget??j," with  ",M.ttsMetadata.requestedMinProb??E,"% chance."]}),n.jsxs("p",{className:"mt-1",children:["Best available: ",M.ttsMetadata.maxCumulativeByTarget?.[M.ttsMetadata.requestedTarget??parseInt(j)??0]?.toFixed(2)||"0","% chance for TTS  ",M.ttsMetadata.requestedTarget??j]}),n.jsxs("p",{className:"mt-1 text-muted-foreground",children:["Max expected TTS across all pairs: ",Math.round(M.ttsMetadata.maxExpectedTTS||0)]}),n.jsx("p",{className:"mt-2 text-muted-foreground italic",children:"Try lowering Target TTS to 1-2 or reducing Min % Chance"})]})]}):n.jsx("div",{className:"space-y-4",children:Re.map((W,ce)=>n.jsx(G,{className:"bg-muted/30",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(U,{variant:"secondary",children:["#",ce+1]}),n.jsx(U,{variant:"outline",children:W.realm==="cv"?"Crystalvale":"Sundered Isles"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[M.userHero?n.jsxs("div",{className:"space-y-1 opacity-60",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:[n.jsx(Uh,{className:"h-3 w-3"})," Your Hero",n.jsx(U,{variant:"outline",className:"text-[10px] px-1 py-0",children:W.hero1.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:me(W.hero1.rarity),children:[We(W.hero1.rarity)," ",W.hero1.mainClass]}),n.jsx("div",{className:"text-muted-foreground text-xs",children:"(Already owned)"})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:["Hero 1 (",W.hero1.id,")",n.jsx(U,{variant:"outline",className:"text-[10px] px-1 py-0",children:W.hero1.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:me(W.hero1.rarity),children:[We(W.hero1.rarity)," ",W.hero1.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv",W.hero1.level," Gen",W.hero1.generation," | ",W.hero1.summonsRemaining," summons"]}),n.jsxs("div",{className:"text-muted-foreground",children:[W.hero1.price.toFixed(2)," ",W.hero1.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${W.hero1.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(nr,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:[M.userHero?`Tavern Match (${W.hero2.id})`:`Hero 2 (${W.hero2.id})`,n.jsx(U,{variant:"outline",className:"text-[10px] px-1 py-0",children:W.hero2.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:me(W.hero2.rarity),children:[We(W.hero2.rarity)," ",W.hero2.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv",W.hero2.level," Gen",W.hero2.generation," | ",W.hero2.summonsRemaining," summons"]}),n.jsxs("div",{className:"text-muted-foreground",children:[W.hero2.price.toFixed(2)," ",W.hero2.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${W.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(nr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[W.targetProbability.toFixed(1),"% chance"]}),n.jsxs("div",{className:"text-sm font-medium",children:["Total: $",W.totalCostUsd?.toFixed(2)||"0.00"," USD"]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["(",W.totalCost.toFixed(2)," ",W.hero1.token,")"]}),W.costs&&n.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[n.jsxs("div",{children:["Purchase: ",W.costs.purchaseCost.toFixed(2)," ",W.hero1.token]}),n.jsxs("div",{children:["Summon: ",W.costs.summonTokenCost," ",W.hero1.token]}),n.jsxs("div",{children:["Tears: ",W.costs.tearCount," (",W.costs.tearCost.toFixed(2)," ",W.hero1.token,")"]}),W.costs.heroesNeedingBridge>0&&n.jsxs("div",{className:"text-yellow-500",children:["Bridge: $",W.costs.bridgeCostUsd.toFixed(2)," (",W.costs.heroesNeedingBridge," hero",W.costs.heroesNeedingBridge>1?"es":"",")"]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-1",children:["Efficiency: ",W.efficiency.toFixed(4)," %/$"]})]})]}),W.probabilities&&n.jsx("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-xs",children:W.probabilities.class&&Object.entries(W.probabilities.class).slice(0,3).map(([Ie,Ye])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[Ie,":"]}),n.jsxs("span",{children:[Ye,"%"]})]},Ie))}),W.tts&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Offspring TTS Probability"}),n.jsxs(U,{variant:"secondary",className:"text-xs",children:["Expected: ",Math.round(W.tts.expected||0)]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1 text-xs",children:Object.entries(W.tts.distribution||{}).filter(([Ie,Ye])=>Ye>.5).sort((Ie,Ye)=>parseInt(Ye[0])-parseInt(Ie[0])).slice(0,8).map(([Ie,Ye])=>n.jsxs("div",{className:"flex justify-between bg-muted/50 rounded px-2 py-1",children:[n.jsxs("span",{className:"text-muted-foreground",children:["TTS ",Ie,":"]}),n.jsxs("span",{className:parseInt(Ie)>=4?"text-green-400":"",children:[Ye.toFixed(1),"%"]})]},Ie))}),W.tts.cumulative&&n.jsxs("div",{className:"flex gap-3 mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["TTS2: ",n.jsxs("span",{className:"text-foreground",children:[W.tts.cumulative[2]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS4: ",n.jsxs("span",{className:"text-green-400",children:[W.tts.cumulative[4]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS6: ",n.jsxs("span",{className:"text-yellow-400",children:[W.tts.cumulative[6]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS8: ",n.jsxs("span",{className:"text-orange-400",children:[W.tts.cumulative[8]?.toFixed(1)??"0","%"]})]})]}),W.eliteExaltedChances&&(W.eliteExaltedChances.eliteChance>0||W.eliteExaltedChances.exaltedChance>0)&&n.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[W.eliteExaltedChances.eliteChance>0&&n.jsxs(U,{variant:"outline",className:"text-[10px] border-amber-500 text-amber-500",children:["Elite: ",W.eliteExaltedChances.eliteChance.toFixed(1),"%"]}),W.eliteExaltedChances.exaltedChance>0&&n.jsxs(U,{variant:"outline",className:"text-[10px] border-purple-500 text-purple-500",children:["Exalted: ",W.eliteExaltedChances.exaltedChance.toFixed(2),"%"]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t",children:n.jsxs("a",{href:`/admin/summoning-calculator?hero1=${W.hero1.id}&hero2=${W.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-400 hover:underline","data-testid":`link-calculator-${ce}`,children:["View Full Summon Chances ",n.jsx(nr,{className:"h-3 w-3"})]})})]})},ce))})})]})]})}function C0e(){const[e,t]=p.useState("all"),[r,a]=p.useState(0),[s,l]=p.useState(0),{data:c,isLoading:d,refetch:f}=ke({queryKey:["/api/admin/bargain-cache","regular"],queryFn:async()=>(await fetch("/api/admin/bargain-cache?type=regular",{credentials:"include"})).json(),refetchInterval:6e4,staleTime:3e4}),m=Oe({mutationFn:async()=>(await De("POST","/api/admin/bargain-cache/refresh")).json(),onSuccess:()=>{setTimeout(()=>{_e.invalidateQueries({queryKey:["/api/admin/bargain-cache"]})},5e3)}}),h=p.useMemo(()=>{if(!c?.pairs)return[];let w=[...c.pairs];return e!=="all"&&(w=w.filter(y=>y.realm===e)),r>0&&(w=w.filter(y=>(y.eliteChance||0)>=r)),s>0&&(w=w.filter(y=>(y.exaltedChance||0)>=s)),w.sort((y,j)=>(j.efficiency||0)-(y.efficiency||0))},[c?.pairs,e,r,s]),g=w=>["Common","Uncommon","Rare","Legendary","Mythic"][w]||"Unknown",v=w=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][w]||"text-gray-400",b=w=>{if(!w)return"Unknown";const y=new Date(w),C=new Date().getTime()-y.getTime(),E=Math.floor(C/6e4);return E<1?"Just now":E<60?`${E}m ago`:`${Math.floor(E/60)}h ${E%60}m ago`};return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Wn,{className:"h-8 w-8 text-amber-500"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summoning Bargain Hunter"}),n.jsx("p",{className:"text-muted-foreground",children:"Best TTS-to-cost ratio pairs for regular summoning"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(re,{onClick:()=>f(),disabled:d,variant:"outline",size:"sm","data-testid":"button-reload",children:d?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(tt,{className:"h-4 w-4"})}),n.jsxs(re,{onClick:()=>m.mutate(),disabled:m.isPending||c?.isRefreshing,variant:"outline","data-testid":"button-refresh-cache",children:[m.isPending||c?.isRefreshing?n.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(tt,{className:"h-4 w-4 mr-2"}),"Rebuild Cache"]})]})]}),d&&n.jsx(G,{children:n.jsxs(Q,{className:"flex items-center justify-center py-12",children:[n.jsx(Ee,{className:"h-8 w-8 animate-spin mr-3"}),n.jsx("span",{children:"Loading cached bargains..."})]})}),!d&&!c?.cached&&n.jsx(G,{children:n.jsxs(Q,{className:"text-center py-12",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:c?.message||'Cache not available. Click "Rebuild Cache" to compute bargain pairs.'}),n.jsxs(re,{onClick:()=>m.mutate(),disabled:m.isPending,children:[m.isPending?n.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}):null,"Build Cache Now"]})]})}),c?.cached&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Scored ",c.totalPairsScored?.toLocaleString()," pairs"]}),n.jsxs("span",{children:["from ",c.totalHeroes?.toLocaleString()," heroes"]}),n.jsxs(U,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(di,{className:"h-3 w-3"}),b(c.computedAt)]}),e!=="all"&&n.jsxs(U,{variant:"outline",children:["Showing ",h.length," ",e==="cv"?"Crystalvale":"Sundered Isles"," pairs"]})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Min Elite%:"}),n.jsxs(Ze,{value:String(r),onValueChange:w=>a(Number(w)),children:[n.jsx(Qe,{className:"w-24","data-testid":"select-elite-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"0",children:"Any"}),n.jsx(se,{value:"10",children:"10%+"}),n.jsx(se,{value:"20",children:"20%+"}),n.jsx(se,{value:"30",children:"30%+"}),n.jsx(se,{value:"40",children:"40%+"}),n.jsx(se,{value:"50",children:"50%+"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Min Exalted%:"}),n.jsxs(Ze,{value:String(s),onValueChange:w=>l(Number(w)),children:[n.jsx(Qe,{className:"w-24","data-testid":"select-exalted-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"0",children:"Any"}),n.jsx(se,{value:"1",children:"1%+"}),n.jsx(se,{value:"2",children:"2%+"}),n.jsx(se,{value:"3",children:"3%+"}),n.jsx(se,{value:"5",children:"5%+"}),n.jsx(se,{value:"10",children:"10%+"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Realm:"}),n.jsxs(Ze,{value:e,onValueChange:t,children:[n.jsx(Qe,{className:"w-40","data-testid":"select-realm-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"all",children:"All Realms"}),n.jsx(se,{value:"cv",children:"Crystalvale"}),n.jsx(se,{value:"sd",children:"Sundered Isles"})]})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:h.slice(0,100).map((w,y)=>{const j=(w.tts?.expected||0)/(w.totalCostUsd||1);return n.jsxs(G,{className:"overflow-hidden","data-testid":`card-pair-${y}`,children:[n.jsx(ae,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(U,{variant:"outline",className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:["#",y+1]}),n.jsxs("span",{className:"font-semibold",children:["TTS Efficiency: ",j.toFixed(4)]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(U,{variant:"secondary",children:["Expected TTS: ",(w.tts?.expected||0).toFixed(2)]}),(w.eliteChance||0)>0&&n.jsxs(U,{variant:"outline",className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:["Elite: ",w.eliteChance?.toFixed(1),"%"]}),(w.exaltedChance||0)>0&&n.jsxs(U,{variant:"outline",className:"bg-purple-500/10 text-purple-600 border-purple-500/30",children:["Exalted: ",w.exaltedChance?.toFixed(1),"%"]}),n.jsxs(U,{variant:"outline",className:"text-green-600",children:["$",w.totalCostUsd?.toFixed(2)]})]})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[w.hero1,w.hero2].map((C,E)=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/hero/${C.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-sm hover:underline flex items-center gap-1","data-testid":`link-hero-${C.id}`,children:["#",C.normalizedId,n.jsx(nr,{className:"h-3 w-3"})]}),n.jsx(U,{variant:"outline",className:v(C.rarity),children:g(C.rarity)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"})," ",n.jsx("span",{className:"font-medium",children:C.mainClass})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prof:"})," ",n.jsx("span",{className:"font-medium",children:C.profession})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",n.jsx("span",{className:"font-medium",children:C.level})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen:"})," ",n.jsx("span",{className:"font-medium",children:C.generation})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Summons:"})," ",n.jsx("span",{className:"font-medium",children:C.summonsRemaining})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",n.jsxs("span",{className:"font-medium",children:[C.price," ",C.token]})]})]})]},E))}),w.tts&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-sm font-medium",children:"TTS Probability Distribution"}),n.jsxs(Qs,{href:`/admin/summoning-calculator?hero1=${w.hero1.normalizedId}&hero2=${w.hero2.normalizedId}`,className:"text-xs text-cyan-500 hover:text-cyan-400 flex items-center gap-1","data-testid":`link-calc-${y}`,children:[n.jsx(Aa,{className:"h-3 w-3"}),"View Full Summon Chances"]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(w.tts.cumulativeProbs||{}).sort(([C],[E])=>parseInt(E)-parseInt(C)).slice(0,6).map(([C,E])=>n.jsxs(U,{variant:"outline",className:"text-xs",children:["TTS",C,": ",Number(E).toFixed(1),"%"]},C))})]})]})]},y)})}),h.length===0&&n.jsx(G,{children:n.jsx(Q,{className:"text-center py-12 text-muted-foreground",children:"No pairs found. Try refreshing or check if the tavern indexer has data."})}),h.length>100&&n.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Showing top 100 of ",h.length," pairs"]})]})]})}function E0e(){const[e,t]=p.useState("all"),[r,a]=p.useState(0),[s,l]=p.useState(0),[c,d]=p.useState(0),{data:f,isLoading:m,refetch:h}=ke({queryKey:["/api/admin/bargain-cache","dark"],queryFn:async()=>(await fetch("/api/admin/bargain-cache?type=dark",{credentials:"include"})).json(),refetchInterval:6e4,staleTime:3e4}),g=Oe({mutationFn:async()=>(await De("POST","/api/admin/bargain-cache/refresh")).json(),onSuccess:()=>{setTimeout(()=>{_e.invalidateQueries({queryKey:["/api/admin/bargain-cache"]})},5e3)}}),v=p.useMemo(()=>{if(!f?.pairs)return[];let j=[...f.pairs];return e!=="all"&&(j=j.filter(C=>C.realm===e)),r>0&&(j=j.filter(C=>C.hero1.rarity>=r&&C.hero2.rarity>=r)),s>0&&(j=j.filter(C=>(C.eliteChance||0)>=s)),c>0&&(j=j.filter(C=>(C.exaltedChance||0)>=c)),j.sort((C,E)=>(E.efficiency||0)-(C.efficiency||0))},[f?.pairs,e,r,s,c]),b=j=>["Common","Uncommon","Rare","Legendary","Mythic"][j]||"Unknown",w=j=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][j]||"text-gray-400",y=j=>{if(!j)return"Unknown";const C=new Date(j),A=new Date().getTime()-C.getTime(),T=Math.floor(A/6e4);return T<1?"Just now":T<60?`${T}m ago`:`${Math.floor(T/60)}h ${T%60}m ago`};return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(uo,{className:"h-8 w-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dark Summoning Bargain Hunter"}),n.jsx("p",{className:"text-muted-foreground",children:"Best TTS-to-cost ratio pairs for dark summoning (1/4 token cost, burns both heroes)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(re,{onClick:()=>h(),disabled:m,variant:"outline",size:"sm","data-testid":"button-reload",children:m?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(tt,{className:"h-4 w-4"})}),n.jsxs(re,{onClick:()=>g.mutate(),disabled:g.isPending||f?.isRefreshing,variant:"outline","data-testid":"button-refresh-cache",children:[g.isPending||f?.isRefreshing?n.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(tt,{className:"h-4 w-4 mr-2"}),"Rebuild Cache"]})]})]}),m&&n.jsx(G,{children:n.jsxs(Q,{className:"flex items-center justify-center py-12",children:[n.jsx(Ee,{className:"h-8 w-8 animate-spin mr-3"}),n.jsx("span",{children:"Loading cached dark summoning bargains..."})]})}),!m&&!f?.cached&&n.jsx(G,{children:n.jsxs(Q,{className:"text-center py-12",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:f?.message||'Cache not available. Click "Rebuild Cache" to compute bargain pairs.'}),n.jsxs(re,{onClick:()=>g.mutate(),disabled:g.isPending,children:[g.isPending?n.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}):null,"Build Cache Now"]})]})}),f?.cached&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Scored ",f.totalPairsScored?.toLocaleString()," pairs"]}),n.jsxs("span",{children:["from ",f.totalHeroes?.toLocaleString()," heroes"]}),n.jsx(U,{variant:"outline",className:"bg-purple-500/10 text-purple-600 border-purple-500/30",children:"Dark Summon Mode"}),n.jsxs(U,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(di,{className:"h-3 w-3"}),y(f.computedAt)]}),e!=="all"&&n.jsxs(U,{variant:"outline",children:["Showing ",v.length," ",e==="cv"?"Crystalvale":"Sundered Isles"," pairs"]})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Min Elite%:"}),n.jsxs(Ze,{value:String(s),onValueChange:j=>l(Number(j)),children:[n.jsx(Qe,{className:"w-24","data-testid":"select-elite-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"0",children:"Any"}),n.jsx(se,{value:"10",children:"10%+"}),n.jsx(se,{value:"20",children:"20%+"}),n.jsx(se,{value:"30",children:"30%+"}),n.jsx(se,{value:"40",children:"40%+"}),n.jsx(se,{value:"50",children:"50%+"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Min Exalted%:"}),n.jsxs(Ze,{value:String(c),onValueChange:j=>d(Number(j)),children:[n.jsx(Qe,{className:"w-24","data-testid":"select-exalted-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"0",children:"Any"}),n.jsx(se,{value:"1",children:"1%+"}),n.jsx(se,{value:"2",children:"2%+"}),n.jsx(se,{value:"3",children:"3%+"}),n.jsx(se,{value:"5",children:"5%+"}),n.jsx(se,{value:"10",children:"10%+"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Min Rarity:"}),n.jsxs(Ze,{value:String(r),onValueChange:j=>a(Number(j)),children:[n.jsx(Qe,{className:"w-32","data-testid":"select-rarity-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"0",children:"Any"}),n.jsx(se,{value:"1",children:"Uncommon+"}),n.jsx(se,{value:"2",children:"Rare+"}),n.jsx(se,{value:"3",children:"Legendary+"}),n.jsx(se,{value:"4",children:"Mythic"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Realm:"}),n.jsxs(Ze,{value:e,onValueChange:t,children:[n.jsx(Qe,{className:"w-40","data-testid":"select-realm-filter",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"all",children:"All Realms"}),n.jsx(se,{value:"cv",children:"Crystalvale"}),n.jsx(se,{value:"sd",children:"Sundered Isles"})]})]})]})]})]}),n.jsx("div",{className:"grid gap-4",children:v.slice(0,100).map((j,C)=>{const E=(j.tts?.expected||0)/(j.totalCostUsd||1);return n.jsxs(G,{className:"overflow-hidden","data-testid":`card-pair-${C}`,children:[n.jsx(ae,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(U,{variant:"outline",className:"bg-purple-500/10 text-purple-600 border-purple-500/30",children:["#",C+1]}),n.jsxs("span",{className:"font-semibold",children:["TTS Efficiency: ",E.toFixed(4)]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(U,{variant:"secondary",children:["Expected TTS: ",(j.tts?.expected||0).toFixed(2)]}),(j.eliteChance||0)>0&&n.jsxs(U,{variant:"outline",className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:["Elite: ",j.eliteChance?.toFixed(1),"%"]}),(j.exaltedChance||0)>0&&n.jsxs(U,{variant:"outline",className:"bg-purple-500/10 text-purple-600 border-purple-500/30",children:["Exalted: ",j.exaltedChance?.toFixed(1),"%"]}),n.jsxs(U,{variant:"outline",className:"text-green-600",children:["$",j.totalCostUsd?.toFixed(2)]})]})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[j.hero1,j.hero2].map((A,T)=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/hero/${A.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-sm hover:underline flex items-center gap-1","data-testid":`link-hero-${A.id}`,children:["#",A.normalizedId,n.jsx(nr,{className:"h-3 w-3"})]}),n.jsx(U,{variant:"outline",className:w(A.rarity),children:b(A.rarity)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"})," ",n.jsx("span",{className:"font-medium",children:A.mainClass})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prof:"})," ",n.jsx("span",{className:"font-medium",children:A.profession})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",n.jsx("span",{className:"font-medium",children:A.level})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen:"})," ",n.jsx("span",{className:"font-medium",children:A.generation})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Summons:"})," ",n.jsx("span",{className:"font-medium",children:A.summonsRemaining})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",n.jsxs("span",{className:"font-medium",children:[A.price," ",A.token]})]})]})]},T))}),j.tts&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-sm font-medium",children:"TTS Probability Distribution"}),n.jsxs(Qs,{href:`/admin/summoning-calculator?hero1=${j.hero1.normalizedId}&hero2=${j.hero2.normalizedId}`,className:"text-xs text-purple-400 hover:text-purple-300 flex items-center gap-1","data-testid":`link-calc-${C}`,children:[n.jsx(Aa,{className:"h-3 w-3"}),"View Full Summon Chances"]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(j.tts.cumulativeProbs||{}).sort(([A],[T])=>parseInt(T)-parseInt(A)).slice(0,6).map(([A,T])=>n.jsxs(U,{variant:"outline",className:"text-xs",children:["TTS",A,": ",Number(T).toFixed(1),"%"]},A))})]})]})]},C)})}),v.length===0&&n.jsx(G,{children:n.jsx(Q,{className:"text-center py-12 text-muted-foreground",children:"No pairs found. Try adjusting filters or check if the tavern indexer has data."})}),v.length>100&&n.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Showing top 100 of ",v.length," pairs"]})]})]})}const A0e={cv:"Crystalvale",sd:"Sundered Isles"};function lb(e){if(!e)return"Never";const t=new Date(e),a=new Date().getTime()-t.getTime(),s=Math.floor(a/6e4),l=Math.floor(s/60),c=Math.floor(l/24);return s<1?"Just now":s<60?`${s}m ago`:l<24?`${l}h ${s%60}m ago`:`${c}d ${l%24}h ago`}function P0e(e){const t=Math.floor(e/1e3),r=Math.floor(t/60),a=Math.floor(r/60);return a>0?`${a}h ${r%60}m`:r>0?`${r}m ${t%60}s`:`${t}s`}function T0e(e){if(!e)return"--";const t=new Date(e),r=new Date,a=t.getTime()-r.getTime();return a<=0?"Soon":P0e(a)}function O0e(){const{toast:e}=Zt(),[t,r]=p.useState("--"),{data:a,isLoading:s,refetch:l}=ke({queryKey:["/api/admin/tavern-indexer/status"],refetchInterval:3e3}),{data:c,refetch:d}=ke({queryKey:["/api/admin/tavern-indexer/genes-status"],refetchInterval:5e3});p.useEffect(()=>{const P=setInterval(()=>{a?.status?.nextRunAt&&r(T0e(a.status.nextRunAt))},1e3);return()=>clearInterval(P)},[a?.status?.nextRunAt]);const f=Oe({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/trigger",{}),onSuccess:()=>{e({title:"Indexing started",description:"Tavern indexer is now running"}),l()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),m=Oe({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"Tavern index has been cleared"}),l()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),h=Oe({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/start",{intervalMs:1800*1e3}),onSuccess:()=>{e({title:"Auto-run started",description:"Indexer will run every 30 minutes"}),l()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),g=Oe({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/stop",{}),onSuccess:()=>{e({title:"Auto-run stopped",description:"Automatic indexing disabled"}),l()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),v=Oe({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/backfill-genes",{maxHeroes:500}),onSuccess:()=>{e({title:"Gene backfill started",description:"Fetching gene data from GraphQL"}),d()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),b=Oe({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/force-stop",{}),onSuccess:()=>{e({title:"Force stopped",description:"Indexer state has been reset"}),l()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),w=a?.status,y=a?.progress||[],j=a?.stats||[],C=c?.status,E=c?.stats,A=j.reduce((P,_)=>P+Number(_.total_heroes||0),0),T=E?.complete||0,k=E?.percentage||0;return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ee,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{className:"space-y-6 p-6","data-testid":"tavern-indexer-admin",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Tavern Indexer"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and control the marketplace hero indexer"})]}),n.jsx(re,{variant:"outline",size:"icon",onClick:()=>l(),"data-testid":"button-refresh",children:n.jsx(tt,{className:"h-4 w-4"})})]}),n.jsxs(G,{"data-testid":"card-worker-status",children:[n.jsx(ae,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[w?.isRunning?n.jsx(Ee,{className:"h-5 w-5 animate-spin text-yellow-500"}):w?.autoRunActive?n.jsx(Tr,{className:"h-5 w-5 text-green-500"}):n.jsx(rr,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(ie,{children:"Worker Status"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(U,{variant:w?.isRunning?"default":"secondary","data-testid":"badge-worker-status",children:w?.isRunning?"Running":"Idle"}),n.jsx(U,{variant:w?.autoRunActive?"default":"outline","data-testid":"badge-autorun-status",children:w?.autoRunActive?"Auto-Run ON":"Auto-Run OFF"})]})]})}),n.jsxs(Q,{className:"space-y-4",children:[w?.isRunning&&w.workers&&w.workers.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.numWorkers||10," workers processing heroes..."]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("span",{className:"text-blue-500","data-testid":"text-cv-progress",children:["CV: ",(w.cvHeroesIndexed||0).toLocaleString()]}),n.jsxs("span",{className:"text-purple-500","data-testid":"text-sd-progress",children:["SD: ",(w.sdHeroesIndexed||0).toLocaleString()]}),n.jsxs("span",{className:"font-semibold","data-testid":"text-total-progress",children:["Total: ",(w.totalHeroesIndexed||0).toLocaleString()]})]})]}),w.workers.map((P,_)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("span",{children:["Worker ",P.id+1]}),n.jsxs("span",{className:"text-muted-foreground",children:[P.heroesProcessed||0," heroes  ",P.status]})]}),n.jsx(Ut,{value:P.status==="done"?100:P.status==="working"?50:0,className:"h-1.5"})]},_))]}),!w?.isRunning&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(Ca,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-total-heroes",children:A.toLocaleString()}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Heroes"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(wu,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-complete-genes",children:T.toLocaleString()}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Complete Genes (",k.toFixed(0),"%)"]})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(di,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-last-run",children:y.length>0?lb(y.reduce((P,_)=>_.last_success_at?P?new Date(_.last_success_at)>new Date(P)?_.last_success_at:P:_.last_success_at:P,null)):"Never"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Last Indexed"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(dM,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-next-run",children:w?.autoRunActive&&w?.nextRunAt?t:"--"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Next Run"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap pt-2",children:[n.jsxs(re,{onClick:()=>f.mutate(),disabled:w?.isRunning||f.isPending,"data-testid":"button-trigger-index",children:[f.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Run Now"]}),w?.autoRunActive?n.jsxs(re,{variant:"outline",onClick:()=>g.mutate(),disabled:g.isPending,"data-testid":"button-stop-autorun",children:[n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Stop Auto-Run"]}):n.jsxs(re,{variant:"outline",onClick:()=>h.mutate(),disabled:h.isPending,"data-testid":"button-start-autorun",children:[n.jsx(tt,{className:"h-4 w-4 mr-2"}),"Start Auto-Run (30m)"]}),n.jsxs(re,{variant:"secondary",onClick:()=>b.mutate(),disabled:b.isPending,"data-testid":"button-force-stop",children:[b.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Force Stop"]}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsxs(re,{variant:"destructive",disabled:w?.isRunning,"data-testid":"button-reset",children:[n.jsx(wc,{className:"h-4 w-4 mr-2"}),"Reset"]})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsx(zc,{children:"Reset Tavern Index?"}),n.jsx(Bc,{children:"This will delete all indexed heroes and reset progress. You will need to re-index all heroes."})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsx(Uc,{onClick:()=>m.mutate(),children:"Reset"})]})]})]})]})]})]}),n.jsxs(G,{"data-testid":"card-chain-status",children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Per-Chain Status"}),n.jsx(Ce,{children:"Last indexed time and hero count for each marketplace"})]}),n.jsx(Q,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Realm"}),n.jsx(q,{children:"Heroes"}),n.jsx(q,{children:"Status"}),n.jsx(q,{children:"Last Success"}),n.jsx(q,{children:"Last Run"})]})}),n.jsx(pt,{children:y.length===0?n.jsx(Te,{children:n.jsx(B,{colSpan:5,className:"text-center text-muted-foreground",children:"No indexing data yet. Run the indexer to populate."})}):y.map(P=>{const _=j.find(M=>M.realm===P.realm);return n.jsxs(Te,{"data-testid":`row-chain-${P.realm}`,children:[n.jsx(B,{className:"font-medium",children:A0e[P.realm]||P.realm}),n.jsx(B,{children:_?.total_heroes?.toLocaleString()||P.heroes_indexed||0}),n.jsx(B,{children:n.jsx(U,{variant:P.status==="complete"?"default":P.status==="running"?"secondary":"outline",children:P.status})}),n.jsx(B,{className:"text-muted-foreground",children:lb(P.last_success_at)}),n.jsx(B,{className:"text-muted-foreground",children:lb(P.last_run_at)})]},P.realm)})})]})})]}),n.jsxs(G,{"data-testid":"card-gene-backfill",children:[n.jsxs(ae,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wu,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(ie,{children:"Gene Data Status"})]}),n.jsx(U,{variant:C?.isRunning?"default":"secondary",children:C?.isRunning?"Backfilling...":"Idle"})]}),n.jsx(Ce,{children:"Recessive gene data fetched from GraphQL for breeding calculations"})]}),n.jsxs(Q,{className:"space-y-4",children:[E&&E.total!==void 0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Complete gene data"}),n.jsxs("span",{className:"text-muted-foreground",children:[(E.complete||0).toLocaleString()," / ",(E.total||0).toLocaleString()," (",(E.percentage||0).toFixed(1),"%)"]})]}),n.jsx(Ut,{value:E.percentage||0,className:"h-2"})]}),C?.isRunning&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Ee,{className:"h-4 w-4 animate-spin"}),n.jsxs("span",{children:["Processed ",C.processed," heroes..."]}),C.errors>0&&n.jsxs(U,{variant:"destructive",className:"text-xs",children:[C.errors," errors"]})]}),n.jsxs(re,{variant:"outline",onClick:()=>v.mutate(),disabled:C?.isRunning||v.isPending,"data-testid":"button-backfill-genes",children:[v.isPending?n.jsx(Ee,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(wu,{className:"h-4 w-4 mr-2"}),"Backfill Missing Genes"]})]})]}),w?.errors&&w.errors.length>0&&n.jsxs(G,{"data-testid":"card-errors",children:[n.jsx(ae,{children:n.jsx(ie,{className:"text-destructive",children:"Recent Errors"})}),n.jsx(Q,{children:n.jsx("ul",{className:"space-y-2 text-sm",children:w.errors.map((P,_)=>n.jsx("li",{className:"p-2 bg-destructive/10 rounded text-destructive",children:P},_))})})]})]})}const J4={0:"Common",1:"Uncommon",2:"Rare",3:"Legendary",4:"Mythic"},ob={0:"bg-gray-500",1:"bg-green-500",2:"bg-blue-500",3:"bg-orange-500",4:"bg-purple-500"},k0e=["Warrior","Knight","Thief","Archer","Priest","Wizard","Monk","Pirate","Berserker","Seer","Legionnaire","Scholar","Paladin","DarkKnight","Summoner","Ninja","Shapeshifter","Bard","Dragoon","Sage","SpellBow","DreadKnight"],_0e=["mining","gardening","fishing","foraging"];function R0e(){const{toast:e}=Zt(),[t,r]=p.useState("all"),[a,s]=p.useState(""),[l,c]=p.useState(""),[d,f]=p.useState(""),[m,h]=p.useState(""),[g,v]=p.useState(""),[b,w]=p.useState("cv"),[y,j]=p.useState(null),[C,E]=p.useState(!1),A=async()=>{if(!a){e({title:"Select a class",description:"Class is required for price lookup",variant:"destructive"});return}E(!0);try{const H=new URLSearchParams;H.set("mainClass",a),H.set("realm",b),l&&l!=="any"&&H.set("rarity",l),d&&H.set("levelMin",d),m&&H.set("levelMax",m),g&&g!=="any"&&H.set("profession",g);const D=await(await fetch(`/api/admin/market-intel/price-recommendation?${H.toString()}`,{credentials:"include"})).json();j(D)}catch(H){e({title:"Price lookup failed",description:H.message,variant:"destructive"})}finally{E(!1)}},T=ke({queryKey:["/api/admin/market-intel/status"],refetchInterval:1e4}),k=ke({queryKey:["/api/admin/market-intel/recent-sales",t],queryFn:async()=>{const H=t==="all"?"/api/admin/market-intel/recent-sales?limit=50":`/api/admin/market-intel/recent-sales?limit=50&realm=${t}`;return(await fetch(H,{credentials:"include"})).json()}}),P=ke({queryKey:["/api/admin/market-intel/demand-metrics",t],queryFn:async()=>{const H=t==="all"?"/api/admin/market-intel/demand-metrics":`/api/admin/market-intel/demand-metrics?realm=${t}`;return(await fetch(H,{credentials:"include"})).json()}}),_=()=>{_e.invalidateQueries({queryKey:["/api/admin/market-intel/status"]}),_e.invalidateQueries({queryKey:["/api/admin/market-intel/recent-sales"]}),_e.invalidateQueries({queryKey:["/api/admin/market-intel/demand-metrics"]})},M=Oe({mutationFn:()=>De("POST","/api/admin/market-intel/snapshot"),onSuccess:()=>{e({title:"Snapshot taken",description:"Listing snapshot saved"}),_()},onError:H=>{e({title:"Snapshot failed",description:H.message,variant:"destructive"})}}),X=Oe({mutationFn:async()=>(await De("POST","/api/admin/market-intel/reconcile")).json(),onSuccess:H=>{e({title:"Reconciliation complete",description:`Detected ${H.salesDetected||0} sales, ${H.delistingsDetected||0} delistings`}),_()},onError:H=>{e({title:"Reconciliation failed",description:H.message,variant:"destructive"})}}),I=Oe({mutationFn:()=>De("POST","/api/admin/market-intel/full-cycle"),onSuccess:()=>{e({title:"Full cycle complete",description:"Snapshot and reconciliation finished"}),_()},onError:H=>{e({title:"Full cycle failed",description:H.message,variant:"destructive"})}}),R=Oe({mutationFn:()=>De("POST","/api/admin/market-intel/start-auto"),onSuccess:()=>{e({title:"Auto ingestion started",description:"Running every hour"}),_()},onError:H=>{e({title:"Failed to start",description:H.message,variant:"destructive"})}}),V=Oe({mutationFn:()=>De("POST","/api/admin/market-intel/stop-auto"),onSuccess:()=>{e({title:"Auto ingestion stopped"}),_()},onError:H=>{e({title:"Failed to stop",description:H.message,variant:"destructive"})}}),je=T.data?.status,Y=T.data?.stats||[],te=k.data?.sales||[],z=P.data?.metrics||[],J=H=>{if(!H)return"-";const pe=parseFloat(H);return pe>=1e3?`${(pe/1e3).toFixed(1)}k`:pe.toFixed(2)},$=H=>H?new Date(H).toLocaleString():"Never";return n.jsxs("div",{className:"space-y-6","data-testid":"page-market-intel",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Market Intel"}),n.jsx("p",{className:"text-muted-foreground",children:"Track hero sales trends and demand patterns"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Ze,{value:t,onValueChange:r,children:[n.jsx(Qe,{className:"w-[140px]","data-testid":"select-realm",children:n.jsx(Je,{placeholder:"All Realms"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"all",children:"All Realms"}),n.jsx(se,{value:"cv",children:"Crystalvale"}),n.jsx(se,{value:"sd",children:"Sundered Isles"})]})]}),n.jsxs(re,{size:"sm",variant:"outline",onClick:()=>M.mutate(),disabled:M.isPending,"data-testid":"button-snapshot",children:[M.isPending?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(jc,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Snapshot"})]}),n.jsxs(re,{size:"sm",variant:"outline",onClick:()=>X.mutate(),disabled:X.isPending,"data-testid":"button-reconcile",children:[X.isPending?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(tt,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Reconcile"})]}),n.jsxs(re,{size:"sm",onClick:()=>I.mutate(),disabled:I.isPending,"data-testid":"button-full-cycle",children:[I.isPending?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(vn,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Full Cycle"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Ingestion Status"}),n.jsx(jc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{variant:je?.autoRunActive?"default":"secondary","data-testid":"badge-ingestion-status",children:je?.autoRunActive?"Auto Running":"Stopped"}),je?.autoRunActive?n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>V.mutate(),children:"Stop"}):n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>R.mutate(),children:"Start Auto"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Last snapshot: ",$(je?.lastSnapshotAt||null)]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Sales Detected"}),n.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sales-detected",children:je?.salesDetected||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Delistings: ",je?.delistingsDetected||0]})]})]}),Y.map(H=>n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:H.realm==="cv"?"Crystalvale":"Sundered Isles"}),n.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[H.total_sales," sales"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",J(H.avg_price)," ",H.realm==="cv"?"CRYSTAL":"JEWEL"]})]})]},H.realm))]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(di,{className:"h-5 w-5"}),"Recent Sales"]}),n.jsx(Ce,{children:"Latest hero sales detected"})]}),n.jsx(Q,{children:k.isLoading?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ee,{className:"h-6 w-6 animate-spin"})}):te.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sales detected yet"}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Hero"}),n.jsx(q,{children:"Class"}),n.jsx(q,{children:"Price"}),n.jsx(q,{children:"When"})]})}),n.jsx(pt,{children:te.slice(0,10).map(H=>n.jsxs(Te,{"data-testid":`row-sale-${H.id}`,children:[n.jsx(B,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{variant:"outline",className:"text-xs",children:H.realm.toUpperCase()}),n.jsx("span",{className:"font-mono text-xs",children:H.hero_id})]})}),n.jsx(B,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[H.rarity!==void 0&&n.jsx("span",{className:`w-2 h-2 rounded-full ${ob[H.rarity]}`}),n.jsx("span",{children:H.main_class||"-"})]})}),n.jsxs(B,{children:[J(H.price_amount)," ",H.token_symbol]}),n.jsx(B,{className:"text-xs text-muted-foreground",children:new Date(H.sale_timestamp).toLocaleTimeString()})]},H.id))})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(lp,{className:"h-5 w-5"}),"Demand Heatmap"]}),n.jsx(Ce,{children:"Class demand scores by sales velocity"})]}),n.jsx(Q,{children:P.isLoading?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ee,{className:"h-6 w-6 animate-spin"})}):z.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No demand data yet"}):n.jsx("div",{className:"space-y-2",children:z.slice(0,10).map(H=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50","data-testid":`row-demand-${H.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{variant:"outline",className:"text-xs",children:H.realm.toUpperCase()}),n.jsx("span",{className:"font-medium",children:H.main_class}),H.rarity!==void 0&&H.rarity!==null&&n.jsx(U,{className:`${ob[H.rarity]} text-xs`,children:J4[H.rarity]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm font-medium",children:[H.sales_count_7d," / 7d"]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[H.sales_count_30d," / 30d"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-bold",children:H.demand_score})]})]})]},H.id))})})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Aa,{className:"h-5 w-5"}),"Hero Price Tool"]}),n.jsx(Ce,{children:"Get buy/sell price recommendations based on recent market data"})]}),n.jsxs(Q,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-6 lg:grid-cols-7",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Realm"}),n.jsxs(Ze,{value:b,onValueChange:w,children:[n.jsx(Qe,{"data-testid":"select-price-realm",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"cv",children:"Crystalvale"}),n.jsx(se,{value:"sd",children:"Sundered Isles"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Class *"}),n.jsxs(Ze,{value:a,onValueChange:s,children:[n.jsx(Qe,{"data-testid":"select-price-class",children:n.jsx(Je,{placeholder:"Select class"})}),n.jsx(Xe,{children:k0e.map(H=>n.jsx(se,{value:H,children:H},H))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Rarity"}),n.jsxs(Ze,{value:l,onValueChange:c,children:[n.jsx(Qe,{"data-testid":"select-price-rarity",children:n.jsx(Je,{placeholder:"Any"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"any",children:"Any"}),n.jsx(se,{value:"0",children:"Common"}),n.jsx(se,{value:"1",children:"Uncommon"}),n.jsx(se,{value:"2",children:"Rare"}),n.jsx(se,{value:"3",children:"Legendary"}),n.jsx(se,{value:"4",children:"Mythic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Level Min"}),n.jsx(Ke,{type:"number",placeholder:"1",value:d,onChange:H=>f(H.target.value),"data-testid":"input-price-level-min"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Level Max"}),n.jsx(Ke,{type:"number",placeholder:"100",value:m,onChange:H=>h(H.target.value),"data-testid":"input-price-level-max"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Profession"}),n.jsxs(Ze,{value:g,onValueChange:v,children:[n.jsx(Qe,{"data-testid":"select-price-profession",children:n.jsx(Je,{placeholder:"Any"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"any",children:"Any"}),_0e.map(H=>n.jsx(se,{value:H,children:H.charAt(0).toUpperCase()+H.slice(1)},H))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:""}),n.jsxs(re,{onClick:A,disabled:C||!a,className:"w-full","data-testid":"button-get-price",children:[C?n.jsx(Ee,{className:"h-4 w-4 animate-spin"}):n.jsx(na,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Get Prices"})]})]})]}),y&&n.jsx("div",{className:"mt-6",children:y.recommendation?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(U,{variant:y.recommendation.confidence==="high"?"default":y.recommendation.confidence==="medium"?"secondary":"outline",children:[y.recommendation.confidence.toUpperCase()," confidence"]}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Based on ",y.recommendation.sampleSize," recent sales"]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(bx,{className:"h-4 w-4"}),y.recommendation.priceVariation,"% price variation"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"rounded-md border border-green-500/30 bg-green-500/5 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(cM,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Buy Prices"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Great Deal"}),n.jsxs("span",{className:"font-bold text-green-500","data-testid":"text-buy-low",children:[y.recommendation.buyLow," ",y.recommendation.token]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Fair Price"}),n.jsxs("span",{className:"font-medium","data-testid":"text-buy-fair",children:[y.recommendation.buyFair," ",y.recommendation.token]})]})]})]}),n.jsxs("div",{className:"rounded-md border border-blue-500/30 bg-blue-500/5 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(lp,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Market Value"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Median"}),n.jsxs("span",{className:"font-bold text-blue-500","data-testid":"text-market-median",children:[y.recommendation.marketMedian," ",y.recommendation.token]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Average"}),n.jsxs("span",{className:"font-medium","data-testid":"text-market-avg",children:[y.recommendation.marketAverage," ",y.recommendation.token]})]}),n.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[n.jsx("span",{children:"Range"}),n.jsxs("span",{children:[y.recommendation.priceRange.min," - ",y.recommendation.priceRange.max]})]})]})]}),n.jsxs("div",{className:"rounded-md border border-orange-500/30 bg-orange-500/5 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(iw,{className:"h-4 w-4 text-orange-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Sell Prices"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Fair Price"}),n.jsxs("span",{className:"font-medium","data-testid":"text-sell-fair",children:[y.recommendation.sellFair," ",y.recommendation.token]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Premium"}),n.jsxs("span",{className:"font-bold text-orange-500","data-testid":"text-sell-high",children:[y.recommendation.sellHigh," ",y.recommendation.token]})]})]})]})]}),y.recentSales&&y.recentSales.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"Recent Similar Sales"}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Hero"}),n.jsx(q,{children:"Class"}),n.jsx(q,{children:"Rarity"}),n.jsx(q,{children:"Level"}),n.jsx(q,{children:"Price"}),n.jsx(q,{children:"When"})]})}),n.jsx(pt,{children:y.recentSales.map((H,pe)=>n.jsxs(Te,{children:[n.jsx(B,{className:"font-mono text-xs",children:H.heroId}),n.jsx(B,{children:H.mainClass||"-"}),n.jsx(B,{children:H.rarity!==void 0&&H.rarity!==null&&n.jsx(U,{className:`${ob[H.rarity]} text-xs`,children:J4[H.rarity]})}),n.jsx(B,{children:H.level||"-"}),n.jsxs(B,{className:"font-medium",children:[H.price.toFixed(2)," ",H.token]}),n.jsx(B,{className:"text-xs text-muted-foreground",children:new Date(H.saleDate).toLocaleDateString()})]},`${H.heroId}-${pe}`))})]})]})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:y.message||"No similar sales found. Try broadening your criteria."})})]})]})]})}const M0e={pending:"bg-yellow-500",summoned:"bg-blue-500",listed:"bg-purple-500",sold:"bg-green-500",failed:"bg-red-500"},D0e={pending:qs,summoned:Rr,listed:na,sold:Tr,failed:Wi};function L0e(){const{toast:e}=Zt(),[t,r]=p.useState("all"),[a,s]=p.useState(!1),[l,c]=p.useState({realm:"cv",walletAddress:"",parent1HeroId:"",parent2HeroId:"",parent1CostNative:"",parent2CostNative:"",summonFeeNative:"",enhancementStonesUsed:0,enhancementStoneCostNative:"",nativeToken:"CRYSTAL"}),d=ke({queryKey:["/api/admin/profit-tracker/sessions"],refetchInterval:3e4}),f=ke({queryKey:["/api/admin/profit-tracker/conversion-metrics",t],queryFn:async()=>{const T=t==="all"?"/api/admin/profit-tracker/conversion-metrics":`/api/admin/profit-tracker/conversion-metrics?realm=${t}`;return(await fetch(T,{credentials:"include"})).json()}}),m=ke({queryKey:["/api/admin/profit-tracker/roi-summary"]}),h=()=>{_e.invalidateQueries({queryKey:["/api/admin/profit-tracker/sessions"]}),_e.invalidateQueries({queryKey:["/api/admin/profit-tracker/conversion-metrics"]}),_e.invalidateQueries({queryKey:["/api/admin/profit-tracker/roi-summary"]})},g=Oe({mutationFn:async()=>(await De("POST","/api/admin/profit-tracker/sessions",l)).json(),onSuccess:()=>{e({title:"Session created",description:"Summon session added to tracker"}),s(!1),c({realm:"cv",walletAddress:"",parent1HeroId:"",parent2HeroId:"",parent1CostNative:"",parent2CostNative:"",summonFeeNative:"",enhancementStonesUsed:0,enhancementStoneCostNative:"",nativeToken:"CRYSTAL"}),h()},onError:T=>{e({title:"Failed to create session",description:T.message,variant:"destructive"})}}),v=d.data?.sessions||[],b=f.data?.metrics||[],w=m.data?.summary,y=T=>{if(!T)return"-";const k=parseFloat(T);return isNaN(k)?"-":k>=1e3?`${(k/1e3).toFixed(1)}k`:k.toFixed(2)},j=T=>{if(!T)return"-";const k=parseFloat(T);return isNaN(k)?"-":`${(k*100).toFixed(1)}%`},C=parseFloat(w?.total_invested||"0"),E=parseFloat(w?.total_profit||"0"),A=C>0?(E/C*100).toFixed(1):"0";return n.jsxs("div",{className:"space-y-6","data-testid":"page-profit-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Summon Profit Tracker"}),n.jsx("p",{className:"text-muted-foreground",children:"Track summoning costs, outcomes, and ROI"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Ze,{value:t,onValueChange:r,children:[n.jsx(Qe,{className:"w-[140px]","data-testid":"select-realm",children:n.jsx(Je,{placeholder:"All Realms"})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"all",children:"All Realms"}),n.jsx(se,{value:"cv",children:"Crystalvale"}),n.jsx(se,{value:"sd",children:"Sundered Isles"})]})]}),n.jsxs(Ys,{open:a,onOpenChange:s,children:[n.jsx(AF,{asChild:!0,children:n.jsxs(re,{"data-testid":"button-new-session",children:[n.jsx(Ji,{className:"h-4 w-4 mr-2"}),"New Session"]})}),n.jsxs(ss,{children:[n.jsxs(is,{children:[n.jsx(ls,{children:"Create Summon Session"}),n.jsx(os,{children:"Track a new summoning attempt"})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Realm"}),n.jsxs(Ze,{value:l.realm,onValueChange:T=>c(k=>({...k,realm:T,nativeToken:T==="cv"?"CRYSTAL":"JEWEL"})),children:[n.jsx(Qe,{"data-testid":"input-realm",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"cv",children:"Crystalvale"}),n.jsx(se,{value:"sd",children:"Sundered Isles"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Token"}),n.jsx(Ke,{value:l.nativeToken,disabled:!0,"data-testid":"input-token"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Wallet Address"}),n.jsx(Ke,{placeholder:"0x...",value:l.walletAddress,onChange:T=>c(k=>({...k,walletAddress:T.target.value})),"data-testid":"input-wallet"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Parent 1 Hero ID"}),n.jsx(Ke,{placeholder:"Hero ID",value:l.parent1HeroId,onChange:T=>c(k=>({...k,parent1HeroId:T.target.value})),"data-testid":"input-parent1"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Parent 2 Hero ID"}),n.jsx(Ke,{placeholder:"Hero ID",value:l.parent2HeroId,onChange:T=>c(k=>({...k,parent2HeroId:T.target.value})),"data-testid":"input-parent2"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Parent 1 Cost"}),n.jsx(Ke,{type:"number",placeholder:"0",value:l.parent1CostNative,onChange:T=>c(k=>({...k,parent1CostNative:T.target.value})),"data-testid":"input-parent1-cost"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Parent 2 Cost"}),n.jsx(Ke,{type:"number",placeholder:"0",value:l.parent2CostNative,onChange:T=>c(k=>({...k,parent2CostNative:T.target.value})),"data-testid":"input-parent2-cost"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Summon Fee"}),n.jsx(Ke,{type:"number",placeholder:"0",value:l.summonFeeNative,onChange:T=>c(k=>({...k,summonFeeNative:T.target.value})),"data-testid":"input-summon-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Enhancement Stones"}),n.jsx(Ke,{type:"number",placeholder:"0",value:l.enhancementStonesUsed,onChange:T=>c(k=>({...k,enhancementStonesUsed:parseInt(T.target.value)||0})),"data-testid":"input-stones"})]})]})]}),n.jsxs(cl,{children:[n.jsx(re,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(re,{onClick:()=>g.mutate(),disabled:g.isPending||!l.walletAddress||!l.parent1HeroId||!l.parent2HeroId,"data-testid":"button-create-session",children:[g.isPending&&n.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}),"Create Session"]})]})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Sessions"}),n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:w?.total_sessions||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sold: ",w?.sold_count||0]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Invested"}),n.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-invested",children:y(w?.total_invested)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Revenue: ",y(w?.total_revenue)]})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Profit"}),E>=0?n.jsx(On,{className:"h-4 w-4 text-green-500"}):n.jsx(Sc,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(Q,{children:[n.jsxs("div",{className:`text-2xl font-bold ${E>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-total-profit",children:[E>=0?"+":"",y(w?.total_profit)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Net profit/loss"})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"ROI"}),n.jsx(bx,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Q,{children:[n.jsxs("div",{className:`text-2xl font-bold ${parseFloat(A)>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-roi",children:[parseFloat(A)>=0?"+":"",A,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Return on investment"})]})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Recent Sessions"}),n.jsx(Ce,{children:"Your tracked summoning attempts"})]}),n.jsx(Q,{children:d.isLoading?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ee,{className:"h-6 w-6 animate-spin"})}):v.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sessions yet. Create one to start tracking."}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Status"}),n.jsx(q,{children:"Parents"}),n.jsx(q,{children:"Cost"}),n.jsx(q,{children:"When"})]})}),n.jsx(pt,{children:v.slice(0,10).map(T=>{const k=D0e[T.status]||qs;return n.jsxs(Te,{"data-testid":`row-session-${T.id}`,children:[n.jsx(B,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k,{className:`h-4 w-4 ${T.status==="sold"?"text-green-500":T.status==="failed"?"text-red-500":"text-muted-foreground"}`}),n.jsx(U,{className:M0e[T.status],children:T.status})]})}),n.jsx(B,{children:n.jsxs("div",{className:"text-xs font-mono",children:[n.jsxs("div",{children:[T.parent1_hero_id.substring(0,8),"..."]}),n.jsxs("div",{children:[T.parent2_hero_id.substring(0,8),"..."]})]})}),n.jsxs(B,{children:[y(T.total_cost_native)," ",T.native_token]}),n.jsx(B,{className:"text-xs text-muted-foreground",children:new Date(T.created_at).toLocaleDateString()})]},T.id)})})]})})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Conversion Metrics"}),n.jsx(Ce,{children:"Historical conversion rates by class"})]}),n.jsx(Q,{children:f.isLoading?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ee,{className:"h-6 w-6 animate-spin"})}):b.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No conversion data yet. More sales data needed."}):n.jsx("div",{className:"space-y-2",children:b.slice(0,10).map(T=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50","data-testid":`row-conversion-${T.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{variant:"outline",className:"text-xs",children:T.realm.toUpperCase()}),n.jsx("span",{className:"font-medium",children:T.main_class}),n.jsx(U,{variant:T.confidence_level==="high"?"default":"secondary",className:"text-xs",children:T.confidence_level})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-medium",children:j(T.conversion_rate)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[T.sample_size," samples"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-sm font-medium ${parseFloat(T.risk_adjusted_profit_native||"0")>=0?"text-green-600":"text-red-600"}`,children:y(T.risk_adjusted_profit_native)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"risk-adj profit"})]})]})]},T.id))})})]})]})]})}function ur(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function cb(e){const t=typeof e=="string"?parseInt(e):e;return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toLocaleString()}function I0e({nextRunAt:e}){const[t,r]=p.useState(e-Date.now());if(p.useEffect(()=>{const d=setInterval(()=>{const f=e-Date.now();r(f)},1e3);return()=>clearInterval(d)},[e]),t<=0)return n.jsx("span",{className:"text-blue-400 font-mono text-sm",children:"Running now..."});const a=Math.floor(t/1e3)%60,s=Math.floor(t/6e4)%60,l=Math.floor(t/36e5),c=[];return l>0&&c.push(`${l}h`),(s>0||l>0)&&c.push(`${s}m`),c.push(`${a}s`),n.jsx("span",{className:"font-mono text-sm text-emerald-400","data-testid":"countdown-timer",children:c.join(" ")})}function $0e({status:e,isRunning:t}){if(t)return n.jsxs(U,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Ee,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",running:"bg-blue-500/20 text-blue-500 border-blue-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(U,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function eR({chain:e,chainStatus:t,liveProgress:r,onStart:a,onStop:s,onRun:l,onReset:c,isStarting:d,isStopping:f,isRunning:m,isResetting:h}){const g=r?.isRunning||t.isAutoRunning,v=e==="dfk"?"DFK Chain":"Metis",b=e==="dfk"?"Hunts":"Patrols",w=e==="dfk"?ku:Zl;return n.jsxs(G,{"data-testid":`card-chain-${e}`,children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(w,{className:"w-5 h-5 text-amber-500"}),n.jsxs("span",{children:[v," - ",b]})]}),n.jsx($0e,{status:t.checkpoint.status,isRunning:g})]}),n.jsxs(Ce,{children:["Chain ID: ",t.chainId," | ",b," encounter tracking",t.workerCount>0&&n.jsxs("span",{className:"ml-2 text-emerald-500",children:[" ",t.workerCount," workers active"]})]})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Block"}),n.jsx("div",{className:"font-mono font-bold","data-testid":`text-${e}-last-block`,children:cb(t.checkpoint.last_indexed_block)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Completions"}),n.jsx("div",{className:"font-bold text-green-500","data-testid":`text-${e}-completions`,children:ur(t.checkpoint.total_completions)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Rewards"}),n.jsx("div",{className:"font-bold text-amber-500","data-testid":`text-${e}-rewards`,children:ur(t.checkpoint.total_rewards)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Run"}),n.jsx("div",{className:"text-xs",children:t.checkpoint.last_indexed_at?new Date(t.checkpoint.last_indexed_at).toLocaleString():"Never"})]})]}),t.isAutoRunning&&t.timing&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-emerald-500/10 rounded-lg","data-testid":`eta-${e}`,children:[n.jsx(tt,{className:"w-4 h-4 text-emerald-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Next batch in:"}),n.jsx(I0e,{nextRunAt:t.timing.nextRunAt})]}),r&&r.isRunning&&n.jsxs("div",{className:"space-y-2 p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:["Block ",cb(r.currentBlock)," / ",cb(r.targetBlock)]}),n.jsxs("span",{children:[r.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:r.percentComplete}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Completions: ",r.completionsFound]}),n.jsxs("span",{children:["Rewards: ",r.eventsFound]})]})]}),t.checkpoint.last_error&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-500/10 rounded text-red-500 text-sm",children:[n.jsx(rr,{className:"w-4 h-4"}),t.checkpoint.last_error]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{onClick:l,disabled:m||g,size:"sm","data-testid":`button-${e}-run`,children:[m?n.jsx(Ee,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Run Batch"]}),t.isAutoRunning?n.jsxs(re,{onClick:s,disabled:f,variant:"destructive",size:"sm","data-testid":`button-${e}-stop`,children:[f?n.jsx(Ee,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(pr,{className:"w-4 h-4 mr-2"}),"Stop Auto"]}):n.jsxs(re,{onClick:a,disabled:d,variant:"outline",size:"sm","data-testid":`button-${e}-start`,children:[d?n.jsx(Ee,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Start Auto"]}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsxs(re,{size:"sm",variant:"outline",disabled:h||g,"data-testid":`button-${e}-reset`,children:[n.jsx(wc,{className:"w-4 h-4 mr-2"}),"Reset"]})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsxs(zc,{children:["Reset ",v," Data?"]}),n.jsxs(Bc,{children:["This will delete all indexed ",b.toLowerCase()," data including completions, rewards, and equipment drops. You'll need to re-index to restore the data with the latest capture fields."]})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsxs(Uc,{onClick:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":`button-${e}-confirm-reset`,children:[h?n.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]})]})]})}function tR({activities:e,type:t}){const[r,a]=p.useState(null),[s,l]=p.useState([]),{data:c,isLoading:d}=ke({queryKey:[`/api/pve/loot-hierarchical/${r}`],enabled:r!==null}),f=c?.regularLoot||[],m=c?.seasonalLoot||[],h=c?.equipment||[],g=c?.totalCompletions||0,v=w=>{l(y=>y.includes(w)?y.filter(j=>j!==w):[...y,w])},b=w=>{switch(w){case"Mythic":return"text-purple-400";case"Legendary":return"text-orange-400";case"Rare":return"text-blue-400";case"Uncommon":return"text-green-400";default:return"text-gray-400"}};return e.length===0?n.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:["No ",t,"s indexed yet. Start the indexer to begin collecting data."]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"ID"}),n.jsx(q,{children:"Name"}),n.jsx(q,{className:"text-right",children:"Completions"}),n.jsx(q,{className:"text-right",children:"Rewards"}),n.jsx(q,{children:"Actions"})]})}),n.jsx(pt,{children:e.map(w=>n.jsxs(Te,{"data-testid":`row-activity-${w.id}`,className:r===w.id?"bg-muted/50":"",children:[n.jsx(B,{className:"font-mono",children:w.activity_id}),n.jsx(B,{className:"font-medium",children:w.name}),n.jsx(B,{className:"text-right",children:ur(w.total_completions)}),n.jsx(B,{className:"text-right",children:ur(w.total_rewards)}),n.jsx(B,{children:n.jsx(re,{variant:r===w.id?"secondary":"outline",size:"sm",onClick:()=>a(r===w.id?null:w.id),"data-testid":`button-view-loot-${w.id}`,children:r===w.id?"Hide Loot":"View Loot"})})]},w.id))})]}),r&&n.jsxs(G,{className:"mt-4",children:[n.jsxs(ae,{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(bx,{className:"w-4 h-4"}),"Drop Rates for ",e.find(w=>w.id===r)?.name]}),n.jsx(Ce,{children:g>0&&`Based on ${ur(g)} completions`})]}),n.jsx(Q,{className:"space-y-6",children:d?n.jsx("div",{className:"flex items-center justify-center p-4",children:n.jsx(Ee,{className:"w-6 h-6 animate-spin"})}):f.length>0||m.length>0||h.length>0?n.jsxs(n.Fragment,{children:[f.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground",children:"Consumables & Materials"}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Item"}),n.jsx(q,{className:"text-right",children:"Drops"}),n.jsx(q,{className:"text-right",children:"Sample Size"}),n.jsx(q,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(pt,{children:f.map((w,y)=>n.jsxs(Te,{"data-testid":`row-loot-${y}`,children:[n.jsxs(B,{className:"font-medium",children:[w.item_name||w.item_address.slice(0,10)+"...",w.item_type&&n.jsx(U,{variant:"outline",className:"ml-2 text-xs",children:w.item_type})]}),n.jsx(B,{className:"text-right",children:ur(w.dropCount)}),n.jsx(B,{className:"text-right text-muted-foreground",children:ur(w.totalCompletions||g)}),n.jsxs(B,{className:"text-right font-bold",children:[(w.observedRate*100).toFixed(2),"%"]})]},y))})]})]}),m.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground flex items-center gap-2",children:[n.jsx(uo,{className:"w-4 h-4 text-amber-400"}),"Seasonal Event Drops"]}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Item"}),n.jsx(q,{className:"text-right",children:"Drops"}),n.jsx(q,{className:"text-right",children:"Sample Size"}),n.jsx(q,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(pt,{children:m.map((w,y)=>n.jsxs(Te,{"data-testid":`row-seasonal-${y}`,children:[n.jsxs(B,{className:"font-medium",children:[w.item_name||w.item_address.slice(0,10)+"...",n.jsx(U,{variant:"outline",className:"ml-2 text-xs text-amber-400 border-amber-400/30",children:"seasonal"})]}),n.jsx(B,{className:"text-right",children:ur(w.dropCount)}),n.jsx(B,{className:"text-right text-muted-foreground",children:ur(w.totalCompletions||g)}),n.jsxs(B,{className:"text-right font-bold text-amber-400",children:[(w.observedRate*100).toFixed(2),"%"]})]},y))})]})]}),h.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground flex items-center gap-2",children:[n.jsx(Zl,{className:"w-4 h-4"}),"Equipment Drops"]}),n.jsx("div",{className:"space-y-2",children:h.map(w=>n.jsxs("div",{className:"border rounded-lg",children:[n.jsxs("div",{className:"p-3 flex items-center justify-between cursor-pointer hover-elevate",onClick:()=>v(w.item_address),"data-testid":`equipment-parent-${w.item_id}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ku,{className:"w-4 h-4 text-orange-400"}),n.jsx("span",{className:"font-medium",children:w.item_name||"Equipment"}),n.jsxs(U,{variant:"secondary",className:"text-xs",children:[w.variantCount," variants"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[ur(w.dropCount)," drops"]}),n.jsxs("span",{className:"font-bold text-green-400",children:[(w.observedRate*100).toFixed(2),"%"]}),n.jsx("span",{className:"text-muted-foreground",children:s.includes(w.item_address)?"":""})]})]}),Object.keys(w.rarityDistribution).length>0&&n.jsx("div",{className:"px-3 pb-2 flex gap-2 flex-wrap",children:Object.entries(w.rarityDistribution).map(([y,j])=>n.jsxs(U,{variant:"outline",className:`text-xs ${b(y)}`,children:[y,": ",j]},y))}),s.includes(w.item_address)&&w.variants.length>0&&n.jsx("div",{className:"border-t bg-muted/30",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Variant"}),n.jsx(q,{children:"Rarity"}),n.jsx(q,{className:"text-right",children:"Drops"}),n.jsx(q,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(pt,{children:w.variants.map((y,j)=>n.jsxs(Te,{"data-testid":`variant-${w.item_id}-${j}`,children:[n.jsxs(B,{className:"font-mono text-xs",children:[y.equipmentTypeName," #",y.displayId]}),n.jsx(B,{children:n.jsx(U,{variant:"outline",className:b(y.rarityName),children:y.rarityName})}),n.jsx(B,{className:"text-right",children:ur(y.dropCount)}),n.jsxs(B,{className:"text-right font-bold",children:[(y.observedRate*100).toFixed(3),"%"]})]},j))})]})})]},w.item_address))})]})]}):n.jsx("div",{className:"text-center p-4 text-muted-foreground",children:"No loot data available for this activity yet."})})]})]})}function F0e(){const{toast:e}=Zt(),[t,r]=p.useState("dfk"),{data:a,isLoading:s,error:l,refetch:c}=ke({queryKey:["/api/admin/pve/status"],refetchInterval:3e3,retry:1}),{data:d,isLoading:f}=ke({queryKey:["/api/pve/hunts"]}),{data:m,isLoading:h}=ke({queryKey:["/api/pve/patrols"]}),g=!!a&&!l,v=f||h,b=d?.hunts||[],w=m?.patrols||[],y=Oe({mutationFn:async k=>await De("POST",`/api/admin/pve/run/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} indexer batch started`}),_e.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to run indexer",description:k.message,variant:"destructive"})}}),j=Oe({mutationFn:async k=>await De("POST",`/api/admin/pve/start/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} auto-run started`}),_e.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to start auto-run",description:k.message,variant:"destructive"})}}),C=Oe({mutationFn:async k=>await De("POST",`/api/admin/pve/stop/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} auto-run stopped`}),_e.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to stop auto-run",description:k.message,variant:"destructive"})}}),E=Oe({mutationFn:async k=>await De("POST",`/api/admin/pve/reset/${k}`,{toBlock:0}),onSuccess:(k,P)=>{e({title:"Reset complete",description:`${P.toUpperCase()} data cleared. Ready to re-index.`}),_e.invalidateQueries({queryKey:["/api/admin/pve/status"]}),_e.invalidateQueries({queryKey:["/api/pve/hunts"]}),_e.invalidateQueries({queryKey:["/api/pve/patrols"]})},onError:k=>{e({title:"Reset failed",description:k.message,variant:"destructive"})}}),A=(a?.dfk?.checkpoint?.total_completions||0)+(a?.metis?.checkpoint?.total_completions||0),T=(a?.dfk?.checkpoint?.total_rewards||0)+(a?.metis?.checkpoint?.total_rewards||0);return n.jsxs("div",{className:"space-y-6","data-testid":"page-pve-droprates",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Rr,{className:"w-6 h-6 text-red-500"}),"PVE Drop Rates"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track Hunts (DFK Chain) and Patrols (Metis) with Scavenger pet detection"})]}),n.jsx(re,{variant:"outline",size:"icon",onClick:()=>c(),"data-testid":"button-refresh",children:n.jsx(tt,{className:"w-4 h-4"})})]}),v?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Ee,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[l&&n.jsx(G,{className:"border-amber-500/50 bg-amber-500/10",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[n.jsx(rr,{className:"w-5 h-5"}),n.jsx("span",{children:"Admin controls unavailable - viewing public drop rate data only"})]})})}),g&&a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(ku,{className:"w-4 h-4 text-amber-500"}),"DFK Hunts"]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-dfk-total",children:ur(a.dfk?.checkpoint?.total_completions||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"completions"})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Zl,{className:"w-4 h-4 text-blue-500"}),"Metis Patrols"]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-metis-total",children:ur(a.metis?.checkpoint?.total_completions||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"completions"})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(jc,{className:"w-4 h-4 text-green-500"}),"Total Encounters"]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-500","data-testid":"text-total-encounters",children:ur(A)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"indexed"})]})]}),n.jsxs(G,{children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(bx,{className:"w-4 h-4 text-purple-500"}),"Total Drops"]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-total-drops",children:ur(T)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"reward events"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx(eR,{chain:"dfk",chainStatus:a.dfk,liveProgress:a.liveProgress?.dfk,onStart:()=>j.mutate("dfk"),onStop:()=>C.mutate("dfk"),onRun:()=>y.mutate("dfk"),onReset:()=>E.mutate("dfk"),isStarting:j.isPending,isStopping:C.isPending,isRunning:y.isPending,isResetting:E.isPending}),n.jsx(eR,{chain:"metis",chainStatus:a.metis,liveProgress:a.liveProgress?.metis,onStart:()=>j.mutate("metis"),onStop:()=>C.mutate("metis"),onRun:()=>y.mutate("metis"),onReset:()=>E.mutate("metis"),isStarting:j.isPending,isStopping:C.isPending,isRunning:y.isPending,isResetting:E.isPending})]})]}),n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Activity Drop Rates"}),n.jsx(Ce,{children:"View indexed activities and their loot drop statistics"})]}),n.jsx(Q,{children:n.jsxs(ci,{value:t,onValueChange:k=>r(k),children:[n.jsxs(fs,{className:"mb-4",children:[n.jsxs(Ct,{value:"dfk","data-testid":"tab-hunts",children:[n.jsx(ku,{className:"w-4 h-4 mr-2"}),"Hunts (",b?.length||0,")"]}),n.jsxs(Ct,{value:"metis","data-testid":"tab-patrols",children:[n.jsx(Zl,{className:"w-4 h-4 mr-2"}),"Patrols (",w?.length||0,")"]})]}),n.jsx(Ot,{value:"dfk",children:n.jsx(tR,{activities:b||[],type:"hunt"})}),n.jsx(Ot,{value:"metis",children:n.jsx(tR,{activities:w||[],type:"patrol"})})]})})]})]})]})}function $h({status:e}){switch(e){case"success":return n.jsxs(U,{variant:"default",className:"bg-green-600","data-testid":"badge-status-success",children:[n.jsx(Tr,{className:"w-3 h-3 mr-1"})," Success"]});case"running":return n.jsxs(U,{variant:"secondary","data-testid":"badge-status-running",children:[n.jsx(Ee,{className:"w-3 h-3 mr-1 animate-spin"})," Running"]});case"failed":return n.jsxs(U,{variant:"destructive","data-testid":"badge-status-failed",children:[n.jsx(rr,{className:"w-3 h-3 mr-1"})," Failed"]});default:return n.jsxs(U,{variant:"outline","data-testid":"badge-status-unknown",children:[n.jsx(di,{className:"w-3 h-3 mr-1"})," ",e]})}}function pu(e){return e?new Date(e).toLocaleString():""}function nR(e,t){if(!t)return"";const r=new Date(e).getTime(),a=new Date(t).getTime(),s=Math.round((a-r)/1e3);return s<60?`${s}s`:`${Math.floor(s/60)}m ${s%60}s`}function z0e(){const{toast:e}=Zt(),[t,r]=p.useState(null),[a,s]=p.useState(!1),{data:l,isLoading:c}=ke({queryKey:["/api/admin/hedge/combat/sync/summary"],refetchInterval:1e4}),{data:d,isLoading:f}=ke({queryKey:["/api/admin/hedge/combat/sync/runs"],refetchInterval:1e4}),{data:m,isLoading:h}=ke({queryKey:["/api/admin/hedge/combat/sources"]}),{data:g,isLoading:v}=ke({queryKey:["/api/admin/hedge/combat/sync/runs",t],enabled:!!t}),b=Oe({mutationFn:async()=>(await De("POST","/api/admin/hedge/combat/refresh",{discover:!0,concurrency:3})).json(),onSuccess:()=>{e({title:"Sync started",description:"Combat codex sync is now running"}),_e.invalidateQueries({queryKey:["/api/admin/hedge/combat/sync"]})},onError:j=>{e({title:"Sync failed",description:j.message,variant:"destructive"})}}),w=Oe({mutationFn:async({url:j,enabled:C})=>(await De("PATCH","/api/admin/hedge/combat/sources",{url:j,enabled:C})).json(),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/hedge/combat/sources"]}),e({title:"Source updated"})},onError:j=>{e({title:"Failed to update source",description:j.message,variant:"destructive"})}}),y=l?.runningRun!==null||b.isPending;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Combat Sync Status"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage combat codex data ingestion from DFK Wiki"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qs,{href:"/admin/combat-classes",children:n.jsxs(re,{variant:"outline","data-testid":"button-view-classes",children:[n.jsx(kr,{className:"w-4 h-4 mr-2"}),"View Class Skills"]})}),n.jsxs(re,{onClick:()=>b.mutate(),disabled:y,"data-testid":"button-refresh-sync",children:[y?n.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),y?"Syncing...":"Run Sync"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Classes"}),n.jsx(T7,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:c?n.jsx(Me,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-class-count",children:l?.counts.classes??0})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Skills"}),n.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:c?n.jsx(Me,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-skill-count",children:l?.counts.skills??0})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Keywords"}),n.jsx(iw,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:c?n.jsx(Me,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-keyword-count",children:l?.counts.keywords??0})})]}),n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Last Sync"}),n.jsx(tt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Q,{children:c?n.jsx(Me,{className:"h-8 w-32"}):l?.lastRun?n.jsxs("div",{className:"space-y-1",children:[n.jsx($h,{status:l.lastRun.status}),n.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-last-sync",children:pu(l.lastRun.started_at)})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Never"})})]})]}),n.jsxs(ci,{defaultValue:"runs",className:"space-y-4",children:[n.jsxs(fs,{children:[n.jsxs(Ct,{value:"runs","data-testid":"tab-runs",children:[n.jsx(Ca,{className:"w-4 h-4 mr-2"})," Sync Runs"]}),n.jsxs(Ct,{value:"sources","data-testid":"tab-sources",children:[n.jsx(Aq,{className:"w-4 h-4 mr-2"})," Sources"]})]}),n.jsx(Ot,{value:"runs",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Sync Run History"}),n.jsx(Ce,{children:"Recent combat codex ingestion runs"})]}),n.jsx(Q,{children:f?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>n.jsx(Me,{className:"h-12 w-full"},j))}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"ID"}),n.jsx(q,{children:"Started"}),n.jsx(q,{children:"Duration"}),n.jsx(q,{children:"Status"}),n.jsx(q,{children:"URLs"}),n.jsx(q,{children:"Classes"}),n.jsx(q,{children:"Skills"}),n.jsx(q,{children:"Actions"})]})}),n.jsx(pt,{children:d?.results?.map(j=>n.jsxs(Te,{"data-testid":`row-sync-run-${j.id}`,children:[n.jsx(B,{className:"font-mono",children:j.id}),n.jsx(B,{className:"text-sm",children:pu(j.startedAt)}),n.jsx(B,{className:"text-sm",children:nR(j.startedAt,j.finishedAt)}),n.jsx(B,{children:n.jsx($h,{status:j.status})}),n.jsx(B,{children:j.discoveredUrls??""}),n.jsx(B,{children:j.classesIngested??""}),n.jsx(B,{children:j.skillsUpserted??""}),n.jsx(B,{children:n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{r(j.id),s(!0)},"data-testid":`button-view-run-${j.id}`,children:n.jsx(iq,{className:"w-4 h-4"})})})]},j.id))})]})})]})}),n.jsx(Ot,{value:"sources",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Combat Sources"}),n.jsx(Ce,{children:"URLs discovered and tracked for combat data ingestion"})]}),n.jsx(Q,{children:h?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>n.jsx(Me,{className:"h-12 w-full"},j))}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"URL"}),n.jsx(q,{children:"Type"}),n.jsx(q,{children:"Discovered"}),n.jsx(q,{children:"Last Fetched"}),n.jsx(q,{children:"Enabled"})]})}),n.jsx(pt,{children:m?.results?.map((j,C)=>n.jsxs(Te,{"data-testid":`row-source-${C}`,children:[n.jsx(B,{className:"max-w-xs truncate font-mono text-xs",children:j.url}),n.jsx(B,{children:n.jsx(U,{variant:"outline",children:j.kind})}),n.jsx(B,{className:"text-sm",children:pu(j.discoveredAt)}),n.jsx(B,{className:"text-sm",children:pu(j.lastFetchedAt)}),n.jsx(B,{children:n.jsx(Qr,{checked:j.enabled,onCheckedChange:E=>w.mutate({url:j.url,enabled:E}),disabled:w.isPending,"data-testid":`switch-source-enabled-${C}`})})]},j.url))})]})})]})})]}),n.jsx(Ys,{open:a,onOpenChange:s,children:n.jsxs(ss,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(is,{children:[n.jsxs(ls,{children:["Sync Run #",t]}),n.jsx(os,{children:"Detailed breakdown of items processed during this sync run"})]}),v?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>n.jsx(Me,{className:"h-8 w-full"},j))}):g?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",n.jsx($h,{status:g.run.status})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Started:"})," ",pu(g.run.startedAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Duration:"})," ",nR(g.run.startedAt,g.run.finishedAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"URLs Discovered:"})," ",g.run.discoveredUrls??""]})]}),g.run.error&&n.jsxs("div",{className:"p-3 bg-destructive/10 rounded-md text-destructive text-sm",children:[n.jsx("strong",{children:"Error:"})," ",g.run.error]}),g.items.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2",children:["Processed Items (",g.items.length,")"]}),n.jsx("div",{className:"max-h-64 overflow-y-auto border rounded-md",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Type"}),n.jsx(q,{children:"Key"}),n.jsx(q,{children:"Status"}),n.jsx(q,{children:"Error"})]})}),n.jsx(pt,{children:g.items.map(j=>n.jsxs(Te,{children:[n.jsx(B,{children:n.jsx(U,{variant:"outline",className:"text-xs",children:j.itemType})}),n.jsx(B,{className:"font-mono text-xs max-w-xs truncate",children:j.itemKey}),n.jsx(B,{children:n.jsx($h,{status:j.status})}),n.jsx(B,{className:"text-xs text-destructive max-w-xs truncate",children:j.error||""})]},j.id))})]})})]})]}):null]})})]})}function B0e(e){const t=U0e(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(q0e);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function U0e(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=K0e(s),d=V0e(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var H0e=Symbol("radix.slottable");function q0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===H0e}function V0e(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function K0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var W0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kz=W0e.reduce((e,t)=>{const r=B0e(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function G0e(e){const t=Y0e(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(X0e);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Y0e(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=J0e(s),d=Z0e(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Q0e=Symbol("radix.slottable");function X0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Q0e}function Z0e(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function J0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],KS=eje.reduce((e,t)=>{const r=G0e(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Lg="Collapsible",[tje,Wz]=gr(Lg),[nje,WS]=tje(Lg),Gz=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:l,onOpenChange:c,...d}=e,[f,m]=ta({prop:a,defaultProp:s??!1,onChange:c,caller:Lg});return n.jsx(nje,{scope:r,disabled:l,contentId:Ba(),open:f,onOpenToggle:p.useCallback(()=>m(h=>!h),[m]),children:n.jsx(KS.div,{"data-state":YS(f),"data-disabled":l?"":void 0,...d,ref:t})})});Gz.displayName=Lg;var Yz="CollapsibleTrigger",Qz=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...a}=e,s=WS(Yz,r);return n.jsx(KS.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":YS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:ze(e.onClick,s.onOpenToggle)})});Qz.displayName=Yz;var GS="CollapsibleContent",Xz=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=WS(GS,e.__scopeCollapsible);return n.jsx(aa,{present:r||s.open,children:({present:l})=>n.jsx(rje,{...a,ref:t,present:l})})});Xz.displayName=GS;var rje=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:a,children:s,...l}=e,c=WS(GS,r),[d,f]=p.useState(a),m=p.useRef(null),h=it(t,m),g=p.useRef(0),v=g.current,b=p.useRef(0),w=b.current,y=c.open||d,j=p.useRef(y),C=p.useRef(void 0);return p.useEffect(()=>{const E=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(E)},[]),un(()=>{const E=m.current;if(E){C.current=C.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const A=E.getBoundingClientRect();g.current=A.height,b.current=A.width,j.current||(E.style.transitionDuration=C.current.transitionDuration,E.style.animationName=C.current.animationName),f(a)}},[c.open,a]),n.jsx(KS.div,{"data-state":YS(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!y,...l,ref:h,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&s})});function YS(e){return e?"open":"closed"}var aje=Gz,sje=Qz,ije=Xz,Ya="Accordion",lje=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[QS,oje,cje]=rf(Ya),[Ig]=gr(Ya,[cje,Wz]),XS=Wz(),Zz=gn.forwardRef((e,t)=>{const{type:r,...a}=e,s=a,l=a;return n.jsx(QS.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(mje,{...l,ref:t}):n.jsx(fje,{...s,ref:t})})});Zz.displayName=Ya;var[Jz,dje]=Ig(Ya),[eB,uje]=Ig(Ya,{collapsible:!1}),fje=gn.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},collapsible:l=!1,...c}=e,[d,f]=ta({prop:r,defaultProp:a??"",onChange:s,caller:Ya});return n.jsx(Jz,{scope:e.__scopeAccordion,value:gn.useMemo(()=>d?[d]:[],[d]),onItemOpen:f,onItemClose:gn.useCallback(()=>l&&f(""),[l,f]),children:n.jsx(eB,{scope:e.__scopeAccordion,collapsible:l,children:n.jsx(tB,{...c,ref:t})})})}),mje=gn.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},...l}=e,[c,d]=ta({prop:r,defaultProp:a??[],onChange:s,caller:Ya}),f=gn.useCallback(h=>d((g=[])=>[...g,h]),[d]),m=gn.useCallback(h=>d((g=[])=>g.filter(v=>v!==h)),[d]);return n.jsx(Jz,{scope:e.__scopeAccordion,value:c,onItemOpen:f,onItemClose:m,children:n.jsx(eB,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(tB,{...l,ref:t})})})}),[hje,$g]=Ig(Ya),tB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:a,dir:s,orientation:l="vertical",...c}=e,d=gn.useRef(null),f=it(d,t),m=oje(r),g=Jc(s)==="ltr",v=ze(e.onKeyDown,b=>{if(!lje.includes(b.key))return;const w=b.target,y=m().filter(M=>!M.ref.current?.disabled),j=y.findIndex(M=>M.ref.current===w),C=y.length;if(j===-1)return;b.preventDefault();let E=j;const A=0,T=C-1,k=()=>{E=j+1,E>T&&(E=A)},P=()=>{E=j-1,E<A&&(E=T)};switch(b.key){case"Home":E=A;break;case"End":E=T;break;case"ArrowRight":l==="horizontal"&&(g?k():P());break;case"ArrowDown":l==="vertical"&&k();break;case"ArrowLeft":l==="horizontal"&&(g?P():k());break;case"ArrowUp":l==="vertical"&&P();break}const _=E%C;y[_].ref.current?.focus()});return n.jsx(hje,{scope:r,disabled:a,direction:s,orientation:l,children:n.jsx(QS.Slot,{scope:r,children:n.jsx(Kz.div,{...c,"data-orientation":l,ref:f,onKeyDown:a?void 0:v})})})}),xx="AccordionItem",[pje,ZS]=Ig(xx),nB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,value:a,...s}=e,l=$g(xx,r),c=dje(xx,r),d=XS(r),f=Ba(),m=a&&c.value.includes(a)||!1,h=l.disabled||e.disabled;return n.jsx(pje,{scope:r,open:m,disabled:h,triggerId:f,children:n.jsx(aje,{"data-orientation":l.orientation,"data-state":oB(m),...d,...s,ref:t,disabled:h,open:m,onOpenChange:g=>{g?c.onItemOpen(a):c.onItemClose(a)}})})});nB.displayName=xx;var rB="AccordionHeader",aB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=$g(Ya,r),l=ZS(rB,r);return n.jsx(Kz.h3,{"data-orientation":s.orientation,"data-state":oB(l.open),"data-disabled":l.disabled?"":void 0,...a,ref:t})});aB.displayName=rB;var qN="AccordionTrigger",sB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=$g(Ya,r),l=ZS(qN,r),c=uje(qN,r),d=XS(r);return n.jsx(QS.ItemSlot,{scope:r,children:n.jsx(sje,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":s.orientation,id:l.triggerId,...d,...a,ref:t})})});sB.displayName=qN;var iB="AccordionContent",lB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=$g(Ya,r),l=ZS(iB,r),c=XS(r);return n.jsx(ije,{role:"region","aria-labelledby":l.triggerId,"data-orientation":s.orientation,...c,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});lB.displayName=iB;function oB(e){return e?"open":"closed"}var xje=Zz,gje=nB,vje=aB,cB=sB,dB=lB;const yje=xje,uB=p.forwardRef(({className:e,...t},r)=>n.jsx(gje,{ref:r,className:Le("border-b",e),...t}));uB.displayName="AccordionItem";const fB=p.forwardRef(({className:e,children:t,...r},a)=>n.jsx(vje,{className:"flex",children:n.jsxs(cB,{ref:a,className:Le("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Wc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));fB.displayName=cB.displayName;const mB=p.forwardRef(({className:e,children:t,...r},a)=>n.jsx(dB,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:Le("pb-4 pt-0",e),children:t})}));mB.displayName=dB.displayName;function jje({maturity:e}){switch(e){case"revised_through_tier_5":return n.jsx(U,{variant:"default",className:"bg-green-600","data-testid":"badge-maturity-revised",children:"Revised T1-5"});case"pre_alpha":return n.jsx(U,{variant:"secondary","data-testid":"badge-maturity-prealpha",children:"Pre-Alpha"});default:return n.jsx(U,{variant:"outline","data-testid":"badge-maturity-other",children:e})}}function bje({tier:e}){const t=["bg-gray-500","bg-green-600","bg-blue-600","bg-purple-600","bg-orange-600","bg-red-600"];return n.jsxs(U,{className:t[Math.min(e,5)],"data-testid":`badge-tier-${e}`,children:["T",e]})}function Nje({skills:e,className:t}){const[r,a]=p.useState(null),s=Array.from(new Set(e.map(d=>d.tier))).sort((d,f)=>d-f),l=Array.from(new Set(e.map(d=>d.discipline).filter(Boolean))),c=r!==null?e.filter(d=>d.tier===r):e;return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Filter by tier:"}),n.jsxs(re,{variant:r===null?"default":"outline",size:"sm",onClick:()=>a(null),"data-testid":`button-filter-all-${t}`,children:["All (",e.length,")"]}),s.map(d=>n.jsxs(re,{variant:r===d?"default":"outline",size:"sm",onClick:()=>a(d),"data-testid":`button-filter-tier-${d}-${t}`,children:["T",d," (",e.filter(f=>f.tier===d).length,")"]},d))]}),l.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:"Disciplines:"}),l.map(d=>n.jsx(U,{variant:"outline",className:"text-xs","data-testid":`badge-discipline-${d}`,children:d},d))]}),n.jsx("div",{className:"rounded-md border max-h-[400px] overflow-auto",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-[60px]",children:"Tier"}),n.jsx(q,{children:"Ability"}),n.jsx(q,{children:"Discipline"}),n.jsx(q,{className:"w-[60px]",children:"Range"}),n.jsx(q,{className:"w-[60px]",children:"Mana"})]})}),n.jsx(pt,{children:c.map((d,f)=>n.jsxs(Te,{"data-testid":`row-skill-${d.ability}`,children:[n.jsx(B,{children:n.jsx(bje,{tier:d.tier})}),n.jsx(B,{className:"font-medium",children:d.ability}),n.jsx(B,{className:"text-muted-foreground",children:d.discipline||"-"}),n.jsx(B,{children:d.range??"-"}),n.jsx(B,{children:d.manaCost?parseFloat(d.manaCost).toFixed(0):"-"})]},`${d.ability}-${f}`))})]})})]})}function wje(){const{toast:e}=Zt(),[t,r]=p.useState(""),{data:a,isLoading:s,error:l}=ke({queryKey:["/api/admin/hedge/combat/classes-summary"]}),c=Oe({mutationFn:async({className:g,validated:v})=>(await De("PATCH",`/api/admin/hedge/combat/classes/${encodeURIComponent(g)}/validate`,{validated:v})).json(),onSuccess:(g,v)=>{_e.invalidateQueries({queryKey:["/api/admin/hedge/combat/classes-summary"]}),e({title:v.validated?"Class validated":"Validation removed",description:`${v.className} is now ${v.validated?"available":"hidden"} to Hedge NPC`})},onError:g=>{e({title:"Failed to update validation",description:g.message,variant:"destructive"})}}),d=a?.classes||[],f=t?d.filter(g=>g.class.toLowerCase().includes(t.toLowerCase())||g.skills.some(v=>v.ability.toLowerCase().includes(t.toLowerCase()))):d,m=d.reduce((g,v)=>g+v.skillCount,0),h=d.filter(g=>g.validated).length;return n.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(kr,{className:"w-8 h-8"}),"Combat Class Summary"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Overview of all hero classes and their combat skills"})]}),n.jsx(Qs,{href:"/admin/hedge/combat-sync",children:n.jsx(re,{variant:"outline","data-testid":"button-back-to-sync",children:"Back to Combat Sync"})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(G,{"data-testid":"card-total-classes",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Classes"}),n.jsx(Zl,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Me,{className:"h-8 w-16"}):d.length})})]}),n.jsxs(G,{"data-testid":"card-total-skills",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Skills"}),n.jsx(Wn,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Me,{className:"h-8 w-16"}):m})})]}),n.jsxs(G,{"data-testid":"card-revised-classes",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Revised Classes"}),n.jsx(kr,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Me,{className:"h-8 w-16"}):d.filter(g=>g.maturity==="revised_through_tier_5").length})})]}),n.jsxs(G,{"data-testid":"card-validated-classes",children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Validated for Hedge"}),n.jsx(Tr,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(Q,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Me,{className:"h-8 w-16"}):n.jsx("span",{className:h>0?"text-green-600":"",children:h})})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zs,{className:"w-4 h-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Search classes or skills...",value:t,onChange:g=>r(g.target.value),className:"max-w-sm","data-testid":"input-search"})]}),s&&n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(Me,{className:"h-6 w-32"}),n.jsx(Me,{className:"h-4 w-48"})]}),n.jsx(Q,{children:n.jsx(Me,{className:"h-24 w-full"})})]},g))}),l&&n.jsx(G,{className:"border-destructive",children:n.jsx(Q,{className:"pt-6",children:n.jsxs("p",{className:"text-destructive",children:["Failed to load combat classes: ",l.message]})})}),!s&&!l&&n.jsx(yje,{type:"multiple",className:"space-y-4",children:f.map(g=>n.jsxs(uB,{value:g.class,className:"border rounded-lg px-4","data-testid":`accordion-class-${g.class}`,children:[n.jsx(fB,{className:"hover:no-underline py-4",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-left",children:[n.jsx("span",{className:"font-bold text-lg",children:g.class}),n.jsx(jje,{maturity:g.maturity}),g.validated&&n.jsxs(U,{variant:"default",className:"bg-green-600","data-testid":`badge-validated-${g.class}`,children:[n.jsx(Tr,{className:"w-3 h-3 mr-1"}),"Validated"]}),n.jsxs(U,{variant:"outline","data-testid":`badge-skill-count-${g.class}`,children:[g.skillCount," skills"]}),g.disciplines.length>0&&g.disciplines.map(v=>n.jsx(U,{variant:"secondary",className:"text-xs",children:v},v))]})}),n.jsx(mB,{className:"pb-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("a",{href:g.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline flex items-center gap-1","data-testid":`link-source-${g.class}`,children:[n.jsx(nr,{className:"w-3 h-3"}),"View Official Documentation"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{id:`validate-${g.class}`,checked:g.validated,onCheckedChange:v=>c.mutate({className:g.class,validated:v}),disabled:c.isPending,"data-testid":`switch-validate-${g.class}`}),n.jsx(Ae,{htmlFor:`validate-${g.class}`,className:"text-sm",children:g.validated?"Validated for Hedge NPC":"Mark as validated"})]})]}),g.lastUpdateNote&&n.jsxs("p",{className:"text-sm text-muted-foreground border-l-2 pl-3",children:[g.lastUpdateNote.substring(0,200),"..."]}),n.jsx(Nje,{skills:g.skills,className:g.class})]})})]},g.class))})]})}function rR(e){return e?new Date(e).toLocaleString():""}function db({tierId:e}){switch(e){case"premium_plus":return n.jsx(Xs,{className:"w-4 h-4 text-yellow-500"});case"premium":return n.jsx(iM,{className:"w-4 h-4 text-blue-500"});default:return n.jsx(Zl,{className:"w-4 h-4 text-muted-foreground"})}}function Sje(){const{toast:e}=Zt(),[t,r]=p.useState(null),[a,s]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState({domain:"combat",resource:"skills",tier_id:"free",mode:"allowlist",rule:"[]"}),[m,h]=p.useState(!1),[g,v]=p.useState({domain:"combat",resource:"skills",tier_id:"free",sample:"{}"}),[b,w]=p.useState(null),{data:y,isLoading:j}=ke({queryKey:["/api/admin/hedge/entitlements/tiers"]}),{data:C,isLoading:E}=ke({queryKey:["/api/admin/hedge/entitlements/rules"]}),{data:A}=ke({queryKey:["/api/admin/hedge/schema/combat/skills"]}),T=Oe({mutationFn:async R=>(await De("PATCH",`/api/admin/hedge/entitlements/tiers/${R.tierId}`,R.patch)).json(),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/hedge/entitlements/tiers"]}),s(!1),r(null),e({title:"Tier updated successfully"})},onError:R=>{e({title:"Failed to update tier",description:R.message,variant:"destructive"})}}),k=Oe({mutationFn:async R=>(await De("PUT","/api/admin/hedge/entitlements/rules",R)).json(),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/hedge/entitlements/rules"]}),c(!1),e({title:"Rule saved successfully"})},onError:R=>{e({title:"Failed to save rule",description:R.message,variant:"destructive"})}}),P=Oe({mutationFn:async R=>(await De("POST","/api/admin/hedge/entitlements/preview",R)).json(),onSuccess:R=>{w(R)},onError:R=>{e({title:"Preview failed",description:R.message,variant:"destructive"})}}),_=()=>{t&&T.mutate({tierId:t.tier_id,patch:{display_name:t.display_name,description:t.description,price_monthly:t.price_monthly,enabled:t.enabled,sort_order:t.sort_order}})},M=()=>{try{const R=JSON.parse(d.rule);k.mutate({domain:d.domain,resource:d.resource,tier_id:d.tier_id,mode:d.mode,rule:R})}catch{e({title:"Invalid JSON",description:"Rule must be valid JSON",variant:"destructive"})}},X=()=>{try{const R=JSON.parse(g.sample);P.mutate({domain:g.domain,resource:g.resource,tier_id:g.tier_id,sample:R})}catch{e({title:"Invalid JSON",description:"Sample must be valid JSON",variant:"destructive"})}},I=R=>{f(R?{domain:R.domain,resource:R.resource,tier_id:R.tier_id,mode:R.mode,rule:JSON.stringify(R.rule,null,2)}:{domain:"combat",resource:"skills",tier_id:"free",mode:"allowlist",rule:"[]"}),c(!0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Plans & Access"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage subscription tiers and entitlement rules"})]}),n.jsxs(re,{variant:"outline",onClick:()=>h(!0),"data-testid":"button-preview",children:[n.jsx(Nc,{className:"w-4 h-4 mr-2"})," Preview Entitlements"]})]}),n.jsxs(ci,{defaultValue:"tiers",className:"space-y-4",children:[n.jsxs(fs,{children:[n.jsxs(Ct,{value:"tiers","data-testid":"tab-tiers",children:[n.jsx(Xs,{className:"w-4 h-4 mr-2"})," Tiers"]}),n.jsxs(Ct,{value:"rules","data-testid":"tab-rules",children:[n.jsx(Zl,{className:"w-4 h-4 mr-2"})," Rules"]}),n.jsxs(Ct,{value:"schema","data-testid":"tab-schema",children:[n.jsx(iM,{className:"w-4 h-4 mr-2"})," Schema"]})]}),n.jsx(Ot,{value:"tiers",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Subscription Tiers"}),n.jsx(Ce,{children:"Configure available subscription plans and their features"})]}),n.jsx(Q,{children:j?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>n.jsx(Me,{className:"h-12 w-full"},R))}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Tier"}),n.jsx(q,{children:"Display Name"}),n.jsx(q,{children:"Price (Monthly)"}),n.jsx(q,{children:"Status"}),n.jsx(q,{children:"Order"}),n.jsx(q,{children:"Updated"}),n.jsx(q,{children:"Actions"})]})}),n.jsx(pt,{children:y?.results?.map(R=>n.jsxs(Te,{"data-testid":`row-tier-${R.tier_id}`,children:[n.jsxs(B,{className:"flex items-center gap-2",children:[n.jsx(db,{tierId:R.tier_id}),n.jsx("span",{className:"font-mono text-sm",children:R.tier_id})]}),n.jsx(B,{children:R.display_name}),n.jsx(B,{children:R.price_monthly?`$${R.price_monthly}/mo`:"Free"}),n.jsx(B,{children:n.jsx(U,{variant:R.enabled?"default":"secondary",children:R.enabled?"Active":"Disabled"})}),n.jsx(B,{children:R.sort_order}),n.jsx(B,{className:"text-sm",children:rR(R.updated_at)}),n.jsx(B,{children:n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{r({...R}),s(!0)},"data-testid":`button-edit-tier-${R.tier_id}`,children:n.jsx(el,{className:"w-4 h-4"})})})]},R.tier_id))})]})})]})}),n.jsx(Ot,{value:"rules",children:n.jsxs(G,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Entitlement Rules"}),n.jsx(Ce,{children:"Define what each tier can access"})]}),n.jsxs(re,{onClick:()=>I(),"data-testid":"button-add-rule",children:[n.jsx(Ji,{className:"w-4 h-4 mr-2"})," Add Rule"]})]}),n.jsx(Q,{children:E?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>n.jsx(Me,{className:"h-12 w-full"},R))}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Domain"}),n.jsx(q,{children:"Resource"}),n.jsx(q,{children:"Tier"}),n.jsx(q,{children:"Mode"}),n.jsx(q,{children:"Rule"}),n.jsx(q,{children:"Updated"}),n.jsx(q,{children:"Actions"})]})}),n.jsx(pt,{children:C?.results?.map(R=>n.jsxs(Te,{"data-testid":`row-rule-${R.id}`,children:[n.jsx(B,{children:n.jsx(U,{variant:"outline",children:R.domain})}),n.jsx(B,{children:n.jsx(U,{variant:"outline",children:R.resource})}),n.jsxs(B,{className:"flex items-center gap-2",children:[n.jsx(db,{tierId:R.tier_id}),n.jsx("span",{className:"text-sm",children:R.tier_id})]}),n.jsx(B,{children:n.jsx(U,{variant:"secondary",children:R.mode})}),n.jsx(B,{className:"font-mono text-xs max-w-xs truncate",children:JSON.stringify(R.rule)}),n.jsx(B,{className:"text-sm",children:rR(R.updated_at)}),n.jsx(B,{children:n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>I(R),"data-testid":`button-edit-rule-${R.id}`,children:n.jsx(el,{className:"w-4 h-4"})})})]},R.id))})]})})]})}),n.jsx(Ot,{value:"schema",children:n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(ie,{children:"Combat Skill Fields"}),n.jsx(Ce,{children:"Available fields for allowlist configuration"})]}),n.jsx(Q,{children:A?.fields?n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{children:"Field"}),n.jsx(q,{children:"Type"}),n.jsx(q,{children:"Description"})]})}),n.jsx(pt,{children:A.fields.map(R=>n.jsxs(Te,{"data-testid":`row-field-${R.name}`,children:[n.jsx(B,{className:"font-mono text-sm",children:R.name}),n.jsx(B,{children:n.jsx(U,{variant:"outline",children:R.type})}),n.jsx(B,{className:"text-sm text-muted-foreground",children:R.description})]},R.name))})]}):n.jsx("p",{className:"text-muted-foreground",children:"No schema data available"})})]})})]}),n.jsx(Ys,{open:a,onOpenChange:s,children:n.jsxs(ss,{children:[n.jsxs(is,{children:[n.jsxs(ls,{children:["Edit Tier: ",t?.tier_id]}),n.jsx(os,{children:"Update tier display settings and pricing"})]}),t&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Display Name"}),n.jsx(Ke,{value:t.display_name,onChange:R=>r({...t,display_name:R.target.value}),"data-testid":"input-tier-display-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Description"}),n.jsx(Au,{value:t.description||"",onChange:R=>r({...t,description:R.target.value}),"data-testid":"input-tier-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Price (Monthly USD)"}),n.jsx(Ke,{type:"number",value:t.price_monthly||"",onChange:R=>r({...t,price_monthly:R.target.value||null}),placeholder:"0.00","data-testid":"input-tier-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Sort Order"}),n.jsx(Ke,{type:"number",value:t.sort_order,onChange:R=>r({...t,sort_order:parseInt(R.target.value)||0}),"data-testid":"input-tier-sort-order"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:t.enabled,onCheckedChange:R=>r({...t,enabled:R}),"data-testid":"switch-tier-enabled"}),n.jsx(Ae,{children:"Enabled"})]})]}),n.jsxs(cl,{children:[n.jsx(re,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(re,{onClick:_,disabled:T.isPending,"data-testid":"button-save-tier",children:[T.isPending?n.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(wb,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),n.jsx(Ys,{open:l,onOpenChange:c,children:n.jsxs(ss,{children:[n.jsxs(is,{children:[n.jsx(ls,{children:"Edit Entitlement Rule"}),n.jsx(os,{children:"Configure access rules for a specific tier"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Domain"}),n.jsxs(Ze,{value:d.domain,onValueChange:R=>f({...d,domain:R}),children:[n.jsx(Qe,{"data-testid":"select-rule-domain",children:n.jsx(Je,{})}),n.jsx(Xe,{children:n.jsx(se,{value:"combat",children:"combat"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Resource"}),n.jsxs(Ze,{value:d.resource,onValueChange:R=>f({...d,resource:R}),children:[n.jsx(Qe,{"data-testid":"select-rule-resource",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"skills",children:"skills"}),n.jsx(se,{value:"classes",children:"classes"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Tier"}),n.jsxs(Ze,{value:d.tier_id,onValueChange:R=>f({...d,tier_id:R}),children:[n.jsx(Qe,{"data-testid":"select-rule-tier",children:n.jsx(Je,{})}),n.jsx(Xe,{children:y?.results?.map(R=>n.jsx(se,{value:R.tier_id,children:R.display_name},R.tier_id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Mode"}),n.jsxs(Ze,{value:d.mode,onValueChange:R=>f({...d,mode:R}),children:[n.jsx(Qe,{"data-testid":"select-rule-mode",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"allowlist",children:"allowlist"}),n.jsx(se,{value:"flags",children:"flags"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Rule (JSON)"}),n.jsx(Au,{value:d.rule,onChange:R=>f({...d,rule:R.target.value}),className:"font-mono text-sm min-h-[120px]",placeholder:'["field1", "field2"] or {"featureFlag": true}',"data-testid":"input-rule-json"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"For allowlist mode: array of field names. For flags mode: object with boolean flags."})]})]}),n.jsxs(cl,{children:[n.jsx(re,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsxs(re,{onClick:M,disabled:k.isPending,"data-testid":"button-save-rule",children:[k.isPending?n.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(wb,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),n.jsx(Ys,{open:m,onOpenChange:h,children:n.jsxs(ss,{className:"max-w-2xl",children:[n.jsxs(is,{children:[n.jsx(ls,{children:"Preview Entitlements"}),n.jsx(os,{children:"Test how entitlements shape data for different tiers"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Domain"}),n.jsxs(Ze,{value:g.domain,onValueChange:R=>v({...g,domain:R}),children:[n.jsx(Qe,{"data-testid":"select-preview-domain",children:n.jsx(Je,{})}),n.jsx(Xe,{children:n.jsx(se,{value:"combat",children:"combat"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Resource"}),n.jsxs(Ze,{value:g.resource,onValueChange:R=>v({...g,resource:R}),children:[n.jsx(Qe,{"data-testid":"select-preview-resource",children:n.jsx(Je,{})}),n.jsxs(Xe,{children:[n.jsx(se,{value:"skills",children:"skills"}),n.jsx(se,{value:"classes",children:"classes"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Tier"}),n.jsxs(Ze,{value:g.tier_id,onValueChange:R=>v({...g,tier_id:R}),children:[n.jsx(Qe,{"data-testid":"select-preview-tier",children:n.jsx(Je,{})}),n.jsx(Xe,{children:y?.results?.map(R=>n.jsx(se,{value:R.tier_id,children:R.display_name},R.tier_id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Sample Object (JSON)"}),n.jsx(Au,{value:g.sample,onChange:R=>v({...g,sample:R.target.value}),className:"font-mono text-sm min-h-[100px]",placeholder:'{"id": 1, "name": "Test", "damage": 50}',"data-testid":"input-preview-sample"})]}),n.jsxs(re,{onClick:X,disabled:P.isPending,"data-testid":"button-run-preview",children:[P.isPending?n.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Nc,{className:"w-4 h-4 mr-2"}),"Preview"]}),b&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(db,{tierId:b.tier}),n.jsxs("span",{className:"font-medium",children:["Results for ",b.tier]})]}),Object.keys(b.features).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Feature Flags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(b.features).map(([R,V])=>n.jsxs(U,{variant:V?"default":"secondary",children:[V?n.jsx(Tr,{className:"w-3 h-3 mr-1"}):null,R]},R))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ae,{children:"Shaped Result"}),n.jsx("pre",{className:"p-3 bg-muted rounded-md text-sm font-mono overflow-auto max-h-[200px]","data-testid":"text-preview-result",children:JSON.stringify(b.result,null,2)})]})]})]})]})})]})}const Cje={0:"Guest",1:"Bronze",2:"Silver",3:"Gold",4:"Council"};function Eje(){const e=tU(),r=new URLSearchParams(e).get("userId"),{toast:a}=Zt(),[s,l]=p.useState("apr");p.useEffect(()=>{const w=typeof window<"u"?localStorage.getItem("lpViewMode"):null;(w==="tokens"||w==="apr")&&l(w)},[]),p.useEffect(()=>{typeof window<"u"&&localStorage.setItem("lpViewMode",s)},[s]);const{data:c,isLoading:d,error:f}=ke({queryKey:["/api/admin/users",r,"account"],queryFn:async()=>{const w=await fetch("/api/admin/users");if(!w.ok)throw console.error("Failed to fetch users:",w.status,w.statusText),new Error(`HTTP ${w.status}`);const y=await w.json(),j=Array.isArray(y?.users)?y.users:Array.isArray(y)?y:null;if(!j)throw console.error("Invalid API response format:",y),new Error("Invalid API response");const C=j.find(E=>E.discordId===r);if(!C)throw new Error("User not found");return C},enabled:!!r,retry:1}),{data:m,isLoading:h,error:g}=ke({queryKey:["/api/admin/lp-positions",c?.walletAddress],queryFn:async()=>{console.log(`[LP Fetch] Fetching LP positions for wallet: ${c.walletAddress}`);const w=await fetch(`/api/admin/lp-positions/${c.walletAddress}`,{credentials:"include"});if(console.log(`[LP Fetch] Response status: ${w.status}`),!w.ok){const j=await w.text();throw console.error("[LP Fetch] Error response:",j),new Error(`HTTP ${w.status}`)}const y=await w.json();return console.log(`[LP Fetch] Got ${y.positions?.length||0} positions, total value: ${y.totalValue}`),{positions:y.positions||[],totalValue:y.totalValue||"0.00"}},enabled:!!c?.walletAddress,retry:1,staleTime:6e4});g&&console.error("[LP Fetch] Query error:",g);const v=w=>{const y=Number(w);return Number.isFinite(y)?y.toFixed(2):"0.00"},b=w=>{navigator.clipboard.writeText(w),a({title:"Copied to clipboard"})};return r?d?n.jsx("div",{className:"min-h-screen bg-background p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx(Me,{className:"h-12 w-64"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Me,{className:"h-48"}),n.jsx(Me,{className:"h-48"}),n.jsx(Me,{className:"h-48"}),n.jsx(Me,{className:"h-48"})]})]})}):f||!c?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(G,{className:"w-full max-w-md",children:n.jsxs(Q,{className:"p-6 text-center",children:[n.jsx("p",{className:"text-red-500",children:"Failed to load account data"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"User may not exist or you may need to log in"})]})})}):n.jsx("div",{className:"min-h-screen bg-background","data-testid":"account-page",children:n.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold","data-testid":"account-title",children:[c.discordUsername,"'s Dashboard"]}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Hedge Ledger Account Overview"})]}),n.jsx(U,{className:"text-sm px-3 py-1","data-testid":"badge-tier",children:Cje[c.tier]||"Guest"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(G,{"data-testid":"card-profile",children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Lr,{className:"h-5 w-5"}),"Profile"]})}),n.jsxs(Q,{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discord"}),n.jsx("span",{className:"font-medium",children:c.discordUsername})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Archetype"}),n.jsx(U,{variant:"outline",children:c.archetype})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"State"}),n.jsx("span",{className:"font-medium",children:c.state})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Influence"}),n.jsx("span",{className:"font-medium",children:(c.influence||0).toLocaleString()})]})]})]}),n.jsxs(G,{"data-testid":"card-wallet",children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Gc,{className:"h-5 w-5"}),"Wallet"]})}),n.jsx(Q,{className:"space-y-3 text-sm",children:c.walletAddress?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Address"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("code",{className:"text-xs",children:[c.walletAddress.slice(0,6),"...",c.walletAddress.slice(-4)]}),n.jsx(re,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>b(c.walletAddress),"data-testid":"button-copy-wallet",children:n.jsx(op,{className:"h-3 w-3"})})]})]}),c.walletBalances&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.jewel).toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.crystal).toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"cJEWEL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.cJewel).toFixed(2)})]})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No wallet linked"})})]}),n.jsxs(G,{"data-testid":"card-portfolio",children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5"}),"DFK Portfolio"]})}),n.jsx(Q,{className:"space-y-3 text-sm",children:c.dfkSnapshot?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Heroes"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.heroCount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen0 Heroes"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.gen0Count})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"LP Positions"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.lpPositionsCount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total LP Value"}),n.jsxs("span",{className:"font-medium",children:["$",c.dfkSnapshot.totalLPValue?.toFixed(2)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Streak"}),n.jsxs("span",{className:"font-medium",children:[c.dfkSnapshot.questingStreakDays||0," days"]})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No portfolio data available"})})]}),n.jsxs(G,{"data-testid":"card-kpis",children:[n.jsx(ae,{className:"pb-2",children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"}),"Performance"]})}),n.jsx(Q,{className:"space-y-3 text-sm",children:c.kpis?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Engagement Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.engagementScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Financial Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.financialScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Retention Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.retentionScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Messages (7d)"}),n.jsx("span",{className:"font-medium",children:c.kpis.messagesLast7d||0})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No KPI data available"})})]})]}),n.jsxs(G,{"data-testid":"card-lp-positions",className:"mt-4",children:[n.jsxs(ae,{className:"pb-2 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Cq,{className:"h-5 w-5"}),"LP Positions (Garden Pools)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(re,{variant:s==="apr"?"default":"outline",size:"sm",onClick:()=>l("apr"),children:"APR %"}),n.jsx(re,{variant:s==="tokens"?"default":"outline",size:"sm",onClick:()=>l("tokens"),children:"Tokens / day"})]})]}),n.jsx(Q,{children:c.walletAddress?h?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Me,{className:"h-16 w-full"}),n.jsx(Me,{className:"h-16 w-full"})]}):m?.positions&&m.positions.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Total Value: ",n.jsxs("span",{className:"font-semibold text-foreground",children:["$",m.totalValue]})]}),n.jsx("div",{className:"space-y-3",children:m.positions.map(w=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2","data-testid":`lp-position-${w.pid}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:w.pairName}),n.jsxs(U,{variant:"outline",className:"text-xs",children:["PID ",w.pid]})]}),n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",w.userTVL]})]}),s==="apr"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total APR"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:w.poolData.totalAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Fee APR"}),n.jsx("div",{className:"font-medium",children:w.poolData.fee24hAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Harvesting APR"}),n.jsx("div",{className:"font-medium",children:w.poolData.harvesting24hAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Boost"}),n.jsx("div",{className:"font-medium",children:w.poolData.gardeningQuestAPR?.worst&&w.poolData.gardeningQuestAPR?.best?`${w.poolData.gardeningQuestAPR.worst} - ${w.poolData.gardeningQuestAPR.best}`:"N/A"})]})]}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL / day"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:v(w.poolData.daily?.jewel)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL / day"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:v(w.poolData.daily?.crystal)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Boost"}),n.jsx("div",{className:"font-medium",children:w.poolData.gardeningQuestAPR?.worst&&w.poolData.gardeningQuestAPR?.best?`${w.poolData.gardeningQuestAPR.worst} - ${w.poolData.gardeningQuestAPR.best}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Share"}),n.jsx("div",{className:"font-medium",children:w.shareOfPool})]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-1 border-t",children:[n.jsxs("span",{children:["Pool Share: ",w.shareOfPool]}),n.jsxs("span",{children:["Pool TVL: ",w.poolData.totalTVL]})]})]},w.pid))})]}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No LP positions found in garden pools"}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No wallet linked to fetch LP positions"})})]})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(G,{className:"w-full max-w-md",children:n.jsx(Q,{className:"p-6 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No user ID provided"})})})})}const Aje={heroes:Lr,hunting:ku,pvp:cp,summoning:uo,defi:_r,season:nw,overall:On},Pje={heroes:"Hero Progression",hunting:"Hunting & PvE",pvp:"PvP Competition",summoning:"Summoning Feats",defi:"DeFi Participation",season:"Seasonal",overall:"Overall"},Tje={summoner_of_legends:{label:"Legendary Summoner",color:"bg-purple-500/20 text-purple-300 border-purple-500/30"},mythmaker:{label:"Mythmaker",color:"bg-amber-500/20 text-amber-300 border-amber-500/30"},clucker_miracle:{label:"Miracle Hunter",color:"bg-red-500/20 text-red-300 border-red-500/30"},arena_victor:{label:"Arena Victor",color:"bg-blue-500/20 text-blue-300 border-blue-500/30"},lp_whale:{label:"LP Whale",color:"bg-green-500/20 text-green-300 border-green-500/30"}};function Oje({rank:e}){return e===1?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(Xs,{className:"h-5 w-5 text-yellow-400"}),n.jsx("span",{className:"font-bold text-yellow-400",children:"1st"})]}):e===2?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx($q,{className:"h-5 w-5 text-gray-300"}),n.jsx("span",{className:"font-bold text-gray-300",children:"2nd"})]}):e===3?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(Bh,{className:"h-5 w-5 text-orange-400"}),n.jsx("span",{className:"font-bold text-orange-400",children:"3rd"})]}):n.jsxs("span",{className:"text-muted-foreground","data-testid":`rank-badge-${e}`,children:["#",e]})}function kje({leaderboards:e,selectedKey:t,onSelect:r}){const a=e.reduce((s,l)=>(s[l.categoryKey]||(s[l.categoryKey]=[]),s[l.categoryKey].push(l),s),{});return n.jsxs("div",{className:"w-64 border-r bg-card/50 min-h-screen","data-testid":"leaderboard-sidebar",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zr,{className:"h-5 w-5 text-primary"}),n.jsx("h2",{className:"font-semibold text-lg",children:"Leaderboards"})]})}),n.jsx(Yi,{className:"h-[calc(100vh-80px)]",children:n.jsx("div",{className:"p-2",children:Object.entries(a).map(([s,l])=>{const c=Aje[s]||Zr;return n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[n.jsx(c,{className:"h-3 w-3"}),Pje[s]||s]}),l.map(d=>n.jsxs(re,{variant:t===d.key?"secondary":"ghost",className:"w-full justify-start text-left h-auto py-2 px-3",onClick:()=>r(d.key),"data-testid":`button-select-leaderboard-${d.key}`,children:[n.jsxs("div",{className:"flex flex-col items-start gap-0.5",children:[n.jsx("span",{className:"text-sm font-medium",children:d.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:d.timeWindow.replace("_"," ")})]}),n.jsx(lf,{className:"h-4 w-4 ml-auto opacity-50"})]},d.key))]},s)})})})]})}function _je({data:e,isLoading:t}){return t?n.jsx("div",{className:"space-y-3",children:[...Array(10)].map((r,a)=>n.jsx(Me,{className:"h-12 w-full"},a))}):e?e.entries.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[n.jsx(Zr,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"No entries yet"}),n.jsx("p",{className:"text-sm",children:"Rankings will appear after the next leaderboard run"})]}):n.jsxs(mt,{"data-testid":"leaderboard-table",children:[n.jsx(ht,{children:n.jsxs(Te,{children:[n.jsx(q,{className:"w-20",children:"Rank"}),n.jsx(q,{children:"Player"}),n.jsx(q,{className:"text-right",children:"Score"}),n.jsx(q,{children:"Badges"})]})}),n.jsx(pt,{children:e.entries.map(r=>n.jsxs(Te,{"data-testid":`leaderboard-row-${r.rank}`,children:[n.jsx(B,{children:n.jsx(Oje,{rank:r.rank})}),n.jsx(B,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium","data-testid":`player-name-${r.rank}`,children:r.displayName||r.walletPreview||"Anonymous"}),r.walletPreview&&r.displayName&&n.jsx("span",{className:"text-xs text-muted-foreground",children:r.walletPreview})]})}),n.jsx(B,{className:"text-right",children:n.jsx("span",{className:"font-bold text-lg","data-testid":`score-${r.rank}`,children:r.score.toLocaleString()})}),n.jsx(B,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:r.flags.map(a=>{const s=Tje[a];return s?n.jsx(U,{variant:"outline",className:`text-xs ${s.color}`,"data-testid":`badge-${a}-${r.rank}`,children:s.label},a):null})})})]},r.clusterId))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[n.jsx(Zr,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"Select a leaderboard to view rankings"})]})}function aR(){const[e,t]=nU("/leaderboards/:key"),[,r]=Ka(),a=t?.key||null,[s,l]=p.useState(a),{data:c,isLoading:d}=ke({queryKey:["/api/leaderboards"]}),{data:f,isLoading:m}=ke({queryKey:["/api/leaderboards",s],enabled:!!s});p.useEffect(()=>{a&&a!==s&&l(a)},[a,s]),p.useEffect(()=>{if(c&&c.length>0&&!s){const g=c[0].key;l(g),r(`/leaderboards/${g}`,{replace:!0})}},[c,s,r]);const h=g=>{l(g),r(`/leaderboards/${g}`)};return d?n.jsxs("div",{className:"flex h-screen",children:[n.jsxs("div",{className:"w-64 border-r p-4",children:[n.jsx(Me,{className:"h-8 w-32 mb-4"}),[...Array(6)].map((g,v)=>n.jsx(Me,{className:"h-10 w-full mb-2"},v))]}),n.jsxs("div",{className:"flex-1 p-6",children:[n.jsx(Me,{className:"h-8 w-48 mb-4"}),n.jsx(Me,{className:"h-96 w-full"})]})]}):n.jsxs("div",{className:"flex h-screen bg-background","data-testid":"leaderboards-page",children:[n.jsx(kje,{leaderboards:c||[],selectedKey:s,onSelect:h}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"p-6",children:[f&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"leaderboard-title",children:f.name}),n.jsx(U,{variant:"outline","data-testid":"time-window-badge",children:f.timeWindow.replace("_"," ")})]}),n.jsx("p",{className:"text-muted-foreground","data-testid":"leaderboard-description",children:f.description}),f.generatedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"generated-at",children:["Last updated: ",new Date(f.generatedAt).toLocaleString()]})]}),n.jsx(G,{children:n.jsx(Q,{className:"p-0",children:n.jsx(_je,{data:f||null,isLoading:m})})})]})})]})}const Rje={hero_progression:kr,economy_strategy:_r,profession_specialization:lM,ownership_collection:Xs,behavior_engagement:Lr,seasonal_events:nw,prestige_overall:sw,summoning_prestige:uo,overall:On},sR={BASIC:"bg-stone-500/20 text-stone-300 border-stone-500/30",ADVANCED:"bg-blue-500/20 text-blue-300 border-blue-500/30",ELITE:"bg-purple-500/20 text-purple-300 border-purple-500/30",EXALTED:"bg-amber-500/20 text-amber-300 border-amber-500/30",LEGENDARY:"bg-orange-500/20 text-orange-300 border-orange-500/30"};function Mje({challenge:e,progress:t}){const r=t?.value_180d??t?.currentValue??0,a=t?.founders_mark??t?.foundersMarkAchieved??!1,s=[...e.tiers].sort((f,m)=>f.sortOrder-m.sortOrder);s.find(f=>f.isPrestige)||s[s.length-1];const l=t?.tier_code_180d??t?.highestTierAchieved,c=s.find(f=>f.thresholdValue>r),d=c?Math.min(100,r/c.thresholdValue*100):100;return n.jsxs(G,{className:`hover-elevate transition-all ${a?"ring-2 ring-amber-500/50 shadow-amber-500/20 shadow-lg":""}`,"data-testid":`challenge-card-${e.key}`,children:[n.jsx(ae,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ie,{className:"text-base",children:e.name}),a&&n.jsx(Xs,{className:"w-4 h-4 text-amber-500","data-testid":`founders-mark-${e.key}`})]}),n.jsx(Ce,{className:"text-xs mt-1",children:e.description})]}),l&&n.jsx(U,{variant:"outline",className:`text-xs ${sR[l]||""}`,"data-testid":`tier-badge-${e.key}`,children:l})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Progress"}),n.jsxs("span",{className:"font-medium","data-testid":`progress-value-${e.key}`,children:[r.toLocaleString(),c&&n.jsxs("span",{className:"text-muted-foreground",children:[" ","/ ",c.thresholdValue.toLocaleString()]})]})]}),n.jsx(Ut,{value:d,className:"h-2"}),n.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:s.map(f=>{const m=l&&s.findIndex(h=>h.tierCode===l)>=s.findIndex(h=>h.tierCode===f.tierCode);return n.jsxs(U,{variant:"outline",className:`text-xs ${m?sR[f.tierCode]||"":"opacity-40"}`,"data-testid":`tier-indicator-${e.key}-${f.tierCode}`,children:[f.isPrestige&&n.jsx(Xs,{className:"w-3 h-3 mr-1"}),f.displayName||f.tierCode]},f.tierCode)})})]})})]})}function Dje({feat:e}){return n.jsxs(G,{className:`hover-elevate transition-all ${e.isUnlocked?"ring-1 ring-amber-500/30":"opacity-60"}`,"data-testid":`feat-card-${e.key}`,children:[n.jsx(ae,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[e.isUnlocked?n.jsx(Oq,{className:"w-5 h-5 text-amber-500"}):n.jsx(_q,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx(ie,{className:"text-base",children:e.name}),n.jsx(Ce,{className:"text-xs mt-1",children:e.description})]})]}),n.jsx(U,{variant:e.isUnlocked?"default":"outline",className:e.isUnlocked?"bg-amber-500/20 text-amber-300 border-amber-500/30":"","data-testid":`feat-status-${e.key}`,children:e.isUnlocked?"Unlocked":"Locked"})]})}),e.isUnlocked&&e.unlockedAt&&n.jsx(Q,{className:"pt-0",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Achieved: ",new Date(e.unlockedAt).toLocaleDateString()]})})]})}function iR(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>n.jsxs(G,{children:[n.jsxs(ae,{children:[n.jsx(Me,{className:"h-5 w-32"}),n.jsx(Me,{className:"h-4 w-48 mt-2"})]}),n.jsxs(Q,{children:[n.jsx(Me,{className:"h-2 w-full"}),n.jsxs("div",{className:"flex gap-1 mt-3",children:[n.jsx(Me,{className:"h-5 w-16"}),n.jsx(Me,{className:"h-5 w-16"}),n.jsx(Me,{className:"h-5 w-16"})]})]})]},e))})})}function Lje(){const[e,t]=p.useState("challenges"),{data:r,isLoading:a}=ke({queryKey:["/api/challenges",{type:"challenges"}],queryFn:async()=>{const d=await fetch("/api/challenges?type=challenges");if(!d.ok)throw new Error("Failed to fetch challenges");return d.json()}}),{data:s,isLoading:l}=ke({queryKey:["/api/feats"],queryFn:async()=>{const d=await fetch("/api/feats");if(!d.ok)throw new Error("Failed to fetch feats");return d.json()}}),{data:c}=ke({queryKey:["/api/challenges/progress/demo"],queryFn:async()=>{const d=await fetch("/api/challenges/progress/demo");if(!d.ok)throw new Error("Failed to fetch progress");return d.json()},retry:!1});return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen","data-testid":"challenges-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"page-title",children:[n.jsx(Zr,{className:"w-6 h-6 text-primary"}),"Challenges & Feats"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track your progress and unlock achievements"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[r&&n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"challenges-count",children:r.totalChallenges}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Challenges"})]}),s&&n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"feats-count",children:[s.unlockedCount,"/",s.totalFeats]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Feats Unlocked"})]})]})]}),n.jsxs(ci,{value:e,onValueChange:t,className:"space-y-4",children:[n.jsxs(fs,{children:[n.jsxs(Ct,{value:"challenges","data-testid":"tab-challenges",children:[n.jsx(On,{className:"w-4 h-4 mr-2"}),"Challenges"]}),n.jsxs(Ct,{value:"feats","data-testid":"tab-feats",children:[n.jsx(Bh,{className:"w-4 h-4 mr-2"}),"Feats"]})]}),n.jsxs(Ot,{value:"challenges",className:"space-y-6",children:[a?n.jsx(iR,{}):r?.categories.map(d=>{const f=Rje[d.key]||Zr;return n.jsxs("div",{className:"space-y-4","data-testid":`category-${d.key}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(f,{className:"w-5 h-5 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold",children:d.name}),n.jsx(U,{variant:"secondary",className:"text-xs",children:d.challenges.length})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d.description}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.challenges.map(m=>n.jsx(Mje,{challenge:m,progress:c?.progress[m.key]},m.key))})]},d.key)}),!a&&(!r?.categories||r.categories.length===0)&&n.jsx(G,{className:"text-center py-12",children:n.jsxs(Q,{children:[n.jsx(Zr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Challenges Yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Challenges will appear here once they're deployed."})]})})]}),n.jsx(Ot,{value:"feats",className:"space-y-6",children:l?n.jsx(iR,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Bh,{className:"w-5 h-5 text-amber-500"}),n.jsx("h2",{className:"text-lg font-semibold",children:"Lifetime Feats"}),n.jsxs(U,{variant:"secondary",className:"text-xs",children:[s?.unlockedCount||0,"/",s?.totalFeats||0," Unlocked"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Feats are permanent achievements that mark major accomplishments in your journey."}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s?.feats.map(d=>n.jsx(Dje,{feat:d},d.key))}),(!s?.feats||s.feats.length===0)&&n.jsx(G,{className:"text-center py-12",children:n.jsxs(Q,{children:[n.jsx(Bh,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Feats Available"}),n.jsx("p",{className:"text-muted-foreground",children:"Feats will appear here once they're deployed."})]})})]})})]}),n.jsx(G,{className:"bg-muted/30",children:n.jsx(Q,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Xs,{className:"w-4 h-4 text-amber-500"}),n.jsx("span",{className:"font-medium",children:"Founder's Mark:"}),n.jsx("span",{className:"text-muted-foreground",children:"Challenges with a golden border indicate you've achieved the top tier at some point. This is a permanent badge of honor, even if your current progress is lower."})]})})})]})}function Ije(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(G,{className:"w-full max-w-md mx-4",children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(rr,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function bt({children:e}){return n.jsx(RG,{requireAdmin:!0,children:n.jsx(ZG,{children:e})})}function $je(){return console.log("[Router] Current path:",window.location.pathname),n.jsxs(sU,{children:[n.jsx(ut,{path:"/admin/login",component:eY}),n.jsx(ut,{path:"/admin/users/:discordId/dashboard",children:e=>(console.log("[Route] Matched /admin/users/:discordId/dashboard, params:",e),n.jsx(bt,{children:n.jsx(lX,{})}))}),n.jsx(ut,{path:"/admin/users/:userId",children:e=>(console.log("[Route] Matched /admin/users/:userId, params:",e),n.jsx(bt,{children:n.jsx(VQ,{})}))}),n.jsx(ut,{path:"/admin/users",children:()=>(console.log("[Route] Matched /admin/users"),n.jsx(bt,{children:n.jsx(qQ,{})}))}),n.jsx(ut,{path:"/admin/expenses",children:()=>n.jsx(bt,{children:n.jsx(oX,{})})}),n.jsx(ut,{path:"/admin/settings",children:()=>n.jsx(bt,{children:n.jsx(uX,{})})}),n.jsx(ut,{path:"/admin/challenges/:id/edit",children:()=>n.jsx(bt,{children:n.jsx($4,{})})}),n.jsx(ut,{path:"/admin/challenges/:id",children:()=>n.jsx(bt,{children:n.jsx($4,{})})}),n.jsx(ut,{path:"/admin/challenges",children:()=>n.jsx(bt,{children:n.jsx(Lge,{})})}),n.jsx(ut,{path:"/admin/bridge",children:()=>n.jsx(bt,{children:n.jsx(cge,{})})}),n.jsx(ut,{path:"/admin/value-allocation",children:()=>n.jsx(bt,{children:n.jsx(dge,{})})}),n.jsx(ut,{path:"/admin/coverage-details",children:()=>n.jsx(bt,{children:n.jsx(fge,{})})}),n.jsx(ut,{path:"/admin/tokens",children:()=>n.jsx(bt,{children:n.jsx(kve,{})})}),n.jsx(ut,{path:"/admin/extractors",children:()=>n.jsx(bt,{children:n.jsx(Lve,{})})}),n.jsx(ut,{path:"/admin/pools/:pid",children:()=>n.jsx(bt,{children:n.jsx($ve,{})})}),n.jsx(ut,{path:"/admin/pools",children:()=>n.jsx(bt,{children:n.jsx(Ive,{})})}),n.jsx(ut,{path:"/admin/pool-indexer",children:()=>n.jsx(bt,{children:n.jsx(Vve,{})})}),n.jsx(ut,{path:"/admin/pool-indexer-v1",children:()=>n.jsx(bt,{children:n.jsx(Xve,{})})}),n.jsx(ut,{path:"/admin/pool-indexer-harmony",children:()=>n.jsx(bt,{children:n.jsx(tye,{})})}),n.jsx(ut,{path:"/admin/jeweler",children:()=>n.jsx(bt,{children:n.jsx(aye,{})})}),n.jsx(ut,{path:"/admin/gardening-quest",children:()=>n.jsx(bt,{children:n.jsx(wye,{})})}),n.jsx(ut,{path:"/admin/gardening-calc",children:()=>n.jsx(bt,{children:n.jsx(Qye,{})})}),n.jsx(ut,{path:"/admin/battle-ready",children:()=>n.jsx(bt,{children:n.jsx(e0e,{})})}),n.jsx(ut,{path:"/admin/summoning-calculator",children:()=>n.jsx(bt,{children:n.jsx(w0e,{})})}),n.jsx(ut,{path:"/admin/summon-sniper",children:()=>n.jsx(bt,{children:n.jsx(S0e,{})})}),n.jsx(ut,{path:"/admin/bargain-hunter",children:()=>n.jsx(bt,{children:n.jsx(C0e,{})})}),n.jsx(ut,{path:"/admin/dark-bargain-hunter",children:()=>n.jsx(bt,{children:n.jsx(E0e,{})})}),n.jsx(ut,{path:"/admin/tavern-indexer",children:()=>n.jsx(bt,{children:n.jsx(O0e,{})})}),n.jsx(ut,{path:"/admin/market-intel",children:()=>n.jsx(bt,{children:n.jsx(R0e,{})})}),n.jsx(ut,{path:"/admin/profit-tracker",children:()=>n.jsx(bt,{children:n.jsx(L0e,{})})}),n.jsx(ut,{path:"/admin/pve-droprates",children:()=>n.jsx(bt,{children:n.jsx(F0e,{})})}),n.jsx(ut,{path:"/admin/level-racer",children:()=>n.jsx(bt,{children:n.jsx(Ove,{})})}),n.jsx(ut,{path:"/admin/hedge/combat-sync",children:()=>n.jsx(bt,{children:n.jsx(z0e,{})})}),n.jsx(ut,{path:"/admin/combat-classes",children:()=>n.jsx(bt,{children:n.jsx(wje,{})})}),n.jsx(ut,{path:"/admin/hedge/plans",children:()=>n.jsx(bt,{children:n.jsx(Sje,{})})}),n.jsx(ut,{path:"/admin/account",children:()=>n.jsx(bt,{children:n.jsx(Eje,{})})}),n.jsx(ut,{path:"/admin",children:()=>(console.log("[Route] Matched /admin (dashboard)"),n.jsx(bt,{children:n.jsx(tY,{})}))}),n.jsx(ut,{path:"/leaderboards/:key",children:()=>n.jsx(aR,{})}),n.jsx(ut,{path:"/leaderboards",children:()=>n.jsx(aR,{})}),n.jsx(ut,{path:"/challenges",children:()=>n.jsx(Lje,{})}),n.jsx(ut,{path:"/",children:()=>(window.location.href="/admin",null)}),n.jsx(ut,{children:()=>(console.log("[Route] No match - showing 404"),n.jsx(Ije,{}))})]})}function Fje(){return n.jsx(OU,{client:_e,children:n.jsx(uD,{children:n.jsxs(_G,{children:[n.jsx(wK,{}),n.jsx($je,{})]})})})}L9.createRoot(document.getElementById("root")).render(n.jsx(Fje,{}));
