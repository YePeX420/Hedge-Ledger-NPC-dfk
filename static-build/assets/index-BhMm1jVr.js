function C9(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function fs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qy={exports:{}},au={};var WA;function E9(){if(WA)return au;WA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:l}}return au.Fragment=t,au.jsx=r,au.jsxs=r,au}var GA;function A9(){return GA||(GA=1,Qy.exports=E9()),Qy.exports}var n=A9(),Xy={exports:{}},su={},Zy={exports:{}},Jy={};var YA;function P9(){return YA||(YA=1,(function(e){function t(B,Z){var $=B.length;B.push(Z);e:for(;0<$;){var fe=$-1>>>1,pe=B[fe];if(0<s(pe,Z))B[fe]=Z,B[$]=pe,$=fe;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var Z=B[0],$=B.pop();if($!==Z){B[0]=$;e:for(var fe=0,pe=B.length,M=pe>>>1;fe<M;){var te=2*(fe+1)-1,me=B[te],Ne=te+1,le=B[Ne];if(0>s(me,$))Ne<pe&&0>s(le,me)?(B[fe]=le,B[Ne]=$,fe=Ne):(B[fe]=me,B[te]=$,fe=te);else if(Ne<pe&&0>s(le,$))B[fe]=le,B[Ne]=$,fe=Ne;else break e}}return Z}function s(B,Z){var $=B.sortIndex-Z.sortIndex;return $!==0?$:B.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,g=null,v=3,y=!1,w=!1,j=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var Z=r(m);Z!==null;){if(Z.callback===null)a(m);else if(Z.startTime<=B)a(m),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=r(m)}}function k(B){if(j=!1,P(B),!w)if(r(f)!==null)w=!0,T||(T=!0,K());else{var Z=r(m);Z!==null&&ee(k,Z.startTime-B)}}var T=!1,_=-1,L=5,X=-1;function I(){return N?!0:!(e.unstable_now()-X<L)}function R(){if(N=!1,T){var B=e.unstable_now();X=B;var Z=!0;try{e:{w=!1,j&&(j=!1,E(_),_=-1),y=!0;var $=v;try{t:{for(P(B),g=r(f);g!==null&&!(g.expirationTime>B&&I());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var pe=fe(g.expirationTime<=B);if(B=e.unstable_now(),typeof pe=="function"){g.callback=pe,P(B),Z=!0;break t}g===r(f)&&a(f),P(B)}else a(f);g=r(f)}if(g!==null)Z=!0;else{var M=r(m);M!==null&&ee(k,M.startTime-B),Z=!1}}break e}finally{g=null,v=$,y=!1}Z=void 0}}finally{Z?K():T=!1}}}var K;if(typeof A=="function")K=function(){A(R)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,W=ye.port2;ye.port1.onmessage=R,K=function(){W.postMessage(null)}}else K=function(){C(R,0)};function ee(B,Z){_=C(function(){B(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var $=v;v=Z;try{return B()}finally{v=$}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=v;v=B;try{return Z()}finally{v=$}},e.unstable_scheduleCallback=function(B,Z,$){var fe=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?fe+$:fe):$=fe,B){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=$+pe,B={id:h++,callback:Z,priorityLevel:B,startTime:$,expirationTime:pe,sortIndex:-1},$>fe?(B.sortIndex=$,t(m,B),r(f)===null&&B===r(m)&&(j?(E(_),_=-1):j=!0,ee(k,$-fe))):(B.sortIndex=pe,t(f,B),w||y||(w=!0,T||(T=!0,K()))),B},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(B){var Z=v;return function(){var $=v;v=Z;try{return B.apply(this,arguments)}finally{v=$}}}})(Jy)),Jy}var QA;function T9(){return QA||(QA=1,Zy.exports=P9()),Zy.exports}var e0={exports:{}},ot={};var XA;function O9(){if(XA)return ot;XA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function C(M,te,me){this.props=M,this.context=te,this.refs=N,this.updater=me||w}C.prototype.isReactComponent={},C.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=C.prototype;function A(M,te,me){this.props=M,this.context=te,this.refs=N,this.updater=me||w}var P=A.prototype=new E;P.constructor=A,j(P,C.prototype),P.isPureReactComponent=!0;var k=Array.isArray;function T(){}var _={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function X(M,te,me){var Ne=me.ref;return{$$typeof:e,type:M,key:te,ref:Ne!==void 0?Ne:null,props:me}}function I(M,te){return X(M.type,te,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function K(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return te[me]})}var ye=/\/+/g;function W(M,te){return typeof M=="object"&&M!==null&&M.key!=null?K(""+M.key):te.toString(36)}function ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(T,T):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function B(M,te,me,Ne,le){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var F=!1;if(M===null)F=!0;else switch(Ie){case"bigint":case"string":case"number":F=!0;break;case"object":switch(M.$$typeof){case e:case t:F=!0;break;case h:return F=M._init,B(F(M._payload),te,me,Ne,le)}}if(F)return le=le(M),F=Ne===""?"."+W(M,0):Ne,k(le)?(me="",F!=null&&(me=F.replace(ye,"$&/")+"/"),B(le,te,me,"",function(Oe){return Oe})):le!=null&&(R(le)&&(le=I(le,me+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(ye,"$&/")+"/")+F)),te.push(le)),1;F=0;var Te=Ne===""?".":Ne+":";if(k(M))for(var ae=0;ae<M.length;ae++)Ne=M[ae],Ie=Te+W(Ne,ae),F+=B(Ne,te,me,Ie,le);else if(ae=y(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(Ne=M.next()).done;)Ne=Ne.value,Ie=Te+W(Ne,ae++),F+=B(Ne,te,me,Ie,le);else if(Ie==="object"){if(typeof M.then=="function")return B(ee(M),te,me,Ne,le);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return F}function Z(M,te,me){if(M==null)return M;var Ne=[],le=0;return B(M,Ne,"","",function(Ie){return te.call(me,Ie,le++)}),Ne}function $(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var fe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},pe={map:Z,forEach:function(M,te,me){Z(M,function(){te.apply(this,arguments)},me)},count:function(M){var te=0;return Z(M,function(){te++}),te},toArray:function(M){return Z(M,function(te){return te})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ot.Activity=g,ot.Children=pe,ot.Component=C,ot.Fragment=r,ot.Profiler=s,ot.PureComponent=A,ot.StrictMode=a,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,ot.__COMPILER_RUNTIME={__proto__:null,c:function(M){return _.H.useMemoCache(M)}},ot.cache=function(M){return function(){return M.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(M,te,me){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Ne=j({},M.props),le=M.key;if(te!=null)for(Ie in te.key!==void 0&&(le=""+te.key),te)!L.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(Ne[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)Ne.children=me;else if(1<Ie){for(var F=Array(Ie),Te=0;Te<Ie;Te++)F[Te]=arguments[Te+2];Ne.children=F}return X(M.type,le,Ne)},ot.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},ot.createElement=function(M,te,me){var Ne,le={},Ie=null;if(te!=null)for(Ne in te.key!==void 0&&(Ie=""+te.key),te)L.call(te,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(le[Ne]=te[Ne]);var F=arguments.length-2;if(F===1)le.children=me;else if(1<F){for(var Te=Array(F),ae=0;ae<F;ae++)Te[ae]=arguments[ae+2];le.children=Te}if(M&&M.defaultProps)for(Ne in F=M.defaultProps,F)le[Ne]===void 0&&(le[Ne]=F[Ne]);return X(M,Ie,le)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(M){return{$$typeof:d,render:M}},ot.isValidElement=R,ot.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:$}},ot.memo=function(M,te){return{$$typeof:m,type:M,compare:te===void 0?null:te}},ot.startTransition=function(M){var te=_.T,me={};_.T=me;try{var Ne=M(),le=_.S;le!==null&&le(me,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(T,fe)}catch(Ie){fe(Ie)}finally{te!==null&&me.types!==null&&(te.types=me.types),_.T=te}},ot.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},ot.use=function(M){return _.H.use(M)},ot.useActionState=function(M,te,me){return _.H.useActionState(M,te,me)},ot.useCallback=function(M,te){return _.H.useCallback(M,te)},ot.useContext=function(M){return _.H.useContext(M)},ot.useDebugValue=function(){},ot.useDeferredValue=function(M,te){return _.H.useDeferredValue(M,te)},ot.useEffect=function(M,te){return _.H.useEffect(M,te)},ot.useEffectEvent=function(M){return _.H.useEffectEvent(M)},ot.useId=function(){return _.H.useId()},ot.useImperativeHandle=function(M,te,me){return _.H.useImperativeHandle(M,te,me)},ot.useInsertionEffect=function(M,te){return _.H.useInsertionEffect(M,te)},ot.useLayoutEffect=function(M,te){return _.H.useLayoutEffect(M,te)},ot.useMemo=function(M,te){return _.H.useMemo(M,te)},ot.useOptimistic=function(M,te){return _.H.useOptimistic(M,te)},ot.useReducer=function(M,te,me){return _.H.useReducer(M,te,me)},ot.useRef=function(M){return _.H.useRef(M)},ot.useState=function(M){return _.H.useState(M)},ot.useSyncExternalStore=function(M,te,me){return _.H.useSyncExternalStore(M,te,me)},ot.useTransition=function(){return _.H.useTransition()},ot.version="19.2.0",ot}var ZA;function qc(){return ZA||(ZA=1,e0.exports=O9()),e0.exports}var t0={exports:{}},sr={};var JA;function k9(){if(JA)return sr;JA=1;var e=qc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},sr.flushSync=function(f){var m=c.T,h=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=h,a.d.f()}},sr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},sr.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},sr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):h==="script"&&a.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},sr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin);a.d.L(f,h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},sr.requestFormReset=function(f){a.d.r(f)},sr.unstable_batchedUpdates=function(f,m){return f(m)},sr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},sr.useFormStatus=function(){return c.H.useHostTransitionStatus()},sr.version="19.2.0",sr}var eP;function s4(){if(eP)return t0.exports;eP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),t0.exports=k9(),t0.exports}var tP;function _9(){if(tP)return su;tP=1;var e=T9(),t=qc(),r=s4();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(a(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var u=i,x=o;;){var b=u.return;if(b===null)break;var S=b.alternate;if(S===null){if(x=b.return,x!==null){u=x;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===u)return f(b),i;if(S===x)return f(b),o;S=S.sibling}throw Error(a(188))}if(u.return!==x.return)u=b,x=S;else{for(var O=!1,D=b.child;D;){if(D===u){O=!0,u=b,x=S;break}if(D===x){O=!0,x=b,u=S;break}D=D.sibling}if(!O){for(D=S.child;D;){if(D===u){O=!0,u=S,x=b;break}if(D===x){O=!0,x=S,u=b;break}D=D.sibling}if(!O)throw Error(a(189))}}if(u.alternate!==x)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var ye=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ye?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case k:return"Suspense";case T:return"SuspenseList";case X:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case A:return i.displayName||"Context";case E:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _:return o=i.displayName||null,o!==null?o:W(i.type)||"Memo";case L:o=i._payload,i=i._init;try{return W(i(o))}catch{}}return null}var ee=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function M(i){return{current:i}}function te(i){0>pe||(i.current=fe[pe],fe[pe]=null,pe--)}function me(i,o){pe++,fe[pe]=i.current,i.current=o}var Ne=M(null),le=M(null),Ie=M(null),F=M(null);function Te(i,o){switch(me(Ie,o),me(le,i),me(Ne,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?xA(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=xA(o),i=gA(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(Ne),me(Ne,i)}function ae(){te(Ne),te(le),te(Ie)}function Oe(i){i.memoizedState!==null&&me(F,i);var o=Ne.current,u=gA(o,i.type);o!==u&&(me(le,i),me(Ne,u))}function $e(i){le.current===i&&(te(Ne),te(le)),F.current===i&&(te(F),eu._currentValue=$)}var xe,at;function Ye(i){if(xe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",at=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+i+at}var Lt=!1;function kt(i,o){if(!i||Lt)return"";Lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ge){var he=ge}Reflect.construct(i,[],we)}else{try{we.call()}catch(ge){he=ge}i.call(we.prototype)}}else{try{throw Error()}catch(ge){he=ge}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=x.DetermineComponentFrameRoot(),O=S[0],D=S[1];if(O&&D){var V=O.split(`
`),de=D.split(`
`);for(b=x=0;x<V.length&&!V[x].includes("DetermineComponentFrameRoot");)x++;for(;b<de.length&&!de[b].includes("DetermineComponentFrameRoot");)b++;if(x===V.length||b===de.length)for(x=V.length-1,b=de.length-1;1<=x&&0<=b&&V[x]!==de[b];)b--;for(;1<=x&&0<=b;x--,b--)if(V[x]!==de[b]){if(x!==1||b!==1)do if(x--,b--,0>b||V[x]!==de[b]){var je=`
`+V[x].replace(" at new "," at ");return i.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",i.displayName)),je}while(1<=x&&0<=b);break}}}finally{Lt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ye(u):""}function J(i,o){switch(i.tag){case 26:case 27:case 5:return Ye(i.type);case 16:return Ye("Lazy");case 13:return i.child!==o&&o!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return kt(i.type,!1);case 11:return kt(i.type.render,!1);case 1:return kt(i.type,!0);case 31:return Ye("Activity");default:return""}}function oe(i){try{var o="",u=null;do o+=J(i,u),u=i,i=i.return;while(i);return o}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Je=Object.prototype.hasOwnProperty,ct=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,yr=e.unstable_shouldYield,Nn=e.unstable_requestPaint,et=e.unstable_now,hl=e.unstable_getCurrentPriorityLevel,pl=e.unstable_ImmediatePriority,mn=e.unstable_UserBlockingPriority,po=e.unstable_NormalPriority,Uf=e.unstable_LowPriority,xl=e.unstable_IdlePriority,sa=e.log,Ig=e.unstable_setDisableYieldValue,gl=null,z=null;function Ze(i){if(typeof sa=="function"&&Ig(i),z&&typeof z.setStrictMode=="function")try{z.setStrictMode(gl,i)}catch{}}var st=Math.clz32?Math.clz32:Yn,_a=Math.log,vs=Math.LN2;function Yn(i){return i>>>=0,i===0?32:31-(_a(i)/vs|0)|0}var ia=256,Hf=262144,qf=4194304;function vl(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Vf(i,o,u){var x=i.pendingLanes;if(x===0)return 0;var b=0,S=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var D=x&134217727;return D!==0?(x=D&~S,x!==0?b=vl(x):(O&=D,O!==0?b=vl(O):u||(u=D&~i,u!==0&&(b=vl(u))))):(D=x&~S,D!==0?b=vl(D):O!==0?b=vl(O):u||(u=x&~i,u!==0&&(b=vl(u)))),b===0?0:o!==0&&o!==b&&(o&S)===0&&(S=b&-b,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:b}function md(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function fB(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XS(){var i=qf;return qf<<=1,(qf&62914560)===0&&(qf=4194304),i}function $g(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function hd(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mB(i,o,u,x,b,S){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var D=i.entanglements,V=i.expirationTimes,de=i.hiddenUpdates;for(u=O&~u;0<u;){var je=31-st(u),we=1<<je;D[je]=0,V[je]=-1;var he=de[je];if(he!==null)for(de[je]=null,je=0;je<he.length;je++){var ge=he[je];ge!==null&&(ge.lane&=-536870913)}u&=~we}x!==0&&ZS(i,x,0),S!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=S&~(O&~o))}function ZS(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var x=31-st(o);i.entangledLanes|=o,i.entanglements[x]=i.entanglements[x]|1073741824|u&261930}function JS(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var x=31-st(u),b=1<<x;b&o|i[x]&o&&(i[x]|=o),u&=~b}}function e2(i,o){var u=o&-o;return u=(u&42)!==0?1:Fg(u),(u&(i.suspendedLanes|o))!==0?0:u}function Fg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function zg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function t2(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:zA(i.type))}function n2(i,o){var u=Z.p;try{return Z.p=i,o()}finally{Z.p=u}}var pi=Math.random().toString(36).slice(2),Qn="__reactFiber$"+pi,jr="__reactProps$"+pi,xo="__reactContainer$"+pi,Bg="__reactEvents$"+pi,hB="__reactListeners$"+pi,pB="__reactHandles$"+pi,r2="__reactResources$"+pi,pd="__reactMarker$"+pi;function Ug(i){delete i[Qn],delete i[jr],delete i[Bg],delete i[hB],delete i[pB]}function go(i){var o=i[Qn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[xo]||u[Qn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=SA(i);i!==null;){if(u=i[Qn])return u;i=SA(i)}return o}i=u,u=i.parentNode}return null}function vo(i){if(i=i[Qn]||i[xo]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function xd(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function yo(i){var o=i[r2];return o||(o=i[r2]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Bn(i){i[pd]=!0}var a2=new Set,s2={};function yl(i,o){jo(i,o),jo(i+"Capture",o)}function jo(i,o){for(s2[i]=o,i=0;i<o.length;i++)a2.add(o[i])}var xB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),i2={},l2={};function gB(i){return Je.call(l2,i)?!0:Je.call(i2,i)?!1:xB.test(i)?l2[i]=!0:(i2[i]=!0,!1)}function Kf(i,o,u){if(gB(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Wf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function ys(i,o,u,x){if(x===null)i.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+x)}}function la(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function o2(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vB(i,o,u){var x=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var b=x.get,S=x.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(O){u=""+O,S.call(this,O)}}),Object.defineProperty(i,o,{enumerable:x.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Hg(i){if(!i._valueTracker){var o=o2(i)?"checked":"value";i._valueTracker=vB(i,o,""+i[o])}}function c2(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),x="";return i&&(x=o2(i)?i.checked?"true":"false":i.value),i=x,i!==u?(o.setValue(i),!0):!1}function Gf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var yB=/[\n"\\]/g;function oa(i){return i.replace(yB,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function qg(i,o,u,x,b,S,O,D){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+la(o)):i.value!==""+la(o)&&(i.value=""+la(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Vg(i,O,la(o)):u!=null?Vg(i,O,la(u)):x!=null&&i.removeAttribute("value"),b==null&&S!=null&&(i.defaultChecked=!!S),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+la(D):i.removeAttribute("name")}function d2(i,o,u,x,b,S,O,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Hg(i);return}u=u!=null?""+la(u):"",o=o!=null?""+la(o):u,D||o===i.value||(i.value=o),i.defaultValue=o}x=x??b,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=D?i.checked:!!x,i.defaultChecked=!!x,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Hg(i)}function Vg(i,o,u){o==="number"&&Gf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function bo(i,o,u,x){if(i=i.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=o.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&x&&(i[u].defaultSelected=!0)}else{for(u=""+la(u),o=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,x&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function u2(i,o,u){if(o!=null&&(o=""+la(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+la(u):""}function f2(i,o,u,x){if(o==null){if(x!=null){if(u!=null)throw Error(a(92));if(ee(x)){if(1<x.length)throw Error(a(93));x=x[0]}u=x}u==null&&(u=""),o=u}u=la(o),i.defaultValue=u,x=i.textContent,x===u&&x!==""&&x!==null&&(i.value=x),Hg(i)}function No(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var jB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m2(i,o,u){var x=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?x?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":x?i.setProperty(o,u):typeof u!="number"||u===0||jB.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function h2(i,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,u!=null){for(var x in u)!u.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var b in o)x=o[b],o.hasOwnProperty(b)&&u[b]!==x&&m2(i,b,x)}else for(var S in o)o.hasOwnProperty(S)&&m2(i,S,o[S])}function Kg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yf(i){return NB.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function js(){}var Wg=null;function Gg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wo=null,So=null;function p2(i){var o=vo(i);if(o&&(i=o.stateNode)){var u=i[jr]||null;e:switch(i=o.stateNode,o.type){case"input":if(qg(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+oa(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var x=u[o];if(x!==i&&x.form===i.form){var b=x[jr]||null;if(!b)throw Error(a(90));qg(x,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)x=u[o],x.form===i.form&&c2(x)}break e;case"textarea":u2(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&bo(i,!!u.multiple,o,!1)}}}var Yg=!1;function x2(i,o,u){if(Yg)return i(o,u);Yg=!0;try{var x=i(o);return x}finally{if(Yg=!1,(wo!==null||So!==null)&&(Lm(),wo&&(o=wo,i=So,So=wo=null,p2(o),i)))for(o=0;o<i.length;o++)p2(i[o])}}function gd(i,o){var u=i.stateNode;if(u===null)return null;var x=u[jr]||null;if(x===null)return null;u=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=!1;if(bs)try{var vd={};Object.defineProperty(vd,"passive",{get:function(){Qg=!0}}),window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{Qg=!1}var xi=null,Xg=null,Qf=null;function g2(){if(Qf)return Qf;var i,o=Xg,u=o.length,x,b="value"in xi?xi.value:xi.textContent,S=b.length;for(i=0;i<u&&o[i]===b[i];i++);var O=u-i;for(x=1;x<=O&&o[u-x]===b[S-x];x++);return Qf=b.slice(i,1<x?1-x:void 0)}function Xf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Zf(){return!0}function v2(){return!1}function br(i){function o(u,x,b,S,O){this._reactName=u,this._targetInst=b,this.type=x,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Zf:v2,this.isPropagationStopped=v2,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zf)},persist:function(){},isPersistent:Zf}),o}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=br(jl),yd=g({},jl,{view:0,detail:0}),wB=br(yd),Zg,Jg,jd,em=g({},yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jd&&(jd&&i.type==="mousemove"?(Zg=i.screenX-jd.screenX,Jg=i.screenY-jd.screenY):Jg=Zg=0,jd=i),Zg)},movementY:function(i){return"movementY"in i?i.movementY:Jg}}),y2=br(em),SB=g({},em,{dataTransfer:0}),CB=br(SB),EB=g({},yd,{relatedTarget:0}),ev=br(EB),AB=g({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),PB=br(AB),TB=g({},jl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),OB=br(TB),kB=g({},jl,{data:0}),j2=br(kB),_B={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DB(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=MB[i])?!!o[i]:!1}function tv(){return DB}var LB=g({},yd,{key:function(i){if(i.key){var o=_B[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?RB[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(i){return i.type==="keypress"?Xf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),IB=br(LB),$B=g({},em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b2=br($B),FB=g({},yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),zB=br(FB),BB=g({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),UB=br(BB),HB=g({},em,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),qB=br(HB),VB=g({},jl,{newState:0,oldState:0}),KB=br(VB),WB=[9,13,27,32],nv=bs&&"CompositionEvent"in window,bd=null;bs&&"documentMode"in document&&(bd=document.documentMode);var GB=bs&&"TextEvent"in window&&!bd,N2=bs&&(!nv||bd&&8<bd&&11>=bd),w2=" ",S2=!1;function C2(i,o){switch(i){case"keyup":return WB.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Co=!1;function YB(i,o){switch(i){case"compositionend":return E2(o);case"keypress":return o.which!==32?null:(S2=!0,w2);case"textInput":return i=o.data,i===w2&&S2?null:i;default:return null}}function QB(i,o){if(Co)return i==="compositionend"||!nv&&C2(i,o)?(i=g2(),Qf=Xg=xi=null,Co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return N2&&o.locale!=="ko"?null:o.data;default:return null}}var XB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A2(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!XB[i.type]:o==="textarea"}function P2(i,o,u,x){wo?So?So.push(x):So=[x]:wo=x,o=Hm(o,"onChange"),0<o.length&&(u=new Jf("onChange","change",null,u,x),i.push({event:u,listeners:o}))}var Nd=null,wd=null;function ZB(i){dA(i,0)}function tm(i){var o=xd(i);if(c2(o))return i}function T2(i,o){if(i==="change")return o}var O2=!1;if(bs){var rv;if(bs){var av="oninput"in document;if(!av){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),av=typeof k2.oninput=="function"}rv=av}else rv=!1;O2=rv&&(!document.documentMode||9<document.documentMode)}function _2(){Nd&&(Nd.detachEvent("onpropertychange",R2),wd=Nd=null)}function R2(i){if(i.propertyName==="value"&&tm(wd)){var o=[];P2(o,wd,i,Gg(i)),x2(ZB,o)}}function JB(i,o,u){i==="focusin"?(_2(),Nd=o,wd=u,Nd.attachEvent("onpropertychange",R2)):i==="focusout"&&_2()}function e8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tm(wd)}function t8(i,o){if(i==="click")return tm(o)}function n8(i,o){if(i==="input"||i==="change")return tm(o)}function r8(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var $r=typeof Object.is=="function"?Object.is:r8;function Sd(i,o){if($r(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),x=Object.keys(o);if(u.length!==x.length)return!1;for(x=0;x<u.length;x++){var b=u[x];if(!Je.call(o,b)||!$r(i[b],o[b]))return!1}return!0}function M2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function D2(i,o){var u=M2(i);i=0;for(var x;u;){if(u.nodeType===3){if(x=i+u.textContent.length,i<=o&&x>=o)return{node:u,offset:o-i};i=x}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=M2(u)}}function L2(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?L2(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function I2(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Gf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Gf(i.document)}return o}function sv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var a8=bs&&"documentMode"in document&&11>=document.documentMode,Eo=null,iv=null,Cd=null,lv=!1;function $2(i,o,u){var x=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;lv||Eo==null||Eo!==Gf(x)||(x=Eo,"selectionStart"in x&&sv(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Cd&&Sd(Cd,x)||(Cd=x,x=Hm(iv,"onSelect"),0<x.length&&(o=new Jf("onSelect","select",null,o,u),i.push({event:o,listeners:x}),o.target=Eo)))}function bl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ao={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionrun:bl("Transition","TransitionRun"),transitionstart:bl("Transition","TransitionStart"),transitioncancel:bl("Transition","TransitionCancel"),transitionend:bl("Transition","TransitionEnd")},ov={},F2={};bs&&(F2=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Nl(i){if(ov[i])return ov[i];if(!Ao[i])return i;var o=Ao[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in F2)return ov[i]=o[u];return i}var z2=Nl("animationend"),B2=Nl("animationiteration"),U2=Nl("animationstart"),s8=Nl("transitionrun"),i8=Nl("transitionstart"),l8=Nl("transitioncancel"),H2=Nl("transitionend"),q2=new Map,cv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cv.push("scrollEnd");function Ra(i,o){q2.set(i,o),yl(o,[i])}var nm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ca=[],Po=0,dv=0;function rm(){for(var i=Po,o=dv=Po=0;o<i;){var u=ca[o];ca[o++]=null;var x=ca[o];ca[o++]=null;var b=ca[o];ca[o++]=null;var S=ca[o];if(ca[o++]=null,x!==null&&b!==null){var O=x.pending;O===null?b.next=b:(b.next=O.next,O.next=b),x.pending=b}S!==0&&V2(u,b,S)}}function am(i,o,u,x){ca[Po++]=i,ca[Po++]=o,ca[Po++]=u,ca[Po++]=x,dv|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function uv(i,o,u,x){return am(i,o,u,x),sm(i)}function wl(i,o){return am(i,null,null,o),sm(i)}function V2(i,o,u){i.lanes|=u;var x=i.alternate;x!==null&&(x.lanes|=u);for(var b=!1,S=i.return;S!==null;)S.childLanes|=u,x=S.alternate,x!==null&&(x.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(b=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,b&&o!==null&&(b=31-st(u),i=S.hiddenUpdates,x=i[b],x===null?i[b]=[o]:x.push(o),o.lane=u|536870912),S):null}function sm(i){if(50<Wd)throw Wd=0,jy=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var To={};function o8(i,o,u,x){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(i,o,u,x){return new o8(i,o,u,x)}function fv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ns(i,o){var u=i.alternate;return u===null?(u=Fr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function K2(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function im(i,o,u,x,b,S){var O=0;if(x=i,typeof i=="function")fv(i)&&(O=1);else if(typeof i=="string")O=m9(i,u,Ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case X:return i=Fr(31,u,o,b),i.elementType=X,i.lanes=S,i;case j:return Sl(u.children,b,S,o);case N:O=8,b|=24;break;case C:return i=Fr(12,u,o,b|2),i.elementType=C,i.lanes=S,i;case k:return i=Fr(13,u,o,b),i.elementType=k,i.lanes=S,i;case T:return i=Fr(19,u,o,b),i.elementType=T,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:O=10;break e;case E:O=9;break e;case P:O=11;break e;case _:O=14;break e;case L:O=16,x=null;break e}O=29,u=Error(a(130,i===null?"null":typeof i,"")),x=null}return o=Fr(O,u,o,b),o.elementType=i,o.type=x,o.lanes=S,o}function Sl(i,o,u,x){return i=Fr(7,i,x,o),i.lanes=u,i}function mv(i,o,u){return i=Fr(6,i,null,o),i.lanes=u,i}function W2(i){var o=Fr(18,null,null,0);return o.stateNode=i,o}function hv(i,o,u){return o=Fr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var G2=new WeakMap;function da(i,o){if(typeof i=="object"&&i!==null){var u=G2.get(i);return u!==void 0?u:(o={value:i,source:o,stack:oe(o)},G2.set(i,o),o)}return{value:i,source:o,stack:oe(o)}}var Oo=[],ko=0,lm=null,Ed=0,ua=[],fa=0,gi=null,Ya=1,Qa="";function ws(i,o){Oo[ko++]=Ed,Oo[ko++]=lm,lm=i,Ed=o}function Y2(i,o,u){ua[fa++]=Ya,ua[fa++]=Qa,ua[fa++]=gi,gi=i;var x=Ya;i=Qa;var b=32-st(x)-1;x&=~(1<<b),u+=1;var S=32-st(o)+b;if(30<S){var O=b-b%5;S=(x&(1<<O)-1).toString(32),x>>=O,b-=O,Ya=1<<32-st(o)+b|u<<b|x,Qa=S+i}else Ya=1<<S|u<<b|x,Qa=i}function pv(i){i.return!==null&&(ws(i,1),Y2(i,1,0))}function xv(i){for(;i===lm;)lm=Oo[--ko],Oo[ko]=null,Ed=Oo[--ko],Oo[ko]=null;for(;i===gi;)gi=ua[--fa],ua[fa]=null,Qa=ua[--fa],ua[fa]=null,Ya=ua[--fa],ua[fa]=null}function Q2(i,o){ua[fa++]=Ya,ua[fa++]=Qa,ua[fa++]=gi,Ya=o.id,Qa=o.overflow,gi=i}var Xn=null,Wt=null,Nt=!1,vi=null,ma=!1,gv=Error(a(519));function yi(i){var o=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ad(da(o,i)),gv}function X2(i){var o=i.stateNode,u=i.type,x=i.memoizedProps;switch(o[Qn]=i,o[jr]=x,u){case"dialog":vt("cancel",o),vt("close",o);break;case"iframe":case"object":case"embed":vt("load",o);break;case"video":case"audio":for(u=0;u<Yd.length;u++)vt(Yd[u],o);break;case"source":vt("error",o);break;case"img":case"image":case"link":vt("error",o),vt("load",o);break;case"details":vt("toggle",o);break;case"input":vt("invalid",o),d2(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":vt("invalid",o);break;case"textarea":vt("invalid",o),f2(o,x.value,x.defaultValue,x.children)}u=x.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||x.suppressHydrationWarning===!0||hA(o.textContent,u)?(x.popover!=null&&(vt("beforetoggle",o),vt("toggle",o)),x.onScroll!=null&&vt("scroll",o),x.onScrollEnd!=null&&vt("scrollend",o),x.onClick!=null&&(o.onclick=js),o=!0):o=!1,o||yi(i,!0)}function Z2(i){for(Xn=i.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:Xn=Xn.return}}function _o(i){if(i!==Xn)return!1;if(!Nt)return Z2(i),Nt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Dy(i.type,i.memoizedProps)),u=!u),u&&Wt&&yi(i),Z2(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Wt=wA(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Wt=wA(i)}else o===27?(o=Wt,Ri(i.type)?(i=zy,zy=null,Wt=i):Wt=o):Wt=Xn?pa(i.stateNode.nextSibling):null;return!0}function Cl(){Wt=Xn=null,Nt=!1}function vv(){var i=vi;return i!==null&&(Cr===null?Cr=i:Cr.push.apply(Cr,i),vi=null),i}function Ad(i){vi===null?vi=[i]:vi.push(i)}var yv=M(null),El=null,Ss=null;function ji(i,o,u){me(yv,o._currentValue),o._currentValue=u}function Cs(i){i._currentValue=yv.current,te(yv)}function jv(i,o,u){for(;i!==null;){var x=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),i===u)break;i=i.return}}function bv(i,o,u,x){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var S=b.dependencies;if(S!==null){var O=b.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=b;for(var V=0;V<o.length;V++)if(D.context===o[V]){S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),jv(S.return,u,i),x||(O=null);break e}S=D.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(a(341));O.lanes|=u,S=O.alternate,S!==null&&(S.lanes|=u),jv(O,u,i),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===i){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function Ro(i,o,u,x){i=null;for(var b=o,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(a(387));if(O=O.memoizedProps,O!==null){var D=b.type;$r(b.pendingProps.value,O.value)||(i!==null?i.push(D):i=[D])}}else if(b===F.current){if(O=b.alternate,O===null)throw Error(a(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(eu):i=[eu])}b=b.return}i!==null&&bv(o,i,u,x),o.flags|=262144}function om(i){for(i=i.firstContext;i!==null;){if(!$r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Al(i){El=i,Ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zn(i){return J2(El,i)}function cm(i,o){return El===null&&Al(i),J2(i,o)}function J2(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ss===null){if(i===null)throw Error(a(308));Ss=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ss=Ss.next=o;return u}var c8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,x){i.push(x)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},d8=e.unstable_scheduleCallback,u8=e.unstable_NormalPriority,wn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nv(){return{controller:new c8,data:new Map,refCount:0}}function Pd(i){i.refCount--,i.refCount===0&&d8(u8,function(){i.controller.abort()})}var Td=null,wv=0,Mo=0,Do=null;function f8(i,o){if(Td===null){var u=Td=[];wv=0,Mo=Ey(),Do={status:"pending",value:void 0,then:function(x){u.push(x)}}}return wv++,o.then(eC,eC),o}function eC(){if(--wv===0&&Td!==null){Do!==null&&(Do.status="fulfilled");var i=Td;Td=null,Mo=0,Do=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function m8(i,o){var u=[],x={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){x.status="fulfilled",x.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(x.status="rejected",x.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),x}var tC=B.S;B.S=function(i,o){$E=et(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&f8(i,o),tC!==null&&tC(i,o)};var Pl=M(null);function Sv(){var i=Pl.current;return i!==null?i:Bt.pooledCache}function dm(i,o){o===null?me(Pl,Pl.current):me(Pl,o.pool)}function nC(){var i=Sv();return i===null?null:{parent:wn._currentValue,pool:i}}var Lo=Error(a(460)),Cv=Error(a(474)),um=Error(a(542)),fm={then:function(){}};function rC(i){return i=i.status,i==="fulfilled"||i==="rejected"}function aC(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(js,js),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,iC(i),i;default:if(typeof o.status=="string")o.then(js,js);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(x){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=x}},function(x){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,iC(i),i}throw Ol=o,Lo}}function Tl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ol=u,Lo):u}}var Ol=null;function sC(){if(Ol===null)throw Error(a(459));var i=Ol;return Ol=null,i}function iC(i){if(i===Lo||i===um)throw Error(a(483))}var Io=null,Od=0;function mm(i){var o=Od;return Od+=1,Io===null&&(Io=[]),aC(Io,i,o)}function kd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function hm(i,o){throw o.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function lC(i){function o(se,Q){if(i){var ce=se.deletions;ce===null?(se.deletions=[Q],se.flags|=16):ce.push(Q)}}function u(se,Q){if(!i)return null;for(;Q!==null;)o(se,Q),Q=Q.sibling;return null}function x(se){for(var Q=new Map;se!==null;)se.key!==null?Q.set(se.key,se):Q.set(se.index,se),se=se.sibling;return Q}function b(se,Q){return se=Ns(se,Q),se.index=0,se.sibling=null,se}function S(se,Q,ce){return se.index=ce,i?(ce=se.alternate,ce!==null?(ce=ce.index,ce<Q?(se.flags|=67108866,Q):ce):(se.flags|=67108866,Q)):(se.flags|=1048576,Q)}function O(se){return i&&se.alternate===null&&(se.flags|=67108866),se}function D(se,Q,ce,be){return Q===null||Q.tag!==6?(Q=mv(ce,se.mode,be),Q.return=se,Q):(Q=b(Q,ce),Q.return=se,Q)}function V(se,Q,ce,be){var Ge=ce.type;return Ge===j?je(se,Q,ce.props.children,be,ce.key):Q!==null&&(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===L&&Tl(Ge)===Q.type)?(Q=b(Q,ce.props),kd(Q,ce),Q.return=se,Q):(Q=im(ce.type,ce.key,ce.props,null,se.mode,be),kd(Q,ce),Q.return=se,Q)}function de(se,Q,ce,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ce.containerInfo||Q.stateNode.implementation!==ce.implementation?(Q=hv(ce,se.mode,be),Q.return=se,Q):(Q=b(Q,ce.children||[]),Q.return=se,Q)}function je(se,Q,ce,be,Ge){return Q===null||Q.tag!==7?(Q=Sl(ce,se.mode,be,Ge),Q.return=se,Q):(Q=b(Q,ce),Q.return=se,Q)}function we(se,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=mv(""+Q,se.mode,ce),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return ce=im(Q.type,Q.key,Q.props,null,se.mode,ce),kd(ce,Q),ce.return=se,ce;case w:return Q=hv(Q,se.mode,ce),Q.return=se,Q;case L:return Q=Tl(Q),we(se,Q,ce)}if(ee(Q)||K(Q))return Q=Sl(Q,se.mode,ce,null),Q.return=se,Q;if(typeof Q.then=="function")return we(se,mm(Q),ce);if(Q.$$typeof===A)return we(se,cm(se,Q),ce);hm(se,Q)}return null}function he(se,Q,ce,be){var Ge=Q!==null?Q.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ge!==null?null:D(se,Q,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return ce.key===Ge?V(se,Q,ce,be):null;case w:return ce.key===Ge?de(se,Q,ce,be):null;case L:return ce=Tl(ce),he(se,Q,ce,be)}if(ee(ce)||K(ce))return Ge!==null?null:je(se,Q,ce,be,null);if(typeof ce.then=="function")return he(se,Q,mm(ce),be);if(ce.$$typeof===A)return he(se,Q,cm(se,ce),be);hm(se,ce)}return null}function ge(se,Q,ce,be,Ge){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return se=se.get(ce)||null,D(Q,se,""+be,Ge);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return se=se.get(be.key===null?ce:be.key)||null,V(Q,se,be,Ge);case w:return se=se.get(be.key===null?ce:be.key)||null,de(Q,se,be,Ge);case L:return be=Tl(be),ge(se,Q,ce,be,Ge)}if(ee(be)||K(be))return se=se.get(ce)||null,je(Q,se,be,Ge,null);if(typeof be.then=="function")return ge(se,Q,ce,mm(be),Ge);if(be.$$typeof===A)return ge(se,Q,ce,cm(Q,be),Ge);hm(Q,be)}return null}function He(se,Q,ce,be){for(var Ge=null,Et=null,Ke=Q,ft=Q=0,jt=null;Ke!==null&&ft<ce.length;ft++){Ke.index>ft?(jt=Ke,Ke=null):jt=Ke.sibling;var At=he(se,Ke,ce[ft],be);if(At===null){Ke===null&&(Ke=jt);break}i&&Ke&&At.alternate===null&&o(se,Ke),Q=S(At,Q,ft),Et===null?Ge=At:Et.sibling=At,Et=At,Ke=jt}if(ft===ce.length)return u(se,Ke),Nt&&ws(se,ft),Ge;if(Ke===null){for(;ft<ce.length;ft++)Ke=we(se,ce[ft],be),Ke!==null&&(Q=S(Ke,Q,ft),Et===null?Ge=Ke:Et.sibling=Ke,Et=Ke);return Nt&&ws(se,ft),Ge}for(Ke=x(Ke);ft<ce.length;ft++)jt=ge(Ke,se,ft,ce[ft],be),jt!==null&&(i&&jt.alternate!==null&&Ke.delete(jt.key===null?ft:jt.key),Q=S(jt,Q,ft),Et===null?Ge=jt:Et.sibling=jt,Et=jt);return i&&Ke.forEach(function($i){return o(se,$i)}),Nt&&ws(se,ft),Ge}function Qe(se,Q,ce,be){if(ce==null)throw Error(a(151));for(var Ge=null,Et=null,Ke=Q,ft=Q=0,jt=null,At=ce.next();Ke!==null&&!At.done;ft++,At=ce.next()){Ke.index>ft?(jt=Ke,Ke=null):jt=Ke.sibling;var $i=he(se,Ke,At.value,be);if($i===null){Ke===null&&(Ke=jt);break}i&&Ke&&$i.alternate===null&&o(se,Ke),Q=S($i,Q,ft),Et===null?Ge=$i:Et.sibling=$i,Et=$i,Ke=jt}if(At.done)return u(se,Ke),Nt&&ws(se,ft),Ge;if(Ke===null){for(;!At.done;ft++,At=ce.next())At=we(se,At.value,be),At!==null&&(Q=S(At,Q,ft),Et===null?Ge=At:Et.sibling=At,Et=At);return Nt&&ws(se,ft),Ge}for(Ke=x(Ke);!At.done;ft++,At=ce.next())At=ge(Ke,se,ft,At.value,be),At!==null&&(i&&At.alternate!==null&&Ke.delete(At.key===null?ft:At.key),Q=S(At,Q,ft),Et===null?Ge=At:Et.sibling=At,Et=At);return i&&Ke.forEach(function(S9){return o(se,S9)}),Nt&&ws(se,ft),Ge}function Ft(se,Q,ce,be){if(typeof ce=="object"&&ce!==null&&ce.type===j&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:e:{for(var Ge=ce.key;Q!==null;){if(Q.key===Ge){if(Ge=ce.type,Ge===j){if(Q.tag===7){u(se,Q.sibling),be=b(Q,ce.props.children),be.return=se,se=be;break e}}else if(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===L&&Tl(Ge)===Q.type){u(se,Q.sibling),be=b(Q,ce.props),kd(be,ce),be.return=se,se=be;break e}u(se,Q);break}else o(se,Q);Q=Q.sibling}ce.type===j?(be=Sl(ce.props.children,se.mode,be,ce.key),be.return=se,se=be):(be=im(ce.type,ce.key,ce.props,null,se.mode,be),kd(be,ce),be.return=se,se=be)}return O(se);case w:e:{for(Ge=ce.key;Q!==null;){if(Q.key===Ge)if(Q.tag===4&&Q.stateNode.containerInfo===ce.containerInfo&&Q.stateNode.implementation===ce.implementation){u(se,Q.sibling),be=b(Q,ce.children||[]),be.return=se,se=be;break e}else{u(se,Q);break}else o(se,Q);Q=Q.sibling}be=hv(ce,se.mode,be),be.return=se,se=be}return O(se);case L:return ce=Tl(ce),Ft(se,Q,ce,be)}if(ee(ce))return He(se,Q,ce,be);if(K(ce)){if(Ge=K(ce),typeof Ge!="function")throw Error(a(150));return ce=Ge.call(ce),Qe(se,Q,ce,be)}if(typeof ce.then=="function")return Ft(se,Q,mm(ce),be);if(ce.$$typeof===A)return Ft(se,Q,cm(se,ce),be);hm(se,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,Q!==null&&Q.tag===6?(u(se,Q.sibling),be=b(Q,ce),be.return=se,se=be):(u(se,Q),be=mv(ce,se.mode,be),be.return=se,se=be),O(se)):u(se,Q)}return function(se,Q,ce,be){try{Od=0;var Ge=Ft(se,Q,ce,be);return Io=null,Ge}catch(Ke){if(Ke===Lo||Ke===um)throw Ke;var Et=Fr(29,Ke,null,se.mode);return Et.lanes=be,Et.return=se,Et}finally{}}}var kl=lC(!0),oC=lC(!1),bi=!1;function Ev(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Av(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ni(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function wi(i,o,u){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Tt&2)!==0){var b=x.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),x.pending=o,o=sm(i),V2(i,null,u),o}return am(i,x,o,u),sm(i)}function _d(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,JS(i,u)}}function Pv(i,o){var u=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,u===x)){var b=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?b=S=O:S=S.next=O,u=u.next}while(u!==null);S===null?b=S=o:S=S.next=o}else b=S=o;u={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:x.shared,callbacks:x.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Tv=!1;function Rd(){if(Tv){var i=Do;if(i!==null)throw i}}function Md(i,o,u,x){Tv=!1;var b=i.updateQueue;bi=!1;var S=b.firstBaseUpdate,O=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var V=D,de=V.next;V.next=null,O===null?S=de:O.next=de,O=V;var je=i.alternate;je!==null&&(je=je.updateQueue,D=je.lastBaseUpdate,D!==O&&(D===null?je.firstBaseUpdate=de:D.next=de,je.lastBaseUpdate=V))}if(S!==null){var we=b.baseState;O=0,je=de=V=null,D=S;do{var he=D.lane&-536870913,ge=he!==D.lane;if(ge?(yt&he)===he:(x&he)===he){he!==0&&he===Mo&&(Tv=!0),je!==null&&(je=je.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var He=i,Qe=D;he=o;var Ft=u;switch(Qe.tag){case 1:if(He=Qe.payload,typeof He=="function"){we=He.call(Ft,we,he);break e}we=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Qe.payload,he=typeof He=="function"?He.call(Ft,we,he):He,he==null)break e;we=g({},we,he);break e;case 2:bi=!0}}he=D.callback,he!==null&&(i.flags|=64,ge&&(i.flags|=8192),ge=b.callbacks,ge===null?b.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:D.tag,payload:D.payload,callback:D.callback,next:null},je===null?(de=je=ge,V=we):je=je.next=ge,O|=he;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;ge=D,D=ge.next,ge.next=null,b.lastBaseUpdate=ge,b.shared.pending=null}}while(!0);je===null&&(V=we),b.baseState=V,b.firstBaseUpdate=de,b.lastBaseUpdate=je,S===null&&(b.shared.lanes=0),Pi|=O,i.lanes=O,i.memoizedState=we}}function cC(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function dC(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)cC(u[i],o)}var $o=M(null),pm=M(0);function uC(i,o){i=Ms,me(pm,i),me($o,o),Ms=i|o.baseLanes}function Ov(){me(pm,Ms),me($o,$o.current)}function kv(){Ms=pm.current,te($o),te(pm)}var zr=M(null),ha=null;function Si(i){var o=i.alternate;me(hn,hn.current&1),me(zr,i),ha===null&&(o===null||$o.current!==null||o.memoizedState!==null)&&(ha=i)}function _v(i){me(hn,hn.current),me(zr,i),ha===null&&(ha=i)}function fC(i){i.tag===22?(me(hn,hn.current),me(zr,i),ha===null&&(ha=i)):Ci()}function Ci(){me(hn,hn.current),me(zr,zr.current)}function Br(i){te(zr),ha===i&&(ha=null),te(hn)}var hn=M(0);function xm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$y(u)||Fy(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Es=0,dt=null,It=null,Sn=null,gm=!1,Fo=!1,_l=!1,vm=0,Dd=0,zo=null,h8=0;function on(){throw Error(a(321))}function Rv(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!$r(i[u],o[u]))return!1;return!0}function Mv(i,o,u,x,b,S){return Es=S,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?YC:Yv,_l=!1,S=u(x,b),_l=!1,Fo&&(S=hC(o,u,x,b)),mC(i),S}function mC(i){B.H=$d;var o=It!==null&&It.next!==null;if(Es=0,Sn=It=dt=null,gm=!1,Dd=0,zo=null,o)throw Error(a(300));i===null||Cn||(i=i.dependencies,i!==null&&om(i)&&(Cn=!0))}function hC(i,o,u,x){dt=i;var b=0;do{if(Fo&&(zo=null),Dd=0,Fo=!1,25<=b)throw Error(a(301));if(b+=1,Sn=It=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=QC,S=o(u,x)}while(Fo);return S}function p8(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?Ld(o):o,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(dt.flags|=1024),o}function Dv(){var i=vm!==0;return vm=0,i}function Lv(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Iv(i){if(gm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}gm=!1}Es=0,Sn=It=dt=null,Fo=!1,Dd=vm=0,zo=null}function dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?dt.memoizedState=Sn=i:Sn=Sn.next=i,Sn}function pn(){if(It===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=Sn===null?dt.memoizedState:Sn.next;if(o!==null)Sn=o,It=i;else{if(i===null)throw dt.alternate===null?Error(a(467)):Error(a(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Sn===null?dt.memoizedState=Sn=i:Sn=Sn.next=i}return Sn}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ld(i){var o=Dd;return Dd+=1,zo===null&&(zo=[]),i=aC(zo,i,o),o=dt,(Sn===null?o.memoizedState:Sn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?YC:Yv),i}function jm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ld(i);if(i.$$typeof===A)return Zn(i)}throw Error(a(438,String(i)))}function $v(i){var o=null,u=dt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var x=dt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=ym(),dt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),x=0;x<i;x++)u[x]=I;return o.index++,u}function As(i,o){return typeof o=="function"?o(i):o}function bm(i){var o=pn();return Fv(o,It,i)}function Fv(i,o,u){var x=i.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=u;var b=i.baseQueue,S=x.pending;if(S!==null){if(b!==null){var O=b.next;b.next=S.next,S.next=O}o.baseQueue=b=S,x.pending=null}if(S=i.baseState,b===null)i.memoizedState=S;else{o=b.next;var D=O=null,V=null,de=o,je=!1;do{var we=de.lane&-536870913;if(we!==de.lane?(yt&we)===we:(Es&we)===we){var he=de.revertLane;if(he===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),we===Mo&&(je=!0);else if((Es&he)===he){de=de.next,he===Mo&&(je=!0);continue}else we={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},V===null?(D=V=we,O=S):V=V.next=we,dt.lanes|=he,Pi|=he;we=de.action,_l&&u(S,we),S=de.hasEagerState?de.eagerState:u(S,we)}else he={lane:we,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},V===null?(D=V=he,O=S):V=V.next=he,dt.lanes|=we,Pi|=we;de=de.next}while(de!==null&&de!==o);if(V===null?O=S:V.next=D,!$r(S,i.memoizedState)&&(Cn=!0,je&&(u=Do,u!==null)))throw u;i.memoizedState=S,i.baseState=O,i.baseQueue=V,x.lastRenderedState=S}return b===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function zv(i){var o=pn(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var x=u.dispatch,b=u.pending,S=o.memoizedState;if(b!==null){u.pending=null;var O=b=b.next;do S=i(S,O.action),O=O.next;while(O!==b);$r(S,o.memoizedState)||(Cn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,x]}function pC(i,o,u){var x=dt,b=pn(),S=Nt;if(S){if(u===void 0)throw Error(a(407));u=u()}else u=o();var O=!$r((It||b).memoizedState,u);if(O&&(b.memoizedState=u,Cn=!0),b=b.queue,Hv(vC.bind(null,x,b,i),[i]),b.getSnapshot!==o||O||Sn!==null&&Sn.memoizedState.tag&1){if(x.flags|=2048,Bo(9,{destroy:void 0},gC.bind(null,x,b,u,o),null),Bt===null)throw Error(a(349));S||(Es&127)!==0||xC(x,o,u)}return u}function xC(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=dt.updateQueue,o===null?(o=ym(),dt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function gC(i,o,u,x){o.value=u,o.getSnapshot=x,yC(o)&&jC(i)}function vC(i,o,u){return u(function(){yC(o)&&jC(i)})}function yC(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!$r(i,u)}catch{return!0}}function jC(i){var o=wl(i,2);o!==null&&Er(o,i,2)}function Bv(i){var o=dr();if(typeof i=="function"){var u=i;if(i=u(),_l){Ze(!0);try{u()}finally{Ze(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:i},o}function bC(i,o,u,x){return i.baseState=u,Fv(i,It,typeof x=="function"?x:As)}function x8(i,o,u,x,b){if(Sm(i))throw Error(a(485));if(i=o.action,i!==null){var S={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};B.T!==null?u(!0):S.isTransition=!1,x(S),u=o.pending,u===null?(S.next=o.pending=S,NC(o,S)):(S.next=u.next,o.pending=u.next=S)}}function NC(i,o){var u=o.action,x=o.payload,b=i.state;if(o.isTransition){var S=B.T,O={};B.T=O;try{var D=u(b,x),V=B.S;V!==null&&V(O,D),wC(i,o,D)}catch(de){Uv(i,o,de)}finally{S!==null&&O.types!==null&&(S.types=O.types),B.T=S}}else try{S=u(b,x),wC(i,o,S)}catch(de){Uv(i,o,de)}}function wC(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(x){SC(i,o,x)},function(x){return Uv(i,o,x)}):SC(i,o,u)}function SC(i,o,u){o.status="fulfilled",o.value=u,CC(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,NC(i,u)))}function Uv(i,o,u){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=u,CC(o),o=o.next;while(o!==x)}i.action=null}function CC(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function EC(i,o){return o}function AC(i,o){if(Nt){var u=Bt.formState;if(u!==null){e:{var x=dt;if(Nt){if(Wt){t:{for(var b=Wt,S=ma;b.nodeType!==8;){if(!S){b=null;break t}if(b=pa(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){Wt=pa(b.nextSibling),x=b.data==="F!";break e}}yi(x)}x=!1}x&&(o=u[0])}}return u=dr(),u.memoizedState=u.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EC,lastRenderedState:o},u.queue=x,u=KC.bind(null,dt,x),x.dispatch=u,x=Bv(!1),S=Gv.bind(null,dt,!1,x.queue),x=dr(),b={state:o,dispatch:null,action:i,pending:null},x.queue=b,u=x8.bind(null,dt,b,S,u),b.dispatch=u,x.memoizedState=i,[o,u,!1]}function PC(i){var o=pn();return TC(o,It,i)}function TC(i,o,u){if(o=Fv(i,o,EC)[0],i=bm(As)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=Ld(o)}catch(O){throw O===Lo?um:O}else x=o;o=pn();var b=o.queue,S=b.dispatch;return u!==o.memoizedState&&(dt.flags|=2048,Bo(9,{destroy:void 0},g8.bind(null,b,u),null)),[x,S,i]}function g8(i,o){i.action=o}function OC(i){var o=pn(),u=It;if(u!==null)return TC(o,u,i);pn(),o=o.memoizedState,u=pn();var x=u.queue.dispatch;return u.memoizedState=i,[o,x,!1]}function Bo(i,o,u,x){return i={tag:i,create:u,deps:x,inst:o,next:null},o=dt.updateQueue,o===null&&(o=ym(),dt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(x=u.next,u.next=i,i.next=x,o.lastEffect=i),i}function kC(){return pn().memoizedState}function Nm(i,o,u,x){var b=dr();dt.flags|=i,b.memoizedState=Bo(1|o,{destroy:void 0},u,x===void 0?null:x)}function wm(i,o,u,x){var b=pn();x=x===void 0?null:x;var S=b.memoizedState.inst;It!==null&&x!==null&&Rv(x,It.memoizedState.deps)?b.memoizedState=Bo(o,S,u,x):(dt.flags|=i,b.memoizedState=Bo(1|o,S,u,x))}function _C(i,o){Nm(8390656,8,i,o)}function Hv(i,o){wm(2048,8,i,o)}function v8(i){dt.flags|=4;var o=dt.updateQueue;if(o===null)o=ym(),dt.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function RC(i){var o=pn().memoizedState;return v8({ref:o,nextImpl:i}),function(){if((Tt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}function MC(i,o){return wm(4,2,i,o)}function DC(i,o){return wm(4,4,i,o)}function LC(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function IC(i,o,u){u=u!=null?u.concat([i]):null,wm(4,4,LC.bind(null,o,i),u)}function qv(){}function $C(i,o){var u=pn();o=o===void 0?null:o;var x=u.memoizedState;return o!==null&&Rv(o,x[1])?x[0]:(u.memoizedState=[i,o],i)}function FC(i,o){var u=pn();o=o===void 0?null:o;var x=u.memoizedState;if(o!==null&&Rv(o,x[1]))return x[0];if(x=i(),_l){Ze(!0);try{i()}finally{Ze(!1)}}return u.memoizedState=[x,o],x}function Vv(i,o,u){return u===void 0||(Es&1073741824)!==0&&(yt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=zE(),dt.lanes|=i,Pi|=i,u)}function zC(i,o,u,x){return $r(u,o)?u:$o.current!==null?(i=Vv(i,u,x),$r(i,o)||(Cn=!0),i):(Es&42)===0||(Es&1073741824)!==0&&(yt&261930)===0?(Cn=!0,i.memoizedState=u):(i=zE(),dt.lanes|=i,Pi|=i,o)}function BC(i,o,u,x,b){var S=Z.p;Z.p=S!==0&&8>S?S:8;var O=B.T,D={};B.T=D,Gv(i,!1,o,u);try{var V=b(),de=B.S;if(de!==null&&de(D,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var je=m8(V,x);Id(i,o,je,qr(i))}else Id(i,o,x,qr(i))}catch(we){Id(i,o,{then:function(){},status:"rejected",reason:we},qr())}finally{Z.p=S,O!==null&&D.types!==null&&(O.types=D.types),B.T=O}}function y8(){}function Kv(i,o,u,x){if(i.tag!==5)throw Error(a(476));var b=UC(i).queue;BC(i,b,o,$,u===null?y8:function(){return HC(i),u(x)})}function UC(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function HC(i){var o=UC(i);o.next===null&&(o=i.alternate.memoizedState),Id(i,o.next.queue,{},qr())}function Wv(){return Zn(eu)}function qC(){return pn().memoizedState}function VC(){return pn().memoizedState}function j8(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=qr();i=Ni(u);var x=wi(o,i,u);x!==null&&(Er(x,o,u),_d(x,o,u)),o={cache:Nv()},i.payload=o;return}o=o.return}}function b8(i,o,u){var x=qr();u={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sm(i)?WC(o,u):(u=uv(i,o,u,x),u!==null&&(Er(u,i,x),GC(u,o,x)))}function KC(i,o,u){var x=qr();Id(i,o,u,x)}function Id(i,o,u,x){var b={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sm(i))WC(o,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var O=o.lastRenderedState,D=S(O,u);if(b.hasEagerState=!0,b.eagerState=D,$r(D,O))return am(i,o,b,0),Bt===null&&rm(),!1}catch{}finally{}if(u=uv(i,o,b,x),u!==null)return Er(u,i,x),GC(u,o,x),!0}return!1}function Gv(i,o,u,x){if(x={lane:2,revertLane:Ey(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Sm(i)){if(o)throw Error(a(479))}else o=uv(i,u,x,2),o!==null&&Er(o,i,2)}function Sm(i){var o=i.alternate;return i===dt||o!==null&&o===dt}function WC(i,o){Fo=gm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function GC(i,o,u){if((u&4194048)!==0){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,JS(i,u)}}var $d={readContext:Zn,use:jm,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};$d.useEffectEvent=on;var YC={readContext:Zn,use:jm,useCallback:function(i,o){return dr().memoizedState=[i,o===void 0?null:o],i},useContext:Zn,useEffect:_C,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Nm(4194308,4,LC.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Nm(4194308,4,i,o)},useInsertionEffect:function(i,o){Nm(4,2,i,o)},useMemo:function(i,o){var u=dr();o=o===void 0?null:o;var x=i();if(_l){Ze(!0);try{i()}finally{Ze(!1)}}return u.memoizedState=[x,o],x},useReducer:function(i,o,u){var x=dr();if(u!==void 0){var b=u(o);if(_l){Ze(!0);try{u(o)}finally{Ze(!1)}}}else b=o;return x.memoizedState=x.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},x.queue=i,i=i.dispatch=b8.bind(null,dt,i),[x.memoizedState,i]},useRef:function(i){var o=dr();return i={current:i},o.memoizedState=i},useState:function(i){i=Bv(i);var o=i.queue,u=KC.bind(null,dt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:qv,useDeferredValue:function(i,o){var u=dr();return Vv(u,i,o)},useTransition:function(){var i=Bv(!1);return i=BC.bind(null,dt,i.queue,!0,!1),dr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var x=dt,b=dr();if(Nt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Bt===null)throw Error(a(349));(yt&127)!==0||xC(x,o,u)}b.memoizedState=u;var S={value:u,getSnapshot:o};return b.queue=S,_C(vC.bind(null,x,S,i),[i]),x.flags|=2048,Bo(9,{destroy:void 0},gC.bind(null,x,S,u,o),null),u},useId:function(){var i=dr(),o=Bt.identifierPrefix;if(Nt){var u=Qa,x=Ya;u=(x&~(1<<32-st(x)-1)).toString(32)+u,o="_"+o+"R_"+u,u=vm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=h8++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Wv,useFormState:AC,useActionState:AC,useOptimistic:function(i){var o=dr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Gv.bind(null,dt,!0,u),u.dispatch=o,[i,o]},useMemoCache:$v,useCacheRefresh:function(){return dr().memoizedState=j8.bind(null,dt)},useEffectEvent:function(i){var o=dr(),u={impl:i};return o.memoizedState=u,function(){if((Tt&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},Yv={readContext:Zn,use:jm,useCallback:$C,useContext:Zn,useEffect:Hv,useImperativeHandle:IC,useInsertionEffect:MC,useLayoutEffect:DC,useMemo:FC,useReducer:bm,useRef:kC,useState:function(){return bm(As)},useDebugValue:qv,useDeferredValue:function(i,o){var u=pn();return zC(u,It.memoizedState,i,o)},useTransition:function(){var i=bm(As)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Ld(i),o]},useSyncExternalStore:pC,useId:qC,useHostTransitionStatus:Wv,useFormState:PC,useActionState:PC,useOptimistic:function(i,o){var u=pn();return bC(u,It,i,o)},useMemoCache:$v,useCacheRefresh:VC};Yv.useEffectEvent=RC;var QC={readContext:Zn,use:jm,useCallback:$C,useContext:Zn,useEffect:Hv,useImperativeHandle:IC,useInsertionEffect:MC,useLayoutEffect:DC,useMemo:FC,useReducer:zv,useRef:kC,useState:function(){return zv(As)},useDebugValue:qv,useDeferredValue:function(i,o){var u=pn();return It===null?Vv(u,i,o):zC(u,It.memoizedState,i,o)},useTransition:function(){var i=zv(As)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Ld(i),o]},useSyncExternalStore:pC,useId:qC,useHostTransitionStatus:Wv,useFormState:OC,useActionState:OC,useOptimistic:function(i,o){var u=pn();return It!==null?bC(u,It,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:$v,useCacheRefresh:VC};QC.useEffectEvent=RC;function Qv(i,o,u,x){o=i.memoizedState,u=u(x,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Xv={enqueueSetState:function(i,o,u){i=i._reactInternals;var x=qr(),b=Ni(x);b.payload=o,u!=null&&(b.callback=u),o=wi(i,b,x),o!==null&&(Er(o,i,x),_d(o,i,x))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var x=qr(),b=Ni(x);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=wi(i,b,x),o!==null&&(Er(o,i,x),_d(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=qr(),x=Ni(u);x.tag=2,o!=null&&(x.callback=o),o=wi(i,x,u),o!==null&&(Er(o,i,u),_d(o,i,u))}};function XC(i,o,u,x,b,S,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,S,O):o.prototype&&o.prototype.isPureReactComponent?!Sd(u,x)||!Sd(b,S):!0}function ZC(i,o,u,x){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,x),o.state!==i&&Xv.enqueueReplaceState(o,o.state,null)}function Rl(i,o){var u=o;if("ref"in o){u={};for(var x in o)x!=="ref"&&(u[x]=o[x])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}function JC(i){nm(i)}function eE(i){console.error(i)}function tE(i){nm(i)}function Cm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function nE(i,o,u){try{var x=i.onCaughtError;x(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Zv(i,o,u){return u=Ni(u),u.tag=3,u.payload={element:null},u.callback=function(){Cm(i,o)},u}function rE(i){return i=Ni(i),i.tag=3,i}function aE(i,o,u,x){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var S=x.value;i.payload=function(){return b(S)},i.callback=function(){nE(o,u,x)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){nE(o,u,x),typeof b!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var D=x.stack;this.componentDidCatch(x.value,{componentStack:D!==null?D:""})})}function N8(i,o,u,x,b){if(u.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=u.alternate,o!==null&&Ro(o,u,b,!0),u=zr.current,u!==null){switch(u.tag){case 31:case 13:return ha===null?Im():u.alternate===null&&cn===0&&(cn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,x===fm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([x]):o.add(x),wy(i,x,b)),!1;case 22:return u.flags|=65536,x===fm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([x]):u.add(x)),wy(i,x,b)),!1}throw Error(a(435,u.tag))}return wy(i,x,b),Im(),!1}if(Nt)return o=zr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,x!==gv&&(i=Error(a(422),{cause:x}),Ad(da(i,u)))):(x!==gv&&(o=Error(a(423),{cause:x}),Ad(da(o,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,x=da(x,u),b=Zv(i.stateNode,x,b),Pv(i,b),cn!==4&&(cn=2)),!1;var S=Error(a(520),{cause:x});if(S=da(S,u),Kd===null?Kd=[S]:Kd.push(S),cn!==4&&(cn=2),o===null)return!0;x=da(x,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=Zv(u.stateNode,x,i),Pv(u,i),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ti===null||!Ti.has(S))))return u.flags|=65536,b&=-b,u.lanes|=b,b=rE(b),aE(b,i,u,x),Pv(u,b),!1}u=u.return}while(u!==null);return!1}var Jv=Error(a(461)),Cn=!1;function Jn(i,o,u,x){o.child=i===null?oC(o,null,u,x):kl(o,i.child,u,x)}function sE(i,o,u,x,b){u=u.render;var S=o.ref;if("ref"in x){var O={};for(var D in x)D!=="ref"&&(O[D]=x[D])}else O=x;return Al(o),x=Mv(i,o,u,O,S,b),D=Dv(),i!==null&&!Cn?(Lv(i,o,b),Ps(i,o,b)):(Nt&&D&&pv(o),o.flags|=1,Jn(i,o,x,b),o.child)}function iE(i,o,u,x,b){if(i===null){var S=u.type;return typeof S=="function"&&!fv(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,lE(i,o,S,x,b)):(i=im(u.type,null,x,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!ly(i,b)){var O=S.memoizedProps;if(u=u.compare,u=u!==null?u:Sd,u(O,x)&&i.ref===o.ref)return Ps(i,o,b)}return o.flags|=1,i=Ns(S,x),i.ref=o.ref,i.return=o,o.child=i}function lE(i,o,u,x,b){if(i!==null){var S=i.memoizedProps;if(Sd(S,x)&&i.ref===o.ref)if(Cn=!1,o.pendingProps=x=S,ly(i,b))(i.flags&131072)!==0&&(Cn=!0);else return o.lanes=i.lanes,Ps(i,o,b)}return ey(i,o,u,x,b)}function oE(i,o,u,x){var b=x.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(x=o.child=i.child,b=0;x!==null;)b=b|x.lanes|x.childLanes,x=x.sibling;x=b&~S}else x=0,o.child=null;return cE(i,o,S,u,x)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&dm(o,S!==null?S.cachePool:null),S!==null?uC(o,S):Ov(),fC(o);else return x=o.lanes=536870912,cE(i,o,S!==null?S.baseLanes|u:u,u,x)}else S!==null?(dm(o,S.cachePool),uC(o,S),Ci(),o.memoizedState=null):(i!==null&&dm(o,null),Ov(),Ci());return Jn(i,o,b,u),o.child}function Fd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function cE(i,o,u,x,b){var S=Sv();return S=S===null?null:{parent:wn._currentValue,pool:S},o.memoizedState={baseLanes:u,cachePool:S},i!==null&&dm(o,null),Ov(),fC(o),i!==null&&Ro(i,o,x,!0),o.childLanes=b,null}function Em(i,o){return o=Pm({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function dE(i,o,u){return kl(o,i.child,null,u),i=Em(o,o.pendingProps),i.flags|=2,Br(o),o.memoizedState=null,i}function w8(i,o,u){var x=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Nt){if(x.mode==="hidden")return i=Em(o,x),o.lanes=536870912,Fd(null,i);if(_v(o),(i=Wt)?(i=NA(i,ma),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:gi!==null?{id:Ya,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},u=W2(i),u.return=o,o.child=u,Xn=o,Wt=null)):i=null,i===null)throw yi(o);return o.lanes=536870912,null}return Em(o,x)}var S=i.memoizedState;if(S!==null){var O=S.dehydrated;if(_v(o),b)if(o.flags&256)o.flags&=-257,o=dE(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(a(558));else if(Cn||Ro(i,o,u,!1),b=(u&i.childLanes)!==0,Cn||b){if(x=Bt,x!==null&&(O=e2(x,u),O!==0&&O!==S.retryLane))throw S.retryLane=O,wl(i,O),Er(x,i,O),Jv;Im(),o=dE(i,o,u)}else i=S.treeContext,Wt=pa(O.nextSibling),Xn=o,Nt=!0,vi=null,ma=!1,i!==null&&Q2(o,i),o=Em(o,x),o.flags|=4096;return o}return i=Ns(i.child,{mode:x.mode,children:x.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Am(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function ey(i,o,u,x,b){return Al(o),u=Mv(i,o,u,x,void 0,b),x=Dv(),i!==null&&!Cn?(Lv(i,o,b),Ps(i,o,b)):(Nt&&x&&pv(o),o.flags|=1,Jn(i,o,u,b),o.child)}function uE(i,o,u,x,b,S){return Al(o),o.updateQueue=null,u=hC(o,x,u,b),mC(i),x=Dv(),i!==null&&!Cn?(Lv(i,o,S),Ps(i,o,S)):(Nt&&x&&pv(o),o.flags|=1,Jn(i,o,u,S),o.child)}function fE(i,o,u,x,b){if(Al(o),o.stateNode===null){var S=To,O=u.contextType;typeof O=="object"&&O!==null&&(S=Zn(O)),S=new u(x,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Xv,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=x,S.state=o.memoizedState,S.refs={},Ev(o),O=u.contextType,S.context=typeof O=="object"&&O!==null?Zn(O):To,S.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Qv(o,u,O,x),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&Xv.enqueueReplaceState(S,S.state,null),Md(o,x,S,b),Rd(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(i===null){S=o.stateNode;var D=o.memoizedProps,V=Rl(u,D);S.props=V;var de=S.context,je=u.contextType;O=To,typeof je=="object"&&je!==null&&(O=Zn(je));var we=u.getDerivedStateFromProps;je=typeof we=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,je||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||de!==O)&&ZC(o,S,x,O),bi=!1;var he=o.memoizedState;S.state=he,Md(o,x,S,b),Rd(),de=o.memoizedState,D||he!==de||bi?(typeof we=="function"&&(Qv(o,u,we,x),de=o.memoizedState),(V=bi||XC(o,u,V,x,he,de,O))?(je||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=de),S.props=x,S.state=de,S.context=O,x=V):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{S=o.stateNode,Av(i,o),O=o.memoizedProps,je=Rl(u,O),S.props=je,we=o.pendingProps,he=S.context,de=u.contextType,V=To,typeof de=="object"&&de!==null&&(V=Zn(de)),D=u.getDerivedStateFromProps,(de=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==we||he!==V)&&ZC(o,S,x,V),bi=!1,he=o.memoizedState,S.state=he,Md(o,x,S,b),Rd();var ge=o.memoizedState;O!==we||he!==ge||bi||i!==null&&i.dependencies!==null&&om(i.dependencies)?(typeof D=="function"&&(Qv(o,u,D,x),ge=o.memoizedState),(je=bi||XC(o,u,je,x,he,ge,V)||i!==null&&i.dependencies!==null&&om(i.dependencies))?(de||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(x,ge,V),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(x,ge,V)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=ge),S.props=x,S.state=ge,S.context=V,x=je):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),x=!1)}return S=x,Am(i,o),x=(o.flags&128)!==0,S||x?(S=o.stateNode,u=x&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&x?(o.child=kl(o,i.child,null,b),o.child=kl(o,null,u,b)):Jn(i,o,u,b),o.memoizedState=S.state,i=o.child):i=Ps(i,o,b),i}function mE(i,o,u,x){return Cl(),o.flags|=256,Jn(i,o,u,x),o.child}var ty={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ny(i){return{baseLanes:i,cachePool:nC()}}function ry(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Hr),i}function hE(i,o,u){var x=o.pendingProps,b=!1,S=(o.flags&128)!==0,O;if((O=S)||(O=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),O&&(b=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(Nt){if(b?Si(o):Ci(),(i=Wt)?(i=NA(i,ma),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:gi!==null?{id:Ya,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},u=W2(i),u.return=o,o.child=u,Xn=o,Wt=null)):i=null,i===null)throw yi(o);return Fy(i)?o.lanes=32:o.lanes=536870912,null}var D=x.children;return x=x.fallback,b?(Ci(),b=o.mode,D=Pm({mode:"hidden",children:D},b),x=Sl(x,b,u,null),D.return=o,x.return=o,D.sibling=x,o.child=D,x=o.child,x.memoizedState=ny(u),x.childLanes=ry(i,O,u),o.memoizedState=ty,Fd(null,x)):(Si(o),ay(o,D))}var V=i.memoizedState;if(V!==null&&(D=V.dehydrated,D!==null)){if(S)o.flags&256?(Si(o),o.flags&=-257,o=sy(i,o,u)):o.memoizedState!==null?(Ci(),o.child=i.child,o.flags|=128,o=null):(Ci(),D=x.fallback,b=o.mode,x=Pm({mode:"visible",children:x.children},b),D=Sl(D,b,u,null),D.flags|=2,x.return=o,D.return=o,x.sibling=D,o.child=x,kl(o,i.child,null,u),x=o.child,x.memoizedState=ny(u),x.childLanes=ry(i,O,u),o.memoizedState=ty,o=Fd(null,x));else if(Si(o),Fy(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var de=O.dgst;O=de,x=Error(a(419)),x.stack="",x.digest=O,Ad({value:x,source:null,stack:null}),o=sy(i,o,u)}else if(Cn||Ro(i,o,u,!1),O=(u&i.childLanes)!==0,Cn||O){if(O=Bt,O!==null&&(x=e2(O,u),x!==0&&x!==V.retryLane))throw V.retryLane=x,wl(i,x),Er(O,i,x),Jv;$y(D)||Im(),o=sy(i,o,u)}else $y(D)?(o.flags|=192,o.child=i.child,o=null):(i=V.treeContext,Wt=pa(D.nextSibling),Xn=o,Nt=!0,vi=null,ma=!1,i!==null&&Q2(o,i),o=ay(o,x.children),o.flags|=4096);return o}return b?(Ci(),D=x.fallback,b=o.mode,V=i.child,de=V.sibling,x=Ns(V,{mode:"hidden",children:x.children}),x.subtreeFlags=V.subtreeFlags&65011712,de!==null?D=Ns(de,D):(D=Sl(D,b,u,null),D.flags|=2),D.return=o,x.return=o,x.sibling=D,o.child=x,Fd(null,x),x=o.child,D=i.child.memoizedState,D===null?D=ny(u):(b=D.cachePool,b!==null?(V=wn._currentValue,b=b.parent!==V?{parent:V,pool:V}:b):b=nC(),D={baseLanes:D.baseLanes|u,cachePool:b}),x.memoizedState=D,x.childLanes=ry(i,O,u),o.memoizedState=ty,Fd(i.child,x)):(Si(o),u=i.child,i=u.sibling,u=Ns(u,{mode:"visible",children:x.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function ay(i,o){return o=Pm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Pm(i,o){return i=Fr(22,i,null,o),i.lanes=0,i}function sy(i,o,u){return kl(o,i.child,null,u),i=ay(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function pE(i,o,u){i.lanes|=o;var x=i.alternate;x!==null&&(x.lanes|=o),jv(i.return,o,u)}function iy(i,o,u,x,b,S){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:u,tailMode:b,treeForkCount:S}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=u,O.tailMode=b,O.treeForkCount=S)}function xE(i,o,u){var x=o.pendingProps,b=x.revealOrder,S=x.tail;x=x.children;var O=hn.current,D=(O&2)!==0;if(D?(O=O&1|2,o.flags|=128):O&=1,me(hn,O),Jn(i,o,x,u),x=Nt?Ed:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pE(i,u,o);else if(i.tag===19)pE(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(u=o.child,b=null;u!==null;)i=u.alternate,i!==null&&xm(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),iy(o,!1,b,u,S,x);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&xm(i)===null){o.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}iy(o,!0,u,null,S,x);break;case"together":iy(o,!1,null,null,void 0,x);break;default:o.memoizedState=null}return o.child}function Ps(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Pi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Ro(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,u=Ns(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ns(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ly(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&om(i)))}function S8(i,o,u){switch(o.tag){case 3:Te(o,o.stateNode.containerInfo),ji(o,wn,i.memoizedState.cache),Cl();break;case 27:case 5:Oe(o);break;case 4:Te(o,o.stateNode.containerInfo);break;case 10:ji(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,_v(o),null;break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(Si(o),o.flags|=128,null):(u&o.child.childLanes)!==0?hE(i,o,u):(Si(o),i=Ps(i,o,u),i!==null?i.sibling:null);Si(o);break;case 19:var b=(i.flags&128)!==0;if(x=(u&o.childLanes)!==0,x||(Ro(i,o,u,!1),x=(u&o.childLanes)!==0),b){if(x)return xE(i,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),me(hn,hn.current),x)break;return null;case 22:return o.lanes=0,oE(i,o,u,o.pendingProps);case 24:ji(o,wn,i.memoizedState.cache)}return Ps(i,o,u)}function gE(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Cn=!0;else{if(!ly(i,u)&&(o.flags&128)===0)return Cn=!1,S8(i,o,u);Cn=(i.flags&131072)!==0}else Cn=!1,Nt&&(o.flags&1048576)!==0&&Y2(o,Ed,o.index);switch(o.lanes=0,o.tag){case 16:e:{var x=o.pendingProps;if(i=Tl(o.elementType),o.type=i,typeof i=="function")fv(i)?(x=Rl(i,x),o.tag=1,o=fE(null,o,i,x,u)):(o.tag=0,o=ey(null,o,i,x,u));else{if(i!=null){var b=i.$$typeof;if(b===P){o.tag=11,o=sE(null,o,i,x,u);break e}else if(b===_){o.tag=14,o=iE(null,o,i,x,u);break e}}throw o=W(i)||i,Error(a(306,o,""))}}return o;case 0:return ey(i,o,o.type,o.pendingProps,u);case 1:return x=o.type,b=Rl(x,o.pendingProps),fE(i,o,x,b,u);case 3:e:{if(Te(o,o.stateNode.containerInfo),i===null)throw Error(a(387));x=o.pendingProps;var S=o.memoizedState;b=S.element,Av(i,o),Md(o,x,null,u);var O=o.memoizedState;if(x=O.cache,ji(o,wn,x),x!==S.cache&&bv(o,[wn],u,!0),Rd(),x=O.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=mE(i,o,x,u);break e}else if(x!==b){b=da(Error(a(424)),o),Ad(b),o=mE(i,o,x,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=pa(i.firstChild),Xn=o,Nt=!0,vi=null,ma=!0,u=oC(o,null,x,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Cl(),x===b){o=Ps(i,o,u);break e}Jn(i,o,x,u)}o=o.child}return o;case 26:return Am(i,o),i===null?(u=PA(o.type,null,o.pendingProps,null))?o.memoizedState=u:Nt||(u=o.type,i=o.pendingProps,x=qm(Ie.current).createElement(u),x[Qn]=o,x[jr]=i,er(x,u,i),Bn(x),o.stateNode=x):o.memoizedState=PA(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Oe(o),i===null&&Nt&&(x=o.stateNode=CA(o.type,o.pendingProps,Ie.current),Xn=o,ma=!0,b=Wt,Ri(o.type)?(zy=b,Wt=pa(x.firstChild)):Wt=b),Jn(i,o,o.pendingProps.children,u),Am(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Nt&&((b=x=Wt)&&(x=e9(x,o.type,o.pendingProps,ma),x!==null?(o.stateNode=x,Xn=o,Wt=pa(x.firstChild),ma=!1,b=!0):b=!1),b||yi(o)),Oe(o),b=o.type,S=o.pendingProps,O=i!==null?i.memoizedProps:null,x=S.children,Dy(b,S)?x=null:O!==null&&Dy(b,O)&&(o.flags|=32),o.memoizedState!==null&&(b=Mv(i,o,p8,null,null,u),eu._currentValue=b),Am(i,o),Jn(i,o,x,u),o.child;case 6:return i===null&&Nt&&((i=u=Wt)&&(u=t9(u,o.pendingProps,ma),u!==null?(o.stateNode=u,Xn=o,Wt=null,i=!0):i=!1),i||yi(o)),null;case 13:return hE(i,o,u);case 4:return Te(o,o.stateNode.containerInfo),x=o.pendingProps,i===null?o.child=kl(o,null,x,u):Jn(i,o,x,u),o.child;case 11:return sE(i,o,o.type,o.pendingProps,u);case 7:return Jn(i,o,o.pendingProps,u),o.child;case 8:return Jn(i,o,o.pendingProps.children,u),o.child;case 12:return Jn(i,o,o.pendingProps.children,u),o.child;case 10:return x=o.pendingProps,ji(o,o.type,x.value),Jn(i,o,x.children,u),o.child;case 9:return b=o.type._context,x=o.pendingProps.children,Al(o),b=Zn(b),x=x(b),o.flags|=1,Jn(i,o,x,u),o.child;case 14:return iE(i,o,o.type,o.pendingProps,u);case 15:return lE(i,o,o.type,o.pendingProps,u);case 19:return xE(i,o,u);case 31:return w8(i,o,u);case 22:return oE(i,o,u,o.pendingProps);case 24:return Al(o),x=Zn(wn),i===null?(b=Sv(),b===null&&(b=Bt,S=Nv(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=u),b=S),o.memoizedState={parent:x,cache:b},Ev(o),ji(o,wn,b)):((i.lanes&u)!==0&&(Av(i,o),Md(o,null,null,u),Rd()),b=i.memoizedState,S=o.memoizedState,b.parent!==x?(b={parent:x,cache:x},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),ji(o,wn,x)):(x=S.cache,ji(o,wn,x),x!==b.cache&&bv(o,[wn],u,!0))),Jn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Ts(i){i.flags|=4}function oy(i,o,u,x,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(qE())i.flags|=8192;else throw Ol=fm,Cv}else i.flags&=-16777217}function vE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!RA(o))if(qE())i.flags|=8192;else throw Ol=fm,Cv}function Tm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?XS():536870912,i.lanes|=o,Vo|=o)}function zd(i,o){if(!Nt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,x=0;if(o)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,x|=b.subtreeFlags&65011712,x|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=x,i.childLanes=u,o}function C8(i,o,u){var x=o.pendingProps;switch(xv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return u=o.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),Cs(wn),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(_o(o)?Ts(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vv())),Gt(o),null;case 26:var b=o.type,S=o.memoizedState;return i===null?(Ts(o),S!==null?(Gt(o),vE(o,S)):(Gt(o),oy(o,b,null,x,u))):S?S!==i.memoizedState?(Ts(o),Gt(o),vE(o,S)):(Gt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==x&&Ts(o),Gt(o),oy(o,b,i,x,u)),null;case 27:if($e(o),u=Ie.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Ts(o);else{if(!x){if(o.stateNode===null)throw Error(a(166));return Gt(o),null}i=Ne.current,_o(o)?X2(o):(i=CA(b,x,u),o.stateNode=i,Ts(o))}return Gt(o),null;case 5:if($e(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Ts(o);else{if(!x){if(o.stateNode===null)throw Error(a(166));return Gt(o),null}if(S=Ne.current,_o(o))X2(o);else{var O=qm(Ie.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof x.is=="string"?O.createElement("select",{is:x.is}):O.createElement("select"),x.multiple?S.multiple=!0:x.size&&(S.size=x.size);break;default:S=typeof x.is=="string"?O.createElement(b,{is:x.is}):O.createElement(b)}}S[Qn]=o,S[jr]=x;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=S;e:switch(er(S,b,x),b){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Ts(o)}}return Gt(o),oy(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==x&&Ts(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(a(166));if(i=Ie.current,_o(o)){if(i=o.stateNode,u=o.memoizedProps,x=null,b=Xn,b!==null)switch(b.tag){case 27:case 5:x=b.memoizedProps}i[Qn]=o,i=!!(i.nodeValue===u||x!==null&&x.suppressHydrationWarning===!0||hA(i.nodeValue,u)),i||yi(o,!0)}else i=qm(i).createTextNode(x),i[Qn]=o,o.stateNode=i}return Gt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(x=_o(o),u!==null){if(i===null){if(!x)throw Error(a(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[Qn]=o}else Cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),i=!1}else u=vv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Br(o),o):(Br(o),null);if((o.flags&128)!==0)throw Error(a(558))}return Gt(o),null;case 13:if(x=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=_o(o),x!==null&&x.dehydrated!==null){if(i===null){if(!b)throw Error(a(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[Qn]=o}else Cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),b=!1}else b=vv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Br(o),o):(Br(o),null)}return Br(o),(o.flags&128)!==0?(o.lanes=u,o):(u=x!==null,i=i!==null&&i.memoizedState!==null,u&&(x=o.child,b=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(b=x.alternate.memoizedState.cachePool.pool),S=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(S=x.memoizedState.cachePool.pool),S!==b&&(x.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Tm(o,o.updateQueue),Gt(o),null);case 4:return ae(),i===null&&Oy(o.stateNode.containerInfo),Gt(o),null;case 10:return Cs(o.type),Gt(o),null;case 19:if(te(hn),x=o.memoizedState,x===null)return Gt(o),null;if(b=(o.flags&128)!==0,S=x.rendering,S===null)if(b)zd(x,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=xm(i),S!==null){for(o.flags|=128,zd(x,!1),i=S.updateQueue,o.updateQueue=i,Tm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)K2(u,i),u=u.sibling;return me(hn,hn.current&1|2),Nt&&ws(o,x.treeForkCount),o.child}i=i.sibling}x.tail!==null&&et()>Mm&&(o.flags|=128,b=!0,zd(x,!1),o.lanes=4194304)}else{if(!b)if(i=xm(S),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,Tm(o,i),zd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!Nt)return Gt(o),null}else 2*et()-x.renderingStartTime>Mm&&u!==536870912&&(o.flags|=128,b=!0,zd(x,!1),o.lanes=4194304);x.isBackwards?(S.sibling=o.child,o.child=S):(i=x.last,i!==null?i.sibling=S:o.child=S,x.last=S)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=et(),i.sibling=null,u=hn.current,me(hn,b?u&1|2:u&1),Nt&&ws(o,x.treeForkCount),i):(Gt(o),null);case 22:case 23:return Br(o),kv(),x=o.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(u&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),u=o.updateQueue,u!==null&&Tm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==u&&(o.flags|=2048),i!==null&&te(Pl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Cs(wn),Gt(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function E8(i,o){switch(xv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Cs(wn),ae(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 31:if(o.memoizedState!==null){if(Br(o),o.alternate===null)throw Error(a(340));Cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Br(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));Cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return te(hn),null;case 4:return ae(),null;case 10:return Cs(o.type),null;case 22:case 23:return Br(o),kv(),i!==null&&te(Pl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Cs(wn),null;case 25:return null;default:return null}}function yE(i,o){switch(xv(o),o.tag){case 3:Cs(wn),ae();break;case 26:case 27:case 5:$e(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&Br(o);break;case 13:Br(o);break;case 19:te(hn);break;case 10:Cs(o.type);break;case 22:case 23:Br(o),kv(),i!==null&&te(Pl);break;case 24:Cs(wn)}}function Bd(i,o){try{var u=o.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var b=x.next;u=b;do{if((u.tag&i)===i){x=void 0;var S=u.create,O=u.inst;x=S(),O.destroy=x}u=u.next}while(u!==b)}}catch(D){Rt(o,o.return,D)}}function Ei(i,o,u){try{var x=o.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var S=b.next;x=S;do{if((x.tag&i)===i){var O=x.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,b=o;var V=u,de=D;try{de()}catch(je){Rt(b,V,je)}}}x=x.next}while(x!==S)}}catch(je){Rt(o,o.return,je)}}function jE(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{dC(o,u)}catch(x){Rt(i,i.return,x)}}}function bE(i,o,u){u.props=Rl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(x){Rt(i,o,x)}}function Ud(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof u=="function"?i.refCleanup=u(x):u.current=x}}catch(b){Rt(i,o,b)}}function Xa(i,o){var u=i.ref,x=i.refCleanup;if(u!==null)if(typeof x=="function")try{x()}catch(b){Rt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Rt(i,o,b)}else u.current=null}function NE(i){var o=i.type,u=i.memoizedProps,x=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&x.focus();break e;case"img":u.src?x.src=u.src:u.srcSet&&(x.srcset=u.srcSet)}}catch(b){Rt(i,i.return,b)}}function cy(i,o,u){try{var x=i.stateNode;G8(x,i.type,u,o),x[jr]=o}catch(b){Rt(i,i.return,b)}}function wE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ri(i.type)||i.tag===4}function dy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ri(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function uy(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=js));else if(x!==4&&(x===27&&Ri(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(uy(i,o,u),i=i.sibling;i!==null;)uy(i,o,u),i=i.sibling}function Om(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(x!==4&&(x===27&&Ri(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Om(i,o,u),i=i.sibling;i!==null;)Om(i,o,u),i=i.sibling}function SE(i){var o=i.stateNode,u=i.memoizedProps;try{for(var x=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);er(o,x,u),o[Qn]=i,o[jr]=u}catch(S){Rt(i,i.return,S)}}var Os=!1,En=!1,fy=!1,CE=typeof WeakSet=="function"?WeakSet:Set,Un=null;function A8(i,o){if(i=i.containerInfo,Ry=Xm,i=I2(i),sv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var x=u.getSelection&&u.getSelection();if(x&&x.rangeCount!==0){u=x.anchorNode;var b=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var O=0,D=-1,V=-1,de=0,je=0,we=i,he=null;t:for(;;){for(var ge;we!==u||b!==0&&we.nodeType!==3||(D=O+b),we!==S||x!==0&&we.nodeType!==3||(V=O+x),we.nodeType===3&&(O+=we.nodeValue.length),(ge=we.firstChild)!==null;)he=we,we=ge;for(;;){if(we===i)break t;if(he===u&&++de===b&&(D=O),he===S&&++je===x&&(V=O),(ge=we.nextSibling)!==null)break;we=he,he=we.parentNode}we=ge}u=D===-1||V===-1?null:{start:D,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(My={focusedElem:i,selectionRange:u},Xm=!1,Un=o;Un!==null;)if(o=Un,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Un=i;else for(;Un!==null;){switch(o=Un,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)b=i[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=o,b=S.memoizedProps,S=S.memoizedState,x=u.stateNode;try{var He=Rl(u.type,b);i=x.getSnapshotBeforeUpdate(He,S),x.__reactInternalSnapshotBeforeUpdate=i}catch(Qe){Rt(u,u.return,Qe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Iy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Iy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,Un=i;break}Un=o.return}}function EE(i,o,u){var x=u.flags;switch(u.tag){case 0:case 11:case 15:_s(i,u),x&4&&Bd(5,u);break;case 1:if(_s(i,u),x&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Rt(u,u.return,O)}else{var b=Rl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Rt(u,u.return,O)}}x&64&&jE(u),x&512&&Ud(u,u.return);break;case 3:if(_s(i,u),x&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{dC(i,o)}catch(O){Rt(u,u.return,O)}}break;case 27:o===null&&x&4&&SE(u);case 26:case 5:_s(i,u),o===null&&x&4&&NE(u),x&512&&Ud(u,u.return);break;case 12:_s(i,u);break;case 31:_s(i,u),x&4&&TE(i,u);break;case 13:_s(i,u),x&4&&OE(i,u),x&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=L8.bind(null,u),n9(i,u))));break;case 22:if(x=u.memoizedState!==null||Os,!x){o=o!==null&&o.memoizedState!==null||En,b=Os;var S=En;Os=x,(En=o)&&!S?Rs(i,u,(u.subtreeFlags&8772)!==0):_s(i,u),Os=b,En=S}break;case 30:break;default:_s(i,u)}}function AE(i){var o=i.alternate;o!==null&&(i.alternate=null,AE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ug(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Nr=!1;function ks(i,o,u){for(u=u.child;u!==null;)PE(i,o,u),u=u.sibling}function PE(i,o,u){if(z&&typeof z.onCommitFiberUnmount=="function")try{z.onCommitFiberUnmount(gl,u)}catch{}switch(u.tag){case 26:En||Xa(u,o),ks(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:En||Xa(u,o);var x=Jt,b=Nr;Ri(u.type)&&(Jt=u.stateNode,Nr=!1),ks(i,o,u),Xd(u.stateNode),Jt=x,Nr=b;break;case 5:En||Xa(u,o);case 6:if(x=Jt,b=Nr,Jt=null,ks(i,o,u),Jt=x,Nr=b,Jt!==null)if(Nr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(u.stateNode)}catch(S){Rt(u,o,S)}else try{Jt.removeChild(u.stateNode)}catch(S){Rt(u,o,S)}break;case 18:Jt!==null&&(Nr?(i=Jt,jA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Jo(i)):jA(Jt,u.stateNode));break;case 4:x=Jt,b=Nr,Jt=u.stateNode.containerInfo,Nr=!0,ks(i,o,u),Jt=x,Nr=b;break;case 0:case 11:case 14:case 15:Ei(2,u,o),En||Ei(4,u,o),ks(i,o,u);break;case 1:En||(Xa(u,o),x=u.stateNode,typeof x.componentWillUnmount=="function"&&bE(u,o,x)),ks(i,o,u);break;case 21:ks(i,o,u);break;case 22:En=(x=En)||u.memoizedState!==null,ks(i,o,u),En=x;break;default:ks(i,o,u)}}function TE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Jo(i)}catch(u){Rt(o,o.return,u)}}}function OE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jo(i)}catch(u){Rt(o,o.return,u)}}function P8(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new CE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new CE),o;default:throw Error(a(435,i.tag))}}function km(i,o){var u=P8(i);o.forEach(function(x){if(!u.has(x)){u.add(x);var b=I8.bind(null,i,x);x.then(b,b)}})}function wr(i,o){var u=o.deletions;if(u!==null)for(var x=0;x<u.length;x++){var b=u[x],S=i,O=o,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(Ri(D.type)){Jt=D.stateNode,Nr=!1;break e}break;case 5:Jt=D.stateNode,Nr=!1;break e;case 3:case 4:Jt=D.stateNode.containerInfo,Nr=!0;break e}D=D.return}if(Jt===null)throw Error(a(160));PE(S,O,b),Jt=null,Nr=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)kE(o,i),o=o.sibling}var Ma=null;function kE(i,o){var u=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wr(o,i),Sr(i),x&4&&(Ei(3,i,i.return),Bd(3,i),Ei(5,i,i.return));break;case 1:wr(o,i),Sr(i),x&512&&(En||u===null||Xa(u,u.return)),x&64&&Os&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?x:u.concat(x))));break;case 26:var b=Ma;if(wr(o,i),Sr(i),x&512&&(En||u===null||Xa(u,u.return)),x&4){var S=u!==null?u.memoizedState:null;if(x=i.memoizedState,u===null)if(x===null)if(i.stateNode===null){e:{x=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(x){case"title":S=b.getElementsByTagName("title")[0],(!S||S[pd]||S[Qn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(x),b.head.insertBefore(S,b.querySelector("head > title"))),er(S,x,u),S[Qn]=i,Bn(S),x=S;break e;case"link":var O=kA("link","href",b).get(x+(u.href||""));if(O){for(var D=0;D<O.length;D++)if(S=O[D],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(D,1);break t}}S=b.createElement(x),er(S,x,u),b.head.appendChild(S);break;case"meta":if(O=kA("meta","content",b).get(x+(u.content||""))){for(D=0;D<O.length;D++)if(S=O[D],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(D,1);break t}}S=b.createElement(x),er(S,x,u),b.head.appendChild(S);break;default:throw Error(a(468,x))}S[Qn]=i,Bn(S),x=S}i.stateNode=x}else _A(b,i.type,i.stateNode);else i.stateNode=OA(b,x,i.memoizedProps);else S!==x?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,x===null?_A(b,i.type,i.stateNode):OA(b,x,i.memoizedProps)):x===null&&i.stateNode!==null&&cy(i,i.memoizedProps,u.memoizedProps)}break;case 27:wr(o,i),Sr(i),x&512&&(En||u===null||Xa(u,u.return)),u!==null&&x&4&&cy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(wr(o,i),Sr(i),x&512&&(En||u===null||Xa(u,u.return)),i.flags&32){b=i.stateNode;try{No(b,"")}catch(He){Rt(i,i.return,He)}}x&4&&i.stateNode!=null&&(b=i.memoizedProps,cy(i,b,u!==null?u.memoizedProps:b)),x&1024&&(fy=!0);break;case 6:if(wr(o,i),Sr(i),x&4){if(i.stateNode===null)throw Error(a(162));x=i.memoizedProps,u=i.stateNode;try{u.nodeValue=x}catch(He){Rt(i,i.return,He)}}break;case 3:if(Wm=null,b=Ma,Ma=Vm(o.containerInfo),wr(o,i),Ma=b,Sr(i),x&4&&u!==null&&u.memoizedState.isDehydrated)try{Jo(o.containerInfo)}catch(He){Rt(i,i.return,He)}fy&&(fy=!1,_E(i));break;case 4:x=Ma,Ma=Vm(i.stateNode.containerInfo),wr(o,i),Sr(i),Ma=x;break;case 12:wr(o,i),Sr(i);break;case 31:wr(o,i),Sr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,km(i,x)));break;case 13:wr(o,i),Sr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Rm=et()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,km(i,x)));break;case 22:b=i.memoizedState!==null;var V=u!==null&&u.memoizedState!==null,de=Os,je=En;if(Os=de||b,En=je||V,wr(o,i),En=je,Os=de,Sr(i),x&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||V||Os||En||Ml(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){V=u=o;try{if(S=V.stateNode,b)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=V.stateNode;var we=V.memoizedProps.style,he=we!=null&&we.hasOwnProperty("display")?we.display:null;D.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(He){Rt(V,V.return,He)}}}else if(o.tag===6){if(u===null){V=o;try{V.stateNode.nodeValue=b?"":V.memoizedProps}catch(He){Rt(V,V.return,He)}}}else if(o.tag===18){if(u===null){V=o;try{var ge=V.stateNode;b?bA(ge,!0):bA(V.stateNode,!1)}catch(He){Rt(V,V.return,He)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=i.updateQueue,x!==null&&(u=x.retryQueue,u!==null&&(x.retryQueue=null,km(i,u))));break;case 19:wr(o,i),Sr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,km(i,x)));break;case 30:break;case 21:break;default:wr(o,i),Sr(i)}}function Sr(i){var o=i.flags;if(o&2){try{for(var u,x=i.return;x!==null;){if(wE(x)){u=x;break}x=x.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var b=u.stateNode,S=dy(i);Om(i,S,b);break;case 5:var O=u.stateNode;u.flags&32&&(No(O,""),u.flags&=-33);var D=dy(i);Om(i,D,O);break;case 3:case 4:var V=u.stateNode.containerInfo,de=dy(i);uy(i,de,V);break;default:throw Error(a(161))}}catch(je){Rt(i,i.return,je)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function _E(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;_E(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function _s(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)EE(i,o.alternate,o),o=o.sibling}function Ml(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ei(4,o,o.return),Ml(o);break;case 1:Xa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&bE(o,o.return,u),Ml(o);break;case 27:Xd(o.stateNode);case 26:case 5:Xa(o,o.return),Ml(o);break;case 22:o.memoizedState===null&&Ml(o);break;case 30:Ml(o);break;default:Ml(o)}i=i.sibling}}function Rs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,b=i,S=o,O=S.flags;switch(S.tag){case 0:case 11:case 15:Rs(b,S,u),Bd(4,S);break;case 1:if(Rs(b,S,u),x=S,b=x.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(de){Rt(x,x.return,de)}if(x=S,b=x.updateQueue,b!==null){var D=x.stateNode;try{var V=b.shared.hiddenCallbacks;if(V!==null)for(b.shared.hiddenCallbacks=null,b=0;b<V.length;b++)cC(V[b],D)}catch(de){Rt(x,x.return,de)}}u&&O&64&&jE(S),Ud(S,S.return);break;case 27:SE(S);case 26:case 5:Rs(b,S,u),u&&x===null&&O&4&&NE(S),Ud(S,S.return);break;case 12:Rs(b,S,u);break;case 31:Rs(b,S,u),u&&O&4&&TE(b,S);break;case 13:Rs(b,S,u),u&&O&4&&OE(b,S);break;case 22:S.memoizedState===null&&Rs(b,S,u),Ud(S,S.return);break;case 30:break;default:Rs(b,S,u)}o=o.sibling}}function my(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Pd(u))}function hy(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Pd(i))}function Da(i,o,u,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)RE(i,o,u,x),o=o.sibling}function RE(i,o,u,x){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Da(i,o,u,x),b&2048&&Bd(9,o);break;case 1:Da(i,o,u,x);break;case 3:Da(i,o,u,x),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Pd(i)));break;case 12:if(b&2048){Da(i,o,u,x),i=o.stateNode;try{var S=o.memoizedProps,O=S.id,D=S.onPostCommit;typeof D=="function"&&D(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Rt(o,o.return,V)}}else Da(i,o,u,x);break;case 31:Da(i,o,u,x);break;case 13:Da(i,o,u,x);break;case 23:break;case 22:S=o.stateNode,O=o.alternate,o.memoizedState!==null?S._visibility&2?Da(i,o,u,x):Hd(i,o):S._visibility&2?Da(i,o,u,x):(S._visibility|=2,Uo(i,o,u,x,(o.subtreeFlags&10256)!==0||!1)),b&2048&&my(O,o);break;case 24:Da(i,o,u,x),b&2048&&hy(o.alternate,o);break;default:Da(i,o,u,x)}}function Uo(i,o,u,x,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,O=o,D=u,V=x,de=O.flags;switch(O.tag){case 0:case 11:case 15:Uo(S,O,D,V,b),Bd(8,O);break;case 23:break;case 22:var je=O.stateNode;O.memoizedState!==null?je._visibility&2?Uo(S,O,D,V,b):Hd(S,O):(je._visibility|=2,Uo(S,O,D,V,b)),b&&de&2048&&my(O.alternate,O);break;case 24:Uo(S,O,D,V,b),b&&de&2048&&hy(O.alternate,O);break;default:Uo(S,O,D,V,b)}o=o.sibling}}function Hd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,x=o,b=x.flags;switch(x.tag){case 22:Hd(u,x),b&2048&&my(x.alternate,x);break;case 24:Hd(u,x),b&2048&&hy(x.alternate,x);break;default:Hd(u,x)}o=o.sibling}}var qd=8192;function Ho(i,o,u){if(i.subtreeFlags&qd)for(i=i.child;i!==null;)ME(i,o,u),i=i.sibling}function ME(i,o,u){switch(i.tag){case 26:Ho(i,o,u),i.flags&qd&&i.memoizedState!==null&&h9(u,Ma,i.memoizedState,i.memoizedProps);break;case 5:Ho(i,o,u);break;case 3:case 4:var x=Ma;Ma=Vm(i.stateNode.containerInfo),Ho(i,o,u),Ma=x;break;case 22:i.memoizedState===null&&(x=i.alternate,x!==null&&x.memoizedState!==null?(x=qd,qd=16777216,Ho(i,o,u),qd=x):Ho(i,o,u));break;default:Ho(i,o,u)}}function DE(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Vd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];Un=x,IE(x,i)}DE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)LE(i),i=i.sibling}function LE(i){switch(i.tag){case 0:case 11:case 15:Vd(i),i.flags&2048&&Ei(9,i,i.return);break;case 3:Vd(i);break;case 12:Vd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,_m(i)):Vd(i);break;default:Vd(i)}}function _m(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];Un=x,IE(x,i)}DE(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ei(8,o,o.return),_m(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,_m(o));break;default:_m(o)}i=i.sibling}}function IE(i,o){for(;Un!==null;){var u=Un;switch(u.tag){case 0:case 11:case 15:Ei(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var x=u.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Pd(u.memoizedState.cache)}if(x=u.child,x!==null)x.return=u,Un=x;else e:for(u=i;Un!==null;){x=Un;var b=x.sibling,S=x.return;if(AE(x),x===u){Un=null;break e}if(b!==null){b.return=S,Un=b;break e}Un=S}}}var T8={getCacheForType:function(i){var o=Zn(wn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Zn(wn).controller.signal}},O8=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Bt=null,gt=null,yt=0,_t=0,Ur=null,Ai=!1,qo=!1,py=!1,Ms=0,cn=0,Pi=0,Dl=0,xy=0,Hr=0,Vo=0,Kd=null,Cr=null,gy=!1,Rm=0,$E=0,Mm=1/0,Dm=null,Ti=null,_n=0,Oi=null,Ko=null,Ds=0,vy=0,yy=null,FE=null,Wd=0,jy=null;function qr(){return(Tt&2)!==0&&yt!==0?yt&-yt:B.T!==null?Ey():t2()}function zE(){if(Hr===0)if((yt&536870912)===0||Nt){var i=Hf;Hf<<=1,(Hf&3932160)===0&&(Hf=262144),Hr=i}else Hr=536870912;return i=zr.current,i!==null&&(i.flags|=32),Hr}function Er(i,o,u){(i===Bt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(Wo(i,0),ki(i,yt,Hr,!1)),hd(i,u),((Tt&2)===0||i!==Bt)&&(i===Bt&&((Tt&2)===0&&(Dl|=u),cn===4&&ki(i,yt,Hr,!1)),Za(i))}function BE(i,o,u){if((Tt&6)!==0)throw Error(a(327));var x=!u&&(o&127)===0&&(o&i.expiredLanes)===0||md(i,o),b=x?R8(i,o):Ny(i,o,!0),S=x;do{if(b===0){qo&&!x&&ki(i,o,0,!1);break}else{if(u=i.current.alternate,S&&!k8(u)){b=Ny(i,o,!1),S=!1;continue}if(b===2){if(S=o,i.errorRecoveryDisabledLanes&S)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var D=i;b=Kd;var V=D.current.memoizedState.isDehydrated;if(V&&(Wo(D,O).flags|=256),O=Ny(D,O,!1),O!==2){if(py&&!V){D.errorRecoveryDisabledLanes|=S,Dl|=S,b=4;break e}S=Cr,Cr=b,S!==null&&(Cr===null?Cr=S:Cr.push.apply(Cr,S))}b=O}if(S=!1,b!==2)continue}}if(b===1){Wo(i,0),ki(i,o,0,!0);break}e:{switch(x=i,S=b,S){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:ki(x,o,Hr,!Ai);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(b=Rm+300-et(),10<b)){if(ki(x,o,Hr,!Ai),Vf(x,0,!0)!==0)break e;Ds=o,x.timeoutHandle=vA(UE.bind(null,x,u,Cr,Dm,gy,o,Hr,Dl,Vo,Ai,S,"Throttled",-0,0),b);break e}UE(x,u,Cr,Dm,gy,o,Hr,Dl,Vo,Ai,S,null,-0,0)}}break}while(!0);Za(i)}function UE(i,o,u,x,b,S,O,D,V,de,je,we,he,ge){if(i.timeoutHandle=-1,we=o.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:js},ME(o,S,we);var He=(S&62914560)===S?Rm-et():(S&4194048)===S?$E-et():0;if(He=p9(we,He),He!==null){Ds=S,i.cancelPendingCommit=He(QE.bind(null,i,o,S,u,x,b,O,D,V,je,we,null,he,ge)),ki(i,S,O,!de);return}}QE(i,o,S,u,x,b,O,D,V)}function k8(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var x=0;x<u.length;x++){var b=u[x],S=b.getSnapshot;b=b.value;try{if(!$r(S(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ki(i,o,u,x){o&=~xy,o&=~Dl,i.suspendedLanes|=o,i.pingedLanes&=~o,x&&(i.warmLanes|=o),x=i.expirationTimes;for(var b=o;0<b;){var S=31-st(b),O=1<<S;x[S]=-1,b&=~O}u!==0&&ZS(i,u,o)}function Lm(){return(Tt&6)===0?(Gd(0),!1):!0}function by(){if(gt!==null){if(_t===0)var i=gt.return;else i=gt,Ss=El=null,Iv(i),Io=null,Od=0,i=gt;for(;i!==null;)yE(i.alternate,i),i=i.return;gt=null}}function Wo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,X8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ds=0,by(),Bt=i,gt=u=Ns(i.current,null),yt=o,_t=0,Ur=null,Ai=!1,qo=md(i,o),py=!1,Vo=Hr=xy=Dl=Pi=cn=0,Cr=Kd=null,gy=!1,(o&8)!==0&&(o|=o&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=o;0<x;){var b=31-st(x),S=1<<b;o|=i[b],x&=~S}return Ms=o,rm(),u}function HE(i,o){dt=null,B.H=$d,o===Lo||o===um?(o=sC(),_t=3):o===Cv?(o=sC(),_t=4):_t=o===Jv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ur=o,gt===null&&(cn=1,Cm(i,da(o,i.current)))}function qE(){var i=zr.current;return i===null?!0:(yt&4194048)===yt?ha===null:(yt&62914560)===yt||(yt&536870912)!==0?i===ha:!1}function VE(){var i=B.H;return B.H=$d,i===null?$d:i}function KE(){var i=B.A;return B.A=T8,i}function Im(){cn=4,Ai||(yt&4194048)!==yt&&zr.current!==null||(qo=!0),(Pi&134217727)===0&&(Dl&134217727)===0||Bt===null||ki(Bt,yt,Hr,!1)}function Ny(i,o,u){var x=Tt;Tt|=2;var b=VE(),S=KE();(Bt!==i||yt!==o)&&(Dm=null,Wo(i,o)),o=!1;var O=cn;e:do try{if(_t!==0&&gt!==null){var D=gt,V=Ur;switch(_t){case 8:by(),O=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(o=!0);var de=_t;if(_t=0,Ur=null,Go(i,D,V,de),u&&qo){O=0;break e}break;default:de=_t,_t=0,Ur=null,Go(i,D,V,de)}}_8(),O=cn;break}catch(je){HE(i,je)}while(!0);return o&&i.shellSuspendCounter++,Ss=El=null,Tt=x,B.H=b,B.A=S,gt===null&&(Bt=null,yt=0,rm()),O}function _8(){for(;gt!==null;)WE(gt)}function R8(i,o){var u=Tt;Tt|=2;var x=VE(),b=KE();Bt!==i||yt!==o?(Dm=null,Mm=et()+500,Wo(i,o)):qo=md(i,o);e:do try{if(_t!==0&&gt!==null){o=gt;var S=Ur;t:switch(_t){case 1:_t=0,Ur=null,Go(i,o,S,1);break;case 2:case 9:if(rC(S)){_t=0,Ur=null,GE(o);break}o=function(){_t!==2&&_t!==9||Bt!==i||(_t=7),Za(i)},S.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:rC(S)?(_t=0,Ur=null,GE(o)):(_t=0,Ur=null,Go(i,o,S,7));break;case 5:var O=null;switch(gt.tag){case 26:O=gt.memoizedState;case 5:case 27:var D=gt;if(O?RA(O):D.stateNode.complete){_t=0,Ur=null;var V=D.sibling;if(V!==null)gt=V;else{var de=D.return;de!==null?(gt=de,$m(de)):gt=null}break t}}_t=0,Ur=null,Go(i,o,S,5);break;case 6:_t=0,Ur=null,Go(i,o,S,6);break;case 8:by(),cn=6;break e;default:throw Error(a(462))}}M8();break}catch(je){HE(i,je)}while(!0);return Ss=El=null,B.H=x,B.A=b,Tt=u,gt!==null?0:(Bt=null,yt=0,rm(),cn)}function M8(){for(;gt!==null&&!yr();)WE(gt)}function WE(i){var o=gE(i.alternate,i,Ms);i.memoizedProps=i.pendingProps,o===null?$m(i):gt=o}function GE(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=uE(u,o,o.pendingProps,o.type,void 0,yt);break;case 11:o=uE(u,o,o.pendingProps,o.type.render,o.ref,yt);break;case 5:Iv(o);default:yE(u,o),o=gt=K2(o,Ms),o=gE(u,o,Ms)}i.memoizedProps=i.pendingProps,o===null?$m(i):gt=o}function Go(i,o,u,x){Ss=El=null,Iv(o),Io=null,Od=0;var b=o.return;try{if(N8(i,b,o,u,yt)){cn=1,Cm(i,da(u,i.current)),gt=null;return}}catch(S){if(b!==null)throw gt=b,S;cn=1,Cm(i,da(u,i.current)),gt=null;return}o.flags&32768?(Nt||x===1?i=!0:qo||(yt&536870912)!==0?i=!1:(Ai=i=!0,(x===2||x===9||x===3||x===6)&&(x=zr.current,x!==null&&x.tag===13&&(x.flags|=16384))),YE(o,i)):$m(o)}function $m(i){var o=i;do{if((o.flags&32768)!==0){YE(o,Ai);return}i=o.return;var u=C8(o.alternate,o,Ms);if(u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=i}while(o!==null);cn===0&&(cn=5)}function YE(i,o){do{var u=E8(i.alternate,i);if(u!==null){u.flags&=32767,gt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){gt=i;return}gt=i=u}while(i!==null);cn=6,gt=null}function QE(i,o,u,x,b,S,O,D,V){i.cancelPendingCommit=null;do Fm();while(_n!==0);if((Tt&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(S=o.lanes|o.childLanes,S|=dv,mB(i,u,S,O,D,V),i===Bt&&(gt=Bt=null,yt=0),Ko=o,Oi=i,Ds=u,vy=S,yy=b,FE=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$8(po,function(){return tA(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=B.T,B.T=null,b=Z.p,Z.p=2,O=Tt,Tt|=4;try{A8(i,o,u)}finally{Tt=O,Z.p=b,B.T=x}}_n=1,XE(),ZE(),JE()}}function XE(){if(_n===1){_n=0;var i=Oi,o=Ko,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var x=Z.p;Z.p=2;var b=Tt;Tt|=4;try{kE(o,i);var S=My,O=I2(i.containerInfo),D=S.focusedElem,V=S.selectionRange;if(O!==D&&D&&D.ownerDocument&&L2(D.ownerDocument.documentElement,D)){if(V!==null&&sv(D)){var de=V.start,je=V.end;if(je===void 0&&(je=de),"selectionStart"in D)D.selectionStart=de,D.selectionEnd=Math.min(je,D.value.length);else{var we=D.ownerDocument||document,he=we&&we.defaultView||window;if(he.getSelection){var ge=he.getSelection(),He=D.textContent.length,Qe=Math.min(V.start,He),Ft=V.end===void 0?Qe:Math.min(V.end,He);!ge.extend&&Qe>Ft&&(O=Ft,Ft=Qe,Qe=O);var se=D2(D,Qe),Q=D2(D,Ft);if(se&&Q&&(ge.rangeCount!==1||ge.anchorNode!==se.node||ge.anchorOffset!==se.offset||ge.focusNode!==Q.node||ge.focusOffset!==Q.offset)){var ce=we.createRange();ce.setStart(se.node,se.offset),ge.removeAllRanges(),Qe>Ft?(ge.addRange(ce),ge.extend(Q.node,Q.offset)):(ce.setEnd(Q.node,Q.offset),ge.addRange(ce))}}}}for(we=[],ge=D;ge=ge.parentNode;)ge.nodeType===1&&we.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<we.length;D++){var be=we[D];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Xm=!!Ry,My=Ry=null}finally{Tt=b,Z.p=x,B.T=u}}i.current=o,_n=2}}function ZE(){if(_n===2){_n=0;var i=Oi,o=Ko,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var x=Z.p;Z.p=2;var b=Tt;Tt|=4;try{EE(i,o.alternate,o)}finally{Tt=b,Z.p=x,B.T=u}}_n=3}}function JE(){if(_n===4||_n===3){_n=0,Nn();var i=Oi,o=Ko,u=Ds,x=FE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?_n=5:(_n=0,Ko=Oi=null,eA(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Ti=null),zg(u),o=o.stateNode,z&&typeof z.onCommitFiberRoot=="function")try{z.onCommitFiberRoot(gl,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=B.T,b=Z.p,Z.p=2,B.T=null;try{for(var S=i.onRecoverableError,O=0;O<x.length;O++){var D=x[O];S(D.value,{componentStack:D.stack})}}finally{B.T=o,Z.p=b}}(Ds&3)!==0&&Fm(),Za(i),b=i.pendingLanes,(u&261930)!==0&&(b&42)!==0?i===jy?Wd++:(Wd=0,jy=i):Wd=0,Gd(0)}}function eA(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Pd(o)))}function Fm(){return XE(),ZE(),JE(),tA()}function tA(){if(_n!==5)return!1;var i=Oi,o=vy;vy=0;var u=zg(Ds),x=B.T,b=Z.p;try{Z.p=32>u?32:u,B.T=null,u=yy,yy=null;var S=Oi,O=Ds;if(_n=0,Ko=Oi=null,Ds=0,(Tt&6)!==0)throw Error(a(331));var D=Tt;if(Tt|=4,LE(S.current),RE(S,S.current,O,u),Tt=D,Gd(0,!1),z&&typeof z.onPostCommitFiberRoot=="function")try{z.onPostCommitFiberRoot(gl,S)}catch{}return!0}finally{Z.p=b,B.T=x,eA(i,o)}}function nA(i,o,u){o=da(u,o),o=Zv(i.stateNode,o,2),i=wi(i,o,2),i!==null&&(hd(i,2),Za(i))}function Rt(i,o,u){if(i.tag===3)nA(i,i,u);else for(;o!==null;){if(o.tag===3){nA(o,i,u);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ti===null||!Ti.has(x))){i=da(u,i),u=rE(2),x=wi(o,u,2),x!==null&&(aE(u,x,o,i),hd(x,2),Za(x));break}}o=o.return}}function wy(i,o,u){var x=i.pingCache;if(x===null){x=i.pingCache=new O8;var b=new Set;x.set(o,b)}else b=x.get(o),b===void 0&&(b=new Set,x.set(o,b));b.has(u)||(py=!0,b.add(u),i=D8.bind(null,i,o,u),o.then(i,i))}function D8(i,o,u){var x=i.pingCache;x!==null&&x.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(yt&u)===u&&(cn===4||cn===3&&(yt&62914560)===yt&&300>et()-Rm?(Tt&2)===0&&Wo(i,0):xy|=u,Vo===yt&&(Vo=0)),Za(i)}function rA(i,o){o===0&&(o=XS()),i=wl(i,o),i!==null&&(hd(i,o),Za(i))}function L8(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),rA(i,u)}function I8(i,o){var u=0;switch(i.tag){case 31:case 13:var x=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(a(314))}x!==null&&x.delete(o),rA(i,u)}function $8(i,o){return ct(i,o)}var zm=null,Yo=null,Sy=!1,Bm=!1,Cy=!1,_i=0;function Za(i){i!==Yo&&i.next===null&&(Yo===null?zm=Yo=i:Yo=Yo.next=i),Bm=!0,Sy||(Sy=!0,z8())}function Gd(i,o){if(!Cy&&Bm){Cy=!0;do for(var u=!1,x=zm;x!==null;){if(i!==0){var b=x.pendingLanes;if(b===0)var S=0;else{var O=x.suspendedLanes,D=x.pingedLanes;S=(1<<31-st(42|i)+1)-1,S&=b&~(O&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,lA(x,S))}else S=yt,S=Vf(x,x===Bt?S:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(S&3)===0||md(x,S)||(u=!0,lA(x,S));x=x.next}while(u);Cy=!1}}function F8(){aA()}function aA(){Bm=Sy=!1;var i=0;_i!==0&&Q8()&&(i=_i);for(var o=et(),u=null,x=zm;x!==null;){var b=x.next,S=sA(x,o);S===0?(x.next=null,u===null?zm=b:u.next=b,b===null&&(Yo=u)):(u=x,(i!==0||(S&3)!==0)&&(Bm=!0)),x=b}_n!==0&&_n!==5||Gd(i),_i!==0&&(_i=0)}function sA(i,o){for(var u=i.suspendedLanes,x=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var O=31-st(S),D=1<<O,V=b[O];V===-1?((D&u)===0||(D&x)!==0)&&(b[O]=fB(D,o)):V<=o&&(i.expiredLanes|=D),S&=~D}if(o=Bt,u=yt,u=Vf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,u===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&ln(x),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||md(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(x!==null&&ln(x),zg(u)){case 2:case 8:u=mn;break;case 32:u=po;break;case 268435456:u=xl;break;default:u=po}return x=iA.bind(null,i),u=ct(u,x),i.callbackPriority=o,i.callbackNode=u,o}return x!==null&&x!==null&&ln(x),i.callbackPriority=2,i.callbackNode=null,2}function iA(i,o){if(_n!==0&&_n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Fm()&&i.callbackNode!==u)return null;var x=yt;return x=Vf(i,i===Bt?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(BE(i,x,o),sA(i,et()),i.callbackNode!=null&&i.callbackNode===u?iA.bind(null,i):null)}function lA(i,o){if(Fm())return null;BE(i,o,!0)}function z8(){Z8(function(){(Tt&6)!==0?ct(pl,F8):aA()})}function Ey(){if(_i===0){var i=Mo;i===0&&(i=ia,ia<<=1,(ia&261888)===0&&(ia=256)),_i=i}return _i}function oA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yf(""+i)}function cA(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function B8(i,o,u,x,b){if(o==="submit"&&u&&u.stateNode===b){var S=oA((b[jr]||null).action),O=x.submitter;O&&(o=(o=O[jr]||null)?oA(o.formAction):O.getAttribute("formAction"),o!==null&&(S=o,O=null));var D=new Jf("action","action",null,x,b);i.push({event:D,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(_i!==0){var V=O?cA(b,O):new FormData(b);Kv(u,{pending:!0,data:V,method:b.method,action:S},null,V)}}else typeof S=="function"&&(D.preventDefault(),V=O?cA(b,O):new FormData(b),Kv(u,{pending:!0,data:V,method:b.method,action:S},S,V))},currentTarget:b}]})}}for(var Ay=0;Ay<cv.length;Ay++){var Py=cv[Ay],U8=Py.toLowerCase(),H8=Py[0].toUpperCase()+Py.slice(1);Ra(U8,"on"+H8)}Ra(z2,"onAnimationEnd"),Ra(B2,"onAnimationIteration"),Ra(U2,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(s8,"onTransitionRun"),Ra(i8,"onTransitionStart"),Ra(l8,"onTransitionCancel"),Ra(H2,"onTransitionEnd"),jo("onMouseEnter",["mouseout","mouseover"]),jo("onMouseLeave",["mouseout","mouseover"]),jo("onPointerEnter",["pointerout","pointerover"]),jo("onPointerLeave",["pointerout","pointerover"]),yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yl("onBeforeInput",["compositionend","keypress","textInput","paste"]),yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function dA(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var x=i[u],b=x.event;x=x.listeners;e:{var S=void 0;if(o)for(var O=x.length-1;0<=O;O--){var D=x[O],V=D.instance,de=D.currentTarget;if(D=D.listener,V!==S&&b.isPropagationStopped())break e;S=D,b.currentTarget=de;try{S(b)}catch(je){nm(je)}b.currentTarget=null,S=V}else for(O=0;O<x.length;O++){if(D=x[O],V=D.instance,de=D.currentTarget,D=D.listener,V!==S&&b.isPropagationStopped())break e;S=D,b.currentTarget=de;try{S(b)}catch(je){nm(je)}b.currentTarget=null,S=V}}}}function vt(i,o){var u=o[Bg];u===void 0&&(u=o[Bg]=new Set);var x=i+"__bubble";u.has(x)||(uA(o,i,2,!1),u.add(x))}function Ty(i,o,u){var x=0;o&&(x|=4),uA(u,i,x,o)}var Um="_reactListening"+Math.random().toString(36).slice(2);function Oy(i){if(!i[Um]){i[Um]=!0,a2.forEach(function(u){u!=="selectionchange"&&(q8.has(u)||Ty(u,!1,i),Ty(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Um]||(o[Um]=!0,Ty("selectionchange",!1,o))}}function uA(i,o,u,x){switch(zA(o)){case 2:var b=v9;break;case 8:b=y9;break;default:b=Vy}u=b.bind(null,o,u,i),b=void 0,!Qg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),x?b!==void 0?i.addEventListener(o,u,{capture:!0,passive:b}):i.addEventListener(o,u,!0):b!==void 0?i.addEventListener(o,u,{passive:b}):i.addEventListener(o,u,!1)}function ky(i,o,u,x,b){var S=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var O=x.tag;if(O===3||O===4){var D=x.stateNode.containerInfo;if(D===b)break;if(O===4)for(O=x.return;O!==null;){var V=O.tag;if((V===3||V===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;D!==null;){if(O=go(D),O===null)return;if(V=O.tag,V===5||V===6||V===26||V===27){x=S=O;continue e}D=D.parentNode}}x=x.return}x2(function(){var de=S,je=Gg(u),we=[];e:{var he=q2.get(i);if(he!==void 0){var ge=Jf,He=i;switch(i){case"keypress":if(Xf(u)===0)break e;case"keydown":case"keyup":ge=IB;break;case"focusin":He="focus",ge=ev;break;case"focusout":He="blur",ge=ev;break;case"beforeblur":case"afterblur":ge=ev;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=y2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=CB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=zB;break;case z2:case B2:case U2:ge=PB;break;case H2:ge=UB;break;case"scroll":case"scrollend":ge=wB;break;case"wheel":ge=qB;break;case"copy":case"cut":case"paste":ge=OB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=b2;break;case"toggle":case"beforetoggle":ge=KB}var Qe=(o&4)!==0,Ft=!Qe&&(i==="scroll"||i==="scrollend"),se=Qe?he!==null?he+"Capture":null:he;Qe=[];for(var Q=de,ce;Q!==null;){var be=Q;if(ce=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ce===null||se===null||(be=gd(Q,se),be!=null&&Qe.push(Qd(Q,be,ce))),Ft)break;Q=Q.return}0<Qe.length&&(he=new ge(he,He,null,u,je),we.push({event:he,listeners:Qe}))}}if((o&7)===0){e:{if(he=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",he&&u!==Wg&&(He=u.relatedTarget||u.fromElement)&&(go(He)||He[xo]))break e;if((ge||he)&&(he=je.window===je?je:(he=je.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(He=u.relatedTarget||u.toElement,ge=de,He=He?go(He):null,He!==null&&(Ft=l(He),Qe=He.tag,He!==Ft||Qe!==5&&Qe!==27&&Qe!==6)&&(He=null)):(ge=null,He=de),ge!==He)){if(Qe=y2,be="onMouseLeave",se="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Qe=b2,be="onPointerLeave",se="onPointerEnter",Q="pointer"),Ft=ge==null?he:xd(ge),ce=He==null?he:xd(He),he=new Qe(be,Q+"leave",ge,u,je),he.target=Ft,he.relatedTarget=ce,be=null,go(je)===de&&(Qe=new Qe(se,Q+"enter",He,u,je),Qe.target=ce,Qe.relatedTarget=Ft,be=Qe),Ft=be,ge&&He)t:{for(Qe=V8,se=ge,Q=He,ce=0,be=se;be;be=Qe(be))ce++;be=0;for(var Ge=Q;Ge;Ge=Qe(Ge))be++;for(;0<ce-be;)se=Qe(se),ce--;for(;0<be-ce;)Q=Qe(Q),be--;for(;ce--;){if(se===Q||Q!==null&&se===Q.alternate){Qe=se;break t}se=Qe(se),Q=Qe(Q)}Qe=null}else Qe=null;ge!==null&&fA(we,he,ge,Qe,!1),He!==null&&Ft!==null&&fA(we,Ft,He,Qe,!0)}}e:{if(he=de?xd(de):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Et=T2;else if(A2(he))if(O2)Et=n8;else{Et=e8;var Ke=JB}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?de&&Kg(de.elementType)&&(Et=T2):Et=t8;if(Et&&(Et=Et(i,de))){P2(we,Et,u,je);break e}Ke&&Ke(i,he,de),i==="focusout"&&de&&he.type==="number"&&de.memoizedProps.value!=null&&Vg(he,"number",he.value)}switch(Ke=de?xd(de):window,i){case"focusin":(A2(Ke)||Ke.contentEditable==="true")&&(Eo=Ke,iv=de,Cd=null);break;case"focusout":Cd=iv=Eo=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,$2(we,u,je);break;case"selectionchange":if(a8)break;case"keydown":case"keyup":$2(we,u,je)}var ft;if(nv)e:{switch(i){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else Co?C2(i,u)&&(jt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(jt="onCompositionStart");jt&&(N2&&u.locale!=="ko"&&(Co||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Co&&(ft=g2()):(xi=je,Xg="value"in xi?xi.value:xi.textContent,Co=!0)),Ke=Hm(de,jt),0<Ke.length&&(jt=new j2(jt,i,null,u,je),we.push({event:jt,listeners:Ke}),ft?jt.data=ft:(ft=E2(u),ft!==null&&(jt.data=ft)))),(ft=GB?YB(i,u):QB(i,u))&&(jt=Hm(de,"onBeforeInput"),0<jt.length&&(Ke=new j2("onBeforeInput","beforeinput",null,u,je),we.push({event:Ke,listeners:jt}),Ke.data=ft)),B8(we,i,de,u,je)}dA(we,o)})}function Qd(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Hm(i,o){for(var u=o+"Capture",x=[];i!==null;){var b=i,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=gd(i,u),b!=null&&x.unshift(Qd(i,b,S)),b=gd(i,o),b!=null&&x.push(Qd(i,b,S))),i.tag===3)return x;i=i.return}return[]}function V8(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fA(i,o,u,x,b){for(var S=o._reactName,O=[];u!==null&&u!==x;){var D=u,V=D.alternate,de=D.stateNode;if(D=D.tag,V!==null&&V===x)break;D!==5&&D!==26&&D!==27||de===null||(V=de,b?(de=gd(u,S),de!=null&&O.unshift(Qd(u,de,V))):b||(de=gd(u,S),de!=null&&O.push(Qd(u,de,V)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var K8=/\r\n?/g,W8=/\u0000|\uFFFD/g;function mA(i){return(typeof i=="string"?i:""+i).replace(K8,`
`).replace(W8,"")}function hA(i,o){return o=mA(o),mA(i)===o}function $t(i,o,u,x,b,S){switch(u){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||No(i,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&No(i,""+x);break;case"className":Wf(i,"class",x);break;case"tabIndex":Wf(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Wf(i,u,x);break;case"style":h2(i,x,S);break;case"data":if(o!=="object"){Wf(i,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=Yf(""+x),i.setAttribute(u,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&$t(i,o,"name",b.name,b,null),$t(i,o,"formEncType",b.formEncType,b,null),$t(i,o,"formMethod",b.formMethod,b,null),$t(i,o,"formTarget",b.formTarget,b,null)):($t(i,o,"encType",b.encType,b,null),$t(i,o,"method",b.method,b,null),$t(i,o,"target",b.target,b,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=Yf(""+x),i.setAttribute(u,x);break;case"onClick":x!=null&&(i.onclick=js);break;case"onScroll":x!=null&&vt("scroll",i);break;case"onScrollEnd":x!=null&&vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(u=x.__html,u!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}u=Yf(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""+x):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":x===!0?i.setAttribute(u,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,x):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(u,x):i.removeAttribute(u);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(u):i.setAttribute(u,x);break;case"popover":vt("beforetoggle",i),vt("toggle",i),Kf(i,"popover",x);break;case"xlinkActuate":ys(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ys(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ys(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ys(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ys(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ys(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ys(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ys(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ys(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Kf(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=bB.get(u)||u,Kf(i,u,x))}}function _y(i,o,u,x,b,S){switch(u){case"style":h2(i,x,S);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(u=x.__html,u!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof x=="string"?No(i,x):(typeof x=="number"||typeof x=="bigint")&&No(i,""+x);break;case"onScroll":x!=null&&vt("scroll",i);break;case"onScrollEnd":x!=null&&vt("scrollend",i);break;case"onClick":x!=null&&(i.onclick=js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!s2.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),S=i[jr]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(o,S,b),typeof x=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,x,b);break e}u in i?i[u]=x:x===!0?i.setAttribute(u,""):Kf(i,u,x)}}}function er(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",i),vt("load",i);var x=!1,b=!1,S;for(S in u)if(u.hasOwnProperty(S)){var O=u[S];if(O!=null)switch(S){case"src":x=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:$t(i,o,S,O,u,null)}}b&&$t(i,o,"srcSet",u.srcSet,u,null),x&&$t(i,o,"src",u.src,u,null);return;case"input":vt("invalid",i);var D=S=O=b=null,V=null,de=null;for(x in u)if(u.hasOwnProperty(x)){var je=u[x];if(je!=null)switch(x){case"name":b=je;break;case"type":O=je;break;case"checked":V=je;break;case"defaultChecked":de=je;break;case"value":S=je;break;case"defaultValue":D=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(a(137,o));break;default:$t(i,o,x,je,u,null)}}d2(i,S,D,V,de,O,b,!1);return;case"select":vt("invalid",i),x=O=S=null;for(b in u)if(u.hasOwnProperty(b)&&(D=u[b],D!=null))switch(b){case"value":S=D;break;case"defaultValue":O=D;break;case"multiple":x=D;default:$t(i,o,b,D,u,null)}o=S,u=O,i.multiple=!!x,o!=null?bo(i,!!x,o,!1):u!=null&&bo(i,!!x,u,!0);return;case"textarea":vt("invalid",i),S=b=x=null;for(O in u)if(u.hasOwnProperty(O)&&(D=u[O],D!=null))switch(O){case"value":x=D;break;case"defaultValue":b=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(91));break;default:$t(i,o,O,D,u,null)}f2(i,x,b,S);return;case"option":for(V in u)if(u.hasOwnProperty(V)&&(x=u[V],x!=null))switch(V){case"selected":i.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:$t(i,o,V,x,u,null)}return;case"dialog":vt("beforetoggle",i),vt("toggle",i),vt("cancel",i),vt("close",i);break;case"iframe":case"object":vt("load",i);break;case"video":case"audio":for(x=0;x<Yd.length;x++)vt(Yd[x],i);break;case"image":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"embed":case"source":case"link":vt("error",i),vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in u)if(u.hasOwnProperty(de)&&(x=u[de],x!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:$t(i,o,de,x,u,null)}return;default:if(Kg(o)){for(je in u)u.hasOwnProperty(je)&&(x=u[je],x!==void 0&&_y(i,o,je,x,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(x=u[D],x!=null&&$t(i,o,D,x,u,null))}function G8(i,o,u,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,O=null,D=null,V=null,de=null,je=null;for(ge in u){var we=u[ge];if(u.hasOwnProperty(ge)&&we!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":V=we;default:x.hasOwnProperty(ge)||$t(i,o,ge,null,x,we)}}for(var he in x){var ge=x[he];if(we=u[he],x.hasOwnProperty(he)&&(ge!=null||we!=null))switch(he){case"type":S=ge;break;case"name":b=ge;break;case"checked":de=ge;break;case"defaultChecked":je=ge;break;case"value":O=ge;break;case"defaultValue":D=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,o));break;default:ge!==we&&$t(i,o,he,ge,x,we)}}qg(i,O,D,V,de,je,S,b);return;case"select":ge=O=D=he=null;for(S in u)if(V=u[S],u.hasOwnProperty(S)&&V!=null)switch(S){case"value":break;case"multiple":ge=V;default:x.hasOwnProperty(S)||$t(i,o,S,null,x,V)}for(b in x)if(S=x[b],V=u[b],x.hasOwnProperty(b)&&(S!=null||V!=null))switch(b){case"value":he=S;break;case"defaultValue":D=S;break;case"multiple":O=S;default:S!==V&&$t(i,o,b,S,x,V)}o=D,u=O,x=ge,he!=null?bo(i,!!u,he,!1):!!x!=!!u&&(o!=null?bo(i,!!u,o,!0):bo(i,!!u,u?[]:"",!1));return;case"textarea":ge=he=null;for(D in u)if(b=u[D],u.hasOwnProperty(D)&&b!=null&&!x.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:$t(i,o,D,null,x,b)}for(O in x)if(b=x[O],S=u[O],x.hasOwnProperty(O)&&(b!=null||S!=null))switch(O){case"value":he=b;break;case"defaultValue":ge=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==S&&$t(i,o,O,b,x,S)}u2(i,he,ge);return;case"option":for(var He in u)if(he=u[He],u.hasOwnProperty(He)&&he!=null&&!x.hasOwnProperty(He))switch(He){case"selected":i.selected=!1;break;default:$t(i,o,He,null,x,he)}for(V in x)if(he=x[V],ge=u[V],x.hasOwnProperty(V)&&he!==ge&&(he!=null||ge!=null))switch(V){case"selected":i.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:$t(i,o,V,he,x,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in u)he=u[Qe],u.hasOwnProperty(Qe)&&he!=null&&!x.hasOwnProperty(Qe)&&$t(i,o,Qe,null,x,he);for(de in x)if(he=x[de],ge=u[de],x.hasOwnProperty(de)&&he!==ge&&(he!=null||ge!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,o));break;default:$t(i,o,de,he,x,ge)}return;default:if(Kg(o)){for(var Ft in u)he=u[Ft],u.hasOwnProperty(Ft)&&he!==void 0&&!x.hasOwnProperty(Ft)&&_y(i,o,Ft,void 0,x,he);for(je in x)he=x[je],ge=u[je],!x.hasOwnProperty(je)||he===ge||he===void 0&&ge===void 0||_y(i,o,je,he,x,ge);return}}for(var se in u)he=u[se],u.hasOwnProperty(se)&&he!=null&&!x.hasOwnProperty(se)&&$t(i,o,se,null,x,he);for(we in x)he=x[we],ge=u[we],!x.hasOwnProperty(we)||he===ge||he==null&&ge==null||$t(i,o,we,he,x,ge)}function pA(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y8(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),x=0;x<u.length;x++){var b=u[x],S=b.transferSize,O=b.initiatorType,D=b.duration;if(S&&D&&pA(O)){for(O=0,D=b.responseEnd,x+=1;x<u.length;x++){var V=u[x],de=V.startTime;if(de>D)break;var je=V.transferSize,we=V.initiatorType;je&&pA(we)&&(V=V.responseEnd,O+=je*(V<D?1:(D-de)/(V-de)))}if(--x,o+=8*(S+O)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ry=null,My=null;function qm(i){return i.nodeType===9?i:i.ownerDocument}function xA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gA(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Dy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ly=null;function Q8(){var i=window.event;return i&&i.type==="popstate"?i===Ly?!1:(Ly=i,!0):(Ly=null,!1)}var vA=typeof setTimeout=="function"?setTimeout:void 0,X8=typeof clearTimeout=="function"?clearTimeout:void 0,yA=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof yA<"u"?function(i){return yA.resolve(null).then(i).catch(J8)}:vA;function J8(i){setTimeout(function(){throw i})}function Ri(i){return i==="head"}function jA(i,o){var u=o,x=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(x===0){i.removeChild(b),Jo(o);return}x--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")x++;else if(u==="html")Xd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Xd(u);for(var S=u.firstChild;S;){var O=S.nextSibling,D=S.nodeName;S[pd]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=O}}else u==="body"&&Xd(i.ownerDocument.body);u=b}while(u);Jo(o)}function bA(i,o){var u=i;i=0;do{var x=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=x}while(u)}function Iy(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Iy(u),Ug(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function e9(i,o,u,x){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[pd])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=pa(i.nextSibling),i===null)break}return null}function t9(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=pa(i.nextSibling),i===null))return null;return i}function NA(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pa(i.nextSibling),i===null))return null;return i}function $y(i){return i.data==="$?"||i.data==="$~"}function Fy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function n9(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var x=function(){o(),u.removeEventListener("DOMContentLoaded",x)};u.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function pa(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var zy=null;function wA(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return pa(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function SA(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function CA(i,o,u){switch(o=qm(u),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Xd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ug(i)}var xa=new Map,EA=new Set;function Vm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ls=Z.d;Z.d={f:r9,r:a9,D:s9,C:i9,L:l9,m:o9,X:d9,S:c9,M:u9};function r9(){var i=Ls.f(),o=Lm();return i||o}function a9(i){var o=vo(i);o!==null&&o.tag===5&&o.type==="form"?HC(o):Ls.r(i)}var Qo=typeof document>"u"?null:document;function AA(i,o,u){var x=Qo;if(x&&typeof o=="string"&&o){var b=oa(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),EA.has(b)||(EA.add(b),i={rel:i,crossOrigin:u,href:o},x.querySelector(b)===null&&(o=x.createElement("link"),er(o,"link",i),Bn(o),x.head.appendChild(o)))}}function s9(i){Ls.D(i),AA("dns-prefetch",i,null)}function i9(i,o){Ls.C(i,o),AA("preconnect",i,o)}function l9(i,o,u){Ls.L(i,o,u);var x=Qo;if(x&&i&&o){var b='link[rel="preload"][as="'+oa(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+oa(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+oa(u.imageSizes)+'"]')):b+='[href="'+oa(i)+'"]';var S=b;switch(o){case"style":S=Xo(i);break;case"script":S=Zo(i)}xa.has(S)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),xa.set(S,i),x.querySelector(b)!==null||o==="style"&&x.querySelector(Zd(S))||o==="script"&&x.querySelector(Jd(S))||(o=x.createElement("link"),er(o,"link",i),Bn(o),x.head.appendChild(o)))}}function o9(i,o){Ls.m(i,o);var u=Qo;if(u&&i){var x=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+oa(x)+'"][href="'+oa(i)+'"]',S=b;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Zo(i)}if(!xa.has(S)&&(i=g({rel:"modulepreload",href:i},o),xa.set(S,i),u.querySelector(b)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Jd(S)))return}x=u.createElement("link"),er(x,"link",i),Bn(x),u.head.appendChild(x)}}}function c9(i,o,u){Ls.S(i,o,u);var x=Qo;if(x&&i){var b=yo(x).hoistableStyles,S=Xo(i);o=o||"default";var O=b.get(S);if(!O){var D={loading:0,preload:null};if(O=x.querySelector(Zd(S)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=xa.get(S))&&By(i,u);var V=O=x.createElement("link");Bn(V),er(V,"link",i),V._p=new Promise(function(de,je){V.onload=de,V.onerror=je}),V.addEventListener("load",function(){D.loading|=1}),V.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Km(O,o,x)}O={type:"stylesheet",instance:O,count:1,state:D},b.set(S,O)}}}function d9(i,o){Ls.X(i,o);var u=Qo;if(u&&i){var x=yo(u).hoistableScripts,b=Zo(i),S=x.get(b);S||(S=u.querySelector(Jd(b)),S||(i=g({src:i,async:!0},o),(o=xa.get(b))&&Uy(i,o),S=u.createElement("script"),Bn(S),er(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(b,S))}}function u9(i,o){Ls.M(i,o);var u=Qo;if(u&&i){var x=yo(u).hoistableScripts,b=Zo(i),S=x.get(b);S||(S=u.querySelector(Jd(b)),S||(i=g({src:i,async:!0,type:"module"},o),(o=xa.get(b))&&Uy(i,o),S=u.createElement("script"),Bn(S),er(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(b,S))}}function PA(i,o,u,x){var b=(b=Ie.current)?Vm(b):null;if(!b)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Xo(u.href),u=yo(b).hoistableStyles,x=u.get(o),x||(x={type:"style",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Xo(u.href);var S=yo(b).hoistableStyles,O=S.get(i);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,O),(S=b.querySelector(Zd(i)))&&!S._p&&(O.instance=S,O.state.loading=5),xa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},xa.set(i,u),S||f9(b,i,u,O.state))),o&&x===null)throw Error(a(528,""));return O}if(o&&x!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Zo(u),u=yo(b).hoistableScripts,x=u.get(o),x||(x={type:"script",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Xo(i){return'href="'+oa(i)+'"'}function Zd(i){return'link[rel="stylesheet"]['+i+"]"}function TA(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function f9(i,o,u,x){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=i.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),er(o,"link",u),Bn(o),i.head.appendChild(o))}function Zo(i){return'[src="'+oa(i)+'"]'}function Jd(i){return"script[async]"+i}function OA(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var x=i.querySelector('style[data-href~="'+oa(u.href)+'"]');if(x)return o.instance=x,Bn(x),x;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),Bn(x),er(x,"style",b),Km(x,u.precedence,i),o.instance=x;case"stylesheet":b=Xo(u.href);var S=i.querySelector(Zd(b));if(S)return o.state.loading|=4,o.instance=S,Bn(S),S;x=TA(u),(b=xa.get(b))&&By(x,b),S=(i.ownerDocument||i).createElement("link"),Bn(S);var O=S;return O._p=new Promise(function(D,V){O.onload=D,O.onerror=V}),er(S,"link",x),o.state.loading|=4,Km(S,u.precedence,i),o.instance=S;case"script":return S=Zo(u.src),(b=i.querySelector(Jd(S)))?(o.instance=b,Bn(b),b):(x=u,(b=xa.get(S))&&(x=g({},u),Uy(x,b)),i=i.ownerDocument||i,b=i.createElement("script"),Bn(b),er(b,"link",x),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,Km(x,u.precedence,i));return o.instance}function Km(i,o,u){for(var x=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=x.length?x[x.length-1]:null,S=b,O=0;O<x.length;O++){var D=x[O];if(D.dataset.precedence===o)S=D;else if(S!==b)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function By(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Uy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Wm=null;function kA(i,o,u){if(Wm===null){var x=new Map,b=Wm=new Map;b.set(u,x)}else b=Wm,x=b.get(u),x||(x=new Map,b.set(u,x));if(x.has(i))return x;for(x.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var S=u[b];if(!(S[pd]||S[Qn]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(o)||"";O=i+O;var D=x.get(O);D?D.push(S):x.set(O,[S])}}return x}function _A(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function m9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function RA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function h9(i,o,u,x){if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Xo(x.href),S=o.querySelector(Zd(b));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Gm.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=S,Bn(S);return}S=o.ownerDocument||o,x=TA(x),(b=xa.get(b))&&By(x,b),S=S.createElement("link"),Bn(S);var O=S;O._p=new Promise(function(D,V){O.onload=D,O.onerror=V}),er(S,"link",x),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Gm.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Hy=0;function p9(i,o){return i.stylesheets&&i.count===0&&Qm(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var x=setTimeout(function(){if(i.stylesheets&&Qm(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&Hy===0&&(Hy=62500*Y8());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Qm(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Hy?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(x),clearTimeout(b)}}:null}function Gm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ym=null;function Qm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ym=new Map,o.forEach(x9,i),Ym=null,Gm.call(i))}function x9(i,o){if(!(o.state.loading&4)){var u=Ym.get(i);if(u)var x=u.get(null);else{u=new Map,Ym.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var O=b[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),x=O)}x&&u.set(null,x)}b=o.instance,O=b.getAttribute("data-precedence"),S=u.get(O)||x,S===x&&u.set(null,b),u.set(O,b),this.count++,x=Gm.bind(this),b.addEventListener("load",x),b.addEventListener("error",x),S?S.parentNode.insertBefore(b,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var eu={$$typeof:A,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function g9(i,o,u,x,b,S,O,D,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$g(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.hiddenUpdates=$g(null),this.identifierPrefix=x,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function MA(i,o,u,x,b,S,O,D,V,de,je,we){return i=new g9(i,o,u,O,V,de,je,we,D),o=1,S===!0&&(o|=24),S=Fr(3,null,null,o),i.current=S,S.stateNode=i,o=Nv(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:x,isDehydrated:u,cache:o},Ev(S),i}function DA(i){return i?(i=To,i):To}function LA(i,o,u,x,b,S){b=DA(b),x.context===null?x.context=b:x.pendingContext=b,x=Ni(o),x.payload={element:u},S=S===void 0?null:S,S!==null&&(x.callback=S),u=wi(i,x,o),u!==null&&(Er(u,i,o),_d(u,i,o))}function IA(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function qy(i,o){IA(i,o),(i=i.alternate)&&IA(i,o)}function $A(i){if(i.tag===13||i.tag===31){var o=wl(i,67108864);o!==null&&Er(o,i,67108864),qy(i,67108864)}}function FA(i){if(i.tag===13||i.tag===31){var o=qr();o=Fg(o);var u=wl(i,o);u!==null&&Er(u,i,o),qy(i,o)}}var Xm=!0;function v9(i,o,u,x){var b=B.T;B.T=null;var S=Z.p;try{Z.p=2,Vy(i,o,u,x)}finally{Z.p=S,B.T=b}}function y9(i,o,u,x){var b=B.T;B.T=null;var S=Z.p;try{Z.p=8,Vy(i,o,u,x)}finally{Z.p=S,B.T=b}}function Vy(i,o,u,x){if(Xm){var b=Ky(x);if(b===null)ky(i,o,x,Zm,u),BA(i,x);else if(b9(b,i,o,u,x))x.stopPropagation();else if(BA(i,x),o&4&&-1<j9.indexOf(i)){for(;b!==null;){var S=vo(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=vl(S.pendingLanes);if(O!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var V=1<<31-st(O);D.entanglements[1]|=V,O&=~V}Za(S),(Tt&6)===0&&(Mm=et()+500,Gd(0))}}break;case 31:case 13:D=wl(S,2),D!==null&&Er(D,S,2),Lm(),qy(S,2)}if(S=Ky(x),S===null&&ky(i,o,x,Zm,u),S===b)break;b=S}b!==null&&x.stopPropagation()}else ky(i,o,x,null,u)}}function Ky(i){return i=Gg(i),Wy(i)}var Zm=null;function Wy(i){if(Zm=null,i=go(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Zm=i,null}function zA(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hl()){case pl:return 2;case mn:return 8;case po:case Uf:return 32;case xl:return 268435456;default:return 32}default:return 32}}var Gy=!1,Mi=null,Di=null,Li=null,tu=new Map,nu=new Map,Ii=[],j9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BA(i,o){switch(i){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":tu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(o.pointerId)}}function ru(i,o,u,x,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:u,eventSystemFlags:x,nativeEvent:S,targetContainers:[b]},o!==null&&(o=vo(o),o!==null&&$A(o)),i):(i.eventSystemFlags|=x,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function b9(i,o,u,x,b){switch(o){case"focusin":return Mi=ru(Mi,i,o,u,x,b),!0;case"dragenter":return Di=ru(Di,i,o,u,x,b),!0;case"mouseover":return Li=ru(Li,i,o,u,x,b),!0;case"pointerover":var S=b.pointerId;return tu.set(S,ru(tu.get(S)||null,i,o,u,x,b)),!0;case"gotpointercapture":return S=b.pointerId,nu.set(S,ru(nu.get(S)||null,i,o,u,x,b)),!0}return!1}function UA(i){var o=go(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,n2(i.priority,function(){FA(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,n2(i.priority,function(){FA(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ky(i.nativeEvent);if(u===null){u=i.nativeEvent;var x=new u.constructor(u.type,u);Wg=x,u.target.dispatchEvent(x),Wg=null}else return o=vo(u),o!==null&&$A(o),i.blockedOn=u,!1;o.shift()}return!0}function HA(i,o,u){Jm(i)&&u.delete(o)}function N9(){Gy=!1,Mi!==null&&Jm(Mi)&&(Mi=null),Di!==null&&Jm(Di)&&(Di=null),Li!==null&&Jm(Li)&&(Li=null),tu.forEach(HA),nu.forEach(HA)}function eh(i,o){i.blockedOn===o&&(i.blockedOn=null,Gy||(Gy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,N9)))}var th=null;function qA(i){th!==i&&(th=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){th===i&&(th=null);for(var o=0;o<i.length;o+=3){var u=i[o],x=i[o+1],b=i[o+2];if(typeof x!="function"){if(Wy(x||u)===null)continue;break}var S=vo(u);S!==null&&(i.splice(o,3),o-=3,Kv(S,{pending:!0,data:b,method:u.method,action:x},x,b))}}))}function Jo(i){function o(V){return eh(V,i)}Mi!==null&&eh(Mi,i),Di!==null&&eh(Di,i),Li!==null&&eh(Li,i),tu.forEach(o),nu.forEach(o);for(var u=0;u<Ii.length;u++){var x=Ii[u];x.blockedOn===i&&(x.blockedOn=null)}for(;0<Ii.length&&(u=Ii[0],u.blockedOn===null);)UA(u),u.blockedOn===null&&Ii.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(x=0;x<u.length;x+=3){var b=u[x],S=u[x+1],O=b[jr]||null;if(typeof S=="function")O||qA(u);else if(O){var D=null;if(S&&S.hasAttribute("formAction")){if(b=S,O=S[jr]||null)D=O.formAction;else if(Wy(b)!==null)continue}else D=O.action;typeof D=="function"?u[x+1]=D:(u.splice(x,3),x-=3),qA(u)}}}function VA(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),x||setTimeout(u,20)}function u(){if(!x&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){x=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Yy(i){this._internalRoot=i}nh.prototype.render=Yy.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,x=qr();LA(u,x,i,o,null,null)},nh.prototype.unmount=Yy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;LA(i.current,2,null,i,null,null),Lm(),o[xo]=null}};function nh(i){this._internalRoot=i}nh.prototype.unstable_scheduleHydration=function(i){if(i){var o=t2();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ii.length&&o!==0&&o<Ii[u].priority;u++);Ii.splice(u,0,i),u===0&&UA(i)}};var KA=t.version;if(KA!=="19.2.0")throw Error(a(527,KA,"19.2.0"));Z.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var w9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{gl=rh.inject(w9),z=rh}catch{}}return su.createRoot=function(i,o){if(!s(i))throw Error(a(299));var u=!1,x="",b=JC,S=eE,O=tE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=MA(i,1,!1,null,null,u,x,null,b,S,O,VA),i[xo]=o.current,Oy(i),new Yy(o)},su.hydrateRoot=function(i,o,u){if(!s(i))throw Error(a(299));var x=!1,b="",S=JC,O=eE,D=tE,V=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(V=u.formState)),o=MA(i,1,!0,o,u??null,x,b,V,S,O,D,VA),o.context=DA(null),u=o.current,x=qr(),x=Fg(x),b=Ni(x),b.callback=null,wi(u,b,x),u=x,o.current.lanes=u,hd(o,u),Za(o),i[xo]=o.current,Oy(i),new nh(o)},su.version="19.2.0",su}var nP;function R9(){if(nP)return Xy.exports;nP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xy.exports=_9(),Xy.exports}var M9=R9();function D9(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,s,l,c=[],d="",f=e.split("/");for(f[0]||f.shift();s=f.shift();)r=s[0],r==="*"?(c.push(r),d+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=s.indexOf("?",1),l=s.indexOf(".",1),c.push(s.substring(1,~a?a:~l?l:s.length)),d+=~a&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~a?"?":"")+"\\"+s.substring(l))):d+="/"+s;return{keys:c,pattern:new RegExp("^"+d+(t?"(?=$|/)":"/?$"),"i")}}var p=qc();const gn=fs(p),ef=C9({__proto__:null,default:gn},[p]);var n0={exports:{}},r0={};var rP;function L9(){if(rP)return r0;rP=1;var e=qc();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,v){var y=v(),w=a({inst:{value:y,getSnapshot:v}}),j=w[0].inst,N=w[1];return l(function(){j.value=y,j.getSnapshot=v,f(j)&&N({inst:j})},[g,y,v]),s(function(){return f(j)&&N({inst:j}),g(function(){f(j)&&N({inst:j})})},[g]),c(y),y}function f(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!r(g,y)}catch{return!0}}function m(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return r0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,r0}var aP;function i4(){return aP||(aP=1,n0.exports=L9()),n0.exports}var l4=i4();const I9=ef.useInsertionEffect,$9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o4=$9?p.useLayoutEffect:p.useEffect,F9=I9||o4,HN=e=>{const t=p.useRef([e,(...r)=>t[0](...r)]).current;return F9(()=>{t[0]=e}),t[1]},z9="popstate",qN="pushState",VN="replaceState",B9="hashchange",sP=[z9,qN,VN,B9],U9=e=>{for(const t of sP)addEventListener(t,e);return()=>{for(const t of sP)removeEventListener(t,e)}},c4=(e,t)=>l4.useSyncExternalStore(U9,e,t),H9=()=>location.search,q9=({ssrSearch:e=""}={})=>c4(H9,()=>e),iP=()=>location.pathname,V9=({ssrPath:e}={})=>c4(iP,e?()=>e:iP),K9=(e,{replace:t=!1,state:r=null}={})=>history[t?VN:qN](r,"",e),W9=(e={})=>[V9(e),K9],lP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[lP]>"u"){for(const e of[qN,VN]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,lP,{value:!0})}const G9=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",d4=(e="")=>e==="/"?"":e,Y9=(e,t)=>e[0]==="~"?e.slice(1):d4(t)+e,Q9=(e="",t)=>G9(ob(d4(e)),ob(t)),X9=e=>e[0]==="?"?e.slice(1):e,ob=e=>{try{return decodeURI(e)}catch{return e}},Z9=e=>ob(X9(e)),u4={hook:W9,searchHook:q9,parser:D9,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},f4=p.createContext(u4),ol=()=>p.useContext(f4),m4={},h4=p.createContext(m4),tf=()=>p.useContext(h4),nf=e=>{const[t,r]=e.hook(e);return[Q9(e.base,t),HN((a,s)=>r(Y9(a,e.base),s))]},Va=()=>nf(ol()),J9=()=>{const e=ol();return Z9(e.searchHook(e))},KN=(e,t,r,a)=>{const{pattern:s,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),c=s.exec(r)||[],[d,...f]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((g,v)=>[g,f[v]])):c.groups;let h={...f};return m&&Object.assign(h,m),h})(),...a?[d]:[]]:[!1,null]},eU=e=>KN(ol().parser,e,Va()[0]),tU=({children:e,...t})=>{const r=ol(),a=t.hook?u4:r;let s=a;const[l,c]=t.ssrPath?.split("?")??[];c&&(t.ssrSearch=c,t.ssrPath=l),t.hrefs=t.hrefs??t.hook?.hrefs;let d=p.useRef({}),f=d.current,m=f;for(let h in a){const g=h==="base"?a[h]+(t[h]||""):t[h]||a[h];f===m&&g!==m[h]&&(d.current=m={...m}),m[h]=g,(g!==a[h]||g!==s[h])&&(s=m)}return p.createElement(f4.Provider,{value:s,children:e})},oP=({children:e,component:t},r)=>t?p.createElement(t,{params:r}):typeof e=="function"?e(r):e,nU=e=>{let t=p.useRef(m4);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([a,s])=>s!==r[a])?e:r},ut=({path:e,nest:t,match:r,...a})=>{const s=ol(),[l]=nf(s),[c,d,f]=r??KN(s.parser,e,l,t),m=nU({...tf(),...d});if(!c)return null;const h=f?p.createElement(tU,{base:f},oP(a,m)):oP(a,m);return p.createElement(h4.Provider,{value:m,children:h})},Gl=p.forwardRef((e,t)=>{const r=ol(),[a,s]=nf(r),{to:l="",href:c=l,onClick:d,asChild:f,children:m,className:h,replace:g,state:v,...y}=e,w=HN(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(d?.(N),N.defaultPrevented||(N.preventDefault(),s(c,e)))}),j=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return f&&p.isValidElement(m)?p.cloneElement(m,{onClick:w,href:j}):p.createElement("a",{...y,onClick:w,href:j,className:h?.call?h(a===c):h,children:m,ref:t})}),p4=e=>Array.isArray(e)?e.flatMap(t=>p4(t&&t.type===p.Fragment?t.props.children:t)):[e],rU=({children:e,location:t})=>{const r=ol(),[a]=nf(r);for(const s of p4(e)){let l=0;if(p.isValidElement(s)&&(l=KN(r.parser,s.props.path,t||a,s.props.nest))[0])return p.cloneElement(s,{match:l})}return null},aU=e=>{const{to:t,href:r=t}=e,a=ol(),[,s]=nf(a),l=HN(()=>s(t||r,e)),{ssrContext:c}=a;return o4(()=>{l()},[]),c&&(c.redirectTo=t),null};var Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sU={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},iU=class{#e=sU;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},zl=new iU;function lU(e){setTimeout(e,0)}var Yl=typeof window>"u"||"Deno"in globalThis;function fr(){}function oU(e,t){return typeof e=="function"?e(t):e}function cb(e){return typeof e=="number"&&e>=0&&e!==1/0}function x4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ki(e,t){return typeof e=="function"?e(t):e}function Na(e,t){return typeof e=="function"?e(t):e}function cP(e,t){const{type:r="all",exact:a,fetchStatus:s,predicate:l,queryKey:c,stale:d}=e;if(c){if(a){if(t.queryHash!==WN(c,t.options))return!1}else if(!Pu(t.queryKey,c))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||l&&!l(t))}function dP(e,t){const{exact:r,status:a,predicate:s,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Ql(t.options.mutationKey)!==Ql(l))return!1}else if(!Pu(t.options.mutationKey,l))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function WN(e,t){return(t?.queryKeyHashFn||Ql)(e)}function Ql(e){return JSON.stringify(e,(t,r)=>db(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function Pu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Pu(e[r],t[r])):!1}var cU=Object.prototype.hasOwnProperty;function g4(e,t){if(e===t)return e;const r=uP(e)&&uP(t);if(!r&&!(db(e)&&db(t)))return t;const s=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),c=l.length,d=r?new Array(c):{};let f=0;for(let m=0;m<c;m++){const h=r?m:l[m],g=e[h],v=t[h];if(g===v){d[h]=g,(r?m<s:cU.call(e,h))&&f++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){d[h]=v;continue}const y=g4(g,v);d[h]=y,y===g&&f++}return s===c&&f===s?e:d}function rp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function uP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function db(e){if(!fP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!fP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fP(e){return Object.prototype.toString.call(e)==="[object Object]"}function dU(e){return new Promise(t=>{zl.setTimeout(t,e)})}function ub(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?g4(e,t):t}function uU(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function fU(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var GN=Symbol();function v4(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===GN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function y4(e,t){return typeof e=="function"?e(...t):!!e}var mU=class extends Vc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Yl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},YN=new mU;function fb(){let e,t;const r=new Promise((s,l)=>{e=s,t=l});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),t(s)},r}var hU=lU;function pU(){let e=[],t=0,r=d=>{d()},a=d=>{d()},s=hU;const l=d=>{t?e.push(d):s(()=>{r(d)})},c=()=>{const d=e;e=[],d.length&&s(()=>{a(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{s=d}}}var Dn=pU(),xU=class extends Vc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Yl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},ap=new xU;function gU(e){return Math.min(1e3*2**e,3e4)}function j4(e){return(e??"online")==="online"?ap.isOnline():!0}var mb=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function b4(e){let t=!1,r=0,a;const s=fb(),l=()=>s.status!=="pending",c=j=>{if(!l()){const N=new mb(j);v(N),e.onCancel?.(N)}},d=()=>{t=!0},f=()=>{t=!1},m=()=>YN.isFocused()&&(e.networkMode==="always"||ap.isOnline())&&e.canRun(),h=()=>j4(e.networkMode)&&e.canRun(),g=j=>{l()||(a?.(),s.resolve(j))},v=j=>{l()||(a?.(),s.reject(j))},y=()=>new Promise(j=>{a=N=>{(l()||m())&&j(N)},e.onPause?.()}).then(()=>{a=void 0,l()||e.onContinue?.()}),w=()=>{if(l())return;let j;const N=r===0?e.initialPromise:void 0;try{j=N??e.fn()}catch(C){j=Promise.reject(C)}Promise.resolve(j).then(g).catch(C=>{if(l())return;const E=e.retry??(Yl?0:3),A=e.retryDelay??gU,P=typeof A=="function"?A(r,C):A,k=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(t||!k){v(C);return}r++,e.onFail?.(r,C),dU(P).then(()=>m()?void 0:y()).then(()=>{t?v(C):w()})})};return{promise:s,status:()=>s.status,cancel:c,continue:()=>(a?.(),s),cancelRetry:d,continueRetry:f,canStart:h,start:()=>(h()?w():y().then(w),s)}}var N4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cb(this.gcTime)&&(this.#e=zl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(zl.clearTimeout(this.#e),this.#e=void 0)}},vU=class extends N4{#e;#t;#n;#a;#r;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=hP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=hP(this.options);t.data!==void 0&&(this.setState(mP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=ub(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(fr).catch(fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Na(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===GN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ki(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!x4(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},s=()=>{const d=v4(this.options,t),m=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(h),h})();return this.#l=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return a(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=b4({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof mb&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof mb){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...w4(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...mP(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Dn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function w4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var yU=class extends Vc{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#l=fb(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#i;#l;#s;#p;#f;#m;#c;#d;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),pP(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#b(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Na(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!rp(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&xP(this.#t,r,this.options,t)&&this.#u(),this.updateResult(),a&&(this.#t!==r||Na(this.options.enabled,this.#t)!==Na(t.enabled,this.#t)||Ki(this.options.staleTime,this.#t)!==Ki(t.staleTime,this.#t))&&this.#x();const s=this.#g();a&&(this.#t!==r||Na(this.options.enabled,this.#t)!==Na(t.enabled,this.#t)||s!==this.#o)&&this.#v(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return bU(this,r)&&(this.#a=r,this.#i=this.options,this.#r=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#u(e){this.#N();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(fr)),t}#x(){this.#j();const e=Ki(this.options.staleTime,this.#t);if(Yl||this.#a.isStale||!cb(e))return;const r=x4(this.#a.dataUpdatedAt,e)+1;this.#c=zl.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#o=e,!(Yl||Na(this.options.enabled,this.#t)===!1||!cb(this.#o)||this.#o===0)&&(this.#d=zl.setInterval(()=>{(this.options.refetchIntervalInBackground||YN.isFocused())&&this.#u()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#j(){this.#c&&(zl.clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(zl.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const r=this.#t,a=this.options,s=this.#a,l=this.#r,c=this.#i,f=e!==r?e.state:this.#n,{state:m}=e;let h={...m},g=!1,v;if(t._optimisticResults){const L=this.hasListeners(),X=!L&&pP(e,t),I=L&&xP(e,r,t,a);(X||I)&&(h={...h,...w4(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:w,status:j}=h;v=h.data;let N=!1;if(t.placeholderData!==void 0&&v===void 0&&j==="pending"){let L;s?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(L=s.data,N=!0):L=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,L!==void 0&&(j="success",v=ub(s?.data,L,t),g=!0)}if(t.select&&v!==void 0&&!N)if(s&&v===l?.data&&t.select===this.#p)v=this.#f;else try{this.#p=t.select,v=t.select(v),v=ub(s?.data,v,t),this.#f=v,this.#s=null}catch(L){this.#s=L}this.#s&&(y=this.#s,v=this.#f,w=Date.now(),j="error");const C=h.fetchStatus==="fetching",E=j==="pending",A=j==="error",P=E&&C,k=v!==void 0,_={status:j,fetchStatus:h.fetchStatus,isPending:E,isSuccess:j==="success",isError:A,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:A&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&k,isStale:QN(e,t),refetch:this.refetch,promise:this.#l,isEnabled:Na(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=R=>{_.status==="error"?R.reject(_.error):_.data!==void 0&&R.resolve(_.data)},X=()=>{const R=this.#l=_.promise=fb();L(R)},I=this.#l;switch(I.status){case"pending":e.queryHash===r.queryHash&&L(I);break;case"fulfilled":(_.status==="error"||_.data!==I.value)&&X();break;case"rejected":(_.status!=="error"||_.error!==I.reason)&&X();break}}return _}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#i=this.options,this.#r.data!==void 0&&(this.#m=this.#t),rp(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!this.#h.size)return!0;const l=new Set(s??this.#h);return this.options.throwOnError&&l.add("error"),Object.keys(this.#a).some(c=>{const d=c;return this.#a[d]!==e[d]&&l.has(d)})};this.#w({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#w(e){Dn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function jU(e,t){return Na(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function pP(e,t){return jU(e,t)||e.state.data!==void 0&&hb(e,t,t.refetchOnMount)}function hb(e,t,r){if(Na(t.enabled,e)!==!1&&Ki(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&QN(e,t)}return!1}function xP(e,t,r,a){return(e!==t||Na(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&QN(e,r)}function QN(e,t){return Na(t.enabled,e)!==!1&&e.isStaleByTime(Ki(t.staleTime,e))}function bU(e,t){return!rp(e.getCurrentResult(),t)}function gP(e){return{onFetch:(t,r)=>{const a=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let h=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},v=v4(t.options,t.fetchOptions),y=async(w,j,N)=>{if(h)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return g(T),T})(),A=await v(E),{maxPages:P}=t.options,k=N?fU:uU;return{pages:k(w.pages,A,P),pageParams:k(w.pageParams,j,P)}};if(s&&l.length){const w=s==="backward",j=w?NU:vP,N={pages:l,pageParams:c},C=j(a,N);d=await y(N,C,w)}else{const w=e??l.length;do{const j=f===0?c[0]??a.initialPageParam:vP(a,d);if(f>0&&j==null)break;d=await y(d,j),f++}while(f<w)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function vP(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function NU(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var wU=class extends N4{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||S4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=b4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",s=!this.#a.canStart();try{if(a)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:s})}const l=await this.#a.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#n.config.onError?.(l,e,this.state.context,this,r),await this.options.onError?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,e,this.state.context,r),l}finally{this.#r({type:"error",error:l})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Dn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function S4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var SU=class extends Vc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const a=new wU({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#e.add(e);const t=ah(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=ah(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ah(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(s=>s.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=ah(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Dn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>dP(t,r))}findAll(e={}){return this.getAll().filter(t=>dP(e,t))}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Dn.batch(()=>Promise.all(e.map(t=>t.continue().catch(fr))))}};function ah(e){return e.options.scope?.id}var CU=class extends Vc{#e;#t=void 0;#n;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),rp(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ql(r.mutationKey)!==Ql(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(t,r){return this.#a=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??S4();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Dn.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,a,s),this.#a.onSettled?.(t.data,null,r,a,s)):t?.type==="error"&&(this.#a.onError?.(t.error,r,a,s),this.#a.onSettled?.(void 0,t.error,r,a,s))}this.listeners.forEach(r=>{r(this.#t)})})}},EU=class extends Vc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const a=t.queryKey,s=t.queryHash??WN(a,t);let l=this.get(s);return l||(l=new vU({client:e,queryKey:a,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>cP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>cP(e,r)):t}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},AU=class{#e;#t;#n;#a;#r;#i;#l;#s;constructor(e={}){this.#e=e.queryCache||new EU,this.#t=e.mutationCache||new SU,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=YN.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ap.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ki(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(a.queryHash)?.state.data,c=oU(t,l);if(c!==void 0)return this.#e.build(this,a).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return Dn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Dn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Dn.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Dn.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(fr).catch(fr)}invalidateQueries(e,t={}){return Dn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Dn.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let l=s.fetch(void 0,r);return r.throwOnError||(l=l.catch(fr)),s.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(fr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Ki(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fr).catch(fr)}fetchInfiniteQuery(e){return e.behavior=gP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fr).catch(fr)}ensureInfiniteQueryData(e){return e.behavior=gP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ap.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(Ql(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(a=>{Pu(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Ql(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(a=>{Pu(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=WN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===GN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},C4=p.createContext(void 0),E4=e=>{const t=p.useContext(C4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},PU=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(C4.Provider,{value:e,children:t})),A4=p.createContext(!1),TU=()=>p.useContext(A4);A4.Provider;function OU(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var kU=p.createContext(OU()),_U=()=>p.useContext(kU),RU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},MU=e=>{p.useEffect(()=>{e.clearReset()},[e])},DU=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||y4(r,[e.error,a])),LU=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>r(a(...s)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},IU=(e,t)=>e.isLoading&&e.isFetching&&!t,$U=(e,t)=>e?.suspense&&t.isPending,yP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function FU(e,t,r){const a=TU(),s=_U(),l=E4(),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=a?"isRestoring":"optimistic",LU(c),RU(c,s),MU(s);const d=!l.getQueryCache().get(c.queryHash),[f]=p.useState(()=>new t(l,c)),m=f.getOptimisticResult(c),h=!a&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(g=>{const v=h?f.subscribe(Dn.batchCalls(g)):fr;return f.updateResult(),v},[f,h]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),p.useEffect(()=>{f.setOptions(c)},[c,f]),$U(c,m))throw yP(c,f,s);if(DU({result:m,errorResetBoundary:s,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!Yl&&IU(m,a)&&(d?yP(c,f,s):l.getQueryCache().get(c.queryHash)?.promise)?.catch(fr).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?m:f.trackResult(m)}function _e(e,t){return FU(e,yU)}function Ee(e,t){const r=E4(),[a]=p.useState(()=>new CU(r,e));p.useEffect(()=>{a.setOptions(e)},[a,e]);const s=p.useSyncExternalStore(p.useCallback(c=>a.subscribe(Dn.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=p.useCallback((c,d)=>{a.mutate(c,d).catch(fr)},[a]);if(s.error&&y4(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}const ju="";async function P4(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function De(e,t,r){const a=t.startsWith("/")?`${ju}${t}`:t,s=await fetch(a,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await P4(s),s}const zU=({on401:e})=>async({queryKey:t})=>{const r=t.join("/"),a=r.startsWith("/")?`${ju}${r}`:r,s=await fetch(a,{credentials:"include"});return await P4(s),await s.json()},Re=new AU({defaultOptions:{queries:{queryFn:zU({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),BU=1,UU=1e6;let a0=0;function HU(){return a0=(a0+1)%Number.MAX_SAFE_INTEGER,a0.toString()}const s0=new Map,jP=e=>{if(s0.has(e))return;const t=setTimeout(()=>{s0.delete(e),bu({type:"REMOVE_TOAST",toastId:e})},UU);s0.set(e,t)},qU=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,BU)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?jP(r):e.toasts.forEach(a=>{jP(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Fh=[];let zh={toasts:[]};function bu(e){zh=qU(zh,e),Fh.forEach(t=>{t(zh)})}function VU({...e}){const t=HU(),r=s=>bu({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>bu({type:"DISMISS_TOAST",toastId:t});return bu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:r}}function Zt(){const[e,t]=p.useState(zh);return p.useEffect(()=>(Fh.push(t),()=>{const r=Fh.indexOf(t);r>-1&&Fh.splice(r,1)}),[e]),{...e,toast:VU,dismiss:r=>bu({type:"DISMISS_TOAST",toastId:r})}}var ms=s4();const KU=fs(ms);function ze(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function bP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jn(...e){return t=>{let r=!1;const a=e.map(s=>{const l=bP(s,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let s=0;s<a.length;s++){const l=a[s];typeof l=="function"?l():bP(e[s],null)}}}}function rt(...e){return p.useCallback(jn(...e),e)}function WU(e,t){const r=p.createContext(t),a=l=>{const{children:c,...d}=l,f=p.useMemo(()=>d,Object.values(d));return n.jsx(r.Provider,{value:f,children:c})};a.displayName=e+"Provider";function s(l){const c=p.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,s]}function gr(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c),f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...w}=g,j=v?.[e]?.[f]||d,N=p.useMemo(()=>w,Object.values(w));return n.jsx(j.Provider,{value:N,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,w=p.useContext(y);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,GU(s,...t)]}function GU(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function NP(e){const t=YU(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(XU);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function YU(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=JU(s),d=ZU(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QU=Symbol("radix.slottable");function XU(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QU}function ZU(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function JU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rf(e){const t=e+"CollectionProvider",[r,a]=gr(t),[s,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:N,children:C}=j,E=gn.useRef(null),A=gn.useRef(new Map).current;return n.jsx(s,{scope:N,itemMap:A,collectionRef:E,children:C})};c.displayName=t;const d=e+"CollectionSlot",f=NP(d),m=gn.forwardRef((j,N)=>{const{scope:C,children:E}=j,A=l(d,C),P=rt(N,A.collectionRef);return n.jsx(f,{ref:P,children:E})});m.displayName=d;const h=e+"CollectionItemSlot",g="data-radix-collection-item",v=NP(h),y=gn.forwardRef((j,N)=>{const{scope:C,children:E,...A}=j,P=gn.useRef(null),k=rt(N,P),T=l(h,C);return gn.useEffect(()=>(T.itemMap.set(P,{ref:P,...A}),()=>void T.itemMap.delete(P))),n.jsx(v,{[g]:"",ref:k,children:E})});y.displayName=h;function w(j){const N=l(e+"CollectionConsumer",j);return gn.useCallback(()=>{const E=N.collectionRef.current;if(!E)return[];const A=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(N.itemMap.values()).sort((T,_)=>A.indexOf(T.ref.current)-A.indexOf(_.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:m,ItemSlot:y},w,a]}function e7(e){const t=t7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(r7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function t7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=s7(s),d=a7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n7=Symbol("radix.slottable");function r7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n7}function a7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function s7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var i7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],T4=i7.reduce((e,t)=>{const r=e7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function l7(e,t){e&&ms.flushSync(()=>e.dispatchEvent(t))}function Pn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>t.current?.(...r),[])}function o7(e,t=globalThis?.document){const r=Pn(e);p.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var c7="DismissableLayer",pb="dismissableLayer.update",d7="dismissableLayer.pointerDownOutside",u7="dismissableLayer.focusOutside",wP,O4=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),af=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,m=p.useContext(O4),[h,g]=p.useState(null),v=h?.ownerDocument??globalThis?.document,[,y]=p.useState({}),w=rt(t,_=>g(_)),j=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=j.indexOf(N),E=h?j.indexOf(h):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,P=E>=C,k=m7(_=>{const L=_.target,X=[...m.branches].some(I=>I.contains(L));!P||X||(s?.(_),c?.(_),_.defaultPrevented||d?.())},v),T=h7(_=>{const L=_.target;[...m.branches].some(I=>I.contains(L))||(l?.(_),c?.(_),_.defaultPrevented||d?.())},v);return o7(_=>{E===m.layers.size-1&&(a?.(_),!_.defaultPrevented&&d&&(_.preventDefault(),d()))},v),p.useEffect(()=>{if(h)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(wP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),SP(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=wP)}},[h,v,r,m]),p.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),SP())},[h,m]),p.useEffect(()=>{const _=()=>y({});return document.addEventListener(pb,_),()=>document.removeEventListener(pb,_)},[]),n.jsx(T4.div,{...f,ref:w,style:{pointerEvents:A?P?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,k.onPointerDownCapture)})});af.displayName=c7;var f7="DismissableLayerBranch",k4=p.forwardRef((e,t)=>{const r=p.useContext(O4),a=p.useRef(null),s=rt(t,a);return p.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),n.jsx(T4.div,{...e,ref:s})});k4.displayName=f7;function m7(e,t=globalThis?.document){const r=Pn(e),a=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let f=function(){_4(d7,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);a.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function h7(e,t=globalThis?.document){const r=Pn(e),a=p.useRef(!1);return p.useEffect(()=>{const s=l=>{l.target&&!a.current&&_4(u7,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function SP(){const e=new CustomEvent(pb);document.dispatchEvent(e)}function _4(e,t,r,{discrete:a}){const s=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?l7(s,l):s.dispatchEvent(l)}var p7=af,x7=k4;function g7(e){const t=v7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(j7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function v7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=N7(s),d=b7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var y7=Symbol("radix.slottable");function j7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===y7}function b7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function N7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var w7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],S7=w7.reduce((e,t)=>{const r=g7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),un=globalThis?.document?p.useLayoutEffect:()=>{},C7="Portal",xx=p.forwardRef((e,t)=>{const{container:r,...a}=e,[s,l]=p.useState(!1);un(()=>l(!0),[]);const c=r||s&&globalThis?.document?.body;return c?KU.createPortal(n.jsx(S7.div,{...a,ref:t}),c):null});xx.displayName=C7;function E7(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var ra=e=>{const{present:t,children:r}=e,a=A7(t),s=typeof r=="function"?r({present:a.isPresent}):p.Children.only(r),l=rt(a.ref,P7(s));return typeof r=="function"||a.isPresent?p.cloneElement(s,{ref:l}):null};ra.displayName="Presence";function A7(e){const[t,r]=p.useState(),a=p.useRef(null),s=p.useRef(e),l=p.useRef("none"),c=e?"mounted":"unmounted",[d,f]=E7(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=sh(a.current);l.current=d==="mounted"?m:"none"},[d]),un(()=>{const m=a.current,h=s.current;if(h!==e){const v=l.current,y=sh(m);e?f("MOUNT"):y==="none"||m?.display==="none"?f("UNMOUNT"):f(h&&v!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),un(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,g=y=>{const j=sh(a.current).includes(CSS.escape(y.animationName));if(y.target===t&&j&&(f("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},v=y=>{y.target===t&&(l.current=sh(a.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{a.current=m?getComputedStyle(m):null,r(m)},[])}}function sh(e){return e?.animationName||"none"}function P7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function T7(e){const t=O7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(_7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function O7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=M7(s),d=R7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var k7=Symbol("radix.slottable");function _7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===k7}function R7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function M7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var D7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kc=D7.reduce((e,t)=>{const r=T7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function L7(e,t){e&&ms.flushSync(()=>e.dispatchEvent(t))}var I7=ef[" useInsertionEffect ".trim().toString()]||un;function ta({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,l,c]=$7({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:s;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const g=h.current;g!==d&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=d},[d,a])}const m=p.useCallback(h=>{if(d){const g=F7(h)?h(e):h;g!==e&&c.current?.(g)}else l(h)},[d,e,l,c]);return[f,m]}function $7({defaultProp:e,onChange:t}){const[r,a]=p.useState(e),s=p.useRef(r),l=p.useRef(t);return I7(()=>{l.current=t},[t]),p.useEffect(()=>{s.current!==r&&(l.current?.(r),s.current=r)},[r,s]),[r,a,l]}function F7(e){return typeof e=="function"}function z7(e){const t=B7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(H7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function B7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=V7(s),d=q7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var U7=Symbol("radix.slottable");function H7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===U7}function q7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function V7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var K7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W7=K7.reduce((e,t)=>{const r=z7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),R4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),G7="VisuallyHidden",gx=p.forwardRef((e,t)=>n.jsx(W7.span,{...e,ref:t,style:{...R4,...e.style}}));gx.displayName=G7;var Y7=gx,XN="ToastProvider",[ZN,Q7,X7]=rf("Toast"),[M4]=gr("Toast",[X7]),[Z7,vx]=M4(XN),D4=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:l=50,children:c}=e,[d,f]=p.useState(null),[m,h]=p.useState(0),g=p.useRef(!1),v=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${XN}\`. Expected non-empty \`string\`.`),n.jsx(ZN.Provider,{scope:t,children:n.jsx(Z7,{scope:t,label:r,duration:a,swipeDirection:s,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:f,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:c})})};D4.displayName=XN;var L4="ToastViewport",J7=["F8"],xb="toast.viewportPause",gb="toast.viewportResume",I4=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=J7,label:s="Notifications ({hotkey})",...l}=e,c=vx(L4,r),d=Q7(r),f=p.useRef(null),m=p.useRef(null),h=p.useRef(null),g=p.useRef(null),v=rt(t,g,c.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=c.toastCount>0;p.useEffect(()=>{const N=C=>{a.length!==0&&a.every(A=>C[A]||C.code===A)&&g.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[a]),p.useEffect(()=>{const N=f.current,C=g.current;if(w&&N&&C){const E=()=>{if(!c.isClosePausedRef.current){const T=new CustomEvent(xb);C.dispatchEvent(T),c.isClosePausedRef.current=!0}},A=()=>{if(c.isClosePausedRef.current){const T=new CustomEvent(gb);C.dispatchEvent(T),c.isClosePausedRef.current=!1}},P=T=>{!N.contains(T.relatedTarget)&&A()},k=()=>{N.contains(document.activeElement)||A()};return N.addEventListener("focusin",E),N.addEventListener("focusout",P),N.addEventListener("pointermove",E),N.addEventListener("pointerleave",k),window.addEventListener("blur",E),window.addEventListener("focus",A),()=>{N.removeEventListener("focusin",E),N.removeEventListener("focusout",P),N.removeEventListener("pointermove",E),N.removeEventListener("pointerleave",k),window.removeEventListener("blur",E),window.removeEventListener("focus",A)}}},[w,c.isClosePausedRef]);const j=p.useCallback(({tabbingDirection:N})=>{const E=d().map(A=>{const P=A.ref.current,k=[P,...fH(P)];return N==="forwards"?k:k.reverse()});return(N==="forwards"?E.reverse():E).flat()},[d]);return p.useEffect(()=>{const N=g.current;if(N){const C=E=>{const A=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!A){const k=document.activeElement,T=E.shiftKey;if(E.target===N&&T){m.current?.focus();return}const X=j({tabbingDirection:T?"backwards":"forwards"}),I=X.findIndex(R=>R===k);i0(X.slice(I+1))?E.preventDefault():T?m.current?.focus():h.current?.focus()}};return N.addEventListener("keydown",C),()=>N.removeEventListener("keydown",C)}},[d,j]),n.jsxs(x7,{ref:f,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&n.jsx(vb,{ref:m,onFocusFromOutsideViewport:()=>{const N=j({tabbingDirection:"forwards"});i0(N)}}),n.jsx(ZN.Slot,{scope:r,children:n.jsx(Kc.ol,{tabIndex:-1,...l,ref:v})}),w&&n.jsx(vb,{ref:h,onFocusFromOutsideViewport:()=>{const N=j({tabbingDirection:"backwards"});i0(N)}})]})});I4.displayName=L4;var $4="ToastFocusProxy",vb=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...s}=e,l=vx($4,r);return n.jsx(gx,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&a()}})});vb.displayName=$4;var sf="Toast",eH="toast.swipeStart",tH="toast.swipeMove",nH="toast.swipeCancel",rH="toast.swipeEnd",F4=p.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:s,onOpenChange:l,...c}=e,[d,f]=ta({prop:a,defaultProp:s??!0,onChange:l,caller:sf});return n.jsx(ra,{present:r||d,children:n.jsx(iH,{open:d,...c,ref:t,onClose:()=>f(!1),onPause:Pn(e.onPause),onResume:Pn(e.onResume),onSwipeStart:ze(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ze(e.onSwipeMove,m=>{const{x:h,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:ze(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ze(e.onSwipeEnd,m=>{const{x:h,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),f(!1)})})})});F4.displayName=sf;var[aH,sH]=M4(sf,{onClose(){}}),iH=p.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:l,onClose:c,onEscapeKeyDown:d,onPause:f,onResume:m,onSwipeStart:h,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:y,...w}=e,j=vx(sf,r),[N,C]=p.useState(null),E=rt(t,W=>C(W)),A=p.useRef(null),P=p.useRef(null),k=s||j.duration,T=p.useRef(0),_=p.useRef(k),L=p.useRef(0),{onToastAdd:X,onToastRemove:I}=j,R=Pn(()=>{N?.contains(document.activeElement)&&j.viewport?.focus(),c()}),K=p.useCallback(W=>{!W||W===1/0||(window.clearTimeout(L.current),T.current=new Date().getTime(),L.current=window.setTimeout(R,W))},[R]);p.useEffect(()=>{const W=j.viewport;if(W){const ee=()=>{K(_.current),m?.()},B=()=>{const Z=new Date().getTime()-T.current;_.current=_.current-Z,window.clearTimeout(L.current),f?.()};return W.addEventListener(xb,B),W.addEventListener(gb,ee),()=>{W.removeEventListener(xb,B),W.removeEventListener(gb,ee)}}},[j.viewport,k,f,m,K]),p.useEffect(()=>{l&&!j.isClosePausedRef.current&&K(k)},[l,k,j.isClosePausedRef,K]),p.useEffect(()=>(X(),()=>I()),[X,I]);const ye=p.useMemo(()=>N?K4(N):null,[N]);return j.viewport?n.jsxs(n.Fragment,{children:[ye&&n.jsx(lH,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:ye}),n.jsx(aH,{scope:r,onClose:R,children:ms.createPortal(n.jsx(ZN.ItemSlot,{scope:r,children:n.jsx(p7,{asChild:!0,onEscapeKeyDown:ze(d,()=>{j.isFocusedToastEscapeKeyDownRef.current||R(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Kc.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":j.swipeDirection,...w,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ze(e.onKeyDown,W=>{W.key==="Escape"&&(d?.(W.nativeEvent),W.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:ze(e.onPointerDown,W=>{W.button===0&&(A.current={x:W.clientX,y:W.clientY})}),onPointerMove:ze(e.onPointerMove,W=>{if(!A.current)return;const ee=W.clientX-A.current.x,B=W.clientY-A.current.y,Z=!!P.current,$=["left","right"].includes(j.swipeDirection),fe=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,pe=$?fe(0,ee):0,M=$?0:fe(0,B),te=W.pointerType==="touch"?10:2,me={x:pe,y:M},Ne={originalEvent:W,delta:me};Z?(P.current=me,ih(tH,g,Ne,{discrete:!1})):CP(me,j.swipeDirection,te)?(P.current=me,ih(eH,h,Ne,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ee)>te||Math.abs(B)>te)&&(A.current=null)}),onPointerUp:ze(e.onPointerUp,W=>{const ee=P.current,B=W.target;if(B.hasPointerCapture(W.pointerId)&&B.releasePointerCapture(W.pointerId),P.current=null,A.current=null,ee){const Z=W.currentTarget,$={originalEvent:W,delta:ee};CP(ee,j.swipeDirection,j.swipeThreshold)?ih(rH,y,$,{discrete:!0}):ih(nH,v,$,{discrete:!0}),Z.addEventListener("click",fe=>fe.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),lH=e=>{const{__scopeToast:t,children:r,...a}=e,s=vx(sf,t),[l,c]=p.useState(!1),[d,f]=p.useState(!1);return dH(()=>c(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:n.jsx(xx,{asChild:!0,children:n.jsx(gx,{...a,children:l&&n.jsxs(n.Fragment,{children:[s.label," ",r]})})})},oH="ToastTitle",z4=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Kc.div,{...a,ref:t})});z4.displayName=oH;var cH="ToastDescription",B4=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Kc.div,{...a,ref:t})});B4.displayName=cH;var U4="ToastAction",H4=p.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?n.jsx(V4,{altText:r,asChild:!0,children:n.jsx(JN,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${U4}\`. Expected non-empty \`string\`.`),null)});H4.displayName=U4;var q4="ToastClose",JN=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,s=sH(q4,r);return n.jsx(V4,{asChild:!0,children:n.jsx(Kc.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,s.onClose)})})});JN.displayName=q4;var V4=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...s}=e;return n.jsx(Kc.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function K4(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),uH(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!s)if(l){const c=a.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...K4(a))}}),t}function ih(e,t,r,{discrete:a}){const s=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?L7(s,l):s.dispatchEvent(l)}var CP=(e,t,r=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),l=a>s;return t==="left"||t==="right"?l&&a>r:!l&&s>r};function dH(e=()=>{}){const t=Pn(e);un(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function uH(e){return e.nodeType===e.ELEMENT_NODE}function fH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function i0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var mH=D4,W4=I4,G4=F4,Y4=z4,Q4=B4,X4=H4,Z4=JN;function J4(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=J4(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function wt(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=J4(e))&&(a&&(a+=" "),a+=t);return a}const EP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,AP=wt,yx=(e,t)=>r=>{var a;if(t?.variants==null)return AP(e,r?.class,r?.className);const{variants:s,defaultVariants:l}=t,c=Object.keys(s).map(m=>{const h=r?.[m],g=l?.[m];if(h===null)return null;const v=EP(h)||EP(g);return s[m][v]}),d=r&&Object.entries(r).reduce((m,h)=>{let[g,v]=h;return v===void 0||(m[g]=v),m},{}),f=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:g,className:v,...y}=h;return Object.entries(y).every(w=>{let[j,N]=w;return Array.isArray(N)?N.includes({...l,...d}[j]):{...l,...d}[j]===N})?[...m,g,v]:m},[]);return AP(e,c,f,r?.class,r?.className)};const hH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),PP=e=>{const t=pH(e);return t.charAt(0).toUpperCase()+t.slice(1)},eM=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),xH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var gH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vH=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},f)=>p.createElement("svg",{ref:f,...gH,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:eM("lucide",s),...!l&&!xH(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>p.createElement(m,h)),...Array.isArray(l)?l:[l]]));const Ce=(e,t)=>{const r=p.forwardRef(({className:a,...s},l)=>p.createElement(vH,{ref:l,iconNode:t,className:eM(`lucide-${hH(PP(e))}`,`lucide-${e}`,a),...s}));return r.displayName=PP(e),r};const yH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jc=Ce("activity",yH);const jH=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],fc=Ce("archive",jH);const bH=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],sp=Ce("arrow-down-right",bH);const NH=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],bc=Ce("arrow-left-right",NH);const wH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qi=Ce("arrow-left",wH);const SH=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ip=Ce("arrow-up-right",SH);const CH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bh=Ce("award",CH);const EH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],AH=Ce("book-open",EH);const PH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ks=Ce("calculator",PH);const TH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ew=Ce("calendar",TH);const OH=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],kH=Ce("cat",OH);const _H=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],yb=Ce("chart-column",_H);const RH=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Nu=Ce("chart-pie",RH);const MH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tM=Ce("check",MH);const DH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wc=Ce("chevron-down",DH);const LH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lf=Ce("chevron-right",LH);const IH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nM=Ce("chevron-up",IH);const $H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rr=Ce("circle-alert",$H);const FH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tr=Ce("circle-check-big",FH);const zH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TP=Ce("circle-check",zH);const BH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],UH=Ce("circle-dollar-sign",BH);const HH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vi=Ce("circle-x",HH);const qH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],co=Ce("clock",qH);const VH=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],_r=Ce("coins",VH);const KH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lp=Ce("copy",KH);const WH=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Qs=Ce("crown",WH);const GH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Sa=Ce("database",GH);const YH=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],QH=Ce("diamond",YH);const XH=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],wu=Ce("dna",XH);const ZH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ea=Ce("dollar-sign",ZH);const JH=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Tu=Ce("droplets",JH);const eq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],nr=Ce("external-link",eq);const tq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nc=Ce("eye",tq);const nq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],tw=Ce("file-check",nq);const rq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aq=Ce("file-text",rq);const sq=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],iq=Ce("fish",sq);const lq=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],op=Ce("flame",lq);const oq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rM=Ce("funnel",oq);const cq=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],of=Ce("gem",cq);const dq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],OP=Ce("globe",dq);const uq=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],fq=Ce("hammer",uq);const mq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hq=Ce("history",mq);const pq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xq=Ce("image",pq);const gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xu=Ce("info",gq);const vq=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],aM=Ce("key",vq);const yq=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],jb=Ce("landmark",yq);const jq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bq=Ce("layout-dashboard",jq);const Nq=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],wq=Ce("leaf",Nq);const Sq=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Cq=Ce("link",Sq);const Eq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pe=Ce("loader-circle",Eq);const Aq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Pq=Ce("lock-open",Aq);const Tq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Oq=Ce("lock",Tq);const kq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_q=Ce("log-out",kq);const Rq=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mq=Ce("map-pin",Rq);const Dq=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Lq=Ce("medal",Dq);const Iq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$q=Ce("menu",Iq);const Fq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zq=Ce("pencil",Fq);const Bq=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],nw=Ce("percent",Bq);const Uq=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],sM=Ce("pickaxe",Uq);const Hq=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vn=Ce("play",Hq);const qq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xi=Ce("plus",qq);const Vq=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Kq=Ce("power",Vq);const Wq=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Gq=Ce("receipt",Wq);const Yq=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xe=Ce("refresh-cw",Yq);const Qq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],rw=Ce("rocket",Qq);const Xq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wc=Ce("rotate-ccw",Xq);const Zq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bb=Ce("save",Zq);const Jq=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],eV=Ce("scale",Jq);const tV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xs=Ce("search",tV);const nV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iM=Ce("settings",nV);const rV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xl=Ce("shield",rV);const aV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],sV=Ce("shopping-cart",aV);const iV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uo=Ce("sparkles",iV);const lV=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ou=Ce("sprout",lV);const oV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zi=Ce("square-pen",oV);const cV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],pr=Ce("square",cV);const dV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],aw=Ce("star",dV);const uV=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],ku=Ce("sword",uV);const fV=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],kr=Ce("swords",fV);const mV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],lM=Ce("tag",mV);const hV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Rr=Ce("target",hV);const pV=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],oM=Ce("timer",pV);const xV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sw=Ce("trash-2",xV);const gV=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],cM=Ce("trees",gV);const vV=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Sc=Ce("trending-down",vV);const yV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],On=Ce("trending-up",yV);const jV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hs=Ce("triangle-alert",jV);const bV=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zr=Ce("trophy",bV);const NV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wV=Ce("upload",NV);const SV=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kP=Ce("user-check",SV);const CV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uh=Ce("user",CV);const EV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lr=Ce("users",EV);const AV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Gc=Ce("wallet",AV);const PV=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],dM=Ce("wrench",PV);const TV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iw=Ce("x",TV);const OV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wn=Ce("zap",OV),kV=(e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r},_V=(e,t)=>({classGroupId:e,validator:t}),uM=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),cp="-",_P=[],RV="arbitrary..",MV=e=>{const t=LV(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return DV(c);const d=c.split(cp),f=d[0]===""&&d.length>1?1:0;return fM(d,f,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=a[c],m=r[c];return f?m?kV(m,f):f:m||_P}return r[c]||_P}}},fM=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],l=r.nextPart.get(s);if(l){const m=fM(e,t+1,l);if(m)return m}const c=r.validators;if(c===null)return;const d=t===0?e.join(cp):e.slice(t).join(cp),f=c.length;for(let m=0;m<f;m++){const h=c[m];if(h.validator(d))return h.classGroupId}},DV=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?RV+a:void 0})(),LV=e=>{const{theme:t,classGroups:r}=e;return IV(r,t)},IV=(e,t)=>{const r=uM();for(const a in e){const s=e[a];lw(s,r,a,t)}return r},lw=(e,t,r,a)=>{const s=e.length;for(let l=0;l<s;l++){const c=e[l];$V(c,t,r,a)}},$V=(e,t,r,a)=>{if(typeof e=="string"){FV(e,t,r);return}if(typeof e=="function"){zV(e,t,r,a);return}BV(e,t,r,a)},FV=(e,t,r)=>{const a=e===""?t:mM(t,e);a.classGroupId=r},zV=(e,t,r,a)=>{if(UV(e)){lw(e(a),t,r,a);return}t.validators===null&&(t.validators=[]),t.validators.push(_V(r,e))},BV=(e,t,r,a)=>{const s=Object.entries(e),l=s.length;for(let c=0;c<l;c++){const[d,f]=s[c];lw(f,mM(t,d),r,a)}},mM=(e,t)=>{let r=e;const a=t.split(cp),s=a.length;for(let l=0;l<s;l++){const c=a[l];let d=r.nextPart.get(c);d||(d=uM(),r.nextPart.set(c,d)),r=d}return r},UV=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,HV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const s=(l,c)=>{r[l]=c,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(l){let c=r[l];if(c!==void 0)return c;if((c=a[l])!==void 0)return s(l,c),c},set(l,c){l in r?r[l]=c:s(l,c)}}},Nb="!",RP=":",qV=[],MP=(e,t,r,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:s}),VV=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const l=[];let c=0,d=0,f=0,m;const h=s.length;for(let j=0;j<h;j++){const N=s[j];if(c===0&&d===0){if(N===RP){l.push(s.slice(f,j)),f=j+1;continue}if(N==="/"){m=j;continue}}N==="["?c++:N==="]"?c--:N==="("?d++:N===")"&&d--}const g=l.length===0?s:s.slice(f);let v=g,y=!1;g.endsWith(Nb)?(v=g.slice(0,-1),y=!0):g.startsWith(Nb)&&(v=g.slice(1),y=!0);const w=m&&m>f?m-f:void 0;return MP(l,y,v,w)};if(t){const s=t+RP,l=a;a=c=>c.startsWith(s)?l(c.slice(s.length)):MP(qV,!1,c,void 0,!0)}if(r){const s=a;a=l=>r({className:l,parseClassName:s})}return a},KV=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{t.set(r,1e6+a)}),r=>{const a=[];let s=[];for(let l=0;l<r.length;l++){const c=r[l],d=c[0]==="[",f=t.has(c);d||f?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(c)):s.push(c)}return s.length>0&&(s.sort(),a.push(...s)),a}},WV=e=>({cache:HV(e.cacheSize),parseClassName:VV(e),sortModifiers:KV(e),...MV(e)}),GV=/\s+/,YV=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:l}=t,c=[],d=e.trim().split(GV);let f="";for(let m=d.length-1;m>=0;m-=1){const h=d[m],{isExternal:g,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:j}=r(h);if(g){f=h+(f.length>0?" "+f:f);continue}let N=!!j,C=a(N?w.substring(0,j):w);if(!C){if(!N){f=h+(f.length>0?" "+f:f);continue}if(C=a(w),!C){f=h+(f.length>0?" "+f:f);continue}N=!1}const E=v.length===0?"":v.length===1?v[0]:l(v).join(":"),A=y?E+Nb:E,P=A+C;if(c.indexOf(P)>-1)continue;c.push(P);const k=s(C,N);for(let T=0;T<k.length;++T){const _=k[T];c.push(A+_)}f=h+(f.length>0?" "+f:f)}return f},QV=(...e)=>{let t=0,r,a,s="";for(;t<e.length;)(r=e[t++])&&(a=hM(r))&&(s&&(s+=" "),s+=a);return s},hM=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=hM(e[a]))&&(r&&(r+=" "),r+=t);return r},XV=(e,...t)=>{let r,a,s,l;const c=f=>{const m=t.reduce((h,g)=>g(h),e());return r=WV(m),a=r.cache.get,s=r.cache.set,l=d,d(f)},d=f=>{const m=a(f);if(m)return m;const h=YV(f,r);return s(f,h),h};return l=c,(...f)=>l(QV(...f))},ZV=[],Rn=e=>{const t=r=>r[e]||ZV;return t.isThemeGetter=!0,t},pM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,JV=/^\d+\/\d+$/,eK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ec=e=>JV.test(e),xt=e=>!!e&&!Number.isNaN(Number(e)),Fi=e=>!!e&&Number.isInteger(Number(e)),l0=e=>e.endsWith("%")&&xt(e.slice(0,-1)),Is=e=>eK.test(e),sK=()=>!0,iK=e=>tK.test(e)&&!nK.test(e),gM=()=>!1,lK=e=>rK.test(e),oK=e=>aK.test(e),cK=e=>!qe(e)&&!Ve(e),dK=e=>Yc(e,jM,gM),qe=e=>pM.test(e),Ll=e=>Yc(e,bM,iK),o0=e=>Yc(e,pK,xt),DP=e=>Yc(e,vM,gM),uK=e=>Yc(e,yM,oK),lh=e=>Yc(e,NM,lK),Ve=e=>xM.test(e),iu=e=>Qc(e,bM),fK=e=>Qc(e,xK),LP=e=>Qc(e,vM),mK=e=>Qc(e,jM),hK=e=>Qc(e,yM),oh=e=>Qc(e,NM,!0),Yc=(e,t,r)=>{const a=pM.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},Qc=(e,t,r=!1)=>{const a=xM.exec(e);return a?a[1]?t(a[1]):r:!1},vM=e=>e==="position"||e==="percentage",yM=e=>e==="image"||e==="url",jM=e=>e==="length"||e==="size"||e==="bg-size",bM=e=>e==="length",pK=e=>e==="number",xK=e=>e==="family-name",NM=e=>e==="shadow",gK=()=>{const e=Rn("color"),t=Rn("font"),r=Rn("text"),a=Rn("font-weight"),s=Rn("tracking"),l=Rn("leading"),c=Rn("breakpoint"),d=Rn("container"),f=Rn("spacing"),m=Rn("radius"),h=Rn("shadow"),g=Rn("inset-shadow"),v=Rn("text-shadow"),y=Rn("drop-shadow"),w=Rn("blur"),j=Rn("perspective"),N=Rn("aspect"),C=Rn("ease"),E=Rn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...P(),Ve,qe],T=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],L=()=>[Ve,qe,f],X=()=>[ec,"full","auto",...L()],I=()=>[Fi,"none","subgrid",Ve,qe],R=()=>["auto",{span:["full",Fi,Ve,qe]},Fi,Ve,qe],K=()=>[Fi,"auto",Ve,qe],ye=()=>["auto","min","max","fr",Ve,qe],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...L()],Z=()=>[ec,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],$=()=>[e,Ve,qe],fe=()=>[...P(),LP,DP,{position:[Ve,qe]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",mK,dK,{size:[Ve,qe]}],te=()=>[l0,iu,Ll],me=()=>["","none","full",m,Ve,qe],Ne=()=>["",xt,iu,Ll],le=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>[xt,l0,LP,DP],Te=()=>["","none",w,Ve,qe],ae=()=>["none",xt,Ve,qe],Oe=()=>["none",xt,Ve,qe],$e=()=>[xt,Ve,qe],xe=()=>[ec,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Is],breakpoint:[Is],color:[sK],container:[Is],"drop-shadow":[Is],ease:["in","out","in-out"],font:[cK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Is],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Is],shadow:[Is],spacing:["px",xt],text:[Is],"text-shadow":[Is],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ec,qe,Ve,N]}],container:["container"],columns:[{columns:[xt,qe,Ve,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[Fi,"auto",Ve,qe]}],basis:[{basis:[ec,"full","auto",d,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xt,ec,"auto","initial","none",qe]}],grow:[{grow:["",xt,Ve,qe]}],shrink:[{shrink:["",xt,Ve,qe]}],order:[{order:[Fi,"first","last","none",Ve,qe]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[d,"screen",...Z()]}],"min-w":[{"min-w":[d,"screen","none",...Z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,iu,Ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ve,o0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",l0,qe]}],"font-family":[{font:[fK,qe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ve,qe]}],"line-clamp":[{"line-clamp":[xt,"none",Ve,o0]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",Ve,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[xt,"from-font","auto",Ve,Ll]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[xt,"auto",Ve,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fi,Ve,qe],radial:["",Ve,qe],conic:[Fi,Ve,qe]},hK,uK]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xt,Ve,qe]}],"outline-w":[{outline:["",xt,iu,Ll]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",h,oh,lh]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,oh,lh]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[xt,Ll]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",v,oh,lh]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[xt,Ve,qe]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":F()}],"mask-image-linear-to-pos":[{"mask-linear-to":F()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":F()}],"mask-image-t-to-pos":[{"mask-t-to":F()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":F()}],"mask-image-r-to-pos":[{"mask-r-to":F()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":F()}],"mask-image-b-to-pos":[{"mask-b-to":F()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":F()}],"mask-image-l-to-pos":[{"mask-l-to":F()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":F()}],"mask-image-x-to-pos":[{"mask-x-to":F()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":F()}],"mask-image-y-to-pos":[{"mask-y-to":F()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ve,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":F()}],"mask-image-radial-to-pos":[{"mask-radial-to":F()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":F()}],"mask-image-conic-to-pos":[{"mask-conic-to":F()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,qe]}],filter:[{filter:["","none",Ve,qe]}],blur:[{blur:Te()}],brightness:[{brightness:[xt,Ve,qe]}],contrast:[{contrast:[xt,Ve,qe]}],"drop-shadow":[{"drop-shadow":["","none",y,oh,lh]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",xt,Ve,qe]}],"hue-rotate":[{"hue-rotate":[xt,Ve,qe]}],invert:[{invert:["",xt,Ve,qe]}],saturate:[{saturate:[xt,Ve,qe]}],sepia:[{sepia:["",xt,Ve,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,qe]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[xt,Ve,qe]}],"backdrop-contrast":[{"backdrop-contrast":[xt,Ve,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xt,Ve,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xt,Ve,qe]}],"backdrop-invert":[{"backdrop-invert":["",xt,Ve,qe]}],"backdrop-opacity":[{"backdrop-opacity":[xt,Ve,qe]}],"backdrop-saturate":[{"backdrop-saturate":[xt,Ve,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",xt,Ve,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xt,"initial",Ve,qe]}],ease:[{ease:["linear","initial",C,Ve,qe]}],delay:[{delay:[xt,Ve,qe]}],animate:[{animate:["none",E,Ve,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ve,qe]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ve,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,qe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[xt,iu,Ll,o0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vK=XV(gK);function Le(...e){return vK(wt(e))}const yK=mH,wM=p.forwardRef(({className:e,...t},r)=>n.jsx(W4,{ref:r,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));wM.displayName=W4.displayName;const jK=yx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SM=p.forwardRef(({className:e,variant:t,...r},a)=>n.jsx(G4,{ref:a,className:Le(jK({variant:t}),e),...r}));SM.displayName=G4.displayName;const bK=p.forwardRef(({className:e,...t},r)=>n.jsx(X4,{ref:r,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));bK.displayName=X4.displayName;const CM=p.forwardRef(({className:e,...t},r)=>n.jsx(Z4,{ref:r,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(iw,{className:"h-4 w-4"})}));CM.displayName=Z4.displayName;const EM=p.forwardRef(({className:e,...t},r)=>n.jsx(Y4,{ref:r,className:Le("text-sm font-semibold",e),...t}));EM.displayName=Y4.displayName;const AM=p.forwardRef(({className:e,...t},r)=>n.jsx(Q4,{ref:r,className:Le("text-sm opacity-90",e),...t}));AM.displayName=Q4.displayName;function NK(){const{toasts:e}=Zt();return n.jsxs(yK,{children:[e.map(function({id:t,title:r,description:a,action:s,...l}){return n.jsxs(SM,{...l,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(EM,{children:r}),a&&n.jsx(AM,{children:a})]}),s,n.jsx(CM,{})]},t)}),n.jsx(wM,{})]})}var wK=ef[" useId ".trim().toString()]||(()=>{}),SK=0;function za(e){const[t,r]=p.useState(wK());return un(()=>{r(a=>a??String(SK++))},[e]),t?`radix-${t}`:""}const CK=["top","right","bottom","left"],Ji=Math.min,Gr=Math.max,dp=Math.round,ch=Math.floor,ns=e=>({x:e,y:e}),EK={left:"right",right:"left",bottom:"top",top:"bottom"},AK={start:"end",end:"start"};function wb(e,t,r){return Gr(e,Ji(t,r))}function Zs(e,t){return typeof e=="function"?e(t):e}function Js(e){return e.split("-")[0]}function Xc(e){return e.split("-")[1]}function ow(e){return e==="x"?"y":"x"}function cw(e){return e==="y"?"height":"width"}const PK=new Set(["top","bottom"]);function es(e){return PK.has(Js(e))?"y":"x"}function dw(e){return ow(es(e))}function TK(e,t,r){r===void 0&&(r=!1);const a=Xc(e),s=dw(e),l=cw(s);let c=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=up(c)),[c,up(c)]}function OK(e){const t=up(e);return[Sb(e),t,Sb(t)]}function Sb(e){return e.replace(/start|end/g,t=>AK[t])}const IP=["left","right"],$P=["right","left"],kK=["top","bottom"],_K=["bottom","top"];function RK(e,t,r){switch(e){case"top":case"bottom":return r?t?$P:IP:t?IP:$P;case"left":case"right":return t?kK:_K;default:return[]}}function MK(e,t,r,a){const s=Xc(e);let l=RK(Js(e),r==="start",a);return s&&(l=l.map(c=>c+"-"+s),t&&(l=l.concat(l.map(Sb)))),l}function up(e){return e.replace(/left|right|bottom|top/g,t=>EK[t])}function DK(e){return{top:0,right:0,bottom:0,left:0,...e}}function PM(e){return typeof e!="number"?DK(e):{top:e,right:e,bottom:e,left:e}}function fp(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function FP(e,t,r){let{reference:a,floating:s}=e;const l=es(t),c=dw(t),d=cw(c),f=Js(t),m=l==="y",h=a.x+a.width/2-s.width/2,g=a.y+a.height/2-s.height/2,v=a[d]/2-s[d]/2;let y;switch(f){case"top":y={x:h,y:a.y-s.height};break;case"bottom":y={x:h,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:g};break;case"left":y={x:a.x-s.width,y:g};break;default:y={x:a.x,y:a.y}}switch(Xc(t)){case"start":y[c]-=v*(r&&m?-1:1);break;case"end":y[c]+=v*(r&&m?-1:1);break}return y}const LK=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:g}=FP(m,a,f),v=a,y={},w=0;for(let j=0;j<d.length;j++){const{name:N,fn:C}=d[j],{x:E,y:A,data:P,reset:k}=await C({x:h,y:g,initialPlacement:a,placement:v,strategy:s,middlewareData:y,rects:m,platform:c,elements:{reference:e,floating:t}});h=E??h,g=A??g,y={...y,[N]:{...y[N],...P}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(m=k.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:h,y:g}=FP(m,v,f)),j=-1)}return{x:h,y:g,placement:v,strategy:s,middlewareData:y}};async function _u(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=Zs(t,e),w=PM(y),N=d[v?g==="floating"?"reference":"floating":g],C=fp(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(N)))==null||r?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:h,strategy:f})),E=g==="floating"?{x:a,y:s,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),P=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},k=fp(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:A,strategy:f}):E);return{top:(C.top-k.top+w.top)/P.y,bottom:(k.bottom-C.bottom+w.bottom)/P.y,left:(C.left-k.left+w.left)/P.x,right:(k.right-C.right+w.right)/P.x}}const IK=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:m,padding:h=0}=Zs(e,t)||{};if(m==null)return{};const g=PM(h),v={x:r,y:a},y=dw(s),w=cw(y),j=await c.getDimensions(m),N=y==="y",C=N?"top":"left",E=N?"bottom":"right",A=N?"clientHeight":"clientWidth",P=l.reference[w]+l.reference[y]-v[y]-l.floating[w],k=v[y]-l.reference[y],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let _=T?T[A]:0;(!_||!await(c.isElement==null?void 0:c.isElement(T)))&&(_=d.floating[A]||l.floating[w]);const L=P/2-k/2,X=_/2-j[w]/2-1,I=Ji(g[C],X),R=Ji(g[E],X),K=I,ye=_-j[w]-R,W=_/2-j[w]/2+L,ee=wb(K,W,ye),B=!f.arrow&&Xc(s)!=null&&W!==ee&&l.reference[w]/2-(W<K?I:R)-j[w]/2<0,Z=B?W<K?W-K:W-ye:0;return{[y]:v[y]+Z,data:{[y]:ee,centerOffset:W-ee-Z,...B&&{alignmentOffset:Z}},reset:B}}}),$K=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:j=!0,...N}=Zs(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=Js(s),E=es(d),A=Js(d)===d,P=await(f.isRTL==null?void 0:f.isRTL(m.floating)),k=v||(A||!j?[up(d)]:OK(d)),T=w!=="none";!v&&T&&k.push(...MK(d,j,w,P));const _=[d,...k],L=await _u(t,N),X=[];let I=((a=l.flip)==null?void 0:a.overflows)||[];if(h&&X.push(L[C]),g){const W=TK(s,c,P);X.push(L[W[0]],L[W[1]])}if(I=[...I,{placement:s,overflows:X}],!X.every(W=>W<=0)){var R,K;const W=(((R=l.flip)==null?void 0:R.index)||0)+1,ee=_[W];if(ee&&(!(g==="alignment"?E!==es(ee):!1)||I.every($=>es($.placement)===E?$.overflows[0]>0:!0)))return{data:{index:W,overflows:I},reset:{placement:ee}};let B=(K=I.filter(Z=>Z.overflows[0]<=0).sort((Z,$)=>Z.overflows[1]-$.overflows[1])[0])==null?void 0:K.placement;if(!B)switch(y){case"bestFit":{var ye;const Z=(ye=I.filter($=>{if(T){const fe=es($.placement);return fe===E||fe==="y"}return!0}).map($=>[$.placement,$.overflows.filter(fe=>fe>0).reduce((fe,pe)=>fe+pe,0)]).sort(($,fe)=>$[1]-fe[1])[0])==null?void 0:ye[0];Z&&(B=Z);break}case"initialPlacement":B=d;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function zP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function BP(e){return CK.some(t=>e[t]>=0)}const FK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=Zs(e,t);switch(a){case"referenceHidden":{const l=await _u(t,{...s,elementContext:"reference"}),c=zP(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:BP(c)}}}case"escaped":{const l=await _u(t,{...s,altBoundary:!0}),c=zP(l,r.floating);return{data:{escapedOffsets:c,escaped:BP(c)}}}default:return{}}}}},TM=new Set(["left","top"]);async function zK(e,t){const{placement:r,platform:a,elements:s}=e,l=await(a.isRTL==null?void 0:a.isRTL(s.floating)),c=Js(r),d=Xc(r),f=es(r)==="y",m=TM.has(c)?-1:1,h=l&&f?-1:1,g=Zs(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof w=="number"&&(y=d==="end"?w*-1:w),f?{x:y*h,y:v*m}:{x:v*m,y:y*h}}const BK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:l,placement:c,middlewareData:d}=t,f=await zK(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:s+f.x,y:l+f.y,data:{...f,placement:c}}}}},UK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:C,y:E}=N;return{x:C,y:E}}},...f}=Zs(e,t),m={x:r,y:a},h=await _u(t,f),g=es(Js(s)),v=ow(g);let y=m[v],w=m[g];if(l){const N=v==="y"?"top":"left",C=v==="y"?"bottom":"right",E=y+h[N],A=y-h[C];y=wb(E,y,A)}if(c){const N=g==="y"?"top":"left",C=g==="y"?"bottom":"right",E=w+h[N],A=w-h[C];w=wb(E,w,A)}const j=d.fn({...t,[v]:y,[g]:w});return{...j,data:{x:j.x-r,y:j.y-a,enabled:{[v]:l,[g]:c}}}}}},HK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Zs(e,t),h={x:r,y:a},g=es(s),v=ow(g);let y=h[v],w=h[g];const j=Zs(d,t),N=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(f){const A=v==="y"?"height":"width",P=l.reference[v]-l.floating[A]+N.mainAxis,k=l.reference[v]+l.reference[A]-N.mainAxis;y<P?y=P:y>k&&(y=k)}if(m){var C,E;const A=v==="y"?"width":"height",P=TM.has(Js(s)),k=l.reference[g]-l.floating[A]+(P&&((C=c.offset)==null?void 0:C[g])||0)+(P?0:N.crossAxis),T=l.reference[g]+l.reference[A]+(P?0:((E=c.offset)==null?void 0:E[g])||0)-(P?N.crossAxis:0);w<k?w=k:w>T&&(w=T)}return{[v]:y,[g]:w}}}},qK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...m}=Zs(e,t),h=await _u(t,m),g=Js(s),v=Xc(s),y=es(s)==="y",{width:w,height:j}=l.floating;let N,C;g==="top"||g==="bottom"?(N=g,C=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(C=g,N=v==="end"?"top":"bottom");const E=j-h.top-h.bottom,A=w-h.left-h.right,P=Ji(j-h[N],E),k=Ji(w-h[C],A),T=!t.middlewareData.shift;let _=P,L=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=A),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(_=E),T&&!v){const I=Gr(h.left,0),R=Gr(h.right,0),K=Gr(h.top,0),ye=Gr(h.bottom,0);y?L=w-2*(I!==0||R!==0?I+R:Gr(h.left,h.right)):_=j-2*(K!==0||ye!==0?K+ye:Gr(h.top,h.bottom))}await f({...t,availableWidth:L,availableHeight:_});const X=await c.getDimensions(d.floating);return w!==X.width||j!==X.height?{reset:{rects:!0}}:{}}}};function jx(){return typeof window<"u"}function Zc(e){return OM(e)?(e.nodeName||"").toLowerCase():"#document"}function Jr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hs(e){var t;return(t=(OM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OM(e){return jx()?e instanceof Node||e instanceof Jr(e).Node:!1}function Ua(e){return jx()?e instanceof Element||e instanceof Jr(e).Element:!1}function os(e){return jx()?e instanceof HTMLElement||e instanceof Jr(e).HTMLElement:!1}function UP(e){return!jx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jr(e).ShadowRoot}const VK=new Set(["inline","contents"]);function cf(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!VK.has(s)}const KK=new Set(["table","td","th"]);function WK(e){return KK.has(Zc(e))}const GK=[":popover-open",":modal"];function bx(e){return GK.some(t=>{try{return e.matches(t)}catch{return!1}})}const YK=["transform","translate","scale","rotate","perspective"],QK=["transform","translate","scale","rotate","perspective","filter"],XK=["paint","layout","strict","content"];function uw(e){const t=fw(),r=Ua(e)?Ha(e):e;return YK.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||QK.some(a=>(r.willChange||"").includes(a))||XK.some(a=>(r.contain||"").includes(a))}function ZK(e){let t=el(e);for(;os(t)&&!Cc(t);){if(uw(t))return t;if(bx(t))return null;t=el(t)}return null}function fw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JK=new Set(["html","body","#document"]);function Cc(e){return JK.has(Zc(e))}function Ha(e){return Jr(e).getComputedStyle(e)}function Nx(e){return Ua(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function el(e){if(Zc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||UP(e)&&e.host||hs(e);return UP(t)?t.host:t}function kM(e){const t=el(e);return Cc(t)?e.ownerDocument?e.ownerDocument.body:e.body:os(t)&&cf(t)?t:kM(t)}function Ru(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=kM(e),l=s===((a=e.ownerDocument)==null?void 0:a.body),c=Jr(s);if(l){const d=Cb(c);return t.concat(c,c.visualViewport||[],cf(s)?s:[],d&&r?Ru(d):[])}return t.concat(s,Ru(s,[],r))}function Cb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _M(e){const t=Ha(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=os(e),l=s?e.offsetWidth:r,c=s?e.offsetHeight:a,d=dp(r)!==l||dp(a)!==c;return d&&(r=l,a=c),{width:r,height:a,$:d}}function mw(e){return Ua(e)?e:e.contextElement}function mc(e){const t=mw(e);if(!os(t))return ns(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:l}=_M(t);let c=(l?dp(r.width):r.width)/a,d=(l?dp(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const eW=ns(0);function RM(e){const t=Jr(e);return!fw()||!t.visualViewport?eW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jr(e)?!1:t}function Zl(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),l=mw(e);let c=ns(1);t&&(a?Ua(a)&&(c=mc(a)):c=mc(e));const d=tW(l,r,a)?RM(l):ns(0);let f=(s.left+d.x)/c.x,m=(s.top+d.y)/c.y,h=s.width/c.x,g=s.height/c.y;if(l){const v=Jr(l),y=a&&Ua(a)?Jr(a):a;let w=v,j=Cb(w);for(;j&&a&&y!==w;){const N=mc(j),C=j.getBoundingClientRect(),E=Ha(j),A=C.left+(j.clientLeft+parseFloat(E.paddingLeft))*N.x,P=C.top+(j.clientTop+parseFloat(E.paddingTop))*N.y;f*=N.x,m*=N.y,h*=N.x,g*=N.y,f+=A,m+=P,w=Jr(j),j=Cb(w)}}return fp({width:h,height:g,x:f,y:m})}function wx(e,t){const r=Nx(e).scrollLeft;return t?t.left+r:Zl(hs(e)).left+r}function MM(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-wx(e,r),s=r.top+t.scrollTop;return{x:a,y:s}}function nW(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const l=s==="fixed",c=hs(a),d=t?bx(t.floating):!1;if(a===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},m=ns(1);const h=ns(0),g=os(a);if((g||!g&&!l)&&((Zc(a)!=="body"||cf(c))&&(f=Nx(a)),os(a))){const y=Zl(a);m=mc(a),h.x=y.x+a.clientLeft,h.y=y.y+a.clientTop}const v=c&&!g&&!l?MM(c,f):ns(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+v.x,y:r.y*m.y-f.scrollTop*m.y+h.y+v.y}}function rW(e){return Array.from(e.getClientRects())}function aW(e){const t=hs(e),r=Nx(e),a=e.ownerDocument.body,s=Gr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=Gr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let c=-r.scrollLeft+wx(e);const d=-r.scrollTop;return Ha(a).direction==="rtl"&&(c+=Gr(t.clientWidth,a.clientWidth)-s),{width:s,height:l,x:c,y:d}}const HP=25;function sW(e,t){const r=Jr(e),a=hs(e),s=r.visualViewport;let l=a.clientWidth,c=a.clientHeight,d=0,f=0;if(s){l=s.width,c=s.height;const h=fw();(!h||h&&t==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}const m=wx(a);if(m<=0){const h=a.ownerDocument,g=h.body,v=getComputedStyle(g),y=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(a.clientWidth-g.clientWidth-y);w<=HP&&(l-=w)}else m<=HP&&(l+=m);return{width:l,height:c,x:d,y:f}}const iW=new Set(["absolute","fixed"]);function lW(e,t){const r=Zl(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,l=os(e)?mc(e):ns(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=s*l.x,m=a*l.y;return{width:c,height:d,x:f,y:m}}function qP(e,t,r){let a;if(t==="viewport")a=sW(e,r);else if(t==="document")a=aW(hs(e));else if(Ua(t))a=lW(t,r);else{const s=RM(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fp(a)}function DM(e,t){const r=el(e);return r===t||!Ua(r)||Cc(r)?!1:Ha(r).position==="fixed"||DM(r,t)}function oW(e,t){const r=t.get(e);if(r)return r;let a=Ru(e,[],!1).filter(d=>Ua(d)&&Zc(d)!=="body"),s=null;const l=Ha(e).position==="fixed";let c=l?el(e):e;for(;Ua(c)&&!Cc(c);){const d=Ha(c),f=uw(c);!f&&d.position==="fixed"&&(s=null),(l?!f&&!s:!f&&d.position==="static"&&!!s&&iW.has(s.position)||cf(c)&&!f&&DM(e,c))?a=a.filter(h=>h!==c):s=d,c=el(c)}return t.set(e,a),a}function cW(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const c=[...r==="clippingAncestors"?bx(t)?[]:oW(t,this._c):[].concat(r),a],d=c[0],f=c.reduce((m,h)=>{const g=qP(t,h,s);return m.top=Gr(g.top,m.top),m.right=Ji(g.right,m.right),m.bottom=Ji(g.bottom,m.bottom),m.left=Gr(g.left,m.left),m},qP(t,d,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function dW(e){const{width:t,height:r}=_M(e);return{width:t,height:r}}function uW(e,t,r){const a=os(t),s=hs(t),l=r==="fixed",c=Zl(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=ns(0);function m(){f.x=wx(s)}if(a||!a&&!l)if((Zc(t)!=="body"||cf(s))&&(d=Nx(t)),a){const y=Zl(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else s&&m();l&&!a&&s&&m();const h=s&&!a&&!l?MM(s,d):ns(0),g=c.left+d.scrollLeft-f.x-h.x,v=c.top+d.scrollTop-f.y-h.y;return{x:g,y:v,width:c.width,height:c.height}}function c0(e){return Ha(e).position==="static"}function VP(e,t){if(!os(e)||Ha(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hs(e)===r&&(r=r.ownerDocument.body),r}function LM(e,t){const r=Jr(e);if(bx(e))return r;if(!os(e)){let s=el(e);for(;s&&!Cc(s);){if(Ua(s)&&!c0(s))return s;s=el(s)}return r}let a=VP(e,t);for(;a&&WK(a)&&c0(a);)a=VP(a,t);return a&&Cc(a)&&c0(a)&&!uw(a)?r:a||ZK(e)||r}const fW=async function(e){const t=this.getOffsetParent||LM,r=this.getDimensions,a=await r(e.floating);return{reference:uW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function mW(e){return Ha(e).direction==="rtl"}const hW={convertOffsetParentRelativeRectToViewportRelativeRect:nW,getDocumentElement:hs,getClippingRect:cW,getOffsetParent:LM,getElementRects:fW,getClientRects:rW,getDimensions:dW,getScale:mc,isElement:Ua,isRTL:mW};function IM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function pW(e,t){let r=null,a;const s=hs(e);function l(){var d;clearTimeout(a),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:g,width:v,height:y}=m;if(d||t(),!v||!y)return;const w=ch(g),j=ch(s.clientWidth-(h+v)),N=ch(s.clientHeight-(g+y)),C=ch(h),A={rootMargin:-w+"px "+-j+"px "+-N+"px "+-C+"px",threshold:Gr(0,Ji(1,f))||1};let P=!0;function k(T){const _=T[0].intersectionRatio;if(_!==f){if(!P)return c();_?c(!1,_):a=setTimeout(()=>{c(!1,1e-7)},1e3)}_===1&&!IM(m,e.getBoundingClientRect())&&c(),P=!1}try{r=new IntersectionObserver(k,{...A,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,A)}r.observe(e)}return c(!0),l}function xW(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=a,m=mw(e),h=s||l?[...m?Ru(m):[],...Ru(t)]:[];h.forEach(C=>{s&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const g=m&&d?pW(m,r):null;let v=-1,y=null;c&&(y=new ResizeObserver(C=>{let[E]=C;E&&E.target===m&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),r()}),m&&!f&&y.observe(m),y.observe(t));let w,j=f?Zl(e):null;f&&N();function N(){const C=Zl(e);j&&!IM(j,C)&&r(),j=C,w=requestAnimationFrame(N)}return r(),()=>{var C;h.forEach(E=>{s&&E.removeEventListener("scroll",r),l&&E.removeEventListener("resize",r)}),g?.(),(C=y)==null||C.disconnect(),y=null,f&&cancelAnimationFrame(w)}}const gW=BK,vW=UK,yW=$K,jW=qK,bW=FK,KP=IK,NW=HK,wW=(e,t,r)=>{const a=new Map,s={platform:hW,...r},l={...s.platform,_c:a};return LK(e,t,{...s,platform:l})};var SW=typeof document<"u",CW=function(){},Hh=SW?p.useLayoutEffect:CW;function mp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!mp(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const l=s[a];if(!(l==="_owner"&&e.$$typeof)&&!mp(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function $M(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function WP(e,t){const r=$M(e);return Math.round(t*r)/r}function d0(e){const t=p.useRef(e);return Hh(()=>{t.current=e}),t}function EW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[h,g]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=p.useState(a);mp(v,a)||y(a);const[w,j]=p.useState(null),[N,C]=p.useState(null),E=p.useCallback($=>{$!==T.current&&(T.current=$,j($))},[]),A=p.useCallback($=>{$!==_.current&&(_.current=$,C($))},[]),P=l||w,k=c||N,T=p.useRef(null),_=p.useRef(null),L=p.useRef(h),X=f!=null,I=d0(f),R=d0(s),K=d0(m),ye=p.useCallback(()=>{if(!T.current||!_.current)return;const $={placement:t,strategy:r,middleware:v};R.current&&($.platform=R.current),wW(T.current,_.current,$).then(fe=>{const pe={...fe,isPositioned:K.current!==!1};W.current&&!mp(L.current,pe)&&(L.current=pe,ms.flushSync(()=>{g(pe)}))})},[v,t,r,R,K]);Hh(()=>{m===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[m]);const W=p.useRef(!1);Hh(()=>(W.current=!0,()=>{W.current=!1}),[]),Hh(()=>{if(P&&(T.current=P),k&&(_.current=k),P&&k){if(I.current)return I.current(P,k,ye);ye()}},[P,k,ye,I,X]);const ee=p.useMemo(()=>({reference:T,floating:_,setReference:E,setFloating:A}),[E,A]),B=p.useMemo(()=>({reference:P,floating:k}),[P,k]),Z=p.useMemo(()=>{const $={position:r,left:0,top:0};if(!B.floating)return $;const fe=WP(B.floating,h.x),pe=WP(B.floating,h.y);return d?{...$,transform:"translate("+fe+"px, "+pe+"px)",...$M(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:fe,top:pe}},[r,d,B.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:ye,refs:ee,elements:B,floatingStyles:Z}),[h,ye,ee,B,Z])}const AW=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?KP({element:a.current,padding:s}).fn(r):{}:a?KP({element:a,padding:s}).fn(r):{}}}},PW=(e,t)=>({...gW(e),options:[e,t]}),TW=(e,t)=>({...vW(e),options:[e,t]}),OW=(e,t)=>({...NW(e),options:[e,t]}),kW=(e,t)=>({...yW(e),options:[e,t]}),_W=(e,t)=>({...jW(e),options:[e,t]}),RW=(e,t)=>({...bW(e),options:[e,t]}),MW=(e,t)=>({...AW(e),options:[e,t]});function DW(e){const t=LW(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find($W);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function LW(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=zW(s),d=FW(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IW=Symbol("radix.slottable");function $W(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IW}function FW(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function zW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var BW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UW=BW.reduce((e,t)=>{const r=DW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),HW="Arrow",FM=p.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...l}=e;return n.jsx(UW.svg,{...l,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});FM.displayName=HW;var qW=FM;function VW(e){const t=KW(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(GW);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function KW(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=QW(s),d=YW(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WW=Symbol("radix.slottable");function GW(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WW}function YW(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function QW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var XW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zM=XW.reduce((e,t)=>{const r=VW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Sx(e){const[t,r]=p.useState(void 0);return un(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const l=s[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var hw="Popper",[BM,Cx]=gr(hw),[ZW,UM]=BM(hw),HM=e=>{const{__scopePopper:t,children:r}=e,[a,s]=p.useState(null);return n.jsx(ZW,{scope:t,anchor:a,onAnchorChange:s,children:r})};HM.displayName=hw;var qM="PopperAnchor",VM=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,l=UM(qM,r),c=p.useRef(null),d=rt(t,c),f=p.useRef(null);return p.useEffect(()=>{const m=f.current;f.current=a?.current||c.current,m!==f.current&&l.onAnchorChange(f.current)}),a?null:n.jsx(zM.div,{...s,ref:d})});VM.displayName=qM;var pw="PopperContent",[JW,eG]=BM(pw),KM=p.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:w,...j}=e,N=UM(pw,r),[C,E]=p.useState(null),A=rt(t,F=>E(F)),[P,k]=p.useState(null),T=Sx(P),_=T?.width??0,L=T?.height??0,X=a+(l!=="center"?"-"+l:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(m)?m:[m],K=R.length>0,ye={padding:I,boundary:R.filter(nG),altBoundary:K},{refs:W,floatingStyles:ee,placement:B,isPositioned:Z,middlewareData:$}=EW({strategy:"fixed",placement:X,whileElementsMounted:(...F)=>xW(...F,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[PW({mainAxis:s+L,alignmentAxis:c}),f&&TW({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?OW():void 0,...ye}),f&&kW({...ye}),_W({...ye,apply:({elements:F,rects:Te,availableWidth:ae,availableHeight:Oe})=>{const{width:$e,height:xe}=Te.reference,at=F.floating.style;at.setProperty("--radix-popper-available-width",`${ae}px`),at.setProperty("--radix-popper-available-height",`${Oe}px`),at.setProperty("--radix-popper-anchor-width",`${$e}px`),at.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),P&&MW({element:P,padding:d}),rG({arrowWidth:_,arrowHeight:L}),v&&RW({strategy:"referenceHidden",...ye})]}),[fe,pe]=YM(B),M=Pn(w);un(()=>{Z&&M?.()},[Z,M]);const te=$.arrow?.x,me=$.arrow?.y,Ne=$.arrow?.centerOffset!==0,[le,Ie]=p.useState();return un(()=>{C&&Ie(window.getComputedStyle(C).zIndex)},[C]),n.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Z?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(JW,{scope:r,placedSide:fe,onArrowChange:k,arrowX:te,arrowY:me,shouldHideArrow:Ne,children:n.jsx(zM.div,{"data-side":fe,"data-align":pe,...j,ref:A,style:{...j.style,animation:Z?void 0:"none"}})})})});KM.displayName=pw;var WM="PopperArrow",tG={top:"bottom",right:"left",bottom:"top",left:"right"},GM=p.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,l=eG(WM,a),c=tG[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(qW,{...s,ref:r,style:{...s.style,display:"block"}})})});GM.displayName=WM;function nG(e){return e!==null}var rG=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:s}=t,c=s.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,h]=YM(r),g={start:"0%",center:"50%",end:"100%"}[h],v=(s.arrow?.x??0)+d/2,y=(s.arrow?.y??0)+f/2;let w="",j="";return m==="bottom"?(w=c?g:`${v}px`,j=`${-f}px`):m==="top"?(w=c?g:`${v}px`,j=`${a.floating.height+f}px`):m==="right"?(w=`${-f}px`,j=c?g:`${y}px`):m==="left"&&(w=`${a.floating.width+f}px`,j=c?g:`${y}px`),{data:{x:w,y:j}}}});function YM(e){const[t,r="center"]=e.split("-");return[t,r]}var QM=HM,XM=VM,ZM=KM,JM=GM;function aG(e){const t=sG(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(lG);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function sG(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=cG(s),d=oG(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eD=Symbol("radix.slottable");function iG(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=eD,t}function lG(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eD}function oG(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function cG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uG=dG.reduce((e,t)=>{const r=aG(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),[Ex]=gr("Tooltip",[Cx]),Ax=Cx(),tD="TooltipProvider",fG=700,Eb="tooltip.open",[mG,xw]=Ex(tD),nD=e=>{const{__scopeTooltip:t,delayDuration:r=fG,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:l}=e,c=p.useRef(!0),d=p.useRef(!1),f=p.useRef(0);return p.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),n.jsx(mG,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:p.useCallback(m=>{d.current=m},[]),disableHoverableContent:s,children:l})};nD.displayName=tD;var Mu="Tooltip",[hG,Px]=Ex(Mu),rD=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:s,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=e,f=xw(Mu,e.__scopeTooltip),m=Ax(t),[h,g]=p.useState(null),v=za(),y=p.useRef(0),w=c??f.disableHoverableContent,j=d??f.delayDuration,N=p.useRef(!1),[C,E]=ta({prop:a,defaultProp:s??!1,onChange:_=>{_?(f.onOpen(),document.dispatchEvent(new CustomEvent(Eb))):f.onClose(),l?.(_)},caller:Mu}),A=p.useMemo(()=>C?N.current?"delayed-open":"instant-open":"closed",[C]),P=p.useCallback(()=>{window.clearTimeout(y.current),y.current=0,N.current=!1,E(!0)},[E]),k=p.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E(!1)},[E]),T=p.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{N.current=!0,E(!0),y.current=0},j)},[j,E]);return p.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),n.jsx(QM,{...m,children:n.jsx(hG,{scope:t,contentId:v,open:C,stateAttribute:A,trigger:h,onTriggerChange:g,onTriggerEnter:p.useCallback(()=>{f.isOpenDelayedRef.current?T():P()},[f.isOpenDelayedRef,T,P]),onTriggerLeave:p.useCallback(()=>{w?k():(window.clearTimeout(y.current),y.current=0)},[k,w]),onOpen:P,onClose:k,disableHoverableContent:w,children:r})})};rD.displayName=Mu;var Ab="TooltipTrigger",aD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Px(Ab,r),l=xw(Ab,r),c=Ax(r),d=p.useRef(null),f=rt(t,d,s.onTriggerChange),m=p.useRef(!1),h=p.useRef(!1),g=p.useCallback(()=>m.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),n.jsx(XM,{asChild:!0,...c,children:n.jsx(uG.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:f,onPointerMove:ze(e.onPointerMove,v=>{v.pointerType!=="touch"&&!h.current&&!l.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ze(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ze(e.onPointerDown,()=>{s.open&&s.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ze(e.onFocus,()=>{m.current||s.onOpen()}),onBlur:ze(e.onBlur,s.onClose),onClick:ze(e.onClick,s.onClose)})})});aD.displayName=Ab;var pG="TooltipPortal",[Fje,xG]=Ex(pG,{forceMount:void 0}),Ec="TooltipContent",sD=p.forwardRef((e,t)=>{const r=xG(Ec,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...l}=e,c=Px(Ec,e.__scopeTooltip);return n.jsx(ra,{present:a||c.open,children:c.disableHoverableContent?n.jsx(iD,{side:s,...l,ref:t}):n.jsx(gG,{side:s,...l,ref:t})})}),gG=p.forwardRef((e,t)=>{const r=Px(Ec,e.__scopeTooltip),a=xw(Ec,e.__scopeTooltip),s=p.useRef(null),l=rt(t,s),[c,d]=p.useState(null),{trigger:f,onClose:m}=r,h=s.current,{onPointerInTransitChange:g}=a,v=p.useCallback(()=>{d(null),g(!1)},[g]),y=p.useCallback((w,j)=>{const N=w.currentTarget,C={x:w.clientX,y:w.clientY},E=NG(C,N.getBoundingClientRect()),A=wG(C,E),P=SG(j.getBoundingClientRect()),k=EG([...A,...P]);d(k),g(!0)},[g]);return p.useEffect(()=>()=>v(),[v]),p.useEffect(()=>{if(f&&h){const w=N=>y(N,h),j=N=>y(N,f);return f.addEventListener("pointerleave",w),h.addEventListener("pointerleave",j),()=>{f.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",j)}}},[f,h,y,v]),p.useEffect(()=>{if(c){const w=j=>{const N=j.target,C={x:j.clientX,y:j.clientY},E=f?.contains(N)||h?.contains(N),A=!CG(C,c);E?v():A&&(v(),m())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[f,h,c,m,v]),n.jsx(iD,{...e,ref:l})}),[vG,yG]=Ex(Mu,{isInside:!1}),jG=iG("TooltipContent"),iD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=e,f=Px(Ec,r),m=Ax(r),{onClose:h}=f;return p.useEffect(()=>(document.addEventListener(Eb,h),()=>document.removeEventListener(Eb,h)),[h]),p.useEffect(()=>{if(f.trigger){const g=v=>{v.target?.contains(f.trigger)&&h()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,h]),n.jsx(af,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:h,children:n.jsxs(ZM,{"data-state":f.stateAttribute,...m,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(jG,{children:a}),n.jsx(vG,{scope:r,isInside:!0,children:n.jsx(Y7,{id:f.contentId,role:"tooltip",children:s||a})})]})})});sD.displayName=Ec;var lD="TooltipArrow",bG=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Ax(r);return yG(lD,r).isInside?null:n.jsx(JM,{...s,...a,ref:t})});bG.displayName=lD;function NG(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(r,a,s,l)){case l:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function wG(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function SG(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function CG(e,t){const{x:r,y:a}=e;let s=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],m=d.x,h=d.y,g=f.x,v=f.y;h>a!=v>a&&r<(g-m)*(a-h)/(v-h)+m&&(s=!s)}return s}function EG(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),AG(t)}function AG(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var PG=nD,TG=rD,OG=aD,oD=sD;const cD=PG,Su=TG,Cu=OG,hc=p.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(oD,{ref:a,sideOffset:t,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));hc.displayName=oD.displayName;const dD=p.createContext(null);function kG({children:e}){const[t,r]=p.useState(null),[a,s]=p.useState(!0),l=p.useCallback(async()=>{try{const m=await fetch(`${ju}/auth/status`,{credentials:"include"});if(!m.ok){r(null);return}const h=await m.json();h.authenticated&&h.user?r({discordId:h.user.discordId,username:h.user.username,avatar:h.user.avatar,isAdmin:h.user.isAdmin}):r(null)}catch(m){console.error("Auth check failed:",m),r(null)}finally{s(!1)}},[]);p.useEffect(()=>{l()},[l]);const c=p.useCallback(()=>{window.location.href=`${ju}/auth/discord`},[]),d=p.useCallback(async()=>{try{await fetch(`${ju}/auth/logout`,{method:"POST",credentials:"include"})}catch(m){console.error("Logout failed:",m)}finally{r(null),window.location.href="/admin/login"}},[]),f={user:t,isLoading:a,isAuthenticated:!!t,isAdmin:t?.isAdmin??!1,login:c,logout:d,refreshAuth:l};return n.jsx(dD.Provider,{value:f,children:e})}function gw(){const e=p.useContext(dD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function _G({children:e,requireAdmin:t=!0}){const{isLoading:r,isAuthenticated:a,isAdmin:s}=gw();return r?n.jsx("div",{className:"flex items-center justify-center h-screen bg-background","data-testid":"loading-auth",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(Pe,{className:"w-8 h-8 animate-spin text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Checking authentication..."})]})}):a?t&&!s?n.jsx("div",{className:"flex items-center justify-center h-screen bg-background","data-testid":"access-denied",children:n.jsxs("div",{className:"text-center space-y-4 p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-destructive",children:"Access Denied"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access the admin dashboard."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact an administrator if you believe this is an error."})]})}):n.jsx(n.Fragment,{children:e}):n.jsx(aU,{to:"/admin/login"})}var RG=Symbol.for("react.lazy"),hp=ef[" use ".trim().toString()];function MG(e){return typeof e=="object"&&e!==null&&"then"in e}function uD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===RG&&"_payload"in e&&MG(e._payload)}function fD(e){const t=LG(e),r=p.forwardRef((a,s)=>{let{children:l,...c}=a;uD(l)&&typeof hp=="function"&&(l=hp(l._payload));const d=p.Children.toArray(l),f=d.find($G);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}var DG=fD("Slot");function LG(e){const t=p.forwardRef((r,a)=>{let{children:s,...l}=r;if(uD(s)&&typeof hp=="function"&&(s=hp(s._payload)),p.isValidElement(s)){const c=zG(s),d=FG(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IG=Symbol("radix.slottable");function $G(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IG}function FG(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function zG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const vw=yx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ne=p.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},l)=>{const c=a?DG:"button";return n.jsx(c,{className:Le(vw({variant:t,size:r,className:e})),ref:l,...s})});ne.displayName="Button";const BG=yx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function q({className:e,variant:t,...r}){return n.jsx("div",{className:Le(BG({variant:t}),e),...r})}function UG(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c);d.displayName=l+"Context";const f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...w}=g,j=v?.[e]?.[f]||d,N=p.useMemo(()=>w,Object.values(w));return n.jsx(j.Provider,{value:N,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,w=p.useContext(y);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,HG(s,...t)]}function HG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var qG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fo=qG.reduce((e,t)=>{const r=fD(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function VG(){return l4.useSyncExternalStore(KG,()=>!0,()=>!1)}function KG(){return()=>{}}var yw="Avatar",[WG]=UG(yw),[GG,mD]=WG(yw),hD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[s,l]=p.useState("idle");return n.jsx(GG,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:n.jsx(fo.span,{...a,ref:t})})});hD.displayName=yw;var pD="AvatarImage",xD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...l}=e,c=mD(pD,r),d=YG(a,l),f=Pn(m=>{s(m),c.onImageLoadingStatusChange(m)});return un(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?n.jsx(fo.img,{...l,ref:t,src:a}):null});xD.displayName=pD;var gD="AvatarFallback",vD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...s}=e,l=mD(gD,r),[c,d]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const f=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(f)}},[a]),c&&l.imageLoadingStatus!=="loaded"?n.jsx(fo.span,{...s,ref:t}):null});vD.displayName=gD;function GP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function YG(e,{referrerPolicy:t,crossOrigin:r}){const a=VG(),s=p.useRef(null),l=a?(s.current||(s.current=new window.Image),s.current):null,[c,d]=p.useState(()=>GP(l,e));return un(()=>{d(GP(l,e))},[l,e]),un(()=>{const f=g=>()=>{d(g)};if(!l)return;const m=f("loaded"),h=f("error");return l.addEventListener("load",m),l.addEventListener("error",h),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",h)}},[l,r,t]),c}var yD=hD,jD=xD,bD=vD;const ND=({className:e,...t})=>n.jsx(yD,{className:Le(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t});ND.displayName=yD.displayName;const wD=({className:e,...t})=>n.jsx(jD,{className:Le("aspect-square h-full w-full",e),...t});wD.displayName=jD.displayName;const SD=({className:e,...t})=>n.jsx(bD,{className:Le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t});SD.displayName=bD.displayName;const QG=[{href:"/admin",label:"Dashboard",icon:bq},{href:"/admin/users",label:"Users",icon:Lr},{href:"/admin/value-allocation",label:"Value Allocation",icon:Nu},{href:"/admin/tokens",label:"Token Registry",icon:_r},{href:"/admin/pools",label:"Pools",icon:Tu},{href:"/admin/pool-indexer",label:"Pool Indexer V2",icon:Sa},{href:"/admin/pool-indexer-v1",label:"Pool Indexer V1",icon:Sa},{href:"/admin/pool-indexer-harmony",label:"Pool Indexer Harmony",icon:Sa},{href:"/admin/jeweler",label:"Jeweler",icon:of},{href:"/admin/gardening-quest",label:"Gardening Quest",icon:Ou},{href:"/admin/gardening-calc",label:"Gardening Calculator",icon:Ks},{href:"/admin/battle-ready",label:"Battle-Ready Heroes",icon:kr},{href:"/admin/summoning-calculator",label:"Summoning Calculator",icon:wu},{href:"/admin/summon-sniper",label:"Summon Sniper",icon:Rr},{href:"/admin/bargain-hunter",label:"Bargain Hunter",icon:Wn},{href:"/admin/dark-bargain-hunter",label:"Dark Bargain Hunter",icon:uo},{href:"/admin/tavern-indexer",label:"Tavern Indexer",icon:Sa},{href:"/admin/market-intel",label:"Market Intel",icon:On},{href:"/admin/profit-tracker",label:"Profit Tracker",icon:Ea},{href:"/admin/pve-droprates",label:"PVE Drop Rates",icon:kr},{href:"/admin/challenges",label:"Challenges",icon:Zr},{href:"/admin/level-racer",label:"Level Racer",icon:kr},{href:"/admin/hedge/combat-sync",label:"Hedge: Combat Sync",icon:Xe},{href:"/admin/hedge/plans",label:"Hedge: Plans & Access",icon:Qs},{href:"/admin/expenses",label:"Expenses",icon:Gq},{href:"/admin/bridge",label:"Bridge",icon:bc},{href:"/admin/extractors",label:"Extractors",icon:Sc},{href:"/admin/settings",label:"Settings",icon:iM}];function XG({children:e}){const{user:t,logout:r}=gw(),[a]=Va(),[s,l]=p.useState(!1),{data:c}=_e({queryKey:["/api/admin/environment"],staleTime:1/0}),d=t?.avatar?`https://cdn.discordapp.com/avatars/${t.discordId}/${t.avatar}.png`:null,f=()=>{l(!1)};return n.jsxs("div",{className:"flex h-screen w-full bg-background","data-testid":"admin-layout",children:[s&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),n.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 border-r bg-card flex flex-col
        transform transition-transform duration-200 ease-in-out
        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-primary-foreground font-bold text-sm",children:"HL"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"font-semibold text-sm",children:"Hedge Ledger"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin"}),c&&n.jsx(q,{variant:c.isProduction?"default":"secondary",className:"text-[10px] px-1 py-0","data-testid":"badge-environment",children:c.isProduction?"PROD":"DEV"})]})]}),n.jsx(ne,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",onClick:()=>l(!1),"data-testid":"button-close-sidebar",children:n.jsx(iw,{className:"h-4 w-4"})})]})}),n.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:QG.map(m=>{const h=a===m.href||m.href!=="/admin"&&a.startsWith(m.href),g=m.icon;return n.jsx(Gl,{href:m.href,onClick:f,children:n.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer ${h?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,"data-testid":`nav-${m.label.toLowerCase()}`,children:[n.jsx(g,{className:"w-4 h-4"}),n.jsx("span",{children:m.label}),h&&n.jsx(lf,{className:"w-4 h-4 ml-auto"})]})},m.href)})}),n.jsx("div",{className:"p-3 border-t",children:n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-accent/50",children:[n.jsxs(ND,{className:"w-8 h-8",children:[d&&n.jsx(wD,{src:d,alt:t?.username}),n.jsx(SD,{className:"text-xs",children:t?.username?.charAt(0).toUpperCase()||"?"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate","data-testid":"user-username",children:t?.username}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin"})]}),n.jsx(ne,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8","data-testid":"button-logout",children:n.jsx(_q,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("header",{className:"lg:hidden flex items-center gap-3 p-3 border-b bg-card",children:[n.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>l(!0),"data-testid":"button-open-sidebar",children:n.jsx($q,{className:"h-5 w-5"})}),n.jsx("span",{className:"font-semibold",children:"Hedge Ledger"}),c&&n.jsx(q,{variant:c.isProduction?"default":"secondary",className:"text-[10px] px-1 py-0",children:c.isProduction?"PROD":"DEV"})]}),n.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}const G=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));G.displayName="Card";const re=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("flex flex-col space-y-1.5 p-6",e),...t}));re.displayName="CardHeader";const ie=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const Se=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));Se.displayName="CardDescription";const Y=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("p-6 pt-0",e),...t}));Y.displayName="CardContent";const ZG=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("flex items-center p-6 pt-0",e),...t}));ZG.displayName="CardFooter";function JG(){const{isLoading:e,isAuthenticated:t,isAdmin:r,login:a}=gw(),[,s]=Va();return p.useEffect(()=>{!e&&t&&r&&s("/admin")},[e,t,r,s]),e?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:n.jsx(Pe,{className:"w-8 h-8 animate-spin text-white"})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4","data-testid":"admin-login-page",children:n.jsxs(G,{className:"w-full max-w-md",children:[n.jsxs(re,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:n.jsx("span",{className:"text-2xl font-bold text-white",children:"HL"})}),n.jsxs("div",{children:[n.jsx(ie,{className:"text-2xl",children:"Hedge Ledger Admin"}),n.jsx(Se,{className:"mt-2",children:"Sign in with Discord to access the admin dashboard"})]})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs(ne,{onClick:a,className:"w-full h-12 text-base gap-3 bg-[#5865F2] hover:bg-[#4752C4]","data-testid":"button-discord-login",children:[n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),"Sign in with Discord"]}),n.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Only authorized Discord accounts can access the admin area."})]})]})})}function Me({className:e,...t}){return n.jsx("div",{className:Le("animate-pulse rounded-md bg-muted",e),...t})}function eY(){const{data:e,isLoading:t}=_e({queryKey:["/api/analytics/overview"]}),{data:r,isLoading:a}=_e({queryKey:["/api/admin/hedge-wallet"],refetchInterval:6e4});return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-dashboard",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Overview of Hedge Ledger activity and metrics"})]}),n.jsxs(G,{className:"border-primary/20 bg-primary/5",children:[n.jsx(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Gc,{className:"h-5 w-5"}),"Hedge Wallet"]}),n.jsx(Se,{className:"font-mono text-xs",children:r?.wallet||"Loading..."})]})}),n.jsx(Y,{children:n.jsxs("div",{className:"flex flex-wrap gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"JEWEL"}),a?n.jsx(Me,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"stat-hedge-jewel",children:parseFloat(r?.balances?.jewel||"0").toFixed(4)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"CRYSTAL"}),a?n.jsx(Me,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-blue-500","data-testid":"stat-hedge-crystal",children:parseFloat(r?.balances?.crystal||"0").toFixed(4)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"cJEWEL (Staked)"}),a?n.jsx(Me,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"stat-hedge-cjewel",children:parseFloat(r?.balances?.cjewel||"0").toFixed(4)})]})]})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Players"}),n.jsx(Lr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:t?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-players",children:e?.players.total??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.players.withBalance??0," with active balances"]})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"JEWEL Deposits"}),n.jsx(jc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:t?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-jewel",children:parseFloat(e?.deposits.totalJewel??"0").toFixed(2)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.deposits.completed??0," completed deposits"]})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Revenue"}),n.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:t?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"stat-total-revenue",children:["$",parseFloat(e?.revenue.totalRevenue??"0").toFixed(2)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Profit: $",parseFloat(e?.revenue.totalProfit??"0").toFixed(2)]})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Queries"}),n.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:t?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-queries",children:e?.revenue.totalQueries??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.revenue.paidQueries??0," paid queries"]})]})})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Recent Activity"}),n.jsx(Se,{children:"Latest player interactions and system events"})]}),n.jsx(Y,{children:n.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity feed will be displayed here. Navigate to Users to manage player profiles."})})]})]})}const We=p.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:Le("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));We.displayName="Input";function Du(e,[t,r]){return Math.min(r,Math.max(t,e))}var tY=p.createContext(void 0);function Jc(e){const t=p.useContext(tY);return e||t||"ltr"}var u0=0;function CD(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YP()),document.body.insertAdjacentElement("beforeend",e[1]??YP()),u0++,()=>{u0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),u0--}},[])}function YP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function nY(e){const t=rY(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(sY);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function rY(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=lY(s),d=iY(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aY=Symbol("radix.slottable");function sY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aY}function iY(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function lY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cY=oY.reduce((e,t)=>{const r=nY(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),f0="focusScope.autoFocusOnMount",m0="focusScope.autoFocusOnUnmount",QP={bubbles:!1,cancelable:!0},dY="FocusScope",jw=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...c}=e,[d,f]=p.useState(null),m=Pn(s),h=Pn(l),g=p.useRef(null),v=rt(t,j=>f(j)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let j=function(A){if(y.paused||!d)return;const P=A.target;d.contains(P)?g.current=P:zi(g.current,{select:!0})},N=function(A){if(y.paused||!d)return;const P=A.relatedTarget;P!==null&&(d.contains(P)||zi(g.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const k of A)k.removedNodes.length>0&&zi(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",N);const E=new MutationObserver(C);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",N),E.disconnect()}}},[a,d,y.paused]),p.useEffect(()=>{if(d){ZP.add(y);const j=document.activeElement;if(!d.contains(j)){const C=new CustomEvent(f0,QP);d.addEventListener(f0,m),d.dispatchEvent(C),C.defaultPrevented||(uY(xY(ED(d)),{select:!0}),document.activeElement===j&&zi(d))}return()=>{d.removeEventListener(f0,m),setTimeout(()=>{const C=new CustomEvent(m0,QP);d.addEventListener(m0,h),d.dispatchEvent(C),C.defaultPrevented||zi(j??document.body,{select:!0}),d.removeEventListener(m0,h),ZP.remove(y)},0)}}},[d,m,h,y]);const w=p.useCallback(j=>{if(!r&&!a||y.paused)return;const N=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(N&&C){const E=j.currentTarget,[A,P]=fY(E);A&&P?!j.shiftKey&&C===P?(j.preventDefault(),r&&zi(A,{select:!0})):j.shiftKey&&C===A&&(j.preventDefault(),r&&zi(P,{select:!0})):C===E&&j.preventDefault()}},[r,a,y.paused]);return n.jsx(cY.div,{tabIndex:-1,...c,ref:v,onKeyDown:w})});jw.displayName=dY;function uY(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(zi(a,{select:t}),document.activeElement!==r)return}function fY(e){const t=ED(e),r=XP(t,e),a=XP(t.reverse(),e);return[r,a]}function ED(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function XP(e,t){for(const r of e)if(!mY(r,{upTo:t}))return r}function mY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hY(e){return e instanceof HTMLInputElement&&"select"in e}function zi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&hY(e)&&t&&e.select()}}var ZP=pY();function pY(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=JP(e,t),e.unshift(t)},remove(t){e=JP(e,t),e[0]?.resume()}}}function JP(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function xY(e){return e.filter(t=>t.tagName!=="A")}function AD(e){const t=gY(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(yY);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function gY(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=bY(s),d=jY(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vY=Symbol("radix.slottable");function yY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vY}function jY(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function bY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var NY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aa=NY.reduce((e,t)=>{const r=AD(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Tx(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tc=new WeakMap,dh=new WeakMap,uh={},h0=0,PD=function(e){return e&&(e.host||PD(e.parentNode))},SY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=PD(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},CY=function(e,t,r,a){var s=SY(t,Array.isArray(e)?e:[e]);uh[r]||(uh[r]=new WeakMap);var l=uh[r],c=[],d=new Set,f=new Set(s),m=function(g){!g||d.has(g)||(d.add(g),m(g.parentNode))};s.forEach(m);var h=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(v){if(d.has(v))h(v);else try{var y=v.getAttribute(a),w=y!==null&&y!=="false",j=(tc.get(v)||0)+1,N=(l.get(v)||0)+1;tc.set(v,j),l.set(v,N),c.push(v),j===1&&w&&dh.set(v,!0),N===1&&v.setAttribute(r,"true"),w||v.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return h(t),d.clear(),h0++,function(){c.forEach(function(g){var v=tc.get(g)-1,y=l.get(g)-1;tc.set(g,v),l.set(g,y),v||(dh.has(g)||g.removeAttribute(a),dh.delete(g)),y||g.removeAttribute(r)}),h0--,h0||(tc=new WeakMap,tc=new WeakMap,dh=new WeakMap,uh={})}},TD=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=wY(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),CY(a,s,r,"aria-hidden")):function(){return null}},Ja=function(){return Ja=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Ja.apply(this,arguments)};function OD(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function EY(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,l;a<s;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}var qh="right-scroll-bar-position",Vh="width-before-scroll-bar",AY="with-scroll-bars-hidden",PY="--removed-body-scroll-bar-size";function p0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TY(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var OY=typeof window<"u"?p.useLayoutEffect:p.useEffect,eT=new WeakMap;function kY(e,t){var r=TY(null,function(a){return e.forEach(function(s){return p0(s,a)})});return OY(function(){var a=eT.get(r);if(a){var s=new Set(a),l=new Set(e),c=r.current;s.forEach(function(d){l.has(d)||p0(d,null)}),l.forEach(function(d){s.has(d)||p0(d,c)})}eT.set(r,e)},[e]),r}function _Y(e){return e}function RY(e,t){t===void 0&&(t=_Y);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,a);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(a=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){a=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var h=c;c=[],h.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),r={push:function(h){c.push(h),m()},filter:function(h){return c=c.filter(h),r}}}};return s}function MY(e){e===void 0&&(e={});var t=RY(null);return t.options=Ja({async:!0,ssr:!1},e),t}var kD=function(e){var t=e.sideCar,r=OD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Ja({},r))};kD.isSideCarExport=!0;function DY(e,t){return e.useMedium(t),kD}var _D=MY(),x0=function(){},Ox=p.forwardRef(function(e,t){var r=p.useRef(null),a=p.useState({onScrollCapture:x0,onWheelCapture:x0,onTouchMoveCapture:x0}),s=a[0],l=a[1],c=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,h=e.enabled,g=e.shards,v=e.sideCar,y=e.noRelative,w=e.noIsolation,j=e.inert,N=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,A=e.gapMode,P=OD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,T=kY([r,t]),_=Ja(Ja({},P),s);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:_D,removeScrollBar:m,shards:g,noRelative:y,noIsolation:w,inert:j,setCallbacks:l,allowPinchZoom:!!N,lockRef:r,gapMode:A}),c?p.cloneElement(p.Children.only(d),Ja(Ja({},_),{ref:T})):p.createElement(E,Ja({},_,{className:f,ref:T}),d))});Ox.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ox.classNames={fullWidth:Vh,zeroRight:qh};var LY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=LY();return t&&e.setAttribute("nonce",t),e}function $Y(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function FY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=IY())&&($Y(t,r),FY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BY=function(){var e=zY();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},RD=function(){var e=BY(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},UY={left:0,top:0,right:0,gap:0},g0=function(e){return parseInt(e||"",10)||0},HY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[g0(r),g0(a),g0(s)]},qY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return UY;var t=HY(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},VY=RD(),pc="data-scroll-locked",KY=function(e,t,r,a){var s=e.left,l=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(AY,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(pc,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qh,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Vh,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(qh," .").concat(qh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Vh," .").concat(Vh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(pc,`] {
    `).concat(PY,": ").concat(d,`px;
  }
`)},tT=function(){var e=parseInt(document.body.getAttribute(pc)||"0",10);return isFinite(e)?e:0},WY=function(){p.useEffect(function(){return document.body.setAttribute(pc,(tT()+1).toString()),function(){var e=tT()-1;e<=0?document.body.removeAttribute(pc):document.body.setAttribute(pc,e.toString())}},[])},GY=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;WY();var l=p.useMemo(function(){return qY(s)},[s]);return p.createElement(VY,{styles:KY(l,!t,s,r?"":"!important")})},Pb=!1;if(typeof window<"u")try{var fh=Object.defineProperty({},"passive",{get:function(){return Pb=!0,!0}});window.addEventListener("test",fh,fh),window.removeEventListener("test",fh,fh)}catch{Pb=!1}var nc=Pb?{passive:!1}:!1,YY=function(e){return e.tagName==="TEXTAREA"},MD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!YY(e)&&r[t]==="visible")},QY=function(e){return MD(e,"overflowY")},XY=function(e){return MD(e,"overflowX")},nT=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=DD(e,a);if(s){var l=LD(e,a),c=l[1],d=l[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},ZY=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},JY=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},DD=function(e,t){return e==="v"?QY(t):XY(t)},LD=function(e,t){return e==="v"?ZY(t):JY(t)},eQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},tQ=function(e,t,r,a,s){var l=eQ(e,window.getComputedStyle(t).direction),c=l*a,d=r.target,f=t.contains(d),m=!1,h=c>0,g=0,v=0;do{if(!d)break;var y=LD(e,d),w=y[0],j=y[1],N=y[2],C=j-N-l*w;(w||C)&&DD(e,d)&&(g+=C,v+=w);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(h&&Math.abs(g)<1||!h&&Math.abs(v)<1)&&(m=!0),m},mh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rT=function(e){return[e.deltaX,e.deltaY]},aT=function(e){return e&&"current"in e?e.current:e},nQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aQ=0,rc=[];function sQ(e){var t=p.useRef([]),r=p.useRef([0,0]),a=p.useRef(),s=p.useState(aQ++)[0],l=p.useState(RD)[0],c=p.useRef(e);p.useEffect(function(){c.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var j=EY([e.lockRef.current],(e.shards||[]).map(aT),!0).filter(Boolean);return j.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),j.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(j,N){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var C=mh(j),E=r.current,A="deltaX"in j?j.deltaX:E[0]-C[0],P="deltaY"in j?j.deltaY:E[1]-C[1],k,T=j.target,_=Math.abs(A)>Math.abs(P)?"h":"v";if("touches"in j&&_==="h"&&T.type==="range")return!1;var L=nT(_,T);if(!L)return!0;if(L?k=_:(k=_==="v"?"h":"v",L=nT(_,T)),!L)return!1;if(!a.current&&"changedTouches"in j&&(A||P)&&(a.current=k),!k)return!0;var X=a.current||k;return tQ(X,N,j,X==="h"?A:P)},[]),f=p.useCallback(function(j){var N=j;if(!(!rc.length||rc[rc.length-1]!==l)){var C="deltaY"in N?rT(N):mh(N),E=t.current.filter(function(k){return k.name===N.type&&(k.target===N.target||N.target===k.shadowParent)&&nQ(k.delta,C)})[0];if(E&&E.should){N.cancelable&&N.preventDefault();return}if(!E){var A=(c.current.shards||[]).map(aT).filter(Boolean).filter(function(k){return k.contains(N.target)}),P=A.length>0?d(N,A[0]):!c.current.noIsolation;P&&N.cancelable&&N.preventDefault()}}},[]),m=p.useCallback(function(j,N,C,E){var A={name:j,delta:N,target:C,should:E,shadowParent:iQ(C)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(P){return P!==A})},1)},[]),h=p.useCallback(function(j){r.current=mh(j),a.current=void 0},[]),g=p.useCallback(function(j){m(j.type,rT(j),j.target,d(j,e.lockRef.current))},[]),v=p.useCallback(function(j){m(j.type,mh(j),j.target,d(j,e.lockRef.current))},[]);p.useEffect(function(){return rc.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",f,nc),document.addEventListener("touchmove",f,nc),document.addEventListener("touchstart",h,nc),function(){rc=rc.filter(function(j){return j!==l}),document.removeEventListener("wheel",f,nc),document.removeEventListener("touchmove",f,nc),document.removeEventListener("touchstart",h,nc)}},[]);var y=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(l,{styles:rQ(s)}):null,y?p.createElement(GY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function iQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lQ=DY(_D,sQ);var bw=p.forwardRef(function(e,t){return p.createElement(Ox,Ja({},e,{ref:t,sideCar:lQ}))});bw.classNames=Ox.classNames;var oQ=[" ","Enter","ArrowUp","ArrowDown"],cQ=[" ","Enter"],Jl="Select",[kx,_x,dQ]=rf(Jl),[ed]=gr(Jl,[dQ,Cx]),Rx=Cx(),[uQ,cl]=ed(Jl),[fQ,mQ]=ed(Jl),ID=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:m,name:h,autoComplete:g,disabled:v,required:y,form:w}=e,j=Rx(t),[N,C]=p.useState(null),[E,A]=p.useState(null),[P,k]=p.useState(!1),T=Jc(m),[_,L]=ta({prop:a,defaultProp:s??!1,onChange:l,caller:Jl}),[X,I]=ta({prop:c,defaultProp:d,onChange:f,caller:Jl}),R=p.useRef(null),K=N?w||!!N.closest("form"):!0,[ye,W]=p.useState(new Set),ee=Array.from(ye).map(B=>B.props.value).join(";");return n.jsx(QM,{...j,children:n.jsxs(uQ,{required:y,scope:t,trigger:N,onTriggerChange:C,valueNode:E,onValueNodeChange:A,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:za(),value:X,onValueChange:I,open:_,onOpenChange:L,dir:T,triggerPointerDownPosRef:R,disabled:v,children:[n.jsx(kx.Provider,{scope:t,children:n.jsx(fQ,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(B=>{W(Z=>new Set(Z).add(B))},[]),onNativeOptionRemove:p.useCallback(B=>{W(Z=>{const $=new Set(Z);return $.delete(B),$})},[]),children:r})}),K?n.jsxs(l5,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:g,value:X,onChange:B=>I(B.target.value),disabled:v,form:w,children:[X===void 0?n.jsx("option",{value:""}):null,Array.from(ye)]},ee):null]})})};ID.displayName=Jl;var $D="SelectTrigger",FD=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,l=Rx(r),c=cl($D,r),d=c.disabled||a,f=rt(t,c.onTriggerChange),m=_x(r),h=p.useRef("touch"),[g,v,y]=c5(j=>{const N=m().filter(A=>!A.disabled),C=N.find(A=>A.value===c.value),E=d5(N,j,C);E!==void 0&&c.onValueChange(E.value)}),w=j=>{d||(c.onOpenChange(!0),y()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return n.jsx(XM,{asChild:!0,...l,children:n.jsx(aa.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":o5(c.value)?"":void 0,...s,ref:f,onClick:ze(s.onClick,j=>{j.currentTarget.focus(),h.current!=="mouse"&&w(j)}),onPointerDown:ze(s.onPointerDown,j=>{h.current=j.pointerType;const N=j.target;N.hasPointerCapture(j.pointerId)&&N.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(w(j),j.preventDefault())}),onKeyDown:ze(s.onKeyDown,j=>{const N=g.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&v(j.key),!(N&&j.key===" ")&&oQ.includes(j.key)&&(w(),j.preventDefault())})})})});FD.displayName=$D;var zD="SelectValue",BD=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:l,placeholder:c="",...d}=e,f=cl(zD,r),{onValueNodeHasChildrenChange:m}=f,h=l!==void 0,g=rt(t,f.onValueNodeChange);return un(()=>{m(h)},[m,h]),n.jsx(aa.span,{...d,ref:g,style:{pointerEvents:"none"},children:o5(f.value)?n.jsx(n.Fragment,{children:c}):l})});BD.displayName=zD;var hQ="SelectIcon",UD=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(aa.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});UD.displayName=hQ;var pQ="SelectPortal",HD=e=>n.jsx(xx,{asChild:!0,...e});HD.displayName=pQ;var eo="SelectContent",qD=p.forwardRef((e,t)=>{const r=cl(eo,e.__scopeSelect),[a,s]=p.useState();if(un(()=>{s(new DocumentFragment)},[]),!r.open){const l=a;return l?ms.createPortal(n.jsx(VD,{scope:e.__scopeSelect,children:n.jsx(kx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),l):null}return n.jsx(KD,{...e,ref:t})});qD.displayName=eo;var La=10,[VD,dl]=ed(eo),xQ="SelectContentImpl",gQ=AD("SelectContent.RemoveScroll"),KD=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:j,avoidCollisions:N,...C}=e,E=cl(eo,r),[A,P]=p.useState(null),[k,T]=p.useState(null),_=rt(t,F=>P(F)),[L,X]=p.useState(null),[I,R]=p.useState(null),K=_x(r),[ye,W]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(A)return TD(A)},[A]),CD();const B=p.useCallback(F=>{const[Te,...ae]=K().map(xe=>xe.ref.current),[Oe]=ae.slice(-1),$e=document.activeElement;for(const xe of F)if(xe===$e||(xe?.scrollIntoView({block:"nearest"}),xe===Te&&k&&(k.scrollTop=0),xe===Oe&&k&&(k.scrollTop=k.scrollHeight),xe?.focus(),document.activeElement!==$e))return},[K,k]),Z=p.useCallback(()=>B([L,A]),[B,L,A]);p.useEffect(()=>{ye&&Z()},[ye,Z]);const{onOpenChange:$,triggerPointerDownPosRef:fe}=E;p.useEffect(()=>{if(A){let F={x:0,y:0};const Te=Oe=>{F={x:Math.abs(Math.round(Oe.pageX)-(fe.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(fe.current?.y??0))}},ae=Oe=>{F.x<=10&&F.y<=10?Oe.preventDefault():A.contains(Oe.target)||$(!1),document.removeEventListener("pointermove",Te),fe.current=null};return fe.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",ae,{capture:!0})}}},[A,$,fe]),p.useEffect(()=>{const F=()=>$(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[$]);const[pe,M]=c5(F=>{const Te=K().filter($e=>!$e.disabled),ae=Te.find($e=>$e.ref.current===document.activeElement),Oe=d5(Te,F,ae);Oe&&setTimeout(()=>Oe.ref.current.focus())}),te=p.useCallback((F,Te,ae)=>{const Oe=!ee.current&&!ae;(E.value!==void 0&&E.value===Te||Oe)&&(X(F),Oe&&(ee.current=!0))},[E.value]),me=p.useCallback(()=>A?.focus(),[A]),Ne=p.useCallback((F,Te,ae)=>{const Oe=!ee.current&&!ae;(E.value!==void 0&&E.value===Te||Oe)&&R(F)},[E.value]),le=a==="popper"?Tb:WD,Ie=le===Tb?{side:d,sideOffset:f,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:j,avoidCollisions:N}:{};return n.jsx(VD,{scope:r,content:A,viewport:k,onViewportChange:T,itemRefCallback:te,selectedItem:L,onItemLeave:me,itemTextRefCallback:Ne,focusSelectedItem:Z,selectedItemText:I,position:a,isPositioned:ye,searchRef:pe,children:n.jsx(bw,{as:gQ,allowPinchZoom:!0,children:n.jsx(jw,{asChild:!0,trapped:E.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:ze(s,F=>{E.trigger?.focus({preventScroll:!0}),F.preventDefault()}),children:n.jsx(af,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:n.jsx(le,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:F=>F.preventDefault(),...C,...Ie,onPlaced:()=>W(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:ze(C.onKeyDown,F=>{const Te=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!Te&&F.key.length===1&&M(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let Oe=K().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(F.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const $e=F.target,xe=Oe.indexOf($e);Oe=Oe.slice(xe+1)}setTimeout(()=>B(Oe)),F.preventDefault()}})})})})})})});KD.displayName=xQ;var vQ="SelectItemAlignedPosition",WD=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,l=cl(eo,r),c=dl(eo,r),[d,f]=p.useState(null),[m,h]=p.useState(null),g=rt(t,_=>h(_)),v=_x(r),y=p.useRef(!1),w=p.useRef(!0),{viewport:j,selectedItem:N,selectedItemText:C,focusSelectedItem:E}=c,A=p.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&j&&N&&C){const _=l.trigger.getBoundingClientRect(),L=m.getBoundingClientRect(),X=l.valueNode.getBoundingClientRect(),I=C.getBoundingClientRect();if(l.dir!=="rtl"){const $e=I.left-L.left,xe=X.left-$e,at=_.left-xe,Ye=_.width+at,Lt=Math.max(Ye,L.width),kt=window.innerWidth-La,J=Du(xe,[La,Math.max(La,kt-Lt)]);d.style.minWidth=Ye+"px",d.style.left=J+"px"}else{const $e=L.right-I.right,xe=window.innerWidth-X.right-$e,at=window.innerWidth-_.right-xe,Ye=_.width+at,Lt=Math.max(Ye,L.width),kt=window.innerWidth-La,J=Du(xe,[La,Math.max(La,kt-Lt)]);d.style.minWidth=Ye+"px",d.style.right=J+"px"}const R=v(),K=window.innerHeight-La*2,ye=j.scrollHeight,W=window.getComputedStyle(m),ee=parseInt(W.borderTopWidth,10),B=parseInt(W.paddingTop,10),Z=parseInt(W.borderBottomWidth,10),$=parseInt(W.paddingBottom,10),fe=ee+B+ye+$+Z,pe=Math.min(N.offsetHeight*5,fe),M=window.getComputedStyle(j),te=parseInt(M.paddingTop,10),me=parseInt(M.paddingBottom,10),Ne=_.top+_.height/2-La,le=K-Ne,Ie=N.offsetHeight/2,F=N.offsetTop+Ie,Te=ee+B+F,ae=fe-Te;if(Te<=Ne){const $e=R.length>0&&N===R[R.length-1].ref.current;d.style.bottom="0px";const xe=m.clientHeight-j.offsetTop-j.offsetHeight,at=Math.max(le,Ie+($e?me:0)+xe+Z),Ye=Te+at;d.style.height=Ye+"px"}else{const $e=R.length>0&&N===R[0].ref.current;d.style.top="0px";const at=Math.max(Ne,ee+j.offsetTop+($e?te:0)+Ie)+ae;d.style.height=at+"px",j.scrollTop=Te-Ne+j.offsetTop}d.style.margin=`${La}px 0`,d.style.minHeight=pe+"px",d.style.maxHeight=K+"px",a?.(),requestAnimationFrame(()=>y.current=!0)}},[v,l.trigger,l.valueNode,d,m,j,N,C,l.dir,a]);un(()=>A(),[A]);const[P,k]=p.useState();un(()=>{m&&k(window.getComputedStyle(m).zIndex)},[m]);const T=p.useCallback(_=>{_&&w.current===!0&&(A(),E?.(),w.current=!1)},[A,E]);return n.jsx(jQ,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:n.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:n.jsx(aa.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});WD.displayName=vQ;var yQ="SelectPopperPosition",Tb=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=La,...l}=e,c=Rx(r);return n.jsx(ZM,{...c,...l,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tb.displayName=yQ;var[jQ,Nw]=ed(eo,{}),Ob="SelectViewport",GD=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,l=dl(Ob,r),c=Nw(Ob,r),d=rt(t,l.onViewportChange),f=p.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(kx.Slot,{scope:r,children:n.jsx(aa.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,m=>{const h=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v?.current&&g){const y=Math.abs(f.current-h.scrollTop);if(y>0){const w=window.innerHeight-La*2,j=parseFloat(g.style.minHeight),N=parseFloat(g.style.height),C=Math.max(j,N);if(C<w){const E=C+y,A=Math.min(w,E),P=E-A;g.style.height=A+"px",g.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}f.current=h.scrollTop})})})]})});GD.displayName=Ob;var YD="SelectGroup",[bQ,NQ]=ed(YD),wQ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=za();return n.jsx(bQ,{scope:r,id:s,children:n.jsx(aa.div,{role:"group","aria-labelledby":s,...a,ref:t})})});wQ.displayName=YD;var QD="SelectLabel",XD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=NQ(QD,r);return n.jsx(aa.div,{id:s.id,...a,ref:t})});XD.displayName=QD;var pp="SelectItem",[SQ,ZD]=ed(pp),JD=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:l,...c}=e,d=cl(pp,r),f=dl(pp,r),m=d.value===a,[h,g]=p.useState(l??""),[v,y]=p.useState(!1),w=rt(t,E=>f.itemRefCallback?.(E,a,s)),j=za(),N=p.useRef("touch"),C=()=>{s||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(SQ,{scope:r,value:a,disabled:s,textId:j,isSelected:m,onItemTextChange:p.useCallback(E=>{g(A=>A||(E?.textContent??"").trim())},[]),children:n.jsx(kx.ItemSlot,{scope:r,value:a,disabled:s,textValue:h,children:n.jsx(aa.div,{role:"option","aria-labelledby":j,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:w,onFocus:ze(c.onFocus,()=>y(!0)),onBlur:ze(c.onBlur,()=>y(!1)),onClick:ze(c.onClick,()=>{N.current!=="mouse"&&C()}),onPointerUp:ze(c.onPointerUp,()=>{N.current==="mouse"&&C()}),onPointerDown:ze(c.onPointerDown,E=>{N.current=E.pointerType}),onPointerMove:ze(c.onPointerMove,E=>{N.current=E.pointerType,s?f.onItemLeave?.():N.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:ze(c.onKeyDown,E=>{f.searchRef?.current!==""&&E.key===" "||(cQ.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});JD.displayName=pp;var gu="SelectItemText",e5=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...l}=e,c=cl(gu,r),d=dl(gu,r),f=ZD(gu,r),m=mQ(gu,r),[h,g]=p.useState(null),v=rt(t,C=>g(C),f.onItemTextChange,C=>d.itemTextRefCallback?.(C,f.value,f.disabled)),y=h?.textContent,w=p.useMemo(()=>n.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:j,onNativeOptionRemove:N}=m;return un(()=>(j(w),()=>N(w)),[j,N,w]),n.jsxs(n.Fragment,{children:[n.jsx(aa.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?ms.createPortal(l.children,c.valueNode):null]})});e5.displayName=gu;var t5="SelectItemIndicator",n5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return ZD(t5,r).isSelected?n.jsx(aa.span,{"aria-hidden":!0,...a,ref:t}):null});n5.displayName=t5;var kb="SelectScrollUpButton",r5=p.forwardRef((e,t)=>{const r=dl(kb,e.__scopeSelect),a=Nw(kb,e.__scopeSelect),[s,l]=p.useState(!1),c=rt(t,a.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),s?n.jsx(s5,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});r5.displayName=kb;var _b="SelectScrollDownButton",a5=p.forwardRef((e,t)=>{const r=dl(_b,e.__scopeSelect),a=Nw(_b,e.__scopeSelect),[s,l]=p.useState(!1),c=rt(t,a.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,h=Math.ceil(f.scrollTop)<m;l(h)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),s?n.jsx(s5,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});a5.displayName=_b;var s5=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,l=dl("SelectScrollButton",r),c=p.useRef(null),d=_x(r),f=p.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return p.useEffect(()=>()=>f(),[f]),un(()=>{d().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),n.jsx(aa.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:ze(s.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{f()})})}),CQ="SelectSeparator",i5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(aa.div,{"aria-hidden":!0,...a,ref:t})});i5.displayName=CQ;var Rb="SelectArrow",EQ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=Rx(r),l=cl(Rb,r),c=dl(Rb,r);return l.open&&c.position==="popper"?n.jsx(JM,{...s,...a,ref:t}):null});EQ.displayName=Rb;var AQ="SelectBubbleInput",l5=p.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const s=p.useRef(null),l=rt(a,s),c=Tx(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&h){const g=new Event("change",{bubbles:!0});h.call(d,t),d.dispatchEvent(g)}},[c,t]),n.jsx(aa.select,{...r,style:{...R4,...r.style},ref:l,defaultValue:t})});l5.displayName=AQ;function o5(e){return e===""||e===void 0}function c5(e){const t=Pn(e),r=p.useRef(""),a=p.useRef(0),s=p.useCallback(c=>{const d=r.current+c;t(d),(function f(m){r.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=p.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,l]}function d5(e,t,r){const s=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=PQ(e,Math.max(l,0));s.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function PQ(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var TQ=ID,u5=FD,OQ=BD,kQ=UD,_Q=HD,f5=qD,RQ=GD,m5=XD,h5=JD,MQ=e5,DQ=n5,p5=r5,x5=a5,g5=i5;const it=TQ,lt=OQ,tt=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(u5,{ref:a,className:Le("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(kQ,{asChild:!0,children:n.jsx(Wc,{className:"h-4 w-4 opacity-50"})})]}));tt.displayName=u5.displayName;const v5=p.forwardRef(({className:e,...t},r)=>n.jsx(p5,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(nM,{className:"h-4 w-4"})}));v5.displayName=p5.displayName;const y5=p.forwardRef(({className:e,...t},r)=>n.jsx(x5,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Wc,{className:"h-4 w-4"})}));y5.displayName=x5.displayName;const nt=p.forwardRef(({className:e,children:t,position:r="popper",...a},s)=>n.jsx(_Q,{children:n.jsxs(f5,{ref:s,style:{backgroundColor:"hsl(220, 13%, 20%)"},className:Le("relative z-[9999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(v5,{}),n.jsx(RQ,{className:Le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(y5,{})]})}));nt.displayName=f5.displayName;const LQ=p.forwardRef(({className:e,...t},r)=>n.jsx(m5,{ref:r,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));LQ.displayName=m5.displayName;const ve=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(h5,{ref:a,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(DQ,{children:n.jsx(tM,{className:"h-4 w-4"})})}),n.jsx(MQ,{children:t})]}));ve.displayName=h5.displayName;const IQ=p.forwardRef(({className:e,...t},r)=>n.jsx(g5,{ref:r,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));IQ.displayName=g5.displayName;const mt=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Le("w-full caption-bottom text-sm",e),...t})}));mt.displayName="Table";const ht=p.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Le("[&_tr]:border-b",e),...t}));ht.displayName="TableHeader";const pt=p.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Le("[&_tr:last-child]:border-0",e),...t}));pt.displayName="TableBody";const $Q=p.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$Q.displayName="TableFooter";const Ae=p.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ae.displayName="TableRow";const H=p.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));H.displayName="TableHead";const U=p.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));U.displayName="TableCell";const FQ=p.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Le("mt-4 text-sm text-muted-foreground",e),...t}));FQ.displayName="TableCaption";const zQ=["ALL","GUEST","ADVENTURER","PLAYER","INVESTOR","EXTRACTOR","UNKNOWN"],BQ=["ALL","0","1","2","3","4"],v0={0:"Common",1:"Uncommon",2:"Rare",3:"Legendary",4:"Mythic"},UQ={0:"bg-gray-400 text-white",1:"bg-green-500 text-white",2:"bg-blue-500 text-white",3:"bg-purple-500 text-white",4:"bg-orange-500 text-white"};function HQ(){const{toast:e}=Zt(),[t,r]=p.useState(""),[a,s]=p.useState("ALL"),[l,c]=p.useState("ALL"),[d,f]=p.useState("discordUsername"),[m,h]=p.useState("asc"),[,g]=Va(),{data:v,isLoading:y,refetch:w,isRefetching:j}=_e({queryKey:["/api/admin/users"]}),N=Ee({mutationFn:async({userId:I,tier:R})=>De(`/api/admin/users/${I}/tier`,{method:"PATCH",body:JSON.stringify({tier:R})}),onSuccess:()=>{e({title:"Success",description:"User tier updated"}),Re.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{e({title:"Error",description:"Failed to update tier",variant:"destructive"})}});Ee({mutationFn:async I=>De(`/api/admin/users/${I}/refresh-snapshot`,{method:"POST"}),onSuccess:(I,R)=>{e({title:"Snapshot refreshed",description:"User snapshot updated."}),Re.invalidateQueries({queryKey:["/api/admin/users"]}),Re.invalidateQueries({queryKey:[`/api/admin/users/${R}/profile`]})},onError:()=>{e({title:"Error",description:"Failed to refresh snapshot",variant:"destructive"})}});const E=(v?.users??[]).filter(I=>{if(t){const R=t.toLowerCase();if(!I.discordUsername.toLowerCase().includes(R)&&!I.discordId.includes(R)&&!I.walletAddress?.toLowerCase().includes(R))return!1}return!(a!=="ALL"&&I.archetype!==a||l!=="ALL"&&I.tier!==parseInt(l))}).sort((I,R)=>{let K=0;return d==="discordUsername"?K=I.discordUsername.localeCompare(R.discordUsername):d==="tier"&&(K=I.tier-R.tier),m==="asc"?K:-K}),A=I=>{d===I?h(m==="asc"?"desc":"asc"):(f(I),h("asc"))},P=({field:I})=>d!==I?null:m==="asc"?n.jsx(nM,{className:"w-4 h-4"}):n.jsx(Wc,{className:"w-4 h-4"}),k=I=>{switch(I){case"INVESTOR":return"default";case"PLAYER":return"secondary";case"ADVENTURER":return"outline";case"EXTRACTOR":return"destructive";default:return"outline"}},T=I=>{switch(I){case"PROGRESSION_GAMER":return"secondary";case"INVESTOR_GROWTH":return"default";case"INVESTOR_EXTRACTOR":return"destructive";case"SOCIAL_COMMUNITY":return"outline";case"NEW_EXPLORER":return"outline";default:return"outline"}},_=I=>I?{PROGRESSION_GAMER:"Gamer",INVESTOR_GROWTH:"Growth",INVESTOR_EXTRACTOR:"Extractor",SOCIAL_COMMUNITY:"Social",NEW_EXPLORER:"New"}[I]||I:null,L=I=>UQ[I??0]||"bg-gray-400 text-white",X=async(I,R)=>{R&&R.stopPropagation();try{await navigator.clipboard.writeText(I),e({title:"Copied!",description:"Wallet address copied to clipboard"})}catch{e({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}};return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-users-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage player profiles, tiers, and classifications"})]}),n.jsxs(ne,{onClick:()=>w(),variant:"outline",disabled:j,"data-testid":"button-refresh-users",children:[n.jsx(Xe,{className:`w-4 h-4 mr-2 ${j?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-3",children:n.jsx(ie,{className:"text-base",children:"Filters"})}),n.jsx(Y,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(Xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(We,{placeholder:"Search by username, Discord ID, or wallet...",value:t,onChange:I=>r(I.target.value),className:"pl-9","data-testid":"input-search-users"})]})}),n.jsxs(it,{value:a,onValueChange:s,children:[n.jsx(tt,{className:"w-[150px]","data-testid":"select-archetype-filter",children:n.jsx(lt,{placeholder:"Archetype"})}),n.jsx(nt,{children:zQ.map(I=>n.jsx(ve,{value:I,children:I==="ALL"?"All Archetypes":I},I))})]}),n.jsxs(it,{value:l,onValueChange:c,children:[n.jsx(tt,{className:"w-[120px]","data-testid":"select-tier-filter",children:n.jsx(lt,{placeholder:"Tier"})}),n.jsx(nt,{children:BQ.map(I=>n.jsx(ve,{value:I,children:I==="ALL"?"All Tiers":v0[I]},I))})]})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{children:["Players (",E.length,")"]}),n.jsx(Se,{children:"Click on a user row to view detailed profile"})]}),n.jsx(Y,{children:y?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((I,R)=>n.jsx(Me,{className:"h-12 w-full"},R))}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"cursor-pointer select-none",onClick:()=>A("discordUsername"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Discord",n.jsx(P,{field:"discordUsername"})]})}),n.jsx(H,{children:"Wallet"}),n.jsx(H,{children:"Archetype"}),n.jsx(H,{children:"Intent"}),n.jsx(H,{className:"cursor-pointer select-none",onClick:()=>A("tier"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Tier",n.jsx(P,{field:"tier"})]})}),n.jsx(H,{children:"State"}),n.jsx(H,{children:"Flags"}),n.jsx(H,{children:"Actions"})]})}),n.jsx(pt,{children:E.length===0?n.jsx(Ae,{children:n.jsx(U,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No users found matching your filters"})}):E.map(I=>n.jsxs(Ae,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-user-${I.id}`,onClick:()=>g(`/admin/users/${I.discordId}/dashboard`),children:[n.jsx(U,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:I.discordUsername}),n.jsx("div",{className:"text-xs text-muted-foreground",children:I.discordId})]})}),n.jsx(U,{children:I.walletAddress?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("span",{className:"font-mono text-xs",children:[I.walletAddress.slice(0,6),"...",I.walletAddress.slice(-4)]}),n.jsx(ne,{size:"icon",variant:"ghost",onClick:R=>X(I.walletAddress,R),"data-testid":`button-copy-wallet-${I.id}`,children:n.jsx(lp,{className:"h-4 w-4"})})]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"Not linked"})}),n.jsx(U,{children:n.jsx(q,{variant:k(I.archetype),children:I.archetype})}),n.jsx(U,{children:I.intentArchetype?n.jsx(q,{variant:T(I.intentArchetype),children:_(I.intentArchetype)}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"--"})}),n.jsx(U,{children:n.jsx(q,{className:L(I.tier??0),children:v0[I.tier??0]})}),n.jsx(U,{children:n.jsx("span",{className:"text-sm",children:I.state})}),n.jsx(U,{children:n.jsxs("div",{className:"flex gap-1 flex-wrap",children:[I.flags?.isWhale&&n.jsx(q,{variant:"secondary",className:"text-xs",children:"Whale"}),I.flags?.isExtractor&&n.jsx(q,{variant:"destructive",className:"text-xs",children:"Extractor"}),I.flags?.isHighPotential&&n.jsx(q,{variant:"default",className:"text-xs",children:"High Pot."})]})}),n.jsx(U,{children:n.jsxs(it,{value:(I.tier??0).toString(),onValueChange:R=>{N.mutate({userId:I.id,tier:parseInt(R)})},children:[n.jsx(tt,{className:"w-[100px] h-8","data-testid":`select-tier-${I.id}`,children:n.jsx(lt,{})}),n.jsx(nt,{children:[0,1,2,3,4].map(R=>n.jsx(ve,{value:R.toString(),children:v0[R]},R))})]})})]},I.id))})]})})})]})]})}function qQ(){const{userId:e}=tf(),[t,r]=p.useState(!1),{data:a,isLoading:s,error:l}=_e({queryKey:[`/api/admin/users/${e}/profile`]});if(s)return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(Me,{className:"h-12 w-64"}),n.jsx(Me,{className:"h-96"})]});if(l||!a)return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsx(Gl,{href:"/admin/users",children:n.jsx(ne,{variant:"ghost",size:"icon",children:n.jsx(Qi,{className:"h-4 w-4"})})}),n.jsx("div",{className:"mt-4 text-red-500",children:"Failed to load user profile"})]});const c=a.createdAt?new Date(a.createdAt).toISOString().split("T")[0]:"N/A";async function d(){try{r(!0);const f=await fetch(`/api/admin/users/${e}/refresh-snapshot`,{method:"POST"});if(!f.ok){const m=await f.json().catch(()=>({}));throw new Error(m.error||"Failed to refresh snapshot")}Re.invalidateQueries({queryKey:[`/api/admin/users/${e}/profile`]}),alert("Snapshot refreshed successfully.")}catch(f){console.error("Snapshot refresh failed:",f.message),alert("Failed to refresh snapshot.")}finally{r(!1)}}return n.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"user-profile-container",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Gl,{href:"/admin/users",children:n.jsx(ne,{variant:"ghost",size:"icon","data-testid":"button-back",children:n.jsx(Qi,{className:"h-4 w-4"})})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold","data-testid":"profile-title",children:[a.discordUsername,"'s Account"]}),n.jsxs("p",{className:"text-muted-foreground","data-testid":"profile-subtitle",children:["User ID: ",a.discordId]})]})]}),n.jsxs(G,{"data-testid":"card-profile",children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Your Hedge Ledger Account"}),n.jsx(Se,{children:"Admin view of user account dashboard"})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Profile"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Discord:"})," ",a.discordUsername]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Tier:"})," ",n.jsx(q,{children:a.tier})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total queries:"})," ",a.totalQueries]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Member since:"})," ",c]})]})]}),n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Wallets"}),a.wallets&&a.wallets.length>0?n.jsxs("div",{className:"space-y-2",children:[a.wallets.slice(0,5).map((f,m)=>{const h=`${f.address.slice(0,6)}${f.address.slice(-4)}`,g=f.verified?" Verified":" Not verified";return n.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[n.jsxs("div",{children:[m+1,"."," ",n.jsx("code",{className:"text-xs",children:h})," ","(",f.chain,")  ",g]}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1 break-all",children:f.address})]},f.id)}),a.wallets.length>5&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ ",a.wallets.length-5," more wallets"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"No wallets linked yet."})]}),n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"LP Positions"}),a.lpPositions&&a.lpPositions.length>0?n.jsxs("div",{className:"space-y-3",children:[a.lpPositions.slice(0,5).map(f=>n.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[n.jsxs("div",{className:"font-medium",children:[f.poolName," (",f.chain,")"]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[" ",f.lpAmount," LP",n.jsx("br",{})," 24h APR (with quests): ",f.apr24h,"%"]})]},f.id)),a.lpPositions.length>5&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ ",a.lpPositions.length-5," more LP positions"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"No LP positions detected yet."})]}),n.jsxs("div",{className:"border-t pt-4 space-y-4",children:[n.jsx(ne,{className:"w-full",variant:"default","data-testid":"button-view-dashboard",onClick:()=>window.open(`${window.location.origin}/account?userId=${a.discordId}`,"_blank"),children:"View User Dashboard"}),n.jsx(ne,{className:"w-full",variant:"secondary",onClick:d,disabled:t,children:t?"Refreshing snapshot...":"Refresh Snapshot (Admin)"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Early Access  features and on-chain automation are still being rolled out."})]})]})]})]})}function VQ(e){const t=KQ(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(GQ);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function KQ(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=QQ(s),d=YQ(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WQ=Symbol("radix.slottable");function GQ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WQ}function YQ(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function QQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var XQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j5=XQ.reduce((e,t)=>{const r=VQ(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Mx="Switch",[ZQ]=gr(Mx),[JQ,eX]=ZQ(Mx),b5=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:m,form:h,...g}=e,[v,y]=p.useState(null),w=rt(t,A=>y(A)),j=p.useRef(!1),N=v?h||!!v.closest("form"):!0,[C,E]=ta({prop:s,defaultProp:l??!1,onChange:m,caller:Mx});return n.jsxs(JQ,{scope:r,checked:C,disabled:d,children:[n.jsx(j5.button,{type:"button",role:"switch","aria-checked":C,"aria-required":c,"data-state":C5(C),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:w,onClick:ze(e.onClick,A=>{E(P=>!P),N&&(j.current=A.isPropagationStopped(),j.current||A.stopPropagation())})}),N&&n.jsx(S5,{control:v,bubbles:!j.current,name:a,value:f,checked:C,required:c,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});b5.displayName=Mx;var N5="SwitchThumb",w5=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=eX(N5,r);return n.jsx(j5.span,{"data-state":C5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});w5.displayName=N5;var tX="SwitchBubbleInput",S5=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...s},l)=>{const c=p.useRef(null),d=rt(c,l),f=Tx(r),m=Sx(t);return p.useEffect(()=>{const h=c.current;if(!h)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&y){const w=new Event("click",{bubbles:a});y.call(h,r),h.dispatchEvent(w)}},[f,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:d,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});S5.displayName=tX;function C5(e){return e?"checked":"unchecked"}var E5=b5,nX=w5;const Qr=p.forwardRef(({className:e,...t},r)=>n.jsx(E5,{className:Le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(nX,{className:Le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qr.displayName=E5.displayName;var rX="Separator",sT="horizontal",aX=["horizontal","vertical"],A5=p.forwardRef((e,t)=>{const{decorative:r,orientation:a=sT,...s}=e,l=sX(a)?a:sT,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return n.jsx(fo.div,{"data-orientation":l,...d,...s,ref:t})});A5.displayName=rX;function sX(e){return aX.includes(e)}var P5=A5;const Ln=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},s)=>n.jsx(P5,{ref:s,decorative:r,orientation:t,className:Le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Ln.displayName=P5.displayName;function hh(e){if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toLocaleString()}function y0(e){return(typeof e=="number"&&isFinite(e)?e:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function iT(e,t=2){if(e==null||e==="")return 0 .toFixed(t);const r=typeof e=="number"?e:parseFloat(String(e));return isFinite(r)?r.toFixed(t):0 .toFixed(t)}function iX(){const{discordId:e}=tf(),{toast:t}=Zt();console.log("[UserDashboard] Component mounted, discordId:",e);const{data:r,isLoading:a,error:s}=_e({queryKey:["/api/user/summary",e],enabled:!!e}),l=r?.user,c=Ee({mutationFn:async j=>{if(!e)throw new Error("Missing discordId");const N=await fetch(`/api/user/settings/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)});if(!N.ok){const C=await N.json().catch(()=>({}));throw new Error(C.error||"Failed to update settings")}return await N.json()},onMutate:async j=>{await Re.cancelQueries({queryKey:["/api/user/summary",e]});const N=Re.getQueryData(["/api/user/summary",e]);return N?.user&&Re.setQueryData(["/api/user/summary",e],{...N,user:{...N.user,userSettings:{...N.user.userSettings,...j}}}),{previous:N}},onError:(j,N,C)=>{C?.previous&&Re.setQueryData(["/api/user/summary",e],C.previous),t({title:"Failed to save settings",description:j.message,variant:"destructive"})},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"Settings updated"})}}),d=p.useMemo(()=>{switch(l?.archetype){case"INVESTOR":return"default";case"PLAYER":return"secondary";case"ADVENTURER":return"outline";case"EXTRACTOR":return"destructive";default:return"outline"}},[l?.archetype]),f=j=>{switch(j){case"PROGRESSION_GAMER":return"secondary";case"INVESTOR_GROWTH":return"default";case"INVESTOR_EXTRACTOR":return"destructive";case"SOCIAL_COMMUNITY":return"outline";case"NEW_EXPLORER":return"outline";default:return"outline"}},m=j=>j?{PROGRESSION_GAMER:"Progression Gamer",INVESTOR_GROWTH:"Growth Investor",INVESTOR_EXTRACTOR:"Extractor",SOCIAL_COMMUNITY:"Social/Community",NEW_EXPLORER:"New Explorer"}[j]||j:null,h=async()=>{l?.walletAddress&&(await navigator.clipboard.writeText(l.walletAddress),t({title:"Wallet copied"}))},g=(j,N)=>{c.mutate({[j]:N})},v=Ee({mutationFn:async()=>{if(!l?.id)throw new Error("No user ID");return De("POST",`/api/admin/users/${l.id}/refresh-snapshot`)},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"Snapshot refreshed",description:"DFK data has been updated."})},onError:j=>{t({title:"Failed to refresh snapshot",description:j.message,variant:"destructive"})}}),y=Ee({mutationFn:async()=>{if(!l?.id)throw new Error("No user ID");return De("POST",`/api/admin/users/${l.id}/reclassify`)},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"User reclassified",description:"Intent classification has been updated."})},onError:j=>{t({title:"Failed to reclassify user",description:j.message,variant:"destructive"})}});if(a)return n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx(Me,{className:"h-9 w-64"}),n.jsx(Me,{className:"h-40"}),n.jsx(Me,{className:"h-40"})]});if(s||!l)return n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx(Gl,{href:"/admin/users",children:n.jsx(ne,{variant:"ghost",size:"icon",children:n.jsx(Qi,{className:"h-4 w-4"})})}),n.jsx(G,{children:n.jsxs(re,{children:[n.jsx(ie,{children:"Error loading user"}),n.jsx(Se,{children:"Unable to load user dashboard. Please return to the Users list."})]})})]});const w=l.dfkSnapshot;return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-user-dashboard",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Gl,{href:"/admin/users",children:n.jsx(ne,{variant:"ghost",size:"icon",children:n.jsx(Qi,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"text-2xl font-bold",children:l.discordUsername}),n.jsxs("p",{className:"text-muted-foreground text-sm",children:["Discord ID: ",l.discordId]})]}),n.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n.jsx(q,{variant:d,children:l.archetype}),l.intentArchetype&&n.jsx(q,{variant:f(l.intentArchetype),children:m(l.intentArchetype)}),n.jsxs(q,{className:"bg-blue-600 text-white",children:["Tier ",l.tier??0]}),n.jsx(q,{variant:"outline",children:l.state})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Account Overview"}),n.jsx(Se,{children:"Wallet and profile snapshot powered by stored data (no live on-chain calls)."})]}),l.lastUpdatedAt&&n.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(Xe,{className:"h-4 w-4"}),"Updated ",hh(l.lastUpdatedAt)]})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Linked Wallets"}),l.linkedWallets&&l.linkedWallets.length>0?n.jsx("div",{className:"space-y-2",children:l.linkedWallets.map((j,N)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap","data-testid":`wallet-row-${N}`,children:[n.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[j.address.slice(0,6),"...",j.address.slice(-4)]}),j.isPrimary&&n.jsx(q,{variant:"secondary",className:"text-xs",children:"PRIMARY"}),n.jsx(q,{variant:j.isVerified?"default":"outline",className:"text-xs",children:j.isVerified?"VERIFIED":"NOT VERIFIED"}),n.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(j.address).then(()=>{t({title:"Wallet copied",description:j.address})}).catch(()=>{t({title:"Copy failed",variant:"destructive"})})},"data-testid":`button-copy-wallet-${N}`,children:n.jsx(lp,{className:"h-4 w-4"})})]},j.address))}):l.walletAddress?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[l.walletAddress.slice(0,6),"...",l.walletAddress.slice(-4)]}),n.jsx(q,{variant:"outline",className:"text-xs",children:"NOT VERIFIED"}),n.jsx(ne,{size:"icon",variant:"ghost",onClick:h,children:n.jsx(lp,{className:"h-4 w-4"})})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No wallets linked"})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Flags"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(l.flags||{}).filter(([,j])=>j).length===0&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"None"}),Object.entries(l.flags||{}).filter(([,j])=>j).map(([j])=>n.jsx(q,{variant:"secondary",className:"text-xs",children:j},j))]})]}),n.jsx(Ln,{orientation:"vertical",className:"h-10"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Behavior Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.behaviorTags?.length?l.behaviorTags.map(j=>n.jsx(q,{variant:"outline",className:"text-xs",children:j},j)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No tags"})})]})]})]})]}),l.intentArchetype||l.intentScores?n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Intent Classification"}),n.jsx(Se,{children:"AI-powered player classification based on behavior patterns and wallet activity."})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending||!l?.id,"data-testid":"button-reclassify",children:[n.jsx(Xe,{className:`h-4 w-4 mr-2 ${y.isPending?"animate-spin":""}`}),y.isPending?"Reclassifying...":"Reclassify"]})]}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Primary Intent:"}),l.intentArchetype?n.jsx(q,{variant:f(l.intentArchetype),className:"text-sm",children:m(l.intentArchetype)}):n.jsx(q,{variant:"outline",className:"text-sm text-muted-foreground",children:"Unclassified"})]}),l.intentScores&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Intent Scores"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Progression Gamer"}),n.jsx("span",{className:"font-mono",children:l.intentScores.progressionScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.progressionScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Growth Investor"}),n.jsx("span",{className:"font-mono",children:l.intentScores.investorGrowthScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.investorGrowthScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Extractor"}),n.jsx("span",{className:"font-mono",children:l.intentScores.extractorScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.extractorScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Social/Community"}),n.jsx("span",{className:"font-mono",children:l.intentScores.socialScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.socialScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"New Explorer"}),n.jsx("span",{className:"font-mono",children:l.intentScores.onboardingScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-yellow-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.onboardingScore??0,100))}%`}})})]})]})]})]})})]}):n.jsx(G,{children:n.jsxs(re,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Intent Classification"}),n.jsx(Se,{children:"This user has not been classified yet. Click to run intent classification."})]}),n.jsxs(ne,{variant:"default",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending||!l?.id,"data-testid":"button-reclassify-initial",children:[n.jsx(Xe,{className:`h-4 w-4 mr-2 ${y.isPending?"animate-spin":""}`}),y.isPending?"Classifying...":"Run Classification"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"DeFi Kingdoms Snapshot"}),n.jsx(Se,{children:"Cached hero and garden metrics for this player."})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>v.mutate(),disabled:v.isPending||!l?.id,"data-testid":"button-refresh-snapshot",children:[n.jsx(Xe,{className:`h-4 w-4 mr-2 ${v.isPending?"animate-spin":""}`}),v.isPending?"Refreshing...":"Refresh"]})]}),n.jsxs(Y,{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Hero Count"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.heroCount??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"LP Positions"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.lpPositions?.length??w?.lpPositionsCount??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total LP Value (USD)"}),n.jsxs("p",{className:"text-lg font-semibold",children:["$",w?.totalLPValue?.toFixed(2)??"0.00"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"DFK Age (days)"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.dfkAgeDays??""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"JEWEL"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.jewelBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"CRYSTAL"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.crystalBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.cJewelBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL Lock (days)"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.cJewelLockDaysRemaining??""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"First TX"}),n.jsx("p",{className:"text-lg font-semibold",children:w?.firstTxAt?hh(w.firstTxAt):"N/A"})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Recent Optimizations"}),n.jsx(Se,{children:"Latest garden optimization jobs for this player."})]}),n.jsx(ne,{variant:"outline",size:"sm","data-testid":"button-expire-all",onClick:async()=>{try{if(!(await fetch(`/api/user/${e}/expire-optimizations`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to expire optimizations");t({title:"All stale optimizations marked as expired"}),Re.invalidateQueries({queryKey:["/api/user/summary",e]})}catch{t({title:"Error",description:"Failed to expire optimizations",variant:"destructive"})}},children:"Mark All Expired"})]}),n.jsx(Y,{className:"space-y-3",children:l.recentOptimizations?.length?l.recentOptimizations.map(j=>n.jsxs("div",{className:"p-3 rounded-lg border flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:j.service||"garden_optimization"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:hh(j.createdAt)})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsx(q,{variant:"outline",className:"uppercase text-[11px]",children:j.status}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.paymentJewel?`${j.paymentJewel} JEWEL`:"",j.poolCount?`  ${j.poolCount} pools`:""]})]})]},j.id)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No optimization history found."})})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:["Bridge Activity",l.bridgeActivity&&l.bridgeActivity.netExtractedUsd>100&&n.jsxs(q,{variant:"outline",className:"text-orange-600 border-orange-600",children:[n.jsx(Hs,{className:"h-3 w-3 mr-1"}),"Extractor"]})]}),n.jsx(Se,{children:"Cross-chain bridge flows for this wallet."})]}),n.jsx(Y,{children:l.bridgeActivity?n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridged In"}),n.jsxs("p",{className:"text-xl font-semibold text-green-600 flex items-center gap-1","data-testid":"text-bridge-in",children:[n.jsx(sp,{className:"h-4 w-4"}),"$",y0(l.bridgeActivity.totalBridgedInUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.bridgeActivity.heroesIn??0," heroes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridged Out"}),n.jsxs("p",{className:"text-xl font-semibold text-red-600 flex items-center gap-1","data-testid":"text-bridge-out",children:[n.jsx(ip,{className:"h-4 w-4"}),"$",y0(l.bridgeActivity.totalBridgedOutUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.bridgeActivity.heroesOut??0," heroes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Extracted"}),n.jsxs("p",{className:`text-xl font-semibold ${(l.bridgeActivity.netExtractedUsd??0)>0?"text-orange-600":"text-green-600"}`,"data-testid":"text-net-extracted",children:["$",y0(l.bridgeActivity.netExtractedUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Score: ",l.bridgeActivity.extractorScore??0,"/10"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Bridge"}),n.jsx("p",{className:"text-sm","data-testid":"text-last-bridge",children:l.bridgeActivity.lastBridgeAt?hh(l.bridgeActivity.lastBridgeAt):"N/A"}),l.bridgeActivity.extractorFlags&&l.bridgeActivity.extractorFlags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.bridgeActivity.extractorFlags.map(j=>n.jsx(q,{variant:"outline",className:"text-xs",children:j.replace(/_/g," ")},j))})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No bridge activity found for this wallet. Run the bridge indexer to populate data."})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"LP Positions Details"}),n.jsx(Se,{children:"Breakdown of staked LP tokens across garden pools."})]}),n.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-refresh-lp-positions",children:n.jsx(Xe,{className:`h-4 w-4 ${v.isPending?"animate-spin":""}`})})]}),n.jsx(Y,{children:w?.lpPositions&&w.lpPositions.length>0?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-xs text-muted-foreground font-medium pb-2 border-b",children:[n.jsx("div",{children:"Pool"}),n.jsx("div",{className:"text-right",children:"PID"}),n.jsx("div",{className:"text-right",children:"Staked LP"}),n.jsx("div",{className:"text-right",children:"Value (USD)"})]}),w.lpPositions.map((j,N)=>n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm py-2 border-b border-muted/50","data-testid":`row-lp-position-${j.pid??N}`,children:[n.jsx("div",{className:"font-medium",children:(j.poolName||j.pairName)?.replace(/wJEWEL/g,"JEWEL")||`Pool ${j.pid??N}`}),n.jsx("div",{className:"text-right text-muted-foreground",children:j.pid??"-"}),n.jsx("div",{className:"text-right font-mono",children:iT(j.lpBalance??j.stakedAmount,4)}),n.jsxs("div",{className:"text-right font-semibold",children:["$",iT(j.userTVL,2)]})]},j.pid??N)),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm pt-2 font-semibold",children:[n.jsx("div",{className:"col-span-3 text-right",children:"Total:"}),n.jsxs("div",{className:"text-right",children:["$",w.totalLPValue?.toFixed(2)??"0.00"]})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:'No LP positions found. Click "Refresh Snapshot" above to fetch latest data.'})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Hedge Settings"}),n.jsx(Se,{children:"Per-user notification preferences."})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notify me when APR drops on one of my pools"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Uses cached pool data; no live RPC calls."})]}),n.jsx(Qr,{checked:l.userSettings.notifyOnAprDrop,onCheckedChange:j=>g("notifyOnAprDrop",j),disabled:c.isPending})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notify me when a new optimization report is ready"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Alerts when fresh optimization output is available."})]}),n.jsx(Qr,{checked:l.userSettings.notifyOnNewOptimization,onCheckedChange:j=>g("notifyOnNewOptimization",j),disabled:c.isPending})]})]})]})]})}function lX(){return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-expenses-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Expenses"}),n.jsx("p",{className:"text-muted-foreground",children:"Track OpenAI, Replit, and other operational costs"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{variant:"outline","data-testid":"button-upload-expenses",children:[n.jsx(wV,{className:"w-4 h-4 mr-2"}),"Upload CSV"]}),n.jsxs(ne,{"data-testid":"button-add-expense",children:[n.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Add Expense"]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Monthly Expenses"}),n.jsx(Se,{children:"Expense tracking and reconciliation will be implemented in Phase 8"})]}),n.jsx(Y,{children:n.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[n.jsx("p",{children:"Expense management coming soon."}),n.jsx("p",{className:"text-sm mt-2",children:"This will include OpenAI API costs, Replit compute costs, and manual expense entries."})]})})]})]})}var oX="Label",T5=p.forwardRef((e,t)=>n.jsx(fo.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));T5.displayName=oX;var O5=T5;const cX=yx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=p.forwardRef(({className:e,...t},r)=>n.jsx(O5,{ref:r,className:Le(cX(),e),...t}));ke.displayName=O5.displayName;function j0({enabled:e,onToggle:t,accent:r="emerald",testId:a}){const s=r==="emerald"?"from-emerald-400 via-emerald-500 to-emerald-600":"from-blue-400 via-blue-500 to-blue-600";return n.jsxs("button",{type:"button",onClick:()=>t(!e),"data-testid":a,className:`relative inline-flex h-8 w-20 items-center rounded-full px-2 text-xs font-semibold tracking-wide transition-all duration-200
        ${e?"bg-gradient-to-r "+s+" text-white":"bg-slate-500 text-slate-200"}
      `,children:[n.jsx("span",{className:`z-10 transition-opacity duration-200 ${e?"opacity-100":"opacity-80"}`,children:e?"ON":"OFF"}),n.jsx("span",{className:`absolute h-7 w-7 rounded-full bg-white shadow transform transition-transform duration-200
          ${e?"translate-x-6":"-translate-x-1"}
        `})]})}function dX(){const[e,t]=p.useState({paymentBypass:!1,verboseLogging:!1,oauthBypass:!1}),[r,a]=p.useState(!1);async function s(){if(!r){a(!0);try{const c=await fetch("/api/admin/restart-server",{method:"POST",headers:{"Content-Type":"application/json"}});c.ok?setTimeout(()=>{window.location.reload()},3e3):(console.error("Restart failed with status:",c.status),a(!1))}catch(c){console.error("Failed to restart server:",c),setTimeout(()=>{window.location.reload()},2e3)}}}p.useEffect(()=>{async function c(){try{const d=await fetch("/api/admin/debug-settings");if(!d.ok)return;const f=await d.json();t(m=>({...m,...f}))}catch(d){console.error("Failed to load debug settings:",d)}}c()},[]);async function l(c,d){const f={...e,[c]:d};t(f);try{await fetch("/api/admin/debug-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),Re.invalidateQueries({queryKey:["/api/admin/debug-settings"]})}catch(m){console.error("Failed to update debug settings:",m)}}return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-settings-page",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure Hedge Ledger behavior and debug options"})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Debug Settings"}),n.jsx(Se,{children:"Options for testing and development"})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{children:"Payment Bypass"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip JEWEL payment verification for garden optimization testing"})]}),n.jsx(j0,{enabled:e.paymentBypass,onToggle:c=>l("paymentBypass",c),accent:"emerald",testId:"switch-payment-bypass"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{children:"Verbose Logging"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable detailed console logging for debugging"})]}),n.jsx(j0,{enabled:e.verboseLogging,onToggle:c=>l("verboseLogging",c),accent:"blue",testId:"switch-verbose-logging"})]}),e.oauthBypassAllowed&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{children:"OAuth Bypass"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip Discord OAuth for admin dashboard testing (allows unauthenticated access)"})]}),n.jsx(j0,{enabled:e.oauthBypass,onToggle:c=>l("oauthBypass",c),accent:"emerald",testId:"switch-oauth-bypass"})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Bot Configuration"}),n.jsx(Se,{children:"General bot settings (changes require restart)"})]}),n.jsx(Y,{children:n.jsx("div",{className:"py-8 text-center text-muted-foreground",children:n.jsx("p",{children:"Configuration options coming soon."})})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Server Control"}),n.jsx(Se,{children:"Restart the server to apply code changes"})]}),n.jsx(Y,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{children:"Restart Server"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Restart the backend server process to apply code changes. The page will reload automatically."})]}),n.jsx(ne,{onClick:s,disabled:r,variant:"destructive","data-testid":"button-restart-server",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}),"Restarting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Restart Server"]})})]})})]})]})}function uX(e){const t=fX(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(hX);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function fX(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=xX(s),d=pX(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mX=Symbol("radix.slottable");function hX(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mX}function pX(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function xX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],df=gX.reduce((e,t)=>{const r=uX(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function vX(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var ww="ScrollArea",[k5]=gr(ww),[yX,Oa]=k5(ww),_5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:l=600,...c}=e,[d,f]=p.useState(null),[m,h]=p.useState(null),[g,v]=p.useState(null),[y,w]=p.useState(null),[j,N]=p.useState(null),[C,E]=p.useState(0),[A,P]=p.useState(0),[k,T]=p.useState(!1),[_,L]=p.useState(!1),X=rt(t,R=>f(R)),I=Jc(s);return n.jsx(yX,{scope:r,type:a,dir:I,scrollHideDelay:l,scrollArea:d,viewport:m,onViewportChange:h,content:g,onContentChange:v,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:k,onScrollbarXEnabledChange:T,scrollbarY:j,onScrollbarYChange:N,scrollbarYEnabled:_,onScrollbarYEnabledChange:L,onCornerWidthChange:E,onCornerHeightChange:P,children:n.jsx(df.div,{dir:I,...c,ref:X,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});_5.displayName=ww;var R5="ScrollAreaViewport",M5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:s,...l}=e,c=Oa(R5,r),d=p.useRef(null),f=rt(t,d,c.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(df.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});M5.displayName=R5;var ps="ScrollAreaScrollbar",Sw=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Oa(ps,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=s,d=e.orientation==="horizontal";return p.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),s.type==="hover"?n.jsx(jX,{...a,ref:t,forceMount:r}):s.type==="scroll"?n.jsx(bX,{...a,ref:t,forceMount:r}):s.type==="auto"?n.jsx(D5,{...a,ref:t,forceMount:r}):s.type==="always"?n.jsx(Cw,{...a,ref:t}):null});Sw.displayName=ps;var jX=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Oa(ps,e.__scopeScrollArea),[l,c]=p.useState(!1);return p.useEffect(()=>{const d=s.scrollArea;let f=0;if(d){const m=()=>{window.clearTimeout(f),c(!0)},h=()=>{f=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",h),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),n.jsx(ra,{present:r||l,children:n.jsx(D5,{"data-state":l?"visible":"hidden",...a,ref:t})})}),bX=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Oa(ps,e.__scopeScrollArea),l=e.orientation==="horizontal",c=Lx(()=>f("SCROLL_END"),100),[d,f]=vX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,s.scrollHideDelay,f]),p.useEffect(()=>{const m=s.viewport,h=l?"scrollLeft":"scrollTop";if(m){let g=m[h];const v=()=>{const y=m[h];g!==y&&(f("SCROLL"),c()),g=y};return m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[s.viewport,l,f,c]),n.jsx(ra,{present:r||d!=="hidden",children:n.jsx(Cw,{"data-state":d==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),D5=p.forwardRef((e,t)=>{const r=Oa(ps,e.__scopeScrollArea),{forceMount:a,...s}=e,[l,c]=p.useState(!1),d=e.orientation==="horizontal",f=Lx(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?m:h)}},10);return Ac(r.viewport,f),Ac(r.content,f),n.jsx(ra,{present:a||l,children:n.jsx(Cw,{"data-state":l?"visible":"hidden",...s,ref:t})})}),Cw=p.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,s=Oa(ps,e.__scopeScrollArea),l=p.useRef(null),c=p.useRef(0),[d,f]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=z5(d.viewport,d.content),h={...a,sizes:d,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:v=>l.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function g(v,y){return AX(v,c.current,d,y)}return r==="horizontal"?n.jsx(NX,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollLeft,y=lT(v,d,s.dir);l.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=g(v,s.dir))}}):r==="vertical"?n.jsx(wX,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollTop,y=lT(v,d);l.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=g(v))}}):null}),NX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,l=Oa(ps,e.__scopeScrollArea),[c,d]=p.useState(),f=p.useRef(null),m=rt(t,f,l.onScrollbarXChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(I5,{"data-orientation":"horizontal",...s,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Dx(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,g)=>{if(l.viewport){const v=l.viewport.scrollLeft+h.deltaX;e.onWheelScroll(v),U5(v,g)&&h.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:gp(c.paddingLeft),paddingEnd:gp(c.paddingRight)}})}})}),wX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,l=Oa(ps,e.__scopeScrollArea),[c,d]=p.useState(),f=p.useRef(null),m=rt(t,f,l.onScrollbarYChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(I5,{"data-orientation":"vertical",...s,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Dx(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,g)=>{if(l.viewport){const v=l.viewport.scrollTop+h.deltaY;e.onWheelScroll(v),U5(v,g)&&h.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:gp(c.paddingTop),paddingEnd:gp(c.paddingBottom)}})}})}),[SX,L5]=k5(ps),I5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:h,onResize:g,...v}=e,y=Oa(ps,r),[w,j]=p.useState(null),N=rt(t,X=>j(X)),C=p.useRef(null),E=p.useRef(""),A=y.viewport,P=a.content-a.viewport,k=Pn(h),T=Pn(f),_=Lx(g,10);function L(X){if(C.current){const I=X.clientX-C.current.left,R=X.clientY-C.current.top;m({x:I,y:R})}}return p.useEffect(()=>{const X=I=>{const R=I.target;w?.contains(R)&&k(I,P)};return document.addEventListener("wheel",X,{passive:!1}),()=>document.removeEventListener("wheel",X,{passive:!1})},[A,w,P,k]),p.useEffect(T,[a,T]),Ac(w,_),Ac(y.content,_),n.jsx(SX,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:Pn(l),onThumbPointerUp:Pn(c),onThumbPositionChange:T,onThumbPointerDown:Pn(d),children:n.jsx(df.div,{...v,ref:N,style:{position:"absolute",...v.style},onPointerDown:ze(e.onPointerDown,X=>{X.button===0&&(X.target.setPointerCapture(X.pointerId),C.current=w.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),L(X))}),onPointerMove:ze(e.onPointerMove,L),onPointerUp:ze(e.onPointerUp,X=>{const I=X.target;I.hasPointerCapture(X.pointerId)&&I.releasePointerCapture(X.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),C.current=null})})})}),xp="ScrollAreaThumb",$5=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=L5(xp,e.__scopeScrollArea);return n.jsx(ra,{present:r||s.hasThumb,children:n.jsx(CX,{ref:t,...a})})}),CX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...s}=e,l=Oa(xp,r),c=L5(xp,r),{onThumbPositionChange:d}=c,f=rt(t,g=>c.onThumbChange(g)),m=p.useRef(void 0),h=Lx(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const g=l.viewport;if(g){const v=()=>{if(h(),!m.current){const y=PX(g,d);m.current=y,d()}};return d(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[l.viewport,h,d]),n.jsx(df.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ze(e.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),w=g.clientX-y.left,j=g.clientY-y.top;c.onThumbPointerDown({x:w,y:j})}),onPointerUp:ze(e.onPointerUp,c.onThumbPointerUp)})});$5.displayName=xp;var Ew="ScrollAreaCorner",F5=p.forwardRef((e,t)=>{const r=Oa(Ew,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?n.jsx(EX,{...e,ref:t}):null});F5.displayName=Ew;var EX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,s=Oa(Ew,r),[l,c]=p.useState(0),[d,f]=p.useState(0),m=!!(l&&d);return Ac(s.scrollbarX,()=>{const h=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(h),f(h)}),Ac(s.scrollbarY,()=>{const h=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(h),c(h)}),m?n.jsx(df.div,{...a,ref:t,style:{width:l,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gp(e){return e?parseInt(e,10):0}function z5(e,t){const r=e/t;return isNaN(r)?0:r}function Dx(e){const t=z5(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function AX(e,t,r,a="ltr"){const s=Dx(r),l=s/2,c=t||l,d=s-c,f=r.scrollbar.paddingStart+c,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,h=r.content-r.viewport,g=a==="ltr"?[0,h]:[h*-1,0];return B5([f,m],g)(e)}function lT(e,t,r="ltr"){const a=Dx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-s,c=t.content-t.viewport,d=l-a,f=r==="ltr"?[0,c]:[c*-1,0],m=Du(e,f);return B5([0,c],[0,d])(m)}function B5(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function U5(e,t){return e>0&&e<t}var PX=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function s(){const l={left:e.scrollLeft,top:e.scrollTop},c=r.left!==l.left,d=r.top!==l.top;(c||d)&&t(),r=l,a=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(a)};function Lx(e,t){const r=Pn(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Ac(e,t){const r=Pn(t);un(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,r])}var H5=_5,TX=M5,OX=F5;const Wi=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(H5,{ref:a,className:Le("relative overflow-hidden",e),...r,children:[n.jsx(TX,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(q5,{}),n.jsx(OX,{})]}));Wi.displayName=H5.displayName;const q5=p.forwardRef(({className:e,orientation:t="vertical",...r},a)=>n.jsx(Sw,{ref:a,orientation:t,className:Le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx($5,{className:"relative flex-1 rounded-full bg-border"})}));q5.displayName=Sw.displayName;function kX(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c);d.displayName=l+"Context";const f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...w}=g,j=v?.[e]?.[f]||d,N=p.useMemo(()=>w,Object.values(w));return n.jsx(j.Provider,{value:N,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,w=p.useContext(y);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,_X(s,...t)]}function _X(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var Aw="Progress",Pw=100,[RX]=kX(Aw),[MX,DX]=RX(Aw),V5=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:l=LX,...c}=e;(s||s===0)&&!oT(s)&&console.error(IX(`${s}`,"Progress"));const d=oT(s)?s:Pw;a!==null&&!cT(a,d)&&console.error($X(`${a}`,"Progress"));const f=cT(a,d)?a:null,m=vp(f)?l(f,d):void 0;return n.jsx(MX,{scope:r,value:f,max:d,children:n.jsx(fo.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":vp(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":G5(f,d),"data-value":f??void 0,"data-max":d,...c,ref:t})})});V5.displayName=Aw;var K5="ProgressIndicator",W5=p.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=DX(K5,r);return n.jsx(fo.div,{"data-state":G5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});W5.displayName=K5;function LX(e,t){return`${Math.round(e/t*100)}%`}function G5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function vp(e){return typeof e=="number"}function oT(e){return vp(e)&&!isNaN(e)&&e>0}function cT(e,t){return vp(e)&&!isNaN(e)&&e<=t&&e>=0}function IX(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Pw}\`.`}function $X(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Pw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Y5=V5,FX=W5;const Ut=p.forwardRef(({className:e,value:t,...r},a)=>n.jsx(Y5,{ref:a,className:Le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(FX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`,backfaceVisibility:"hidden",willChange:"transform"}})}));Ut.displayName=Y5.displayName;var zX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tw(e){if(typeof e!="string")return!1;var t=zX;return t.includes(e)}var BX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],UX=new Set(BX);function Q5(e){return typeof e!="string"?!1:UX.has(e)}function X5(e){return typeof e=="string"&&e.startsWith("data-")}function Mr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Q5(r)||X5(r))&&(t[r]=e[r]);return t}function to(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Mr(t)}return typeof e=="object"&&!Array.isArray(e)?Mr(e):null}function cr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Q5(r)||X5(r)||Tw(r))&&(t[r]=e[r]);return t}function HX(e){return e==null?null:p.isValidElement(e)?cr(e.props):typeof e=="object"&&!Array.isArray(e)?cr(e):null}var qX=["children","width","height","viewBox","className","style","title","desc"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mb.apply(null,arguments)}function VX(e,t){if(e==null)return{};var r,a,s=KX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ow=p.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=VX(e,qX),g=l||{width:a,height:s,x:0,y:0},v=wt("recharts-surface",c);return p.createElement("svg",Mb({},cr(h),{className:v,width:a,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),p.createElement("title",null,f),p.createElement("desc",null,m),r)}),WX=["children","className"];function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Db.apply(null,arguments)}function GX(e,t){if(e==null)return{};var r,a,s=YX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var fn=p.forwardRef((e,t)=>{var{children:r,className:a}=e,s=GX(e,WX),l=wt("recharts-layer",a);return p.createElement("g",Db({className:l},cr(s),{ref:t}),r)}),Z5=p.createContext(null),QX=()=>p.useContext(Z5);function Kt(e){return function(){return e}}const J5=Math.cos,yp=Math.sin,Ka=Math.sqrt,jp=Math.PI,Ix=2*jp,Lb=Math.PI,Ib=2*Lb,Il=1e-6,XX=Ib-Il;function e3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ZX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return e3;const r=10**t;return function(a){this._+=a[0];for(let s=1,l=a.length;s<l;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class JX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e3:ZX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,l,c){this._append`C${+t},${+r},${+a},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,a,s,l){if(t=+t,r=+r,a=+a,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=a-t,m=s-r,h=c-t,g=d-r,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Il)if(!(Math.abs(g*f-m*h)>Il)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let y=a-c,w=s-d,j=f*f+m*m,N=y*y+w*w,C=Math.sqrt(j),E=Math.sqrt(v),A=l*Math.tan((Lb-Math.acos((j+v-N)/(2*C*E)))/2),P=A/E,k=A/C;Math.abs(P-1)>Il&&this._append`L${t+P*h},${r+P*g}`,this._append`A${l},${l},0,0,${+(g*y>h*w)},${this._x1=t+k*f},${this._y1=r+k*m}`}}arc(t,r,a,s,l,c){if(t=+t,r=+r,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),f=a*Math.sin(s),m=t+d,h=r+f,g=1^c,v=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Il||Math.abs(this._y1-h)>Il)&&this._append`L${m},${h}`,a&&(v<0&&(v=v%Ib+Ib),v>XX?this._append`A${a},${a},0,1,${g},${t-d},${r-f}A${a},${a},0,1,${g},${this._x1=m},${this._y1=h}`:v>Il&&this._append`A${a},${a},0,${+(v>=Lb)},${g},${this._x1=t+a*Math.cos(l)},${this._y1=r+a*Math.sin(l)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function kw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new JX(t)}function _w(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function t3(e){this._context=e}t3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $x(e){return new t3(e)}function n3(e){return e[0]}function r3(e){return e[1]}function a3(e,t){var r=Kt(!0),a=null,s=$x,l=null,c=kw(d);e=typeof e=="function"?e:e===void 0?n3:Kt(e),t=typeof t=="function"?t:t===void 0?r3:Kt(t);function d(f){var m,h=(f=_w(f)).length,g,v=!1,y;for(a==null&&(l=s(y=c())),m=0;m<=h;++m)!(m<h&&r(g=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(g,m,f),+t(g,m,f));if(y)return l=null,y+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Kt(!!f),d):r},d.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),d):s},d.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),d):a},d}function ph(e,t,r){var a=null,s=Kt(!0),l=null,c=$x,d=null,f=kw(m);e=typeof e=="function"?e:e===void 0?n3:Kt(+e),t=typeof t=="function"?t:Kt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?r3:Kt(+r);function m(g){var v,y,w,j=(g=_w(g)).length,N,C=!1,E,A=new Array(j),P=new Array(j);for(l==null&&(d=c(E=f())),v=0;v<=j;++v){if(!(v<j&&s(N=g[v],v,g))===C)if(C=!C)y=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=v-1;w>=y;--w)d.point(A[w],P[w]);d.lineEnd(),d.areaEnd()}C&&(A[v]=+e(N,v,g),P[v]=+t(N,v,g),d.point(a?+a(N,v,g):A[v],r?+r(N,v,g):P[v]))}if(E)return d=null,E+""||null}function h(){return a3().defined(s).curve(c).context(l)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),a=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),m):e},m.x1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Kt(+g),m):a},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),r=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),m):t},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Kt(+g),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(a).y(t)},m.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Kt(!!g),m):s},m.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),m):c},m.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),m):l},m}class s3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function eZ(e){return new s3(e,!0)}function tZ(e){return new s3(e,!1)}const Rw={draw(e,t){const r=Ka(t/jp);e.moveTo(r,0),e.arc(0,0,r,0,Ix)}},nZ={draw(e,t){const r=Ka(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},i3=Ka(1/3),rZ=i3*2,aZ={draw(e,t){const r=Ka(t/rZ),a=r*i3;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},sZ={draw(e,t){const r=Ka(t),a=-r/2;e.rect(a,a,r,r)}},iZ=.8908130915292852,l3=yp(jp/10)/yp(7*jp/10),lZ=yp(Ix/10)*l3,oZ=-J5(Ix/10)*l3,cZ={draw(e,t){const r=Ka(t*iZ),a=lZ*r,s=oZ*r;e.moveTo(0,-r),e.lineTo(a,s);for(let l=1;l<5;++l){const c=Ix*l/5,d=J5(c),f=yp(c);e.lineTo(f*r,-d*r),e.lineTo(d*a-f*s,f*a+d*s)}e.closePath()}},b0=Ka(3),dZ={draw(e,t){const r=-Ka(t/(b0*3));e.moveTo(0,r*2),e.lineTo(-b0*r,-r),e.lineTo(b0*r,-r),e.closePath()}},ga=-.5,va=Ka(3)/2,$b=1/Ka(12),uZ=($b/2+1)*3,fZ={draw(e,t){const r=Ka(t/uZ),a=r/2,s=r*$b,l=a,c=r*$b+r,d=-l,f=c;e.moveTo(a,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(ga*a-va*s,va*a+ga*s),e.lineTo(ga*l-va*c,va*l+ga*c),e.lineTo(ga*d-va*f,va*d+ga*f),e.lineTo(ga*a+va*s,ga*s-va*a),e.lineTo(ga*l+va*c,ga*c-va*l),e.lineTo(ga*d+va*f,ga*f-va*d),e.closePath()}};function mZ(e,t){let r=null,a=kw(s);e=typeof e=="function"?e:Kt(e||Rw),t=typeof t=="function"?t:Kt(t===void 0?64:+t);function s(){let l;if(r||(r=l=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(+l),s):t},s.context=function(l){return arguments.length?(r=l??null,s):r},s}function bp(){}function Np(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function o3(e){this._context=e}o3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Np(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hZ(e){return new o3(e)}function c3(e){this._context=e}c3.prototype={areaStart:bp,areaEnd:bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pZ(e){return new c3(e)}function d3(e){this._context=e}d3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xZ(e){return new d3(e)}function u3(e){this._context=e}u3.prototype={areaStart:bp,areaEnd:bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function gZ(e){return new u3(e)}function dT(e){return e<0?-1:1}function uT(e,t,r){var a=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(a||s<0&&-0),c=(r-e._y1)/(s||a<0&&-0),d=(l*s+c*a)/(a+s);return(dT(l)+dT(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function fT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function N0(e,t,r){var a=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-a)/3;e._context.bezierCurveTo(a+d,s+d*t,l-d,c-d*r,l,c)}function wp(e){this._context=e}wp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N0(this,this._t0,fT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,N0(this,fT(this,r=uT(this,e,t)),r);break;default:N0(this,this._t0,r=uT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function f3(e){this._context=new m3(e)}(f3.prototype=Object.create(wp.prototype)).point=function(e,t){wp.prototype.point.call(this,t,e)};function m3(e){this._context=e}m3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,l){this._context.bezierCurveTo(t,e,a,r,l,s)}};function vZ(e){return new wp(e)}function yZ(e){return new f3(e)}function h3(e){this._context=e}h3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=mT(e),s=mT(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(a[0][l],s[0][l],a[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mT(e){var t,r=e.length-1,a,s=new Array(r),l=new Array(r),c=new Array(r);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/l[t-1],l[t]-=a,c[t]-=a*c[t-1];for(s[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function jZ(e){return new h3(e)}function Fx(e,t){this._context=e,this._t=t}Fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bZ(e){return new Fx(e,.5)}function NZ(e){return new Fx(e,0)}function wZ(e){return new Fx(e,1)}function Pc(e,t){if((c=e.length)>1)for(var r=1,a,s,l=e[t[0]],c,d=l.length;r<c;++r)for(s=l,l=e[t[r]],a=0;a<d;++a)l[a][1]+=l[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Fb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function SZ(e,t){return e[t]}function CZ(e){const t=[];return t.key=e,t}function EZ(){var e=Kt([]),t=Fb,r=Pc,a=SZ;function s(l){var c=Array.from(e.apply(this,arguments),CZ),d,f=c.length,m=-1,h;for(const g of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+a(g,c[d].key,m,l)]).data=g;for(d=0,h=_w(t(c));d<f;++d)c[h[d]].index=d;return r(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(a=typeof l=="function"?l:Kt(+l),s):a},s.order=function(l){return arguments.length?(t=l==null?Fb:typeof l=="function"?l:Kt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(r=l??Pc,s):r},s}function AZ(e,t){if((a=e.length)>0){for(var r,a,s=0,l=e[0].length,c;s<l;++s){for(c=r=0;r<a;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<a;++r)e[r][s][1]/=c}Pc(e,t)}}function PZ(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,l=a.length;r<l;++r){for(var c=0,d=0;c<s;++c)d+=e[c][r][1]||0;a[r][1]+=a[r][0]=-d/2}Pc(e,t)}}function TZ(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,l,c;a<l;++a){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],g=h[a][1]||0,v=h[a-1][1]||0,y=(g-v)/2,w=0;w<d;++w){var j=e[t[w]],N=j[a][1]||0,C=j[a-1][1]||0;y+=N-C}f+=g,m+=y*g}s[a-1][1]+=s[a-1][0]=r,f&&(r-=m/f)}s[a-1][1]+=s[a-1][0]=r,Pc(e,t)}}var w0={},S0={},hT;function OZ(){return hT||(hT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(S0)),S0}var C0={},pT;function p3(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(C0)),C0}var E0={},xT;function Mw(){return xT||(xT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(E0)),E0}var A0={},P0={},gT;function kZ(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(P0)),P0}var vT;function Dw(){return vT||(vT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kZ(),r=Mw();function a(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const l=[],c=s.length;if(c===0)return l;let d=0,f="",m="",h=!1;for(s.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=s[d];m?g==="\\"&&d+1<c?(d++,f+=s[d]):g===m?m="":f+=g:h?g==='"'||g==="'"?m=g:g==="]"?(h=!1,l.push(f),f=""):f+=g:g==="["?(h=!0,f&&(l.push(f),f="")):g==="."?f&&(l.push(f),f=""):f+=g,d++}return f&&l.push(f),l}e.toPath=a})(A0)),A0}var yT;function Lw(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OZ(),r=p3(),a=Mw(),s=Dw();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?r.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=a.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return m;h=h[f[g]]}return h===void 0?m:h}e.get=l})(w0)),w0}var T0,jT;function _Z(){return jT||(jT=1,T0=Lw().get),T0}var RZ=_Z();const no=fs(RZ);var Kn=e=>e===0?0:e>0?1:-1,Dr=e=>typeof e=="number"&&e!=+e,ei=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Be=e=>(typeof e=="number"||e instanceof Number)&&!Dr(e),Aa=e=>Be(e)||typeof e=="string",MZ=0,Lu=e=>{var t=++MZ;return"".concat(e||"").concat(t)},or=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(t)&&typeof t!="string")return a;var l;if(ei(t)){if(r==null)return a;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return Dr(l)&&(l=a),s&&r!=null&&l>r&&(l=r),l},x3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function Xt(e,t,r){return Be(e)&&Be(t)?e+r*(t-e):t}function g3(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):no(a,t))===r)}var an=e=>e===null||typeof e>"u",uf=e=>an(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function DZ(e){return e!=null}function ff(){}var LZ=["type","size","sizeType"];function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zb.apply(null,arguments)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function NT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(a){IZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IZ(e,t,r){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=FZ(e,"string");return typeof t=="symbol"?t:t+""}function FZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zZ(e,t){if(e==null)return{};var r,a,s=BZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var v3={symbolCircle:Rw,symbolCross:nZ,symbolDiamond:aZ,symbolSquare:sZ,symbolStar:cZ,symbolTriangle:dZ,symbolWye:fZ},UZ=Math.PI/180,HZ=e=>{var t="symbol".concat(uf(e));return v3[t]||Rw},qZ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*UZ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VZ=(e,t)=>{v3["symbol".concat(uf(e))]=t},Iw=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=zZ(e,LZ),l=NT(NT({},s),{},{type:t,size:r,sizeType:a}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var v=HZ(c),y=mZ().type(v).size(qZ(r,a,c)),w=y();if(w!==null)return w},{className:f,cx:m,cy:h}=l,g=cr(l);return Be(m)&&Be(h)&&Be(r)?p.createElement("path",zb({},g,{className:wt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};Iw.registerSymbol=VZ;var y3=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$w=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{Tw(s)&&(a[s]=(l=>r[s](r,l)))}),a},KZ=(e,t,r)=>a=>(e(t,r,a),null),mf=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var l=e[s];Tw(s)&&typeof l=="function"&&(a||(a={}),a[s]=KZ(l,t,r))}),a};function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function WZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(a){GZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function GZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(e,t){var r=WZ({},e),a=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),r);return l}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sp.apply(null,arguments)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function XZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(a){ZZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZZ(e,t,r){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JZ(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ba=32,tJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function nJ(e){var{data:t,iconType:r,inactiveColor:a}=e,s=ba/2,l=ba/6,c=ba/3,d=t.inactive?a:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var m;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:s,x2:ba,y2:s,className:"recharts-legend-icon"})}if(f==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(ba,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(f==="rect")return p.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ba/8,"h").concat(ba,"v").concat(ba*3/4,"h").concat(-ba,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var h=XZ({},t);return delete h.legendIcon,p.cloneElement(t.legendIcon,h)}return p.createElement(Iw,{fill:d,cx:s,cy:s,size:ba,sizeType:"diameter",type:f})}function rJ(e){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:l,iconType:c}=e,d={x:0,y:0,width:ba,height:ba},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var v=h.formatter||s,y=wt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var w=h.inactive?l:h.color,j=v?v(h.value,h,g):h.value;return p.createElement("li",Sp({className:y,style:f,key:"legend-item-".concat(g)},mf(e,h,g)),p.createElement(Ow,{width:r,height:r,viewBox:d,style:m,"aria-label":"".concat(j," legend icon")},p.createElement(nJ,{data:h,iconType:c,inactiveColor:l})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},j))})}var aJ=e=>{var t=bn(e,tJ),{payload:r,layout:a,align:s}=t;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:l},p.createElement(rJ,Sp({},t,{payload:r})))},O0={},k0={},CT;function sJ(){return CT||(CT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let l=0;l<r.length;l++){const c=r[l],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(k0)),k0}var _0={},ET;function j3(){return ET||(ET=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(_0)),_0}var R0={},M0={},D0={},AT;function iJ(){return AT||(AT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(D0)),D0}var PT;function Fw(){return PT||(PT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iJ();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(M0)),M0}var L0={},TT;function lJ(){return TT||(TT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(L0)),L0}var OT;function oJ(){return OT||(OT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fw(),r=lJ();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(R0)),R0}var I0={},$0={},kT;function cJ(){return kT||(kT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lw();function r(a){return function(s){return t.get(s,a)}}e.property=r})($0)),$0}var F0={},z0={},B0={},U0={},_T;function b3(){return _T||(_T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(U0)),U0}var H0={},RT;function N3(){return RT||(RT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(H0)),H0}var q0={},MT;function w3(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(q0)),q0}var DT;function dJ(){return DT||(DT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b3(),r=N3(),a=w3();function s(h,g,v){return typeof v!="function"?s(h,g,()=>{}):l(h,g,function y(w,j,N,C,E,A){const P=v(w,j,N,C,E,A);return P!==void 0?!!P:l(w,j,y,A)},new Map)}function l(h,g,v,y){if(g===h)return!0;switch(typeof g){case"object":return c(h,g,v,y);case"function":return Object.keys(g).length>0?l(h,{...g},v,y):a.eq(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:a.eq(h,g)}}function c(h,g,v,y){if(g==null)return!0;if(Array.isArray(g))return f(h,g,v,y);if(g instanceof Map)return d(h,g,v,y);if(g instanceof Set)return m(h,g,v,y);const w=Object.keys(g);if(h==null)return w.length===0;if(w.length===0)return!0;if(y?.has(g))return y.get(g)===h;y?.set(g,h);try{for(let j=0;j<w.length;j++){const N=w[j];if(!r.isPrimitive(h)&&!(N in h)||g[N]===void 0&&h[N]!==void 0||g[N]===null&&h[N]!==null||!v(h[N],g[N],N,h,g,y))return!1}return!0}finally{y?.delete(g)}}function d(h,g,v,y){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,j]of g.entries()){const N=h.get(w);if(v(N,j,w,h,g,y)===!1)return!1}return!0}function f(h,g,v,y){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let j=0;j<g.length;j++){const N=g[j];let C=!1;for(let E=0;E<h.length;E++){if(w.has(E))continue;const A=h[E];let P=!1;if(v(A,N,j,h,g,y)&&(P=!0),P){w.add(E),C=!0;break}}if(!C)return!1}return!0}function m(h,g,v,y){return g.size===0?!0:h instanceof Set?f([...h],[...g],v,y):!1}e.isMatchWith=s,e.isSetMatch=m})(B0)),B0}var LT;function S3(){return LT||(LT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dJ();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(z0)),z0}var V0={},K0={},W0={},IT;function uJ(){return IT||(IT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(W0)),W0}var G0={},$T;function C3(){return $T||($T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(G0)),G0}var Y0={},FT;function E3(){return FT||(FT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",w="[object Error]",j="[object DataView]",N="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",P="[object BigUint64Array]",k="[object Int8Array]",T="[object Int16Array]",_="[object Int32Array]",L="[object BigInt64Array]",X="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=X,e.float64ArrayTag=I,e.functionTag=g,e.int16ArrayTag=T,e.int32ArrayTag=_,e.int8ArrayTag=k,e.mapTag=f,e.numberTag=a,e.objectTag=y,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=C})(Y0)),Y0}var Q0={},zT;function fJ(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Q0)),Q0}var BT;function A3(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uJ(),r=C3(),a=E3(),s=N3(),l=fJ();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,v,y=new Map,w=void 0){const j=w?.(h,g,v,y);if(j!==void 0)return j;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const N=new Array(h.length);y.set(h,N);for(let C=0;C<h.length;C++)N[C]=d(h[C],C,v,y,w);return Object.hasOwn(h,"index")&&(N.index=h.index),Object.hasOwn(h,"input")&&(N.input=h.input),N}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const N=new RegExp(h.source,h.flags);return N.lastIndex=h.lastIndex,N}if(h instanceof Map){const N=new Map;y.set(h,N);for(const[C,E]of h)N.set(C,d(E,C,v,y,w));return N}if(h instanceof Set){const N=new Set;y.set(h,N);for(const C of h)N.add(d(C,void 0,v,y,w));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const N=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,N);for(let C=0;C<h.length;C++)N[C]=d(h[C],C,v,y,w);return N}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const N=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,N),f(N,h,v,y,w),N}if(typeof File<"u"&&h instanceof File){const N=new File([h],h.name,{type:h.type});return y.set(h,N),f(N,h,v,y,w),N}if(typeof Blob<"u"&&h instanceof Blob){const N=new Blob([h],{type:h.type});return y.set(h,N),f(N,h,v,y,w),N}if(h instanceof Error){const N=new h.constructor;return y.set(h,N),N.message=h.message,N.name=h.name,N.stack=h.stack,N.cause=h.cause,f(N,h,v,y,w),N}if(h instanceof Boolean){const N=new Boolean(h.valueOf());return y.set(h,N),f(N,h,v,y,w),N}if(h instanceof Number){const N=new Number(h.valueOf());return y.set(h,N),f(N,h,v,y,w),N}if(h instanceof String){const N=new String(h.valueOf());return y.set(h,N),f(N,h,v,y,w),N}if(typeof h=="object"&&m(h)){const N=Object.create(Object.getPrototypeOf(h));return y.set(h,N),f(N,h,v,y,w),N}return h}function f(h,g,v=h,y,w){const j=[...Object.keys(g),...t.getSymbols(g)];for(let N=0;N<j.length;N++){const C=j[N],E=Object.getOwnPropertyDescriptor(h,C);(E==null||E.writable)&&(h[C]=d(g[C],C,v,y,w))}}function m(h){switch(r.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f})(K0)),K0}var UT;function mJ(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A3();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(V0)),V0}var HT;function hJ(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S3(),r=mJ();function a(s){return s=r.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=a})(F0)),F0}var X0={},Z0={},J0={},qT;function pJ(){return qT||(qT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A3(),r=E3();function a(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l?.(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s?.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=a})(J0)),J0}var VT;function xJ(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pJ();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(Z0)),Z0}var ej={},tj={},KT;function P3(){return KT||(KT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(tj)),tj}var nj={},WT;function gJ(){return WT||(WT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C3();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(nj)),nj}var GT;function vJ(){return GT||(GT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p3(),r=P3(),a=gJ(),s=Dw();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const g=f[h];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||a.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=l})(ej)),ej}var YT;function yJ(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S3(),r=Mw(),a=xJ(),s=Lw(),l=vJ();function c(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=a.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(X0)),X0}var QT;function jJ(){return QT||(QT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j3(),r=cJ(),a=hJ(),s=yJ();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(I0)),I0}var XT;function bJ(){return XT||(XT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sJ(),r=j3(),a=oJ(),s=jJ();function l(c,d=r.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l})(O0)),O0}var rj,ZT;function NJ(){return ZT||(ZT=1,rj=bJ().uniqBy),rj}var wJ=NJ();const JT=fs(wJ);function T3(e,t,r){return t===!0?JT(e,r):typeof t=="function"?JT(e,t):e}var aj={exports:{}},sj={};var eO;function SJ(){if(eO)return sj;eO=1;var e=qc(),t=i4();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return sj.useSyncExternalStoreWithSelector=function(m,h,g,v,y){var w=l(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function C(T){if(!E){if(E=!0,A=T,T=v(T),y!==void 0&&j.hasValue){var _=j.value;if(y(_,T))return P=_}return P=T}if(_=P,a(A,T))return _;var L=v(T);return y!==void 0&&y(_,L)?(A=T,_):(A=T,P=L)}var E=!1,A,P,k=g===void 0?null:g;return[function(){return C(h())},k===null?void 0:function(){return C(k())}]},[h,g,v,y]);var N=s(m,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=N},[N]),f(N),N},sj}var tO;function CJ(){return tO||(tO=1,aj.exports=SJ()),aj.exports}var EJ=CJ(),zw=p.createContext(null),AJ=e=>e,Vt=()=>{var e=p.useContext(zw);return e?e.store.dispatch:AJ},Kh=()=>{},PJ=()=>Kh,TJ=(e,t)=>e===t;function Fe(e){var t=p.useContext(zw);return EJ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:PJ,t?t.store.getState:Kh,t?t.store.getState:Kh,t?e:Kh,TJ)}function OJ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function kJ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _J(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var nO=e=>Array.isArray(e)?e:[e];function RJ(e){const t=Array.isArray(e[0])?e[0]:e;return _J(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function MJ(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var DJ=class{constructor(e){this.value=e}deref(){return this.value}},LJ=typeof WeakRef<"u"?WeakRef:DJ,IJ=0,rO=1;function xh(){return{s:IJ,v:void 0,o:null,p:null}}function O3(e,t={}){let r=xh();const{resultEqualityCheck:a}=t;let s,l=0;function c(){let d=r;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=d.o;w===null&&(d.o=w=new WeakMap);const j=w.get(y);j===void 0?(d=xh(),w.set(y,d)):d=j}else{let w=d.p;w===null&&(d.p=w=new Map);const j=w.get(y);j===void 0?(d=xh(),w.set(y,d)):d=j}}const m=d;let h;if(d.s===rO)h=d.v;else if(h=e.apply(null,arguments),l++,a){const g=s?.deref?.()??s;g!=null&&a(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new LJ(h):h}return m.s=rO,m.v=h,h}return c.clearCache=()=>{r=xh(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function $J(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),OJ(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:y=O3,argsMemoizeOptions:w=[]}=h,j=nO(v),N=nO(w),C=RJ(s),E=g(function(){return l++,m.apply(null,arguments)},...j),A=y(function(){c++;const k=MJ(C,arguments);return d=E.apply(null,k),d},...N);return Object.assign(A,{resultFunc:m,memoizedResultFunc:E,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var ue=$J(O3),FJ=Object.assign((e,t=ue)=>{kJ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(l=>e[l]);return t(a,(...l)=>l.reduce((c,d,f)=>(c[r[f]]=d,c),{}))},{withTypes:()=>FJ}),ij={},lj={},oj={},aO;function zJ(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,l)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return l==="desc"?1:-1;if(a>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=r})(oj)),oj}var cj={},dj={},sO;function k3(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(dj)),dj}var iO;function BJ(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k3(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(a.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s})(cj)),cj}var lO;function UJ(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zJ(),r=BJ(),a=Dw();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const m=(y,w)=>{let j=y;for(let N=0;N<w.length&&j!=null;++N)j=j[w[N]];return j},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:m(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?m(w,y):typeof w=="object"?w[y]:w,g=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:a.toPath(y)}));return l.map(y=>({original:y,criteria:g.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let j=0;j<g.length;j++){const N=t.compareValues(y.criteria[j],w.criteria[j],d[j]);if(N!==0)return N}return 0}).map(y=>y.original)}e.orderBy=s})(lj)),lj}var uj={},oO;function HJ(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],l=Math.floor(a),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(r,0),s}e.flatten=t})(uj)),uj}var fj={},cO;function _3(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P3(),r=Fw(),a=b3(),s=w3();function l(c,d,f){return a.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l})(fj)),fj}var dO;function qJ(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UJ(),r=HJ(),a=_3();function s(l,...c){const d=c.length;return d>1&&a.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=s})(ij)),ij}var mj,uO;function VJ(){return uO||(uO=1,mj=qJ().sortBy),mj}var KJ=VJ();const zx=fs(KJ);var R3=e=>e.legend.settings,WJ=e=>e.legend.size,GJ=e=>e.legend.payload,YJ=ue([GJ,R3],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?zx(a,r):a});function QJ(){return Fe(YJ)}var gh=1;function M3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>gh||Math.abs(c.left-t.left)>gh||Math.abs(c.top-t.top)>gh||Math.abs(c.width-t.width)>gh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",fO=XJ,hj=()=>Math.random().toString(36).substring(7).split("").join("."),ZJ={INIT:`@@redux/INIT${hj()}`,REPLACE:`@@redux/REPLACE${hj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hj()}`},Cp=ZJ;function Bw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function D3(e,t,r){if(typeof e!="function")throw new Error(tr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(tr(1));return r(D3)(e,t)}let a=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((N,C)=>{c.set(C,N)}))}function h(){if(f)throw new Error(tr(3));return s}function g(N){if(typeof N!="function")throw new Error(tr(4));if(f)throw new Error(tr(5));let C=!0;m();const E=d++;return c.set(E,N),function(){if(C){if(f)throw new Error(tr(6));C=!1,m(),c.delete(E),l=null}}}function v(N){if(!Bw(N))throw new Error(tr(7));if(typeof N.type>"u")throw new Error(tr(8));if(typeof N.type!="string")throw new Error(tr(17));if(f)throw new Error(tr(9));try{f=!0,s=a(s,N)}finally{f=!1}return(l=c).forEach(E=>{E()}),N}function y(N){if(typeof N!="function")throw new Error(tr(10));a=N,v({type:Cp.REPLACE})}function w(){const N=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(tr(11));function E(){const P=C;P.next&&P.next(h())}return E(),{unsubscribe:N(E)}},[fO](){return this}}}return v({type:Cp.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:y,[fO]:w}}function JJ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Cp.INIT})>"u")throw new Error(tr(12));if(typeof r(void 0,{type:Cp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tr(13))})}function L3(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const a=Object.keys(r);let s;try{JJ(r)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<a.length;h++){const g=a[h],v=r[g],y=c[g],w=v(y,d);if(typeof w>"u")throw d&&d.type,new Error(tr(14));m[g]=w,f=f||w!==y}return f=f||a.length!==Object.keys(c).length,f?m:c}}function Ep(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function eee(...e){return t=>(r,a)=>{const s=t(r,a);let l=()=>{throw new Error(tr(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=Ep(...d)(s.dispatch),{...s,dispatch:l}}}function I3(e){return Bw(e)&&"type"in e&&typeof e.type=="string"}var $3=Symbol.for("immer-nothing"),mO=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function Ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object,Tc=Xr.getPrototypeOf,Ap="constructor",Bx="prototype",Bb="configurable",Pp="enumerable",Wh="writable",Iu="value",ti=e=>!!e&&!!e[xr];function qa(e){return e?F3(e)||Ux(e)||!!e[mO]||!!e[Ap]?.[mO]||Hx(e)||qx(e):!1}var tee=Xr[Bx][Ap].toString(),hO=new WeakMap;function F3(e){if(!e||!Uw(e))return!1;const t=Tc(e);if(t===null||t===Xr[Bx])return!0;const r=Xr.hasOwnProperty.call(t,Ap)&&t[Ap];if(r===Object)return!0;if(!oc(r))return!1;let a=hO.get(r);return a===void 0&&(a=Function.toString.call(r),hO.set(r,a)),a===tee}function hf(e,t,r=!0){pf(e)===0?(r?Reflect.ownKeys(e):Xr.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function pf(e){const t=e[xr];return t?t.type_:Ux(e)?1:Hx(e)?2:qx(e)?3:0}var pO=(e,t,r=pf(e))=>r===2?e.has(t):Xr[Bx].hasOwnProperty.call(e,t),Ub=(e,t,r=pf(e))=>r===2?e.get(t):e[t],Tp=(e,t,r,a=pf(e))=>{a===2?e.set(t,r):a===3?e.add(r):e[t]=r};function nee(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ux=Array.isArray,Hx=e=>e instanceof Map,qx=e=>e instanceof Set,Uw=e=>typeof e=="object",oc=e=>typeof e=="function",pj=e=>typeof e=="boolean",zs=e=>e.copy_||e.base_,Hw=e=>e.modified_?e.copy_:e.base_;function Hb(e,t){if(Hx(e))return new Map(e);if(qx(e))return new Set(e);if(Ux(e))return Array[Bx].slice.call(e);const r=F3(e);if(t===!0||t==="class_only"&&!r){const a=Xr.getOwnPropertyDescriptors(e);delete a[xr];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d[Wh]===!1&&(d[Wh]=!0,d[Bb]=!0),(d.get||d.set)&&(a[c]={[Bb]:!0,[Wh]:!0,[Pp]:d[Pp],[Iu]:e[c]})}return Xr.create(Tc(e),a)}else{const a=Tc(e);if(a!==null&&r)return{...e};const s=Xr.create(a);return Xr.assign(s,e)}}function qw(e,t=!1){return Vx(e)||ti(e)||!qa(e)||(pf(e)>1&&Xr.defineProperties(e,{set:vh,add:vh,clear:vh,delete:vh}),Xr.freeze(e),t&&hf(e,(r,a)=>{qw(a,!0)},!1)),e}function ree(){Ia(2)}var vh={[Iu]:ree};function Vx(e){return e===null||!Uw(e)?!0:Xr.isFrozen(e)}var Op="MapSet",qb="Patches",z3={};function Oc(e){const t=z3[e];return t||Ia(0,e),t}var aee=e=>!!z3[e],$u,B3=()=>$u,see=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aee(Op)?Oc(Op):void 0});function xO(e,t){t&&(e.patchPlugin_=Oc(qb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vb(e){Kb(e),e.drafts_.forEach(iee),e.drafts_=null}function Kb(e){e===$u&&($u=e.parent_)}var gO=e=>$u=see($u,e);function iee(e){const t=e[xr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[xr].modified_&&(Vb(t),Ia(4)),qa(e)&&(e=yO(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[xr].base_,e,t)}else e=yO(t,r);return lee(t,e,!0),Vb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$3?e:void 0}function yO(e,t){if(Vx(t))return t;const r=t[xr];if(!r)return Vw(t,e.handledSet_,e);if(!Kx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:a}=r;if(a)for(;a.length>0;)a.pop()(e);q3(r,e)}return r.copy_}function lee(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qw(t,r)}function U3(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kx=(e,t)=>e.scope_===t,oee=[];function H3(e,t,r,a){const s=zs(e),l=e.type_;if(a!==void 0&&Ub(s,a,l)===t){Tp(s,a,r,l);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;hf(s,(f,m)=>{if(ti(m)){const h=d.get(m)||[];h.push(f),d.set(m,h)}})}const c=e.draftLocations_.get(t)??oee;for(const d of c)Tp(s,d,r,l)}function cee(e,t,r){e.callbacks_.push(function(s){const l=t;if(!l||!Kx(l,s))return;s.mapSetPlugin_?.fixSetContents(l);const c=Hw(l);H3(e,l.draft_??l,c,r),q3(l,s)})}function q3(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}U3(e)}}function dee(e,t,r){const{scope_:a}=e;if(ti(r)){const s=r[xr];Kx(s,a)&&s.callbacks_.push(function(){Gh(e);const c=Hw(s);H3(e,r,c,t)})}else qa(r)&&e.callbacks_.push(function(){const l=zs(e);Ub(l,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Vw(Ub(e.copy_,t,e.type_),a.handledSet_,a)})}function Vw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ti(e)||t.has(e)||!qa(e)||Vx(e)||(t.add(e),hf(e,(a,s)=>{if(ti(s)){const l=s[xr];if(Kx(l,r)){const c=Hw(l);Tp(e,a,c,e.type_),U3(l)}}else qa(s)&&Vw(s,t,r)})),e}function uee(e,t){const r=Ux(e),a={type_:r?1:0,scope_:t?t.scope_:B3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,l=Kw;r&&(s=[a],l=Fu);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,[d,a]}var Kw={get(e,t){if(t===xr)return e;const r=zs(e);if(!pO(r,t,e.type_))return fee(e,r,t);const a=r[t];if(e.finalized_||!qa(a))return a;if(a===xj(e.base_,t)){Gh(e);const s=e.type_===1?+t:t,l=Gb(e.scope_,a,e,s);return e.copy_[s]=l}return a},has(e,t){return t in zs(e)},ownKeys(e){return Reflect.ownKeys(zs(e))},set(e,t,r){const a=V3(zs(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=xj(zs(e),t),l=s?.[xr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(nee(r,s)&&(r!==void 0||pO(e.base_,t,e.type_)))return!0;Gh(e),Wb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),dee(e,t,r)),!0},deleteProperty(e,t){return Gh(e),xj(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Wb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=zs(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{[Wh]:!0,[Bb]:e.type_!==1||t!=="length",[Pp]:a[Pp],[Iu]:r[t]}},defineProperty(){Ia(11)},getPrototypeOf(e){return Tc(e.base_)},setPrototypeOf(){Ia(12)}},Fu={};hf(Kw,(e,t)=>{Fu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Fu.deleteProperty=function(e,t){return Fu.set.call(this,e,t,void 0)};Fu.set=function(e,t,r){return Kw.set.call(this,e[0],t,r,e[0])};function xj(e,t){const r=e[xr];return(r?zs(r):e)[t]}function fee(e,t,r){const a=V3(t,r);return a?Iu in a?a[Iu]:a.get?.call(e.draft_):void 0}function V3(e,t){if(!(t in e))return;let r=Tc(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Tc(r)}}function Wb(e){e.modified_||(e.modified_=!0,e.parent_&&Wb(e.parent_))}function Gh(e){e.copy_||(e.assigned_=new Map,e.copy_=Hb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,a,s)=>{if(oc(r)&&!oc(a)){const c=a;a=r;const d=this;return function(m=c,...h){return d.produce(m,g=>a.call(this,g,...h))}}oc(a)||Ia(6),s!==void 0&&!oc(s)&&Ia(7);let l;if(qa(r)){const c=gO(this),d=Gb(c,r,void 0);let f=!0;try{l=a(d),f=!1}finally{f?Vb(c):Kb(c)}return xO(c,s),vO(l,c)}else if(!r||!Uw(r)){if(l=a(r),l===void 0&&(l=r),l===$3&&(l=void 0),this.autoFreeze_&&qw(l,!0),s){const c=[],d=[];Oc(qb).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:d}),s(c,d)}return l}else Ia(1,r)},this.produceWithPatches=(r,a)=>{if(oc(r))return(d,...f)=>this.produceWithPatches(d,m=>r(m,...f));let s,l;return[this.produce(r,a,(d,f)=>{s=d,l=f}),s,l]},pj(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),pj(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),pj(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){qa(t)||Ia(8),ti(t)&&(t=Ba(t));const r=gO(this),a=Gb(r,t,void 0);return a[xr].isManual_=!0,Kb(r),a}finishDraft(t,r){const a=t&&t[xr];(!a||!a.isManual_)&&Ia(9);const{scope_:s}=a;return xO(s,r),vO(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const l=r[a];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}a>-1&&(r=r.slice(a+1));const s=Oc(qb).applyPatches_;return ti(t)?s(t,r):this.produce(t,l=>s(l,r))}};function Gb(e,t,r,a){const[s,l]=Hx(t)?Oc(Op).proxyMap_(t,r):qx(t)?Oc(Op).proxySet_(t,r):uee(t,r);return(r?.scope_??B3()).drafts_.push(s),l.callbacks_=r?.callbacks_??[],l.key_=a,r&&a!==void 0?cee(r,l,a):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),s}function Ba(e){return ti(e)||Ia(10,e),K3(e)}function K3(e){if(!qa(e)||Vx(e))return e;const t=e[xr];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Hb(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Hb(e,!0);return hf(r,(s,l)=>{Tp(r,s,K3(l))},a),t&&(t.finalized_=!1),r}var hee=new mee,W3=hee.produce;function G3(e){return({dispatch:r,getState:a})=>s=>l=>typeof l=="function"?l(r,a,e):s(l)}var pee=G3(),xee=G3,gee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ep:Ep.apply(null,arguments)};function Pa(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(ea(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>I3(a)&&a.type===e,r}var Y3=class vu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vu.prototype)}static get[Symbol.species](){return vu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vu(...t[0].concat(this)):new vu(...t.concat(this))}};function jO(e){return qa(e)?W3(e,()=>{}):e}function yh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function vee(e){return typeof e=="boolean"}var yee=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new Y3;return r&&(vee(r)?c.push(pee):c.push(xee(r.extraArgument))),c},Q3="RTK_autoBatch",tn=()=>e=>({payload:e,meta:{[Q3]:!0}}),bO=e=>t=>{setTimeout(t,e)},X3=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bO(10):e.type==="callback"?e.queueNotification:bO(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const g=()=>s&&h(),v=a.subscribe(g);return d.add(h),()=>{v(),d.delete(h)}},dispatch(h){try{return s=!h?.meta?.[Q3],l=!s,l&&(c||(c=!0,f(m))),a.dispatch(h)}finally{s=!0}}})},jee=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new Y3(e);return a&&s.push(X3(typeof a=="object"?a:void 0)),s};function bee(e){const t=yee(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Bw(r))d=L3(r);else throw new Error(ea(1));let f;typeof a=="function"?f=a(t):f=t();let m=Ep;s&&(m=gee({trace:!1,...typeof s=="object"&&s}));const h=eee(...f),g=jee(h);let v=typeof c=="function"?c(g):g();const y=m(...v);return D3(d,l,y)}function Z3(e){const t={},r=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ea(28));if(d in t)throw new Error(ea(29));return t[d]=c,s},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return r.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return e(s),[t,r,a]}function Nee(e){return typeof e=="function"}function wee(e,t){let[r,a,s]=Z3(t),l;if(Nee(e))l=()=>jO(e());else{const d=jO(e);l=()=>d}function c(d=l(),f){let m=[r[f.type],...a.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,g)=>{if(g)if(ti(h)){const y=g(h,f);return y===void 0?h:y}else{if(qa(h))return W3(h,v=>g(v,f));{const v=g(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},d)}return c.getInitialState=l,c}var See="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Cee=(e=21)=>{let t="",r=e;for(;r--;)t+=See[Math.random()*64|0];return t},Eee=Symbol.for("rtk-slice-createasyncthunk");function Aee(e,t){return`${e}/${t}`}function Pee({creators:e}={}){const t=e?.asyncThunk?.[Eee];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(ea(11));const c=(typeof a.reducers=="function"?a.reducers(Oee()):a.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,P){const k=typeof A=="string"?A:A.type;if(!k)throw new Error(ea(12));if(k in f.sliceCaseReducersByType)throw new Error(ea(13));return f.sliceCaseReducersByType[k]=P,m},addMatcher(A,P){return f.sliceMatchers.push({matcher:A,reducer:P}),m},exposeAction(A,P){return f.actionCreators[A]=P,m},exposeCaseReducer(A,P){return f.sliceCaseReducersByName[A]=P,m}};d.forEach(A=>{const P=c[A],k={reducerName:A,type:Aee(s,A),createNotation:typeof a.reducers=="function"};_ee(P)?Mee(k,P,m,t):kee(k,P,m)});function h(){const[A={},P=[],k=void 0]=typeof a.extraReducers=="function"?Z3(a.extraReducers):[a.extraReducers],T={...A,...f.sliceCaseReducersByType};return wee(a.initialState,_=>{for(let L in T)_.addCase(L,T[L]);for(let L of f.sliceMatchers)_.addMatcher(L.matcher,L.reducer);for(let L of P)_.addMatcher(L.matcher,L.reducer);k&&_.addDefaultCase(k)})}const g=A=>A,v=new Map,y=new WeakMap;let w;function j(A,P){return w||(w=h()),w(A,P)}function N(){return w||(w=h()),w.getInitialState()}function C(A,P=!1){function k(_){let L=_[A];return typeof L>"u"&&P&&(L=yh(y,k,N)),L}function T(_=g){const L=yh(v,P,()=>new WeakMap);return yh(L,_,()=>{const X={};for(const[I,R]of Object.entries(a.selectors??{}))X[I]=Tee(R,_,()=>yh(y,_,N),P);return X})}return{reducerPath:A,getSelectors:T,get selectors(){return T(k)},selectSlice:k}}const E={name:s,reducer:j,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...C(l),injectInto(A,{reducerPath:P,...k}={}){const T=P??l;return A.inject({reducerPath:T,reducer:j},k),{...E,...C(T,!0)}}};return E}}function Tee(e,t,r,a){function s(l,...c){let d=t(l);return typeof d>"u"&&a&&(d=r()),e(d,...c)}return s.unwrapped=e,s}var Ir=Pee();function Oee(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function kee({type:e,reducerName:t,createNotation:r},a,s){let l,c;if("reducer"in a){if(r&&!Ree(a))throw new Error(ea(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?Pa(e,c):Pa(e))}function _ee(e){return e._reducerDefinitionType==="asyncThunk"}function Ree(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Mee({type:e,reducerName:t},r,a,s){if(!s)throw new Error(ea(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=r,g=s(e,l,h);a.exposeAction(t,g),c&&a.addCase(g.fulfilled,c),d&&a.addCase(g.pending,d),f&&a.addCase(g.rejected,f),m&&a.addMatcher(g.settled,m),a.exposeCaseReducer(t,{fulfilled:c||jh,pending:d||jh,rejected:f||jh,settled:m||jh})}function jh(){}var Dee="task",J3="listener",eL="completed",Ww="cancelled",Lee=`task-${Ww}`,Iee=`task-${eL}`,Yb=`${J3}-${Ww}`,$ee=`${J3}-${eL}`,Wx=class{constructor(e){this.code=e,this.message=`${Dee} ${Ww} (reason: ${e})`}name="TaskAbortError";message},Gw=(e,t)=>{if(typeof e!="function")throw new TypeError(ea(32))},kp=()=>{},tL=(e,t=kp)=>(e.catch(t),e),nL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ql=e=>{if(e.aborted)throw new Wx(e.reason)};function rL(e,t){let r=kp;return new Promise((a,s)=>{const l=()=>s(new Wx(e.reason));if(e.aborted){l();return}r=nL(e,l),t.finally(()=>r()).then(a,s)}).finally(()=>{r=kp})}var Fee=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Wx?"cancelled":"rejected",error:r}}finally{t?.()}},_p=e=>t=>tL(rL(e,t).then(r=>(ql(e),r))),aL=e=>{const t=_p(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:xc}=Object,NO={},Gx="listenerMiddleware",zee=(e,t)=>{const r=a=>nL(e,()=>a.abort(e.reason));return(a,s)=>{Gw(a);const l=new AbortController;r(l);const c=Fee(async()=>{ql(e),ql(l.signal);const d=await a({pause:_p(l.signal),delay:aL(l.signal),signal:l.signal});return ql(l.signal),d},()=>l.abort(Iee));return s?.autoJoin&&t.push(c.catch(kp)),{result:_p(e)(c),cancel(){l.abort(Lee)}}}},Bee=(e,t)=>{const r=async(a,s)=>{ql(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:a,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await rL(t,Promise.race(d));return ql(t),f}finally{l()}};return(a,s)=>tL(r(a,s))},sL=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:l}=e;if(t)s=Pa(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(ea(21));return Gw(l),{predicate:s,type:t,effect:l}},iL=xc(e=>{const{type:t,predicate:r,effect:a}=sL(e);return{id:Cee(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ea(22))}}},{withTypes:()=>iL}),wO=(e,t)=>{const{type:r,effect:a,predicate:s}=sL(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===s)&&l.effect===a)},Qb=e=>{e.pending.forEach(t=>{t.abort(Yb)})},Uee=(e,t)=>()=>{for(const r of t.keys())Qb(r);e.clear()},SO=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},lL=xc(Pa(`${Gx}/add`),{withTypes:()=>lL}),Hee=Pa(`${Gx}/removeAll`),oL=xc(Pa(`${Gx}/remove`),{withTypes:()=>oL}),qee=(...e)=>{console.error(`${Gx}/error`,...e)},xf=(e={})=>{const t=new Map,r=new Map,a=y=>{const w=r.get(y)??0;r.set(y,w+1)},s=y=>{const w=r.get(y)??1;w===1?r.delete(y):r.set(y,w-1)},{extra:l,onError:c=qee}=e;Gw(c);const d=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),w=>{y.unsubscribe(),w?.cancelActive&&Qb(y)}),f=y=>{const w=wO(t,y)??iL(y);return d(w)};xc(f,{withTypes:()=>f});const m=y=>{const w=wO(t,y);return w&&(w.unsubscribe(),y.cancelActive&&Qb(w)),!!w};xc(m,{withTypes:()=>m});const h=async(y,w,j,N)=>{const C=new AbortController,E=Bee(f,C.signal),A=[];try{y.pending.add(C),a(y),await Promise.resolve(y.effect(w,xc({},j,{getOriginalState:N,condition:(P,k)=>E(P,k).then(Boolean),take:E,delay:aL(C.signal),pause:_p(C.signal),extra:l,signal:C.signal,fork:zee(C.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,k,T)=>{P!==C&&(P.abort(Yb),T.delete(P))})},cancel:()=>{C.abort(Yb),y.pending.delete(C)},throwIfCancelled:()=>{ql(C.signal)}})))}catch(P){P instanceof Wx||SO(c,P,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort($ee),s(y),y.pending.delete(C)}},g=Uee(t,r);return{middleware:y=>w=>j=>{if(!I3(j))return w(j);if(lL.match(j))return f(j.payload);if(Hee.match(j)){g();return}if(oL.match(j))return m(j.payload);let N=y.getState();const C=()=>{if(N===NO)throw new Error(ea(23));return N};let E;try{if(E=w(j),t.size>0){const A=y.getState(),P=Array.from(t.values());for(const k of P){let T=!1;try{T=k.predicate(j,A,N)}catch(_){T=!1,SO(c,_,{raisedBy:"predicate"})}T&&h(k,j,y,C)}}}finally{N=NO}return E},startListening:f,stopListening:m,clearListeners:g}};function ea(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Vee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},cL=Ir({name:"chartLayout",initialState:Vee,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Kee,setLayout:Wee,setChartSize:Gee,setScale:Yee}=cL.actions,Qee=cL.reducer;function dL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(a){Xee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xee(e,t,r){return(t=Zee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ht(e,t,r){return an(e)||an(t)?r:Aa(t)?no(e,t,r):typeof t=="function"?t(e):r}var ete=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Be(e[l]))return cc(cc({},e),{},{[l]:e[l]+(a||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Be(e[c]))return cc(cc({},e),{},{[c]:e[c]+(s||0)})}return e},ci=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",uL=(e,t,r,a)=>{if(a)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(r),c},fL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:g,niceTicks:v,axisType:y}=e;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=s==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=y==="angleAxis"&&l&&l.length>=2?Kn(l[0]-l[1])*2*j:j,g||v){var N=(g||v||[]).map((C,E)=>{var A=a?a.indexOf(C):C;return{coordinate:c(A)+j,value:C,offset:j,index:E}});return N.filter(C=>!Dr(C.coordinate))}return f&&m?m.map((C,E)=>({coordinate:c(C)+j,value:C,index:E,offset:j})):c.ticks&&h!=null?c.ticks(h).map((C,E)=>({coordinate:c(C)+j,value:C,offset:j,index:E})):c.domain().map((C,E)=>({coordinate:c(C)+j,value:a?a[C]:C,index:E,offset:j}))},EO=1e-4,tte=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-EO,l=Math.max(a[0],a[1])+EO,c=e(t[0]),d=e(t[r-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[r-1]])}},nte=(e,t)=>{if(!t||t.length!==2||!Be(t[0])||!Be(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Be(e[0])||e[0]<r)&&(s[0]=r),(!Be(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},rte=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,l=0,c=0;c<t;++c){var d=Dr(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=s,e[c][r][1]=s+d,s=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+d,l=e[c][r][1])}},ate=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,l=0;l<t;++l){var c=Dr(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},ste={sign:rte,expand:AZ,none:Pc,silhouette:PZ,wiggle:TZ,positive:ate},ite=(e,t,r)=>{var a=ste[r],s=EZ().keys(t).value((l,c)=>Number(Ht(l,c,0))).order(Fb).offset(a);return s(e)};function mL(e){return e==null?void 0:String(e)}function AO(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!an(s[t.dataKey])){var d=g3(r,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return r[l]?r[l].coordinate+a/2:null}var f=Ht(s,an(c)?t.dataKey:c);return an(f)?null:t.scale(f)}var PO=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+a:null;var d=Ht(l,t.dataKey,t.scale.domain()[c]);return an(d)?null:t.scale(d)-s/2+a},lte=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},ote=e=>{var t=e.flat(2).filter(Be);return[Math.min(...t),Math.max(...t)]},cte=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dte=(e,t,r)=>{if(e!=null)return cte(Object.keys(e).reduce((a,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=dL(m,t,r),g=ote(h);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},TO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=zx(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function kO(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:l}=e;return cc(cc({},t),{},{dataKey:r,payload:a,value:s,name:l})}function td(e,t){if(e)return String(e);if(typeof t=="string")return t}var ute=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},fte=(e,t)=>t==="centric"?e.angle:e.radius,di=e=>e.layout.width,ui=e=>e.layout.height,mte=e=>e.layout.scale,hL=e=>e.layout.margin,Yx=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qx=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),pL="data-recharts-item-index",xL="data-recharts-item-data-key",gf=60;function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(a){hte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hte(e,t,r){return(t=pte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gte=e=>e.brush.height;function vte(e){var t=Qx(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:gf;return r+s}return r},0)}function yte(e){var t=Qx(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:gf;return r+s}return r},0)}function jte(e){var t=Yx(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function bte(e){var t=Yx(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var In=ue([di,ui,hL,gte,vte,yte,jte,bte,R3,WJ],(e,t,r,a,s,l,c,d,f,m)=>{var h={left:(r.left||0)+s,right:(r.right||0)+l},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},v=bh(bh({},g),h),y=v.bottom;v.bottom+=a,v=ete(v,f,m);var w=e-v.left-v.right,j=t-v.top-v.bottom;return bh(bh({brushBottom:y},v),{},{width:Math.max(w,0),height:Math.max(j,0)})}),Nte=ue(In,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Yw=ue(di,ui,(e,t)=>({x:0,y:0,width:e,height:t})),wte=p.createContext(null),ar=()=>p.useContext(wte)!=null,Xx=e=>e.brush,Zx=ue([Xx,In,hL],(e,t,r)=>({height:e.height,x:Be(e.x)?e.x:t.left,y:Be(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Be(e.width)?e.width:t.width})),gj={},vj={},yj={},RO;function Ste(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{m&&h(),j()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},a)},w=()=>{v!==null&&(clearTimeout(v),v=null)},j=()=>{w(),c=void 0,d=null},N=()=>{h()},C=function(...E){if(s?.aborted)return;c=this,d=E;const A=v==null;y(),f&&A&&h()};return C.schedule=y,C.cancel=j,C.flush=N,s?.addEventListener("abort",j,{once:!0}),C}e.debounce=t})(yj)),yj}var MO;function Cte(){return MO||(MO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ste();function r(a,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,g=null;const v=t.debounce(function(...j){h=a.apply(this,j),g=null},s,{edges:m}),y=function(...j){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(h=a.apply(this,j),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,j),h)},w=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=w,y}e.debounce=r})(vj)),vj}var DO;function Ete(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cte();function r(a,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=r})(gj)),gj}var jj,LO;function Ate(){return LO||(LO=1,jj=Ete().throttle),jj}var Pte=Ate();const Tte=fs(Pte);var Rp=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>s[c++]))}},gL=(e,t,r)=>{var{width:a="100%",height:s="100%",aspect:l,maxHeight:c}=r,d=ei(a)?e:Number(a),f=ei(s)?t:Number(s);return l&&l>0&&(d?f=d/l:f&&(d=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},Ote={width:0,height:0,overflow:"visible"},kte={width:0,overflowX:"visible"},_te={height:0,overflowY:"visible"},Rte={},Mte=e=>{var{width:t,height:r}=e,a=ei(t),s=ei(r);return a&&s?Ote:a?kte:s?_te:Rte};function Dte(e){var{width:t,height:r,aspect:a}=e,s=t,l=r;return s===void 0&&l===void 0?(s="100%",l="100%"):s===void 0?s=a&&a>0?void 0:"100%":l===void 0&&(l=a&&a>0?void 0:"100%"),{width:s,height:l}}function Dt(e){return Number.isFinite(e)}function cs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xb.apply(null,arguments)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(a){Lte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lte(e,t,r){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vL=p.createContext({width:-1,height:-1});function Fte(e){return cs(e.width)&&cs(e.height)}function yL(e){var{children:t,width:r,height:a}=e,s=p.useMemo(()=>({width:r,height:a}),[r,a]);return Fte(s)?p.createElement(vL.Provider,{value:s},t):null}var Qw=()=>p.useContext(vL),zte=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:l,minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:g,className:v,onResize:y,style:w={}}=e,j=p.useRef(null),N=p.useRef();N.current=y,p.useImperativeHandle(t,()=>j.current);var[C,E]=p.useState({containerWidth:a.width,containerHeight:a.height}),A=p.useCallback((L,X)=>{E(I=>{var R=Math.round(L),K=Math.round(X);return I.containerWidth===R&&I.containerHeight===K?I:{containerWidth:R,containerHeight:K}})},[]);p.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return ff;var L=K=>{var ye,{width:W,height:ee}=K[0].contentRect;A(W,ee),(ye=N.current)===null||ye===void 0||ye.call(N,W,ee)};h>0&&(L=Tte(L,h,{trailing:!0,leading:!1}));var X=new ResizeObserver(L),{width:I,height:R}=j.current.getBoundingClientRect();return A(I,R),X.observe(j.current),()=>{X.disconnect()}},[A,h]);var{containerWidth:P,containerHeight:k}=C;Rp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:_}=gL(P,k,{width:s,height:l,aspect:r,maxHeight:f});return Rp(T!=null&&T>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,_,s,l,c,d,r),p.createElement("div",{id:g?"".concat(g):void 0,className:wt("recharts-responsive-container",v),style:$O($O({},w),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:j},p.createElement("div",{style:Mte({width:s,height:l})},p.createElement(yL,{width:T,height:_},m)))}),zu=p.forwardRef((e,t)=>{var r=Qw();if(cs(r.width)&&cs(r.height))return e.children;var{width:a,height:s}=Dte({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=gL(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Be(l)&&Be(c)?p.createElement(yL,{width:l,height:c},e.children):p.createElement(zte,Xb({},e,{width:a,height:s,ref:t}))});function jL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var vf=()=>{var e,t=ar(),r=Fe(Nte),a=Fe(Zx),s=(e=Fe(Xx))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},Bte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},bL=()=>{var e;return(e=Fe(In))!==null&&e!==void 0?e:Bte},Xw=()=>Fe(di),Zw=()=>Fe(ui),Ute=()=>Fe(e=>e.layout.margin),St=e=>e.layout.layoutType,nd=()=>Fe(St),Hte=()=>{var e=nd();if(e==="horizontal"||e==="vertical")return e},qte=()=>{var e=nd();return e!==void 0},Jx=e=>{var t=Vt(),r=ar(),{width:a,height:s}=e,l=Qw(),c=a,d=s;return l&&(c=l.width>0?l.width:a,d=l.height>0?l.height:s),p.useEffect(()=>{!r&&cs(c)&&cs(d)&&t(Gee({width:c,height:d}))},[t,r,c,d]),null},NL=Symbol.for("immer-nothing"),FO=Symbol.for("immer-draftable"),na=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bu=Object.getPrototypeOf;function _c(e){return!!e&&!!e[na]}function ro(e){return e?wL(e)||Array.isArray(e)||!!e[FO]||!!e.constructor?.[FO]||yf(e)||tg(e):!1}var Vte=Object.prototype.constructor.toString(),zO=new WeakMap;function wL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=zO.get(r);return a===void 0&&(a=Function.toString.call(r),zO.set(r,a)),a===Vte}function Mp(e,t,r=!0){eg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function eg(e){const t=e[na];return t?t.type_:Array.isArray(e)?1:yf(e)?2:tg(e)?3:0}function Zb(e,t){return eg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function SL(e,t,r){const a=eg(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function Kte(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yf(e){return e instanceof Map}function tg(e){return e instanceof Set}function $l(e){return e.copy_||e.base_}function Jb(e,t){if(yf(e))return new Map(e);if(tg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wL(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[na];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Bu(e),a)}else{const a=Bu(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function Jw(e,t=!1){return ng(e)||_c(e)||!ro(e)||(eg(e)>1&&Object.defineProperties(e,{set:Nh,add:Nh,clear:Nh,delete:Nh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Jw(r,!0))),e}function Wte(){$a(2)}var Nh={value:Wte};function ng(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Gte={};function ao(e){const t=Gte[e];return t||$a(0,e),t}var Uu;function CL(){return Uu}function Yte(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function BO(e,t){t&&(ao("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function eN(e){tN(e),e.drafts_.forEach(Qte),e.drafts_=null}function tN(e){e===Uu&&(Uu=e.parent_)}function UO(e){return Uu=Yte(Uu,e)}function Qte(e){const t=e[na];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[na].modified_&&(eN(t),$a(4)),ro(e)&&(e=Dp(t,e),t.parent_||Lp(t,e)),t.patches_&&ao("Patches").generateReplacementPatches_(r[na].base_,e,t.patches_,t.inversePatches_)):e=Dp(t,r,[]),eN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NL?e:void 0}function Dp(e,t,r){if(ng(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[na];if(!s)return Mp(t,(l,c)=>qO(e,s,t,l,c,r),a),t;if(s.scope_!==e)return t;if(!s.modified_)return Lp(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let c=l,d=!1;s.type_===3&&(c=new Set(l),l.clear(),d=!0),Mp(c,(f,m)=>qO(e,s,l,f,m,r,d),a),Lp(e,l,!1),r&&e.patches_&&ao("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function qO(e,t,r,a,s,l,c){if(s==null||typeof s!="object"&&!c)return;const d=ng(s);if(!(d&&!c)){if(_c(s)){const f=l&&t&&t.type_!==3&&!Zb(t.assigned_,a)?l.concat(a):void 0,m=Dp(e,s,f);if(SL(r,a,m),_c(m))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(ro(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&d)return;Dp(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(yf(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&Lp(e,s)}}}function Lp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jw(t,r)}function Xte(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:CL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,l=e1;r&&(s=[a],l=Hu);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,d}var e1={get(e,t){if(t===na)return e;const r=$l(e);if(!Zb(r,t))return Zte(e,r,t);const a=r[t];return e.finalized_||!ro(a)?a:a===bj(e.base_,t)?(Nj(e),e.copy_[t]=rN(a,e)):a},has(e,t){return t in $l(e)},ownKeys(e){return Reflect.ownKeys($l(e))},set(e,t,r){const a=EL($l(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=bj($l(e),t),l=s?.[na];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Kte(r,s)&&(r!==void 0||Zb(e.base_,t)))return!0;Nj(e),nN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return bj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Nj(e),nN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=$l(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Bu(e.base_)},setPrototypeOf(){$a(12)}},Hu={};Mp(e1,(e,t)=>{Hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,r){return e1.set.call(this,e[0],t,r,e[0])};function bj(e,t){const r=e[na];return(r?$l(r):e)[t]}function Zte(e,t,r){const a=EL(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function EL(e,t){if(!(t in e))return;let r=Bu(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Bu(r)}}function nN(e){e.modified_||(e.modified_=!0,e.parent_&&nN(e.parent_))}function Nj(e){e.copy_||(e.copy_=Jb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Jte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&$a(6),a!==void 0&&typeof a!="function"&&$a(7);let s;if(ro(t)){const l=UO(this),c=rN(t,void 0);let d=!0;try{s=r(c),d=!1}finally{d?eN(l):tN(l)}return BO(l,a),HO(s,l)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===NL&&(s=void 0),this.autoFreeze_&&Jw(s,!0),a){const l=[],c=[];ao("Patches").generateReplacementPatches_(t,s,l,c),a(l,c)}return s}else $a(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let a,s;return[this.produce(t,r,(c,d)=>{a=c,s=d}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ro(e)||$a(8),_c(e)&&(e=ene(e));const t=UO(this),r=rN(e,void 0);return r[na].isManual_=!0,tN(t),r}finishDraft(e,t){const r=e&&e[na];(!r||!r.isManual_)&&$a(9);const{scope_:a}=r;return BO(a,t),HO(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=ao("Patches").applyPatches_;return _c(e)?a(e,t):this.produce(e,s=>a(s,t))}};function rN(e,t){const r=yf(e)?ao("MapSet").proxyMap_(e,t):tg(e)?ao("MapSet").proxySet_(e,t):Xte(e,t);return(t?t.scope_:CL()).drafts_.push(r),r}function ene(e){return _c(e)||$a(10,e),AL(e)}function AL(e){if(!ro(e)||ng(e))return e;const t=e[na];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Jb(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Jb(e,!0);return Mp(r,(s,l)=>{SL(r,s,AL(l))},a),t&&(t.finalized_=!1),r}var tne=new Jte;tne.produce;var nne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},PL=Ir({name:"legend",initialState:nne,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:tn()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ba(e).payload.indexOf(r);s>-1&&(e.payload[s]=a)},prepare:tn()},removeLegendPayload:{reducer(e,t){var r=Ba(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:tn()}}}),{setLegendSize:VO,setLegendSettings:rne,addLegendPayload:TL,replaceLegendPayload:OL,removeLegendPayload:kL}=PL.actions,ane=PL.reducer,sne=["contextPayload"];function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aN.apply(null,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(a){ine(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ine(e,t,r){return(t=lne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=one(e,"string");return typeof t=="symbol"?t:t+""}function one(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cne(e,t){if(e==null)return{};var r,a,s=dne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function une(e){return e.value}function fne(e){var{contextPayload:t}=e,r=cne(e,sne),a=T3(t,e.payloadUniqBy,une),s=Rc(Rc({},r),{},{payload:a});return p.isValidElement(e.content)?p.cloneElement(e.content,s):typeof e.content=="function"?p.createElement(e.content,s):p.createElement(aJ,s)}function mne(e,t,r,a,s,l){var{layout:c,align:d,verticalAlign:f}=t,m,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?m={left:((a||0)-l.width)/2}:m=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((s||0)-l.height)/2}:h=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Rc(Rc({},m),h)}function hne(e){var t=Vt();return p.useEffect(()=>{t(rne(e))},[t,e]),null}function pne(e){var t=Vt();return p.useEffect(()=>(t(VO(e)),()=>{t(VO({width:0,height:0}))}),[t,e]),null}function xne(e,t,r,a){return e==="vertical"&&Be(t)?{height:t}:e==="horizontal"?{width:r||a}:null}var gne={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function jf(e){var t=bn(e,gne),r=QJ(),a=QX(),s=Ute(),{width:l,height:c,wrapperStyle:d,portal:f}=t,[m,h]=M3([r]),g=Xw(),v=Zw();if(g==null||v==null)return null;var y=g-(s?.left||0)-(s?.right||0),w=xne(t.layout,c,l,y),j=f?d:Rc(Rc({position:"absolute",width:w?.width||l||"auto",height:w?.height||c||"auto"},mne(d,t,s,g,v,m)),d),N=f??a;if(N==null||r==null)return null;var C=p.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},p.createElement(hne,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&p.createElement(pne,{width:m.width,height:m.height}),p.createElement(fne,aN({},t,w,{margin:s,chartWidth:g,chartHeight:v,contextPayload:r})));return ms.createPortal(C,N)}jf.displayName="Legend";function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sN.apply(null,arguments)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(a){vne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vne(e,t,r){return(t=yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yne(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bne(e){return Array.isArray(e)&&Aa(e[0])&&Aa(e[1])?e.join(" ~ "):e}var Nne=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(l&&l.length){var k={padding:0,margin:0},T=(d?zx(l,d):l).map((_,L)=>{if(_.type==="none")return null;var X=_.formatter||c||bne,{value:I,name:R}=_,K=I,ye=R;if(X){var W=X(I,R,_,L,l);if(Array.isArray(W))[K,ye]=W;else if(W!=null)K=W;else return null}var ee=wj({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:ee},Aa(ye)?p.createElement("span",{className:"recharts-tooltip-item-name"},ye):null,Aa(ye)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},K),p.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:k},T)}return null},w=wj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),j=wj({margin:0},s),N=!an(h),C=N?h:"",E=wt("recharts-default-tooltip",f),A=wt("recharts-tooltip-label",m);N&&g&&l!==void 0&&l!==null&&(C=g(h,l));var P=v?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",sN({className:E,style:w},P),p.createElement("p",{className:A,style:j},p.isValidElement(C)?C:"".concat(C)),y())},lu="recharts-tooltip-wrapper",wne={visibility:"hidden"};function Sne(e){var{coordinate:t,translateX:r,translateY:a}=e;return wt(lu,{["".concat(lu,"-right")]:Be(r)&&t&&Be(t.x)&&r>=t.x,["".concat(lu,"-left")]:Be(r)&&t&&Be(t.x)&&r<t.x,["".concat(lu,"-bottom")]:Be(a)&&t&&Be(t.y)&&a>=t.y,["".concat(lu,"-top")]:Be(a)&&t&&Be(t.y)&&a<t.y})}function GO(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&Be(l[a]))return l[a];var h=r[a]-d-(s>0?s:0),g=r[a]+s;if(t[a])return c[a]?h:g;var v=f[a];if(v==null)return 0;if(c[a]){var y=h,w=v;return y<w?Math.max(g,v):Math.max(h,v)}if(m==null)return 0;var j=g+d,N=v+m;return j>N?Math.max(h,v):Math.max(g,v)}function Cne(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ene(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,g;return c.height>0&&c.width>0&&r?(h=GO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=GO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=Cne({translateX:h,translateY:g,useTranslate3d:d})):m=wne,{cssProperties:m,cssClasses:Sne({translateX:h,translateY:g,coordinate:r})}}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(a){iN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iN(e,t,r){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ane(e){var t=Pne(e,"string");return typeof t=="symbol"?t:t+""}function Pne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Tne extends p.PureComponent{constructor(){super(...arguments),iN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:w,lastBoundingBox:j,innerRef:N,hasPortalFromProps:C}=this.props,{cssClasses:E,cssProperties:A}=Ene({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:v,viewBox:y}),P=C?{}:wh(wh({transition:f&&t?"transform ".concat(a,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),k=wh(wh({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:k,ref:N},l)}}var _L=()=>{var e;return(e=Fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lN.apply(null,arguments)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(a){One(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function One(e,t,r){return(t=kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZO={curveBasisClosed:pZ,curveBasisOpen:xZ,curveBasis:hZ,curveBumpX:eZ,curveBumpY:tZ,curveLinearClosed:gZ,curveLinear:$x,curveMonotoneX:vZ,curveMonotoneY:yZ,curveNatural:jZ,curveStep:bZ,curveStepAfter:wZ,curveStepBefore:NZ},Ip=e=>Dt(e.x)&&Dt(e.y),JO=e=>e.base!=null&&Ip(e.base)&&Ip(e),ou=e=>e.x,cu=e=>e.y,Rne=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(uf(e));return(r==="curveMonotone"||r==="curveBump")&&t?ZO["".concat(r).concat(t==="vertical"?"Y":"X")]:ZO[r]||$x},Mne=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:l=!1}=e,c=Rne(t,s),d=l?r.filter(Ip):r,f;if(Array.isArray(a)){var m=r.map((y,w)=>XO(XO({},y),{},{base:a[w]}));s==="vertical"?f=ph().y(cu).x1(ou).x0(y=>y.base.x):f=ph().x(ou).y1(cu).y0(y=>y.base.y);var h=f.defined(JO).curve(c),g=l?m.filter(JO):m;return h(g)}s==="vertical"&&Be(a)?f=ph().y(cu).x1(ou).x0(a):Be(a)?f=ph().x(ou).y1(cu).y0(a):f=a3().x(ou).y(cu);var v=f.defined(Ip).curve(c);return v(d)},gc=e=>{var{className:t,points:r,path:a,pathRef:s}=e;if((!r||!r.length)&&!a)return null;var l=r&&r.length?Mne(e):a;return p.createElement("path",lN({},Mr(e),$w(e),{className:wt("recharts-curve",t),d:l===null?void 0:l,ref:s}))},Dne=["x","y","top","left","width","height","className"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oN.apply(null,arguments)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Lne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){Ine(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ine(e,t,r){return(t=$ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zne(e,t){if(e==null)return{};var r,a,s=Bne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Bne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Une=(e,t,r,a,s,l)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(t,"h").concat(r),Hne=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=zne(e,Dne),m=Lne({x:t,y:r,top:a,left:s,width:l,height:c},f);return!Be(t)||!Be(r)||!Be(l)||!Be(c)||!Be(a)||!Be(s)?null:p.createElement("path",oN({},cr(m),{className:wt("recharts-cross",d),d:Une(t,r,l,c,a,s)}))};function qne(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(a){Vne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vne(e,t,r){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gne=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RL=(e,t,r)=>e.map(a=>"".concat(Gne(a)," ").concat(t,"ms ").concat(r)).join(","),Yne=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),qu=(e,t)=>Object.keys(t).reduce((r,a)=>nk(nk({},r),{},{[a]:e(a,t[a])}),{});function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(a){Qne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qne(e,t,r){return(t=Xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p=(e,t,r)=>e+(t-e)*r,cN=e=>{var{from:t,to:r}=e;return t!==r},ML=(e,t,r)=>{var a=qu((s,l)=>{if(cN(l)){var[c,d]=e(l.from,l.to,l.velocity);return Mn(Mn({},l),{},{from:c,velocity:d})}return l},t);return r<1?qu((s,l)=>cN(l)?Mn(Mn({},l),{},{velocity:$p(l.velocity,a[s].velocity,r),from:$p(l.from,a[s].from,r)}):l,t):ML(e,a,r-1)};function Jne(e,t,r,a,s,l){var c,d=a.reduce((v,y)=>Mn(Mn({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),f=()=>qu((v,y)=>y.from,d),m=()=>!Object.values(d).filter(cN).length,h=null,g=v=>{c||(c=v);var y=v-c,w=y/r.dt;d=ML(r,d,w),s(Mn(Mn(Mn({},e),t),f())),c=v,m()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{var v;(v=h)===null||v===void 0||v()})}function ere(e,t,r,a,s,l,c){var d=null,f=s.reduce((g,v)=>Mn(Mn({},g),{},{[v]:[e[v],t[v]]}),{}),m,h=g=>{m||(m=g);var v=(g-m)/a,y=qu((j,N)=>$p(...N,r(v)),f);if(l(Mn(Mn(Mn({},e),t),y)),v<1)d=c.setTimeout(h);else{var w=qu((j,N)=>$p(...N,r(1)),f);l(Mn(Mn(Mn({},e),t),w))}};return()=>(d=c.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}const tre=(e,t,r,a,s,l)=>{var c=Yne(e,t);return r==null?()=>(s(Mn(Mn({},e),t)),()=>{}):r.isStepper===!0?Jne(e,t,r,c,s,l):ere(e,t,r,a,c,s,l)};var Fp=1e-4,DL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],LL=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),ak=(e,t)=>r=>{var a=DL(e,t);return LL(a,r)},nre=(e,t)=>r=>{var a=DL(e,t),s=[...a.map((l,c)=>l*c).slice(1),0];return LL(s,r)},rre=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,l=r[0].split("(");if(l[0]==="cubic-bezier"&&((s=l[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return r.length===4?r:[0,0,1,1]},are=(e,t,r,a)=>{var s=ak(e,r),l=ak(t,a),c=nre(e,r),d=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,g=h,v=0;v<8;++v){var y=s(g)-h,w=c(g);if(Math.abs(y-h)<Fp||w<Fp)return l(g);g=d(g-y/w)}return l(g)};return f.isStepper=!1,f},sk=function(){return are(...rre(...arguments))},sre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*r,h=f*a,g=f+(m-h)*s/1e3,v=f*s/1e3+c;return Math.abs(v-d)<Fp&&Math.abs(g)<Fp?[d,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},ire=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sk(e);case"spring":return sre();default:if(e.split("(")[0]==="cubic-bezier")return sk(e)}return typeof e=="function"?e:null};function lre(e){var t,r=()=>null,a=!1,s=null,l=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class ore{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,l=c=>{c-a>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{s!=null&&cancelAnimationFrame(s)}}}function cre(){return lre(new ore)}var dre=p.createContext(cre);function ure(e,t){var r=p.useContext(dre);return p.useMemo(()=>t??r(e),[e,t,r])}var fre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rd={devToolsEnabled:!1,isSsr:fre()},mre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ik={t:0},Sj={t:1};function bf(e){var t=bn(e,mre),{isActive:r,canBegin:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=r==="auto"?!rd.isSsr:r,g=ure(t.animationId,t.animationManager),[v,y]=p.useState(h?ik:Sj),w=p.useRef(null);return p.useEffect(()=>{h||y(Sj)},[h]),p.useEffect(()=>{if(!h||!a)return ff;var j=tre(ik,Sj,ire(l),s,y,g.getTimeoutController()),N=()=>{w.current=j()};return g.start([f,c,N,s,d]),()=>{g.stop(),w.current&&w.current(),d()}},[h,a,s,l,c,f,d,g]),m(v.t)}function Nf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Lu(t)),a=p.useRef(e);return a.current!==e&&(r.current=Lu(t),a.current=e),r.current}var hre=["radius"],pre=["radius"];function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(a){xre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xre(e,t,r){return(t=gre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gre(e){var t=vre(e,"string");return typeof t=="symbol"?t:t+""}function vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zp.apply(null,arguments)}function ck(e,t){if(e==null)return{};var r,a,s=yre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yre(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var dk=(e,t,r,a,s)=>{var l=Math.min(Math.abs(r)/2,Math.abs(a)/2),c=a>=0?1:-1,d=r>=0?1:-1,f=a>=0&&r>=0||a<0&&r<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>l?l:s[g];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+r-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*h[1])),m+="L ".concat(e+r,",").concat(t+a-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-d*h[2],",").concat(t+a)),m+="L ".concat(e+d*h[3],",").concat(t+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+a-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var y=Math.min(l,s);m="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+d*y,",").concat(t,`
            L `).concat(e+r-d*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*y,`
            L `).concat(e+r,",").concat(t+a-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+r-d*y,",").concat(t+a,`
            L `).concat(e+d*y,",").concat(t+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e,",").concat(t+a-c*y," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return m},uk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IL=e=>{var t=bn(e,uk),r=p.useRef(null),[a,s]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Z=r.current.getTotalLength();Z&&s(Z)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:j}=t,N=p.useRef(d),C=p.useRef(f),E=p.useRef(l),A=p.useRef(c),P=p.useMemo(()=>({x:l,y:c,width:d,height:f,radius:m}),[l,c,d,f,m]),k=Nf(P,"rectangle-");if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var T=wt("recharts-rectangle",h);if(!j){var _=cr(t),{radius:L}=_,X=ck(_,hre);return p.createElement("path",zp({},X,{radius:typeof m=="number"?m:void 0,className:T,d:dk(l,c,d,f,m)}))}var I=N.current,R=C.current,K=E.current,ye=A.current,W="0px ".concat(a===-1?1:a,"px"),ee="".concat(a,"px 0px"),B=RL(["strokeDasharray"],v,typeof g=="string"?g:uk.animationEasing);return p.createElement(bf,{animationId:k,key:k,canBegin:a>0,duration:v,easing:g,isActive:j,begin:y},Z=>{var $=Xt(I,d,Z),fe=Xt(R,f,Z),pe=Xt(K,l,Z),M=Xt(ye,c,Z);r.current&&(N.current=$,C.current=fe,E.current=pe,A.current=M);var te;w?Z>0?te={transition:B,strokeDasharray:ee}:te={strokeDasharray:W}:te={strokeDasharray:ee};var me=cr(t),{radius:Ne}=me,le=ck(me,pre);return p.createElement("path",zp({},le,{radius:typeof m=="number"?m:void 0,className:T,d:dk(pe,M,$,fe,m),ref:r,style:ok(ok({},te),t.style)}))})};function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(a){jre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jre(e,t,r){return(t=bre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bp=Math.PI/180,wre=e=>e*180/Math.PI,Tn=(e,t,r,a)=>({x:e+Math.cos(-Bp*a)*r,y:t+Math.sin(-Bp*a)*r}),$L=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},Sre=(e,t)=>{var{x:r,y:a}=e,{x:s,y:l}=t;return Math.sqrt((r-s)**2+(a-l)**2)},Cre=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:l}=t,c=Sre({x:r,y:a},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(r-s)/c,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:c,angle:wre(f),angleInRadian:f}},Ere=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),l=Math.min(a,s);return{startAngle:t-l*360,endAngle:r-l*360}},Are=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),l=Math.floor(a/360),c=Math.min(s,l);return e+c*360},Pre=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:s,angle:l}=Cre({x:r,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=Ere(t),h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?mk(mk({},t),{},{radius:s,angle:Are(h,t)}):null};function FL(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:l}=e,c=Tn(t,r,a,s),d=Tn(t,r,a,l);return{points:[c,d],cx:t,cy:r,radius:a,startAngle:s,endAngle:l}}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dN.apply(null,arguments)}var Tre=(e,t)=>{var r=Kn(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Sh=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+a,h=Math.asin(d/m)/Bp,g=f?s:s+l*h,v=Tn(t,r,m,g),y=Tn(t,r,a,g),w=f?s-l*h:s,j=Tn(t,r,m*Math.cos(h*Bp),w);return{center:v,circleTangency:y,lineTangency:j,theta:h}},zL=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,d=Tre(l,c),f=l+d,m=Tn(t,r,s,l),h=Tn(t,r,s,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var v=Tn(t,r,a,l),y=Tn(t,r,a,f);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},Ore=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=Kn(m-f),{circleTangency:g,lineTangency:v,theta:y}=Sh({cx:t,cy:r,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:N}=Sh({cx:t,cy:r,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),C=d?Math.abs(f-m):Math.abs(f-m)-y-N;if(C<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):zL({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var{circleTangency:A,lineTangency:P,theta:k}=Sh({cx:t,cy:r,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:T,lineTangency:_,theta:L}=Sh({cx:t,cy:r,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),X=d?Math.abs(f-m):Math.abs(f-m)-k-L;if(X<0&&l===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(X>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},kre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BL=e=>{var t=bn(e,kre),{cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:g}=t;if(l<s||m===h)return null;var v=wt("recharts-sector",g),y=l-s,w=or(c,y,0,!0),j;return w>0&&Math.abs(m-h)<360?j=Ore({cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,y/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):j=zL({cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),p.createElement("path",dN({},cr(t),{className:v,d:j}))};function _re(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(y3(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:l,outerRadius:c,angle:d}=t,f=Tn(a,s,l,d),m=Tn(a,s,c,d);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return FL(t)}}var Cj={},Ej={},Aj={},hk;function Rre(){return hk||(hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k3();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(Aj)),Aj}var pk;function Mre(){return pk||(pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rre();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(Ej)),Ej}var xk;function Dre(){return xk||(xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_3(),r=Mre();function a(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=r.toFinite(s),l===void 0?(l=s,s=0):l=r.toFinite(l),c=c===void 0?s<l?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=a})(Cj)),Cj}var Pj,gk;function Lre(){return gk||(gk=1,Pj=Dre().range),Pj}var Ire=Lre();const UL=fs(Ire);function Gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $re(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function t1(e){let t,r,a;e.length!==2?(t=Gi,r=(d,f)=>Gi(e(d),f),a=(d,f)=>e(d)-f):(t=e===Gi||e===$re?e:Fre,r=e,a=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<0?m=g+1:h=g}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<=0?m=g+1:h=g}while(m<h)}return m}function c(d,f,m=0,h=d.length){const g=s(d,f,m,h-1);return g>m&&a(d[g-1],f)>-a(d[g],f)?g-1:g}return{left:s,center:c,right:l}}function Fre(){return 0}function HL(e){return e===null?NaN:+e}function*zre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Bre=t1(Gi),wf=Bre.right;t1(HL).center;class vk extends Map{constructor(t,r=qre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(yk(this,t))}has(t){return super.has(yk(this,t))}set(t,r){return super.set(Ure(this,t),r)}delete(t){return super.delete(Hre(this,t))}}function yk({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Ure({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Hre({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function qre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Vre(e=Gi){if(e===Gi)return qL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function qL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Kre=Math.sqrt(50),Wre=Math.sqrt(10),Gre=Math.sqrt(2);function Up(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),l=a/Math.pow(10,s),c=l>=Kre?10:l>=Wre?5:l>=Gre?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=r&&r<2?Up(e,t,r*2):[d,f,m]}function uN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,l,c]=a?Up(t,e,r):Up(e,t,r);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(a)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function fN(e,t,r){return t=+t,e=+e,r=+r,Up(e,t,r)[2]}function mN(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?fN(t,e,r):fN(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function jk(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function bk(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function VL(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?qL:Vre(s);a>r;){if(a-r>600){const f=a-r+1,m=t-r+1,h=Math.log(f),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(f-g)/f)*(m-f/2<0?-1:1),y=Math.max(r,Math.floor(t-m*g/f+v)),w=Math.min(a,Math.floor(t+(f-m)*g/f+v));VL(e,t,y,w,s)}const l=e[t];let c=r,d=a;for(du(e,r,t),s(e[a],l)>0&&du(e,r,a);c<d;){for(du(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[r],l)===0?du(e,r,d):(++d,du(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function du(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Yre(e,t,r){if(e=Float64Array.from(zre(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return bk(e);if(t>=1)return jk(e);var a,s=(a-1)*t,l=Math.floor(s),c=jk(VL(e,l).subarray(0,l+1)),d=bk(e.subarray(l+1));return c+(d-c)*(s-l)}}function Qre(e,t,r=HL){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,l=Math.floor(s),c=+r(e[l],l,e),d=+r(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function Xre(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(s);++a<s;)l[a]=e+a*r;return l}function ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hN=Symbol("implicit");function n1(){var e=new vk,t=[],r=[],a=hN;function s(l){let c=e.get(l);if(c===void 0){if(a!==hN)return a;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new vk;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(r=Array.from(l),s):r.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return n1(t,r).unknown(a)},ka.apply(s,arguments),s}function r1(){var e=n1().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function g(){var v=t().length,y=s<a,w=y?s:a,j=y?a:s;l=(j-w)/Math.max(1,v-f+m*2),d&&(l=Math.floor(l)),w+=(j-w-l*(v-f))*h,c=l*(1-f),d&&(w=Math.round(w),c=Math.round(c));var N=Xre(v).map(function(C){return w+l*C});return r(y?N.reverse():N)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([a,s]=v,a=+a,s=+s,g()):[a,s]},e.rangeRound=function(v){return[a,s]=v,a=+a,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,g()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return r1(t(),[a,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},ka.apply(g(),arguments)}function KL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KL(t())},e}function Zre(){return KL(r1.apply(null,arguments).paddingInner(1))}function a1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function WL(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Sf(){}var Vu=.7,Hp=1/Vu,vc="\\s*([+-]?\\d+)\\s*",Ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jre=/^#([0-9a-f]{3,8})$/,eae=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),tae=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),nae=new RegExp(`^rgba\\(${vc},${vc},${vc},${Ku}\\)$`),rae=new RegExp(`^rgba\\(${rs},${rs},${rs},${Ku}\\)$`),aae=new RegExp(`^hsl\\(${Ku},${rs},${rs}\\)$`),sae=new RegExp(`^hsla\\(${Ku},${rs},${rs},${Ku}\\)$`),Nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a1(Sf,Wu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wk,formatHex:wk,formatHex8:iae,formatHsl:lae,formatRgb:Sk,toString:Sk});function wk(){return this.rgb().formatHex()}function iae(){return this.rgb().formatHex8()}function lae(){return GL(this).formatHsl()}function Sk(){return this.rgb().formatRgb()}function Wu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Jre.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ck(t):r===3?new Or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ch(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ch(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eae.exec(e))?new Or(t[1],t[2],t[3],1):(t=tae.exec(e))?new Or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nae.exec(e))?Ch(t[1],t[2],t[3],t[4]):(t=rae.exec(e))?Ch(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aae.exec(e))?Pk(t[1],t[2]/100,t[3]/100,1):(t=sae.exec(e))?Pk(t[1],t[2]/100,t[3]/100,t[4]):Nk.hasOwnProperty(e)?Ck(Nk[e]):e==="transparent"?new Or(NaN,NaN,NaN,0):null}function Ck(e){return new Or(e>>16&255,e>>8&255,e&255,1)}function Ch(e,t,r,a){return a<=0&&(e=t=r=NaN),new Or(e,t,r,a)}function oae(e){return e instanceof Sf||(e=Wu(e)),e?(e=e.rgb(),new Or(e.r,e.g,e.b,e.opacity)):new Or}function pN(e,t,r,a){return arguments.length===1?oae(e):new Or(e,t,r,a??1)}function Or(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}a1(Or,pN,WL(Sf,{brighter(e){return e=e==null?Hp:Math.pow(Hp,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vu:Math.pow(Vu,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Or(Vl(this.r),Vl(this.g),Vl(this.b),qp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ek,formatHex:Ek,formatHex8:cae,formatRgb:Ak,toString:Ak}));function Ek(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}`}function cae(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}${Bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ak(){const e=qp(this.opacity);return`${e===1?"rgb(":"rgba("}${Vl(this.r)}, ${Vl(this.g)}, ${Vl(this.b)}${e===1?")":`, ${e})`}`}function qp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bl(e){return e=Vl(e),(e<16?"0":"")+e.toString(16)}function Pk(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fa(e,t,r,a)}function GL(e){if(e instanceof Fa)return new Fa(e.h,e.s,e.l,e.opacity);if(e instanceof Sf||(e=Wu(e)),!e)return new Fa;if(e instanceof Fa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),l=Math.max(t,r,a),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(r-a)/d+(r<a)*6:r===l?c=(a-t)/d+2:c=(t-r)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new Fa(c,d,f,e.opacity)}function dae(e,t,r,a){return arguments.length===1?GL(e):new Fa(e,t,r,a??1)}function Fa(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}a1(Fa,dae,WL(Sf,{brighter(e){return e=e==null?Hp:Math.pow(Hp,e),new Fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vu:Math.pow(Vu,e),new Fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Or(Tj(e>=240?e-240:e+120,s,a),Tj(e,s,a),Tj(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Fa(Tk(this.h),Eh(this.s),Eh(this.l),qp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qp(this.opacity);return`${e===1?"hsl(":"hsla("}${Tk(this.h)}, ${Eh(this.s)*100}%, ${Eh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tk(e){return e=(e||0)%360,e<0?e+360:e}function Eh(e){return Math.max(0,Math.min(1,e||0))}function Tj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const s1=e=>()=>e;function uae(e,t){return function(r){return e+r*t}}function fae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function mae(e){return(e=+e)==1?YL:function(t,r){return r-t?fae(t,r,e):s1(isNaN(t)?r:t)}}function YL(e,t){var r=t-e;return r?uae(e,r):s1(isNaN(e)?t:e)}const Ok=(function e(t){var r=mae(t);function a(s,l){var c=r((s=pN(s)).r,(l=pN(l)).r),d=r(s.g,l.g),f=r(s.b,l.b),m=YL(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return a.gamma=e,a})(1);function hae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(l){for(s=0;s<r;++s)a[s]=e[s]*(1-l)+t[s]*l;return a}}function pae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xae(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),l=new Array(r),c;for(c=0;c<a;++c)s[c]=ad(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(d){for(c=0;c<a;++c)l[c]=s[c](d);return l}}function gae(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Vp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function vae(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ad(e[s],t[s]):a[s]=t[s];return function(l){for(s in r)a[s]=r[s](l);return a}}var xN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oj=new RegExp(xN.source,"g");function yae(e){return function(){return e}}function jae(e){return function(t){return e(t)+""}}function bae(e,t){var r=xN.lastIndex=Oj.lastIndex=0,a,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(a=xN.exec(e))&&(s=Oj.exec(t));)(l=s.index)>r&&(l=t.slice(r,l),d[c]?d[c]+=l:d[++c]=l),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:Vp(a,s)})),r=Oj.lastIndex;return r<t.length&&(l=t.slice(r),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?jae(f[0].x):yae(t):(t=f.length,function(m){for(var h=0,g;h<t;++h)d[(g=f[h]).i]=g.x(m);return d.join("")})}function ad(e,t){var r=typeof t,a;return t==null||r==="boolean"?s1(t):(r==="number"?Vp:r==="string"?(a=Wu(t))?(t=a,Ok):bae:t instanceof Wu?Ok:t instanceof Date?gae:pae(t)?hae:Array.isArray(t)?xae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vae:Vp)(e,t)}function i1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Nae(e,t){t===void 0&&(t=e,e=ad);for(var r=0,a=t.length-1,s=t[0],l=new Array(a<0?0:a);r<a;)l[r]=e(s,s=t[++r]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return l[d](c-d)}}function wae(e){return function(){return e}}function Kp(e){return+e}var kk=[0,1];function hr(e){return e}function gN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:wae(isNaN(t)?NaN:.5)}function Sae(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function Cae(e,t,r){var a=e[0],s=e[1],l=t[0],c=t[1];return s<a?(a=gN(s,a),l=r(c,l)):(a=gN(a,s),l=r(l,c)),function(d){return l(a(d))}}function Eae(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),l=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=gN(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(d){var f=wf(e,d,1,a)-1;return l[f](s[f](d))}}function Cf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rg(){var e=kk,t=kk,r=ad,a,s,l,c=hr,d,f,m;function h(){var v=Math.min(e.length,t.length);return c!==hr&&(c=Sae(e[0],e[v-1])),d=v>2?Eae:Cae,f=m=null,g}function g(v){return v==null||isNaN(v=+v)?l:(f||(f=d(e.map(a),t,r)))(a(c(v)))}return g.invert=function(v){return c(s((m||(m=d(t,e.map(a),Vp)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Kp),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=i1,h()},g.clamp=function(v){return arguments.length?(c=v?!0:hr,h()):c!==hr},g.interpolate=function(v){return arguments.length?(r=v,h()):r},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,y){return a=v,s=y,h()}}function l1(){return rg()(hr,hr)}function Aae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Mc(e){return e=Wp(Math.abs(e)),e?e[1]:NaN}function Pae(e,t){return function(r,a){for(var s=r.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>a&&(d=Math.max(1,a-f)),l.push(r.substring(s-=d,s+d)),!((f+=d+1)>a));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function Tae(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Oae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gu(e){if(!(t=Oae.exec(e)))throw new Error("invalid format: "+e);var t;return new o1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gu.prototype=o1.prototype;function o1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}o1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kae(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var QL;function _ae(e,t){var r=Wp(e,t);if(!r)return e+"";var a=r[0],s=r[1],l=s-(QL=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return l===c?a:l>c?a+new Array(l-c+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+Wp(e,Math.max(0,t+l-1))[0]}function _k(e,t){var r=Wp(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const Rk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Aae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_k(e*100,t),r:_k,s:_ae,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mk(e){return e}var Dk=Array.prototype.map,Lk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rae(e){var t=e.grouping===void 0||e.thousands===void 0?Mk:Pae(Dk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Mk:Tae(Dk.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(g){g=Gu(g);var v=g.fill,y=g.align,w=g.sign,j=g.symbol,N=g.zero,C=g.width,E=g.comma,A=g.precision,P=g.trim,k=g.type;k==="n"?(E=!0,k="g"):Rk[k]||(A===void 0&&(A=12),P=!0,k="g"),(N||v==="0"&&y==="=")&&(N=!0,v="0",y="=");var T=j==="$"?r:j==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=j==="$"?a:/[%p]/.test(k)?c:"",L=Rk[k],X=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function I(R){var K=T,ye=_,W,ee,B;if(k==="c")ye=L(R)+ye,R="";else{R=+R;var Z=R<0||1/R<0;if(R=isNaN(R)?f:L(Math.abs(R),A),P&&(R=kae(R)),Z&&+R==0&&w!=="+"&&(Z=!1),K=(Z?w==="("?w:d:w==="-"||w==="("?"":w)+K,ye=(k==="s"?Lk[8+QL/3]:"")+ye+(Z&&w==="("?")":""),X){for(W=-1,ee=R.length;++W<ee;)if(B=R.charCodeAt(W),48>B||B>57){ye=(B===46?s+R.slice(W+1):R.slice(W))+ye,R=R.slice(0,W);break}}}E&&!N&&(R=t(R,1/0));var $=K.length+R.length+ye.length,fe=$<C?new Array(C-$+1).join(v):"";switch(E&&N&&(R=t(fe+R,fe.length?C-ye.length:1/0),fe=""),y){case"<":R=K+R+ye+fe;break;case"=":R=K+fe+R+ye;break;case"^":R=fe.slice(0,$=fe.length>>1)+K+R+ye+fe.slice($);break;default:R=fe+K+R+ye;break}return l(R)}return I.toString=function(){return g+""},I}function h(g,v){var y=m((g=Gu(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(Mc(v)/3)))*3,j=Math.pow(10,-w),N=Lk[8+w/3];return function(C){return y(j*C)+N}}return{format:m,formatPrefix:h}}var Ah,c1,XL;Mae({thousands:",",grouping:[3],currency:["$",""]});function Mae(e){return Ah=Rae(e),c1=Ah.format,XL=Ah.formatPrefix,Ah}function Dae(e){return Math.max(0,-Mc(Math.abs(e)))}function Lae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mc(t)/3)))*3-Mc(Math.abs(e)))}function Iae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mc(t)-Mc(e))+1}function ZL(e,t,r,a){var s=mN(e,t,r),l;switch(a=Gu(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(l=Lae(s,c))&&(a.precision=l),XL(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(l=Iae(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=l-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(l=Dae(s))&&(a.precision=l-(a.type==="%")*2);break}}return c1(a)}function ul(e){var t=e.domain;return e.ticks=function(r){var a=t();return uN(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return ZL(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,l=a.length-1,c=a[s],d=a[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=fN(c,d,r),m===f)return a[s]=c,a[l]=d,t(a);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function JL(){var e=l1();return e.copy=function(){return Cf(e,JL())},ka.apply(e,arguments),ul(e)}function eI(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Kp),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return eI(e).unknown(t)},e=arguments.length?Array.from(e,Kp):[0,1],ul(r)}function tI(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],l=e[a],c;return l<s&&(c=r,r=a,a=c,c=s,s=l,l=c),e[r]=t.floor(s),e[a]=t.ceil(l),e}function Ik(e){return Math.log(e)}function $k(e){return Math.exp(e)}function $ae(e){return-Math.log(-e)}function Fae(e){return-Math.exp(-e)}function zae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bae(e){return e===10?zae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Uae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Fk(e){return(t,r)=>-e(-t,r)}function d1(e){const t=e(Ik,$k),r=t.domain;let a=10,s,l;function c(){return s=Uae(a),l=Bae(a),r()[0]<0?(s=Fk(s),l=Fk(l),e($ae,Fae)):e(Ik,$k),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const f=r();let m=f[0],h=f[f.length-1];const g=h<m;g&&([m,h]=[h,m]);let v=s(m),y=s(h),w,j;const N=d==null?10:+d;let C=[];if(!(a%1)&&y-v<N){if(v=Math.floor(v),y=Math.ceil(y),m>0){for(;v<=y;++v)for(w=1;w<a;++w)if(j=v<0?w/l(-v):w*l(v),!(j<m)){if(j>h)break;C.push(j)}}else for(;v<=y;++v)for(w=a-1;w>=1;--w)if(j=v>0?w/l(-v):w*l(v),!(j<m)){if(j>h)break;C.push(j)}C.length*2<N&&(C=uN(m,h,N))}else C=uN(v,y,Math.min(y-v,N)).map(l);return g?C.reverse():C},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=a===10?"s":","),typeof f!="function"&&(!(a%1)&&(f=Gu(f)).precision==null&&(f.trim=!0),f=c1(f)),d===1/0)return f;const m=Math.max(1,a*d/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*a<a-.5&&(g*=a),g<=m?f(h):""}},t.nice=()=>r(tI(r(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function nI(){const e=d1(rg()).domain([1,10]);return e.copy=()=>Cf(e,nI()).base(e.base()),ka.apply(e,arguments),e}function zk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Bk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u1(e){var t=1,r=e(zk(t),Bk(t));return r.constant=function(a){return arguments.length?e(zk(t=+a),Bk(t)):t},ul(r)}function rI(){var e=u1(rg());return e.copy=function(){return Cf(e,rI()).constant(e.constant())},ka.apply(e,arguments)}function Uk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qae(e){return e<0?-e*e:e*e}function f1(e){var t=e(hr,hr),r=1;function a(){return r===1?e(hr,hr):r===.5?e(Hae,qae):e(Uk(r),Uk(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},ul(t)}function m1(){var e=f1(rg());return e.copy=function(){return Cf(e,m1()).exponent(e.exponent())},ka.apply(e,arguments),e}function Vae(){return m1.apply(null,arguments).exponent(.5)}function Hk(e){return Math.sign(e)*e*e}function Kae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aI(){var e=l1(),t=[0,1],r=!1,a;function s(l){var c=Kae(e(l));return isNaN(c)?a:r?Math.round(c):c}return s.invert=function(l){return e.invert(Hk(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Kp)).map(Hk)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(r=!!l,s):r},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return aI(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ka.apply(s,arguments),ul(s)}function sI(){var e=[],t=[],r=[],a;function s(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=Qre(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?a:t[wf(r,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Gi),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(a=c,l):a},l.quantiles=function(){return r.slice()},l.copy=function(){return sI().domain(e).range(t).unknown(a)},ka.apply(l,arguments)}function iI(){var e=0,t=1,r=1,a=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[wf(a,f,0,r)]:l}function d(){var f=-1;for(a=new Array(r);++f<r;)a[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(r=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=r?[a[r-1],t]:[a[m-1],a[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return a.slice()},c.copy=function(){return iI().domain([e,t]).range(s).unknown(l)},ka.apply(ul(c),arguments)}function lI(){var e=[.5],t=[0,1],r,a=1;function s(l){return l!=null&&l<=l?t[wf(e,l,0,a)]:r}return s.domain=function(l){return arguments.length?(e=Array.from(l),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return lI().domain(e).range(t).unknown(r)},ka.apply(s,arguments)}const kj=new Date,_j=new Date;function $n(e,t,r,a){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>$n(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),r&&(s.count=(l,c)=>(kj.setTime(+l),_j.setTime(+c),e(kj),e(_j),Math.floor(r(kj,_j))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(a?c=>a(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const Gp=$n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$n(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gp);Gp.range;const qs=1e3,Ca=qs*60,Vs=Ca*60,ni=Vs*24,h1=ni*7,qk=ni*30,Rj=ni*365,Ul=$n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qs)},(e,t)=>(t-e)/qs,e=>e.getUTCSeconds());Ul.range;const p1=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qs)},(e,t)=>{e.setTime(+e+t*Ca)},(e,t)=>(t-e)/Ca,e=>e.getMinutes());p1.range;const x1=$n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ca)},(e,t)=>(t-e)/Ca,e=>e.getUTCMinutes());x1.range;const g1=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qs-e.getMinutes()*Ca)},(e,t)=>{e.setTime(+e+t*Vs)},(e,t)=>(t-e)/Vs,e=>e.getHours());g1.range;const v1=$n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vs)},(e,t)=>(t-e)/Vs,e=>e.getUTCHours());v1.range;const Ef=$n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ca)/ni,e=>e.getDate()-1);Ef.range;const ag=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ni,e=>e.getUTCDate()-1);ag.range;const oI=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ni,e=>Math.floor(e/ni));oI.range;function mo(e){return $n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ca)/h1)}const sg=mo(0),Yp=mo(1),Wae=mo(2),Gae=mo(3),Dc=mo(4),Yae=mo(5),Qae=mo(6);sg.range;Yp.range;Wae.range;Gae.range;Dc.range;Yae.range;Qae.range;function ho(e){return $n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/h1)}const ig=ho(0),Qp=ho(1),Xae=ho(2),Zae=ho(3),Lc=ho(4),Jae=ho(5),ese=ho(6);ig.range;Qp.range;Xae.range;Zae.range;Lc.range;Jae.range;ese.range;const y1=$n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());y1.range;const j1=$n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j1.range;const ri=$n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ri.range;const ai=$n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ai.range;function cI(e,t,r,a,s,l){const c=[[Ul,1,qs],[Ul,5,5*qs],[Ul,15,15*qs],[Ul,30,30*qs],[l,1,Ca],[l,5,5*Ca],[l,15,15*Ca],[l,30,30*Ca],[s,1,Vs],[s,3,3*Vs],[s,6,6*Vs],[s,12,12*Vs],[a,1,ni],[a,2,2*ni],[r,1,h1],[t,1,qk],[t,3,3*qk],[e,1,Rj]];function d(m,h,g){const v=h<m;v&&([m,h]=[h,m]);const y=g&&typeof g.range=="function"?g:f(m,h,g),w=y?y.range(m,+h+1):[];return v?w.reverse():w}function f(m,h,g){const v=Math.abs(h-m)/g,y=t1(([,,N])=>N).right(c,v);if(y===c.length)return e.every(mN(m/Rj,h/Rj,g));if(y===0)return Gp.every(Math.max(mN(m,h,g),1));const[w,j]=c[v/c[y-1][2]<c[y][2]/v?y-1:y];return w.every(j)}return[d,f]}const[tse,nse]=cI(ai,j1,ig,oI,v1,x1),[rse,ase]=cI(ri,y1,sg,Ef,g1,p1);function Mj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function sse(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=fu(s),h=mu(s),g=fu(l),v=mu(l),y=fu(c),w=mu(c),j=fu(d),N=mu(d),C=fu(f),E=mu(f),A={a:Z,A:$,b:fe,B:pe,c:null,d:Qk,e:Qk,f:Pse,g:$se,G:zse,H:Cse,I:Ese,j:Ase,L:dI,m:Tse,M:Ose,p:M,q:te,Q:Jk,s:e_,S:kse,u:_se,U:Rse,V:Mse,w:Dse,W:Lse,x:null,X:null,y:Ise,Y:Fse,Z:Bse,"%":Zk},P={a:me,A:Ne,b:le,B:Ie,c:null,d:Xk,e:Xk,f:Vse,g:tie,G:rie,H:Use,I:Hse,j:qse,L:fI,m:Kse,M:Wse,p:F,q:Te,Q:Jk,s:e_,S:Gse,u:Yse,U:Qse,V:Xse,w:Zse,W:Jse,x:null,X:null,y:eie,Y:nie,Z:aie,"%":Zk},k={a:I,A:R,b:K,B:ye,c:W,d:Gk,e:Gk,f:bse,g:Wk,G:Kk,H:Yk,I:Yk,j:gse,L:jse,m:xse,M:vse,p:X,q:pse,Q:wse,s:Sse,S:yse,u:dse,U:use,V:fse,w:cse,W:mse,x:ee,X:B,y:Wk,Y:Kk,Z:hse,"%":Nse};A.x=T(r,A),A.X=T(a,A),A.c=T(t,A),P.x=T(r,P),P.X=T(a,P),P.c=T(t,P);function T(ae,Oe){return function($e){var xe=[],at=-1,Ye=0,Lt=ae.length,kt,J,oe;for($e instanceof Date||($e=new Date(+$e));++at<Lt;)ae.charCodeAt(at)===37&&(xe.push(ae.slice(Ye,at)),(J=Vk[kt=ae.charAt(++at)])!=null?kt=ae.charAt(++at):J=kt==="e"?" ":"0",(oe=Oe[kt])&&(kt=oe($e,J)),xe.push(kt),Ye=at+1);return xe.push(ae.slice(Ye,at)),xe.join("")}}function _(ae,Oe){return function($e){var xe=uu(1900,void 0,1),at=L(xe,ae,$e+="",0),Ye,Lt;if(at!=$e.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Oe&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Ye=Dj(uu(xe.y,0,1)),Lt=Ye.getUTCDay(),Ye=Lt>4||Lt===0?Qp.ceil(Ye):Qp(Ye),Ye=ag.offset(Ye,(xe.V-1)*7),xe.y=Ye.getUTCFullYear(),xe.m=Ye.getUTCMonth(),xe.d=Ye.getUTCDate()+(xe.w+6)%7):(Ye=Mj(uu(xe.y,0,1)),Lt=Ye.getDay(),Ye=Lt>4||Lt===0?Yp.ceil(Ye):Yp(Ye),Ye=Ef.offset(Ye,(xe.V-1)*7),xe.y=Ye.getFullYear(),xe.m=Ye.getMonth(),xe.d=Ye.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Lt="Z"in xe?Dj(uu(xe.y,0,1)).getUTCDay():Mj(uu(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Lt+5)%7:xe.w+xe.U*7-(Lt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,Dj(xe)):Mj(xe)}}function L(ae,Oe,$e,xe){for(var at=0,Ye=Oe.length,Lt=$e.length,kt,J;at<Ye;){if(xe>=Lt)return-1;if(kt=Oe.charCodeAt(at++),kt===37){if(kt=Oe.charAt(at++),J=k[kt in Vk?Oe.charAt(at++):kt],!J||(xe=J(ae,$e,xe))<0)return-1}else if(kt!=$e.charCodeAt(xe++))return-1}return xe}function X(ae,Oe,$e){var xe=m.exec(Oe.slice($e));return xe?(ae.p=h.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function I(ae,Oe,$e){var xe=y.exec(Oe.slice($e));return xe?(ae.w=w.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function R(ae,Oe,$e){var xe=g.exec(Oe.slice($e));return xe?(ae.w=v.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function K(ae,Oe,$e){var xe=C.exec(Oe.slice($e));return xe?(ae.m=E.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function ye(ae,Oe,$e){var xe=j.exec(Oe.slice($e));return xe?(ae.m=N.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function W(ae,Oe,$e){return L(ae,t,Oe,$e)}function ee(ae,Oe,$e){return L(ae,r,Oe,$e)}function B(ae,Oe,$e){return L(ae,a,Oe,$e)}function Z(ae){return c[ae.getDay()]}function $(ae){return l[ae.getDay()]}function fe(ae){return f[ae.getMonth()]}function pe(ae){return d[ae.getMonth()]}function M(ae){return s[+(ae.getHours()>=12)]}function te(ae){return 1+~~(ae.getMonth()/3)}function me(ae){return c[ae.getUTCDay()]}function Ne(ae){return l[ae.getUTCDay()]}function le(ae){return f[ae.getUTCMonth()]}function Ie(ae){return d[ae.getUTCMonth()]}function F(ae){return s[+(ae.getUTCHours()>=12)]}function Te(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Oe=T(ae+="",A);return Oe.toString=function(){return ae},Oe},parse:function(ae){var Oe=_(ae+="",!1);return Oe.toString=function(){return ae},Oe},utcFormat:function(ae){var Oe=T(ae+="",P);return Oe.toString=function(){return ae},Oe},utcParse:function(ae){var Oe=_(ae+="",!0);return Oe.toString=function(){return ae},Oe}}}var Vk={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,ise=/^%/,lse=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",l=s.length;return a+(l<r?new Array(r-l+1).join(t)+s:s)}function ose(e){return e.replace(lse,"\\$&")}function fu(e){return new RegExp("^(?:"+e.map(ose).join("|")+")","i")}function mu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cse(e,t,r){var a=Gn.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function dse(e,t,r){var a=Gn.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function use(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function fse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function mse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Kk(e,t,r){var a=Gn.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Wk(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function hse(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function pse(e,t,r){var a=Gn.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function xse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function Gk(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function gse(e,t,r){var a=Gn.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function Yk(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function vse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function yse(e,t,r){var a=Gn.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function jse(e,t,r){var a=Gn.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function bse(e,t,r){var a=Gn.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Nse(e,t,r){var a=ise.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function wse(e,t,r){var a=Gn.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function Sse(e,t,r){var a=Gn.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function Qk(e,t){return Pt(e.getDate(),t,2)}function Cse(e,t){return Pt(e.getHours(),t,2)}function Ese(e,t){return Pt(e.getHours()%12||12,t,2)}function Ase(e,t){return Pt(1+Ef.count(ri(e),e),t,3)}function dI(e,t){return Pt(e.getMilliseconds(),t,3)}function Pse(e,t){return dI(e,t)+"000"}function Tse(e,t){return Pt(e.getMonth()+1,t,2)}function Ose(e,t){return Pt(e.getMinutes(),t,2)}function kse(e,t){return Pt(e.getSeconds(),t,2)}function _se(e){var t=e.getDay();return t===0?7:t}function Rse(e,t){return Pt(sg.count(ri(e)-1,e),t,2)}function uI(e){var t=e.getDay();return t>=4||t===0?Dc(e):Dc.ceil(e)}function Mse(e,t){return e=uI(e),Pt(Dc.count(ri(e),e)+(ri(e).getDay()===4),t,2)}function Dse(e){return e.getDay()}function Lse(e,t){return Pt(Yp.count(ri(e)-1,e),t,2)}function Ise(e,t){return Pt(e.getFullYear()%100,t,2)}function $se(e,t){return e=uI(e),Pt(e.getFullYear()%100,t,2)}function Fse(e,t){return Pt(e.getFullYear()%1e4,t,4)}function zse(e,t){var r=e.getDay();return e=r>=4||r===0?Dc(e):Dc.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function Bse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function Xk(e,t){return Pt(e.getUTCDate(),t,2)}function Use(e,t){return Pt(e.getUTCHours(),t,2)}function Hse(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function qse(e,t){return Pt(1+ag.count(ai(e),e),t,3)}function fI(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function Vse(e,t){return fI(e,t)+"000"}function Kse(e,t){return Pt(e.getUTCMonth()+1,t,2)}function Wse(e,t){return Pt(e.getUTCMinutes(),t,2)}function Gse(e,t){return Pt(e.getUTCSeconds(),t,2)}function Yse(e){var t=e.getUTCDay();return t===0?7:t}function Qse(e,t){return Pt(ig.count(ai(e)-1,e),t,2)}function mI(e){var t=e.getUTCDay();return t>=4||t===0?Lc(e):Lc.ceil(e)}function Xse(e,t){return e=mI(e),Pt(Lc.count(ai(e),e)+(ai(e).getUTCDay()===4),t,2)}function Zse(e){return e.getUTCDay()}function Jse(e,t){return Pt(Qp.count(ai(e)-1,e),t,2)}function eie(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function tie(e,t){return e=mI(e),Pt(e.getUTCFullYear()%100,t,2)}function nie(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function rie(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Lc(e):Lc.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function aie(){return"+0000"}function Zk(){return"%"}function Jk(e){return+e}function e_(e){return Math.floor(+e/1e3)}var ac,hI,pI;sie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sie(e){return ac=sse(e),hI=ac.format,ac.parse,pI=ac.utcFormat,ac.utcParse,ac}function iie(e){return new Date(e)}function lie(e){return e instanceof Date?+e:+new Date(+e)}function b1(e,t,r,a,s,l,c,d,f,m){var h=l1(),g=h.invert,v=h.domain,y=m(".%L"),w=m(":%S"),j=m("%I:%M"),N=m("%I %p"),C=m("%a %d"),E=m("%b %d"),A=m("%B"),P=m("%Y");function k(T){return(f(T)<T?y:d(T)<T?w:c(T)<T?j:l(T)<T?N:a(T)<T?s(T)<T?C:E:r(T)<T?A:P)(T)}return h.invert=function(T){return new Date(g(T))},h.domain=function(T){return arguments.length?v(Array.from(T,lie)):v().map(iie)},h.ticks=function(T){var _=v();return e(_[0],_[_.length-1],T??10)},h.tickFormat=function(T,_){return _==null?k:m(_)},h.nice=function(T){var _=v();return(!T||typeof T.range!="function")&&(T=t(_[0],_[_.length-1],T??10)),T?v(tI(_,T)):h},h.copy=function(){return Cf(h,b1(e,t,r,a,s,l,c,d,f,m))},h}function oie(){return ka.apply(b1(rse,ase,ri,y1,sg,Ef,g1,p1,Ul,hI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cie(){return ka.apply(b1(tse,nse,ai,j1,ig,ag,v1,x1,Ul,pI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lg(){var e=0,t=1,r,a,s,l,c=hr,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(s===0?.5:(g=(l(g)-r)*s,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,r=l(e=+e),a=l(t=+t),s=r===a?0:1/(a-r),m):[e,t]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function h(g){return function(v){var y,w;return arguments.length?([y,w]=v,c=g(y,w),m):[c(0),c(1)]}}return m.range=h(ad),m.rangeRound=h(i1),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return l=g,r=g(e),a=g(t),s=r===a?0:1/(a-r),m}}function fl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xI(){var e=ul(lg()(hr));return e.copy=function(){return fl(e,xI())},fi.apply(e,arguments)}function gI(){var e=d1(lg()).domain([1,10]);return e.copy=function(){return fl(e,gI()).base(e.base())},fi.apply(e,arguments)}function vI(){var e=u1(lg());return e.copy=function(){return fl(e,vI()).constant(e.constant())},fi.apply(e,arguments)}function N1(){var e=f1(lg());return e.copy=function(){return fl(e,N1()).exponent(e.exponent())},fi.apply(e,arguments)}function die(){return N1.apply(null,arguments).exponent(.5)}function yI(){var e=[],t=hr;function r(a){if(a!=null&&!isNaN(a=+a))return t((wf(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gi),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,l)=>Yre(e,l/a))},r.copy=function(){return yI(t).domain(e)},fi.apply(r,arguments)}function og(){var e=0,t=.5,r=1,a=1,s,l,c,d,f,m=hr,h,g=!1,v;function y(j){return isNaN(j=+j)?v:(j=.5+((j=+h(j))-l)*(a*j<a*l?d:f),m(g?Math.max(0,Math.min(1,j)):j))}y.domain=function(j){return arguments.length?([e,t,r]=j,s=h(e=+e),l=h(t=+t),c=h(r=+r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,y):[e,t,r]},y.clamp=function(j){return arguments.length?(g=!!j,y):g},y.interpolator=function(j){return arguments.length?(m=j,y):m};function w(j){return function(N){var C,E,A;return arguments.length?([C,E,A]=N,m=Nae(j,[C,E,A]),y):[m(0),m(.5),m(1)]}}return y.range=w(ad),y.rangeRound=w(i1),y.unknown=function(j){return arguments.length?(v=j,y):v},function(j){return h=j,s=j(e),l=j(t),c=j(r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,y}}function jI(){var e=ul(og()(hr));return e.copy=function(){return fl(e,jI())},fi.apply(e,arguments)}function bI(){var e=d1(og()).domain([.1,1,10]);return e.copy=function(){return fl(e,bI()).base(e.base())},fi.apply(e,arguments)}function NI(){var e=u1(og());return e.copy=function(){return fl(e,NI()).constant(e.constant())},fi.apply(e,arguments)}function w1(){var e=f1(og());return e.copy=function(){return fl(e,w1()).exponent(e.exponent())},fi.apply(e,arguments)}function uie(){return w1.apply(null,arguments).exponent(.5)}const yu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:r1,scaleDiverging:jI,scaleDivergingLog:bI,scaleDivergingPow:w1,scaleDivergingSqrt:uie,scaleDivergingSymlog:NI,scaleIdentity:eI,scaleImplicit:hN,scaleLinear:JL,scaleLog:nI,scaleOrdinal:n1,scalePoint:Zre,scalePow:m1,scaleQuantile:sI,scaleQuantize:iI,scaleRadial:aI,scaleSequential:xI,scaleSequentialLog:gI,scaleSequentialPow:N1,scaleSequentialQuantile:yI,scaleSequentialSqrt:die,scaleSequentialSymlog:vI,scaleSqrt:Vae,scaleSymlog:rI,scaleThreshold:lI,scaleTime:oie,scaleUtc:cie,tickFormat:ZL},Symbol.toStringTag,{value:"Module"}));var ml=e=>e.chartData,S1=ue([ml],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cg=(e,t,r,a)=>a?S1(e):ml(e);function tl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Dt(t)&&Dt(r))return!0}return!1}function t_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,l;if(Dt(r))s=r;else if(typeof r=="function")return;if(Dt(a))l=a;else if(typeof a=="function")return;var c=[s,l];if(tl(c))return c}}function fie(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(tl(a))return t_(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Be(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&TO.test(s)){var f=TO.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Be(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[1]))}catch{}else if(typeof l=="string"&&OO.test(l)){var h=OO.exec(l);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[1]+g}}else d=t?.[1];var v=[c,d];if(tl(v))return t==null?v:t_(v,t,r)}}}var sd=1e9,mie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},E1,nn=!0,Ta="[DecimalError] ",Kl=Ta+"Invalid argument: ",C1=Ta+"Exponent out of range: ",id=Math.floor,Fl=Math.pow,hie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yr,Vn=1e7,Qt=7,SI=9007199254740991,Xp=id(SI/Qt),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,r,a,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(a=l.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return a===s?0:a>s^l.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(e){return Ws(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,r=t.constructor;return qt(Ws(t,new r(e),0,1),r.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return kn(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,r=this,a=r.constructor,s=a.precision,l=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Yr))throw Error(Ta+"NaN");if(r.s<1)throw Error(Ta+(r.s?"NaN":"-Infinity"));return r.eq(Yr)?new a(0):(nn=!1,t=Ws(Yu(r,l),Yu(e,l),l),nn=!0,qt(t,s))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AI(t,e):CI(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Ta+"NaN");return r.s?(nn=!1,t=Ws(r,e,0,1).times(e),nn=!0,r.minus(t)):qt(new a(r),s)};Ue.naturalExponential=Ue.exp=function(){return EI(this)};Ue.naturalLogarithm=Ue.ln=function(){return Yu(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CI(t,e):AI(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kl+e);if(t=kn(s)+1,a=s.d.length-1,r=a*Qt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Ue.squareRoot=Ue.sqrt=function(){var e,t,r,a,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Ta+"NaN")}for(e=kn(d),nn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ts(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=id((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new f(t)):a=new f(s.toString()),r=f.precision,s=c=r+3;;)if(l=a,a=l.plus(Ws(d,l,c+2)).times(.5),ts(l.d).slice(0,c)===(t=ts(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(qt(l,r+1,0),l.times(l).eq(d)){a=l;break}}else if(t!="9999")break;c+=4}return nn=!0,qt(a,r)};Ue.times=Ue.mul=function(e){var t,r,a,s,l,c,d,f,m,h=this,g=h.constructor,v=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=y.length,f<m&&(l=v,v=y,y=l,c=f,f=m,m=c),l=[],c=f+m,a=c;a--;)l.push(0);for(a=m;--a>=0;){for(t=0,s=f+a;s>a;)d=l[s]+y[a]*v[s-a-1]+t,l[s--]=d%Vn|0,t=d/Vn|0;l[s]=(l[s]+t)%Vn|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,nn?qt(e,g.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(ds(e,0,sd),t===void 0?t=a.rounding:ds(t,0,8),qt(r,e+kn(r)+1,t))};Ue.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=so(a,!0):(ds(e,0,sd),t===void 0?t=s.rounding:ds(t,0,8),a=qt(new s(a),e+1,t),r=so(a,!0,e+1)),r};Ue.toFixed=function(e,t){var r,a,s=this,l=s.constructor;return e===void 0?so(s):(ds(e,0,sd),t===void 0?t=l.rounding:ds(t,0,8),a=qt(new l(s),e+kn(s)+1,t),r=so(a.abs(),!1,e+kn(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return qt(new t(e),kn(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,r,a,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Yr);if(d=new f(d),!d.s){if(e.s<1)throw Error(Ta+"Infinity");return d}if(d.eq(Yr))return d;if(a=f.precision,e.eq(Yr))return qt(d,a);if(t=e.e,r=e.d.length-1,c=t>=r,l=d.s,c){if((r=h<0?-h:h)<=SI){for(s=new f(Yr),t=Math.ceil(a/Qt+4),nn=!1;r%2&&(s=s.times(d),r_(s.d,t)),r=id(r/2),r!==0;)d=d.times(d),r_(d.d,t);return nn=!0,e.s<0?new f(Yr).div(s):qt(s,a)}}else if(l<0)throw Error(Ta+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,nn=!1,s=e.times(Yu(d,a+m)),nn=!0,s=EI(s),s.s=l,s};Ue.toPrecision=function(e,t){var r,a,s=this,l=s.constructor;return e===void 0?(r=kn(s),a=so(s,r<=l.toExpNeg||r>=l.toExpPos)):(ds(e,1,sd),t===void 0?t=l.rounding:ds(t,0,8),s=qt(new l(s),e,t),r=kn(s),a=so(s,e<=r||r<=l.toExpNeg,e)),a};Ue.toSignificantDigits=Ue.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ds(e,1,sd),t===void 0?t=a.rounding:ds(t,0,8)),qt(new a(r),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kn(e),r=e.constructor;return so(e,t<=r.toExpNeg||t>=r.toExpPos)};function CI(e,t){var r,a,s,l,c,d,f,m,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),nn?qt(t,g):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(a=f,l=-l,d=m.length):(a=m,s=c,d=f.length),c=Math.ceil(g/Qt),d=c>d?c+1:d+1,l>d&&(l=d,a.length=1),a.reverse();l--;)a.push(0);a.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,a=m,m=f,f=a),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/Vn|0,f[l]%=Vn;for(r&&(f.unshift(r),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,nn?qt(t,g):t}function ds(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Kl+e)}function ts(e){var t,r,a,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)a=e[t]+"",r=Qt-a.length,r&&(l+=Bi(r)),l+=a;c=e[t],a=c+"",r=Qt-a.length,r&&(l+=Bi(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Ws=(function(){function e(a,s){var l,c=0,d=a.length;for(a=a.slice();d--;)l=a[d]*s+c,a[d]=l%Vn|0,c=l/Vn|0;return c&&a.unshift(c),a}function t(a,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(a[d]!=s[d]){f=a[d]>s[d]?1:-1;break}return f}function r(a,s,l){for(var c=0;l--;)a[l]-=c,c=a[l]<s[l]?1:0,a[l]=c*Vn+a[l]-s[l];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,l,c){var d,f,m,h,g,v,y,w,j,N,C,E,A,P,k,T,_,L,X=a.constructor,I=a.s==s.s?1:-1,R=a.d,K=s.d;if(!a.s)return new X(a);if(!s.s)throw Error(Ta+"Division by zero");for(f=a.e-s.e,_=K.length,k=R.length,y=new X(I),w=y.d=[],m=0;K[m]==(R[m]||0);)++m;if(K[m]>(R[m]||0)&&--f,l==null?E=l=X.precision:c?E=l+(kn(a)-kn(s))+1:E=l,E<0)return new X(0);if(E=E/Qt+2|0,m=0,_==1)for(h=0,K=K[0],E++;(m<k||h)&&E--;m++)A=h*Vn+(R[m]||0),w[m]=A/K|0,h=A%K|0;else{for(h=Vn/(K[0]+1)|0,h>1&&(K=e(K,h),R=e(R,h),_=K.length,k=R.length),P=_,j=R.slice(0,_),N=j.length;N<_;)j[N++]=0;L=K.slice(),L.unshift(0),T=K[0],K[1]>=Vn/2&&++T;do h=0,d=t(K,j,_,N),d<0?(C=j[0],_!=N&&(C=C*Vn+(j[1]||0)),h=C/T|0,h>1?(h>=Vn&&(h=Vn-1),g=e(K,h),v=g.length,N=j.length,d=t(g,j,v,N),d==1&&(h--,r(g,_<v?L:K,v))):(h==0&&(d=h=1),g=K.slice()),v=g.length,v<N&&g.unshift(0),r(j,g,N),d==-1&&(N=j.length,d=t(K,j,_,N),d<1&&(h++,r(j,_<N?L:K,N))),N=j.length):d===0&&(h++,j=[0]),w[m++]=h,d&&j[0]?j[N++]=R[P]||0:(j=[R[P]],N=1);while((P++<k||j[0]!==void 0)&&E--)}return w[0]||w.shift(),y.e=f,qt(y,c?l+kn(y)+1:l)}})();function EI(e,t){var r,a,s,l,c,d,f=0,m=0,h=e.constructor,g=h.precision;if(kn(e)>16)throw Error(C1+kn(e));if(!e.s)return new h(Yr);for(nn=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(a=Math.log(Fl(2,m))/Math.LN10*2+5|0,d+=a,r=s=l=new h(Yr),h.precision=d;;){if(s=qt(s.times(e),d),r=r.times(++f),c=l.plus(Ws(s,r,d)),ts(c.d).slice(0,d)===ts(l.d).slice(0,d)){for(;m--;)l=qt(l.times(l),d);return h.precision=g,t==null?(nn=!0,qt(l,g)):l}l=c}}function kn(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function Lj(e,t,r){if(t>e.LN10.sd())throw nn=!0,r&&(e.precision=r),Error(Ta+"LN10 precision limit exceeded");return qt(new e(e.LN10),t)}function Bi(e){for(var t="";e--;)t+="0";return t}function Yu(e,t){var r,a,s,l,c,d,f,m,h,g=1,v=10,y=e,w=y.d,j=y.constructor,N=j.precision;if(y.s<1)throw Error(Ta+(y.s?"NaN":"-Infinity"));if(y.eq(Yr))return new j(0);if(t==null?(nn=!1,m=N):m=t,y.eq(10))return t==null&&(nn=!0),Lj(j,m);if(m+=v,j.precision=m,r=ts(w),a=r.charAt(0),l=kn(y),Math.abs(l)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)y=y.times(e),r=ts(y.d),a=r.charAt(0),g++;l=kn(y),a>1?(y=new j("0."+r),l++):y=new j(a+"."+r.slice(1))}else return f=Lj(j,m+2,N).times(l+""),y=Yu(new j(a+"."+r.slice(1)),m-v).plus(f),j.precision=N,t==null?(nn=!0,qt(y,N)):y;for(d=c=y=Ws(y.minus(Yr),y.plus(Yr),m),h=qt(y.times(y),m),s=3;;){if(c=qt(c.times(h),m),f=d.plus(Ws(c,new j(s),m)),ts(f.d).slice(0,m)===ts(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(Lj(j,m+2,N).times(l+""))),d=Ws(d,new j(g),m),j.precision=N,t==null?(nn=!0,qt(d,N)):d;d=f,s+=2}}function n_(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=id(r/Qt),e.d=[],a=(r+1)%Qt,r<0&&(a+=Qt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Qt;a<s;)e.d.push(+t.slice(a,a+=Qt));t=t.slice(a),a=Qt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),nn&&(e.e>Xp||e.e<-Xp))throw Error(C1+r)}else e.s=0,e.e=0,e.d=[0];return e}function qt(e,t,r){var a,s,l,c,d,f,m,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(a=t-c,a<0)a+=Qt,s=t,m=g[h=0];else{if(h=Math.ceil((a+1)/Qt),l=g.length,h>=l)return e;for(m=l=g[h],c=1;l>=10;l/=10)c++;a%=Qt,s=a-Qt+c}if(r!==void 0&&(l=Fl(10,c-s-1),d=m/l%10|0,f=t<0||g[h+1]!==void 0||m%l,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(a>0?s>0?m/Fl(10,c-s):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(l=kn(e),g.length=1,t=t-l-1,g[0]=Fl(10,(Qt-t%Qt)%Qt),e.e=id(-t/Qt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(a==0?(g.length=h,l=1,h--):(g.length=h+1,l=Fl(10,Qt-a),g[h]=s>0?(m/Fl(10,c-s)%Fl(10,s)|0)*l:0),f)for(;;)if(h==0){(g[0]+=l)==Vn&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Vn)break;g[h--]=0,l=1}for(a=g.length;g[--a]===0;)g.pop();if(nn&&(e.e>Xp||e.e<-Xp))throw Error(C1+kn(e));return e}function AI(e,t){var r,a,s,l,c,d,f,m,h,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),nn?qt(t,y):t;if(f=e.d,g=t.d,a=t.e,m=e.e,f=f.slice(),c=m-a,c){for(h=c<0,h?(r=f,c=-c,d=g.length):(r=g,a=m,d=f.length),s=Math.max(Math.ceil(y/Qt),d)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=f.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=g[s]){h=f[s]<g[s];break}c=0}for(h&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,s=g.length-d;s>0;--s)f[d++]=0;for(s=g.length;s>c;){if(f[--s]<g[s]){for(l=s;l&&f[--l]===0;)f[l]=Vn-1;--f[l],f[s]+=Vn}f[s]-=g[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--a;return f[0]?(t.d=f,t.e=a,nn?qt(t,y):t):new v(0)}function so(e,t,r){var a,s=kn(e),l=ts(e.d),c=l.length;return t?(r&&(a=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+Bi(a):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+Bi(-s-1)+l,r&&(a=r-c)>0&&(l+=Bi(a))):s>=c?(l+=Bi(s+1-c),r&&(a=r-s-1)>0&&(l=l+"."+Bi(a))):((a=s+1)<c&&(l=l.slice(0,a)+"."+l.slice(a)),r&&(a=r-c)>0&&(s+1===c&&(l+="."),l+=Bi(a))),e.s<0?"-"+l:l}function r_(e,t){if(e.length>t)return e.length=t,!0}function PI(e){var t,r,a;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Kl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return n_(c,l.toString())}else if(typeof l!="string")throw Error(Kl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,hie.test(l))n_(c,l);else throw Error(Kl+l)}if(s.prototype=Ue,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=PI,s.config=s.set=pie,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function pie(e){if(!e||typeof e!="object")throw Error(Ta+"Object expected");var t,r,a,s=["precision",1,sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(id(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Kl+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Kl+r+": "+a);return this}var E1=PI(mie);Yr=new E1(1);const Mt=E1;var xie=e=>e,TI={},OI=e=>e===TI,a_=e=>function t(){return arguments.length===0||arguments.length===1&&OI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},kI=(e,t)=>e===1?t:a_(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var l=a.filter(c=>c!==TI).length;return l>=e?t(...a):kI(e-l,a_(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=a.map(h=>OI(h)?d.shift():h);return t(...m,...d)}))}),gie=e=>kI(e.length,e),vN=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},vie=gie((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),yie=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return xie;var s=r.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},yN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function _I(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function RI(e,t,r){for(var a=new Mt(e),s=0,l=[];a.lt(t)&&s<1e5;)l.push(a.toNumber()),a=a.add(r),s++;return l}var MI=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},DI=(e,t,r)=>{if(e.lte(0))return new Mt(0);var a=_I(e.toNumber()),s=new Mt(10).pow(a),l=e.div(s),c=a!==1?.05:.1,d=new Mt(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=d.mul(s);return t?new Mt(f.toNumber()):new Mt(Math.ceil(f.toNumber()))},jie=(e,t,r)=>{var a=new Mt(1),s=new Mt(e);if(!s.isint()&&r){var l=Math.abs(e);l<1?(a=new Mt(10).pow(_I(e)-1),s=new Mt(Math.floor(s.div(a).toNumber())).mul(a)):l>1&&(s=new Mt(Math.floor(e)))}else e===0?s=new Mt(Math.floor((t-1)/2)):r||(s=new Mt(Math.floor(e)));var c=Math.floor((t-1)/2),d=yie(vie(f=>s.add(new Mt(f-c).mul(a)).toNumber()),vN);return d(0,t)},LI=function(t,r,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var c=DI(new Mt(r).sub(t).div(a-1),s,l),d;t<=0&&r>=0?d=new Mt(0):(d=new Mt(t).add(r).div(2),d=d.sub(new Mt(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Mt(r).sub(d).div(c).toNumber()),h=f+m+1;return h>a?LI(t,r,a,s,l+1):(h<a&&(m=r>0?m+(a-h):m,f=r>0?f:f+(a-h)),{step:c,tickMin:d.sub(new Mt(f).mul(c)),tickMax:d.add(new Mt(m).mul(c))})},bie=function(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,f]=MI([r,a]);if(d===-1/0||f===1/0){var m=f===1/0?[d,...vN(0,s-1).map(()=>1/0)]:[...vN(0,s-1).map(()=>-1/0),f];return r>a?yN(m):m}if(d===f)return jie(d,s,l);var{step:h,tickMin:g,tickMax:v}=LI(d,f,c,l,0),y=RI(g,v.add(new Mt(.1).mul(h)),h);return r>a?yN(y):y},Nie=function(t,r){var[a,s]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=MI([a,s]);if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var f=Math.max(r,2),m=DI(new Mt(d).sub(c).div(f-1),l,0),h=[...RI(new Mt(c),new Mt(d),m),d];return l===!1&&(h=h.map(g=>Math.round(g))),a>s?yN(h):h},II=e=>e.rootProps.maxBarSize,wie=e=>e.rootProps.barGap,$I=e=>e.rootProps.barCategoryGap,Sie=e=>e.rootProps.barSize,Af=e=>e.rootProps.stackOffset,FI=e=>e.rootProps.reverseStackOrder,A1=e=>e.options.chartName,P1=e=>e.rootProps.syncId,zI=e=>e.rootProps.syncMethod,T1=e=>e.options.eventEmitter,Cie=e=>e.rootProps.baseValue,yn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Bs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Eie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bs.angleAxisId,includeHidden:!1,name:void 0,reversed:Bs.reversed,scale:Bs.scale,tick:Bs.tick,tickCount:void 0,ticks:void 0,type:Bs.type,unit:void 0},Aie={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},Pie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Bs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bs.scale,tick:Bs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Tie={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:"category",unit:void 0},O1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Pie:Eie,k1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Tie:Aie,ug=e=>e.polarOptions,_1=ue([di,ui,In],$L),BI=ue([ug,_1],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),UI=ue([ug,_1],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),Oie=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},HI=ue([ug],Oie);ue([O1,HI],dg);var qI=ue([_1,BI,UI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([k1,qI],dg);var VI=ue([St,ug,BI,UI,di,ui],(e,t,r,a,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:or(c,s,s/2),cy:or(d,l,l/2),innerRadius:r,outerRadius:a,startAngle:f,endAngle:m,clockWise:!1}}}),rn=(e,t)=>t,Pf=(e,t,r)=>r;function fg(e){return e?.id}function KI(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:l}=r,c=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:a;if(!(m==null||m.length===0)){var h=fg(d);m.forEach((g,v)=>{var y=l==null||s?v:String(Ht(g,l,null)),w=Ht(g,d.dataKey,0),j;c.has(y)?j=c.get(y):j={},Object.assign(j,{[h]:w}),c.set(y,j)})}}),Array.from(c.values())}function mg(e){return e.stackId!=null&&e.dataKey!=null}var hg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function pg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function kie(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Fn=e=>{var t=St(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ld=e=>e.tooltip.settings.axisId;function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(a){_ie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _ie(e,t,r){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rie(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jN=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},WI=(e,t)=>e.cartesianAxis.xAxis[t],xs=(e,t)=>{var r=WI(e,t);return r??Hn},qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gf},GI=(e,t)=>e.cartesianAxis.yAxis[t],gs=(e,t)=>{var r=GI(e,t);return r??qn},Die={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},R1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Die},sn=(e,t,r)=>{switch(t){case"xAxis":return xs(e,r);case"yAxis":return gs(e,r);case"zAxis":return R1(e,r);case"angleAxis":return O1(e,r);case"radiusAxis":return k1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lie=(e,t,r)=>{switch(t){case"xAxis":return xs(e,r);case"yAxis":return gs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Tf=(e,t,r)=>{switch(t){case"xAxis":return xs(e,r);case"yAxis":return gs(e,r);case"angleAxis":return O1(e,r);case"radiusAxis":return k1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},YI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function M1(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var xg=e=>e.graphicalItems.cartesianItems,Iie=ue([rn,Pf],M1),D1=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),Of=ue([xg,sn,Iie],D1,{memoizeOptions:{resultEqualityCheck:pg}}),QI=ue([Of],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(mg)),XI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),$ie=ue([Of],XI),L1=e=>e.map(t=>t.data).filter(Boolean).flat(1),Fie=ue([Of],L1,{memoizeOptions:{resultEqualityCheck:pg}}),I1=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},$1=ue([Fie,cg],I1),F1=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:Ht(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:Ht(s,a)}))):e.map(a=>({value:a})),gg=ue([$1,sn,Of],F1);function ZI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Yh(e){if(Aa(e)||e instanceof Date){var t=Number(e);if(Dt(t))return t}}function i_(e){if(Array.isArray(e)){var t=[Yh(e[0]),Yh(e[1])];return tl(t)?t:void 0}var r=Yh(e);if(r!=null)return[r,r]}function si(e){return e.map(Yh).filter(DZ)}function zie(e,t,r){return!r||typeof t!="number"||Dr(t)?[]:r.length?si(r.flatMap(a=>{var s=Ht(e,a.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Dt(l)||!Dt(c)))return[t-l,t+c]})):[]}var zn=e=>{var t=Fn(e),r=ld(e);return Tf(e,t,r)},kf=ue([zn],e=>e?.dataKey),Bie=ue([QI,cg,zn],KI),JI=(e,t,r,a)=>{var s={},l=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),s);return Object.fromEntries(Object.entries(l).map(c=>{var[d,f]=c,m=a?[...f].reverse():f,h=m.map(fg);return[d,{stackedData:ite(e,h,r),graphicalItems:m}]}))},Qu=ue([Bie,QI,Af,FI],JI),e$=(e,t,r,a)=>{var{dataStartIndex:s,dataEndIndex:l}=t;if(a==null&&r!=="zAxis"){var c=dte(e,s,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Uie=ue([sn],e=>e.allowDataOverflow),z1=e=>{var t;if(e==null||!("domain"in e))return jN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=si(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:jN},B1=ue([sn],z1),U1=ue([B1,Uie],wI),Hie=ue([Qu,ml,rn,U1],e$,{memoizeOptions:{resultEqualityCheck:hg}}),vg=e=>e.errorBars,qie=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>ZI(r,a)),Jp=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},H1=(e,t,r,a,s)=>{var l,c;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var m,h,g=(m=a[f.id])===null||m===void 0?void 0:m.filter(C=>ZI(s,C)),v=Ht(d,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),y=zie(d,v,g);if(y.length>=2){var w=Math.min(...y),j=Math.max(...y);(l==null||w<l)&&(l=w),(c==null||j>c)&&(c=j)}var N=i_(v);N!=null&&(l=l==null?N[0]:Math.min(l,N[0]),c=c==null?N[1]:Math.max(c,N[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=i_(Ht(d,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Dt(l)&&Dt(c))return[l,c]},Vie=ue([$1,sn,$ie,vg,rn],H1,{memoizeOptions:{resultEqualityCheck:hg}});function Kie(e){var{value:t}=e;if(Aa(t)||t instanceof Date)return t}var Wie=(e,t,r)=>{var a=e.map(Kie).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&x3(a))?UL(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},t$=e=>e.referenceElements.dots,od=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Gie=ue([t$,rn,Pf],od),n$=e=>e.referenceElements.areas,Yie=ue([n$,rn,Pf],od),r$=e=>e.referenceElements.lines,Qie=ue([r$,rn,Pf],od),a$=(e,t)=>{var r=si(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Xie=ue(Gie,rn,a$),s$=(e,t)=>{var r=si(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Zie=ue([Yie,rn],s$);function Jie(e){var t;if(e.x!=null)return si([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:si(r)}function ele(e){var t;if(e.y!=null)return si([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:si(r)}var i$=(e,t)=>{var r=e.flatMap(a=>t==="xAxis"?Jie(a):ele(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tle=ue([Qie,rn],i$),nle=ue(Xie,tle,Zie,(e,t,r)=>Jp(e,r,t)),q1=(e,t,r,a,s,l,c,d)=>{if(r!=null)return r;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",m=f?Jp(a,l,s):Jp(l,s);return fie(t,m,e.allowDataOverflow)},rle=ue([sn,B1,U1,Hie,Vie,nle,St,rn],q1,{memoizeOptions:{resultEqualityCheck:hg}}),ale=[0,1],V1=(e,t,r,a,s,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=ci(t,l);if(m&&d==null){var h;return UL(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?Wie(a,e,m):s==="expand"?ale:c}},K1=ue([sn,St,$1,gg,Af,rn,rle],V1),l$=(e,t,r,a,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(uf(l));return d in yu?d:"point"}}},cd=ue([sn,St,YI,A1,rn],l$);function sle(e){if(e!=null){if(e in yu)return yu[e]();var t="scale".concat(uf(e));if(t in yu)return yu[t]()}}function W1(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=sle(t);if(s!=null){var l=s.domain(r).range(a);return tte(l),l}}}var G1=(e,t,r)=>{var a=z1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&tl(e))return bie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&tl(e))return Nie(e,t.tickCount,t.allowDecimals)}},Y1=ue([K1,Tf,cd],G1),Q1=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&tl(t)&&Array.isArray(r)&&r.length>0){var s=t[0],l=r[0],c=t[1],d=r[r.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},ile=ue([sn,K1,Y1,rn],Q1),lle=ue(gg,sn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(si(e.map(d=>d.value))).sort((d,f)=>d-f);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var l=0;l<a.length-1;l++){var c=a[l+1]-a[l];r=Math.min(r,c)}return r/s}}),o$=ue(lle,St,$I,In,(e,t,r,a)=>a,(e,t,r,a,s)=>{if(!Dt(e))return 0;var l=t==="vertical"?a.height:a.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=or(r,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),ole=(e,t)=>{var r=xs(e,t);return r==null||typeof r.padding!="string"?0:o$(e,"xAxis",t,r.padding)},cle=(e,t)=>{var r=gs(e,t);return r==null||typeof r.padding!="string"?0:o$(e,"yAxis",t,r.padding)},dle=ue(xs,ole,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),ule=ue(gs,cle,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),fle=ue([In,dle,Zx,Xx,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:l}=a;return s?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),mle=ue([In,St,ule,Zx,Xx,(e,t,r)=>r],(e,t,r,a,s,l)=>{var{padding:c}=s;return l?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_f=(e,t,r,a)=>{var s;switch(t){case"xAxis":return fle(e,r,a);case"yAxis":return mle(e,r,a);case"zAxis":return(s=R1(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return HI(e);case"radiusAxis":return qI(e,r);default:return}},c$=ue([sn,_f],dg),nl=ue([sn,cd,ile,c$],W1);ue([Of,vg,rn],qie);function d$(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yg=(e,t)=>t,jg=(e,t,r)=>r,hle=ue(Yx,yg,jg,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(d$)),ple=ue(Qx,yg,jg,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(d$)),u$=(e,t)=>({width:e.width,height:t.height}),xle=(e,t)=>{var r=typeof t.width=="number"?t.width:gf;return{width:r,height:e.height}},f$=ue(In,xs,u$),gle=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vle=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},yle=ue(ui,In,hle,yg,jg,(e,t,r,a,s)=>{var l={},c;return r.forEach(d=>{var f=u$(t,d);c==null&&(c=gle(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),jle=ue(di,In,ple,yg,jg,(e,t,r,a,s)=>{var l={},c;return r.forEach(d=>{var f=xle(t,d);c==null&&(c=vle(t,a,e));var m=a==="left"&&!s||a==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),ble=(e,t)=>{var r=xs(e,t);if(r!=null)return yle(e,r.orientation,r.mirror)},Nle=ue([In,xs,ble,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),wle=(e,t)=>{var r=gs(e,t);if(r!=null)return jle(e,r.orientation,r.mirror)},Sle=ue([In,gs,wle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),m$=ue(In,gs,(e,t)=>{var r=typeof t.width=="number"?t.width:gf;return{width:r,height:e.height}}),l_=(e,t,r)=>{switch(t){case"xAxis":return f$(e,r).width;case"yAxis":return m$(e,r).height;default:return}},h$=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=r,d=ci(e,a),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&x3(f))return f}},X1=ue([St,gg,sn,rn],h$),p$=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:l}=r,c=ci(e,a);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},Z1=ue([St,gg,Tf,rn],p$),o_=ue([St,Lie,cd,nl,X1,Z1,_f,Y1,rn],(e,t,r,a,s,l,c,d,f)=>{if(t!=null){var m=ci(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:r,scale:a}}}),Cle=(e,t,r,a,s,l,c,d,f)=>{if(!(t==null||a==null)){var m=ci(e,f),{type:h,ticks:g,tickCount:v}=t,y=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=h==="category"&&a.bandwidth?a.bandwidth()/y:0;w=f==="angleAxis"&&l!=null&&l.length>=2?Kn(l[0]-l[1])*2*w:w;var j=g||s;if(j){var N=j.map((C,E)=>{var A=c?c.indexOf(C):C;return{index:E,coordinate:a(A)+w,value:C,offset:w}});return N.filter(C=>Dt(C.coordinate))}return m&&d?d.map((C,E)=>({coordinate:a(C)+w,value:C,index:E,offset:w})).filter(C=>Dt(C.coordinate)):a.ticks?a.ticks(v).map(C=>({coordinate:a(C)+w,value:C,offset:w})):a.domain().map((C,E)=>({coordinate:a(C)+w,value:c?c[C]:C,index:E,offset:w}))}},x$=ue([St,Tf,cd,nl,Y1,_f,X1,Z1,rn],Cle),Ele=(e,t,r,a,s,l,c)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var d=ci(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&a?.length>=2?Kn(a[0]-a[1])*2*m:m,d&&l?l.map((h,g)=>({coordinate:r(h)+m,value:h,index:g,offset:m})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,g)=>({coordinate:r(h)+m,value:s?s[h]:h,index:g,offset:m}))}},rl=ue([St,Tf,nl,_f,X1,Z1,rn],Ele),al=ue(sn,nl,(e,t)=>{if(!(e==null||t==null))return Zp(Zp({},e),{},{scale:t})}),Ale=ue([sn,cd,K1,c$],W1);ue((e,t,r)=>R1(e,r),Ale,(e,t)=>{if(!(e==null||t==null))return Zp(Zp({},e),{},{scale:t})});var Ple=ue([St,Yx,Qx],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),g$=e=>e.options.defaultTooltipEventType,v$=e=>e.options.validateTooltipEventTypes;function y$(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function J1(e,t){var r=g$(e),a=v$(e);return y$(t,r,a)}function Tle(e){return Fe(t=>J1(t,e))}var j$=(e,t)=>{var r,a=Number(t);if(!(Dr(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},Ole=e=>e.tooltip.settings,qi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kle={itemInteraction:{click:qi,hover:qi},axisInteraction:{click:qi,hover:qi},keyboardInteraction:qi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},b$=Ir({name:"tooltip",initialState:kle,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:tn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ba(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=a)},prepare:tn()},removeTooltipEntrySettings:{reducer(e,t){var r=Ba(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:tn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_le,replaceTooltipEntrySettings:Rle,removeTooltipEntrySettings:Mle,setTooltipSettingsState:Dle,setActiveMouseOverItemIndex:N$,mouseLeaveItem:Lle,mouseLeaveChart:w$,setActiveClickItemIndex:Ile,setMouseOverAxisIndex:S$,setMouseClickAxisIndex:$le,setSyncInteraction:bN,setKeyboardInteraction:NN}=b$.actions,Fle=b$.reducer;function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(a){zle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zle(e,t,r){return(t=Ble(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ble(e){var t=Ule(e,"string");return typeof t=="symbol"?t:t+""}function Ule(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hle(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function qle(e){return e.index!=null}var C$=(e,t,r,a)=>{if(t==null)return qi;var s=Hle(e,t,r);if(s==null)return qi;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(qle(s)){if(l)return Ph(Ph({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return Ph(Ph({},qi),{},{coordinate:s.coordinate})};function Vle(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Kle(e,t){var r=Vle(e),a=t[0],s=t[1];if(r===void 0)return!1;var l=Math.min(a,s),c=Math.max(a,s);return r>=l&&r<=c}function Wle(e,t,r){if(r==null||t==null)return!0;var a=Ht(e,t);return a==null||!tl(r)?!0:Kle(a,r)}var eS=(e,t,r,a)=>{var s=e?.index;if(s==null)return null;var l=Number(s);if(!Dt(l))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(c,Math.min(l,d)),m=t[f];return m==null||Wle(m,r,a)?String(f):null},E$=(e,t,r,a,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s?.[Number(l)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},A$=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Rf=e=>e.options.tooltipPayloadSearcher,dd=e=>e.tooltip;function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function u_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(a){Gle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gle(e,t,r){return(t=Yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yle(e){var t=Qle(e,"string");return typeof t=="symbol"?t:t+""}function Qle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xle(e,t){return e??t}var P$=(e,t,r,a,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,g=[];return e.reduce((v,y)=>{var w,{dataDefinedOnItem:j,settings:N}=y,C=Xle(j,d),E=Array.isArray(C)?dL(C,m,h):C,A=(w=N?.dataKey)!==null&&w!==void 0?w:a,P=N?.nameKey,k;if(a&&Array.isArray(E)&&!Array.isArray(E[0])&&c==="axis"?k=g3(E,a,s):k=l(E,t,f,P),Array.isArray(k))k.forEach(_=>{var L=u_(u_({},N),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});v.push(kO({tooltipEntrySettings:L,dataKey:_.dataKey,payload:_.payload,value:Ht(_.payload,_.dataKey),name:_.name}))});else{var T;v.push(kO({tooltipEntrySettings:N,dataKey:A,payload:k,value:Ht(k,A),name:(T=Ht(k,P))!==null&&T!==void 0?T:N?.name}))}return v},g)}},tS=ue([zn,St,YI,A1,Fn],l$),Zle=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Jle=ue([Fn,ld],M1),Mf=ue([Zle,zn,Jle],D1,{memoizeOptions:{resultEqualityCheck:pg}}),eoe=ue([Mf],e=>e.filter(mg)),toe=ue([Mf],L1,{memoizeOptions:{resultEqualityCheck:pg}}),ud=ue([toe,ml],I1),noe=ue([eoe,ml,zn],KI),nS=ue([ud,zn,Mf],F1),T$=ue([zn],z1),roe=ue([zn],e=>e.allowDataOverflow),O$=ue([T$,roe],wI),aoe=ue([Mf],e=>e.filter(mg)),soe=ue([noe,aoe,Af,FI],JI),ioe=ue([soe,ml,Fn,O$],e$),loe=ue([Mf],XI),ooe=ue([ud,zn,loe,vg,Fn],H1,{memoizeOptions:{resultEqualityCheck:hg}}),coe=ue([t$,Fn,ld],od),doe=ue([coe,Fn],a$),uoe=ue([n$,Fn,ld],od),foe=ue([uoe,Fn],s$),moe=ue([r$,Fn,ld],od),hoe=ue([moe,Fn],i$),poe=ue([doe,hoe,foe],Jp),xoe=ue([zn,T$,O$,ioe,ooe,poe,St,Fn],q1),Df=ue([zn,St,ud,nS,Af,Fn,xoe],V1),goe=ue([Df,zn,tS],G1),voe=ue([zn,Df,goe,Fn],Q1),k$=e=>{var t=Fn(e),r=ld(e),a=!1;return _f(e,t,r,a)},_$=ue([zn,k$],dg),R$=ue([zn,tS,voe,_$],W1),yoe=ue([St,nS,zn,Fn],h$),joe=ue([St,nS,zn,Fn],p$),boe=(e,t,r,a,s,l,c,d)=>{if(t){var{type:f}=t,m=ci(e,d);if(a){var h=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=f==="category"&&a.bandwidth?a.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&s?.length>=2?Kn(s[0]-s[1])*2*g:g,m&&c?c.map((v,y)=>({coordinate:a(v)+g,value:v,index:y,offset:g})):a.domain().map((v,y)=>({coordinate:a(v)+g,value:l?l[v]:v,index:y,offset:g}))}}},mi=ue([St,zn,tS,R$,k$,yoe,joe,Fn],boe),rS=ue([g$,v$,Ole],(e,t,r)=>y$(r.shared,e,t)),M$=e=>e.tooltip.settings.trigger,aS=e=>e.tooltip.settings.defaultIndex,Lf=ue([dd,rS,M$,aS],C$),sl=ue([Lf,ud,kf,Df],eS),D$=ue([mi,sl],j$),sS=ue([Lf],e=>{if(e)return e.dataKey}),Noe=ue([Lf],e=>{if(e)return e.graphicalItemId}),L$=ue([dd,rS,M$,aS],A$),woe=ue([di,ui,St,In,mi,aS,L$,Rf],E$),Soe=ue([Lf,woe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Coe=ue([Lf],e=>e.active),Eoe=ue([L$,sl,ml,kf,D$,Rf,rS],P$),Aoe=ue([Eoe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(a){Poe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Poe(e,t,r){return(t=Toe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Toe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var koe=()=>Fe(zn),_oe=()=>{var e=koe(),t=Fe(mi),r=Fe(R$);return kc(!e||!r?void 0:m_(m_({},e),{},{scale:r}),t)};function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(a){Roe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Roe(e,t,r){return(t=Moe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Moe(e){var t=Doe(e,"string");return typeof t=="symbol"?t:t+""}function Doe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Loe=(e,t,r,a)=>{var s=t.find(l=>l&&l.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},Ioe=(e,t,r,a)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="centric"){var l=s.coordinate,{radius:c}=a;return sc(sc(sc({},a),Tn(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=a;return sc(sc(sc({},a),Tn(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function $oe(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var I$=(e,t,r,a,s)=>{var l,c=-1,d=(l=t?.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?r[f-1].coordinate:r[d-1].coordinate,h=r[f].coordinate,g=f>=d-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(Kn(h-m)!==Kn(g-h)){var y=[];if(Kn(g-h)===Kn(s[1]-s[0])){v=g;var w=h+s[1]-s[0];y[0]=Math.min(w,(w+m)/2),y[1]=Math.max(w,(w+m)/2)}else{v=m;var j=g+s[1]-s[0];y[0]=Math.min(h,(j+h)/2),y[1]=Math.max(h,(j+h)/2)}var N=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>N[0]&&e<=N[1]||e>=y[0]&&e<=y[1]){({index:c}=r[f]);break}}else{var C=Math.min(m,g),E=Math.max(m,g);if(e>(C+h)/2&&e<=(E+h)/2){({index:c}=r[f]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:c}=t[A]);break}}return c},$$=()=>Fe(A1),iS=(e,t)=>t,F$=(e,t,r)=>r,lS=(e,t,r,a)=>a,Foe=ue(mi,e=>zx(e,t=>t.coordinate)),oS=ue([dd,iS,F$,lS],C$),cS=ue([oS,ud,kf,Df],eS),zoe=(e,t,r)=>{if(t!=null){var a=dd(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},z$=ue([dd,iS,F$,lS],A$),ex=ue([di,ui,St,In,mi,lS,z$,Rf],E$),Boe=ue([oS,ex],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),B$=ue([mi,cS],j$),Uoe=ue([z$,cS,ml,kf,B$,Rf,iS],P$),Hoe=ue([oS,cS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),qoe=(e,t,r,a,s,l,c)=>{if(!(!e||!r||!a||!s)&&$oe(e,c)){var d=ute(e,t),f=I$(d,l,s,r,a),m=Loe(t,s,f,e);return{activeIndex:String(f),activeCoordinate:m}}},Voe=(e,t,r,a,s,l,c)=>{if(!(!e||!a||!s||!l||!r)){var d=Pre(e,r);if(d){var f=fte(d,t),m=I$(f,c,l,a,s),h=Ioe(t,l,m,d);return{activeIndex:String(m),activeCoordinate:h}}}},Koe=(e,t,r,a,s,l,c,d)=>{if(!(!e||!t||!a||!s||!l))return t==="horizontal"||t==="vertical"?qoe(e,t,a,s,l,c,d):Voe(e,t,r,a,s,l,c)},Woe=ue(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElementId:a.elementId}}),Goe=ue(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(yn)),r=Array.from(new Set(t));return r.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:kie}});function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function x_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(a){Yoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yoe(e,t,r){return(t=Qoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qoe(e){var t=Xoe(e,"string");return typeof t=="symbol"?t:t+""}function Xoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zoe={},Joe={zIndexMap:Object.values(yn).reduce((e,t)=>x_(x_({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Zoe)},ece=new Set(Object.values(yn));function tce(e){return ece.has(e)}var U$=Ir({name:"zIndex",initialState:Joe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:tn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!tce(r)&&delete e.zIndexMap[r])},prepare:tn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:a,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=a:e.zIndexMap[r].elementId=a:e.zIndexMap[r]={consumers:0,elementId:s?void 0:a,panoramaElementId:s?a:void 0}},prepare:tn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:tn()}}}),{registerZIndexPortal:nce,unregisterZIndexPortal:rce,registerZIndexPortalId:ace,unregisterZIndexPortalId:sce}=U$.actions,ice=U$.reducer;function vr(e){var{zIndex:t,children:r}=e,a=qte(),s=a&&t!==void 0&&t!==0,l=ar(),c=Vt();p.useLayoutEffect(()=>s?(c(nce({zIndex:t})),()=>{c(rce({zIndex:t}))}):ff,[c,t,s]);var d=Fe(m=>Woe(m,t,l));if(!s)return r;if(!d)return null;var f=document.getElementById(d);return f?ms.createPortal(r,f):null}function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wN.apply(null,arguments)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(a){lce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lce(e,t,r){return(t=oce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oce(e){var t=cce(e,"string");return typeof t=="symbol"?t:t+""}function cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dce(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return p.isValidElement(t)?p.cloneElement(t,a):p.createElement(r,a)}function uce(e){var t,{coordinate:r,payload:a,index:s,offset:l,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:m,chartName:h}=e,g=r,v=a,y=s;if(!f||!g||h!=="ScatterChart"&&m!=="axis")return null;var w,j,N;if(h==="ScatterChart")w=g,j=Hne,N=yn.cursorLine;else if(h==="BarChart")w=qne(d,g,l,c),j=IL,N=yn.cursorRectangle;else if(d==="radial"&&y3(g)){var{cx:C,cy:E,radius:A,startAngle:P,endAngle:k}=FL(g);w={cx:C,cy:E,startAngle:P,endAngle:k,innerRadius:A,outerRadius:A},j=BL,N=yn.cursorLine}else w={points:_re(d,g,l)},j=gc,N=yn.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,_=Th(Th(Th(Th({stroke:"#ccc",pointerEvents:"none"},l),w),to(f)),{},{payload:v,payloadIndex:y,className:wt("recharts-tooltip-cursor",T)});return p.createElement(vr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:N},p.createElement(dce,{cursor:f,cursorComp:j,cursorProps:_}))}function fce(e){var t=_oe(),r=bL(),a=nd(),s=$$();return t==null||r==null||a==null||s==null?null:p.createElement(uce,wN({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var H$=p.createContext(null),mce=()=>p.useContext(H$),Ij={exports:{}},v_;function hce(){return v_||(v_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,g||f,v),w=r?r+m:m;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],y]:f._events[w].push(y):(f._events[w]=y,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new a:delete f._events[m]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,g;if(this._eventsCount===0)return m;for(g in h=this._events)t.call(h,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=r?r+m:m,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,w=new Array(y);v<y;v++)w[v]=g[v].fn;return w},d.prototype.listenerCount=function(m){var h=r?r+m:m,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,h,g,v,y,w){var j=r?r+m:m;if(!this._events[j])return!1;var N=this._events[j],C=arguments.length,E,A;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),C){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,h),!0;case 3:return N.fn.call(N.context,h,g),!0;case 4:return N.fn.call(N.context,h,g,v),!0;case 5:return N.fn.call(N.context,h,g,v,y),!0;case 6:return N.fn.call(N.context,h,g,v,y,w),!0}for(A=1,E=new Array(C-1);A<C;A++)E[A-1]=arguments[A];N.fn.apply(N.context,E)}else{var P=N.length,k;for(A=0;A<P;A++)switch(N[A].once&&this.removeListener(m,N[A].fn,void 0,!0),C){case 1:N[A].fn.call(N[A].context);break;case 2:N[A].fn.call(N[A].context,h);break;case 3:N[A].fn.call(N[A].context,h,g);break;case 4:N[A].fn.call(N[A].context,h,g,v);break;default:if(!E)for(k=1,E=new Array(C-1);k<C;k++)E[k-1]=arguments[k];N[A].fn.apply(N[A].context,E)}}return!0},d.prototype.on=function(m,h,g){return l(this,m,h,g,!1)},d.prototype.once=function(m,h,g){return l(this,m,h,g,!0)},d.prototype.removeListener=function(m,h,g,v){var y=r?r+m:m;if(!this._events[y])return this;if(!h)return c(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!v||w.once)&&(!g||w.context===g)&&c(this,y);else{for(var j=0,N=[],C=w.length;j<C;j++)(w[j].fn!==h||v&&!w[j].once||g&&w[j].context!==g)&&N.push(w[j]);N.length?this._events[y]=N.length===1?N[0]:N:c(this,y)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Ij)),Ij.exports}var pce=hce();const xce=fs(pce);var Xu=new xce,SN="recharts.syncEvent.tooltip",y_="recharts.syncEvent.brush";function dS(e,t){if(t){var r=Number.parseInt(t,10);if(!Dr(r))return e?.[r]}}var gce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},q$=Ir({name:"options",initialState:gce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vce=q$.reducer,{createEventEmitter:yce}=q$.actions;function jce(e){return e.tooltip.syncInteraction}var bce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V$=Ir({name:"chartData",initialState:bce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:j_,setDataStartEndIndexes:Nce,setComputedData:Bje}=V$.actions,wce=V$.reducer,Sce=["x","y"];function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(a){Cce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cce(e,t,r){return(t=Ece(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ece(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pce(e,t){if(e==null)return{};var r,a,s=Tce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Tce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Oce(){var e=Fe(P1),t=Fe(T1),r=Vt(),a=Fe(zI),s=Fe(mi),l=nd(),c=vf(),d=Fe(f=>f.rootProps.className);p.useEffect(()=>{if(e==null)return ff;var f=(m,h,g)=>{if(t!==g&&e===m){if(a==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:w,y:j}=y,N=Pce(y,Sce),{x:C,y:E,width:A,height:P}=h.payload.sourceViewBox,k=ic(ic({},N),{},{x:c.x+(A?(w-C)/A:0)*c.width,y:c.y+(P?(j-E)/P:0)*c.height});r(ic(ic({},h),{},{payload:ic(ic({},h.payload),{},{coordinate:k})}))}else r(h);return}if(s!=null){var T;if(typeof a=="function"){var _={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},L=a(s,_);T=s[L]}else a==="value"&&(T=s.find(B=>String(B.value)===h.payload.label));var{coordinate:X}=h.payload;if(T==null||h.payload.active===!1||X==null||c==null){r(bN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:R}=X,K=Math.min(I,c.x+c.width),ye=Math.min(R,c.y+c.height),W={x:l==="horizontal"?T.coordinate:K,y:l==="horizontal"?ye:T.coordinate},ee=bN({active:h.payload.active,coordinate:W,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(ee)}}};return Xu.on(SN,f),()=>{Xu.off(SN,f)}},[d,r,t,e,a,s,l,c])}function kce(){var e=Fe(P1),t=Fe(T1),r=Vt();p.useEffect(()=>{if(e==null)return ff;var a=(s,l,c)=>{t!==c&&e===s&&r(Nce(l))};return Xu.on(y_,a),()=>{Xu.off(y_,a)}},[r,t,e])}function _ce(){var e=Vt();p.useEffect(()=>{e(yce())},[e]),Oce(),kce()}function Rce(e,t,r,a,s,l){var c=Fe(y=>zoe(y,e,t)),d=Fe(T1),f=Fe(P1),m=Fe(zI),h=Fe(jce),g=h?.active,v=vf();p.useEffect(()=>{if(!g&&f!=null&&d!=null){var y=bN({active:l,coordinate:r,dataKey:c,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:v,graphicalItemId:void 0});Xu.emit(SN,f,y,d)}},[g,r,c,s,a,d,f,m,l,v])}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(a){Mce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mce(e,t,r){return(t=Dce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dce(e){var t=Lce(e,"string");return typeof t=="symbol"?t:t+""}function Lce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ice(e){return e.dataKey}function $ce(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(Nne,t)}var S_=[],Fce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bg(e){var t,r,a=bn(e,Fce),{active:s,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:f,filterNull:m,isAnimationActive:h,offset:g,payloadUniqBy:v,position:y,reverseDirection:w,useTranslate3d:j,wrapperStyle:N,cursor:C,shared:E,trigger:A,defaultIndex:P,portal:k,axisId:T}=a,_=Vt(),L=typeof P=="number"?String(P):P;p.useEffect(()=>{_(Dle({shared:E,trigger:A,axisId:T,active:s,defaultIndex:L}))},[_,E,A,T,s,L]);var X=vf(),I=_L(),R=Tle(E),{activeIndex:K,isActive:ye}=(t=Fe(F=>Hoe(F,R,A,L)))!==null&&t!==void 0?t:{},W=Fe(F=>Uoe(F,R,A,L)),ee=Fe(F=>B$(F,R,A,L)),B=Fe(F=>Boe(F,R,A,L)),Z=W,$=mce(),fe=(r=s??ye)!==null&&r!==void 0?r:!1,[pe,M]=M3([Z,fe]),te=R==="axis"?ee:void 0;Rce(R,A,B,te,K,fe);var me=k??$;if(me==null||X==null||R==null)return null;var Ne=Z??S_;fe||(Ne=S_),m&&Ne.length&&(Ne=T3(Ne.filter(F=>F.value!=null&&(F.hide!==!0||a.includeHidden)),v,Ice));var le=Ne.length>0,Ie=p.createElement(Tne,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:h,active:fe,coordinate:B,hasPayload:le,offset:g,position:y,reverseDirection:w,useTranslate3d:j,viewBox:X,wrapperStyle:N,lastBoundingBox:pe,innerRef:M,hasPortalFromProps:!!k},$ce(f,w_(w_({},a),{},{payload:Ne,label:te,active:fe,activeIndex:K,coordinate:B,accessibilityLayer:I})));return p.createElement(p.Fragment,null,ms.createPortal(Ie,me),fe&&p.createElement(fce,{cursor:C,tooltipEventType:R,coordinate:B,payload:Ne,index:K}))}var ii=e=>null;ii.displayName="Cell";function zce(e,t,r){return(t=Bce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bce(e){var t=Uce(e,"string");return typeof t=="symbol"?t:t+""}function Uce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hce{constructor(t){zce(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(a){Vce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vce(e,t,r){return(t=Kce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kce(e){var t=Wce(e,"string");return typeof t=="symbol"?t:t+""}function Wce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gce={cacheSize:2e3,enableCache:!0},K$=qce({},Gce),E_=new Hce(K$.cacheSize),Yce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A_="recharts_measurement_span";function Qce(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var P_=(e,t)=>{try{var r=document.getElementById(A_);r||(r=document.createElement("span"),r.setAttribute("id",A_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Yce,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Eu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rd.isSsr)return{width:0,height:0};if(!K$.enableCache)return P_(t,r);var a=Qce(t,r),s=E_.get(a);if(s)return s;var l=P_(t,r);return E_.set(a,l),l},T_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jce=Object.keys(W$),dc="NaN";function ede(e,t){return e*W$[t]}class Ar{static parse(t){var r,[,a,s]=(r=Zce.exec(t))!==null&&r!==void 0?r:[];return new Ar(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Dr(t)&&(this.unit=""),r!==""&&!Xce.test(r)&&(this.num=NaN,this.unit=""),Jce.includes(r)&&(this.num=ede(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dr(this.num)}}function G$(e){if(e.includes(dc))return dc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,l]=(r=T_.exec(t))!==null&&r!==void 0?r:[],c=Ar.parse(a??""),d=Ar.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return dc;t=t.replace(T_,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,g,v]=(m=O_.exec(t))!==null&&m!==void 0?m:[],y=Ar.parse(h??""),w=Ar.parse(v??""),j=g==="+"?y.add(w):y.subtract(w);if(j.isNaN())return dc;t=t.replace(O_,j.toString())}return t}var k_=/\(([^()]*)\)/;function tde(e){for(var t=e,r;(r=k_.exec(t))!=null;){var[,a]=r;t=t.replace(k_,G$(a))}return t}function nde(e){var t=e.replace(/\s+/g,"");return t=tde(t),t=G$(t),t}function rde(e){try{return nde(e)}catch{return dc}}function $j(e){var t=rde(e.slice(5,-1));return t===dc?"":t}var ade=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sde=["dx","dy","angle","className","breakAll"];function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},CN.apply(null,arguments)}function __(e,t){if(e==null)return{};var r,a,s=ide(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ide(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Y$=/[ \f\n\r\t\v\u2028\u2029]+/,Q$=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];an(t)||(r?s=t.toString().split(""):s=t.toString().split(Y$));var l=s.map(d=>({word:d,width:Eu(d,a).width})),c=r?0:Eu("",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function lde(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var X$=(e,t,r,a)=>e.reduce((s,l)=>{var{word:c,width:d}=l,f=s[s.length-1];if(f&&d!=null&&(t==null||a||f.width+d+r<Number(t)))f.words.push(c),f.width+=d+r;else{var m={words:[c],width:d};s.push(m)}return s},[]),Z$=e=>e.reduce((t,r)=>t.width>r.width?t:r),ode="",R_=(e,t,r,a,s,l,c,d)=>{var f=e.slice(0,t),m=Q$({breakAll:r,style:a,children:f+ode});if(!m)return[!1,[]];var h=X$(m.wordsWithComputedWidth,l,c,d),g=h.length>s||Z$(h).width>Number(l);return[g,h]},cde=(e,t,r,a,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=Be(l),h=String(c),g=X$(t,a,r,s);if(!m||s)return g;var v=g.length>l||Z$(g).width>Number(a);if(!v)return g;for(var y=0,w=h.length-1,j=0,N;y<=w&&j<=h.length-1;){var C=Math.floor((y+w)/2),E=C-1,[A,P]=R_(h,E,f,d,l,a,r,s),[k]=R_(h,C,f,d,l,a,r,s);if(!A&&!k&&(y=C+1),A&&k&&(w=C-1),!A&&k){N=P;break}j++}return N||g},M_=e=>{var t=an(e)?[]:e.toString().split(Y$);return[{words:t,width:void 0}]},dde=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:l,maxLines:c}=e;if((t||r)&&!rd.isSsr){var d,f,m=Q$({breakAll:l,children:a,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:g}=m;d=h,f=g}else return M_(a);return cde({breakAll:l,children:a,maxLines:c,style:s},d,f,t,!!r)}return M_(a)},J$="#808080",ude={angle:0,breakAll:!1,capHeight:"0.71em",fill:J$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ng=p.forwardRef((e,t)=>{var r=bn(e,ude),{x:a,y:s,lineHeight:l,capHeight:c,fill:d,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,g=__(r,ade),v=p.useMemo(()=>dde({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:y,dy:w,angle:j,className:N,breakAll:C}=g,E=__(g,sde);if(!Aa(a)||!Aa(s)||v.length===0)return null;var A=Number(a)+(Be(y)?y:0),P=Number(s)+(Be(w)?w:0);if(!Dt(A)||!Dt(P))return null;var k;switch(h){case"start":k=$j("calc(".concat(c,")"));break;case"middle":k=$j("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:k=$j("calc(".concat(v.length-1," * -").concat(l,")"));break}var T=[];if(f){var _=v[0].width,{width:L}=g;T.push("scale(".concat(Be(L)&&Be(_)?L/_:1,")"))}return j&&T.push("rotate(".concat(j,", ").concat(A,", ").concat(P,")")),T.length&&(E.transform=T.join(" ")),p.createElement("text",CN({},cr(E),{ref:t,x:A,y:P,className:wt("recharts-text",N),textAnchor:m,fill:d.includes("url")?J$:d}),v.map((X,I)=>{var R=X.words.join(C?"":" ");return p.createElement("tspan",{x:A,dy:I===0?k:l,key:"".concat(R,"-").concat(I)},R)}))});Ng.displayName="Text";var fde=["labelRef"];function mde(e,t){if(e==null)return{};var r,a,s=hde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(a){pde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pde(e,t,r){return(t=xde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xde(e){var t=gde(e,"string");return typeof t=="symbol"?t:t+""}function gde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Us.apply(null,arguments)}var e6=p.createContext(null),t6=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:s,width:l,height:c,children:d}=e,f=p.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:s,width:l,height:c}),[t,r,a,s,l,c]);return p.createElement(e6.Provider,{value:f},d)},n6=()=>{var e=p.useContext(e6),t=vf();return e||jL(t)},vde=p.createContext(null),yde=()=>{var e=p.useContext(vde),t=Fe(VI);return e||t},jde=e=>{var{value:t,formatter:r}=e,a=an(e.children)?t:e.children;return typeof r=="function"?r(a):a},uS=e=>e!=null&&typeof e=="function",bde=(e,t)=>{var r=Kn(t-e),a=Math.min(Math.abs(t-e),360);return r*a},Nde=(e,t,r,a,s)=>{var{offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:g,endAngle:v,clockWise:y}=s,w=(m+h)/2,j=bde(g,v),N=j>=0?1:-1,C,E;switch(t){case"insideStart":C=g+N*l,E=y;break;case"insideEnd":C=v-N*l,E=!y;break;case"end":C=v+N*l,E=y;break;default:throw new Error("Unsupported position ".concat(t))}E=j<=0?E:!E;var A=Tn(d,f,w,C),P=Tn(d,f,w,C+(E?1:-1)*359),k="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(P.x,",").concat(P.y),T=an(e.id)?Lu("recharts-radial-line-"):e.id;return p.createElement("text",Us({},a,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",c)}),p.createElement("defs",null,p.createElement("path",{id:T,d:k})),p.createElement("textPath",{xlinkHref:"#".concat(T)},r))},wde=(e,t,r)=>{var{cx:a,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(r==="outside"){var{x:h,y:g}=Tn(a,s,c+t,m);return{x:h,y:g,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:y,y:w}=Tn(a,s,v,m);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},EN=e=>"cx"in e&&Be(e.cx),Sde=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,l;r!=null&&!EN(r)&&(l=r);var{x:c,y:d,upperWidth:f,lowerWidth:m,height:h}=t,g=c,v=c+(f-m)/2,y=(g+v)/2,w=(f+m)/2,j=g+f/2,N=h>=0?1:-1,C=N*a,E=N>0?"end":"start",A=N>0?"start":"end",P=f>=0?1:-1,k=P*a,T=P>0?"end":"start",_=P>0?"start":"end";if(s==="top"){var L={x:g+f/2,y:d-C,textAnchor:"middle",verticalAnchor:E};return xn(xn({},L),l?{height:Math.max(d-l.y,0),width:f}:{})}if(s==="bottom"){var X={x:v+m/2,y:d+h+C,textAnchor:"middle",verticalAnchor:A};return xn(xn({},X),l?{height:Math.max(l.y+l.height-(d+h),0),width:m}:{})}if(s==="left"){var I={x:y-k,y:d+h/2,textAnchor:T,verticalAnchor:"middle"};return xn(xn({},I),l?{width:Math.max(I.x-l.x,0),height:h}:{})}if(s==="right"){var R={x:y+w+k,y:d+h/2,textAnchor:_,verticalAnchor:"middle"};return xn(xn({},R),l?{width:Math.max(l.x+l.width-R.x,0),height:h}:{})}var K=l?{width:w,height:h}:{};return s==="insideLeft"?xn({x:y+k,y:d+h/2,textAnchor:_,verticalAnchor:"middle"},K):s==="insideRight"?xn({x:y+w-k,y:d+h/2,textAnchor:T,verticalAnchor:"middle"},K):s==="insideTop"?xn({x:g+f/2,y:d+C,textAnchor:"middle",verticalAnchor:A},K):s==="insideBottom"?xn({x:v+m/2,y:d+h-C,textAnchor:"middle",verticalAnchor:E},K):s==="insideTopLeft"?xn({x:g+k,y:d+C,textAnchor:_,verticalAnchor:A},K):s==="insideTopRight"?xn({x:g+f-k,y:d+C,textAnchor:T,verticalAnchor:A},K):s==="insideBottomLeft"?xn({x:v+k,y:d+h-C,textAnchor:_,verticalAnchor:E},K):s==="insideBottomRight"?xn({x:v+m-k,y:d+h-C,textAnchor:T,verticalAnchor:E},K):s&&typeof s=="object"&&(Be(s.x)||ei(s.x))&&(Be(s.y)||ei(s.y))?xn({x:c+or(s.x,w),y:d+or(s.y,h),textAnchor:"end",verticalAnchor:"end"},K):xn({x:j,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},K)},Cde={angle:0,offset:5,zIndex:yn.label,position:"middle",textBreakAll:!1};function Ui(e){var t=bn(e,Cde),{viewBox:r,position:a,value:s,children:l,content:c,className:d="",textBreakAll:f,labelRef:m}=t,h=yde(),g=n6(),v=a==="center"?g:h??g,y,w,j;if(r==null?y=v:EN(r)?y=r:y=jL(r),!y||an(s)&&an(l)&&!p.isValidElement(c)&&typeof c!="function")return null;var N=xn(xn({},t),{},{viewBox:y});if(p.isValidElement(c)){var{labelRef:C}=N,E=mde(N,fde);return p.cloneElement(c,E)}if(typeof c=="function"){if(w=p.createElement(c,N),p.isValidElement(w))return w}else w=jde(t);var A=cr(t);if(EN(y)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Nde(t,a,w,A,y);j=wde(y,t.offset,t.position)}else j=Sde(t,y);return p.createElement(vr,{zIndex:t.zIndex},p.createElement(Ng,Us({ref:m,className:wt("recharts-label",d)},A,j,{textAnchor:lde(A.textAnchor)?A.textAnchor:j.textAnchor,breakAll:f}),w))}Ui.displayName="Label";var Ede=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?p.createElement(Ui,Us({key:"label-implicit"},a)):Aa(e)?p.createElement(Ui,Us({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===Ui?p.cloneElement(e,xn({key:"label-implicit"},a)):p.createElement(Ui,Us({key:"label-implicit",content:e},a)):uS(e)?p.createElement(Ui,Us({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(Ui,Us({},e,{key:"label-implicit"},a)):null};function r6(e){var{label:t,labelRef:r}=e,a=n6();return Ede(t,a,r)||null}var Fj={},zj={},L_;function Ade(){return L_||(L_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(zj)),zj}var Bj={},I_;function Pde(){return I_||(I_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Bj)),Bj}var $_;function Tde(){return $_||($_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ade(),r=Pde(),a=Fw();function s(l){if(a.isArrayLike(l))return t.last(r.toArray(l))}e.last=s})(Fj)),Fj}var Uj,F_;function Ode(){return F_||(F_=1,Uj=Tde().last),Uj}var kde=Ode();const _de=fs(kde);var Rde=["valueAccessor"],Mde=["dataKey","clockWise","id","textBreakAll","zIndex"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tx.apply(null,arguments)}function z_(e,t){if(e==null)return{};var r,a,s=Dde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Dde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Lde=e=>Array.isArray(e.value)?_de(e.value):e.value,a6=p.createContext(void 0),s6=a6.Provider,i6=p.createContext(void 0),Ide=i6.Provider;function $de(){return p.useContext(a6)}function Fde(){return p.useContext(i6)}function Qh(e){var{valueAccessor:t=Lde}=e,r=z_(e,Rde),{dataKey:a,clockWise:s,id:l,textBreakAll:c,zIndex:d}=r,f=z_(r,Mde),m=$de(),h=Fde(),g=m||h;return!g||!g.length?null:p.createElement(vr,{zIndex:d??yn.label},p.createElement(fn,{className:"recharts-label-list"},g.map((v,y)=>{var w,j=an(a)?t(v,y):Ht(v&&v.payload,a),N=an(l)?{}:{id:"".concat(l,"-").concat(y)};return p.createElement(Ui,tx({key:"label-".concat(y)},cr(v),f,N,{fill:(w=r.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:j,textBreakAll:c,viewBox:v.viewBox,index:y,zIndex:0}))})))}Qh.displayName="LabelList";function fS(e){var{label:t}=e;return t?t===!0?p.createElement(Qh,{key:"labelList-implicit"}):p.isValidElement(t)||uS(t)?p.createElement(Qh,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Qh,tx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},AN.apply(null,arguments)}var l6=e=>{var{cx:t,cy:r,r:a,className:s}=e,l=wt("recharts-dot",s);return Be(t)&&Be(r)&&Be(a)?p.createElement("circle",AN({},Mr(e),$w(e),{className:l,cx:t,cy:r,r:a})):null},o6=e=>e.graphicalItems.polarItems,zde=ue([rn,Pf],M1),wg=ue([o6,sn,zde],D1),Bde=ue([wg],L1),Sg=ue([Bde,S1],I1),Ude=ue([Sg,sn,wg],F1);ue([Sg,sn,wg],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var l,c=Ht(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Ht(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var B_=()=>{},Hde=ue([Sg,sn,wg,vg,rn],H1),qde=ue([sn,B1,U1,B_,Hde,B_,St,rn],q1),c6=ue([sn,St,Sg,Ude,Af,rn,qde],V1),Vde=ue([c6,sn,cd],G1);ue([sn,c6,Vde,rn],Q1);var Kde={radiusAxis:{},angleAxis:{}},d6=Ir({name:"polarAxis",initialState:Kde,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Uje,removeRadiusAxis:Hje,addAngleAxis:qje,removeAngleAxis:Vje}=d6.actions,Wde=d6.reducer;function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function H_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(a){Gde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gde(e,t,r){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yde(e){var t=Qde(e,"string");return typeof t=="symbol"?t:t+""}function Qde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xde=(e,t)=>t,mS=ue([o6,Xde],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Zde=[],hS=(e,t,r)=>r?.length===0?Zde:r,u6=ue([S1,mS,hS],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(l=>H_(H_({},t.presentationProps),l.props))),s!=null)return s}}),Jde=ue([u6,mS,hS],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var l,c=Ht(a,t.nameKey,t.name),d;return r!=null&&(l=r[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:td(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),eue=ue([u6,mS,hS,In],(e,t,r,a)=>{if(!(t==null||e==null))return tfe({offset:a,pieSettings:t,displayedData:e,cells:r})}),Hj={exports:{}},zt={};var q_;function tue(){if(q_)return zt;q_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var N=j.$$typeof;switch(N){case e:switch(j=j.type,j){case r:case s:case a:case f:case m:case v:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case g:case h:return j;case l:return j;default:return N}}case t:return N}}}return zt.ContextConsumer=l,zt.ContextProvider=c,zt.Element=e,zt.ForwardRef=d,zt.Fragment=r,zt.Lazy=g,zt.Memo=h,zt.Portal=t,zt.Profiler=s,zt.StrictMode=a,zt.Suspense=f,zt.SuspenseList=m,zt.isContextConsumer=function(j){return w(j)===l},zt.isContextProvider=function(j){return w(j)===c},zt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},zt.isForwardRef=function(j){return w(j)===d},zt.isFragment=function(j){return w(j)===r},zt.isLazy=function(j){return w(j)===g},zt.isMemo=function(j){return w(j)===h},zt.isPortal=function(j){return w(j)===t},zt.isProfiler=function(j){return w(j)===s},zt.isStrictMode=function(j){return w(j)===a},zt.isSuspense=function(j){return w(j)===f},zt.isSuspenseList=function(j){return w(j)===m},zt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===s||j===a||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===h||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===y||j.getModuleId!==void 0)},zt.typeOf=w,zt}var V_;function nue(){return V_||(V_=1,Hj.exports=tue()),Hj.exports}var rue=nue(),K_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",W_=null,qj=null,f6=e=>{if(e===W_&&Array.isArray(qj))return qj;var t=[];return p.Children.forEach(e,r=>{an(r)||(rue.isFragment(r)?t=t.concat(f6(r.props.children)):t.push(r))}),qj=t,W_=e,t};function pS(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>K_(s)):a=[K_(t)],f6(e).forEach(s=>{var l=no(s,"type.displayName")||no(s,"type.name");l&&a.indexOf(l)!==-1&&r.push(s)}),r}var m6=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Vj={},G_;function aue(){return G_||(G_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(Vj)),Vj}var Kj,Y_;function sue(){return Y_||(Y_=1,Kj=aue().isPlainObject),Kj}var iue=sue();const lue=fs(iue);function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(a){oue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oue(e,t,r){return(t=cue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cue(e){var t=due(e,"string");return typeof t=="symbol"?t:t+""}function due(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nx.apply(null,arguments)}var Z_=(e,t,r,a,s)=>{var l=r-a,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-l/2,",").concat(t+s),c+="L ".concat(e+r-l/2-a,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},uue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fue=e=>{var t=bn(e,uue),{x:r,y:a,upperWidth:s,lowerWidth:l,height:c,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:g}=t,v=p.useRef(null),[y,w]=p.useState(-1),j=p.useRef(s),N=p.useRef(l),C=p.useRef(c),E=p.useRef(r),A=p.useRef(a),P=Nf(e,"trapezoid-");if(p.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var W=v.current.getTotalLength();W&&w(W)}catch{}},[]),r!==+r||a!==+a||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var k=wt("recharts-trapezoid",d);if(!g)return p.createElement("g",null,p.createElement("path",nx({},cr(t),{className:k,d:Z_(r,a,s,l,c)})));var T=j.current,_=N.current,L=C.current,X=E.current,I=A.current,R="0px ".concat(y===-1?1:y,"px"),K="".concat(y,"px 0px"),ye=RL(["strokeDasharray"],m,f);return p.createElement(bf,{animationId:P,key:P,canBegin:y>0,duration:m,easing:f,isActive:g,begin:h},W=>{var ee=Xt(T,s,W),B=Xt(_,l,W),Z=Xt(L,c,W),$=Xt(X,r,W),fe=Xt(I,a,W);v.current&&(j.current=ee,N.current=B,C.current=Z,E.current=$,A.current=fe);var pe=W>0?{transition:ye,strokeDasharray:K}:{strokeDasharray:R};return p.createElement("path",nx({},cr(t),{className:k,d:Z_($,fe,ee,B,Z),ref:v,style:X_(X_({},pe),t.style)}))})},mue=["option","shapeType","propTransformer","activeClassName"];function hue(e,t){if(e==null)return{};var r,a,s=pue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(a){xue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xue(e,t,r){return(t=gue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gue(e){var t=vue(e,"string");return typeof t=="symbol"?t:t+""}function vue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yue(e,t){return rx(rx({},t),e)}function jue(e,t){return e==="symbols"}function eR(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(IL,r);case"trapezoid":return p.createElement(fue,r);case"sector":return p.createElement(BL,r);case"symbols":if(jue(t))return p.createElement(Iw,r);break;case"curve":return p.createElement(gc,r);default:return null}}function bue(e){return p.isValidElement(e)?e.props:e}function h6(e){var{option:t,shapeType:r,propTransformer:a=yue,activeClassName:s="recharts-active-shape"}=e,l=hue(e,mue),c;if(p.isValidElement(t))c=p.cloneElement(t,rx(rx({},l),bue(t)));else if(typeof t=="function")c=t(l,l.index);else if(lue(t)&&typeof t!="boolean"){var d=a(t,l);c=p.createElement(eR,{shapeType:r,elementProps:d})}else{var f=l;c=p.createElement(eR,{shapeType:r,elementProps:f})}return l.isActive?p.createElement(fn,{className:s},c):c}var xS=(e,t,r)=>{var a=Vt();return(s,l)=>c=>{e?.(s,l,c),a(N$({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},gS=e=>{var t=Vt();return(r,a)=>s=>{e?.(r,a,s),t(Lle())}},vS=(e,t,r)=>{var a=Vt();return(s,l)=>c=>{e?.(s,l,c),a(Ile({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function yS(e){var{tooltipEntrySettings:t}=e,r=Vt(),a=ar(),s=p.useRef(null);return p.useLayoutEffect(()=>{a||(s.current===null?r(_le(t)):s.current!==t&&r(Rle({prev:s.current,next:t})),s.current=t)},[t,r,a]),p.useLayoutEffect(()=>()=>{s.current&&(r(Mle(s.current)),s.current=null)},[r]),null}function p6(e){var{legendPayload:t}=e,r=Vt(),a=ar(),s=p.useRef(null);return p.useLayoutEffect(()=>{a||(s.current===null?r(TL(t)):s.current!==t&&r(OL({prev:s.current,next:t})),s.current=t)},[r,a,t]),p.useLayoutEffect(()=>()=>{s.current&&(r(kL(s.current)),s.current=null)},[r]),null}function Nue(e){var{legendPayload:t}=e,r=Vt(),a=Fe(St),s=p.useRef(null);return p.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(s.current===null?r(TL(t)):s.current!==t&&r(OL({prev:s.current,next:t})),s.current=t)},[r,a,t]),p.useLayoutEffect(()=>()=>{s.current&&(r(kL(s.current)),s.current=null)},[r]),null}var Wj,wue=()=>{var[e]=p.useState(()=>Lu("uid-"));return e},Sue=(Wj=ef.useId)!==null&&Wj!==void 0?Wj:wue;function x6(e,t){var r=Sue();return t||(e?"".concat(e,"-").concat(r):r)}var Cue=p.createContext(void 0),jS=e=>{var{id:t,type:r,children:a}=e,s=x6("recharts-".concat(r),t);return p.createElement(Cue.Provider,{value:s},a(s))},Eue={cartesianItems:[],polarItems:[]},g6=Ir({name:"graphicalItems",initialState:Eue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:tn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ba(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},prepare:tn()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ba(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:tn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:tn()},removePolarGraphicalItem:{reducer(e,t){var r=Ba(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:tn()}}}),{addCartesianGraphicalItem:Aue,replaceCartesianGraphicalItem:Pue,removeCartesianGraphicalItem:Tue,addPolarGraphicalItem:Oue,removePolarGraphicalItem:kue}=g6.actions,_ue=g6.reducer,Rue=e=>{var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(Aue(e)):r.current!==e&&t(Pue({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(Tue(r.current)),r.current=null)},[t]),null},v6=p.memo(Rue);function Mue(e){var t=Vt();return p.useLayoutEffect(()=>(t(Oue(e)),()=>{t(kue(e))}),[t,e]),null}var Due=["key"],Lue=["onMouseEnter","onClick","onMouseLeave"],Iue=["id"],$ue=["id"];function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(a){Fue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Fue(e,t,r){return(t=zue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zue(e){var t=Bue(e,"string");return typeof t=="symbol"?t:t+""}function Bue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},il.apply(null,arguments)}function Cg(e,t){if(e==null)return{};var r,a,s=Uue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Uue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Hue(e){var t=p.useMemo(()=>pS(e.children,ii),[e.children]),r=Fe(a=>Jde(a,e.id,t));return r==null?null:p.createElement(Nue,{legendPayload:r})}var que=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e,h={dataDefinedOnItem:a.map(g=>g.tooltipPayload),positions:a.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:td(d,t),hide:f,type:m,color:c,unit:""}};return p.createElement(yS,{tooltipEntrySettings:h})}),Vue=(e,t)=>e>t?"start":e<t?"end":"middle",Kue=(e,t,r)=>or(typeof t=="function"?t(e):t,r,r*.8),Wue=(e,t,r)=>{var{top:a,left:s,width:l,height:c}=t,d=$L(l,c),f=s+or(e.cx,l,l/2),m=a+or(e.cy,c,c/2),h=or(e.innerRadius,d,0),g=Kue(r,e.outerRadius,d),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:g,maxRadius:v}},Gue=(e,t)=>{var r=Kn(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function Yue(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Que=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=wt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,s=Cg(t,Due);return p.createElement(gc,il({},s,{type:"linear",className:r}))},Xue=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),p.isValidElement(a)))return a;var s=wt("recharts-pie-label-text",Yue(e));return p.createElement(Ng,il({},t,{alignmentBaseline:"middle",className:s}),a)};function Zue(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:l,dataKey:c}=r;if(!a||!s||!t)return null;var d=Mr(r),f=to(s),m=to(l),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=t.map((v,y)=>{var w=(v.startAngle+v.endAngle)/2,j=Tn(v.cx,v.cy,v.outerRadius+h,w),N=dn(dn(dn(dn({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:Vue(j.x,v.cx)},j),C=dn(dn(dn(dn({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[Tn(v.cx,v.cy,v.outerRadius,w),j],key:"line"});return p.createElement(vr,{zIndex:yn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},p.createElement(fn,null,l&&Que(l,C),Xue(s,N,Ht(v,c))))});return p.createElement(fn,{className:"recharts-pie-labels"},g)}function Jue(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(fS,{label:s}):p.createElement(Zue,{sectors:t,props:r,showLabels:a})}function efe(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s,shape:l,id:c}=e,d=Fe(sl),f=Fe(sS),m=Fe(Noe),{onMouseEnter:h,onClick:g,onMouseLeave:v}=s,y=Cg(s,Lue),w=xS(h,s.dataKey,c),j=gS(v),N=vS(g,s.dataKey,c);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((C,E)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,P=String(E)===d&&(f==null||s.dataKey===f)&&A,k=d?a:null,T=r&&P?r:k,_=dn(dn({},C),{},{stroke:C.stroke,tabIndex:-1,[pL]:E,[xL]:s.dataKey});return p.createElement(fn,il({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},mf(y,C,E),{onMouseEnter:w(C,E),onMouseLeave:j(C,E),onClick:N(C,E)}),p.createElement(h6,il({option:l??T,index:E,shapeType:"sector",isActive:P},_)))}))}function tfe(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:g}=r,v=Math.abs(r.minAngle),y=Gue(d,f),w=Math.abs(y),j=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,N=a.filter(T=>Ht(T,m,0)!==0).length,C=(w>=360?N:N-1)*j,E=w-N*v-C,A=a.reduce((T,_)=>{var L=Ht(_,m,0);return T+(Be(L)?L:0)},0),P;if(A>0){var k;P=a.map((T,_)=>{var L=Ht(T,m,0),X=Ht(T,h,_),I=Wue(r,l,T),R=(Be(L)?L:0)/A,K,ye=dn(dn({},T),s&&s[_]&&s[_].props);_?K=k.endAngle+Kn(y)*j*(L!==0?1:0):K=d;var W=K+Kn(y)*((L!==0?v:0)+R*E),ee=(K+W)/2,B=(I.innerRadius+I.outerRadius)/2,Z=[{name:X,value:L,payload:ye,dataKey:m,type:g}],$=Tn(I.cx,I.cy,B,ee);return k=dn(dn(dn(dn({},r.presentationProps),{},{percent:R,cornerRadius:typeof c=="string"?parseFloat(c):c,name:X,tooltipPayload:Z,midAngle:ee,middleRadius:B,tooltipPosition:$},ye),I),{},{value:L,dataKey:m,startAngle:K,endAngle:W,payload:ye,paddingAngle:Kn(y)*j}),k})}return P}function nfe(e){var{showLabels:t,sectors:r,children:a}=e,s=p.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return p.createElement(Ide,{value:t?s:void 0},a)}function rfe(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:g,onAnimationEnd:v}=t,y=Nf(t,"recharts-pie-"),w=r.current,[j,N]=p.useState(!1),C=p.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),E=p.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);return p.createElement(nfe,{showLabels:!j,sectors:s},p.createElement(bf,{animationId:y,begin:c,duration:d,isActive:l,easing:f,onAnimationStart:E,onAnimationEnd:C,key:y},A=>{var P=[],k=s&&s[0],T=k?.startAngle;return s?.forEach((_,L)=>{var X=w&&w[L],I=L>0?no(_,"paddingAngle",0):0;if(X){var R=Xt(X.endAngle-X.startAngle,_.endAngle-_.startAngle,A),K=dn(dn({},_),{},{startAngle:T+I,endAngle:T+R+I});P.push(K),T=K.endAngle}else{var{endAngle:ye,startAngle:W}=_,ee=Xt(0,ye-W,A),B=dn(dn({},_),{},{startAngle:T+I,endAngle:T+ee+I});P.push(B),T=B.endAngle}}),r.current=P,p.createElement(fn,null,p.createElement(efe,{sectors:P,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:a}))}),p.createElement(Jue,{showLabels:!j,sectors:s,props:t}),t.children)}var afe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:yn.area};function sfe(e){var{id:t}=e,r=Cg(e,Iue),{hide:a,className:s,rootTabIndex:l}=e,c=p.useMemo(()=>pS(e.children,ii),[e.children]),d=Fe(h=>eue(h,t,c)),f=p.useRef(null),m=wt("recharts-pie",s);return a||d==null?(f.current=null,p.createElement(fn,{tabIndex:l,className:m})):p.createElement(vr,{zIndex:e.zIndex},p.createElement(que,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),p.createElement(fn,{tabIndex:l,className:m},p.createElement(rfe,{props:dn(dn({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function If(e){var t=bn(e,afe),{id:r}=t,a=Cg(t,$ue),s=Mr(a);return p.createElement(jS,{id:r,type:"pie"},l=>p.createElement(p.Fragment,null,p.createElement(Mue,{type:"pie",id:l,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),p.createElement(Hue,il({},a,{id:l})),p.createElement(sfe,il({},a,{id:l}))))}If.displayName="Pie";var ife=["points"];function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(a){lfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lfe(e,t,r){return(t=ofe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ofe(e){var t=cfe(e,"string");return typeof t=="symbol"?t:t+""}function cfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ax.apply(null,arguments)}function dfe(e,t){if(e==null)return{};var r,a,s=ufe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ufe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ffe(e){var{option:t,dotProps:r,className:a}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var s=wt(a,typeof t!="boolean"?t.className:""),l=r??{},{points:c}=l,d=dfe(l,ife);return p.createElement(l6,ax({},d,{className:s}))}function mfe(e,t){return e==null?!1:t?!0:e.length===1}function hfe(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:l,baseProps:c,needClip:d,clipPathId:f,zIndex:m=yn.scatter}=e;if(!mfe(t,r))return null;var h=m6(r),g=HX(r),v=t.map((w,j)=>{var N,C,E=Gj(Gj(Gj({r:3},c),g),{},{index:j,cx:(N=w.x)!==null&&N!==void 0?N:void 0,cy:(C=w.y)!==null&&C!==void 0?C:void 0,dataKey:l,value:w.value,payload:w.payload,points:t});return p.createElement(ffe,{key:"dot-".concat(j),option:r,dotProps:E,className:s})}),y={};return d&&f!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),p.createElement(vr,{zIndex:m},p.createElement(fn,ax({className:a},y),v))}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(a){pfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pfe(e,t,r){return(t=xfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xfe(e){var t=gfe(e,"string");return typeof t=="symbol"?t:t+""}function gfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vfe={xAxis:{},yAxis:{},zAxis:{}},y6=Ir({name:"cartesianAxis",initialState:vfe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:tn()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:tn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:tn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:tn()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:tn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:tn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:tn()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:tn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:tn()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,s=e.yAxis[r];if(s){var l=s.widthHistory||[];if(l.length===3&&l[0]===l[2]&&a===l[1]&&a!==s.width&&Math.abs(a-l[0])<=1)return;var c=[...l,a].slice(-3);e.yAxis[r]=aR(aR({},e.yAxis[r]),{},{width:a,widthHistory:c})}}}}),{addXAxis:yfe,replaceXAxis:jfe,removeXAxis:bfe,addYAxis:Nfe,replaceYAxis:wfe,removeYAxis:Sfe,addZAxis:Kje,replaceZAxis:Wje,removeZAxis:Gje,updateYAxisWidth:Cfe}=y6.actions,Efe=y6.reducer,Afe=ue([In],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Pfe=ue([Afe,di,ui],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),bS=()=>Fe(Pfe),Tfe=()=>Fe(Aoe);function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(a){Ofe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ofe(e,t,r){return(t=kfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kfe(e){var t=_fe(e,"string");return typeof t=="symbol"?t:t+""}function _fe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rfe=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:l,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:l,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Yj(Yj(Yj({},d),to(s)),$w(s)),m;return p.isValidElement(s)?m=p.cloneElement(s,f):typeof s=="function"?m=s(f):m=p.createElement(l6,f),p.createElement(fn,{className:"recharts-active-dot",clipPath:c},m)};function iR(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,clipPath:l,zIndex:c=yn.activeDot}=e,d=Fe(sl),f=Tfe();if(t==null||f==null)return null;var m=t.find(h=>f.includes(h.payload));return an(m)?null:p.createElement(vr,{zIndex:c},p.createElement(Rfe,{point:m,childIndex:Number(d),mainColor:r,dataKey:s,activeDot:a,clipPath:l}))}var Mfe="Invariant failed";function Dfe(e,t){throw new Error(Mfe)}var Lfe=["x","y"];function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},PN.apply(null,arguments)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(a){Ife(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ife(e,t,r){return(t=$fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $fe(e){var t=Ffe(e,"string");return typeof t=="symbol"?t:t+""}function Ffe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zfe(e,t){if(e==null)return{};var r,a,s=Bfe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Bfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ufe(e,t){var{x:r,y:a}=e,s=zfe(e,Lfe),l="".concat(r),c=parseInt(l,10),d="".concat(a),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),g="".concat(t.width||s.width),v=parseInt(g,10);return hu(hu(hu(hu(hu({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function sx(e){return p.createElement(h6,PN({shapeType:"rectangle",propTransformer:Ufe,activeClassName:"recharts-active-bar"},e))}var Hfe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Be(t))return t;var l=Be(a)||an(a);return l?t(a,s):(l||Dfe(),r)}},qfe={},j6=Ir({name:"errorBars",initialState:qfe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===a.dataKey&&l.direction===a.direction?s:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:Yje,replaceErrorBar:Qje,removeErrorBar:Xje}=j6.actions,Vfe=j6.reducer,Kfe=["children"];function Wfe(e,t){if(e==null)return{};var r,a,s=Gfe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Gfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Yfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qfe=p.createContext(Yfe);function Xfe(e){var{children:t}=e,r=Wfe(e,Kfe);return p.createElement(Qfe.Provider,{value:r},t)}function NS(e,t){var r,a,s=Fe(m=>xs(m,e)),l=Fe(m=>gs(m,t)),c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Hn.allowDataOverflow,d=(a=l?.allowDataOverflow)!==null&&a!==void 0?a:qn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function b6(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=bS(),{needClipX:l,needClipY:c,needClip:d}=NS(t,r);if(!d||!s)return null;var{x:f,y:m,width:h,height:g}=s;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:l?f:f-h/2,y:c?m:m-g/2,width:l?h:h*2,height:c?g:g*2}))}function Zfe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Dt(e.zIndex)?e.zIndex:t}var Qj={exports:{}},Xj={};var oR;function Jfe(){if(oR)return Xj;oR=1;var e=qc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Xj.useSyncExternalStoreWithSelector=function(f,m,h,g,v){var y=s(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=c(function(){function N(k){if(!C){if(C=!0,E=k,k=g(k),v!==void 0&&w.hasValue){var T=w.value;if(v(T,k))return A=T}return A=k}if(T=A,r(E,k))return T;var _=g(k);return v!==void 0&&v(T,_)?(E=k,T):(E=k,A=_)}var C=!1,E,A,P=h===void 0?null:h;return[function(){return N(m())},P===null?void 0:function(){return N(P())}]},[m,h,g,v]);var j=a(f,y[0],y[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},Xj}var cR;function eme(){return cR||(cR=1,Qj.exports=Jfe()),Qj.exports}eme();function tme(e){e()}function nme(){let e=null,t=null;return{clear(){e=null,t=null},notify(){tme(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var dR={notify(){},get:()=>[]};function rme(e,t){let r,a=dR,s=0,l=!1;function c(j){h();const N=a.subscribe(j);let C=!1;return()=>{C||(C=!0,N(),g())}}function d(){a.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function h(){s++,r||(r=e.subscribe(f),a=nme())}function g(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=dR)}function v(){l||(l=!0,h())}function y(){l&&(l=!1,g())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>a};return w}var ame=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sme=ame(),ime=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lme=ime(),ome=()=>sme||lme?p.useLayoutEffect:p.useEffect,cme=ome();function uR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function dme(e,t){if(uR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!uR(e[r[s]],t[r[s]]))return!1;return!0}var ume=Symbol.for("react-redux-context"),fme=typeof globalThis<"u"?globalThis:{};function mme(){if(!p.createContext)return{};const e=fme[ume]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var hme=mme();function pme(e){const{children:t,context:r,serverState:a,store:s}=e,l=p.useMemo(()=>{const f=rme(s);return{store:s,subscription:f,getServerState:a?()=>a:void 0}},[s,a]),c=p.useMemo(()=>s.getState(),[s]);cme(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=r||hme;return p.createElement(d.Provider,{value:l},t)}var xme=pme,gme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function vme(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Eg(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(gme.has(a)){if(e[a]==null&&t[a]==null)continue;if(!dme(e[a],t[a]))return!1}else if(!vme(e[a],t[a]))return!1;return!0}var yme=["onMouseEnter","onMouseLeave","onClick"],jme=["value","background","tooltipPosition"],bme=["id"],Nme=["onMouseEnter","onClick","onMouseLeave"];function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},li.apply(null,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(a){wme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wme(e,t,r){return(t=Sme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sme(e){var t=Cme(e,"string");return typeof t=="symbol"?t:t+""}function Cme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ix(e,t){if(e==null)return{};var r,a,s=Eme(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Eme(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ame=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:td(r,t),payload:e}]},Pme=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:l,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:td(l,t),hide:c,type:f,color:s,unit:d}};return p.createElement(yS,{tooltipEntrySettings:m})});function Tme(e){var t=Fe(sl),{data:r,dataKey:a,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=ix(l,yme),h=xS(c,a),g=gS(d),v=vS(f,a);if(!s||r==null)return null;var y=to(s);return p.createElement(vr,{zIndex:Zfe(s,yn.barBackground)},r.map((w,j)=>{var{value:N,background:C,tooltipPosition:E}=w,A=ix(w,jme);if(!C)return null;var P=h(w,j),k=g(w,j),T=v(w,j),_=mr(mr(mr(mr(mr({option:s,isActive:String(j)===t},A),{},{fill:"#eee"},C),y),mf(m,w,j)),{},{onMouseEnter:P,onMouseLeave:k,onClick:T,dataKey:a,index:j,className:"recharts-bar-background-rectangle"});return p.createElement(sx,li({key:"background-bar-".concat(j)},_))}))}function Ome(e){var{showLabels:t,children:r,rects:a}=e,s=a?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return mr(mr({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return p.createElement(s6,{value:t?s:void 0},r)}function kme(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:l,dataKey:c}=e,d=Fe(sl),f=Fe(sS),m=r&&String(l)===d&&(f==null||c===f),h=m?r:t;return m?p.createElement(vr,{zIndex:yn.activeBar},p.createElement(sx,li({},a,{name:String(a.name)},s,{isActive:m,option:h,index:l,dataKey:c}))):p.createElement(sx,li({},a,{name:String(a.name)},s,{isActive:m,option:h,index:l,dataKey:c}))}function _me(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:l}=e;return p.createElement(sx,li({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:s,dataKey:l}))}function Rme(e){var t,{data:r,props:a}=e,s=(t=Mr(a))!==null&&t!==void 0?t:{},{id:l}=s,c=ix(s,bme),{shape:d,dataKey:f,activeBar:m}=a,{onMouseEnter:h,onClick:g,onMouseLeave:v}=a,y=ix(a,Nme),w=xS(h,f),j=gS(v),N=vS(g,f);return r?p.createElement(p.Fragment,null,r.map((C,E)=>p.createElement(fn,li({key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(E),className:"recharts-bar-rectangle"},mf(y,C,E),{onMouseEnter:w(C,E),onMouseLeave:j(C,E),onClick:N(C,E)}),m?p.createElement(kme,{shape:d,activeBar:m,baseProps:c,entry:C,index:E,dataKey:f}):p.createElement(_me,{shape:d,baseProps:c,entry:C,index:E,dataKey:f})))):null}function Mme(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,g=r.current,v=Nf(t,"recharts-bar-"),[y,w]=p.useState(!1),j=!y,N=p.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),C=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return p.createElement(Ome,{showLabels:j,rects:a},p.createElement(bf,{animationId:v,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:N,onAnimationStart:C,key:v},E=>{var A=E===1?a:a?.map((P,k)=>{var T=g&&g[k];if(T)return mr(mr({},P),{},{x:Xt(T.x,P.x,E),y:Xt(T.y,P.y,E),width:Xt(T.width,P.width,E),height:Xt(T.height,P.height,E)});if(s==="horizontal"){var _=Xt(0,P.height,E),L=Xt(P.stackedBarStart,P.y,E);return mr(mr({},P),{},{y:L,height:_})}var X=Xt(0,P.width,E),I=Xt(P.stackedBarStart,P.x,E);return mr(mr({},P),{},{width:X,x:I})});return E>0&&(r.current=A??null),A==null?null:p.createElement(fn,null,p.createElement(Rme,{props:t,data:A}))}),p.createElement(fS,{label:t.label}),t.children)}function Dme(e){var t=p.useRef(null);return p.createElement(Mme,{previousRectanglesRef:t,props:e})}var N6=0,Lme=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ht(e,t)}};class Ime extends p.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t||r==null)return null;var h=wt("recharts-bar",s),g=m;return p.createElement(fn,{className:h,id:m},d&&p.createElement("defs",null,p.createElement(b6,{clipPathId:g,xAxisId:l,yAxisId:c})),p.createElement(fn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},p.createElement(Tme,{data:r,dataKey:a,background:f,allOtherBarProps:this.props}),p.createElement(Dme,this.props)))}}var $me={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:N6,xAxisId:0,yAxisId:0,zIndex:yn.bar};function Fme(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:g}=NS(t,r),v=nd(),y=ar(),w=pS(e.children,ii),j=Fe(E=>mhe(E,t,r,y,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var N,C=j?.[0];return C==null||C.height==null||C.width==null?N=0:N=v==="vertical"?C.height/2:C.width/2,p.createElement(Xfe,{xAxisId:t,yAxisId:r,data:j,dataPointFormatter:Lme,errorBarOffset:N},p.createElement(Ime,li({},e,{layout:v,needClip:g,data:j,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function zme(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:g,offset:v,cells:y,parentViewBox:w,dataStartIndex:j}=e,N=t==="horizontal"?d:c,C=h?N.scale.domain():null,E=lte({numericAxis:N}),A=N.scale(E);return g.map((P,k)=>{var T,_,L,X,I,R;h?T=nte(h[k+j],C):(T=Ht(P,r),Array.isArray(T)||(T=[E,T]));var K=Hfe(a,N6)(T[1],k);if(t==="horizontal"){var ye,[W,ee]=[d.scale(T[0]),d.scale(T[1])];_=PO({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:P,index:k}),L=(ye=ee??W)!==null&&ye!==void 0?ye:void 0,X=s.size;var B=W-ee;if(I=Dr(B)?0:B,R={x:_,y:v.top,width:X,height:v.height},Math.abs(K)>0&&Math.abs(I)<Math.abs(K)){var Z=Kn(I||K)*(Math.abs(K)-Math.abs(I));L-=Z,I+=Z}}else{var[$,fe]=[c.scale(T[0]),c.scale(T[1])];if(_=$,L=PO({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:P,index:k}),X=fe-$,I=s.size,R={x:v.left,y:L,width:v.width,height:I},Math.abs(K)>0&&Math.abs(X)<Math.abs(K)){var pe=Kn(X||K)*(Math.abs(K)-Math.abs(X));X+=pe}}if(_==null||L==null||X==null||I==null)return null;var M=mr(mr({},P),{},{stackedBarStart:A,x:_,y:L,width:X,height:I,value:h?T:T[1],payload:P,background:R,tooltipPosition:{x:_+X/2,y:L+I/2},parentViewBox:w},y&&y[k]&&y[k].props);return M}).filter(Boolean)}function Bme(e){var t=bn(e,$me),r=ar();return p.createElement(jS,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(p6,{legendPayload:Ame(t)}),p.createElement(Pme,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(v6,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:mL(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(vr,{zIndex:t.zIndex},p.createElement(Fme,li({},t,{id:a})))))}var w6=p.memo(Bme,Eg);w6.displayName="Bar";function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(a){Ume(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ume(e,t,r){return(t=Hme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hme(e){var t=qme(e,"string");return typeof t=="symbol"?t:t+""}function qme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vme=(e,t)=>t,Kme=(e,t,r)=>r,Wme=(e,t,r,a)=>a,Gme=(e,t,r,a,s)=>s,$f=ue([xg,Gme],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Yme=ue([$f],e=>e?.maxBarSize),Qme=(e,t,r,a,s,l)=>l,hR=(e,t,r)=>{var a=r??e;if(!an(a))return or(a,t,0)},Xme=ue([St,xg,Vme,Kme,Wme],(e,t,r,a,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===r:l.yAxisId===a).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Zme=(e,t,r,a)=>{var s=St(e);return s==="horizontal"?Qu(e,"yAxis",r,a):Qu(e,"xAxis",t,a)},Jme=(e,t,r)=>{var a=St(e);return a==="horizontal"?l_(e,"xAxis",t):l_(e,"yAxis",r)},ehe=(e,t,r)=>{var a={},s=e.filter(mg),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),d=Object.entries(c).map(m=>{var[h,g]=m,v=g.map(w=>w.dataKey),y=hR(t,r,g[0].barSize);return{stackId:h,dataKeys:v,barSize:y}}),f=l.map(m=>{var h=[m.dataKey].filter(v=>v!=null),g=hR(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...f]},the=ue([Xme,Sie,Jme],ehe),nhe=(e,t,r,a,s)=>{var l,c,d=$f(e,t,r,a,s);if(d!=null){var f=St(e),m=II(e),{maxBarSize:h}=d,g=an(h)?m:h,v,y;return f==="horizontal"?(v=al(e,"xAxis",t,a),y=rl(e,"xAxis",t,a)):(v=al(e,"yAxis",r,a),y=rl(e,"yAxis",r,a)),(l=(c=kc(v,y,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},S6=(e,t,r,a)=>{var s=St(e),l,c;return s==="horizontal"?(l=al(e,"xAxis",t,a),c=rl(e,"xAxis",t,a)):(l=al(e,"yAxis",r,a),c=rl(e,"yAxis",r,a)),kc(l,c)};function rhe(e,t,r,a,s){var l=a.length;if(!(l<1)){var c=or(e,r,0,!0),d,f=[];if(Dt(a[0].barSize)){var m=!1,h=r/l,g=a.reduce((C,E)=>C+(E.barSize||0),0);g+=(l-1)*c,g>=r&&(g-=(l-1)*c,c=0),g>=r&&h>0&&(m=!0,h*=.9,g=l*h);var v=(r-g)/2>>0,y={offset:v-c,size:0};d=a.reduce((C,E)=>{var A,P={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y.offset+y.size+c,size:m?h:(A=E.barSize)!==null&&A!==void 0?A:0}},k=[...C,P];return y=k[k.length-1].position,k},f)}else{var w=or(t,r,0,!0);r-2*w-(l-1)*c<=0&&(c=0);var j=(r-2*w-(l-1)*c)/l;j>1&&(j>>=0);var N=Dt(s)?Math.min(j,s):j;d=a.reduce((C,E,A)=>[...C,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:w+(j+c)*A+(j-N)/2,size:N}}],f)}return d}}var ahe=(e,t,r,a,s,l,c)=>{var d=an(c)?t:c,f=rhe(r,a,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>Oh(Oh({},m),{},{position:Oh(Oh({},m.position),{},{offset:m.position.offset-s/2})}))),f},she=ue([the,II,wie,$I,nhe,S6,Yme],ahe),ihe=(e,t,r,a)=>al(e,"xAxis",t,a),lhe=(e,t,r,a)=>al(e,"yAxis",r,a),ohe=(e,t,r,a)=>rl(e,"xAxis",t,a),che=(e,t,r,a)=>rl(e,"yAxis",r,a),dhe=ue([she,$f],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),uhe=(e,t)=>{var r=fg(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===r)}}}},fhe=ue([Zme,$f],uhe),mhe=ue([In,Yw,ihe,lhe,ohe,che,dhe,St,cg,S6,fhe,$f,Qme],(e,t,r,a,s,l,c,d,f,m,h,g,v)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:j}=f;if(!(g==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||a==null||s==null||l==null||m==null)){var{data:N}=g,C;if(N!=null&&N.length>0?C=N:C=y?.slice(w,j+1),C!=null)return zme({layout:d,barSettings:g,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:l,stackedData:h,displayedData:C,offset:e,cells:v,dataStartIndex:w})}}),C6=e=>{var{chartData:t}=e,r=Vt(),a=ar();return p.useEffect(()=>a?()=>{}:(r(j_(t)),()=>{r(j_(void 0))}),[t,r,a]),null},pR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},E6=Ir({name:"brush",initialState:pR,reducers:{setBrushSettings(e,t){return t.payload==null?pR:t.payload}}}),{setBrushSettings:Zje}=E6.actions,hhe=E6.reducer;function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(a){A6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function A6(e,t,r){return(t=phe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function phe(e){var t=xhe(e,"string");return typeof t=="symbol"?t:t+""}function xhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ghe=(e,t)=>{var{x:r,y:a}=e,{x:s,y:l}=t;return{x:Math.min(r,s),y:Math.min(a,l),width:Math.abs(s-r),height:Math.abs(l-a)}},vhe=e=>{var{x1:t,y1:r,x2:a,y2:s}=e;return ghe({x:t,y:r},{x:a,y:s})};class Ag{static create(t){return new Ag(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}A6(Ag,"EPS",1e-4);var yhe=e=>{var t=Object.keys(e).reduce((r,a)=>kh(kh({},r),{},{[a]:Ag.create(e[a])}),{});return kh(kh({},t),{},{apply(r){var{bandAware:a,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(l=>{var[c,d]=l;return[c,t[c].apply(d,{bandAware:a,position:s})]}))},isInRange(r){return Object.keys(r).every(a=>t[a].isInRange(r[a]))}})};function jhe(e){return(e%180+180)%180}var bhe=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=jhe(s),c=l*Math.PI/180,d=Math.atan(a/r),f=c>d&&c<Math.PI-d?a/Math.sin(c):r/Math.cos(c);return Math.abs(f)},Nhe={dots:[],areas:[],lines:[]},P6=Ir({name:"referenceElements",initialState:Nhe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ba(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ba(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ba(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Jje,removeDot:ebe,addArea:tbe,removeArea:nbe,addLine:whe,removeLine:She}=P6.actions,Che=P6.reducer,T6=p.createContext(void 0),Ehe=e=>{var{children:t}=e,[r]=p.useState("".concat(Lu("recharts"),"-clip")),a=bS();if(a==null)return null;var{x:s,y:l,width:c,height:d}=a;return p.createElement(T6.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:s,y:l,height:d,width:c}))),t)},Ahe=()=>p.useContext(T6);function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(a){Phe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Phe(e,t,r){return(t=The(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function The(e){var t=Ohe(e,"string");return typeof t=="symbol"?t:t+""}function Ohe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lx.apply(null,arguments)}var khe=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Dt(t.x1)||!Dt(t.y1)||!Dt(t.x2)||!Dt(t.y2))return null;r=p.createElement("line",lx({},t,{className:"recharts-reference-line-line"}))}return r},_he=(e,t,r,a,s,l)=>{var{x:c,width:d}=l,f=s.y.apply(e,{position:r});if(Dr(f)||t==="discard"&&!s.y.isInRange(f))return null;var m=[{x:c+d,y:f},{x:c,y:f}];return a==="left"?m.reverse():m},Rhe=(e,t,r,a,s,l)=>{var{y:c,height:d}=l,f=s.x.apply(e,{position:r});if(Dr(f)||t==="discard"&&!s.x.isInRange(f))return null;var m=[{x:f,y:c+d},{x:f,y:c}];return a==="top"?m.reverse():m},Mhe=(e,t,r,a)=>{var s=e.map(l=>a.apply(l,{position:r}));return t==="discard"&&s.some(l=>!a.isInRange(l))?null:s},Dhe=(e,t,r,a,s,l)=>{var{x:c,y:d,segment:f,ifOverflow:m}=l,h=Aa(c),g=Aa(d);return g?_he(d,m,r,s,e,t):h?Rhe(c,m,r,a,e,t):f!=null&&f.length===2?Mhe(f,m,r,e):null};function Lhe(e){var t=Vt();return p.useEffect(()=>(t(whe(e)),()=>{t(She(e))})),null}function Ihe(e){var{xAxisId:t,yAxisId:r,shape:a,className:s,ifOverflow:l}=e,c=ar(),d=Ahe(),f=Fe(T=>xs(T,t)),m=Fe(T=>gs(T,r)),h=Fe(T=>nl(T,"xAxis",t,c)),g=Fe(T=>nl(T,"yAxis",r,c)),v=vf();if(!d||!v||f==null||m==null||h==null||g==null)return null;var y=yhe({x:h,y:g}),w=Dhe(y,v,e.position,f.orientation,m.orientation,e);if(!w)return null;var[{x:j,y:N},{x:C,y:E}]=w,A=l==="hidden"?"url(#".concat(d,")"):void 0,P=vR(vR({clipPath:A},cr(e)),{},{x1:j,y1:N,x2:C,y2:E}),k=vhe({x1:j,y1:N,x2:C,y2:E});return p.createElement(vr,{zIndex:e.zIndex},p.createElement(fn,{className:wt("recharts-reference-line",s)},khe(a,P),p.createElement(t6,lx({},k,{lowerWidth:k.width,upperWidth:k.width}),p.createElement(r6,{label:e.label}),e.children)))}var $he={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:yn.line};function O6(e){var t=bn(e,$he);return p.createElement(p.Fragment,null,p.createElement(Lhe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),p.createElement(Ihe,t))}O6.displayName="ReferenceLine";function k6(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function Fhe(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return bhe(a,r)}function zhe(e,t,r){var a=r==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:a?s:l,end:a?s+c:l+d}:{start:a?s+c:l+d,end:a?s:l}}function ox(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var l=r();return e*(t-e*l/2-a)>=0&&e*(t+e*l/2-s)<=0}function Bhe(e,t){return k6(e,t+1)}function Uhe(e,t,r,a,s){for(var l=(a||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,g=function(){var w=a?.[f];if(w===void 0)return{v:k6(a,m)};var j=f,N,C=()=>(N===void 0&&(N=r(w,j)),N),E=w.coordinate,A=f===0||ox(e,E,C,h,d);A||(f=0,h=c,m+=1),A&&(h=E+e*(C()/2+s),f+=m)},v;m<=l.length;)if(v=g(),v)return v.v;return[]}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(a){Hhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hhe(e,t,r){return(t=qhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qhe(e){var t=Vhe(e,"string");return typeof t=="symbol"?t:t+""}function Vhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Khe(e,t,r,a,s){for(var l=(a||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(v){var y=l[v],w,j=()=>(w===void 0&&(w=r(y,v)),w);if(v===c-1){var N=e*(y.coordinate+e*j()/2-f);l[v]=y=ir(ir({},y),{},{tickCoord:N>0?y.coordinate-N*e:y.coordinate})}else l[v]=y=ir(ir({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var C=ox(e,y.tickCoord,j,d,f);C&&(f=y.tickCoord-e*(j()/2+s),l[v]=ir(ir({},y),{},{isShow:!0}))}},h=c-1;h>=0;h--)m(h);return l}function Whe(e,t,r,a,s,l){var c=(a||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=a[d-1],g=r(h,d-1),v=e*(h.coordinate+e*g/2-m);if(c[d-1]=h=ir(ir({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var y=ox(e,h.tickCoord,()=>g,f,m);y&&(m=h.tickCoord-e*(g/2+s),c[d-1]=ir(ir({},h),{},{isShow:!0}))}}for(var w=l?d-1:d,j=function(E){var A=c[E],P,k=()=>(P===void 0&&(P=r(A,E)),P);if(E===0){var T=e*(A.coordinate-e*k()/2-f);c[E]=A=ir(ir({},A),{},{tickCoord:T<0?A.coordinate-T*e:A.coordinate})}else c[E]=A=ir(ir({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var _=ox(e,A.tickCoord,k,f,m);_&&(f=A.tickCoord+e*(k()/2+s),c[E]=ir(ir({},A),{},{isShow:!0}))}},N=0;N<w;N++)j(N);return c}function wS(e,t,r){var{tick:a,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:g}=e;if(!s||!s.length||!a)return[];if(Be(f)||rd.isSsr){var v;return(v=Bhe(s,Be(f)?f:0))!==null&&v!==void 0?v:[]}var y=[],w=d==="top"||d==="bottom"?"width":"height",j=h&&w==="width"?Eu(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},N=(A,P)=>{var k=typeof m=="function"?m(A.value,P):A.value;return w==="width"?Fhe(Eu(k,{fontSize:t,letterSpacing:r}),j,g):Eu(k,{fontSize:t,letterSpacing:r})[w]},C=s.length>=2?Kn(s[1].coordinate-s[0].coordinate):1,E=zhe(l,C,w);return f==="equidistantPreserveStart"?Uhe(C,E,N,s,c):(f==="preserveStart"||f==="preserveStartEnd"?y=Whe(C,E,N,s,c,f==="preserveStartEnd"):y=Khe(C,E,N,s,c),y.filter(A=>A.isShow))}var Ghe=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(r?a:0);return Math.round(m)}return 0},Yhe=["axisLine","width","height","className","hide","ticks","axisType"];function Qhe(e,t){if(e==null)return{};var r,a,s=Xhe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Xhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},io.apply(null,arguments)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(a){Zhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zhe(e,t,r){return(t=Jhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jhe(e){var t=epe(e,"string");return typeof t=="symbol"?t:t+""}function epe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yn.axis};function tpe(e){var{x:t,y:r,width:a,height:s,orientation:l,mirror:c,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var m=An(An(An({},f),Mr(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);m=An(An({},m),{},{x1:t,y1:r+h*s,x2:t+a,y2:r+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);m=An(An({},m),{},{x1:t+g*a,y1:r,x2:t+g*a,y2:r+s})}return p.createElement("line",io({},m,{className:wt("recharts-cartesian-axis-line",no(d,"className"))}))}function npe(e,t,r,a,s,l,c,d,f){var m,h,g,v,y,w,j=d?-1:1,N=e.tickSize||c,C=Be(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":m=h=e.coordinate,v=r+ +!d*s,g=v-j*N,w=g-j*f,y=C;break;case"left":g=v=e.coordinate,h=t+ +!d*a,m=h-j*N,y=m-j*f,w=C;break;case"right":g=v=e.coordinate,h=t+ +d*a,m=h+j*N,y=m+j*f,w=C;break;default:m=h=e.coordinate,v=r+ +d*s,g=v+j*N,w=g+j*f,y=C;break}return{line:{x1:m,y1:g,x2:h,y2:v},tick:{x:y,y:w}}}function rpe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ape(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function spe(e){var{option:t,tickProps:r,value:a}=e,s,l=wt(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,An(An({},r),{},{className:l}));else if(typeof t=="function")s=t(An(An({},r),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=wt(c,t?.className)),s=p.createElement(Ng,io({},r,{className:c}),a)}return s}var ipe=p.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:l,tickFormatter:c,unit:d,padding:f,tickTextProps:m,orientation:h,mirror:g,x:v,y,width:w,height:j,tickSize:N,tickMargin:C,fontSize:E,letterSpacing:A,getTicksConfig:P,events:k,axisType:T}=e,_=wS(An(An({},P),{},{ticks:r}),E,A),L=rpe(h,g),X=ape(h,g),I=Mr(P),R=to(a),K={};typeof s=="object"&&(K=s);var ye=An(An({},I),{},{fill:"none"},K),W=_.map(Z=>An({entry:Z},npe(Z,v,y,w,j,h,N,g,C))),ee=W.map(Z=>{var{entry:$,line:fe}=Z;return p.createElement(fn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},s&&p.createElement("line",io({},ye,fe,{className:wt("recharts-cartesian-axis-tick-line",no(s,"className"))})))}),B=W.map((Z,$)=>{var{entry:fe,tick:pe}=Z,M=An(An(An(An({textAnchor:L,verticalAnchor:X},I),{},{stroke:"none",fill:l},R),pe),{},{index:$,payload:fe,visibleTicksCount:_.length,tickFormatter:c,padding:f},m);return p.createElement(fn,io({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},mf(k,fe,$)),a&&p.createElement(spe,{option:a,tickProps:M,value:"".concat(typeof c=="function"?c(fe.value,$):fe.value).concat(d||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},B.length>0&&p.createElement(vr,{zIndex:yn.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},B)),ee.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},ee))}),lpe=p.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:l,hide:c,ticks:d,axisType:f}=e,m=Qhe(e,Yhe),[h,g]=p.useState(""),[v,y]=p.useState(""),w=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var N;return Ghe({ticks:w.current,label:(N=e.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=p.useCallback(N=>{if(N){var C=N.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=C;var E=C[0];if(E){var A=window.getComputedStyle(E),P=A.fontSize,k=A.letterSpacing;(P!==h||k!==v)&&(g(P),y(k))}}},[h,v]);return c||a!=null&&a<=0||s!=null&&s<=0?null:p.createElement(vr,{zIndex:e.zIndex},p.createElement(fn,{className:wt("recharts-cartesian-axis",l)},p.createElement(tpe,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Mr(e)}),p.createElement(ipe,{ref:j,axisType:f,events:m,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(t6,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(r6,{label:e.label,labelRef:e.labelRef}),e.children)))}),SS=p.forwardRef((e,t)=>{var r=bn(e,Gs);return p.createElement(lpe,io({},r,{ref:t}))});SS.displayName="CartesianAxis";var ope=["x1","y1","x2","y2","key"],cpe=["offset"],dpe=["xAxisId","yAxisId"],upe=["xAxisId","yAxisId"];function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(a){fpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fpe(e,t,r){return(t=mpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mpe(e){var t=hpe(e,"string");return typeof t=="symbol"?t:t+""}function hpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hl.apply(null,arguments)}function cx(e,t){if(e==null)return{};var r,a,s=ppe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ppe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var xpe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:l,height:c,ry:d}=e;return p.createElement("rect",{x:a,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _6(e){var{option:t,lineItemProps:r}=e,a;if(p.isValidElement(t))a=p.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s,{x1:l,y1:c,x2:d,y2:f,key:m}=r,h=cx(r,ope),g=(s=Mr(h))!==null&&s!==void 0?s:{},{offset:v}=g,y=cx(g,cpe);a=p.createElement("line",Hl({},y,{x1:l,y1:c,x2:d,y2:f,fill:"none",key:m}))}return a}function gpe(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=cx(e,dpe),f=s.map((m,h)=>{var g=lr(lr({},d),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(h),index:h});return p.createElement(_6,{key:"line-".concat(h),option:a,lineItemProps:g})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function vpe(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=cx(e,upe),f=s.map((m,h)=>{var g=lr(lr({},d),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(h),index:h});return p.createElement(_6,{option:a,lineItemProps:g,key:"line-".concat(h)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ype(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var m=d.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var y=!m[v+1],w=y?s+c-g:m[v+1]-g;if(w<=0)return null;var j=v%t.length;return p.createElement("rect",{key:"react-".concat(v),y:g,x:a,height:w,width:l,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function jpe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var m=f.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var y=!m[v+1],w=y?s+c-g:m[v+1]-g;if(w<=0)return null;var j=v%r.length;return p.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:w,height:d,stroke:"none",fill:r[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var bpe=(e,t)=>{var{xAxis:r,width:a,height:s,offset:l}=e;return uL(wS(lr(lr(lr({},Gs),r),{},{ticks:fL(r),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,t)},Npe=(e,t)=>{var{yAxis:r,width:a,height:s,offset:l}=e;return uL(wS(lr(lr(lr({},Gs),r),{},{ticks:fL(r),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,t)},wpe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yn.grid};function R6(e){var t=Xw(),r=Zw(),a=bL(),s=lr(lr({},bn(e,wpe)),{},{x:Be(e.x)?e.x:a.left,y:Be(e.y)?e.y:a.top,width:Be(e.width)?e.width:a.width,height:Be(e.height)?e.height:a.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:y}=s,w=ar(),j=Fe(X=>o_(X,"xAxis",l,w)),N=Fe(X=>o_(X,"yAxis",c,w));if(!cs(m)||!cs(h)||!Be(d)||!Be(f))return null;var C=s.verticalCoordinatesGenerator||bpe,E=s.horizontalCoordinatesGenerator||Npe,{horizontalPoints:A,verticalPoints:P}=s;if((!A||!A.length)&&typeof E=="function"){var k=v&&v.length,T=E({yAxis:N?lr(lr({},N),{},{ticks:k?v:N.ticks}):void 0,width:t??m,height:r??h,offset:a},k?!0:g);Rp(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(A=T)}if((!P||!P.length)&&typeof C=="function"){var _=y&&y.length,L=C({xAxis:j?lr(lr({},j),{},{ticks:_?y:j.ticks}):void 0,width:t??m,height:r??h,offset:a},_?!0:g);Rp(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(P=L)}return p.createElement(vr,{zIndex:s.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(xpe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(ype,Hl({},s,{horizontalPoints:A})),p.createElement(jpe,Hl({},s,{verticalPoints:P})),p.createElement(gpe,Hl({},s,{offset:a,horizontalPoints:A,xAxis:j,yAxis:N})),p.createElement(vpe,Hl({},s,{offset:a,verticalPoints:P,xAxis:j,yAxis:N}))))}R6.displayName="CartesianGrid";function Spe(e){var t=to(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:l}=t,c=Number(s),d=Number(l);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(d)||d<0)&&(d=a),{r:c,strokeWidth:d}}return{r,strokeWidth:a}}var M6=(e,t,r,a)=>al(e,"xAxis",t,a),D6=(e,t,r,a)=>rl(e,"xAxis",t,a),L6=(e,t,r,a)=>al(e,"yAxis",r,a),I6=(e,t,r,a)=>rl(e,"yAxis",r,a),Cpe=ue([St,M6,L6,D6,I6],(e,t,r,a,s)=>ci(e,"xAxis")?kc(t,a,!1):kc(r,s,!1)),Epe=(e,t,r,a,s)=>s,$6=ue([xg,Epe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Ape=(e,t,r,a,s)=>{var l,c=$6(e,t,r,a,s);if(c!=null){var d=St(e),f=ci(d,"xAxis"),m;if(f?m=Qu(e,"yAxis",r,a):m=Qu(e,"xAxis",t,a),m!=null){var{stackId:h}=c,g=fg(c);if(!(h==null||g==null)){var v=(l=m[h])===null||l===void 0?void 0:l.stackedData;return v?.find(y=>y.key===g)}}}},Ppe=ue([St,M6,L6,D6,I6,Ape,cg,Cpe,$6,Cie],(e,t,r,a,s,l,c,d,f,m)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||d==null)){var{data:y}=f,w;if(y&&y.length>0?w=y:w=h?.slice(g,v+1),w!=null)return Wpe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:g,areaSettings:f,stackedData:l,displayedData:w,chartBaseValue:m,bandSize:d})}}),Tpe=["id"],Ope=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wl.apply(null,arguments)}function F6(e,t){if(e==null)return{};var r,a,s=kpe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(a){_pe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _pe(e,t,r){return(t=Rpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rpe(e){var t=Mpe(e,"string");return typeof t=="symbol"?t:t+""}function Mpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dx(e,t){return e&&e!=="none"?e:t}var Dpe=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:dx(a,s),value:td(r,t),payload:e}]},Lpe=p.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:l,name:c,hide:d,unit:f,tooltipType:m}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:td(c,t),hide:d,type:m,color:dx(a,l),unit:f}};return p.createElement(yS,{tooltipEntrySettings:h})});function Ipe(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:l,dataKey:c}=a,d=Mr(a);return p.createElement(hfe,{points:r,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function $pe(e){var{showLabels:t,children:r,points:a}=e,s=a.map(l=>{var c,d,f={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return uc(uc({},f),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return p.createElement(s6,{value:t?s:void 0},r)}function wR(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:l}=e,{layout:c,type:d,stroke:f,connectNulls:m,isRange:h}=l,{id:g}=l,v=F6(l,Tpe),y=Mr(v),w=cr(v);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(fn,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},p.createElement(gc,Wl({},w,{id:g,points:t,connectNulls:m,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&p.createElement(gc,Wl({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:t})),f!=="none"&&h&&p.createElement(gc,Wl({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r}))),p.createElement(Ipe,{points:t,props:v,clipPathId:s}))}function Fpe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,l=a[0].y,c=a[a.length-1].y;if(!Dt(l)||!Dt(c))return null;var d=t*Math.abs(l-c),f=Math.max(...a.map(m=>m.x||0));return Be(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.x||0),f)),Be(f)?p.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function zpe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,l=a[0].x,c=a[a.length-1].x;if(!Dt(l)||!Dt(c))return null;var d=t*Math.abs(l-c),f=Math.max(...a.map(m=>m.y||0));return Be(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.y||0),f)),Be(f)?p.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function Bpe(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:l}=e;return r==="vertical"?p.createElement(Fpe,{alpha:t,points:a,baseLine:s,strokeWidth:l}):p.createElement(zpe,{alpha:t,points:a,baseLine:s,strokeWidth:l})}function Upe(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:l}=e,{points:c,baseLine:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=a,w=p.useMemo(()=>({points:c,baseLine:d}),[c,d]),j=Nf(w,"recharts-area-"),N=Hte(),[C,E]=p.useState(!1),A=!C,P=p.useCallback(()=>{typeof y=="function"&&y(),E(!1)},[y]),k=p.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]);if(N==null)return null;var T=s.current,_=l.current;return p.createElement($pe,{showLabels:A,points:c},a.children,p.createElement(bf,{animationId:j,begin:m,duration:h,isActive:f,easing:g,onAnimationEnd:P,onAnimationStart:k,key:j},L=>{if(T){var X=T.length/c.length,I=L===1?c:c.map((K,ye)=>{var W=Math.floor(ye*X);if(T[W]){var ee=T[W];return uc(uc({},K),{},{x:Xt(ee.x,K.x,L),y:Xt(ee.y,K.y,L)})}return K}),R;return Be(d)?R=Xt(_,d,L):an(d)||Dr(d)?R=Xt(_,0,L):R=d.map((K,ye)=>{var W=Math.floor(ye*X);if(Array.isArray(_)&&_[W]){var ee=_[W];return uc(uc({},K),{},{x:Xt(ee.x,K.x,L),y:Xt(ee.y,K.y,L)})}return K}),L>0&&(s.current=I,l.current=R),p.createElement(wR,{points:I,baseLine:R,needClip:t,clipPathId:r,props:a})}return L>0&&(s.current=c,l.current=d),p.createElement(fn,null,f&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(Bpe,{alpha:L,points:c,baseLine:d,layout:N,strokeWidth:a.strokeWidth}))),p.createElement(fn,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(wR,{points:c,baseLine:d,needClip:t,clipPathId:r,props:a})))}),p.createElement(fS,{label:a.label}))}function Hpe(e){var{needClip:t,clipPathId:r,props:a}=e,s=p.useRef(null),l=p.useRef();return p.createElement(Upe,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:l})}class qpe extends p.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:l,left:c,needClip:d,xAxisId:f,yAxisId:m,width:h,height:g,id:v,baseLine:y,zIndex:w}=this.props;if(t)return null;var j=wt("recharts-area",s),N=v,{r:C,strokeWidth:E}=Spe(r),A=m6(r),P=C*2+E,k=d?"url(#clipPath-".concat(A?"":"dots-").concat(N,")"):void 0;return p.createElement(vr,{zIndex:w},p.createElement(fn,{className:j},d&&p.createElement("defs",null,p.createElement(b6,{clipPathId:N,xAxisId:f,yAxisId:m}),!A&&p.createElement("clipPath",{id:"clipPath-dots-".concat(N)},p.createElement("rect",{x:c-P/2,y:l-P/2,width:h+P,height:g+P}))),p.createElement(Hpe,{needClip:d,clipPathId:N,props:this.props})),p.createElement(iR,{points:a,mainColor:dx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(y)&&p.createElement(iR,{points:y,mainColor:dx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var z6={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:yn.area};function Vpe(e){var t,r=bn(e,z6),{activeDot:a,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,fill:m,fillOpacity:h,hide:g,isAnimationActive:v,legendType:y,stroke:w,xAxisId:j,yAxisId:N}=r,C=F6(r,Ope),E=nd(),A=$$(),{needClip:P}=NS(j,N),k=ar(),{points:T,isRange:_,baseLine:L}=(t=Fe(W=>Ppe(W,j,N,k,e.id)))!==null&&t!==void 0?t:{},X=bS();if(E!=="horizontal"&&E!=="vertical"||X==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:I,width:R,x:K,y:ye}=X;return!T||!T.length?null:p.createElement(qpe,Wl({},C,{activeDot:a,animationBegin:s,animationDuration:l,animationEasing:c,baseLine:L,connectNulls:d,dot:f,fill:m,fillOpacity:h,height:I,hide:g,layout:E,isAnimationActive:v==="auto"?!rd.isSsr:v,isRange:_,legendType:y,needClip:P,points:T,stroke:w,width:R,left:K,top:ye,xAxisId:j,yAxisId:N}))}var Kpe=(e,t,r,a,s)=>{var l=r??t;if(Be(l))return l;var c=e==="horizontal"?s:a,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]};function Wpe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:l,chartBaseValue:c,xAxis:d,yAxis:f,displayedData:m,dataStartIndex:h,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,w=s&&s.length,j=Kpe(l,c,r,d,f),N=l==="horizontal",C=!1,E=m.map((P,k)=>{var T;w?T=s[h+k]:(T=Ht(P,a),Array.isArray(T)?C=!0:T=[j,T]);var _=T[1]==null||w&&!t&&Ht(P,a)==null;return N?{x:AO({axis:d,ticks:g,bandSize:y,entry:P,index:k}),y:_?null:f.scale(T[1]),value:T,payload:P}:{x:_?null:d.scale(T[1]),y:AO({axis:f,ticks:v,bandSize:y,entry:P,index:k}),value:T,payload:P}}),A;return w||C?A=E.map(P=>{var k=Array.isArray(P.value)?P.value[0]:null;return N?{x:P.x,y:k!=null&&P.y!=null?f.scale(k):null,payload:P.payload}:{x:k!=null?d.scale(k):null,y:P.y,payload:P.payload}}):A=N?f.scale(j):d.scale(j),{points:E,baseLine:A,isRange:C}}function Gpe(e){var t=bn(e,z6),r=ar();return p.createElement(jS,{id:t.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(p6,{legendPayload:Dpe(t)}),p.createElement(Lpe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(v6,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:mL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(Vpe,Wl({},t,{id:a}))))}var Xh=p.memo(Gpe,Eg);Xh.displayName="Area";var Ype=["domain","range"],Qpe=["domain","range"];function SR(e,t){if(e==null)return{};var r,a,s=Xpe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Xpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function CR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function B6(e,t){if(e===t)return!0;var{domain:r,range:a}=e,s=SR(e,Ype),{domain:l,range:c}=t,d=SR(t,Qpe);return!CR(r,l)||!CR(a,c)?!1:Eg(s,d)}var Zpe=["dangerouslySetInnerHTML","ticks"],Jpe=["id"];function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},TN.apply(null,arguments)}function ER(e,t){if(e==null)return{};var r,a,s=exe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function exe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function txe(e){var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(yfe(e)):r.current!==e&&t(jfe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(bfe(r.current)),r.current=null)},[t]),null}var nxe=e=>{var{xAxisId:t,className:r}=e,a=Fe(Yw),s=ar(),l="xAxis",c=Fe(N=>nl(N,l,t,s)),d=Fe(N=>x$(N,l,t,s)),f=Fe(N=>f$(N,t)),m=Fe(N=>Nle(N,t)),h=Fe(N=>WI(N,t));if(f==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=ER(e,Zpe),{id:w}=h,j=ER(h,Jpe);return p.createElement(SS,TN({},y,j,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:wt("recharts-".concat(l," ").concat(l),r),viewBox:a,ticks:d,axisType:l}))},rxe={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:Gs.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:Gs.tickLine,tickSize:Gs.tickSize,type:Hn.type,xAxisId:0},axe=e=>{var t=bn(e,rxe);return p.createElement(p.Fragment,null,p.createElement(txe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(nxe,t))},CS=p.memo(axe,B6);CS.displayName="XAxis";var sxe=["dangerouslySetInnerHTML","ticks"],ixe=["id"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ON.apply(null,arguments)}function AR(e,t){if(e==null)return{};var r,a,s=lxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function oxe(e){var t=Vt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(Nfe(e)):r.current!==e&&t(wfe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(Sfe(r.current)),r.current=null)},[t]),null}var cxe=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,l=p.useRef(null),c=p.useRef(null),d=Fe(Yw),f=ar(),m=Vt(),h="yAxis",g=Fe(k=>nl(k,h,t,f)),v=Fe(k=>m$(k,t)),y=Fe(k=>Sle(k,t)),w=Fe(k=>x$(k,h,t,f)),j=Fe(k=>GI(k,t));if(p.useLayoutEffect(()=>{if(!(a!=="auto"||!v||uS(s)||p.isValidElement(s)||j==null)){var k=l.current;if(k){var T=k.getCalculatedWidth();Math.round(v.width)!==Math.round(T)&&m(Cfe({id:t,width:T}))}}},[w,v,m,s,t,a,j]),v==null||y==null||j==null)return null;var{dangerouslySetInnerHTML:N,ticks:C}=e,E=AR(e,sxe),{id:A}=j,P=AR(j,ixe);return p.createElement(SS,ON({},E,P,{ref:l,labelRef:c,scale:g,x:y.x,y:y.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:v.width,height:v.height,className:wt("recharts-".concat(h," ").concat(h),r),viewBox:d,ticks:w,axisType:h}))},dxe={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,angle:qn.angle,axisLine:Gs.axisLine,hide:!1,includeHidden:qn.includeHidden,interval:qn.interval,minTickGap:qn.minTickGap,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,tickLine:Gs.tickLine,tickSize:Gs.tickSize,type:qn.type,width:qn.width,yAxisId:0},uxe=e=>{var t=bn(e,dxe);return p.createElement(p.Fragment,null,p.createElement(oxe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(cxe,t))},ES=p.memo(uxe,B6);ES.displayName="YAxis";var fxe=(e,t)=>t,AS=ue([fxe,St,VI,Fn,_$,mi,Foe,In],Koe),PS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},U6=Pa("mouseClick"),H6=xf();H6.startListening({actionCreator:U6,effect:(e,t)=>{var r=e.payload,a=AS(t.getState(),PS(r));a?.activeIndex!=null&&t.dispatch($le({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var kN=Pa("mouseMove"),q6=xf(),_h=null;q6.startListening({actionCreator:kN,effect:(e,t)=>{var r=e.payload;_h!==null&&cancelAnimationFrame(_h);var a=PS(r);_h=requestAnimationFrame(()=>{var s=t.getState(),l=J1(s,s.tooltip.settings.shared);if(l==="axis"){var c=AS(s,a);c?.activeIndex!=null?t.dispatch(S$({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(w$())}_h=null})}});var PR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},V6=Ir({name:"rootProps",initialState:PR,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:PR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),mxe=V6.reducer,{updateOptions:hxe}=V6.actions,K6=Ir({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pxe}=K6.actions,xxe=K6.reducer,W6=Pa("keyDown"),G6=Pa("focus"),TS=xf();TS.startListening({actionCreator:W6,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=eS(s,ud(r),kf(r),Df(r)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=mi(r);if(l==="Enter"){var m=ex(r,"axis","hover",String(s.index));t.dispatch(NN({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var h=Ple(r),g=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,y=d+v*g;if(!(f==null||y>=f.length||y<0)){var w=ex(r,"axis","hover",String(y));t.dispatch(NN({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});TS.startListening({actionCreator:G6,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var l="0",c=ex(r,"axis","hover",String(l));t.dispatch(NN({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var ja=Pa("externalEvent"),Y6=xf(),Zj=new Map;Y6.startListening({actionCreator:ja,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(r!=null){a.persist();var s=a.type,l=Zj.get(s);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:Soe(d),activeDataKey:sS(d),activeIndex:sl(d),activeLabel:D$(d),activeTooltipIndex:sl(d),isTooltipActive:Coe(d)};r(f,a)}finally{Zj.delete(s)}});Zj.set(s,c)}}});var gxe=ue([dd],e=>e.tooltipItemPayloads),vxe=ue([gxe,Rf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,r);return c}}}),Q6=Pa("touchMove"),X6=xf();X6.startListening({actionCreator:Q6,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),s=J1(a,a.tooltip.settings.shared);if(s==="axis"){var l=AS(a,PS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(S$({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(pL),h=(c=f.getAttribute(xL))!==null&&c!==void 0?c:void 0,g=vxe(t.getState(),m,h);t.dispatch(N$({activeDataKey:h,activeIndex:m,activeCoordinate:g}))}}}});var yxe=L3({brush:hhe,cartesianAxis:Efe,chartData:wce,errorBars:Vfe,graphicalItems:_ue,layout:Qee,legend:ane,options:vce,polarAxis:Wde,polarOptions:xxe,referenceElements:Che,rootProps:mxe,tooltip:Fle,zIndex:ice}),jxe=function(t){return bee({reducer:yxe,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([H6.middleware,q6.middleware,TS.middleware,Y6.middleware,X6.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(X3({type:"raf"}))},devTools:rd.devToolsEnabled})};function Z6(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=ar(),l=p.useRef(null);if(s)return r;l.current==null&&(l.current=jxe(t));var c=zw;return p.createElement(xme,{context:c,store:l.current},r)}function bxe(e){var{layout:t,margin:r}=e,a=Vt(),s=ar();return p.useEffect(()=>{s||(a(Wee(t)),a(Kee(r)))},[a,s,t,r]),null}var J6=p.memo(bxe,Eg);function eF(e){var t=Vt();return p.useEffect(()=>{t(hxe(e))},[t,e]),null}function TR(e){var{zIndex:t,isPanorama:r}=e,a=r?"recharts-zindex-panorama-":"recharts-zindex-",s=x6("".concat(a).concat(t)),l=Vt();return p.useLayoutEffect(()=>(l(ace({zIndex:t,elementId:s,isPanorama:r})),()=>{l(sce({zIndex:t,isPanorama:r}))}),[l,t,s,r]),p.createElement("g",{tabIndex:-1,id:s})}function OR(e){var{children:t,isPanorama:r}=e,a=Fe(Goe);if(!a||a.length===0)return t;var s=a.filter(c=>c<0),l=a.filter(c=>c>0);return p.createElement(p.Fragment,null,s.map(c=>p.createElement(TR,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>p.createElement(TR,{key:c,zIndex:c,isPanorama:r})))}var Nxe=["children"];function wxe(e,t){if(e==null)return{};var r,a,s=Sxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ux.apply(null,arguments)}var Cxe={width:"100%",height:"100%",display:"block"},Exe=p.forwardRef((e,t)=>{var r=Xw(),a=Zw(),s=_L();if(!cs(r)||!cs(a))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0),p.createElement(Ow,ux({},c,{title:d,desc:f,role:h,tabIndex:m,width:r,height:a,style:Cxe,ref:t}),l)}),Axe=e=>{var{children:t}=e,r=Fe(Zx);if(!r)return null;var{width:a,height:s,y:l,x:c}=r;return p.createElement(Ow,{width:a,height:s,x:c,y:l},t)},kR=p.forwardRef((e,t)=>{var{children:r}=e,a=wxe(e,Nxe),s=ar();return s?p.createElement(Axe,null,p.createElement(OR,{isPanorama:!0},r)):p.createElement(Exe,ux({ref:t},a),p.createElement(OR,{isPanorama:!1},r))});function Pxe(){var e=Vt(),[t,r]=p.useState(null),a=Fe(mte);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Dt(l)&&l!==a&&e(Yee(l))}},[t,e,a]),r}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Txe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(a){Oxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Oxe(e,t,r){return(t=kxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kxe(e){var t=_xe(e,"string");return typeof t=="symbol"?t:t+""}function _xe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lo.apply(null,arguments)}var Rxe=()=>(_ce(),null);function fx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Mxe=p.forwardRef((e,t)=>{var r,a,s=p.useRef(null),[l,c]=p.useState({containerWidth:fx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:fx((a=e.style)===null||a===void 0?void 0:a.height)}),d=p.useCallback((m,h)=>{c(g=>{var v=Math.round(m),y=Math.round(h);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),f=p.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=m.getBoundingClientRect();d(h,g);var v=w=>{var{width:j,height:N}=w[0].contentRect;d(j,N)},y=new ResizeObserver(v);y.observe(m),s.current=y}},[t,d]);return p.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[d]),p.createElement(p.Fragment,null,p.createElement(Jx,{width:l.containerWidth,height:l.containerHeight}),p.createElement("div",lo({ref:f},e)))}),Dxe=p.forwardRef((e,t)=>{var{width:r,height:a}=e,[s,l]=p.useState({containerWidth:fx(r),containerHeight:fx(a)}),c=p.useCallback((f,m)=>{l(h=>{var g=Math.round(f),v=Math.round(m);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),d=p.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return p.createElement(p.Fragment,null,p.createElement(Jx,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",lo({ref:d},e)))}),Lxe=p.forwardRef((e,t)=>{var{width:r,height:a}=e;return p.createElement(p.Fragment,null,p.createElement(Jx,{width:r,height:a}),p.createElement("div",lo({ref:t},e)))}),Ixe=p.forwardRef((e,t)=>{var{width:r,height:a}=e;return ei(r)||ei(a)?p.createElement(Dxe,lo({},e,{ref:t})):p.createElement(Lxe,lo({},e,{ref:t}))});function $xe(e){return e===!0?Mxe:Ixe}var Fxe=p.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:w,onTouchStart:j,style:N,width:C,responsive:E,dispatchTouchEvents:A=!0}=e,P=p.useRef(null),k=Vt(),[T,_]=p.useState(null),[L,X]=p.useState(null),I=Pxe(),R=Qw(),K=R?.width>0?R.width:C,ye=R?.height>0?R.height:s,W=p.useCallback(ae=>{I(ae),typeof t=="function"&&t(ae),_(ae),X(ae),ae!=null&&(P.current=ae)},[I,t,_,X]),ee=p.useCallback(ae=>{k(U6(ae)),k(ja({handler:l,reactEvent:ae}))},[k,l]),B=p.useCallback(ae=>{k(kN(ae)),k(ja({handler:m,reactEvent:ae}))},[k,m]),Z=p.useCallback(ae=>{k(w$()),k(ja({handler:h,reactEvent:ae}))},[k,h]),$=p.useCallback(ae=>{k(kN(ae)),k(ja({handler:g,reactEvent:ae}))},[k,g]),fe=p.useCallback(()=>{k(G6())},[k]),pe=p.useCallback(ae=>{k(W6(ae.key))},[k]),M=p.useCallback(ae=>{k(ja({handler:c,reactEvent:ae}))},[k,c]),te=p.useCallback(ae=>{k(ja({handler:d,reactEvent:ae}))},[k,d]),me=p.useCallback(ae=>{k(ja({handler:f,reactEvent:ae}))},[k,f]),Ne=p.useCallback(ae=>{k(ja({handler:v,reactEvent:ae}))},[k,v]),le=p.useCallback(ae=>{k(ja({handler:j,reactEvent:ae}))},[k,j]),Ie=p.useCallback(ae=>{A&&k(Q6(ae)),k(ja({handler:w,reactEvent:ae}))},[k,A,w]),F=p.useCallback(ae=>{k(ja({handler:y,reactEvent:ae}))},[k,y]),Te=$xe(E);return p.createElement(H$.Provider,{value:T},p.createElement(Z5.Provider,{value:L},p.createElement(Te,{width:K??N?.width,height:ye??N?.height,className:wt("recharts-wrapper",a),style:Txe({position:"relative",cursor:"default",width:K,height:ye},N),onClick:ee,onContextMenu:M,onDoubleClick:te,onFocus:fe,onKeyDown:pe,onMouseDown:me,onMouseEnter:B,onMouseLeave:Z,onMouseMove:$,onMouseUp:Ne,onTouchEnd:F,onTouchMove:Ie,onTouchStart:le,ref:W},p.createElement(Rxe,null),r)))}),zxe=["width","height","responsive","children","className","style","compact","title","desc"];function Bxe(e,t){if(e==null)return{};var r,a,s=Uxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Uxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var tF=p.forwardRef((e,t)=>{var{width:r,height:a,responsive:s,children:l,className:c,style:d,compact:f,title:m,desc:h}=e,g=Bxe(e,zxe),v=Mr(g);return f?p.createElement(p.Fragment,null,p.createElement(Jx,{width:r,height:a}),p.createElement(kR,{otherAttributes:v,title:m,desc:h},l)):p.createElement(Fxe,{className:c,style:d,width:r,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(kR,{otherAttributes:v,title:m,desc:h,ref:t},p.createElement(Ehe,null,l)))});function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_N.apply(null,arguments)}var Hxe={top:5,right:5,bottom:5,left:5},qxe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Hxe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nF=p.forwardRef(function(t,r){var a,s=bn(t.categoricalChartProps,qxe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(Z6,{preloadedState:{options:h},reduxStoreName:(a=m.id)!==null&&a!==void 0?a:l},p.createElement(C6,{chartData:m.data}),p.createElement(J6,{layout:s.layout,margin:s.margin}),p.createElement(eF,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(tF,_N({},s,{ref:r})))}),Vxe=["axis","item"],Kxe=p.forwardRef((e,t)=>p.createElement(nF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vxe,tooltipPayloadSearcher:dS,categoricalChartProps:e,ref:t}));function Wxe(e){var t=Vt();return p.useEffect(()=>{t(pxe(e))},[t,e]),null}var Gxe=["layout"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},RN.apply(null,arguments)}function Yxe(e,t){if(e==null)return{};var r,a,s=Qxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Qxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Xxe={top:5,right:5,bottom:5,left:5},rF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xxe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zxe=p.forwardRef(function(t,r){var a,s=bn(t.categoricalChartProps,rF),{layout:l}=s,c=Yxe(s,Gxe),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(Z6,{preloadedState:{options:g},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:d},p.createElement(C6,{chartData:s.data}),p.createElement(J6,{layout:l,margin:s.margin}),p.createElement(eF,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(Wxe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(tF,RN({},c,{ref:r})))});function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function MR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(a){Jxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jxe(e,t,r){return(t=ege(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ege(e){var t=tge(e,"string");return typeof t=="symbol"?t:t+""}function tge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nge=["item"],rge=MR(MR({},rF),{},{layout:"centric",startAngle:0,endAngle:360}),Pg=p.forwardRef((e,t)=>{var r=bn(e,rge);return p.createElement(Zxe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:nge,tooltipPayloadSearcher:dS,categoricalChartProps:r,ref:t})}),age=["axis"],sge=p.forwardRef((e,t)=>p.createElement(nF,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:age,tooltipPayloadSearcher:dS,categoricalChartProps:e,ref:t}));const ige=[{value:"1w",label:"1W"},{value:"1m",label:"1M"},{value:"3m",label:"3M"},{value:"1y",label:"1Y"},{value:"2y",label:"2Y"},{value:"all",label:"All"}],lge=[{value:"7d",label:"7D"},{value:"30d",label:"30D"},{value:"6m",label:"6M"},{value:"1y",label:"1Y"}];function oge(){const{toast:e}=Zt(),[t,r]=p.useState(""),[a,s]=p.useState(null),[l,c]=p.useState("all"),[d,f]=p.useState("30d"),{data:m,isLoading:h,isError:g,refetch:v}=_e({queryKey:["/api/admin/bridge/overview"]}),{data:y,isLoading:w,isError:j}=_e({queryKey:["/api/admin/bridge/extractors",l],queryFn:async()=>{const J=await fetch(`/api/admin/bridge/extractors?timeRange=${l}&limit=1000`);if(!J.ok)throw new Error("Failed to fetch extractors");return J.json()}}),N=m&&!("error"in m)?m:null,C=Array.isArray(y)?y:[],{data:E,isLoading:A,isError:P,refetch:k}=_e({queryKey:["/api/admin/bridge/value-breakdown"]}),{data:T,isLoading:_}=_e({queryKey:["/api/admin/bridge/tvl-reconciliation"]}),{data:L,isLoading:X}=_e({queryKey:["/api/admin/bridge/daily-averages"]}),{data:I,isLoading:R}=_e({queryKey:["/api/admin/bridge/daily-timeseries",d],queryFn:async()=>{const J=await fetch(`/api/admin/bridge/daily-timeseries?range=${d}`);if(!J.ok)throw new Error("Failed to fetch time series");return J.json()}}),{data:K,isLoading:ye}=_e({queryKey:["/api/admin/bridge/wallet",a],enabled:!!a}),W=Ee({mutationFn:async J=>De("POST","/api/admin/bridge/index-wallet",{wallet:J}),onSuccess:()=>{e({title:"Wallet indexed successfully"}),Re.invalidateQueries({queryKey:["/api/admin/bridge"]})},onError:()=>{e({title:"Failed to index wallet",variant:"destructive"})}}),ee=Ee({mutationFn:async()=>De("POST","/api/admin/bridge/refresh-metrics"),onSuccess:()=>{e({title:"Metrics refreshed"}),Re.invalidateQueries({queryKey:["/api/admin/bridge"]})}}),{data:B}=_e({queryKey:["/api/admin/bridge/indexer-status"],refetchInterval:5e3}),Z=Ee({mutationFn:async()=>De("POST","/api/admin/bridge/run-indexer"),onSuccess:()=>{e({title:"Bridge indexer started",description:"Scanning last 100k blocks (~2-3 days). This may take several minutes."}),Re.invalidateQueries({queryKey:["/api/admin/bridge/indexer-status"]})},onError:J=>{J?.message?.includes("409")?e({title:"Indexer already running",variant:"destructive"}):e({title:"Failed to start indexer",variant:"destructive"})}}),{data:$}=_e({queryKey:["/api/admin/bridge/sync-progress"],refetchInterval:5e3});Ee({mutationFn:async()=>De("POST","/api/admin/bridge/start-historical-sync"),onSuccess:()=>{e({title:"Historical sync started",description:"Indexing from genesis block. This may take hours."}),Re.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})},onError:()=>{e({title:"Failed to start historical sync",variant:"destructive"})}}),Ee({mutationFn:async()=>De("POST","/api/admin/bridge/stop-historical-sync"),onSuccess:()=>{e({title:"Historical sync stopped"}),Re.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})}});const{data:fe,refetch:pe}=_e({queryKey:["/api/admin/bridge/batch-progress"],refetchInterval:1e3});Ee({mutationFn:async()=>(await De("POST","/api/admin/bridge/run-incremental-batch")).json(),onSuccess:J=>{pe(),J.status==="complete"?e({title:"Already at latest block",description:J.message}):J.status==="success"?e({title:"Indexed 10K blocks",description:`Blocks ${J.startBlock?.toLocaleString()}-${J.endBlock?.toLocaleString()}: ${J.eventsInserted} events in ${((J.runtimeMs||0)/1e3).toFixed(1)}s`}):J.status==="error"&&e({title:"Batch failed",description:J.error,variant:"destructive"}),Re.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})},onError:J=>{J?.message?.includes("409")?e({title:"Batch already running",variant:"destructive"}):e({title:"Failed to run batch",variant:"destructive"})}});const{data:M,refetch:te}=_e({queryKey:["/api/admin/bridge/parallel-sync/status"],refetchInterval:3e3}),[me,Ne]=p.useState(8),le=Ee({mutationFn:async()=>De("POST","/api/admin/bridge/parallel-sync/start",{workers:me,batchSize:1e4,maxBatches:100}),onSuccess:()=>{e({title:"Parallel sync started",description:`${me} workers indexing in parallel`}),te()},onError:J=>{J?.message?.includes("409")?e({title:"Parallel sync already running",variant:"destructive"}):e({title:"Failed to start parallel sync",variant:"destructive"})}}),Ie=Ee({mutationFn:async()=>De("POST","/api/admin/bridge/parallel-sync/stop"),onSuccess:()=>{e({title:"Parallel sync stopping",description:"Workers will complete current batches"}),te()},onError:()=>{e({title:"Failed to stop parallel sync",variant:"destructive"})}}),{data:F,refetch:Te}=_e({queryKey:["/api/admin/bridge/price-enrichment/status"],refetchInterval:3e3}),ae=Ee({mutationFn:async()=>De("POST","/api/admin/bridge/price-enrichment/start",{workers:8}),onSuccess:()=>{e({title:"Price enrichment started",description:"8 workers adding USD values in parallel"}),Te()},onError:J=>{J?.message?.includes("409")?e({title:"Enrichment already running",variant:"destructive"}):e({title:"Failed to start enrichment",variant:"destructive"})}}),Oe=Ee({mutationFn:async()=>De("POST","/api/admin/bridge/price-enrichment/stop"),onSuccess:()=>{e({title:"Enrichment stopping",description:"Workers will complete current batches"}),Te()},onError:()=>{e({title:"Failed to stop enrichment",variant:"destructive"})}}),$e=async()=>{if(t.trim()){const J=t.trim().toLowerCase();try{await W.mutateAsync(J),s(J)}catch{}}},xe=J=>{const oe=typeof J=="string"?parseFloat(J):J;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(oe)},at=J=>{const oe=typeof J=="string"?parseFloat(J):J;return oe>=1e9?`$${(oe/1e9).toFixed(2)}B`:oe>=1e6?`$${(oe/1e6).toFixed(2)}M`:oe>=1e3?`$${(oe/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(oe)},Ye=J=>{const oe=typeof J=="string"?parseFloat(J):J,Je=Math.abs(oe);let ct;return Je>=1e9?ct=`$${(Je/1e9).toFixed(2)}B`:Je>=1e6?ct=`$${(Je/1e6).toFixed(2)}M`:Je>=1e3?ct=`$${(Je/1e3).toFixed(2)}K`:ct=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Je),oe<0?`(${ct})`:ct},Lt=J=>new Date(J).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),kt=J=>`${J.slice(0,6)}...${J.slice(-4)}`;return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"bridge-analytics",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Bridge Analytics"}),n.jsx("p",{className:"text-muted-foreground",children:"Track cross-chain bridge flows and identify extractors"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>Z.mutate(),disabled:Z.isPending||B?.running,"data-testid":"button-run-indexer",children:[B?.running?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 mr-2"}),B?.running?"Indexer Running...":"Run Indexer"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>ee.mutate(),disabled:ee.isPending,"data-testid":"button-refresh-metrics",children:[n.jsx(Xe,{className:`h-4 w-4 mr-2 ${ee.isPending?"animate-spin":""}`}),"Refresh Metrics"]})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Sa,{className:"h-5 w-5"}),"Historical Sync Progress"]}),n.jsx(Se,{children:"Index all bridge events from genesis for complete extraction analysis"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[M?.running?n.jsxs(ne,{variant:"destructive",size:"sm",onClick:()=>Ie.mutate(),disabled:Ie.isPending,"data-testid":"button-stop-parallel-sync",children:[n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Stop Sync (",M.combinedProgress,"%)"]}):n.jsxs(ne,{variant:"default",size:"sm",onClick:()=>le.mutate(),disabled:le.isPending||M?.allComplete,"data-testid":"button-start-parallel-sync",children:[le.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Wn,{className:"h-4 w-4 mr-2"}),M?.allComplete?"Sync Complete":"Start Block Sync"]}),F?.running?n.jsxs(ne,{variant:"destructive",size:"sm",onClick:()=>Oe.mutate(),disabled:Oe.isPending,"data-testid":"button-stop-enrichment",children:[n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Stop Prices (",F.workers.filter(J=>J.running).length," active)"]}):n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>ae.mutate(),disabled:ae.isPending||F?.unpricedCount===0,"data-testid":"button-start-enrichment",children:[ae.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Ea,{className:"h-4 w-4 mr-2"}),F?.unpricedCount===0?"All Priced":"Add USD Prices"]})]})]})}),n.jsxs(Y,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{variant:M?.running?"default":M?.allComplete?"outline":$?.progress?.status==="error"?"destructive":"secondary",children:M?.running?`Syncing (${M.combinedProgress}%)`:M?.allComplete?"Complete":`${(M?.combinedProgress||0).toFixed(0)}% synced`}),F?.running&&n.jsx(q,{variant:"default",children:"Pricing"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Progress"}),n.jsxs("p",{className:"text-lg font-semibold",children:[(M?.combinedProgress||0).toFixed(0),"% / ",(M?.latestBlock||0).toLocaleString()," blocks"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"text-lg font-semibold",children:(M?.workers?.reduce((J,oe)=>J+(oe.totalEventsIndexed||0),0)||0).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Needing USD Prices"}),n.jsx("p",{className:"text-lg font-semibold",children:(F?.unpricedCount||0).toLocaleString()})]})]}),M?.latestBlock&&M.latestBlock>0&&(()=>{const J=M?.combinedProgress||0,oe=M.latestBlock,Je=M?.allComplete||!1,ct=M?.workers?.filter(ln=>ln.status==="running"||ln.progress<100&&ln.status!=="complete").length||0;return n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg","data-testid":"block-sync-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Block Sync Progress"}),n.jsxs("span",{className:"text-sm font-mono",children:[J.toFixed(2),"%"]})]}),n.jsx(Ut,{value:J,className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Workers:"}),n.jsxs("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-workers",children:[ct," of ",M?.workersTotal||8," active"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Latest block:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-latest-block",children:oe.toLocaleString()})]})]}),n.jsx("div",{className:"text-xs mt-1 text-center",children:Je?n.jsx("span",{className:"text-green-600 font-medium",children:"Sync complete"}):M?.running?n.jsxs("span",{className:"text-primary font-medium",children:["Syncing with ",M.workersTotal," parallel workers"]}):n.jsxs("span",{className:"text-muted-foreground",children:[(100-J).toFixed(0),"% remaining"]})}),(M?.workers?.reduce((ln,yr)=>ln+(yr.totalBatchCount||0),0)??0)>0&&n.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-muted text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total batches:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-batch-count",children:(M?.workers?.reduce((ln,yr)=>ln+(yr.totalBatchCount||0),0)||0).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Completed workers:"}),n.jsxs("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-completed-workers",children:[M?.workers?.filter(ln=>ln.status==="complete").length||0," / ",M?.workersTotal||8]})]})]})]})})(),$?.progress?.lastError&&n.jsxs("div",{className:"mt-3 p-2 bg-destructive/10 rounded text-sm text-destructive",children:["Last error: ",$.progress.lastError]}),M?.running&&M.workers&&M.workers.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg","data-testid":"parallel-sync-workers",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Wn,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Block Sync Workers"}),n.jsxs(q,{variant:"outline",className:"ml-auto",children:[M.workers.filter(J=>J.status==="running"||J.progress<100).length," active"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:M.workers.map(J=>n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["W",J.workerId]}),n.jsx(Ut,{value:J.progress,className:"h-1.5"}),n.jsxs("div",{className:"text-xs font-mono",children:[J.progress.toFixed(0),"%"]})]},J.workerId))})]}),(F?.unpricedCount>0||F?.running)&&(()=>{const J=F?.unpricedCount||0,oe=F?.workers?.reduce((Nn,et)=>Nn+(et.eventsUpdated||0),0)||0,Je=J+oe,ct=Je>0?oe/Je*100:0,ln=F?.workers?.filter(Nn=>Nn.running).length||0,yr=F?.running;return n.jsxs("div",{className:"mt-4 p-4 bg-green-500/5 border border-green-500/20 rounded-lg","data-testid":"pricing-sync-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ea,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Pricing Sync Progress"})]}),n.jsxs("span",{className:"text-sm font-mono",children:[ct.toFixed(1),"%"]})]}),n.jsx(Ut,{value:ct,className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Events priced:"}),n.jsx("span",{className:"font-mono font-semibold text-green-600","data-testid":"text-events-priced",children:oe.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Remaining:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-events-remaining",children:J.toLocaleString()})]})]}),n.jsx("div",{className:"text-xs mt-1 text-center",children:J===0?n.jsx("span",{className:"text-green-600 font-medium",children:"All events priced!"}):yr?n.jsxs("span",{className:"text-green-500 font-medium",children:["Pricing with ",ln," parallel workers"]}):n.jsxs("span",{className:"text-muted-foreground",children:[J.toLocaleString()," events need USD prices"]})}),yr&&F.workers&&F.workers.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Price Enrichment Workers"}),n.jsxs(q,{variant:"outline",className:"ml-auto text-xs",children:[ln," active"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:F.workers.map(Nn=>{const et=Nn.groupsTotal>0?Nn.groupsProcessed/Nn.groupsTotal*100:0;return n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["W",Nn.workerId]}),n.jsx(Ut,{value:et,className:"h-1.5"}),n.jsx("div",{className:"text-xs font-mono text-green-600",children:Nn.eventsUpdated})]},Nn.workerId)})}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Groups: ",F.workers.reduce((Nn,et)=>Nn+(et.groupsProcessed||0),0).toLocaleString()," / ",F.workers.reduce((Nn,et)=>Nn+(et.groupsTotal||0),0).toLocaleString()]}),n.jsxs("span",{children:["Total updated: ",oe.toLocaleString()]})]})]})]})})()]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Bridge Events"}),n.jsx(jc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:h?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-events",children:N?.events?.total??0}),n.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(sp,{className:"h-3 w-3 text-green-500"}),N?.events?.in??0," in"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ip,{className:"h-3 w-3 text-red-500"}),N?.events?.out??0," out"]})]})]})})]}),n.jsxs(G,{className:"md:col-span-2",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Net Bridge Flow"}),n.jsx(eV,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:h?n.jsx(Me,{className:"h-8 w-32"}):(()=>{const J=N?.events?.totalUsdIn??0,oe=N?.events?.totalUsdOut??0,Je=J-oe,ct=Je>=0;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"sr-only","data-testid":"stat-bridged-in",children:["Total bridged in: ",xe(J)]}),n.jsxs("span",{className:"sr-only","data-testid":"stat-bridged-out",children:["Total bridged out: ",xe(oe)]}),n.jsxs(Su,{children:[n.jsx(Cu,{asChild:!0,children:n.jsx("button",{type:"button",className:`text-2xl font-bold cursor-help bg-transparent border-0 p-0 text-left ${ct?"text-green-600":"text-red-600"}`,"data-testid":"stat-net-bridge-flow",children:Ye(Je)})}),n.jsx(hc,{side:"bottom",className:"text-xs",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("span",{className:"text-green-500",children:["In: ",xe(J)]}),n.jsxs("span",{className:"text-red-500",children:["Out: ",xe(oe)]})]})})]})]})})()})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Extractors Identified"}),n.jsx(Hs,{className:"h-4 w-4 text-orange-500"})]}),n.jsx(Y,{children:h?n.jsx(Me,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"stat-extractors",children:N?.metrics?.extractorCount??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[xe(N?.metrics?.totalExtracted??0)," extracted"]})]})})]})]}),n.jsxs(G,{"data-testid":"card-daily-averages",children:[n.jsx(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Sc,{className:"h-5 w-5"}),"Bridge Flow Daily Averages"]}),n.jsx(Se,{children:"Net daily average bridged in vs out by time period. Negative values (more out than in) shown in parentheses."})]})}),n.jsx(Y,{children:X?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(J=>n.jsx(Me,{className:"h-24"},J))}):L&&L.length>0?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:L.map(J=>n.jsxs("div",{className:"border rounded-lg p-4","data-testid":`daily-avg-${J.period}`,children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:J.label}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"In/day:"}),n.jsx("span",{className:"text-green-600 font-medium",children:at(J.dailyAvgIn)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Out/day:"}),n.jsx("span",{className:"text-red-600 font-medium",children:at(J.dailyAvgOut)})]}),n.jsx(Ln,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Net/day:"}),n.jsx("span",{className:`font-bold ${J.netDailyAvg>=0?"text-green-600":"text-red-600"}`,children:Ye(J.netDailyAvg)})]})]})]},J.period))}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bridge data available"})})]}),n.jsxs(G,{"data-testid":"card-daily-chart",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(jc,{className:"h-5 w-5"}),"Daily Bridge Flow"]}),n.jsx(Se,{children:"Daily in/out/net bridged amounts over time"})]}),n.jsx("div",{className:"flex gap-1",children:lge.map(J=>n.jsx(ne,{variant:d===J.value?"default":"outline",size:"sm",onClick:()=>f(J.value),"data-testid":`button-chart-range-${J.value}`,children:J.label},J.value))})]}),n.jsxs(Y,{children:[R?n.jsx("div",{className:"flex items-center justify-center h-64","data-testid":"loading-chart",children:n.jsx(Pe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):I&&I.length>0?n.jsx("div",{className:"h-[350px]","data-testid":"chart-area-container",children:n.jsx(zu,{width:"100%",height:"100%",children:n.jsxs(sge,{data:I,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorIn",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorOut",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(0, 84%, 60%)",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(0, 84%, 60%)",stopOpacity:0})]})]}),n.jsx(R6,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(CS,{dataKey:"date",tickFormatter:J=>new Date(J).toLocaleDateString("en-US",{month:"short",day:"numeric"}),className:"text-xs fill-muted-foreground"}),n.jsx(ES,{tickFormatter:J=>J>=1e6?`$${(J/1e6).toFixed(1)}M`:J>=1e3?`$${(J/1e3).toFixed(0)}K`:`$${J}`,className:"text-xs fill-muted-foreground"}),n.jsx(bg,{content:({active:J,payload:oe,label:Je})=>{if(J&&oe&&oe.length&&Je){const ct=new Date(String(Je));return n.jsxs("div",{className:"bg-popover border rounded-lg shadow-lg p-3 text-sm",children:[n.jsx("p",{className:"font-medium mb-2",children:ct.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-green-600",children:["In: ",at(oe[0]?.value||0)]}),n.jsxs("p",{className:"text-red-600",children:["Out: ",at(oe[1]?.value||0)]}),n.jsxs("p",{className:`font-medium ${(oe[2]?.value||0)>=0?"text-blue-600":"text-orange-600"}`,children:["Net: ",Ye(oe[2]?.value||0)]})]})]})}return null}}),n.jsx(O6,{y:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"3 3"}),n.jsx(Xh,{type:"monotone",dataKey:"in",stroke:"hsl(142, 76%, 36%)",fillOpacity:1,fill:"url(#colorIn)",name:"Bridged In"}),n.jsx(Xh,{type:"monotone",dataKey:"out",stroke:"hsl(0, 84%, 60%)",fillOpacity:1,fill:"url(#colorOut)",name:"Bridged Out"}),n.jsx(Xh,{type:"monotone",dataKey:"net",stroke:"hsl(217, 91%, 60%)",fill:"none",strokeWidth:2,strokeDasharray:"5 5",name:"Net Flow"})]})})}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bridge data available for chart"}),n.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Bridged In"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Bridged Out"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-0.5 bg-blue-500 border-dashed border-t-2 border-blue-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Net Flow"})]})]})]})]}),n.jsxs(G,{"data-testid":"card-value-distribution",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Nu,{className:"h-5 w-5"}),"DFK Chain Value Distribution"]}),n.jsx(Se,{children:"Where bridged tokens are locked across LP pools, staking, and game contracts"})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>k(),disabled:A,"data-testid":"button-refresh-breakdown",children:[n.jsx(Xe,{className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),"Refresh"]})]}),n.jsx(Y,{children:A?n.jsx("div",{className:"flex items-center justify-center h-64","data-testid":"loading-breakdown",children:n.jsx(Pe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):P?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-4","data-testid":"error-breakdown",children:[n.jsx(Hs,{className:"h-8 w-8 text-destructive"}),n.jsx("p",{children:"Failed to load value breakdown data"}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>k(),"data-testid":"button-retry-breakdown",children:[n.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):E?.summary?n.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[n.jsx("div",{className:"h-[280px] min-h-[250px]","data-testid":"chart-pie-container",children:n.jsx(zu,{width:"100%",height:"100%",children:n.jsxs(Pg,{children:[n.jsx(If,{data:[{name:"LP Pools",value:E.summary.lpPoolsValue,fill:"hsl(217, 91%, 60%)"},{name:"Staking",value:E.summary.stakingValue,fill:"hsl(160, 84%, 39%)"},{name:"Bridges",value:E.summary.bridgeValue,fill:"hsl(38, 92%, 50%)"},{name:"System",value:E.summary.systemValue,fill:"hsl(263, 70%, 50%)"}].filter(J=>J.value>0),cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",label:({name:J,percent:oe})=>`${J} ${(oe*100).toFixed(0)}%`,labelLine:!1,children:[{name:"LP Pools",value:E.summary.lpPoolsValue,fill:"hsl(217, 91%, 60%)"},{name:"Staking",value:E.summary.stakingValue,fill:"hsl(160, 84%, 39%)"},{name:"Bridges",value:E.summary.bridgeValue,fill:"hsl(38, 92%, 50%)"},{name:"System",value:E.summary.systemValue,fill:"hsl(263, 70%, 50%)"}].filter(J=>J.value>0).map((J,oe)=>n.jsx(ii,{fill:J.fill},`cell-${oe}`))}),n.jsx(jf,{wrapperStyle:{fontSize:"12px"}})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 bg-blue-500/10 dark:bg-blue-500/20 rounded-lg border border-blue-500/20","data-testid":"stat-lp-pools",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"LP Pools"}),n.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400","data-testid":"breakdown-lp",children:xe(E.summary.lpPoolsValue)})]}),n.jsxs("div",{className:"p-3 bg-green-500/10 dark:bg-green-500/20 rounded-lg border border-green-500/20","data-testid":"stat-staking",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Staking/Governance"}),n.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"breakdown-staking",children:xe(E.summary.stakingValue)})]}),n.jsxs("div",{className:"p-3 bg-amber-500/10 dark:bg-amber-500/20 rounded-lg border border-amber-500/20","data-testid":"stat-bridges",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridge Contracts"}),n.jsx("p",{className:"text-lg font-bold text-amber-600 dark:text-amber-400","data-testid":"breakdown-bridges",children:xe(E.summary.bridgeValue)})]}),n.jsxs("div",{className:"p-3 bg-violet-500/10 dark:bg-violet-500/20 rounded-lg border border-violet-500/20","data-testid":"stat-system",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"System Contracts"}),n.jsx("p",{className:"text-lg font-bold text-violet-600 dark:text-violet-400","data-testid":"breakdown-system",children:xe(E.summary.systemValue)})]})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{"data-testid":"stat-jewel-locked",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total JEWEL Locked"}),n.jsxs("p",{className:"font-semibold","data-testid":"breakdown-jewel",children:[E.summary.totalJewelLocked.toLocaleString()," JEWEL"]})]}),n.jsxs("div",{"data-testid":"stat-crystal-locked",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total CRYSTAL Locked"}),n.jsxs("p",{className:"font-semibold","data-testid":"breakdown-crystal",children:[E.summary.totalCrystalLocked.toLocaleString()," CRYSTAL"]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg","data-testid":"stat-tvl-summary",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value Locked (TVL)"}),n.jsx("span",{className:"text-xl font-bold","data-testid":"breakdown-tvl",children:xe(E.summary.totalValueUSD)})]}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs","data-testid":"text-prices",children:[n.jsxs("span",{className:"text-muted-foreground",children:["JEWEL: $",E.prices.jewel.toFixed(4)]}),E.prices.jewelSource&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${E.prices.jewelSource==="defillama"?"bg-green-500/20 text-green-600 dark:text-green-400":E.prices.jewelSource==="coingecko"?"bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-amber-500/20 text-amber-600 dark:text-amber-400"}`,"data-testid":"badge-jewel-source",children:E.prices.jewelSource})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs","data-testid":"text-crystal-price",children:[n.jsxs("span",{className:"text-muted-foreground",children:["CRYSTAL: $",E.prices.crystal.toFixed(4)]}),E.prices.crystalSource&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${E.prices.crystalSource==="defillama"?"bg-green-500/20 text-green-600 dark:text-green-400":E.prices.crystalSource==="coingecko"?"bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-amber-500/20 text-amber-600 dark:text-amber-400"}`,"data-testid":"badge-crystal-source",children:E.prices.crystalSource})]}),(E.prices.jewelSource==="fallback"||E.prices.crystalSource==="fallback")&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-amber-600 dark:text-amber-400","data-testid":"warning-fallback-prices",children:[n.jsx(Hs,{className:"h-3 w-3"}),n.jsx("span",{children:"Using fallback prices - live data unavailable"})]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"text-updated",children:["Updated: ",new Date(E.timestamp).toLocaleString()]})]})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-2","data-testid":"empty-breakdown",children:[n.jsx(Nu,{className:"h-8 w-8 opacity-50"}),n.jsx("p",{children:"No value breakdown data available"})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{className:"text-lg",children:"Analyze Wallet"}),n.jsx(Se,{children:"Enter a wallet address to index and analyze bridge activity"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(We,{placeholder:"0x...",value:t,onChange:J=>r(J.target.value),className:"font-mono","data-testid":"input-wallet-search"}),n.jsxs(ne,{onClick:$e,disabled:W.isPending,"data-testid":"button-search-wallet",children:[n.jsx(Xs,{className:"h-4 w-4 mr-2"}),W.isPending?"Indexing...":"Analyze"]})]}),a&&K&&n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsx(Ln,{}),K.summary?n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total In"}),n.jsx("p",{className:"text-xl font-semibold text-green-600",children:xe(K.summary.totalBridgedInUsd)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Out"}),n.jsx("p",{className:"text-xl font-semibold text-red-600",children:xe(K.summary.totalBridgedOutUsd)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Extracted"}),n.jsx("p",{className:`text-xl font-semibold ${parseFloat(K.summary.netExtractedUsd)>0?"text-orange-600":"text-green-600"}`,children:xe(K.summary.netExtractedUsd)})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No bridge activity found for this wallet"}),K.events.length>0&&n.jsx(Wi,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-2",children:K.events.map(J=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[J.direction==="in"?n.jsx(sp,{className:"h-4 w-4 text-green-500"}):n.jsx(ip,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",children:[J.tokenSymbol," ",J.bridgeType]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Lt(J.blockTimestamp)})]})]}),n.jsxs("div",{className:"text-right",children:[J.usdValue&&n.jsx("p",{className:`text-sm font-medium ${J.direction==="in"?"text-green-600":"text-red-600"}`,children:xe(J.usdValue)}),J.amount&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[parseFloat(J.amount).toFixed(2)," ",J.tokenSymbol]})]})]},J.id))})})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Nu,{className:"h-5 w-5 text-blue-500"}),"TVL Reconciliation"]}),n.jsx(Se,{children:"Net bridge flows vs current TVL with pricing coverage analysis"})]}),n.jsx(Y,{children:_?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(J=>n.jsx(Me,{className:"h-16 w-full"},J))}):T?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:T.chains.map(J=>n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50","data-testid":`chain-flow-${J.chainId}`,children:[n.jsx("h4",{className:"font-semibold mb-2",children:J.chainName}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Token IN:"}),n.jsxs("span",{className:"text-green-600",children:["$",(J.tokenIn/1e6).toFixed(2),"M"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Token OUT:"}),n.jsxs("span",{className:"text-red-600",children:["$",(J.tokenOut/1e6).toFixed(2),"M"]})]}),n.jsx(Ln,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Net Flow:"}),n.jsxs("span",{className:J.netToken>=0?"text-green-600":"text-red-600",children:["$",(J.netToken/1e6).toFixed(2),"M"]})]}),J.currentTVL&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Current TVL:"}),n.jsxs("span",{children:["$",(J.currentTVL/1e6).toFixed(2),"M"]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL Price:"}),n.jsxs("span",{children:["$",J.jewelPrice?.toFixed(3)]})]})]}),n.jsx(Ln,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Heroes:"}),n.jsxs("span",{className:J.netHeroes>=0?"text-green-600":"text-red-600",children:["+",J.heroIn," / -",J.heroOut," = ",J.netHeroes>0?"+":"",J.netHeroes]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Equipment:"}),n.jsxs("span",{className:J.netEquipment>=0?"text-green-600":"text-red-600",children:["+",J.equipmentIn," / -",J.equipmentOut," = ",J.netEquipment>0?"+":"",J.netEquipment]})]})]})]},J.chainId))}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[n.jsx(Sa,{className:"h-4 w-4"}),"Token Pricing Coverage",n.jsxs(q,{variant:"outline",children:[T.summary.overallCoverage,"%"]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:T.pricingCoverage.slice(0,10).map(J=>n.jsxs("div",{className:"p-2 rounded bg-muted/30 text-xs","data-testid":`token-coverage-${J.token}`,children:[n.jsx("div",{className:"font-medium",children:J.token}),n.jsxs("div",{className:"text-muted-foreground",children:[J.totalEvents.toLocaleString()," events"]}),n.jsxs("div",{className:parseFloat(J.coverage)>=99?"text-green-600":parseFloat(J.coverage)>=50?"text-yellow-600":"text-red-600",children:[J.coverage,"% priced"]})]},J.token))})]}),n.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-3 rounded",children:[n.jsx(Hs,{className:"h-3 w-3 inline mr-1"}),T.summary.note]})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No reconciliation data available"})})})]}),n.jsxs(G,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Sc,{className:"h-5 w-5 text-orange-500"}),"Top Extractors"]}),n.jsx(Se,{children:"Wallets with highest net value extracted from DFK Chain"})]}),n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg","data-testid":"time-range-filter",children:ige.map(J=>n.jsx(ne,{variant:l===J.value?"default":"ghost",size:"sm",onClick:()=>c(J.value),className:"h-7 px-3 text-xs font-medium","data-testid":`button-time-${J.value}`,children:J.label},J.value))})]})}),n.jsx(Y,{children:w?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(J=>n.jsx(Me,{className:"h-12 w-full"},J))}):C.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"No extractors identified yet"}),n.jsx("p",{className:"text-sm",children:"Index some wallets to start tracking"})]}):n.jsx(Wi,{className:"h-[500px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-2 text-xs font-medium text-muted-foreground bg-muted/50 rounded-md",children:[n.jsx("div",{children:"Wallet"}),n.jsx("div",{children:"Summoner"}),n.jsx("div",{className:"text-right",children:"Bridged In"}),n.jsx("div",{className:"text-right",children:"Bridged Out"}),n.jsx("div",{className:"text-right",children:"Net Extracted"}),n.jsx("div",{className:"text-right",children:"Last Bridge Amt"}),n.jsx("div",{className:"text-center",children:"Flags"}),n.jsx("div",{className:"text-right",children:"Last Bridge"})]}),n.jsx(Ln,{}),C.map(J=>{const oe=parseFloat(J.netExtractedUsd),Je=J.extractorFlags?.includes("heavy_extractor"),ct=J.extractorFlags?.includes("net_extractor");return n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-3 text-sm items-center hover-elevate rounded-md cursor-pointer",onClick:()=>s(J.wallet),"data-testid":`row-extractor-${J.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gc,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${J.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline flex items-center gap-1",onClick:ln=>ln.stopPropagation(),"data-testid":`link-wallet-${J.id}`,children:[kt(J.wallet),n.jsx(nr,{className:"h-3 w-3"})]})]}),n.jsx("div",{className:"text-xs text-primary font-medium truncate","data-testid":`text-summoner-${J.id}`,children:J.summonerName||"*"}),n.jsx("div",{className:"text-right text-green-600 font-medium",children:at(J.totalBridgedInUsd)}),n.jsx("div",{className:"text-right text-red-600 font-medium",children:at(J.totalBridgedOutUsd)}),n.jsx("div",{className:`text-right font-bold ${oe>0?"text-amber-600":"text-foreground"}`,children:at(oe)}),n.jsx("div",{className:"text-right text-muted-foreground",children:J.lastBridgeAmountUsd?at(J.lastBridgeAmountUsd):"-"}),n.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[Je&&n.jsx(q,{variant:"destructive",className:"text-xs",children:"Heavy"}),ct&&!Je&&n.jsx(q,{variant:"secondary",className:"text-xs",children:"Net"}),!Je&&!ct&&n.jsx(q,{variant:"outline",className:"text-xs",children:"-"})]}),n.jsx("div",{className:"text-right text-muted-foreground text-xs",children:J.lastBridgeAt?Lt(J.lastBridgeAt):"-"})]},J.id)})]})})})]})]})}const Rh={"LP Pools":"#22c55e","Staking/Governance":"#3b82f6","Bridge Contracts":"#f59e0b","System Contracts":"#8b5cf6"};function en(e){return e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}K`:`$${e.toFixed(2)}`}function Yt(e){return e>=1e9?`${(e/1e9).toFixed(2)}B`:e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(2)}function Mh(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function cge(){const[,e]=Va(),{data:t,isLoading:r,refetch:a,isFetching:s}=_e({queryKey:["/api/admin/bridge/value-breakdown"],refetchInterval:3e5}),{data:l,isLoading:c,refetch:d}=_e({queryKey:["/api/admin/bridge/cex-liquidity"],refetchInterval:6e4}),f=()=>{Re.invalidateQueries({queryKey:["/api/admin/bridge/value-breakdown"]}),Re.invalidateQueries({queryKey:["/api/admin/bridge/cex-liquidity"]}),a(),d()},m=t?[{name:"LP Pools",value:t.summary.lpPoolsValue,color:Rh["LP Pools"]},{name:"Staking",value:t.summary.stakingValue,color:Rh["Staking/Governance"]},{name:"Bridges",value:t.summary.bridgeValue,color:Rh["Bridge Contracts"]},{name:"System",value:t.summary.systemValue,color:Rh["System Contracts"]}].filter(N=>N.value>0):[],h=m.reduce((N,C)=>N+C.value,0),g=({cx:N,cy:C,midAngle:E,innerRadius:A,outerRadius:P,percent:k,name:T})=>{if(k<.03)return null;const _=Math.PI/180,L=A+(P-A)*.5,X=N+L*Math.cos(-E*_),I=C+L*Math.sin(-E*_);return n.jsx("text",{x:X,y:I,fill:"white",textAnchor:"middle",dominantBaseline:"central",className:"text-xs font-medium",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:`${(k*100).toFixed(0)}%`})},v=t?.categories.find(N=>N.category==="LP Pools"),y=t?.categories.find(N=>N.category==="Staking/Governance"),w=t?.categories.find(N=>N.category==="Bridge Contracts"),j=t?.categories.find(N=>N.category==="System Contracts");return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"value-allocation-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Value Allocation"}),n.jsx("p",{className:"text-muted-foreground",children:"Complete breakdown of DFK Chain value distribution across LP pools, staking, bridges, and system contracts"})]}),n.jsxs(ne,{onClick:f,disabled:s,variant:"outline","data-testid":"button-refresh",children:[n.jsx(Xe,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),r?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Me,{className:"h-80"}),n.jsx(Me,{className:"h-80"})]}):t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(G,{"data-testid":"card-pie-chart",children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Nu,{className:"w-5 h-5"}),"Value Distribution"]}),n.jsxs(Se,{children:["Total Value Locked: ",en(t.summary.totalValueUSD)]})]}),n.jsx(Y,{children:n.jsx("div",{className:"h-64",children:n.jsx(zu,{width:"100%",height:"100%",children:n.jsxs(Pg,{children:[n.jsx(If,{data:m,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",labelLine:!1,label:g,children:m.map((N,C)=>n.jsx(ii,{fill:N.color,stroke:N.color},`cell-${C}`))}),n.jsx(bg,{formatter:N=>en(N),contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx(jf,{formatter:(N,C)=>{const E=m.find(P=>P.name===N),A=E&&h>0?(E.value/h*100).toFixed(1):"0";return n.jsxs("span",{className:"text-sm",children:[N," (",A,"%)"]})}})]})})})})]}),n.jsxs(G,{"data-testid":"card-summary",children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Summary"}),n.jsxs(Se,{children:["Updated: ",new Date(t.timestamp).toLocaleString()]})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border","data-testid":"card-total-usd",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value Locked"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-total-usd",children:en(t.summary.totalValueUSD)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"LP Pools"}),n.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"text-lp-pools-value",children:en(t.summary.lpPoolsValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Staking"}),n.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"text-staking-value",children:en(t.summary.stakingValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridges"}),n.jsx("p",{className:"text-xl font-bold text-amber-500","data-testid":"text-bridges-value",children:en(t.summary.bridgeValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-violet-500/10 border border-violet-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"System"}),n.jsx("p",{className:"text-xl font-bold text-violet-500","data-testid":"text-system-value",children:en(t.summary.systemValue)})]})]}),n.jsxs("div",{className:"pt-4 border-t space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total JEWEL Locked"}),n.jsxs("span",{className:"font-medium",children:[Yt(t.summary.totalJewelLocked)," JEWEL"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total CRYSTAL Locked"}),n.jsxs("span",{className:"font-medium",children:[Yt(t.summary.totalCrystalLocked)," CRYSTAL"]})]}),n.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL Price"}),n.jsxs("span",{className:"font-medium",children:["$",t.prices.jewel.toFixed(4),n.jsx(q,{variant:"outline",className:"ml-2 text-xs",children:t.prices.jewelSource})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL Price"}),n.jsxs("span",{className:"font-medium",children:["$",t.prices.crystal.toFixed(4),n.jsx(q,{variant:"outline",className:"ml-2 text-xs",children:t.prices.crystalSource})]})]})]})]})]})]}),n.jsxs(G,{"data-testid":"card-token-prices",children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"w-5 h-5 text-yellow-500"}),"Token Prices"]}),n.jsx(Se,{children:"Current prices used for TVL calculations"})]}),n.jsx(Y,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:(t.tokenPrices??[]).map(N=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50","data-testid":`token-price-${N.symbol}`,children:[n.jsx("div",{className:"text-sm font-medium",children:N.symbol}),n.jsx("div",{className:"text-lg font-bold font-mono",children:N.price>=1?`$${N.price.toFixed(2)}`:`$${N.price.toFixed(4)}`}),n.jsx("div",{className:"text-xs text-muted-foreground",children:N.source})]},N.symbol))})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(G,{"data-testid":"card-jewel-supply",children:[n.jsxs(re,{className:"pb-2",children:[n.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(UH,{className:"w-5 h-5 text-purple-500"}),"JEWEL Supply"]}),n.jsx(Se,{children:"Official supply from DFK API"})]}),n.jsx(Y,{className:"space-y-3",children:t.jewelSupply?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Supply"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-total-supply",children:Yt(t.jewelSupply.totalSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Circulating"}),n.jsx("span",{className:"font-medium font-mono text-green-500","data-testid":"text-circulating-supply",children:Yt(t.jewelSupply.circulatingSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Locked (vesting)"}),n.jsx("span",{className:"font-medium font-mono text-blue-500","data-testid":"text-locked-supply",children:Yt(t.jewelSupply.lockedSupply)})]}),t.jewelSupply.burnedSupply>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx(op,{className:"w-3 h-3 text-orange-500"}),"Burned"]}),n.jsx("span",{className:"font-medium font-mono text-orange-500","data-testid":"text-burned-supply",children:Yt(t.jewelSupply.burnedSupply)})]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Source: ",t.jewelSupply.source]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to fetch supply data"})})]}),n.jsxs(G,{"data-testid":"card-coverage-kpi",className:"cursor-pointer hover-elevate transition-all",onClick:()=>e("/admin/coverage-details"),children:[n.jsxs(re,{className:"pb-2",children:[n.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(Rr,{className:"w-5 h-5 text-cyan-500"}),"Coverage KPI",n.jsxs(Su,{children:[n.jsx(Cu,{onClick:N=>N.stopPropagation(),children:n.jsx(xu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(hc,{className:"max-w-xs",children:n.jsx("p",{children:"Percentage of circulating JEWEL tracked across LP pools, staking, bridges, and system contracts. Click for detailed breakdown."})})]}),n.jsx(nr,{className:"w-4 h-4 text-muted-foreground ml-auto"})]}),n.jsx(Se,{children:"Tracked JEWEL vs circulating supply"})]}),n.jsx(Y,{className:"space-y-3",children:t.coverageKPI?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-center",children:[n.jsxs("p",{className:"text-3xl font-bold text-cyan-500","data-testid":"text-coverage-ratio",children:[(t.coverageKPI.coverageRatio*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Coverage Ratio"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracked JEWEL"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-tracked-jewel",children:Yt(t.coverageKPI.trackedJewel)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Circulating"}),n.jsx("span",{className:"font-medium font-mono",children:Yt(t.coverageKPI.circulatingSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-amber-600",children:[n.jsx("span",{children:"Unaccounted"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-unaccounted-jewel",children:Yt(t.coverageKPI.unaccountedJewel)})]}),n.jsx("div",{className:"text-xs text-center text-muted-foreground mt-2",children:"Click for detailed breakdown"})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to calculate coverage"})})]}),n.jsxs(G,{"data-testid":"card-burn-ledger",children:[n.jsxs(re,{className:"pb-2",children:[n.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[n.jsx(op,{className:"w-5 h-5 text-orange-500"}),"Burn Ledger",n.jsxs(Su,{children:[n.jsx(Cu,{children:n.jsx(xu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(hc,{className:"max-w-xs",children:n.jsx("p",{children:"JEWEL permanently removed from circulation via burn addresses. Does NOT count toward value allocation."})})]})]}),n.jsx(Se,{children:"Deflationary token burns"})]}),n.jsx(Y,{className:"space-y-3",children:t.burnData&&t.burnData.totalBurned>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 rounded-lg bg-orange-500/10 border border-orange-500/20 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-orange-500","data-testid":"text-total-burned",children:[Yt(t.burnData.totalBurned)," JEWEL"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",en(t.burnData.totalBurned*t.prices.jewel).replace("$","")," USD"]})]}),n.jsx("div",{className:"space-y-2",children:t.burnData.burnAddresses.map((N,C)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground font-mono text-xs",children:[N.address.slice(0,10),"..."]}),n.jsx("span",{className:"font-medium font-mono",children:Yt(N.balance)})]},N.address))}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Sources: ",t.burnData.sources.join(", ")]})]}):n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No burned JEWEL detected in standard burn addresses"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Burns may occur through other mechanisms"})]})})]})]}),n.jsxs(G,{"data-testid":"card-cex-liquidity",children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"w-5 h-5 text-cyan-500"}),"CEX Liquidity (Off-Chain)",n.jsxs(Su,{children:[n.jsx(Cu,{children:n.jsx(xu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(hc,{className:"max-w-xs",children:n.jsxs("p",{children:["Order book depth within ",l?.depthBand||"2%"," of mid-price. This measures immediately tradable liquidity, not total CEX holdings."]})})]})]}),n.jsx(Se,{children:"JEWEL order book depth on centralized exchanges"})]}),n.jsx(Y,{children:c?n.jsx(Me,{className:"h-32"}):l?n.jsxs("div",{className:"space-y-4",children:[l.failedCount===l.totalCount?n.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center gap-3",children:[n.jsx(rr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"All CEX APIs Failed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Unable to fetch order books from any exchange. Check API connectivity."})]})]}):l.totalLiquidityUSD===0?n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border flex items-center gap-3",children:[n.jsx(xu,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"No Active CEX Markets"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL is primarily traded on decentralized exchanges (DFK DEX, Trader Joe). CEX order books show no active liquidity."})]})]}):n.jsxs(n.Fragment,{children:[l.failedCount>0&&n.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20 flex items-center gap-2",children:[n.jsx(rr,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:[l.failedCount,"/",l.totalCount," exchanges failed. Totals may be incomplete."]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/20",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total CEX Liquidity (",l.depthBand,")"]}),n.jsx("p",{className:"text-2xl font-bold text-cyan-500","data-testid":"text-cex-liquidity-total",children:en(l.totalLiquidityUSD)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avg spread: ",l.averageSpread.toFixed(2),"%"]})]})]}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Exchange"}),n.jsx(H,{children:"Pair"}),n.jsx(H,{className:"text-right",children:"Mid Price"}),n.jsx(H,{className:"text-right",children:"Bid Depth"}),n.jsx(H,{className:"text-right",children:"Ask Depth"}),n.jsx(H,{className:"text-right",children:"Total"}),n.jsx(H,{className:"text-right",children:"Spread"})]})}),n.jsx(pt,{children:l.exchanges.map(N=>n.jsxs(Ae,{"data-testid":`row-cex-${N.exchange}`,children:[n.jsx(U,{className:"font-medium",children:N.exchange}),n.jsx(U,{children:N.pair}),n.jsx(U,{className:"text-right font-mono",children:N.error?n.jsx(q,{variant:"outline",className:"text-red-500",children:"Error"}):`$${N.midPrice.toFixed(4)}`}),n.jsx(U,{className:"text-right font-mono text-green-500",children:N.error?"-":en(N.bidDepthUSD)}),n.jsx(U,{className:"text-right font-mono text-red-500",children:N.error?"-":en(N.askDepthUSD)}),n.jsx(U,{className:"text-right font-mono font-bold",children:N.error?"-":en(N.totalDepthUSD)}),n.jsx(U,{className:"text-right",children:N.error?"-":`${N.spreadPercent.toFixed(2)}%`})]},N.exchange))})]}),n.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Updated: ",new Date(l.updatedAt).toLocaleString()]})]}):n.jsxs("div",{className:"flex items-center justify-center p-8 text-muted-foreground",children:[n.jsx(rr,{className:"w-5 h-5 mr-2"}),"Failed to load CEX data"]})})]}),n.jsxs(G,{"data-testid":"card-lp-pools",children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"w-5 h-5 text-green-500"}),"LP Pools Staked Value (V2 + V1)"]}),n.jsx(Se,{children:"Value of LP tokens staked in Master Gardener V2 and legacy V1 contracts"})]}),n.jsx(Y,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Pool"}),n.jsx(H,{className:"text-right text-green-400",children:"24hr APR"}),n.jsx(H,{children:"Contract"}),n.jsx(H,{className:"text-right",children:"Staked Token 0"}),n.jsx(H,{className:"text-right",children:"Staked Token 1"}),n.jsx(H,{className:"text-right text-blue-400",children:"V2 Value"}),n.jsx(H,{className:"text-right text-amber-400",children:"V1 Value"}),n.jsx(H,{className:"text-right",children:"Total Staked"})]})}),n.jsxs(pt,{children:[(v?.contracts??[]).map(N=>n.jsxs(Ae,{"data-testid":`row-lp-${N.name}`,className:N.pid!==void 0?"cursor-pointer hover-elevate":"",onClick:()=>N.pid!==void 0&&e(`/admin/pools/${N.pid}`),children:[n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{variant:"secondary",className:"font-mono text-xs",children:N.token0Symbol||"TOKEN0"}),n.jsx("span",{className:"text-muted-foreground",children:"/"}),n.jsx(q,{variant:"secondary",className:"font-mono text-xs",children:N.token1Symbol||"TOKEN1"})]})}),n.jsx(U,{className:"text-right font-mono text-sm text-green-400",children:N.passive24hAPR!=null?`${N.passive24hAPR.toFixed(2)}%`:"-"}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${N.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",onClick:C=>C.stopPropagation(),children:[Mh(N.address),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{children:Yt(N.token0Balance||0)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:N.token0Symbol})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{children:Yt(N.token1Balance||0)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:N.token1Symbol})]})}),n.jsx(U,{className:"text-right text-sm text-blue-400 font-mono",children:en(N.v2ValueUSD||0)}),n.jsx(U,{className:"text-right text-sm text-amber-400 font-mono",children:en(N.v1ValueUSD||0)}),n.jsx(U,{className:"text-right font-medium",children:en(N.totalValueUSD)})]},N.address)),n.jsxs(Ae,{className:"bg-green-500/5 font-medium",children:[n.jsx(U,{colSpan:5,children:"Total Staked LP"}),n.jsx(U,{className:"text-right text-blue-400",children:en((v?.contracts??[]).reduce((N,C)=>N+(C.v2ValueUSD||0),0))}),n.jsx(U,{className:"text-right text-amber-400",children:en((v?.contracts??[]).reduce((N,C)=>N+(C.v1ValueUSD||0),0))}),n.jsx(U,{className:"text-right text-green-500",children:en(v?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(G,{"data-testid":"card-staking",children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(jb,{className:"w-5 h-5 text-blue-500"}),"Staking / Governance Breakdown"]}),n.jsx(Se,{children:"Locked tokens in governance and staking contracts"})]}),n.jsx(Y,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Contract Name"}),n.jsx(H,{children:"Address"}),n.jsx(H,{className:"text-right",children:"JEWEL"}),n.jsx(H,{className:"text-right",children:"CRYSTAL"}),n.jsx(H,{className:"text-right",children:"Total USD"})]})}),n.jsxs(pt,{children:[(y?.contracts??[]).map(N=>n.jsxs(Ae,{"data-testid":`row-staking-${N.name}`,children:[n.jsx(U,{className:"font-medium",children:N.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${N.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Mh(N.address),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(N.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(N.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:en(N.totalValueUSD)})]},N.address)),n.jsxs(Ae,{className:"bg-blue-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total Staking"}),n.jsx(U,{className:"text-right font-mono",children:Yt(y?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Yt(y?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-blue-500",children:en(y?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(G,{"data-testid":"card-bridges",children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(bc,{className:"w-5 h-5 text-amber-500"}),"Bridge Contracts Breakdown"]}),n.jsx(Se,{children:"Tokens held in cross-chain bridge contracts"})]}),n.jsx(Y,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Contract Name"}),n.jsx(H,{children:"Address"}),n.jsx(H,{className:"text-right",children:"JEWEL"}),n.jsx(H,{className:"text-right",children:"CRYSTAL"}),n.jsx(H,{className:"text-right",children:"Total USD"})]})}),n.jsxs(pt,{children:[(w?.contracts??[]).map(N=>n.jsxs(Ae,{"data-testid":`row-bridge-${N.name}`,children:[n.jsx(U,{className:"font-medium",children:N.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${N.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Mh(N.address),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(N.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(N.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:en(N.totalValueUSD)})]},N.address)),n.jsxs(Ae,{className:"bg-amber-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total Bridges"}),n.jsx(U,{className:"text-right font-mono",children:Yt(w?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Yt(w?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-amber-500",children:en(w?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(G,{"data-testid":"card-system",children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(dM,{className:"w-5 h-5 text-violet-500"}),"System Contracts Breakdown"]}),n.jsx(Se,{children:"Tokens held in game system and operational contracts"})]}),n.jsx(Y,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Contract Name"}),n.jsx(H,{children:"Address"}),n.jsx(H,{className:"text-right",children:"JEWEL"}),n.jsx(H,{className:"text-right",children:"CRYSTAL"}),n.jsx(H,{className:"text-right",children:"Total USD"})]})}),n.jsxs(pt,{children:[(j?.contracts??[]).map(N=>n.jsxs(Ae,{"data-testid":`row-system-${N.name}`,children:[n.jsx(U,{className:"font-medium",children:N.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${N.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Mh(N.address),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(N.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(N.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:en(N.totalValueUSD)})]},N.address)),n.jsxs(Ae,{className:"bg-violet-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total System"}),n.jsx(U,{className:"text-right font-mono",children:Yt(j?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Yt(j?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-violet-500",children:en(j?.totalValueUSD||0)})]})]})]})})]})]}):n.jsx(G,{children:n.jsx(Y,{className:"py-10 text-center text-muted-foreground",children:"Failed to load value breakdown data"})})]})}const Vr={"LP Pools":"#22c55e","Staking/Governance":"#3b82f6","Bridge Contracts":"#f59e0b","System Contracts":"#8b5cf6","Multi-Chain":"#ec4899",Burned:"#ef4444","Team Wallets":"#a855f7",Liquid:"#06b6d4",Unaccounted:"#6b7280"};function $s(e){return e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(2)}function dge(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function uge(){const[,e]=Va(),{data:t,isLoading:r,refetch:a,isFetching:s}=_e({queryKey:["/api/admin/bridge/value-breakdown"],staleTime:6e4,refetchOnWindowFocus:!1}),l=[];let c=0;if(t){const m=t.coverageBreakdown;if(t.coverageKPI,m){if(m.pooled.total>0){const g=[];if(m.pooled.contracts&&m.pooled.contracts.length>0)for(const v of m.pooled.contracts)g.push({name:`[${v.chain}] ${v.name}`,address:v.address,jewel:v.jewelReserves});l.push({name:"LP Pools (Full Reserves)",jewel:m.pooled.total,percentage:0,icon:Tu,color:Vr["LP Pools"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.pooled.total}if(m.locked.total>0){const g=[];m.locked.cJewel>0&&g.push({name:"cJEWEL (Staking)",address:"0x9ed2c155632C042CB8bC20634571fF1CA26f5742",jewel:m.locked.cJewel}),m.locked.systemContracts>0&&g.push({name:"System Contracts",address:"Various",jewel:m.locked.systemContracts}),l.push({name:"Locked JEWEL (DFK Chain)",jewel:m.locked.total,percentage:0,icon:jb,color:Vr["Staking/Governance"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.locked.total}if(m.locked.bridgeContracts>0&&l.push({name:"Bridge Contracts (Ref Only)",jewel:m.locked.bridgeContracts,percentage:0,icon:bc,color:Vr["Bridge Contracts"],contracts:[{name:"Synapse Bridge (DFK)",address:"0x52285D426120aB91F378B3dF4A15a036A62200aE",jewel:m.locked.bridgeContracts}],excludedFromTotal:!0}),m.multiChain.total>0){const g=[];if(m.multiChain.wallets&&m.multiChain.wallets.length>0)for(const v of m.multiChain.wallets)g.push({name:`[${v.chain}] ${v.name}`,address:v.address,jewel:v.jewelBalance});else m.multiChain.harmonyBridge>0&&g.push({name:"Harmony Bridge",address:"Harmony Chain",jewel:m.multiChain.harmonyBridge}),m.multiChain.kaiaBridge>0&&g.push({name:"Kaia Bridge",address:"Kaia Chain",jewel:m.multiChain.kaiaBridge}),m.multiChain.metisBridge>0&&g.push({name:"Metis Bridge",address:"Metis Chain",jewel:m.multiChain.metisBridge}),m.multiChain.avalancheBridge>0&&g.push({name:"Avalanche Bridge",address:"Avalanche C-Chain",jewel:m.multiChain.avalancheBridge});l.push({name:"Multi-Chain Bridges (Liquid)",jewel:m.multiChain.total,percentage:0,icon:OP,color:Vr["Multi-Chain"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.multiChain.total}if(m.burned.total>0){const g=m.burned.addresses.map(v=>({name:v.address==="0x0000000000000000000000000000000000000000"?"Zero Address":v.address.toLowerCase().includes("dead")?"Dead Address":"Burn Address",address:v.address,jewel:v.balance}));l.push({name:"Burned JEWEL",jewel:m.burned.total,percentage:0,icon:op,color:Vr.Burned,contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.burned.total}if(m.teamWallets&&m.teamWallets.total>0){const g=[];for(const v of m.teamWallets.categories)for(const y of v.wallets)y.balance>0&&g.push({name:`[${v.name}] ${y.name}`,address:y.address,jewel:y.balance});l.push({name:"Team Wallets",jewel:m.teamWallets.total,percentage:0,icon:Lr,color:Vr["Team Wallets"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.teamWallets.total}m.liquid.estimated>0&&(l.push({name:"Liquid JEWEL (Est.)",jewel:m.liquid.estimated,percentage:0,icon:Gc,color:Vr.Liquid,contracts:[{name:"User Wallets & CEX",address:"Various",jewel:m.liquid.estimated}]}),c+=m.liquid.estimated)}else{const g=t.categories.find(j=>j.category==="LP Pools");if(g){let j=0;const N=[];for(const C of g.contracts){let E=0;C.token0Symbol==="wJEWEL"&&(E+=C.token0Balance||0),C.token1Symbol==="wJEWEL"&&(E+=C.token1Balance||0),E>0&&(j+=E,N.push({name:C.name,address:C.address,jewel:E}))}j>0&&(l.push({name:"LP Pools (wJEWEL)",jewel:j,percentage:0,icon:Tu,color:Vr["LP Pools"],contracts:N.sort((C,E)=>E.jewel-C.jewel)}),c+=j)}const v=t.categories.find(j=>j.category==="Staking/Governance");v&&v.totalJewel>0&&(l.push({name:"Staking (cJEWEL)",jewel:v.totalJewel,percentage:0,icon:jb,color:Vr["Staking/Governance"],contracts:v.contracts.filter(j=>j.jewelBalance>0).map(j=>({name:j.name,address:j.address,jewel:j.jewelBalance})).sort((j,N)=>N.jewel-j.jewel)}),c+=v.totalJewel);const y=t.categories.find(j=>j.category==="Bridge Contracts");y&&y.totalJewel>0&&(l.push({name:"Bridge Contracts",jewel:y.totalJewel,percentage:0,icon:bc,color:Vr["Bridge Contracts"],contracts:y.contracts.filter(j=>j.jewelBalance>0).map(j=>({name:j.name,address:j.address,jewel:j.jewelBalance})).sort((j,N)=>N.jewel-j.jewel)}),c+=y.totalJewel);const w=t.categories.find(j=>j.category==="System Contracts");if(w&&w.totalJewel>0&&(l.push({name:"System Contracts",jewel:w.totalJewel,percentage:0,icon:dM,color:Vr["System Contracts"],contracts:w.contracts.filter(j=>j.jewelBalance>0).map(j=>({name:j.name,address:j.address,jewel:j.jewelBalance})).sort((j,N)=>N.jewel-j.jewel)}),c+=w.totalJewel),t.multiChainBalances&&t.multiChainBalances.length>0){let j=0;const N=[];for(const C of t.multiChainBalances)if(C.status==="success"){const E=C.totalJewel;E>0&&(j+=E,N.push({name:`${C.chain} (Bridge)`,address:C.tokenAddress,jewel:E}))}j>0&&(l.push({name:"Multi-Chain Bridges (Liquid)",jewel:j,percentage:0,icon:OP,color:Vr["Multi-Chain"],contracts:N.sort((C,E)=>E.jewel-C.jewel)}),c+=j)}}const h=t.jewelSupply?.circulatingSupply||c;for(const g of l)g.percentage=h>0?g.jewel/h*100:0}const d=l.filter(m=>!m.excludedFromTotal).map(m=>({name:m.name,value:m.jewel,color:m.color})),f=()=>{Re.invalidateQueries({queryKey:["/api/admin/bridge/value-breakdown"]}),a()};return r?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Me,{className:"h-8 w-8"}),n.jsx(Me,{className:"h-8 w-64"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Me,{className:"h-[400px]"}),n.jsx(Me,{className:"h-[400px]"})]})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ne,{variant:"ghost",size:"icon","data-testid":"button-back",onClick:()=>e("/admin/value-allocation"),children:n.jsx(Qi,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Rr,{className:"w-6 h-6 text-cyan-500"}),"Coverage Breakdown"]}),n.jsx("p",{className:"text-muted-foreground",children:"Detailed view of tracked JEWEL across all sources"})]})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:f,disabled:s,"data-testid":"button-refresh",children:[n.jsx(Xe,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),t?.coverageKPI&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(G,{"data-testid":"card-coverage-ratio",children:n.jsx(Y,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-4xl font-bold text-cyan-500",children:[(t.coverageKPI.coverageRatio*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coverage Ratio"})]})})}),n.jsx(G,{"data-testid":"card-tracked-total",children:n.jsx(Y,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-500 font-mono",children:$s(t.coverageKPI.trackedJewel)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tracked JEWEL"})]})})}),n.jsx(G,{"data-testid":"card-circulating",children:n.jsx(Y,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold font-mono",children:$s(t.coverageKPI.circulatingSupply)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Circulating Supply"})]})})}),n.jsx(G,{"data-testid":"card-unaccounted",children:n.jsx(Y,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-500 font-mono",children:$s(t.coverageKPI.unaccountedJewel)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Unaccounted"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(G,{"data-testid":"card-distribution-chart",children:[n.jsxs(re,{children:[n.jsx(ie,{children:"JEWEL Distribution by Source"}),n.jsx(Se,{children:"Visual breakdown of tracked JEWEL across categories"})]}),n.jsx(Y,{children:n.jsx("div",{className:"h-[350px]",children:n.jsx(zu,{width:"100%",height:"100%",children:n.jsxs(Pg,{children:[n.jsx(If,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,dataKey:"value",nameKey:"name",label:({name:m,percent:h})=>`${(m||"").split(" ")[0]} ${((h||0)*100).toFixed(0)}%`,labelLine:!1,children:d.map((m,h)=>n.jsx(ii,{fill:m.color},`cell-${h}`))}),n.jsx(bg,{formatter:m=>[$s(m),"JEWEL"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx(jf,{})]})})})})]}),n.jsxs(G,{"data-testid":"card-source-breakdown",children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Breakdown by Source"}),n.jsx(Se,{children:"JEWEL allocation across different contract types"})]}),n.jsxs(Y,{className:"space-y-4",children:[l.filter(m=>!m.excludedFromTotal).map(m=>{const h=m.icon;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),n.jsx(h,{className:"w-4 h-4",style:{color:m.color}}),n.jsx("span",{className:"font-medium",children:m.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-mono font-medium",children:$s(m.jewel)}),n.jsxs(q,{variant:"secondary",className:"ml-2",children:[m.percentage.toFixed(1),"%"]})]})]}),n.jsx(Ut,{value:m.percentage,className:"h-2",style:{"--progress-color":m.color}})]},m.name)}),l.filter(m=>m.excludedFromTotal).map(m=>{const h=m.icon;return n.jsxs("div",{className:"space-y-2 pt-2 border-t border-dashed opacity-70",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-dashed",style:{borderColor:m.color}}),n.jsx(h,{className:"w-4 h-4",style:{color:m.color}}),n.jsx("span",{className:"font-medium",children:m.name}),n.jsx(q,{variant:"outline",className:"text-xs",children:"Excluded"})]}),n.jsx("div",{className:"text-right",children:n.jsx("span",{className:"font-mono font-medium text-muted-foreground",children:$s(m.jewel)})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Already counted in multi-chain totals (bridged to other chains)"})]},m.name)}),t?.coverageKPI&&t.coverageKPI.unaccountedJewel>0&&n.jsx("div",{className:"space-y-2 pt-2 border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Vr.Unaccounted}}),n.jsx("span",{className:"font-medium text-muted-foreground",children:"Unaccounted"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-mono font-medium text-amber-500",children:$s(t.coverageKPI.unaccountedJewel)}),n.jsxs(q,{variant:"outline",className:"ml-2 border-amber-500/50 text-amber-500",children:[(t.coverageKPI.unaccountedJewel/t.coverageKPI.circulatingSupply*100).toFixed(1),"%"]})]})]})})]})]})]}),n.jsx("div",{className:"space-y-6",children:l.map(m=>{const h=m.icon;return n.jsxs(G,{"data-testid":`card-contracts-${m.name.toLowerCase().replace(/[^a-z]/g,"-")}`,children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(h,{className:"w-5 h-5",style:{color:m.color}}),m.name,n.jsxs(q,{style:{backgroundColor:m.color,color:"white"},children:[$s(m.jewel)," JEWEL"]})]}),n.jsxs(Se,{children:[m.contracts.length," contract",m.contracts.length!==1?"s":""," tracked"]})]}),n.jsx(Y,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Contract"}),n.jsx(H,{children:"Address"}),n.jsx(H,{className:"text-right",children:"JEWEL"}),n.jsx(H,{className:"text-right",children:"% of Source"})]})}),n.jsxs(pt,{children:[m.contracts.slice(0,10).map(g=>n.jsxs(Ae,{children:[n.jsx(U,{className:"font-medium",children:g.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${g.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground",children:[n.jsx("span",{className:"font-mono text-sm",children:dge(g.address)}),n.jsx(nr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono",children:$s(g.jewel)}),n.jsx(U,{className:"text-right",children:n.jsxs(q,{variant:"outline",children:[(g.jewel/m.jewel*100).toFixed(1),"%"]})})]},g.address)),m.contracts.length>10&&n.jsx(Ae,{children:n.jsxs(U,{colSpan:4,className:"text-center text-muted-foreground",children:["... and ",m.contracts.length-10," more contracts"]})})]})]})})]},m.name)})}),t&&n.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Last updated: ",new Date(t.timestamp).toLocaleString()," | JEWEL Price: $",t.prices.jewel.toFixed(4)," (",t.prices.jewelSource,")"]})]})}function aF(e){const t=fge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(hge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function fge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=xge(s),d=pge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mge=Symbol("radix.slottable");function hge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mge}function pge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function xge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ff=gge.reduce((e,t)=>{const r=aF(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Tg="Dialog",[sF,iF]=gr(Tg),[vge,Wa]=sF(Tg),lF=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,d=p.useRef(null),f=p.useRef(null),[m,h]=ta({prop:a,defaultProp:s??!1,onChange:l,caller:Tg});return n.jsx(vge,{scope:t,triggerRef:d,contentRef:f,contentId:za(),titleId:za(),descriptionId:za(),open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(g=>!g),[h]),modal:c,children:r})};lF.displayName=Tg;var oF="DialogTrigger",cF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Wa(oF,r),l=rt(t,s.triggerRef);return n.jsx(Ff.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_S(s.open),...a,ref:l,onClick:ze(e.onClick,s.onOpenToggle)})});cF.displayName=oF;var OS="DialogPortal",[yge,dF]=sF(OS,{forceMount:void 0}),uF=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,l=Wa(OS,t);return n.jsx(yge,{scope:t,forceMount:r,children:p.Children.map(a,c=>n.jsx(ra,{present:r||l.open,children:n.jsx(xx,{asChild:!0,container:s,children:c})}))})};uF.displayName=OS;var mx="DialogOverlay",fF=p.forwardRef((e,t)=>{const r=dF(mx,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=Wa(mx,e.__scopeDialog);return l.modal?n.jsx(ra,{present:a||l.open,children:n.jsx(bge,{...s,ref:t})}):null});fF.displayName=mx;var jge=aF("DialogOverlay.RemoveScroll"),bge=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Wa(mx,r);return n.jsx(bw,{as:jge,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(Ff.div,{"data-state":_S(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),oo="DialogContent",mF=p.forwardRef((e,t)=>{const r=dF(oo,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=Wa(oo,e.__scopeDialog);return n.jsx(ra,{present:a||l.open,children:l.modal?n.jsx(Nge,{...s,ref:t}):n.jsx(wge,{...s,ref:t})})});mF.displayName=oo;var Nge=p.forwardRef((e,t)=>{const r=Wa(oo,e.__scopeDialog),a=p.useRef(null),s=rt(t,r.contentRef,a);return p.useEffect(()=>{const l=a.current;if(l)return TD(l)},[]),n.jsx(hF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,l=>l.preventDefault())})}),wge=p.forwardRef((e,t)=>{const r=Wa(oo,e.__scopeDialog),a=p.useRef(!1),s=p.useRef(!1);return n.jsx(hF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),hF=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,...c}=e,d=Wa(oo,r),f=p.useRef(null),m=rt(t,f);return CD(),n.jsxs(n.Fragment,{children:[n.jsx(jw,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l,children:n.jsx(af,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":_S(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Cge,{titleId:d.titleId}),n.jsx(Age,{contentRef:f,descriptionId:d.descriptionId})]})]})}),kS="DialogTitle",pF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Wa(kS,r);return n.jsx(Ff.h2,{id:s.titleId,...a,ref:t})});pF.displayName=kS;var xF="DialogDescription",gF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Wa(xF,r);return n.jsx(Ff.p,{id:s.descriptionId,...a,ref:t})});gF.displayName=xF;var vF="DialogClose",yF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Wa(vF,r);return n.jsx(Ff.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});yF.displayName=vF;function _S(e){return e?"open":"closed"}var jF="DialogTitleWarning",[Sge,bF]=WU(jF,{contentName:oo,titleName:kS,docsSlug:"dialog"}),Cge=({titleId:e})=>{const t=bF(jF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ege="DialogDescriptionWarning",Age=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bF(Ege).contentName}}.`;return p.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},NF=lF,wF=cF,SF=uF,RS=fF,MS=mF,DS=pF,LS=gF,IS=yF;const Ys=NF,CF=wF,Pge=SF,EF=p.forwardRef(({className:e,...t},r)=>n.jsx(RS,{ref:r,className:Le("fixed inset-0 z-[9998] bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));EF.displayName=RS.displayName;const as=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Pge,{children:[n.jsx(EF,{}),n.jsxs(MS,{ref:a,style:{backgroundColor:"hsl(220, 13%, 20%)"},className:Le("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(IS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(iw,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));as.displayName=MS.displayName;const ss=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ss.displayName="DialogHeader";const ll=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ll.displayName="DialogFooter";const is=p.forwardRef(({className:e,...t},r)=>n.jsx(DS,{ref:r,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));is.displayName=DS.displayName;const ls=p.forwardRef(({className:e,...t},r)=>n.jsx(LS,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));ls.displayName=LS.displayName;const Tge=["draft","validated","deployed","deprecated"],Oge=["tiered","binary","milestone"],kge={hero_progression:kr,economy_strategy:_r,profession_specialization:sM,ownership_collection:Qs,behavior_engagement:Lr,seasonal_events:ew,prestige_overall:aw,summoning_prestige:uo},_ge={draft:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",validated:"bg-blue-500/20 text-blue-500 border-blue-500/30",deployed:"bg-green-500/20 text-green-500 border-green-500/30",deprecated:"bg-gray-500/20 text-gray-500 border-gray-500/30"},AF={draft:Zi,validated:tw,deployed:rw,deprecated:fc};function Rge({state:e}){const t=_ge[e]||"bg-muted text-muted-foreground",r=AF[e]||rr;return n.jsxs(q,{variant:"outline",className:`text-xs ${t} gap-1`,"data-testid":`badge-state-${e}`,children:[n.jsx(r,{className:"w-3 h-3"}),e.toUpperCase()]})}function Mge(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Me,{className:"h-10 w-64"}),n.jsx(Me,{className:"h-10 w-32"}),n.jsx(Me,{className:"h-10 w-32"}),n.jsx(Me,{className:"h-10 w-32"})]}),n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>n.jsx(Me,{className:"h-12 w-full"},e))})})})]})}function Dge(){const[,e]=Va(),{toast:t}=Zt(),[r,a]=p.useState(""),[s,l]=p.useState(""),[c,d]=p.useState(""),[f,m]=p.useState(""),[h,g]=p.useState(null),[v,y]=p.useState(!1),w=()=>{const T=new URLSearchParams;s&&T.append("state",s),c&&T.append("category",c),f&&T.append("type",f),r&&T.append("search",r);const _=T.toString();return _?`?${_}`:""},{data:j,isLoading:N,error:C}=_e({queryKey:["/api/admin/challenges",s,c,f,r],queryFn:async()=>{const T=await fetch(`/api/admin/challenges${w()}`,{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch challenges");return T.json()}}),{data:E}=_e({queryKey:["/api/admin/challenge-categories"],queryFn:async()=>{const T=await fetch("/api/admin/challenge-categories",{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch categories");return T.json()}}),A=Ee({mutationFn:async T=>{const _=await fetch(`/api/admin/challenges/${T}`,{method:"DELETE",credentials:"include"});if(!_.ok)throw new Error("Failed to delete challenge");return _.json()},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/challenges"]}),t({title:"Challenge deprecated",description:"The challenge has been marked as deprecated."}),g(null)},onError:T=>{t({title:"Error",description:T.message,variant:"destructive"})}}),P=Ee({mutationFn:async()=>{const T=await fetch("/api/admin/etl/trigger",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"incremental"})});if(!T.ok)throw new Error("Failed to trigger ETL");return T.json()},onSuccess:T=>{T.success===!1?t({title:"ETL Not Started",description:T.message||"ETL could not be started",variant:"destructive"}):t({title:"ETL Complete",description:T.message||"Challenge progress updated from blockchain data"})},onError:T=>{t({title:"ETL Failed",description:T.message,variant:"destructive"})}}),k={draft:j?.filter(T=>T.state==="draft").length||0,validated:j?.filter(T=>T.state==="validated").length||0,deployed:j?.filter(T=>T.state==="deployed").length||0,deprecated:j?.filter(T=>T.state==="deprecated").length||0};return N?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Challenge Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading challenges..."})]}),n.jsx(Mge,{})]}):C?n.jsx("div",{className:"p-6",children:n.jsx(G,{className:"border-destructive",children:n.jsxs(re,{children:[n.jsx(ie,{className:"text-destructive",children:"Error Loading Challenges"}),n.jsx(Se,{children:C instanceof Error?C.message:"Failed to load challenges"})]})})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Challenge Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage challenge definitions, validation, and deployment"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ne,{variant:"outline",onClick:()=>P.mutate(),disabled:P.isPending,"data-testid":"button-refresh-etl",children:[P.isPending?n.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Refresh Progress"]}),n.jsxs(ne,{onClick:()=>y(!0),"data-testid":"button-create-challenge",children:[n.jsx(Xi,{className:"w-4 h-4 mr-2"}),"New Challenge"]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Tge.map(T=>{const _=AF[T],L=k[T];return n.jsx(G,{className:`cursor-pointer hover-elevate ${s===T?"ring-2 ring-primary":""}`,onClick:()=>l(s===T?"":T),"data-testid":`card-state-filter-${T}`,children:n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ie,{className:"text-sm font-medium capitalize flex items-center gap-2",children:[n.jsx(_,{className:"w-4 h-4"}),T]}),n.jsx(q,{variant:"secondary",children:L})]})})},T)})}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[n.jsx(Xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(We,{placeholder:"Search by code or name...",value:r,onChange:T=>a(T.target.value),className:"pl-10","data-testid":"input-search"})]}),n.jsxs(it,{value:c||"all",onValueChange:T=>d(T==="all"?"":T),children:[n.jsx(tt,{className:"w-[180px]","data-testid":"select-category",children:n.jsx(lt,{placeholder:"All Categories"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"all",children:"All Categories"}),E?.map(T=>n.jsx(ve,{value:T.key,children:T.name},T.key))]})]}),n.jsxs(it,{value:f||"all",onValueChange:T=>m(T==="all"?"":T),children:[n.jsx(tt,{className:"w-[150px]","data-testid":"select-type",children:n.jsx(lt,{placeholder:"All Types"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"all",children:"All Types"}),Oge.map(T=>n.jsx(ve,{value:T,children:T},T))]})]}),(s||c||f||r)&&n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{l(""),d(""),m(""),a("")},"data-testid":"button-clear-filters",children:"Clear Filters"})]}),n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-[200px]",children:"Code"}),n.jsx(H,{children:"Name"}),n.jsx(H,{children:"Category"}),n.jsx(H,{children:"Type"}),n.jsx(H,{children:"State"}),n.jsx(H,{children:"Visibility"}),n.jsx(H,{className:"text-right",children:"Actions"})]})}),n.jsxs(pt,{children:[j?.length===0&&n.jsx(Ae,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No challenges found. Create your first challenge!"})}),j?.map(T=>{const _=kge[T.category]||Zr;return n.jsxs(Ae,{"data-testid":`row-challenge-${T.id}`,children:[n.jsx(U,{className:"font-mono text-sm",children:T.code}),n.jsx(U,{className:"font-medium",children:T.name}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:T.category})]})}),n.jsx(U,{children:n.jsx(q,{variant:"outline",className:"text-xs",children:T.type})}),n.jsx(U,{children:n.jsx(Rge,{state:T.state})}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[T.isVisibleFe?n.jsxs(q,{variant:"secondary",className:"text-xs gap-1",children:[n.jsx(Nc,{className:"w-3 h-3"})," Visible"]}):n.jsxs(q,{variant:"outline",className:"text-xs gap-1 text-muted-foreground",children:[n.jsx(Vi,{className:"w-3 h-3"})," Hidden"]}),T.isTestOnly&&n.jsx(q,{variant:"outline",className:"text-xs text-amber-500 border-amber-500/30",children:"Test"})]})}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/challenges/${T.id}`),"data-testid":`button-view-${T.id}`,children:n.jsx(Nc,{className:"w-4 h-4"})}),T.state!=="deployed"&&T.state!=="deprecated"&&n.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/challenges/${T.id}/edit`),"data-testid":`button-edit-${T.id}`,children:n.jsx(Zi,{className:"w-4 h-4"})}),T.state!=="deprecated"&&n.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>g(T),"data-testid":`button-delete-${T.id}`,children:n.jsx(sw,{className:"w-4 h-4 text-destructive"})})]})})]},T.id)})]})]})})}),n.jsx(Ys,{open:!!h,onOpenChange:()=>g(null),children:n.jsxs(as,{children:[n.jsxs(ss,{children:[n.jsx(is,{children:"Deprecate Challenge"}),n.jsxs(ls,{children:['Are you sure you want to deprecate "',h?.name,'"? This will hide it from the frontend and mark it as inactive.']})]}),n.jsxs(ll,{children:[n.jsx(ne,{variant:"outline",onClick:()=>g(null),children:"Cancel"}),n.jsx(ne,{variant:"destructive",onClick:()=>h&&A.mutate(h.id),disabled:A.isPending,"data-testid":"button-confirm-delete",children:A.isPending?"Deprecating...":"Deprecate"})]})]})}),n.jsx(Ys,{open:v,onOpenChange:y,children:n.jsxs(as,{className:"max-w-2xl",children:[n.jsxs(ss,{children:[n.jsx(is,{children:"Create New Challenge"}),n.jsx(ls,{children:"Define a new challenge. It will start in draft state."})]}),n.jsx(Lge,{categories:E||[],onSuccess:()=>{y(!1),Re.invalidateQueries({queryKey:["/api/admin/challenges"]})}})]})})]})}function Lge({categories:e,onSuccess:t}){const{toast:r}=Zt(),[a,s]=p.useState({code:"",name:"",category:"hero_progression",type:"tiered",descriptionShort:"",metricType:"integer",metricSource:"onchain_heroes",metricKey:""}),l=Ee({mutationFn:async d=>{const f=await fetch("/api/admin/challenges",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(d)});if(!f.ok){const m=await f.json();throw new Error(m.error||"Failed to create challenge")}return f.json()},onSuccess:()=>{r({title:"Challenge created",description:"The challenge has been created in draft state."}),t()},onError:d=>{r({title:"Error",description:d.message,variant:"destructive"})}}),c=d=>{d.preventDefault(),l.mutate(a)};return n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Code (unique key)"}),n.jsx(We,{placeholder:"e.g., hero_count_10",value:a.code,onChange:d=>s({...a,code:d.target.value}),required:!0,"data-testid":"input-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),n.jsx(We,{placeholder:"e.g., Hero Collector",value:a.name,onChange:d=>s({...a,name:d.target.value}),required:!0,"data-testid":"input-name"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(it,{value:a.category,onValueChange:d=>s({...a,category:d}),children:[n.jsx(tt,{"data-testid":"select-form-category",children:n.jsx(lt,{})}),n.jsx(nt,{children:e.map(d=>n.jsx(ve,{value:d.key,children:d.name},d.key))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Challenge Type"}),n.jsxs(it,{value:a.type,onValueChange:d=>s({...a,type:d}),children:[n.jsx(tt,{"data-testid":"select-form-type",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"tiered",children:"Tiered (multi-level)"}),n.jsx(ve,{value:"binary",children:"Binary (yes/no)"}),n.jsx(ve,{value:"milestone",children:"Milestone (one-time)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Short Description"}),n.jsx(We,{placeholder:"Brief description for UI display",value:a.descriptionShort,onChange:d=>s({...a,descriptionShort:d.target.value}),"data-testid":"input-description"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),n.jsxs(it,{value:a.metricType,onValueChange:d=>s({...a,metricType:d}),children:[n.jsx(tt,{"data-testid":"select-metric-type",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"integer",children:"Integer"}),n.jsx(ve,{value:"decimal",children:"Decimal"}),n.jsx(ve,{value:"boolean",children:"Boolean"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Source"}),n.jsxs(it,{value:a.metricSource,onValueChange:d=>s({...a,metricSource:d}),children:[n.jsx(tt,{"data-testid":"select-metric-source",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"onchain_heroes",children:"On-chain: Heroes"}),n.jsx(ve,{value:"onchain_quests",children:"On-chain: Quests"}),n.jsx(ve,{value:"onchain_summons",children:"On-chain: Summons"}),n.jsx(ve,{value:"onchain_pets",children:"On-chain: Pets"}),n.jsx(ve,{value:"onchain_meditation",children:"On-chain: Meditation"}),n.jsx(ve,{value:"onchain_gardens",children:"On-chain: Gardens"}),n.jsx(ve,{value:"onchain_portfolio",children:"On-chain: Portfolio"}),n.jsx(ve,{value:"behavior_model",children:"Behavior Model"}),n.jsx(ve,{value:"discord_interactions",children:"Discord Activity"}),n.jsx(ve,{value:"payment_events",children:"Payment Events"}),n.jsx(ve,{value:"event_progress",children:"Event Progress"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Key"}),n.jsx(We,{placeholder:"e.g., heroCount",value:a.metricKey,onChange:d=>s({...a,metricKey:d.target.value}),required:!0,"data-testid":"input-metric-key"})]})]}),n.jsx(ll,{children:n.jsx(ne,{type:"submit",disabled:l.isPending,"data-testid":"button-submit-create",children:l.isPending?"Creating...":"Create Challenge"})})]})}const Au=p.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Au.displayName="Textarea";function Ige(e){const t=$ge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(zge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function $ge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Uge(s),d=Bge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fge=Symbol("radix.slottable");function zge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fge}function Bge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Uge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Hge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$S=Hge.reduce((e,t)=>{const r=Ige(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Og="Checkbox",[qge]=gr(Og),[Vge,FS]=qge(Og);function Kge(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:l,form:c,name:d,onCheckedChange:f,required:m,value:h="on",internal_do_not_use_render:g}=e,[v,y]=ta({prop:r,defaultProp:s??!1,onChange:f,caller:Og}),[w,j]=p.useState(null),[N,C]=p.useState(null),E=p.useRef(!1),A=w?!!c||!!w.closest("form"):!0,P={checked:v,disabled:l,setChecked:y,control:w,setControl:j,name:d,form:c,value:h,hasConsumerStoppedPropagationRef:E,required:m,defaultChecked:Yi(s)?!1:s,isFormControl:A,bubbleInput:N,setBubbleInput:C};return n.jsx(Vge,{scope:t,...P,children:Wge(g)?g(P):a})}var PF="CheckboxTrigger",TF=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},s)=>{const{control:l,value:c,disabled:d,checked:f,required:m,setControl:h,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:w}=FS(PF,e),j=rt(s,h),N=p.useRef(f);return p.useEffect(()=>{const C=l?.form;if(C){const E=()=>g(N.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[l,g]),n.jsx($S.button,{type:"button",role:"checkbox","aria-checked":Yi(f)?"mixed":f,"aria-required":m,"data-state":MF(f),"data-disabled":d?"":void 0,disabled:d,value:c,...a,ref:j,onKeyDown:ze(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ze(r,C=>{g(E=>Yi(E)?!0:!E),w&&y&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})})});TF.displayName=PF;var zS=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:l,required:c,disabled:d,value:f,onCheckedChange:m,form:h,...g}=e;return n.jsx(Kge,{__scopeCheckbox:r,checked:s,defaultChecked:l,disabled:d,required:c,onCheckedChange:m,name:a,form:h,value:f,internal_do_not_use_render:({isFormControl:v})=>n.jsxs(n.Fragment,{children:[n.jsx(TF,{...g,ref:t,__scopeCheckbox:r}),v&&n.jsx(RF,{__scopeCheckbox:r})]})})});zS.displayName=Og;var OF="CheckboxIndicator",kF=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,l=FS(OF,r);return n.jsx(ra,{present:a||Yi(l.checked)||l.checked===!0,children:n.jsx($S.span,{"data-state":MF(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});kF.displayName=OF;var _F="CheckboxBubbleInput",RF=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:l,defaultChecked:c,required:d,disabled:f,name:m,value:h,form:g,bubbleInput:v,setBubbleInput:y}=FS(_F,e),w=rt(r,y),j=Tx(l),N=Sx(a);p.useEffect(()=>{const E=v;if(!E)return;const A=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(A,"checked").set,T=!s.current;if(j!==l&&k){const _=new Event("click",{bubbles:T});E.indeterminate=Yi(l),k.call(E,Yi(l)?!1:l),E.dispatchEvent(_)}},[v,j,l,s]);const C=p.useRef(Yi(l)?!1:l);return n.jsx($S.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??C.current,required:d,disabled:f,name:m,value:h,form:g,...t,tabIndex:-1,ref:w,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});RF.displayName=_F;function Wge(e){return typeof e=="function"}function Yi(e){return e==="indeterminate"}function MF(e){return Yi(e)?"indeterminate":e?"checked":"unchecked"}const hx=p.forwardRef(({className:e,...t},r)=>n.jsx(zS,{ref:r,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(kF,{className:Le("flex items-center justify-center text-current"),children:n.jsx(tM,{className:"h-4 w-4"})})}));hx.displayName=zS.displayName;function Gge(e){const t=Yge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Xge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Yge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Jge(s),d=Zge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Qge=Symbol("radix.slottable");function Xge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Qge}function Zge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Jge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DF=eve.reduce((e,t)=>{const r=Gge(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Jj="rovingFocusGroup.onEntryFocus",tve={bubbles:!1,cancelable:!0},zf="RovingFocusGroup",[MN,LF,nve]=rf(zf),[rve,IF]=gr(zf,[nve]),[ave,sve]=rve(zf),$F=p.forwardRef((e,t)=>n.jsx(MN.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(MN.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(ive,{...e,ref:t})})}));$F.displayName=zf;var ive=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...g}=e,v=p.useRef(null),y=rt(t,v),w=Jc(l),[j,N]=ta({prop:c,defaultProp:d??null,onChange:f,caller:zf}),[C,E]=p.useState(!1),A=Pn(m),P=LF(r),k=p.useRef(!1),[T,_]=p.useState(0);return p.useEffect(()=>{const L=v.current;if(L)return L.addEventListener(Jj,A),()=>L.removeEventListener(Jj,A)},[A]),n.jsx(ave,{scope:r,orientation:a,dir:w,loop:s,currentTabStopId:j,onItemFocus:p.useCallback(L=>N(L),[N]),onItemShiftTab:p.useCallback(()=>E(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(L=>L+1),[]),onFocusableItemRemove:p.useCallback(()=>_(L=>L-1),[]),children:n.jsx(DF.div,{tabIndex:C||T===0?-1:0,"data-orientation":a,...g,ref:y,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{k.current=!0}),onFocus:ze(e.onFocus,L=>{const X=!k.current;if(L.target===L.currentTarget&&X&&!C){const I=new CustomEvent(Jj,tve);if(L.currentTarget.dispatchEvent(I),!I.defaultPrevented){const R=P().filter(B=>B.focusable),K=R.find(B=>B.active),ye=R.find(B=>B.id===j),ee=[K,ye,...R].filter(Boolean).map(B=>B.ref.current);BF(ee,h)}}k.current=!1}),onBlur:ze(e.onBlur,()=>E(!1))})})}),FF="RovingFocusGroupItem",zF=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:l,children:c,...d}=e,f=za(),m=l||f,h=sve(FF,r),g=h.currentTabStopId===m,v=LF(r),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:j}=h;return p.useEffect(()=>{if(a)return y(),()=>w()},[a,y,w]),n.jsx(MN.ItemSlot,{scope:r,id:m,focusable:a,active:s,children:n.jsx(DF.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...d,ref:t,onMouseDown:ze(e.onMouseDown,N=>{a?h.onItemFocus(m):N.preventDefault()}),onFocus:ze(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:ze(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const C=cve(N,h.orientation,h.dir);if(C!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=v().filter(P=>P.focusable).map(P=>P.ref.current);if(C==="last")A.reverse();else if(C==="prev"||C==="next"){C==="prev"&&A.reverse();const P=A.indexOf(N.currentTarget);A=h.loop?dve(A,P+1):A.slice(P+1)}setTimeout(()=>BF(A))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:j!=null}):c})})});zF.displayName=FF;var lve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ove(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cve(e,t,r){const a=ove(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return lve[a]}function BF(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function dve(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var uve=$F,fve=zF;function mve(e){const t=hve(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(xve);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function hve(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=vve(s),d=gve(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pve=Symbol("radix.slottable");function xve(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pve}function gve(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function vve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kg=yve.reduce((e,t)=>{const r=mve(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),_g="Tabs",[jve]=gr(_g,[IF]),UF=IF(),[bve,BS]=jve(_g),HF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...m}=e,h=Jc(d),[g,v]=ta({prop:a,onChange:s,defaultProp:l??"",caller:_g});return n.jsx(bve,{scope:r,baseId:za(),value:g,onValueChange:v,orientation:c,dir:h,activationMode:f,children:n.jsx(kg.div,{dir:h,"data-orientation":c,...m,ref:t})})});HF.displayName=_g;var qF="TabsList",VF=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,l=BS(qF,r),c=UF(r);return n.jsx(uve,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:a,children:n.jsx(kg.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:t})})});VF.displayName=qF;var KF="TabsTrigger",WF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...l}=e,c=BS(KF,r),d=UF(r),f=QF(c.baseId,a),m=XF(c.baseId,a),h=a===c.value;return n.jsx(fve,{asChild:!0,...d,focusable:!s,active:h,children:n.jsx(kg.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...l,ref:t,onMouseDown:ze(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?c.onValueChange(a):g.preventDefault()}),onKeyDown:ze(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(a)}),onFocus:ze(e.onFocus,()=>{const g=c.activationMode!=="manual";!h&&!s&&g&&c.onValueChange(a)})})})});WF.displayName=KF;var GF="TabsContent",YF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:l,...c}=e,d=BS(GF,r),f=QF(d.baseId,a),m=XF(d.baseId,a),h=a===d.value,g=p.useRef(h);return p.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),n.jsx(ra,{present:s||h,children:({present:v})=>n.jsx(kg.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:v&&l})})});YF.displayName=GF;function QF(e,t){return`${e}-trigger-${t}`}function XF(e,t){return`${e}-content-${t}`}var Nve=HF,ZF=VF,JF=WF,ez=YF;const oi=Nve,us=p.forwardRef(({className:e,...t},r)=>n.jsx(ZF,{ref:r,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));us.displayName=ZF.displayName;const Ct=p.forwardRef(({className:e,...t},r)=>n.jsx(JF,{ref:r,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ct.displayName=JF.displayName;const Ot=p.forwardRef(({className:e,...t},r)=>n.jsx(ez,{ref:r,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ot.displayName=ez.displayName;function wve({challengeKey:e,canEdit:t,tiers:r,setTiers:a}){const{toast:s}=Zt(),[l,c]=p.useState("ALL"),[d,f]=p.useState({pct1:.4,pct2:.7,pct3:.9,pct4:.97}),[m,h]=p.useState(null),[g,v]=p.useState(null),[y,w]=p.useState(null),[j,N]=p.useState(!1),[C,E]=p.useState(!1),[A,P]=p.useState(!1),k={COMMON:"text-gray-500",UNCOMMON:"text-green-600",RARE:"text-blue-600",LEGENDARY:"text-orange-600",MYTHIC:"text-purple-600",BASIC:"text-blue-600",ADVANCED:"text-green-600",ELITE:"text-purple-600",EXALTED:"text-amber-600",UNLOCKED:"text-green-600",LOCKED:"text-gray-500"},T={COMMON:"[&>div]:bg-gray-400",UNCOMMON:"[&>div]:bg-green-500",RARE:"[&>div]:bg-blue-500",LEGENDARY:"[&>div]:bg-orange-500",MYTHIC:"[&>div]:bg-purple-500",BASIC:"[&>div]:bg-blue-500",ADVANCED:"[&>div]:bg-green-500",ELITE:"[&>div]:bg-purple-500",EXALTED:"[&>div]:bg-amber-500"},_=async()=>{N(!0);try{const W=await fetch(`/api/admin/challenges/${e}/calibration?cohortKey=${l}`,{credentials:"include"});if(!W.ok){const B=await W.json().catch(()=>({}));throw new Error(B.error||`HTTP ${W.status}`)}const ee=await W.json();ee.cached?(h(ee),ee.targets&&f({pct1:ee.targets.pct1??.4,pct2:ee.targets.pct2??.7,pct3:ee.targets.pct3??.9,pct4:ee.targets.pct4??.97})):(h(null),s({title:"No Cached Stats",description:"Click Refresh to compute calibration stats",variant:"default"}))}catch(W){s({title:"Error Loading Stats",description:W instanceof Error?W.message:"Failed to load calibration stats",variant:"destructive"})}N(!1)},L=async()=>{E(!0);try{const W=await fetch(`/api/admin/challenges/${e}/calibration/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cohortKey:l,targets:d})});if(!W.ok){const B=await W.json().catch(()=>({}));throw new Error(B.error||`HTTP ${W.status}`)}const ee=await W.json();if(ee.success)h({cached:!0,challengeKey:ee.challengeKey,cohortKey:ee.cohortKey,computedAt:new Date().toISOString(),clusterCount:ee.clusterCount,nonzeroCount:ee.nonzeroCount,tierSystem:ee.tierSystem,tierLadder:ee.tierLadder||[],suggestableTiers:ee.suggestableTiers||[],isPrestige:ee.isPrestige||!1,percentiles:ee.percentiles,targets:ee.targets,suggestedByTier:ee.suggestedByTier||{},warnings:ee.warnings||[],zeroInflated:ee.zeroInflated||!1,whaleSkew:ee.whaleSkew||!1,lowSample:ee.lowSample||!1}),s({title:"Stats Refreshed",description:`Computed for ${ee.clusterCount?.toLocaleString()||0} clusters`});else throw new Error(ee.error||"Refresh failed")}catch(W){s({title:"Refresh Failed",description:W instanceof Error?W.message:"Failed to refresh stats",variant:"destructive"})}E(!1)},X=async(W,ee=!1)=>{P(!0);try{const B=await fetch(`/api/admin/challenges/${e}/calibration/simulate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cohortKey:l,thresholds:W})});if(!B.ok){const $=await B.json().catch(()=>({}));throw new Error($.error||`HTTP ${B.status}`)}const Z=await B.json();ee?w(Z):v(Z)}catch(B){s({title:"Simulation Failed",description:B instanceof Error?B.message:"Failed to simulate",variant:"destructive"})}P(!1)},I=async W=>{try{const ee=await fetch(`/api/admin/challenges/${e}/calibration/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({thresholds:W})});if(!ee.ok){const Z=await ee.json().catch(()=>({}));throw new Error(Z.error||`HTTP ${ee.status}`)}const B=await ee.json();if(B.success){const Z=r.map($=>{const fe=W[$.tierCode];return fe!==void 0?{...$,thresholdValue:Math.round(fe)}:$});a(Z),Re.invalidateQueries({queryKey:["/api/admin/challenges"]}),s({title:"Thresholds Applied",description:`Updated ${B.updatedTiers?.length||0} tier thresholds`})}else throw new Error(B.error||"Apply failed")}catch(ee){s({title:"Apply Failed",description:ee instanceof Error?ee.message:"Failed to apply thresholds",variant:"destructive"})}},R=()=>{const W={};for(const ee of r)W[ee.tierCode]=ee.thresholdValue;return W},K=()=>m?.suggestableTiers||[],ye=()=>{f({pct1:.4,pct2:.7,pct3:.9,pct4:.97})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(G,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(yb,{className:"w-5 h-5"}),"Calibration & Distribution"]}),n.jsx(Se,{children:"Analyze player distribution and tune tier thresholds"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(it,{value:l,onValueChange:c,children:[n.jsx(tt,{className:"w-40","data-testid":"select-cohort",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"ALL",children:"All Players"}),n.jsx(ve,{value:"NONZERO",children:"Non-zero Only"}),n.jsx(ve,{value:"ACTIVE_30D",children:"Active (30 days)"})]})]}),n.jsx(ne,{variant:"outline",onClick:_,disabled:j,"data-testid":"button-load-stats",children:j?"Loading...":"Load Stats"}),n.jsxs(ne,{onClick:L,disabled:C,"data-testid":"button-refresh-stats",children:[n.jsx(Xe,{className:`w-4 h-4 mr-2 ${C?"animate-spin":""}`}),C?"Refreshing...":"Refresh"]})]})]})}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[n.jsx(Rr,{className:"w-4 h-4"}),"Target Percentiles",m?.tierSystem&&n.jsx(q,{variant:"outline",className:"text-xs",children:m.tierSystem})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 2 (p",Math.round(d.pct1*100),")"]}),n.jsx(We,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct1,onChange:W=>f({...d,pct1:parseFloat(W.target.value)||0}),"data-testid":"input-target-pct1"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 3 (p",Math.round(d.pct2*100),")"]}),n.jsx(We,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct2,onChange:W=>f({...d,pct2:parseFloat(W.target.value)||0}),"data-testid":"input-target-pct2"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 4 (p",Math.round(d.pct3*100),")"]}),n.jsx(We,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct3,onChange:W=>f({...d,pct3:parseFloat(W.target.value)||0}),"data-testid":"input-target-pct3"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 5 (p",Math.round(d.pct4*100),")"]}),n.jsx(We,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct4,onChange:W=>f({...d,pct4:parseFloat(W.target.value)||0}),"data-testid":"input-target-pct4"})]})]}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:ye,className:"mt-2","data-testid":"button-reset-targets",children:"Reset to Defaults"})]}),m&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(G,{children:n.jsxs(Y,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-cluster-count",children:m.clusterCount.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Clusters"})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-nonzero-count",children:m.nonzeroCount.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Non-zero Progress"})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-computed-at",children:m.computedAt?new Date(m.computedAt).toLocaleDateString():"N/A"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Computed"})]})})]}),m.warnings.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.zeroInflated&&n.jsxs(q,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",children:[n.jsx(rr,{className:"w-3 h-3 mr-1"}),"Zero Inflated"]}),m.whaleSkew&&n.jsxs(q,{variant:"outline",className:"bg-orange-500/10 text-orange-600 border-orange-500/30",children:[n.jsx(On,{className:"w-3 h-3 mr-1"}),"Whale Skew"]}),m.lowSample&&n.jsxs(q,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/30",children:[n.jsx(rr,{className:"w-3 h-3 mr-1"}),"Low Sample"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Percentile Distribution"}),n.jsxs("div",{className:"grid gap-2 grid-cols-4 md:grid-cols-7 text-center text-xs",children:[n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"Min"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.min.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p25"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p25.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p50"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p50.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p75"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p75.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p90"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p90.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p95"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p95.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"Max"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.max.toLocaleString()})]})]})]}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Ks,{className:"w-4 h-4"}),"Suggested Thresholds",n.jsx(q,{variant:"outline",className:"text-xs",children:m.tierSystem})]}),m.isPrestige?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Feat challenges use boolean (unlocked/locked) and don't have threshold suggestions."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`grid gap-4 md:grid-cols-${K().length}`,children:K().map(W=>n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded",children:[n.jsx("div",{className:`text-lg font-bold ${k[W.tierCode]||"text-foreground"}`,"data-testid":`text-suggested-${W.tierCode.toLowerCase()}`,children:Math.round(m.suggestedByTier[W.tierCode]||0).toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:W.displayName||W.tierCode})]},W.tierCode))}),t&&Object.keys(m.suggestedByTier).length>0&&n.jsx(ne,{variant:"outline",onClick:()=>I(m.suggestedByTier),"data-testid":"button-apply-suggested",children:"Apply Suggested Thresholds"})]})]})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(yb,{className:"w-5 h-5"}),"Tier Distribution Simulation"]}),n.jsx(Se,{children:"Preview how players would be distributed across tiers"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(ne,{variant:"outline",onClick:()=>X(R()),disabled:A,"data-testid":"button-simulate-current",children:"Simulate Current Thresholds"}),m&&!m.isPrestige&&n.jsx(ne,{variant:"outline",onClick:()=>X(m.suggestedByTier,!0),disabled:A,"data-testid":"button-simulate-suggested",children:"Simulate Suggested Thresholds"})]}),(g||y)&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[g&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium mb-3",children:"Current Thresholds"}),n.jsx("div",{className:"space-y-2",children:Object.entries(g.distribution).map(([W,ee])=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:W==="_BELOW_TIER1"?"text-muted-foreground":k[W]||"text-foreground",children:W==="_BELOW_TIER1"?"Below Tier 1":W}),n.jsxs("span",{children:[ee.count.toLocaleString()," (",ee.pct,"%)"]})]}),n.jsx(Ut,{value:ee.pct,className:`h-2 ${W==="_BELOW_TIER1"?"":T[W]||""}`})]},W))})]}),y&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium mb-3",children:"Suggested Thresholds"}),n.jsx("div",{className:"space-y-2",children:Object.entries(y.distribution).map(([W,ee])=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:W==="_BELOW_TIER1"?"text-muted-foreground":k[W]||"text-foreground",children:W==="_BELOW_TIER1"?"Below Tier 1":W}),n.jsxs("span",{children:[ee.count.toLocaleString()," (",ee.pct,"%)"]})]}),n.jsx(Ut,{value:ee.pct,className:`h-2 ${W==="_BELOW_TIER1"?"":T[W]||""}`})]},W))})]})]})]})]})]})}const Sve={draft:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",validated:"bg-blue-500/20 text-blue-500 border-blue-500/30",deployed:"bg-green-500/20 text-green-500 border-green-500/30",deprecated:"bg-gray-500/20 text-gray-500 border-gray-500/30"},Cve={draft:Zi,validated:tw,deployed:rw,deprecated:fc};function DR({state:e}){const t=Sve[e]||"bg-muted text-muted-foreground",r=Cve[e]||rr;return n.jsxs(q,{variant:"outline",className:`text-xs ${t} gap-1`,children:[n.jsx(r,{className:"w-3 h-3"}),e.toUpperCase()]})}function LR(){const{id:e}=tf(),[,t]=Va(),{toast:r}=Zt(),a=window.location.pathname.includes("/edit"),s=e&&/^\d+$/.test(e)?parseInt(e,10):null,l=s!==null&&!isNaN(s),{data:c,isLoading:d,error:f}=_e({queryKey:["/api/admin/challenges",e],queryFn:async()=>{const I=await fetch(`/api/admin/challenges/${e}`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch challenge");return I.json()},enabled:l}),{data:m}=_e({queryKey:["/api/admin/challenge-categories"],queryFn:async()=>{const I=await fetch("/api/admin/challenge-categories",{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch categories");return I.json()}}),{data:h}=_e({queryKey:["/api/admin/challenges",e,"audit"],queryFn:async()=>{const I=await fetch(`/api/admin/challenges/${e}/audit`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch audit log");return I.json()},enabled:l}),[g,v]=p.useState({}),[y,w]=p.useState([]),[j,N]=p.useState({});p.useEffect(()=>{c&&(v({name:c.name,category:c.category,type:c.type,descriptionShort:c.descriptionShort,descriptionLong:c.descriptionLong,metricType:c.metricType,metricSource:c.metricSource,metricKey:c.metricKey,metricAggregation:c.metricAggregation,metricFilters:c.metricFilters,tieringMode:c.tieringMode,tierConfig:c.tierConfig,isClusterBased:c.isClusterBased,isTestOnly:c.isTestOnly,isVisibleFe:c.isVisibleFe,sortOrder:c.sortOrder}),w(c.tiers||[]),N(c.validation?.manualChecks||{}))},[c]);const C=Ee({mutationFn:async I=>{const R=await fetch(`/api/admin/challenges/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...I,tiers:y})});if(!R.ok){const K=await R.json();throw new Error(K.error||"Failed to update challenge")}return R.json()},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/challenges",e]}),r({title:"Challenge updated",description:"Changes saved successfully."})},onError:I=>{r({title:"Error",description:I.message,variant:"destructive"})}}),E=Ee({mutationFn:async()=>{const I=await fetch(`/api/admin/challenges/${e}/validate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({manualChecks:j})});if(!I.ok){const R=await I.json();throw new Error(R.error||"Failed to validate")}return I.json()},onSuccess:I=>{Re.invalidateQueries({queryKey:["/api/admin/challenges",e]}),r({title:"Validation complete",description:I.canPromoteToValidated?"Challenge can be promoted to validated.":"Some checks are failing."})},onError:I=>{r({title:"Error",description:I.message,variant:"destructive"})}}),A=Ee({mutationFn:async I=>{const R=await fetch(`/api/admin/challenges/${e}/state`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({targetState:I})});if(!R.ok){const K=await R.json();throw new Error(K.error||"Failed to transition state")}return R.json()},onSuccess:I=>{Re.invalidateQueries({queryKey:["/api/admin/challenges",e]}),Re.invalidateQueries({queryKey:["/api/admin/challenges"]}),r({title:"State changed",description:`Challenge is now ${I.newState}.`})},onError:I=>{r({title:"Error",description:I.message,variant:"destructive"})}}),P=()=>{C.mutate(g)},k=()=>{w([...y,{tierCode:"",displayName:"",thresholdValue:0,isPrestige:!1,sortOrder:y.length+1}])},T=I=>{w(y.filter((R,K)=>K!==I))},_=(I,R,K)=>{const ye=[...y];ye[I][R]=K,w(ye)};if(!l)return n.jsx("div",{className:"p-6",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Invalid Challenge ID"}),n.jsxs(Se,{children:['The challenge ID "',e,'" is not valid. Please select a challenge from the list or create a new one.']})]}),n.jsx(Y,{children:n.jsxs(ne,{onClick:()=>t("/admin/challenges"),"data-testid":"button-back-to-list",children:[n.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Back to Challenges"]})})]})});if(d)return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(Me,{className:"h-8 w-64"}),n.jsx(Me,{className:"h-[400px] w-full"})]});if(f||!c)return n.jsx("div",{className:"p-6",children:n.jsx(G,{className:"border-destructive",children:n.jsxs(re,{children:[n.jsx(ie,{className:"text-destructive",children:"Error"}),n.jsx(Se,{children:f instanceof Error?f.message:"Challenge not found"})]})})});const L=c.state==="draft"||c.state==="validated",X=c.validation?.autoChecks||{};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>t("/admin/challenges"),"data-testid":"button-back",children:n.jsx(Qi,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-challenge-name",children:c.name}),n.jsx(DR,{state:c.state})]}),n.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:c.code})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[L&&a&&n.jsxs(ne,{onClick:P,disabled:C.isPending,"data-testid":"button-save",children:[n.jsx(bb,{className:"w-4 h-4 mr-2"}),C.isPending?"Saving...":"Save Changes"]}),!a&&L&&n.jsxs(ne,{onClick:()=>t(`/admin/challenges/${e}/edit`),"data-testid":"button-edit",children:[n.jsx(Zi,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]}),n.jsxs(oi,{defaultValue:"basic",className:"space-y-6",children:[n.jsxs(us,{children:[n.jsx(Ct,{value:"basic","data-testid":"tab-basic",children:"Basic Info"}),n.jsx(Ct,{value:"metric","data-testid":"tab-metric",children:"Metric Definition"}),n.jsx(Ct,{value:"tiers","data-testid":"tab-tiers",children:"Tiering"}),n.jsx(Ct,{value:"calibration","data-testid":"tab-calibration",children:"Calibration"}),n.jsx(Ct,{value:"display","data-testid":"tab-display",children:"Frontend Display"}),n.jsx(Ct,{value:"validation","data-testid":"tab-validation",children:"Validation"}),n.jsx(Ct,{value:"deploy","data-testid":"tab-deploy",children:"Deploy Controls"}),n.jsx(Ct,{value:"audit","data-testid":"tab-audit",children:"Audit Log"})]}),n.jsx(Ot,{value:"basic",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Basic Information"}),n.jsx(Se,{children:"Core challenge identity and categorization"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),n.jsx(We,{value:g.name||"",onChange:I=>v({...g,name:I.target.value}),disabled:!L||!a,"data-testid":"input-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(it,{value:g.category||"",onValueChange:I=>v({...g,category:I}),disabled:!L||!a,children:[n.jsx(tt,{"data-testid":"select-category",children:n.jsx(lt,{})}),n.jsx(nt,{children:m?.map(I=>n.jsx(ve,{value:I.key,children:I.name},I.key))})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Challenge Type"}),n.jsxs(it,{value:g.type||"",onValueChange:I=>v({...g,type:I}),disabled:!L||!a,children:[n.jsx(tt,{"data-testid":"select-type",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"tiered",children:"Tiered"}),n.jsx(ve,{value:"binary",children:"Binary"}),n.jsx(ve,{value:"milestone",children:"Milestone"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Sort Order"}),n.jsx(We,{type:"number",value:g.sortOrder||0,onChange:I=>v({...g,sortOrder:parseInt(I.target.value)}),disabled:!L||!a,"data-testid":"input-sort-order"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Short Description"}),n.jsx(We,{value:g.descriptionShort||"",onChange:I=>v({...g,descriptionShort:I.target.value}),disabled:!L||!a,"data-testid":"input-description-short"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Long Description"}),n.jsx(Au,{value:g.descriptionLong||"",onChange:I=>v({...g,descriptionLong:I.target.value}),disabled:!L||!a,rows:4,"data-testid":"input-description-long"})]})]})]})}),n.jsx(Ot,{value:"metric",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Metric Definition"}),n.jsx(Se,{children:"How progress is measured for this challenge"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),n.jsxs(it,{value:g.metricType||"",onValueChange:I=>v({...g,metricType:I}),disabled:!L||!a,children:[n.jsx(tt,{"data-testid":"select-metric-type",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"integer",children:"Integer"}),n.jsx(ve,{value:"decimal",children:"Decimal"}),n.jsx(ve,{value:"boolean",children:"Boolean"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Source"}),n.jsxs(it,{value:g.metricSource||"",onValueChange:I=>v({...g,metricSource:I}),disabled:!L||!a,children:[n.jsx(tt,{"data-testid":"select-metric-source",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"onchain_heroes",children:"On-chain: Heroes"}),n.jsx(ve,{value:"onchain_quests",children:"On-chain: Quests"}),n.jsx(ve,{value:"onchain_summons",children:"On-chain: Summons"}),n.jsx(ve,{value:"onchain_pets",children:"On-chain: Pets"}),n.jsx(ve,{value:"onchain_meditation",children:"On-chain: Meditation"}),n.jsx(ve,{value:"onchain_gardens",children:"On-chain: Gardens"}),n.jsx(ve,{value:"onchain_portfolio",children:"On-chain: Portfolio"}),n.jsx(ve,{value:"behavior_model",children:"Behavior Model"}),n.jsx(ve,{value:"discord_interactions",children:"Discord Activity"}),n.jsx(ve,{value:"payment_events",children:"Payment Events"}),n.jsx(ve,{value:"event_progress",children:"Event Progress"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Key"}),n.jsx(We,{value:g.metricKey||"",onChange:I=>v({...g,metricKey:I.target.value}),disabled:!L||!a,"data-testid":"input-metric-key"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Aggregation"}),n.jsxs(it,{value:g.metricAggregation||"",onValueChange:I=>v({...g,metricAggregation:I}),disabled:!L||!a,children:[n.jsx(tt,{"data-testid":"select-aggregation",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"count",children:"Count"}),n.jsx(ve,{value:"sum",children:"Sum"}),n.jsx(ve,{value:"max",children:"Maximum"}),n.jsx(ve,{value:"min",children:"Minimum"}),n.jsx(ve,{value:"avg",children:"Average"}),n.jsx(ve,{value:"latest",children:"Latest Value"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tiering Mode"}),n.jsxs(it,{value:g.tieringMode||"",onValueChange:I=>v({...g,tieringMode:I}),disabled:!L||!a,children:[n.jsx(tt,{"data-testid":"select-tiering-mode",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"threshold",children:"Threshold-based"}),n.jsx(ve,{value:"percentile",children:"Percentile-based"}),n.jsx(ve,{value:"none",children:"No Tiers"})]})]})]})]}),n.jsx("div",{className:"flex items-center gap-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:g.isClusterBased||!1,onCheckedChange:I=>v({...g,isClusterBased:I}),disabled:!L||!a,"data-testid":"switch-cluster-based"}),n.jsx("label",{className:"text-sm",children:"Cluster-based metrics"})]})})]})]})}),n.jsx(Ot,{value:"tiers",children:n.jsxs(G,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Tier Thresholds"}),n.jsx(Se,{children:"Define progression tiers and their requirements"})]}),L&&a&&n.jsxs(ne,{size:"sm",onClick:k,"data-testid":"button-add-tier",children:[n.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Add Tier"]})]})}),n.jsx(Y,{children:y.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No tiers defined yet."}):n.jsx("div",{className:"space-y-3",children:y.map((I,R)=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-md","data-testid":`tier-row-${R}`,children:[n.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-4",children:[n.jsx(We,{placeholder:"Tier Code",value:I.tierCode,onChange:K=>_(R,"tierCode",K.target.value),disabled:!L||!a,"data-testid":`input-tier-code-${R}`}),n.jsx(We,{placeholder:"Display Name",value:I.displayName,onChange:K=>_(R,"displayName",K.target.value),disabled:!L||!a,"data-testid":`input-tier-display-${R}`}),n.jsx(We,{type:"number",placeholder:"Threshold",value:I.thresholdValue,onChange:K=>_(R,"thresholdValue",parseFloat(K.target.value)),disabled:!L||!a,"data-testid":`input-tier-threshold-${R}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:I.isPrestige,onCheckedChange:K=>_(R,"isPrestige",K),disabled:!L||!a,"data-testid":`switch-tier-top-tier-${R}`}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Top Tier"})]})]}),L&&a&&n.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>T(R),"data-testid":`button-remove-tier-${R}`,children:n.jsx(sw,{className:"w-4 h-4 text-destructive"})})]},R))})})]})}),n.jsx(Ot,{value:"calibration",children:n.jsx(wve,{challengeKey:c.code,canEdit:L,tiers:y,setTiers:w})}),n.jsx(Ot,{value:"display",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Frontend Display"}),n.jsx(Se,{children:"Control visibility and presentation"})]}),n.jsx(Y,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:g.isVisibleFe||!1,onCheckedChange:I=>v({...g,isVisibleFe:I}),disabled:!L||!a,"data-testid":"switch-visible-fe"}),n.jsx("label",{className:"text-sm",children:"Visible in Frontend"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:g.isTestOnly||!1,onCheckedChange:I=>v({...g,isTestOnly:I}),disabled:!L||!a,"data-testid":"switch-test-only"}),n.jsx("label",{className:"text-sm",children:"Test Only (hidden from production)"})]})]})})]})}),n.jsx(Ot,{value:"validation",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Validation Status"}),n.jsx(Se,{children:"Automated and manual validation checks"})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Automated Checks"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[X.hasMetricSource?n.jsx(Tr,{className:"w-4 h-4 text-green-500"}):n.jsx(Vi,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Valid metric source"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[X.fieldValid?n.jsx(Tr,{className:"w-4 h-4 text-green-500"}):n.jsx(Vi,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Metric key defined"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[X.hasTierConfig?n.jsx(Tr,{className:"w-4 h-4 text-green-500"}):n.jsx(Vi,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Tier configuration valid"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[X.codeUnique?n.jsx(Tr,{className:"w-4 h-4 text-green-500"}):n.jsx(Vi,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Unique challenge code"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Manual Checks (for deployment)"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hx,{checked:j.etlOutputVerified||!1,onCheckedChange:I=>N({...j,etlOutputVerified:!!I}),"data-testid":"checkbox-etl-verified"}),n.jsx("label",{className:"text-sm",children:"ETL output verified"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hx,{checked:j.copyApproved||!1,onCheckedChange:I=>N({...j,copyApproved:!!I}),"data-testid":"checkbox-copy-approved"}),n.jsx("label",{className:"text-sm",children:"Copy/description approved"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ne,{onClick:()=>E.mutate(),disabled:E.isPending,"data-testid":"button-run-validation",children:[n.jsx(vn,{className:"w-4 h-4 mr-2"}),E.isPending?"Running...":"Run Validation"]}),c.validation?.lastRunAt&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last run: ",new Date(c.validation.lastRunAt).toLocaleString()," by ",c.validation.lastRunBy]})]})]})]})}),n.jsx(Ot,{value:"deploy",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Deploy Controls"}),n.jsx(Se,{children:"Manage challenge state lifecycle"})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm font-medium",children:"Current State:"}),n.jsx(DR,{state:c.state})]}),n.jsxs("div",{className:"space-y-4",children:[c.state==="draft"&&n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Promote to Validated"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark this challenge as validated after passing all automated checks."}),n.jsxs(ne,{onClick:()=>A.mutate("validated"),disabled:A.isPending||!X.hasMetricSource||!X.fieldValid,"data-testid":"button-promote-validated",children:[n.jsx(tw,{className:"w-4 h-4 mr-2"}),"Promote to Validated"]})]}),c.state==="validated"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Deploy to Production"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Make this challenge live. Requires all manual checks to be completed."}),n.jsxs(ne,{onClick:()=>A.mutate("deployed"),disabled:A.isPending||!j.etlOutputVerified||!j.copyApproved,"data-testid":"button-deploy",children:[n.jsx(rw,{className:"w-4 h-4 mr-2"}),"Deploy"]})]}),n.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium text-muted-foreground",children:"Rollback to Draft"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return this challenge to draft state for further editing."}),n.jsxs(ne,{variant:"outline",onClick:()=>A.mutate("draft"),disabled:A.isPending,"data-testid":"button-rollback-draft",children:[n.jsx(Zi,{className:"w-4 h-4 mr-2"}),"Rollback to Draft"]})]})]}),c.state==="deployed"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border border-amber-500/30 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Hotfix Mode"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return to validated state to make urgent fixes."}),n.jsxs(ne,{variant:"outline",onClick:()=>A.mutate("validated"),disabled:A.isPending,"data-testid":"button-hotfix",children:[n.jsx(rr,{className:"w-4 h-4 mr-2"}),"Enter Hotfix Mode"]})]}),n.jsxs("div",{className:"p-4 border border-destructive/30 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium text-destructive",children:"Deprecate"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove this challenge from production. This action cannot be undone."}),n.jsxs(ne,{variant:"destructive",onClick:()=>A.mutate("deprecated"),disabled:A.isPending,"data-testid":"button-deprecate",children:[n.jsx(fc,{className:"w-4 h-4 mr-2"}),"Deprecate"]})]})]}),c.state==="deprecated"&&n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsx("p",{className:"text-muted-foreground",children:"This challenge has been deprecated and cannot be reactivated."})})]})]})]})}),n.jsx(Ot,{value:"audit",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(hq,{className:"w-5 h-5"}),"Audit Log"]}),n.jsx(Se,{children:"History of changes to this challenge"})]}),n.jsx(Y,{children:!h||h.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No audit history yet."}):n.jsx("div",{className:"space-y-3",children:h.map(I=>n.jsx("div",{className:"flex items-center gap-4 p-3 border rounded-md","data-testid":`audit-row-${I.id}`,children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{variant:"outline",className:"text-xs",children:I.action}),I.fromState&&I.toState&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.fromState,"  ",I.toState]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["by ",I.actor," at ",new Date(I.createdAt).toLocaleString()]})]})},I.id))})})]})})]})]})}const Eve={gardening:Ou,mining:fq,fishing:iq,foraging:cM},Dh=[{value:"gardening",label:"Gardening"},{value:"mining",label:"Mining"},{value:"fishing",label:"Fishing"},{value:"foraging",label:"Foraging"}];function tz(e){switch(e){case"OPEN":return n.jsx(q,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/30","data-testid":"badge-state-open",children:"Open"});case"FILLING":return n.jsx(q,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30","data-testid":"badge-state-filling",children:"Filling"});case"RACING":return n.jsx(q,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/30","data-testid":"badge-state-racing",children:"Racing"});case"FINISHED":return n.jsx(q,{variant:"outline",className:"bg-muted text-muted-foreground","data-testid":"badge-state-finished",children:"Finished"});default:return n.jsx(q,{variant:"secondary",children:e})}}function Ave(e){return new Date(e).toLocaleString()}function Zh({profession:e,className:t}){const r=Eve[e];return n.jsx(r,{className:t||"w-4 h-4"})}function IR({pool:e,isSelected:t,onSelect:r}){return n.jsxs("div",{className:`p-3 border rounded-md cursor-pointer transition-colors ${t?"border-primary bg-primary/5":"hover:bg-accent/50"}`,onClick:r,"data-testid":`pool-item-${e.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zh,{profession:e.profession,className:"w-3 h-3 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:e.heroClassName}),tz(e.state)]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Lr,{className:"w-3 h-3"}),e.currentEntries,"/",e.maxEntries]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:["Level ",e.level,e.isRecurrent&&n.jsx(q,{variant:"secondary",className:"text-[10px] px-1",children:"Recurrent"})]}),n.jsxs("span",{children:["$",e.usdEntryFee," / $",e.usdPrize," (",e.tokenType,")"]})]}),e.state!=="OPEN"&&n.jsx(Ut,{value:e.currentEntries/e.maxEntries*100,className:"h-1 mt-2"})]})}const Pve={gardening:{entryFee:"25.00",prize:"100.00",maxEntries:"2"},mining:{entryFee:"5.00",prize:"40.00",maxEntries:"6"},fishing:{entryFee:"5.00",prize:"40.00",maxEntries:"6"},foraging:{entryFee:"5.00",prize:"40.00",maxEntries:"6"}};function Tve(){const{toast:e}=Zt(),[t,r]=p.useState(null),[a,s]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState(null),[m,h]=p.useState(""),[g,v]=p.useState("fishing"),[y,w]=p.useState("all"),[j,N]=p.useState("5.00"),[C,E]=p.useState("40.00"),[A,P]=p.useState("JEWEL"),[k,T]=p.useState("6"),[_,L]=p.useState("common"),[X,I]=p.useState(""),[R,K]=p.useState(!0);p.useEffect(()=>{if(a&&!l){const oe=Pve[g];N(oe.entryFee),E(oe.prize),T(oe.maxEntries)}},[g,a,l]);const{data:ye,isLoading:W}=_e({queryKey:["/api/level-racer/classes"]}),{data:ee,isLoading:B,refetch:Z}=_e({queryKey:["/api/level-racer/admin/pools"]}),{data:$,isLoading:fe}=_e({queryKey:["/api/level-racer/pools",t],enabled:!!t}),{data:pe}=_e({queryKey:["/api/level-racer/pools",t,"events"],enabled:!!t}),M=Ee({mutationFn:async oe=>{const ct=await(await De("POST","/api/level-racer/admin/pools",oe)).text();return ct?JSON.parse(ct):{}},onSuccess:()=>{e({title:"Pool created successfully"}),Re.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]}),s(!1),h("")},onError:oe=>{e({title:"Failed to create pool",description:oe.message||"An error occurred",variant:"destructive"})}}),te=Ee({mutationFn:async oe=>{const ct=await(await De("POST",`/api/level-racer/dev/pools/${oe}/simulate-tick`)).text();return ct?JSON.parse(ct):{}},onSuccess:oe=>{e({title:"Simulation tick complete",description:oe.message}),Re.invalidateQueries({queryKey:["/api/level-racer/pools",t]}),Re.invalidateQueries({queryKey:["/api/level-racer/pools",t,"events"]}),Re.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]})},onError:oe=>{e({title:"Simulation failed",description:oe.message||"An error occurred",variant:"destructive"})}}),me=Ee({mutationFn:async oe=>{const{poolId:Je,...ct}=oe,yr=await(await De("PATCH",`/api/level-racer/admin/pools/${Je}`,ct)).text();return yr?JSON.parse(yr):{}},onSuccess:()=>{e({title:"Pool updated successfully"}),Re.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]}),Re.invalidateQueries({queryKey:["/api/level-racer/pools",d?.id]}),c(!1),f(null)},onError:oe=>{e({title:"Failed to update pool",description:oe.message||"An error occurred",variant:"destructive"})}}),Ne=oe=>{f(oe),N(oe.usdEntryFee),E(oe.usdPrize),P(oe.tokenType),T(oe.maxEntries.toString()),L(oe.rarityFilter||"common"),I(oe.maxMutations!==null?oe.maxMutations.toString():""),K(oe.isRecurrent),c(!0)},le=()=>{d&&me.mutate({poolId:d.id,usdEntryFee:j,usdPrize:C,tokenType:A,maxEntries:parseInt(k),rarityFilter:_,maxMutations:X?parseInt(X):null,isRecurrent:R})},Ie=()=>{if(!m){e({title:"Please select a hero class",variant:"destructive"});return}M.mutate({classSlug:m,profession:g,usdEntryFee:j,usdPrize:C,tokenType:A,maxEntries:parseInt(k),rarityFilter:_,maxMutations:X?parseInt(X):null,isRecurrent:R})},F=ee?.pools||[],ae=(ye?.classes||[]).filter(oe=>oe.isBasic!==!1),Oe=y==="all"?F:F.filter(oe=>oe.profession===y),$e=Oe.filter(oe=>oe.state!=="FINISHED"),xe=F.filter(oe=>oe.state==="RACING"),at=F.filter(oe=>oe.state==="OPEN"),Ye=Oe.filter(oe=>oe.state==="FINISHED"),Lt=Dh.reduce((oe,Je)=>(oe[Je.value]=F.filter(ct=>ct.profession===Je.value&&ct.state!=="FINISHED"),oe),{}),kt=F.reduce((oe,Je)=>oe+(Je.totalFeesCollected||0),0),J=F.filter(oe=>oe.prizeAwarded).reduce((oe,Je)=>oe+Je.jewelPrize,0);return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"level-racer-admin",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(kr,{className:"w-6 h-6"}),"Level Racer Admin"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage racing pools and track competitions"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{variant:"outline",onClick:()=>Z(),"data-testid":"button-refresh-pools",children:[n.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(Ys,{open:a,onOpenChange:s,children:[n.jsx(CF,{asChild:!0,children:n.jsxs(ne,{"data-testid":"button-create-pool",children:[n.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Create Pool"]})}),n.jsxs(as,{children:[n.jsxs(ss,{children:[n.jsx(is,{children:"Create New Racing Pool"}),n.jsx(ls,{children:"Create a new Level Racer pool for a hero class"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"class",children:"Hero Class"}),n.jsxs(it,{value:m,onValueChange:h,children:[n.jsx(tt,{"data-testid":"select-hero-class",children:n.jsx(lt,{placeholder:"Select a class"})}),n.jsx(nt,{children:ae.map(oe=>n.jsx(ve,{value:oe.slug,children:oe.displayName},oe.slug))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"profession",children:"Quest Profession"}),n.jsxs(it,{value:g,onValueChange:oe=>v(oe),children:[n.jsx(tt,{"data-testid":"select-profession",children:n.jsx(lt,{})}),n.jsx(nt,{children:Dh.map(oe=>n.jsx(ve,{value:oe.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Zh,{profession:oe.value,className:"w-3 h-3"}),oe.label]})},oe.value))})]})]})]}),n.jsx(Ln,{}),n.jsx("h4",{className:"text-sm font-medium",children:"Pricing (USD-based)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"usdEntryFee",children:"Entry Fee (USD)"}),n.jsx(We,{id:"usdEntryFee",type:"text",value:j,onChange:oe=>N(oe.target.value),placeholder:"5.00","data-testid":"input-usd-entry-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"usdPrize",children:"Prize (USD)"}),n.jsx(We,{id:"usdPrize",type:"text",value:C,onChange:oe=>E(oe.target.value),placeholder:"40.00","data-testid":"input-usd-prize"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"tokenType",children:"Token Type"}),n.jsxs(it,{value:A,onValueChange:oe=>P(oe),children:[n.jsx(tt,{"data-testid":"select-token-type",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"JEWEL",children:"JEWEL"}),n.jsx(ve,{value:"CRYSTAL",children:"CRYSTAL"}),n.jsx(ve,{value:"USDC",children:"USDC"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxEntries",children:"Max Entries"}),n.jsx(We,{id:"maxEntries",type:"number",value:k,onChange:oe=>T(oe.target.value),"data-testid":"input-max-entries"})]}),n.jsx(Ln,{}),n.jsx("h4",{className:"text-sm font-medium",children:"Special Race Filters"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"rarityFilter",children:"Rarity Filter"}),n.jsxs(it,{value:_,onValueChange:L,children:[n.jsx(tt,{"data-testid":"select-rarity-filter",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"common",children:"Common Only"}),n.jsx(ve,{value:"uncommon",children:"Up to Uncommon"}),n.jsx(ve,{value:"rare",children:"Up to Rare"}),n.jsx(ve,{value:"legendary",children:"Up to Legendary"}),n.jsx(ve,{value:"mythic",children:"All Rarities"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxMutations",children:"Max Mutations (empty = no limit)"}),n.jsx(We,{id:"maxMutations",type:"number",value:X,onChange:oe=>I(oe.target.value),placeholder:"No limit","data-testid":"input-max-mutations"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ke,{htmlFor:"isRecurrent",children:"Recurrent Pool"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-create new pool when this one fills"})]}),n.jsx(Qr,{id:"isRecurrent",checked:R,onCheckedChange:K,"data-testid":"switch-recurrent"})]})]}),n.jsxs(ll,{children:[n.jsx(ne,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(ne,{onClick:Ie,disabled:M.isPending,"data-testid":"button-confirm-create",children:[M.isPending&&n.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Pool"]})]})]})]}),n.jsx(Ys,{open:l,onOpenChange:c,children:n.jsxs(as,{children:[n.jsxs(ss,{children:[n.jsx(is,{children:"Edit Pool Settings"}),n.jsxs(ls,{children:["Edit settings for ",d?.heroClassName," (",d?.profession,") pool"]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-entry-fee",children:"Entry Fee (USD)"}),n.jsx(We,{id:"edit-entry-fee",type:"number",step:"0.01",value:j,onChange:oe=>N(oe.target.value),"data-testid":"input-edit-entry-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-prize",children:"Prize (USD)"}),n.jsx(We,{id:"edit-prize",type:"number",step:"0.01",value:C,onChange:oe=>E(oe.target.value),"data-testid":"input-edit-prize"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-token",children:"Payment Token"}),n.jsxs(it,{value:A,onValueChange:oe=>P(oe),children:[n.jsx(tt,{"data-testid":"select-edit-token",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"JEWEL",children:"JEWEL"}),n.jsx(ve,{value:"CRYSTAL",children:"CRYSTAL"}),n.jsx(ve,{value:"USDC",children:"USDC"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-max-entries",children:"Max Entries"}),n.jsx(We,{id:"edit-max-entries",type:"number",value:k,onChange:oe=>T(oe.target.value),"data-testid":"input-edit-max-entries"})]})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-rarity",children:"Max Rarity Allowed"}),n.jsxs(it,{value:_,onValueChange:L,children:[n.jsx(tt,{"data-testid":"select-edit-rarity",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"common",children:"Common"}),n.jsx(ve,{value:"uncommon",children:"Uncommon"}),n.jsx(ve,{value:"rare",children:"Rare"}),n.jsx(ve,{value:"legendary",children:"Legendary"}),n.jsx(ve,{value:"mythic",children:"Mythic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"edit-mutations",children:"Max Mutations (empty = no limit)"}),n.jsx(We,{id:"edit-mutations",type:"number",placeholder:"No limit",value:X,onChange:oe=>I(oe.target.value),"data-testid":"input-edit-mutations"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qr,{id:"edit-recurrent",checked:R,onCheckedChange:K,"data-testid":"switch-edit-recurrent"}),n.jsx(ke,{htmlFor:"edit-recurrent",children:"Recurrent (auto-restart when finished)"})]})]}),n.jsxs(ll,{children:[n.jsx(ne,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsxs(ne,{onClick:le,disabled:me.isPending,"data-testid":"button-confirm-edit",children:[me.isPending&&n.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Racing"}),n.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-racing-pools",children:xe.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[at.length," open for registration"]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Pools"}),n.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-pools",children:F.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ye.length," finished"]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Fees Collected"}),n.jsx(_r,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-fees-collected",children:kt}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL total"})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Prizes Awarded"}),n.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-prizes-awarded",children:J}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL total"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs(G,{className:"col-span-1",children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Racing Pools"}),n.jsx(Se,{children:"Organized by quest profession"})]}),n.jsxs(it,{value:y,onValueChange:oe=>w(oe),children:[n.jsx(tt,{className:"w-[160px]","data-testid":"select-profession-filter",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"all",children:"All Professions"}),Dh.map(oe=>n.jsx(ve,{value:oe.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Zh,{profession:oe.value,className:"w-3 h-3"}),oe.label]})},oe.value))]})]})]})}),n.jsx(Y,{children:B?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(oe=>n.jsx(Me,{className:"h-16 w-full"},oe))}):Oe.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(kr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No pools found"}),n.jsx("p",{className:"text-sm",children:"Try a different filter or create a pool"})]}):n.jsx(Wi,{className:"h-[600px]",children:n.jsx("div",{className:"space-y-4",children:y==="all"?Dh.map(oe=>{const Je=Lt[oe.value];return Je.length===0?null:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-medium text-muted-foreground",children:[n.jsx(Zh,{profession:oe.value,className:"w-4 h-4"}),n.jsx("span",{children:oe.label}),n.jsx(q,{variant:"secondary",className:"text-[10px]",children:Je.length})]}),n.jsx("div",{className:"space-y-2",children:Je.map(ct=>n.jsx(IR,{pool:ct,isSelected:t===ct.id,onSelect:()=>r(ct.id)},ct.id))})]},oe.value)}):n.jsx("div",{className:"space-y-2",children:$e.map(oe=>n.jsx(IR,{pool:oe,isSelected:t===oe.id,onSelect:()=>r(oe.id)},oe.id))})})})})]}),n.jsxs(G,{className:"col-span-1",children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Pool Details"}),n.jsx(Se,{children:t?`Pool #${t}`:"Select a pool to view details"})]}),n.jsxs("div",{className:"flex gap-2",children:[t&&$?.state==="OPEN"&&n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{const oe=F.find(Je=>Je.id===t);oe&&Ne(oe)},"data-testid":"button-edit-pool",children:[n.jsx(zq,{className:"w-4 h-4 mr-2"}),"Edit"]}),t&&$?.state==="RACING"&&n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>te.mutate(t),disabled:te.isPending,"data-testid":"button-simulate-tick",children:[te.isPending?n.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Simulate Tick"]})]})]})}),n.jsx(Y,{children:t?fe?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(oe=>n.jsx(Me,{className:"h-12 w-full"},oe))}):$?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.heroClassName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"State:"}),n.jsx("span",{className:"ml-2",children:tz($.state)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Entry Fee:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.usdEntryFee]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prize:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.usdPrize]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Token:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.tokenType})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Fees Collected:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.totalFeesCollectedUsd]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Rarity:"}),n.jsx("span",{className:"ml-2 font-medium capitalize",children:$.rarityFilter})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Max Mutations:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.maxMutations??"No limit"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Recurrent:"}),n.jsx("span",{className:"ml-2",children:$.isRecurrent?n.jsx(TP,{className:"w-4 h-4 inline text-green-500"}):n.jsx(Vi,{className:"w-4 h-4 inline text-muted-foreground"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prize Awarded:"}),n.jsx("span",{className:"ml-2",children:$.prizeAwarded?n.jsx(TP,{className:"w-4 h-4 inline text-green-500"}):n.jsx(Vi,{className:"w-4 h-4 inline text-muted-foreground"})})]})]}),n.jsx(Ln,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(Lr,{className:"w-4 h-4"}),"Entries (",$.entries.length,"/",$.maxEntries,")"]}),$.entries.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No entries yet"}):n.jsx(Wi,{className:"h-[150px]",children:n.jsx("div",{className:"space-y-2",children:$.entries.map(oe=>n.jsxs("div",{className:`p-2 border rounded-md text-sm ${oe.isWinner?"border-yellow-500 bg-yellow-500/10":""}`,"data-testid":`entry-item-${oe.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-mono text-xs",children:["Hero #",oe.heroId]}),oe.isWinner&&n.jsx(q,{className:"bg-yellow-500 text-black",children:"Winner"})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["XP: ",oe.heroCurrentXp]}),n.jsx("span",{children:oe.heroReadyToLevel?"Ready to level":"Training..."})]})]},oe.id))})})]}),n.jsx(Ln,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(co,{className:"w-4 h-4"}),"Recent Events"]}),n.jsx(Wi,{className:"h-[150px]",children:pe?.events&&pe.events.length>0?n.jsx("div",{className:"space-y-2",children:pe.events.slice(-10).reverse().map(oe=>n.jsxs("div",{className:"text-sm border-l-2 border-muted pl-2",children:[n.jsxs("p",{className:"text-muted-foreground text-xs",children:[oe.eventType," - ",Ave(oe.createdAt)]}),n.jsx("p",{className:"italic",children:oe.commentary})]},oe.id))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No events yet"})})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"Pool not found"}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Nc,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Select a pool from the list"})]})})]})]})]})}function Ove(){const{data:e,isLoading:t,refetch:r}=_e({queryKey:["/api/admin/tokens"]}),a=Ee({mutationFn:async c=>await De("/api/admin/tokens/sync",{method:"POST",body:JSON.stringify({fullSync:c})}),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/tokens"]})}}),s=c=>`${c.slice(0,6)}...${c.slice(-4)}`,l=c=>new Date(c).toLocaleString();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Token Registry"}),n.jsx("p",{className:"text-muted-foreground",children:"DFK Chain token metadata from RouteScan"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{variant:"outline",onClick:()=>r(),disabled:t,"data-testid":"button-refresh",children:[n.jsx(Xe,{className:`mr-2 h-4 w-4 ${t?"animate-spin":""}`}),"Refresh"]}),n.jsxs(ne,{onClick:()=>a.mutate(!1),disabled:a.isPending,"data-testid":"button-sync-known",children:[a.isPending?n.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Sa,{className:"mr-2 h-4 w-4"}),"Sync Known Tokens"]}),n.jsxs(ne,{variant:"secondary",onClick:()=>a.mutate(!0),disabled:a.isPending,"data-testid":"button-sync-full",children:[a.isPending?n.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(_r,{className:"mr-2 h-4 w-4"}),"Full RouteScan Sync"]})]})]}),a.isSuccess&&n.jsx(G,{className:"border-green-500/50 bg-green-500/10",children:n.jsx(Y,{className:"pt-4",children:n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400","data-testid":"text-sync-result",children:["Sync complete: ",a.data.added," added, ",a.data.updated," updated, ",a.data.errors," errors"]})})}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5"}),"Registered Tokens"]}),n.jsxs(Se,{children:[e?.count||0," tokens in registry"]})]}),n.jsx(Y,{children:t?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Xe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Symbol"}),n.jsx(H,{children:"Name"}),n.jsx(H,{children:"Address"}),n.jsx(H,{className:"text-center",children:"Decimals"}),n.jsx(H,{className:"text-center",children:"Holders"}),n.jsx(H,{children:"Chain"}),n.jsx(H,{children:"Last Updated"})]})}),n.jsxs(pt,{children:[e?.tokens.map(c=>n.jsxs(Ae,{"data-testid":`row-token-${c.id}`,children:[n.jsx(U,{children:n.jsx(q,{variant:"secondary","data-testid":`badge-symbol-${c.id}`,children:c.symbol})}),n.jsx(U,{className:"font-medium","data-testid":`text-name-${c.id}`,children:c.name}),n.jsx(U,{children:n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded","data-testid":`text-address-${c.id}`,children:s(c.address)})}),n.jsx(U,{className:"text-center","data-testid":`text-decimals-${c.id}`,children:c.decimals}),n.jsx(U,{className:"text-center","data-testid":`text-holders-${c.id}`,children:c.holders?c.holders.toLocaleString():"-"}),n.jsx(U,{children:n.jsx(q,{variant:"outline","data-testid":`badge-chain-${c.id}`,children:c.chain.toUpperCase()})}),n.jsx(U,{className:"text-muted-foreground text-sm","data-testid":`text-updated-${c.id}`,children:l(c.lastUpdatedAt)})]},c.id)),(!e?.tokens||e.tokens.length===0)&&n.jsx(Ae,{children:n.jsx(U,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:'No tokens registered. Click "Sync Known Tokens" to populate.'})})]})]})})]})]})}const kve={light:"",dark:".dark"},nz=p.createContext(null);function rz(){const e=p.useContext(nz);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const DN=p.forwardRef(({id:e,className:t,children:r,config:a,...s},l)=>{const c=p.useId(),d=`chart-${e||c.replace(/:/g,"")}`;return n.jsx(nz.Provider,{value:{config:a},children:n.jsxs("div",{"data-chart":d,ref:l,className:Le("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...s,children:[n.jsx(_ve,{id:d,config:a}),n.jsx(zu,{children:r})]})})});DN.displayName="Chart";const _ve=({id:e,config:t})=>{const r=Object.entries(t).filter(([,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(kve).map(([a,s])=>`
${s} [data-chart=${e}] {
${r.map(([l,c])=>{const d=c.theme?.[a]||c.color;return d?`  --color-${l}: ${d};`:null}).join(`
`)}
}
`).join(`
`)}}):null},$R=bg,LN=p.forwardRef(({active:e,payload:t,className:r,indicator:a="dot",hideLabel:s=!1,hideIndicator:l=!1,label:c,labelFormatter:d,labelClassName:f,formatter:m,color:h,nameKey:g,labelKey:v},y)=>{const{config:w}=rz(),j=p.useMemo(()=>{if(s||!t?.length)return null;const[C]=t,E=`${v||C?.dataKey||C?.name||"value"}`,A=IN(w,C,E),P=!v&&typeof c=="string"?w[c]?.label||c:A?.label;return d?n.jsx("div",{className:Le("font-medium",f),children:d(P,t)}):P?n.jsx("div",{className:Le("font-medium",f),children:P}):null},[c,d,t,s,f,w,v]);if(!e||!t?.length)return null;const N=t.length===1&&a!=="dot";return n.jsxs("div",{ref:y,className:Le("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[N?null:j,n.jsx("div",{className:"grid gap-1.5",children:t.map((C,E)=>{const A=`${g||C.name||C.dataKey||"value"}`,P=IN(w,C,A),k=h||C.payload.fill||C.color;return n.jsx("div",{className:Le("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:m&&C?.value!==void 0&&C.name?m(C.value,C.name,C,E,C.payload):n.jsxs(n.Fragment,{children:[P?.icon?n.jsx(P.icon,{}):!l&&n.jsx("div",{className:Le("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":N&&a==="dashed"}),style:{"--color-bg":k,"--color-border":k}}),n.jsxs("div",{className:Le("flex flex-1 justify-between leading-none",N?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[N?j:null,n.jsx("span",{className:"text-muted-foreground",children:P?.label||C.name})]}),C.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:C.value.toLocaleString()})]})]})},C.dataKey)})})]})});LN.displayName="ChartTooltip";const Rve=p.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:a="bottom",nameKey:s},l)=>{const{config:c}=rz();return r?.length?n.jsx("div",{ref:l,className:Le("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:r.map(d=>{const f=`${s||d.dataKey||"value"}`,m=IN(c,d,f);return n.jsxs("div",{className:Le("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[m?.icon&&!t?n.jsx(m.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:d.color}}),m?.label]},d.value)})}):null});Rve.displayName="ChartLegend";function IN(e,t,r){if(typeof t!="object"||t===null)return;const a="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let s=r;return r in t&&typeof t[r]=="string"?s=t[r]:a&&r in a&&typeof a[r]=="string"&&(s=a[r]),s in e?e[s]:e[r]}const Mve=[{value:"1w",label:"1W"},{value:"1m",label:"1M"},{value:"3m",label:"3M"},{value:"1y",label:"1Y"},{value:"2y",label:"2Y"},{value:"all",label:"All"}],FR={bridgedIn:{label:"Bridged In",color:"hsl(var(--chart-1))"},bridgedOut:{label:"Bridged Out",color:"hsl(var(--chart-2))"},netFlow:{label:"Net Flow",color:"hsl(var(--chart-3))"},extracted:{label:"Extracted",color:"hsl(var(--chart-4))"},value:{label:"Value",color:"hsl(var(--chart-1))"}};function Dve(){const[e,t]=p.useState("all"),{data:r,isLoading:a}=_e({queryKey:["/api/admin/bridge/overview"]}),{data:s,isLoading:l}=_e({queryKey:["/api/admin/bridge/extractors",e],queryFn:async()=>{const A=await fetch(`/api/admin/bridge/extractors?timeRange=${e}&limit=1000`);if(!A.ok)throw new Error("Failed to fetch extractors");return A.json()}}),c=r&&!("error"in r)?r:null,d=Array.isArray(s)?s:[],f=A=>{const P=typeof A=="string"?parseFloat(A):A;return P>=1e9?`$${(P/1e9).toFixed(2)}B`:P>=1e6?`$${(P/1e6).toFixed(2)}M`:P>=1e3?`$${(P/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P)},m=A=>{const P=typeof A=="string"?parseFloat(A):A;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(P)},h=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=A=>`${A.slice(0,6)}...${A.slice(-4)}`,v=c?.events?.totalUsdIn||0,y=c?.events?.totalUsdOut||0,w=v-y,j=c?.metrics?.extractorCount||0,N=c?.metrics?.totalExtracted||0,C=[{name:"Bridged In",value:v,fill:"hsl(var(--chart-1))"},{name:"Bridged Out",value:y,fill:"hsl(var(--chart-2))"}],E=d.slice(0,10).map((A,P)=>({name:g(A.wallet),extracted:parseFloat(A.netExtractedUsd),fill:`hsl(var(--chart-${P%5+1}))`}));return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"extractors-analysis",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Extractor Analysis"}),n.jsx("p",{className:"text-muted-foreground",children:"Analyze bridge flow delta and identify value extractors"})]}),a?n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(A=>n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsx(Me,{className:"h-4 w-24"})}),n.jsx(Y,{children:n.jsx(Me,{className:"h-8 w-32"})})]},A))}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(G,{"data-testid":"card-bridged-in",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Bridged In"}),n.jsx(sp,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-bridged-in",children:f(v)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.events?.in?.toLocaleString()||0," events"]})]})]}),n.jsxs(G,{"data-testid":"card-bridged-out",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Bridged Out"}),n.jsx(ip,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-bridged-out",children:f(y)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.events?.out?.toLocaleString()||0," events"]})]})]}),n.jsxs(G,{"data-testid":"card-net-flow",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Net Flow (Delta)"}),w>=0?n.jsx(On,{className:"h-4 w-4 text-green-500"}):n.jsx(Sc,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:`text-2xl font-bold ${w>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-net-flow",children:[w>=0?"+":"",f(w)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:w>=0?"Net inflow to DFK":"Net outflow from DFK"})]})]}),n.jsxs(G,{"data-testid":"card-extractors",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Extractors Identified"}),n.jsx(Hs,{className:"h-4 w-4 text-amber-500"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-extractor-count",children:j.toLocaleString()}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(N)," total extracted"]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Bridge Flow Breakdown"}),n.jsx(Se,{children:"Total USD value bridged in vs out"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"h-[300px]",children:n.jsx(DN,{config:FR,className:"h-full w-full",children:n.jsxs(Pg,{children:[n.jsx(If,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",nameKey:"name",label:({name:A,value:P})=>`${A}: ${f(P)}`,labelLine:!0,children:C.map((A,P)=>n.jsx(ii,{fill:A.fill},`cell-${P}`))}),n.jsx($R,{content:n.jsx(LN,{formatter:A=>m(A)})}),n.jsx(jf,{})]})})}),n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),n.jsxs("span",{className:"text-lg font-bold",children:[v>0?(w/v*100).toFixed(1):0,"%"]})]}),n.jsx(Ut,{value:v>0?Math.max(0,w/v*100):0,className:"mt-2 h-2"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Percentage of bridged-in value retained in DFK"})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Top 10 Extractors"}),n.jsx(Se,{children:"Wallets with highest net extraction"})]}),n.jsx(Y,{children:n.jsx("div",{className:"h-[300px]",children:E.length>0?n.jsx(DN,{config:FR,className:"h-full w-full",children:n.jsxs(Kxe,{data:E,layout:"vertical",margin:{left:80,right:20,top:10,bottom:10},children:[n.jsx(CS,{type:"number",tickFormatter:A=>f(A)}),n.jsx(ES,{type:"category",dataKey:"name",width:75,tick:{fontSize:11}}),n.jsx($R,{content:n.jsx(LN,{formatter:A=>m(A)})}),n.jsx(w6,{dataKey:"extracted",radius:4,children:E.map((A,P)=>n.jsx(ii,{fill:A.fill},`cell-${P}`))})]})}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No extractor data available"})})})]})]})]}),n.jsxs(G,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Lr,{className:"h-5 w-5"}),"All Extractors"]}),n.jsx(Se,{children:"Wallets that have extracted more value than they brought in (net extracted > $100)"})]}),n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg","data-testid":"time-range-filter",children:Mve.map(A=>n.jsx(ne,{variant:e===A.value?"default":"ghost",size:"sm",onClick:()=>t(A.value),className:"h-7 px-3 text-xs font-medium","data-testid":`button-time-${A.value}`,children:A.label},A.value))})]})}),n.jsx(Y,{children:l?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(A=>n.jsx(Me,{className:"h-12 w-full"},A))}):d.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No extractors identified yet. Run the bridge indexer and metrics refresh."}):n.jsx(Wi,{className:"h-[500px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-2 text-xs font-medium text-muted-foreground bg-muted/50 rounded-md",children:[n.jsx("div",{children:"Wallet"}),n.jsx("div",{children:"Summoner"}),n.jsx("div",{className:"text-right",children:"Bridged In"}),n.jsx("div",{className:"text-right",children:"Bridged Out"}),n.jsx("div",{className:"text-right",children:"Net Extracted"}),n.jsx("div",{className:"text-right",children:"Last Bridge Amt"}),n.jsx("div",{className:"text-center",children:"Flags"}),n.jsx("div",{className:"text-right",children:"Last Bridge"})]}),n.jsx(Ln,{}),d.map(A=>{const P=parseFloat(A.netExtractedUsd),k=A.extractorFlags?.includes("heavy_extractor"),T=A.extractorFlags?.includes("net_extractor");return n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-3 text-sm items-center hover-elevate rounded-md","data-testid":`row-extractor-${A.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gc,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${A.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline flex items-center gap-1","data-testid":`link-wallet-${A.id}`,children:[g(A.wallet),n.jsx(nr,{className:"h-3 w-3"})]})]}),n.jsx("div",{className:"text-xs text-primary font-medium truncate","data-testid":`text-summoner-${A.id}`,children:A.summonerName||"*"}),n.jsx("div",{className:"text-right text-green-600 font-medium",children:f(A.totalBridgedInUsd)}),n.jsx("div",{className:"text-right text-red-600 font-medium",children:f(A.totalBridgedOutUsd)}),n.jsx("div",{className:`text-right font-bold ${P>0?"text-amber-600":"text-foreground"}`,children:f(P)}),n.jsx("div",{className:"text-right text-muted-foreground",children:A.lastBridgeAmountUsd?f(A.lastBridgeAmountUsd):"-"}),n.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[k&&n.jsx(q,{variant:"destructive",className:"text-xs",children:"Heavy"}),T&&!k&&n.jsx(q,{variant:"secondary",className:"text-xs",children:"Net"}),!k&&!T&&n.jsx(q,{variant:"outline",className:"text-xs",children:"-"})]}),n.jsx("div",{className:"text-right text-muted-foreground text-xs",children:A.lastBridgeAt?h(A.lastBridgeAt):"-"})]},A.id)})]})})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Flow Statistics"}),n.jsx(Se,{children:"Detailed breakdown of bridge activity"})]}),n.jsx(Y,{children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ea,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Value Bridged In"})]}),n.jsx("p",{className:"text-2xl font-bold",children:m(v)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Across ",c?.events?.in?.toLocaleString()||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ea,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Value Bridged Out"})]}),n.jsx("p",{className:"text-2xl font-bold",children:m(y)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Across ",c?.events?.out?.toLocaleString()||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w>=0?n.jsx(On,{className:"h-5 w-5 text-green-500"}):n.jsx(Sc,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Net Flow (Delta)"})]}),n.jsxs("p",{className:`text-2xl font-bold ${w>=0?"text-green-600":"text-red-600"}`,children:[w>=0?"+":"",m(w)]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w>=0?"Value retained in ecosystem":"Value extracted from ecosystem"})]})]})})]})]})}function Lve(){const[,e]=Va(),{data:t,isLoading:r,refetch:a}=_e({queryKey:["/api/admin/pools"],refetchInterval:3e4}),s=d=>d==null||isNaN(d)?"$0.00":d>=1e6?`$${(d/1e6).toFixed(2)}M`:d>=1e3?`$${(d/1e3).toFixed(2)}K`:`$${d.toFixed(2)}`,l=d=>d==null||isNaN(d)?"0.00%":`${(d*100).toFixed(2)}%`,c=d=>{e(`/admin/pools/${d}`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Garden Pools"}),n.jsx("p",{className:"text-muted-foreground",children:"LP pools with APR breakdowns and gardener analytics"})]}),n.jsxs(ne,{variant:"outline",onClick:()=>a(),disabled:r,"data-testid":"button-refresh",children:[n.jsx(Xe,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Tu,{className:"h-5 w-5"}),"Active Pools"]}),n.jsxs(Se,{children:[t?.count||0," pools with staked liquidity"]})]}),n.jsx(Y,{children:r?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Xe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"PID"}),n.jsx(H,{children:"Pair"}),n.jsx(H,{className:"text-right",children:"V1 TVL"}),n.jsx(H,{className:"text-right",children:"V2 TVL"}),n.jsx(H,{className:"text-right",children:"Total TVL"}),n.jsx(H,{className:"text-right",children:"Passive APR"}),n.jsx(H,{className:"text-right",children:"Active APR"}),n.jsx(H,{className:"text-right",children:"Total APR"}),n.jsx(H,{className:"w-10"})]})}),n.jsxs(pt,{children:[t?.pools.map(d=>n.jsxs(Ae,{className:"cursor-pointer hover-elevate",onClick:()=>c(d.pid),"data-testid":`row-pool-${d.pid}`,children:[n.jsx(U,{children:n.jsx(q,{variant:"outline","data-testid":`badge-pid-${d.pid}`,children:d.pid})}),n.jsx(U,{children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium","data-testid":`text-pair-${d.pid}`,children:d.pairName})})}),n.jsx(U,{className:"text-right","data-testid":`text-v1-tvl-${d.pid}`,children:d.v1TVL>0?n.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:s(d.v1TVL)}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right","data-testid":`text-v2-tvl-${d.pid}`,children:d.v2TVL>0?n.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:s(d.v2TVL)}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-tvl-${d.pid}`,children:s(d.tvl)}),n.jsx(U,{className:"text-right","data-testid":`text-passive-apr-${d.pid}`,children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(On,{className:"h-3 w-3 text-muted-foreground"}),l(d.passiveAPR)]})}),n.jsx(U,{className:"text-right","data-testid":`text-active-apr-${d.pid}`,children:d.activeAPRMin===d.activeAPRMax?l(d.activeAPRMin):n.jsxs("span",{className:"text-muted-foreground",children:[l(d.activeAPRMin)," - ",l(d.activeAPRMax)]})}),n.jsx(U,{className:"text-right","data-testid":`text-total-apr-${d.pid}`,children:n.jsx(q,{variant:"secondary",children:d.totalAPRMin===d.totalAPRMax?l(d.totalAPRMin):`${l(d.totalAPRMin)} - ${l(d.totalAPRMax)}`})}),n.jsx(U,{children:n.jsx(lf,{className:"h-4 w-4 text-muted-foreground"})})]},d.pid)),(!t?.pools||t.pools.length===0)&&n.jsx(Ae,{children:n.jsx(U,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No pools found. Check that pool analytics cache is populated."})})]})]})})]})]})}function Ive(){const{pid:e}=tf(),[,t]=Va(),{toast:r}=Zt(),[a,s]=p.useState(4),[l,c]=p.useState("300000"),{data:d,isLoading:f,refetch:m}=_e({queryKey:["/api/admin/pools",e],enabled:!!e}),{data:h,isLoading:g,refetch:v,isFetching:y}=_e({queryKey:["/api/admin/pools",e,"all-stakers"],enabled:!!e}),{data:w,refetch:j}=_e({queryKey:["/api/admin/pool-indexer/status"],refetchInterval:2e3}),N=w?.unifiedIndexers?.find(M=>M.pid===Number(e)),C=N?.live?{isRunning:N.live.isRunning,currentBlock:N.live.currentBlock,targetBlock:N.live.targetBlock,totalEventsFound:(N.live.stakersFound||0)+(N.live.swapsFound||0)+(N.live.rewardsFound||0),totalStakersFound:N.live.stakersFound||0,batchesCompleted:0,startedAt:null,lastBatchAt:null,lastBatchEventsFound:0,percentComplete:N.live.percentComplete}:null,E=N?{pid:N.pid,lastBlock:N.lastIndexedBlock,stakersFound:N.live?.stakersFound||0,lastUpdated:N.updatedAt,isComplete:N.status==="complete"}:void 0,A=!!N?.autoRun,P=Ee({mutationFn:async()=>{const te=await(await De("POST","/api/admin/pool-indexer/unified/auto-run",{pid:Number(e),action:"start",intervalMs:parseInt(l)})).text();return te?JSON.parse(te):{success:!0}},onSuccess:()=>{r({title:"Auto-Run Started",description:`Unified indexer will run automatically every ${parseInt(l)/6e4} minutes.`}),j()},onError:M=>{r({title:"Error Starting Auto-Run",description:M.message,variant:"destructive"})}}),k=Ee({mutationFn:async()=>{const te=await(await De("POST","/api/admin/pool-indexer/unified/auto-run",{pid:Number(e),action:"stop"})).text();return te?JSON.parse(te):{success:!0}},onSuccess:M=>{r({title:"Auto-Run Stopped",description:`Completed ${M.result?.runsCompleted||0} runs before stopping.`}),j()},onError:M=>{r({title:"Error Stopping Auto-Run",description:M.message,variant:"destructive"})}}),T=M=>{M?P.mutate():k.mutate()},_=Ee({mutationFn:async()=>{const te=await(await De("POST","/api/admin/pool-indexer/unified/trigger",{pid:Number(e)})).text();return te?JSON.parse(te):{success:!0}},onSuccess:M=>{const te=M;r({title:"Unified Batch Complete",description:`Found ${te.result?.stakersUpdated||0} stakers, ${te.result?.swapsSaved||0} swaps, ${te.result?.rewardsSaved||0} rewards.`}),j(),v()},onError:M=>{r({title:"Indexer Error",description:M.message,variant:"destructive"})}}),L=Ee({mutationFn:async()=>(r({title:"Names Update",description:"Summoner name updates happen automatically during indexing."}),{success:!0}),onSuccess:()=>{v()},onError:M=>{r({title:"Update Error",description:M.message,variant:"destructive"})}}),X=Ee({mutationFn:async()=>{const te=await(await De("POST","/api/admin/pool-indexer/unified/reset",{pid:Number(e)})).text();return te?JSON.parse(te):{success:!0}},onSuccess:()=>{r({title:"Index Reset",description:"Unified indexer has been reset. Run indexer to rebuild."}),j(),v()},onError:M=>{r({title:"Reset Error",description:M.message,variant:"destructive"})}}),I=M=>M==null?"$0.00":M>=1e6?`$${(M/1e6).toFixed(2)}M`:M>=1e3?`$${(M/1e3).toFixed(2)}K`:`$${M.toFixed(2)}`,R=M=>M==null?"0.00%":`${M.toFixed(2)}%`,K=M=>`${M.slice(0,6)}...${M.slice(-4)}`,ye=()=>{m(),v()},W=d?.pool,ee=d?.aprBreakdown,B=f||g,[Z,$]=p.useState("1y"),fe=M=>{if(M==null)return 0;switch(Z){case"1m":return M/12;case"24h":return M/365;default:return M}},pe=()=>{switch(Z){case"1m":return"Monthly";case"24h":return"Daily";default:return"Annual"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>t("/admin/pools"),"data-testid":"button-back",children:n.jsx(Qi,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:W?.pairName||`Pool ${e}`}),n.jsxs("p",{className:"text-muted-foreground",children:["Pool ID: ",e," ",W?.lpToken&&` LP: ${K(W.lpToken)}`]})]})]}),n.jsxs(ne,{variant:"outline",onClick:ye,disabled:B,"data-testid":"button-refresh",children:[n.jsx(Xe,{className:`mr-2 h-4 w-4 ${B?"animate-spin":""}`}),"Refresh"]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Xe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):W?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"APR Window:"}),n.jsx("div",{className:"flex gap-1",children:["1y","1m","24h"].map(M=>n.jsx(ne,{variant:Z===M?"default":"outline",size:"sm",onClick:()=>$(M),"data-testid":`button-apr-${M}`,children:M.toUpperCase()},M))}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",pe()," rates)"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Value Locked"}),n.jsx(Tu,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tvl",children:I(W.totalTVL)})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Passive APR"}),n.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-passive-apr",children:R(fe(ee?.passive?.totalPassive))}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Fee: ",R(fe(ee?.passive?.feeAprValue))," + Harvest: ",R(fe(ee?.passive?.harvestAprValue))]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Active APR"}),n.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-apr",children:fe(ee?.active?.questAprWorst)===fe(ee?.active?.questAprBest)?R(fe(ee?.active?.questAprWorst)):`${R(fe(ee?.active?.questAprWorst))} - ${R(fe(ee?.active?.questAprBest))}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Hero-dependent quest rewards"})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total APR"}),n.jsx(On,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400","data-testid":"text-total-apr",children:fe(ee?.total?.worst)===fe(ee?.total?.best)?R(fe(ee?.total?.worst)):`${R(fe(ee?.total?.worst))} - ${R(fe(ee?.total?.best))}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined passive + active APR"})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Lr,{className:"h-5 w-5"}),"All Gardeners List"]}),n.jsxs(Se,{className:"flex items-center gap-2 flex-wrap",children:[h?.count||0," wallets staked in this pool",typeof h?.activeWalletCount=="number"&&n.jsx(cD,{delayDuration:0,children:n.jsxs(Su,{children:[n.jsx(Cu,{asChild:!0,children:n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground cursor-default",children:[n.jsx(kP,{className:"h-3 w-3"}),h.activeWalletCount," active wallets",n.jsx("span",{className:"text-[10px]",children:"(last 30d)"})]})}),n.jsx(hc,{children:n.jsx("p",{className:"max-w-xs text-sm",children:"Active wallets have recent activity in the past 30 days and a non-zero stake across V1 or V2."})})]})}),h?.source&&n.jsx(q,{variant:h.source==="indexed"?"default":"secondary",children:h.source==="indexed"?"Indexed":"Live Scan"})]})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>v(),disabled:y,"data-testid":"button-fetch-stakers",children:[n.jsx(Xe,{className:`mr-2 h-4 w-4 ${y?"animate-spin":""}`}),y?"Fetching...":"Fetch Stakers"]})]}),n.jsx(Y,{children:g||y?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Xe,{className:"h-8 w-8 animate-spin text-muted-foreground"}),n.jsx("span",{className:"ml-2 text-muted-foreground",children:"Scanning blockchain..."})]}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Wallet"}),n.jsx(H,{children:"Summoner"}),n.jsx(H,{className:"text-right",children:"V1 USD"}),n.jsx(H,{className:"text-right",children:"V2 USD"}),n.jsx(H,{className:"text-right",children:"Total"}),n.jsx(H,{className:"text-right",children:"Last Activity"})]})}),n.jsxs(pt,{children:[h?.stakers.map((M,te)=>n.jsxs(Ae,{"data-testid":`row-staker-${te}`,children:[n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${M.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm hover:underline",onClick:me=>me.stopPropagation(),"data-testid":`link-wallet-${te}`,children:[n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:K(M.wallet)}),n.jsx(nr,{className:"h-3 w-3"})]})}),n.jsx(U,{"data-testid":`text-summoner-${te}`,children:M.summonerName?n.jsx("span",{className:"font-medium text-primary",children:M.summonerName}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-v1-${te}`,children:(()=>{const me=parseFloat(M.v1Value);return!isNaN(me)&&me>0?n.jsxs("span",{className:"text-amber-600 dark:text-amber-400",children:["$",me.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})()}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-v2-${te}`,children:(()=>{const me=parseFloat(M.v2Value);return!isNaN(me)&&me>0?n.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",me.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})()}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-total-${te}`,children:(()=>{const me=parseFloat(M.totalValue);return!isNaN(me)&&me>0?`$${me.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"})()}),n.jsx(U,{className:"text-right","data-testid":`text-activity-${te}`,children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx(q,{variant:M.lastActivity.type==="Deposit"?"default":"secondary",children:M.lastActivity.type}),M.lastActivity.amount&&n.jsxs("span",{className:"text-xs font-medium",children:[parseFloat(M.lastActivity.amount)>1e-4?parseFloat(M.lastActivity.amount).toFixed(4):"<0.0001"," LP"]}),M.lastActivity.date&&n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(M.lastActivity.date).toLocaleDateString()})]})})]},M.wallet)),(!h?.stakers||h.stakers.length===0)&&n.jsx(Ae,{children:n.jsx(U,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:'No stakers found. Click "Fetch Stakers" to scan blockchain.'})})]})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Sa,{className:"h-5 w-5"}),"Unified Indexer"]}),n.jsx(Se,{children:"Scans Deposit, Withdraw, Swap, and Harvest events in a single blockchain pass"})]}),n.jsxs(Y,{className:"space-y-4",children:[C&&(C.isRunning||C.completedAt&&A)&&n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-3","data-testid":"section-live-progress",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:C.isRunning?n.jsxs(n.Fragment,{children:[n.jsx(Xe,{className:"h-4 w-4 animate-spin text-primary"}),n.jsx("span",{className:"font-medium",children:"Indexing in Progress"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Sa,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"Sync Complete"})]})}),n.jsxs(q,{variant:C.isRunning?"default":"secondary","data-testid":"badge-percent-complete",children:[C.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:C.percentComplete,className:"h-2","data-testid":"progress-indexer"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Current Block"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-current-block",children:C.currentBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Target Block"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-target-block",children:C.targetBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Events Found"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-events",children:C.totalEventsFound.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Batches Completed"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-batches",children:C.batchesCompleted.toLocaleString()})]})]}),C.completedAt&&!C.isRunning&&n.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Completed at ",new Date(C.completedAt).toLocaleTimeString()," - waiting for new blocks"]}),C.lastBatchAt&&C.isRunning&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last batch: ",new Date(C.lastBatchAt).toLocaleTimeString(),"(",C.lastBatchEventsFound," events)"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Indexed Block"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-block",children:C?.currentBlock?.toLocaleString()||E?.lastBlock?.toLocaleString()||"Not started"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Stakers Found"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-stakers",children:C?.totalStakersFound?.toLocaleString()||E?.stakersFound?.toLocaleString()||"0"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-events",children:C?.totalEventsFound?.toLocaleString()||"0"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(q,{variant:C?.isRunning||E?.isComplete?"default":"secondary","data-testid":"badge-indexer-status",children:C?.isRunning?"Indexing...":E?.isComplete?"Complete":"Idle"})]})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[n.jsx(Kq,{className:`h-4 w-4 ${A?"text-green-500":"text-muted-foreground"}`}),n.jsx("span",{className:"text-sm font-medium",children:"Auto-Run:"}),n.jsx(Qr,{checked:A,onCheckedChange:T,disabled:P.isPending||k.isPending,"data-testid":"switch-auto-run"}),n.jsxs(it,{value:l,onValueChange:c,disabled:A,children:[n.jsx(tt,{className:"w-28","data-testid":"select-auto-run-interval",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"60000",children:"1 min"}),n.jsx(ve,{value:"300000",children:"5 min"}),n.jsx(ve,{value:"600000",children:"10 min"}),n.jsx(ve,{value:"1800000",children:"30 min"}),n.jsx(ve,{value:"3600000",children:"1 hour"})]})]}),A&&N?.autoRun&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(oM,{className:"h-3 w-3"}),n.jsxs("span",{children:[N.autoRun.runsCompleted," runs"]})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Workers:"}),n.jsxs(it,{value:a.toString(),onValueChange:M=>s(Number(M)),children:[n.jsx(tt,{className:"w-20","data-testid":"select-workers",children:n.jsx(lt,{})}),n.jsx(nt,{children:[1,2,4,6,8].map(M=>n.jsx(ve,{value:M.toString(),children:M},M))})]})]}),n.jsxs(ne,{onClick:()=>_.mutate(),disabled:_.isPending,"data-testid":"button-run-indexer",children:[_.isPending?n.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(vn,{className:"mr-2 h-4 w-4"}),_.isPending?"Indexing...":"Run Indexer Batch"]}),n.jsxs(ne,{variant:"outline",onClick:()=>L.mutate(),disabled:L.isPending,"data-testid":"button-update-names",children:[L.isPending?n.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(kP,{className:"mr-2 h-4 w-4"}),L.isPending?"Updating...":"Update Summoner Names"]}),n.jsxs(ne,{variant:"outline",onClick:()=>X.mutate(),disabled:X.isPending,"data-testid":"button-reset-index",children:[X.isPending?n.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(wc,{className:"mr-2 h-4 w-4"}),"Reset Index"]})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"}),"Pool Activity"]}),n.jsx(Se,{children:"Recent staking and unstaking activity for this pool"})]}),n.jsx(Y,{children:n.jsxs("div",{className:"py-8 text-center text-muted-foreground","data-testid":"text-activity-placeholder",children:[n.jsx("p",{children:"Activity tracking coming soon."}),n.jsx("p",{className:"text-sm mt-2",children:"This section will show recent deposits, withdrawals, and quest completions."})]})})]})]}):n.jsx(G,{children:n.jsx(Y,{className:"py-8",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Pool not found or data unavailable."})})})]})}function az({status:e,isRunning:t}){return t?n.jsxs(q,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Pe,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(q,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Tr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(q,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(rr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(q,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(co,{className:"w-3 h-3"}),"Idle"]})}function Pr(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function eb(e){if(!e)return 0;const t=parseFloat(e);return isNaN(t)?0:t}function Jh(e){return e.toLocaleString()}function sz(e,t){const r=typeof e=="number"&&!isNaN(e),a=typeof t=="number"&&!isNaN(t);return!r&&!a?null:r&&a&&e!==t?`${Jh(e)}  ${Jh(t)}`:Jh(r?e:t)}function ep(e){return[...e].sort((t,r)=>t.pid-r.pid)}function $ve(e,t,r){if(t<=0||t>=100)return null;const a=r.get(e);if(!a||a.length<2)return null;const c=Date.now()-3e4,d=a.filter(w=>w.time>=c);if(d.length<2){if(a.length>=2){const w=a[0],j=a[a.length-1],N=j.time-w.time,C=j.percent-w.percent;if(N<5e3||C<=0)return null;const E=C/N;if(!isFinite(E)||E<=0)return null;const A=(100-t)/E;return zR(A)}return null}const f=d[0],m=d[d.length-1],h=m.time-f.time,g=m.percent-f.percent;if(h<3e3||g<=0)return null;const v=g/h;if(!isFinite(v)||v<=0)return null;const y=(100-t)/v;return isFinite(y)?zR(y):null}function zR(e){if(!isFinite(e)||e<0)return null;const t=Math.floor(e/1e3);if(t<60)return`~${t}s`;const r=Math.floor(t/60);if(r<60)return`~${r}m`;const a=Math.floor(r/60),s=r%60;if(a<24)return`~${a}h ${s}m`;const l=Math.floor(a/24),c=a%24;return`~${l}d ${c}h`}function Fve(e,t,r,a){const s=Date.now(),l=6e4;if(!a||r<=0||r>=100){e.delete(t);return}let c=e.get(t);c||(c=[],e.set(t,c));const d=c[c.length-1];(!d||s-d.time>=1e3)&&c.push({time:s,percent:r});const f=s-l;for(;c.length>0&&c[0].time<f;)c.shift()}function zve(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Me,{className:"h-10 w-40"}),n.jsx(Me,{className:"h-10 w-40"}),n.jsx(Me,{className:"h-10 w-40"})]}),n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4].map(e=>n.jsx(Me,{className:"h-12 w-full"},e))})})})]})}function BR({indexers:e,type:t,onTrigger:r,onAutoRun:a,isTriggering:s}){return!e||e.length===0?n.jsx(G,{children:n.jsxs(Y,{className:"p-8 text-center text-muted-foreground",children:["No ",t," indexers found. Trigger a batch to initialize."]})}):n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-16",children:"Pool"}),n.jsx(H,{children:"Status"}),n.jsx(H,{children:"Progress"}),n.jsx(H,{className:"text-right",children:"Events"}),n.jsx(H,{className:"text-right",children:"Last Block"}),n.jsx(H,{className:"text-right",children:"Updated"}),n.jsx(H,{className:"text-right",children:"Actions"})]})}),n.jsx(pt,{children:e.map(l=>{const c=l.live?.isRunning||!1,d=l.live?.percentComplete||0,f=!!l.autoRun,m=l.live?.currentBlock??l.lastIndexedBlock,h=l.live?.targetBlock??l.lastIndexedBlock,g=sz(m,h),v=l.updatedAt?new Date(l.updatedAt).toLocaleTimeString():null,y=t==="swap"?l.swapEventCount??l.live?.totalEventsFound??l.totalEventsIndexed:l.rewardEventCount??l.live?.totalEventsFound??l.totalEventsIndexed;return n.jsxs(Ae,{"data-testid":`row-indexer-${t}-${l.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",l.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(az,{status:l.status,isRunning:c}),f&&n.jsxs(q,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1 text-xs",children:[n.jsx(Wn,{className:"w-3 h-3"}),"Auto (",l.autoRun.runsCompleted," runs)"]})]})}),n.jsxs(U,{children:[c&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ut,{value:d,className:"h-2 w-24"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.toFixed(1),"%"]}),g&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Blocks ",g]})]}),!c&&l.status==="complete"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-green-500",children:"Synced"}),g&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Last at ",g]})]})]}),n.jsx(U,{className:"text-right font-mono",children:Pr(y||0)}),n.jsx(U,{className:"text-right font-mono text-xs",children:m!==void 0?Jh(m):"-"}),n.jsx(U,{className:"text-right text-xs text-muted-foreground",children:v||"-"}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>r(l.pid),disabled:c||s,"data-testid":`button-trigger-${t}-${l.pid}`,children:s?n.jsx(Pe,{className:"w-4 h-4 animate-spin"}):n.jsx(vn,{className:"w-4 h-4"})}),n.jsx(ne,{size:"sm",variant:f?"destructive":"outline",onClick:()=>a(l.pid,f?"stop":"start"),"data-testid":`button-auto-${t}-${l.pid}`,children:f?n.jsx(pr,{className:"w-4 h-4"}):n.jsx(Wn,{className:"w-4 h-4"})})]})})]},l.indexerName)})})]})})})}function Bve({aggregates:e}){const t=(e||[]).filter(r=>r!=null&&r.pid!==void 0);return t.length===0?n.jsx(G,{children:n.jsx(Y,{className:"p-8 text-center text-muted-foreground",children:"No aggregates computed yet. Trigger aggregation to compute."})}):n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-16",children:"Pool"}),n.jsx(H,{children:"Date"}),n.jsx(H,{className:"text-right",children:"TVL"}),n.jsx(H,{className:"text-right",children:"Volume 24h"}),n.jsx(H,{className:"text-right",children:"Fees 24h"}),n.jsx(H,{className:"text-right",children:"Rewards 24h"}),n.jsx(H,{className:"text-right",children:"Fee APR"}),n.jsx(H,{className:"text-right",children:"Reward APR"}),n.jsx(H,{className:"text-right",children:"Total APR"})]})}),n.jsx(pt,{children:t.map(r=>n.jsxs(Ae,{"data-testid":`row-aggregate-${r.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",r.pid]}),n.jsx(U,{children:r.date}),n.jsxs(U,{className:"text-right font-mono",children:["$",Pr(r.tvl)]}),n.jsxs(U,{className:"text-right font-mono",children:["$",Pr(r.volume24h)]}),n.jsxs(U,{className:"text-right font-mono",children:["$",Pr(r.fees24h)]}),n.jsxs(U,{className:"text-right font-mono",children:[Pr(r.rewards24h)," CRYSTAL"]}),n.jsxs(U,{className:"text-right font-mono text-blue-500",children:[eb(r.feeApr).toFixed(2),"%"]}),n.jsxs(U,{className:"text-right font-mono text-purple-500",children:[eb(r.harvestApr).toFixed(2),"%"]}),n.jsxs(U,{className:"text-right font-mono text-green-500 font-bold",children:[eb(r.totalApr).toFixed(2),"%"]})]},`${r.pid}-${r.date}`))})]})})})}function Uve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return null;const a=e.filter(d=>d.isRunning),s=e.reduce((d,f)=>d+(f.percentComplete??0),0)/e.length,l=Math.min(...e.map(d=>d.percentComplete??0)),c=Math.max(...e.map(d=>d.percentComplete??0));return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover-elevate rounded px-1 py-0.5",onClick:()=>r(!t),"data-testid":"worker-summary",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-14",children:[a.length,"/",e.length,"w"]}),n.jsx(Ut,{value:s,className:"h-1.5 flex-1 bg-blue-100"}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[s.toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:t?"":"+"})]}),t&&n.jsxs("div",{className:"pl-2 space-y-0.5 border-l-2 border-muted ml-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",l.toFixed(0),"% - ",c.toFixed(0),"%"]}),e.map(d=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["W",d.workerId]}),n.jsx(Ut,{value:d.percentComplete,className:`h-1 flex-1 ${d.isRunning?"bg-blue-100":"bg-muted"}`}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[(d.percentComplete??0).toFixed(0),"%"]})]},d.workerId))]})]})}function Hve({indexers:e,onTrigger:t,onAutoRun:r,isTriggering:a,workerStatus:s,progressHistory:l}){for(const f of e){const m=f.live?.isRunning||!1,h=f.live?.percentComplete||0,g=`unified-${f.pid}`;Fve(l,g,h,m)}if(!e||e.length===0)return n.jsx(G,{children:n.jsx(Y,{className:"p-8 text-center text-muted-foreground",children:"No unified indexers found. Trigger a batch to initialize a pool."})});const c=new Map;if(s?.pools)for(const f of s.pools)c.set(f.pid,(c.get(f.pid)||0)+1);const d=ep(e);return n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-16",children:"Pool"}),n.jsx(H,{children:"Status"}),n.jsx(H,{className:"w-48",children:"Workers"}),n.jsx(H,{className:"text-right",children:"Stakers"}),n.jsx(H,{className:"text-right",children:"Swaps"}),n.jsx(H,{className:"text-right",children:"Rewards"}),n.jsx(H,{className:"text-right",children:"Actions"})]})}),n.jsx(pt,{children:d.map(f=>{const m=f.live?.isRunning||!1,h=f.live?.percentComplete||0,g=f.liveWorkers||f.live?.workers||[],v=c.get(f.pid)||0,y=v>0||!!f.autoRun,w=f.autoRun?.intervalMs?Math.round(f.autoRun.intervalMs/6e4):null,j=`unified-${f.pid}`,N=m?$ve(j,h,l):null,C=sz(f.live?.currentBlock??f.lastIndexedBlock,f.live?.targetBlock??f.lastIndexedBlock),E=Pr(f.v2StakerCount||0),A=f.v2TotalStaked?Pr(f.v2TotalStaked):null,P=f.swapEventCount??f.live?.swapsFound??0,k=f.rewardEventCount??f.live?.rewardsFound??0,T=f.updatedAt?new Date(f.updatedAt).toLocaleTimeString():null;return n.jsxs(Ae,{"data-testid":`row-indexer-unified-${f.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",f.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(az,{status:f.status,isRunning:m}),y&&n.jsxs(q,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1 text-xs",children:[n.jsx(Wn,{className:"w-3 h-3"}),v>0?`${v} workers`:"Auto",w?`  ${w}m`:""]}),N&&n.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`eta-unified-${f.pid}`,children:["ETA: ",N]}),C&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Blocks ",C]}),T&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Updated ",T]})]})}),n.jsx(U,{children:g.length>0?n.jsx(Uve,{workers:g}):m?n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ut,{value:h,className:"h-2 w-full"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[h.toFixed(1),"%"]}),C&&n.jsx("span",{className:"text-[11px] text-muted-foreground block",children:C})]}):f.status==="complete"?n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-green-500",children:"Synced"}),C&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Last at ",C]})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:E}),A&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:[A," staked"]})]})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:Pr(P)}),m&&f.live?.swapsFound!==void 0&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["+",Pr(f.live.swapsFound)," this run"]})]})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:Pr(k)}),m&&f.live?.rewardsFound!==void 0&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["+",Pr(f.live.rewardsFound)," this run"]})]})}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>t(f.pid),disabled:m||a,"data-testid":`button-trigger-unified-${f.pid}`,children:a?n.jsx(Pe,{className:"w-4 h-4 animate-spin"}):n.jsx(vn,{className:"w-4 h-4"})}),n.jsx(ne,{size:"sm",variant:y?"destructive":"outline",onClick:()=>r(f.pid,y?"stop":"start"),"data-testid":`button-auto-unified-${f.pid}`,children:y?n.jsx(pr,{className:"w-4 h-4"}):n.jsx(Wn,{className:"w-4 h-4"})})]})})]},f.indexerName)})})]})})})}function qve(){const{toast:e}=Zt(),[t,r]=p.useState("unified"),a=p.useRef(new Map),{data:s,isLoading:l,error:c,refetch:d}=_e({queryKey:["/api/admin/pool-indexer/status"],refetchInterval:5e3}),{data:f}=_e({queryKey:["/api/admin/pool-indexer/unified/status"],refetchInterval:5e3}),m=Ee({mutationFn:async pe=>De("POST","/api/admin/pool-indexer/swap/trigger",{pid:pe}),onSuccess:()=>{e({title:"Swap indexer triggered",description:"Batch started"}),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),h=Ee({mutationFn:async pe=>De("POST","/api/admin/pool-indexer/reward/trigger",{pid:pe}),onSuccess:()=>{e({title:"Reward indexer triggered",description:"Batch started"}),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),g=Ee({mutationFn:async({pid:pe,action:M})=>De("POST","/api/admin/pool-indexer/swap/auto-run",{pid:pe,action:M}),onSuccess:(pe,M)=>{e({title:`Swap auto-run ${M.action==="start"?"started":"stopped"}`,description:`Pool #${M.pid}`}),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),v=Ee({mutationFn:async({pid:pe,action:M})=>De("POST","/api/admin/pool-indexer/reward/auto-run",{pid:pe,action:M}),onSuccess:(pe,M)=>{e({title:`Reward auto-run ${M.action==="start"?"started":"stopped"}`,description:`Pool #${M.pid}`}),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),y=Ee({mutationFn:async()=>De("POST","/api/admin/pool-indexer/aggregate/trigger",{}),onSuccess:()=>{e({title:"Aggregation triggered",description:"Computing daily aggregates for all pools"}),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),w=Ee({mutationFn:async pe=>De("POST","/api/admin/pool-indexer/unified/trigger",{pid:pe}),onSuccess:()=>{e({title:"Unified indexer triggered",description:"Scanning all event types"}),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),j=Ee({mutationFn:async({pid:pe,action:M})=>De("POST","/api/admin/pool-indexer/unified/auto-run",{pid:pe,action:M}),onSuccess:(pe,M)=>{e({title:`Unified auto-run ${M.action==="start"?"started":"stopped"}`,description:`Pool #${M.pid}`}),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}});if(l)return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Pool Indexer Status"}),n.jsx(zve,{})]});if(c)return n.jsx("div",{className:"p-6",children:n.jsx(G,{children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx(rr,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error loading status"}),n.jsx("p",{className:"text-muted-foreground",children:c.message}),n.jsx(ne,{onClick:()=>d(),className:"mt-4","data-testid":"button-retry",children:"Retry"})]})})});const N=ep(s?.swapIndexers||[]),C=ep(s?.rewardIndexers||[]),E=ep(s?.unifiedIndexers||[]),A=s?.aggregates||[],P=N.reduce((pe,M)=>pe+(M.swapEventCount??M.totalEventsIndexed??0),0),k=C.reduce((pe,M)=>pe+(M.rewardEventCount??M.totalEventsIndexed??0),0),T=s?.totalSwapEventCount??P,_=s?.totalRewardEventCount??k,L=s?.poolsIndexed??E.length,X=s?.totalPools??Math.max(E.length,N.length,C.length),I=E.reduce((pe,M)=>pe+(M.v2StakerCount||0),0),R=N.filter(pe=>pe.live?.isRunning).length,K=C.filter(pe=>pe.live?.isRunning).length,ye=E.filter(pe=>pe.live?.isRunning).length,W=N.length>0,ee=C.length>0,B=W?R:ye,Z=ee?K:ye,$=W?N.length:E.length,fe=ee?C.length:E.length;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Pool Indexer Status"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage swap/reward event indexing"})]}),n.jsxs(ne,{onClick:()=>d(),variant:"outline",disabled:l,"data-testid":"button-refresh",children:[n.jsx(Xe,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Active Workers"}),n.jsx(Wn,{className:`h-4 w-4 ${f?.activeWorkers?"text-green-500":"text-muted-foreground"}`})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-workers",children:f?.activeWorkers??0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f?.activeWorkers?n.jsxs(n.Fragment,{children:["unified auto-run",f.activeWorkers>1?"s":""]}):"no workers running"})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Pools Indexed"}),n.jsx(Sa,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pools-indexed",children:[L," / ",X||0]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Pr(I)," stakers tracked"]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Swap Events"}),n.jsx(bc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-swaps",children:Pr(T)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:B>0?`${B} ${W?"indexer(s)":"unified worker(s)"} running`:`${$} ${W?"indexers":"unified pools"}`})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Reward Events"}),n.jsx(_r,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:Pr(_)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Z>0?`${Z} ${ee?"indexer(s)":"unified worker(s)"} running`:`${fe} ${ee?"indexers":"unified pools"}`})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Daily Aggregates"}),n.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-aggregates",children:A.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"pools with data"})]}),n.jsxs(ne,{onClick:()=>y.mutate(),disabled:y.isPending,"data-testid":"button-compute-all",children:[y.isPending?n.jsx(Pe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Run All"]})]})})]})]}),n.jsxs(oi,{value:t,onValueChange:r,children:[n.jsxs(us,{className:"flex-wrap gap-1",children:[n.jsxs(Ct,{value:"unified","data-testid":"tab-unified",children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Unified (",E.length,")"]}),n.jsxs(Ct,{value:"swaps","data-testid":"tab-swaps",children:[n.jsx(bc,{className:"w-4 h-4 mr-2"}),"Swaps (",N.length,")"]}),n.jsxs(Ct,{value:"rewards","data-testid":"tab-rewards",children:[n.jsx(_r,{className:"w-4 h-4 mr-2"}),"Rewards (",C.length,")"]}),n.jsxs(Ct,{value:"aggregates","data-testid":"tab-aggregates",children:[n.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Aggregates (",A.length,")"]})]}),n.jsxs(Ot,{value:"unified",className:"mt-4",children:[n.jsx(G,{className:"mb-4",children:n.jsxs(re,{className:"pb-2",children:[n.jsx(ie,{className:"text-sm",children:"Unified Indexer"}),n.jsx(Se,{children:"Scans all event types (Deposit, Withdraw, Swap, Harvest) in a single blockchain pass per pool. This consolidates staker tracking, swap volume analytics, and reward distribution into one efficient indexer."})]})}),n.jsx(Hve,{indexers:E,onTrigger:pe=>w.mutate(pe),onAutoRun:(pe,M)=>j.mutate({pid:pe,action:M}),isTriggering:w.isPending,workerStatus:f,progressHistory:a.current})]}),n.jsx(Ot,{value:"swaps",className:"mt-4",children:n.jsx(BR,{indexers:N,type:"swap",onTrigger:pe=>m.mutate(pe),onAutoRun:(pe,M)=>g.mutate({pid:pe,action:M}),isTriggering:m.isPending})}),n.jsx(Ot,{value:"rewards",className:"mt-4",children:n.jsx(BR,{indexers:C,type:"reward",onTrigger:pe=>h.mutate(pe),onAutoRun:(pe,M)=>v.mutate({pid:pe,action:M}),isTriggering:h.isPending})}),n.jsx(Ot,{value:"aggregates",className:"mt-4",children:n.jsx(Bve,{aggregates:A})})]})]})}function Vve({status:e,isRunning:t}){return t?n.jsxs(q,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Pe,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(q,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Tr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(q,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(rr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(q,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(co,{className:"w-3 h-3"}),"Idle"]})}function UR(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Kve(e,t,r){if(t<=0||t>=100)return null;const a=r.get(e);if(!a||a.length<2)return null;const c=Date.now()-3e4,d=a.filter(w=>w.time>=c);if(d.length<2){if(a.length>=2){const w=a[0],j=a[a.length-1],N=j.time-w.time,C=j.percent-w.percent;if(N<5e3||C<=0)return null;const E=C/N;if(!isFinite(E)||E<=0)return null;const A=(100-t)/E;return HR(A)}return null}const f=d[0],m=d[d.length-1],h=m.time-f.time,g=m.percent-f.percent;if(h<3e3||g<=0)return null;const v=g/h;if(!isFinite(v)||v<=0)return null;const y=(100-t)/v;return isFinite(y)?HR(y):null}function HR(e){if(!isFinite(e)||e<0)return null;const t=Math.floor(e/1e3);if(t<60)return`~${t}s`;const r=Math.floor(t/60);if(r<60)return`~${r}m`;const a=Math.floor(r/60),s=r%60;if(a<24)return`~${a}h ${s}m`;const l=Math.floor(a/24),c=a%24;return`~${l}d ${c}h`}function Wve(e,t,r,a){const s=Date.now(),l=6e4;if(!a||r<=0||r>=100){e.delete(t);return}let c=e.get(t);c||(c=[],e.set(t,c));const d=c[c.length-1];(!d||s-d.time>=1e3)&&c.push({time:s,percent:r});const f=s-l;for(;c.length>0&&c[0].time<f;)c.shift()}function Gve(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Me,{className:"h-10 w-40"}),n.jsx(Me,{className:"h-10 w-40"})]}),n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4].map(e=>n.jsx(Me,{className:"h-12 w-full"},e))})})})]})}function Yve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return null;const a=e.filter(d=>d.isRunning),s=e.reduce((d,f)=>d+(f.percentComplete??0),0)/e.length,l=Math.min(...e.map(d=>d.percentComplete??0)),c=Math.max(...e.map(d=>d.percentComplete??0));return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover-elevate rounded px-1 py-0.5",onClick:()=>r(!t),"data-testid":"worker-summary",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-14",children:[a.length,"/",e.length,"w"]}),n.jsx(Ut,{value:s,className:"h-1.5 flex-1 bg-blue-100"}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[s.toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:t?"":"+"})]}),t&&n.jsxs("div",{className:"pl-2 space-y-0.5 border-l-2 border-muted ml-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",l.toFixed(0),"% - ",c.toFixed(0),"%"]}),e.map(d=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["W",d.workerId]}),n.jsx(Ut,{value:d.percentComplete,className:`h-1 flex-1 ${d.isRunning?"bg-blue-100":"bg-muted"}`}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[(d.percentComplete??0).toFixed(0),"%"]})]},d.workerId))]})]})}function Qve(){const{toast:e}=Zt(),[t,r]=p.useState(!1),[a,s]=p.useState(!1),l=p.useRef(new Map),{data:c,isLoading:d,refetch:f}=_e({queryKey:["/api/admin/pool-indexer-v1/status"],refetchInterval:3e3}),m=Ee({mutationFn:async C=>(await De("POST","/api/admin/pool-indexer-v1/trigger",{pid:C})).json(),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 batch triggered"})},onError:C=>{e({title:"Failed to trigger V1 batch",description:C.message,variant:"destructive"})}}),h=Ee({mutationFn:async({pid:C,action:E})=>(await De("POST","/api/admin/pool-indexer-v1/auto-run",{pid:C,action:E})).json(),onSuccess:(C,{action:E})=>{Re.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:`V1 auto-run ${E==="start"?"started":"stopped"}`})},onError:C=>{e({title:"Failed to toggle V1 auto-run",description:C.message,variant:"destructive"})}}),g=Ee({mutationFn:async()=>(r(!0),(await De("POST","/api/admin/pool-indexer-v1/start-all")).json()),onSuccess:C=>{r(!1),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 indexers started",description:`Started ${C.started} workers across ${C.totalPools} pools`})},onError:C=>{r(!1),e({title:"Failed to start V1 indexers",description:C.message,variant:"destructive"})}}),v=Ee({mutationFn:async()=>(s(!0),(await De("POST","/api/admin/pool-indexer-v1/stop-all")).json()),onSuccess:C=>{s(!1),Re.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 indexers stopped",description:`Stopped ${C.totalWorkers} workers`})},onError:C=>{s(!1),e({title:"Failed to stop V1 indexers",description:C.message,variant:"destructive"})}}),y=c?.indexers||[],w=c?.workerStatus,j=w?.activeWorkers||0,N=new Map;if(w?.pools)for(const C of w.pools)N.set(C.pid,(N.get(C.pid)||0)+1);for(const C of y){const E=C.live?.isRunning||!1,A=C.live?.percentComplete||0,P=`v1-${C.pid}`;Wve(l.current,P,A,E)}return d?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(fc,{className:"w-6 h-6 text-amber-500"}),"V1 Pool Indexer (Legacy)"]}),n.jsx("p",{className:"text-muted-foreground",children:"Index staker positions from deprecated Master Gardener V1"})]})}),n.jsx(Gve,{})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(fc,{className:"w-6 h-6 text-amber-500"}),"V1 Pool Indexer (Legacy)"]}),n.jsx("p",{className:"text-muted-foreground",children:"Index staker positions from deprecated Master Gardener V1"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(ne,{variant:"outline",onClick:()=>f(),disabled:d,"data-testid":"button-refresh",children:[n.jsx(Xe,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium",children:"Active V1 Workers"})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-workers",children:j}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[w?.workersPerPool||5," max per pool"]})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium",children:"V1 Pools Indexed"})}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pools-indexed",children:[c?.poolsIndexed??0," / ",c?.totalPools??14]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Legacy staker positions"})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium",children:"Global Actions"})}),n.jsxs(Y,{className:"flex gap-2",children:[n.jsxs(ne,{size:"sm",onClick:()=>g.mutate(),disabled:t||j>0,"data-testid":"button-start-all-v1",children:[t?n.jsx(Pe,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(vn,{className:"w-4 h-4 mr-1"}),"Start All V1"]}),n.jsxs(ne,{size:"sm",variant:"destructive",onClick:()=>v.mutate(),disabled:a||j===0,"data-testid":"button-stop-all-v1",children:[a?n.jsx(Pe,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(pr,{className:"w-4 h-4 mr-1"}),"Stop All V1"]})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(fc,{className:"w-5 h-5 text-amber-500"}),"V1 Legacy Indexers"]}),n.jsx(Se,{children:"Track staker positions from the deprecated V1 Master Gardener contract"})]}),n.jsx(Y,{className:"p-0",children:y.length===0?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No V1 indexers found. Start indexing to track legacy positions."}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-16",children:"Pool"}),n.jsx(H,{children:"Status"}),n.jsx(H,{className:"w-48",children:"Workers"}),n.jsx(H,{className:"text-right",children:"V1 Stakers"}),n.jsx(H,{className:"text-right",children:"Events"}),n.jsx(H,{className:"text-right",children:"Actions"})]})}),n.jsx(pt,{children:y.map(C=>{const E=C.live?.isRunning||!1,A=C.live?.percentComplete||0,P=C.live?.workers||[],k=N.get(C.pid)||0,T=k>0,_=`v1-${C.pid}`,L=E?Kve(_,A,l.current):null;return n.jsxs(Ae,{"data-testid":`row-indexer-v1-${C.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",C.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(Vve,{status:C.status,isRunning:E}),T&&n.jsxs(q,{variant:"outline",className:"bg-amber-500/20 text-amber-500 border-amber-500/30 gap-1 text-xs",children:[n.jsx(Wn,{className:"w-3 h-3"}),"V1 (",k,"w)"]}),L&&n.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`eta-v1-${C.pid}`,children:["ETA: ",L]})]})}),n.jsx(U,{children:P.length>0?n.jsx(Yve,{workers:P}):n.jsx("span",{className:"text-xs text-muted-foreground",children:T?`${k} workers`:"No workers"})}),n.jsx(U,{className:"text-right font-mono",children:UR(C.v1StakerCount||0)}),n.jsx(U,{className:"text-right font-mono",children:UR(C.totalEventsIndexed)}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>m.mutate(C.pid),disabled:E||m.isPending,"data-testid":`button-trigger-v1-${C.pid}`,children:m.isPending?n.jsx(Pe,{className:"w-4 h-4 animate-spin"}):n.jsx(vn,{className:"w-4 h-4"})}),n.jsx(ne,{size:"sm",variant:T?"destructive":"outline",onClick:()=>h.mutate({pid:C.pid,action:T?"stop":"start"}),"data-testid":`button-auto-v1-${C.pid}`,children:T?n.jsx(pr,{className:"w-4 h-4"}):n.jsx(Wn,{className:"w-4 h-4"})})]})})]},C.indexerName)})})]})})]})]})}function Xve({status:e,isRunning:t}){return t?n.jsxs(q,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(Pe,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(q,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Tr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(q,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(rr,{className:"w-3 h-3"}),"Error"]}):n.jsxs(q,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(co,{className:"w-3 h-3"}),"Idle"]})}function tp(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Zve(e){return e.toLocaleString()}function Jve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return n.jsx("span",{className:"text-muted-foreground text-sm",children:"No workers"});const a=e.filter(l=>l.isRunning).length,s=e.reduce((l,c)=>l+c.percentComplete,0)/e.length;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ne,{variant:"ghost",size:"sm",onClick:()=>r(!t),className:"h-auto p-1 gap-1","data-testid":"button-expand-workers",children:[t?n.jsx(Wc,{className:"w-4 h-4"}):n.jsx(lf,{className:"w-4 h-4"}),n.jsxs("span",{className:"text-sm",children:[e.length," workers (",a," active)  ",s.toFixed(1),"%"]})]}),t&&n.jsx("div",{className:"pl-4 space-y-1 text-xs",children:e.map(l=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(q,{variant:l.isRunning?"default":"secondary",className:"text-xs",children:["W",l.workerId]}),n.jsx(Ut,{value:l.percentComplete,className:"w-20 h-1"}),n.jsxs("span",{className:"text-muted-foreground",children:[l.percentComplete.toFixed(1),"%  ",tp(l.stakersFound)," stakers"]})]},l.workerId))})]})}function eye(){const{toast:e}=Zt(),[t,r]=p.useState(!0),{data:a,isLoading:s,refetch:l}=_e({queryKey:["/api/admin/pool-indexer-harmony/status"],refetchInterval:t?3e3:!1});p.useEffect(()=>{const y=t?setInterval(()=>l(),3e3):void 0;return()=>{y&&clearInterval(y)}},[t,l]);const c=Ee({mutationFn:async y=>De("/api/admin/pool-indexer-harmony/trigger",{method:"POST",body:JSON.stringify({pid:y})}),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"Indexer triggered",description:"Harmony indexer batch started"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),d=Ee({mutationFn:async({pid:y,action:w})=>De("/api/admin/pool-indexer-harmony/auto-run",{method:"POST",body:JSON.stringify({pid:y,action:w})}),onSuccess:(y,{action:w})=>{Re.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:w==="start"?"Auto-run started":"Auto-run stopped"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),f=Ee({mutationFn:async()=>De("/api/admin/pool-indexer-harmony/start-all",{method:"POST"}),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"All indexers started"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),m=Ee({mutationFn:async()=>De("/api/admin/pool-indexer-harmony/stop-all",{method:"POST"}),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"All indexers stopped"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}});if(s)return n.jsxs("div",{className:"space-y-6 p-6","data-testid":"loading-skeleton",children:[n.jsx(Me,{className:"h-8 w-64"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Me,{className:"h-32"}),n.jsx(Me,{className:"h-32"}),n.jsx(Me,{className:"h-32"})]}),n.jsx(Me,{className:"h-64"})]});const h=a?.pools||[],g=h.filter(y=>y.isAutoRunning||y.isRunning),v=h.reduce((y,w)=>y+(w.stakerCount||0),0);return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"page-title",children:"Harmony Pool Indexer"}),n.jsx("p",{className:"text-muted-foreground",children:"Legacy Serendale Master Gardener on Harmony chain"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>l(),"data-testid":"button-refresh",children:[n.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>r(!t),"data-testid":"button-toggle-refresh",children:[n.jsx(Xe,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),t?"Auto ON":"Auto OFF"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-start-all",children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Start All"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>m.mutate(),disabled:m.isPending,"data-testid":"button-stop-all",children:[n.jsx(pr,{className:"w-4 h-4 mr-2"}),"Stop All"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(G,{"data-testid":"card-latest-block",children:n.jsxs(re,{className:"pb-2",children:[n.jsx(Se,{children:"Latest Block"}),n.jsx(ie,{className:"text-xl",children:Zve(a?.latestBlock||0)})]})}),n.jsx(G,{"data-testid":"card-pool-count",children:n.jsxs(re,{className:"pb-2",children:[n.jsx(Se,{children:"Pools Discovered"}),n.jsxs(ie,{className:"text-xl",children:[h.length," / ",a?.poolLength||0]})]})}),n.jsx(G,{"data-testid":"card-running-pools",children:n.jsxs(re,{className:"pb-2",children:[n.jsx(Se,{children:"Running Pools"}),n.jsx(ie,{className:"text-xl",children:g.length})]})}),n.jsx(G,{"data-testid":"card-total-stakers",children:n.jsxs(re,{className:"pb-2",children:[n.jsx(Se,{children:"Total Stakers"}),n.jsx(ie,{className:"text-xl",children:tp(v)})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Pool Status"}),n.jsx(Se,{children:"Harmony Serendale LP pools with staking activity"})]}),n.jsx(Y,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"PID"}),n.jsx(H,{children:"LP Token"}),n.jsx(H,{children:"Stakers"}),n.jsx(H,{children:"Total Staked"}),n.jsx(H,{children:"Status"}),n.jsx(H,{children:"Workers"}),n.jsx(H,{children:"Actions"})]})}),n.jsx(pt,{children:h.length===0?n.jsx(Ae,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground",children:'No pools found. Click "Start All" to begin indexing.'})}):h.map(y=>{const w=a?.dbProgress?.find(j=>j.pid===y.pid);return n.jsxs(Ae,{"data-testid":`row-pool-${y.pid}`,children:[n.jsx(U,{className:"font-mono",children:y.pid}),n.jsx(U,{className:"font-mono text-xs max-w-[120px] truncate",title:y.lpToken,children:y.lpToken?`${y.lpToken.slice(0,10)}...${y.lpToken.slice(-6)}`:"-"}),n.jsx(U,{children:tp(y.stakerCount)}),n.jsx(U,{children:tp(y.totalStaked)}),n.jsx(U,{children:n.jsx(Xve,{status:w?.status||"idle",isRunning:y.isRunning||y.isAutoRunning})}),n.jsx(U,{children:n.jsx(Jve,{workers:y.liveWorkers})}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[y.isAutoRunning?n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>d.mutate({pid:y.pid,action:"stop"}),disabled:d.isPending,"data-testid":`button-stop-${y.pid}`,children:n.jsx(pr,{className:"w-4 h-4"})}):n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>d.mutate({pid:y.pid,action:"start"}),disabled:d.isPending,"data-testid":`button-start-${y.pid}`,children:n.jsx(vn,{className:"w-4 h-4"})}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>c.mutate(y.pid),disabled:c.isPending,"data-testid":`button-trigger-${y.pid}`,children:n.jsx(Xe,{className:"w-4 h-4"})})]})})]},y.pid)})})]})})]})]})}function Lh(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(2)}function qR(e){return isNaN(e)||!isFinite(e)?"0.00%":`${e.toFixed(2)}%`}function tye(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function nye({status:e,isRunning:t}){if(t)return n.jsxs(q,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Pe,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(q,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function rye(){const{toast:e}=Zt(),{data:t,isLoading:r,refetch:a}=_e({queryKey:["/api/admin/jeweler/status"],refetchInterval:3e3}),{data:s,isLoading:l}=_e({queryKey:["/api/admin/jeweler/leaderboard"],refetchInterval:3e4}),c=Ee({mutationFn:async()=>await De("POST","/api/admin/jeweler/trigger",{}),onSuccess:()=>{e({title:"Jeweler indexer triggered"}),Re.invalidateQueries({queryKey:["/api/admin/jeweler/status"]})},onError:g=>{e({title:"Failed to trigger indexer",description:g.message,variant:"destructive"})}}),d=Ee({mutationFn:async g=>await De("POST","/api/admin/jeweler/auto-run",{action:g}),onSuccess:(g,v)=>{e({title:`Auto-run ${v==="start"?"started":"stopped"}`}),Re.invalidateQueries({queryKey:["/api/admin/jeweler/status"]})},onError:g=>{e({title:"Failed to manage auto-run",description:g.message,variant:"destructive"})}}),f=Ee({mutationFn:async()=>await De("POST","/api/admin/jeweler/refresh-balances",{}),onSuccess:()=>{e({title:"Balance refresh started",description:"Fetching live balances and summoner names for all stakers. This may take a few minutes - refresh the page to see updates."})},onError:g=>{e({title:"Failed to start balance refresh",description:g.message,variant:"destructive"})}}),m=t?.liveProgress?.isRunning||!1,h=t?.liveProgress?.percentComplete||0;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"page-title",children:[n.jsx(of,{className:"w-6 h-6 text-purple-500"}),"Jeweler"]}),n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL staking analytics and leaderboard"})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>a(),"data-testid":"button-refresh",children:[n.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(_r,{className:"w-4 h-4"}),"JEWEL Locked"]})}),n.jsxs(Y,{children:[n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-jewel-locked",children:r?"...":Lh(t?.totalJewelLocked||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Lh(t?.totalCjewelSupply||0)," cJEWEL supply"]})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Lr,{className:"w-4 h-4"}),"Total Stakers"]})}),n.jsx(Y,{children:n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-stakers",children:r?"...":(t?.totalStakers||0).toLocaleString()})})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4"}),"cJEWEL/JEWEL Ratio"]})}),n.jsx(Y,{children:n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-ratio",children:r?"...":(t?.currentRatio||1).toFixed(6)})})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4 text-green-500"}),"APR"]})}),n.jsxs(Y,{children:[n.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"text-apr",children:r?"...":qR(t?.apr7d||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["30d: ",qR(t?.apr30d||0)]})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{className:"text-lg",children:"Indexer Status"}),n.jsx(Se,{children:"Tracks cJEWEL minting/burning events to build staker leaderboard"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(nye,{status:t?.indexerProgress?.status||"idle",isRunning:m}),t?.isAutoRunning&&n.jsxs(q,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1",children:[n.jsx(Wn,{className:"w-3 h-3"}),"Auto-run"]}),m&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ut,{value:h,className:"w-32 h-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>c.mutate(),disabled:m||c.isPending,"data-testid":"button-trigger",children:[c.isPending?n.jsx(Pe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Run Now"]}),n.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-refresh-balances",children:[f.isPending?n.jsx(Pe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Refresh Balances"]}),n.jsx(ne,{size:"sm",variant:t?.isAutoRunning?"destructive":"outline",onClick:()=>d.mutate(t?.isAutoRunning?"stop":"start"),disabled:d.isPending,"data-testid":"button-auto-run",children:t?.isAutoRunning?n.jsxs(n.Fragment,{children:[n.jsx(pr,{className:"w-4 h-4 mr-2"}),"Stop Auto"]}):n.jsxs(n.Fragment,{children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Auto Run"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Last Block"}),n.jsx("p",{className:"font-mono","data-testid":"text-last-block",children:t?.indexerProgress?.lastIndexedBlock?.toLocaleString()||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"font-mono","data-testid":"text-events-indexed",children:t?.indexerProgress?.totalEventsIndexed?.toLocaleString()||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Stakers Found"}),n.jsx("p",{className:"font-mono","data-testid":"text-stakers-found",children:t?.indexerProgress?.totalStakersFound?.toLocaleString()||0})]})]}),t?.workersProgress&&t.workersProgress.length>0&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h4",{className:"text-sm font-medium",children:["Parallel Workers (",t.workersStatus?.activeWorkers||0,"/",t.workersStatus?.maxWorkers||5,")"]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.workersProgress.map(g=>n.jsxs("div",{className:"border rounded-lg p-3 space-y-2","data-testid":`worker-card-${g.workerId}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium text-sm",children:["Worker ",g.workerId]}),g.isRunning?n.jsxs(q,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 text-xs gap-1",children:[n.jsx(Pe,{className:"w-2 h-2 animate-spin"}),"Running"]}):g.completedAt?n.jsx(q,{className:"bg-green-500/20 text-green-500 border-green-500/30 text-xs",children:"Done"}):n.jsx(q,{className:"bg-gray-500/20 text-gray-500 border-gray-500/30 text-xs",children:"Idle"})]}),n.jsx(Ut,{value:g.percentComplete,className:"h-1.5"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:[g.percentComplete.toFixed(1),"%"]}),n.jsxs("span",{children:[g.eventsFound.toLocaleString()," events"]})]}),n.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:[g.currentBlock.toLocaleString()," / ",(g.rangeEnd||g.targetBlock||0).toLocaleString()]})]},g.workerId))})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{className:"text-lg",children:"Top cJEWEL Holders"}),n.jsx(Se,{children:"Leaderboard of wallets with the most cJEWEL staked"})]}),n.jsx(Y,{children:l?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Pe,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-12",children:"#"}),n.jsx(H,{children:"Wallet"}),n.jsx(H,{children:"Summoner"}),n.jsx(H,{className:"text-right",children:"cJEWEL"}),n.jsx(H,{className:"text-right",children:"JEWEL Value"}),n.jsx(H,{className:"text-right",children:"Lock End"}),n.jsx(H,{className:"text-right",children:"Last Activity"})]})}),n.jsxs(pt,{children:[(s?.stakers||[]).slice(0,50).map((g,v)=>n.jsxs(Ae,{"data-testid":`row-staker-${g.id}`,children:[n.jsx(U,{className:"font-mono text-muted-foreground",children:v+1}),n.jsx(U,{className:"font-mono text-sm",children:n.jsx("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${g.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:tye(g.wallet)})}),n.jsx(U,{children:g.summonerName||n.jsx("span",{className:"text-muted-foreground",children:"*"})}),n.jsx(U,{className:"text-right font-mono",children:Lh(g.cjewelBalance)}),n.jsx(U,{className:"text-right font-mono text-green-500",children:Lh(g.stakedJewel)}),n.jsx(U,{className:"text-right font-mono text-sm",children:g.lockEnd?n.jsx("span",{className:new Date(g.lockEnd)>new Date?"text-yellow-500":"text-muted-foreground",children:new Date(g.lockEnd).toLocaleDateString()}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right",children:g.lastActivityType&&n.jsx(q,{variant:"outline",className:g.lastActivityType==="Deposit"?"bg-green-500/20 text-green-500 border-green-500/30":"bg-red-500/20 text-red-500 border-red-500/30",children:g.lastActivityType})})]},g.id)),(!s?.stakers||s.stakers.length===0)&&n.jsx(Ae,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No stakers found. Run the indexer to populate data."})})]})]})})]})]})}var aye=Symbol("radix.slottable");function sye(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=aye,t}var iz="AlertDialog",[iye]=gr(iz,[iF]),hi=iF(),lz=e=>{const{__scopeAlertDialog:t,...r}=e,a=hi(t);return n.jsx(NF,{...a,...r,modal:!0})};lz.displayName=iz;var lye="AlertDialogTrigger",oz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=hi(r);return n.jsx(wF,{...s,...a,ref:t})});oz.displayName=lye;var oye="AlertDialogPortal",cz=e=>{const{__scopeAlertDialog:t,...r}=e,a=hi(t);return n.jsx(SF,{...a,...r})};cz.displayName=oye;var cye="AlertDialogOverlay",dz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=hi(r);return n.jsx(RS,{...s,...a,ref:t})});dz.displayName=cye;var yc="AlertDialogContent",[dye,uye]=iye(yc),fye=sye("AlertDialogContent"),uz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,l=hi(r),c=p.useRef(null),d=rt(t,c),f=p.useRef(null);return n.jsx(Sge,{contentName:yc,titleName:fz,docsSlug:"alert-dialog",children:n.jsx(dye,{scope:r,cancelRef:f,children:n.jsxs(MS,{role:"alertdialog",...l,...s,ref:d,onOpenAutoFocus:ze(s.onOpenAutoFocus,m=>{m.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(fye,{children:a}),n.jsx(hye,{contentRef:c})]})})})});uz.displayName=yc;var fz="AlertDialogTitle",mz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=hi(r);return n.jsx(DS,{...s,...a,ref:t})});mz.displayName=fz;var hz="AlertDialogDescription",pz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=hi(r);return n.jsx(LS,{...s,...a,ref:t})});pz.displayName=hz;var mye="AlertDialogAction",xz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=hi(r);return n.jsx(IS,{...s,...a,ref:t})});xz.displayName=mye;var gz="AlertDialogCancel",vz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=uye(gz,r),l=hi(r),c=rt(t,s);return n.jsx(IS,{...l,...a,ref:c})});vz.displayName=gz;var hye=({contentRef:e})=>{const t=`\`${yc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yc}\` by passing a \`${hz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},pye=lz,xye=oz,gye=cz,yz=dz,jz=uz,bz=xz,Nz=vz,wz=mz,Sz=pz;const Zu=pye,Ju=xye,vye=gye,Cz=p.forwardRef(({className:e,...t},r)=>n.jsx(yz,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Cz.displayName=yz.displayName;const Ic=p.forwardRef(({className:e,...t},r)=>n.jsxs(vye,{children:[n.jsx(Cz,{}),n.jsx(jz,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ic.displayName=jz.displayName;const $c=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",e),...t});$c.displayName="AlertDialogHeader";const Fc=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fc.displayName="AlertDialogFooter";const zc=p.forwardRef(({className:e,...t},r)=>n.jsx(wz,{ref:r,className:Le("text-lg font-semibold",e),...t}));zc.displayName=wz.displayName;const Bc=p.forwardRef(({className:e,...t},r)=>n.jsx(Sz,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));Bc.displayName=Sz.displayName;const Uc=p.forwardRef(({className:e,...t},r)=>n.jsx(bz,{ref:r,className:Le(vw(),e),...t}));Uc.displayName=bz.displayName;const Hc=p.forwardRef(({className:e,...t},r)=>n.jsx(Nz,{ref:r,className:Le(vw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Hc.displayName=Nz.displayName;function Fs(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(4)}function tb(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString()}function yye(e){return`${e.slice(0,10)}...${e.slice(-6)}`}function jye({status:e,isRunning:t}){if(t)return n.jsxs(q,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Pe,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(q,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function bye({worker:e}){const t=e.completedAt!==null,r=e.isRunning?"text-blue-500":t?"text-green-500":e.isActive?"text-amber-500":"text-gray-500";return n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2","data-testid":`worker-card-${e.workerId}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-medium",children:["Worker ",e.workerId]}),e.isRunning&&n.jsx(Pe,{className:"w-3 h-3 animate-spin text-blue-500"}),t&&n.jsx(q,{variant:"outline",className:"text-green-500 border-green-500/30",children:"Done"})]}),n.jsx("span",{className:`text-sm ${r}`,children:e.isRunning?"Indexing...":t?"Complete":e.isActive?"Waiting":"Idle"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",tb(e.rangeStart)," - ",e.rangeEnd?tb(e.rangeEnd):"latest"]}),n.jsx(Ut,{value:e.percentComplete,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Block ",tb(e.currentBlock)]}),n.jsxs("span",{children:[e.percentComplete.toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Events: ",e.eventsFound]}),n.jsxs("span",{className:"text-muted-foreground",children:["Runs: ",e.runsCompleted]})]})]})}function Nye(){const{toast:e}=Zt(),[t,r]=p.useState(""),[a,s]=p.useState(null),{data:l,isLoading:c,refetch:d}=_e({queryKey:["/api/admin/gardening-quest/status"],refetchInterval:3e3}),{data:f,isLoading:m}=_e({queryKey:["/api/admin/gardening-quest/hero",a],enabled:a!==null}),h=Ee({mutationFn:async()=>await De("POST","/api/admin/gardening-quest/trigger",{}),onSuccess:()=>{e({title:"Gardening quest indexer triggered"}),Re.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:T=>{e({title:"Failed to trigger indexer",description:T.message,variant:"destructive"})}}),g=Ee({mutationFn:async T=>await De("POST","/api/admin/gardening-quest/auto-run",{action:T}),onSuccess:(T,_)=>{e({title:`Auto-run ${_==="start"?"started with 5 parallel workers":"stopped"}`}),Re.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:T=>{e({title:"Failed to manage auto-run",description:T.message,variant:"destructive"})}}),v=Ee({mutationFn:async({startBlock:T,clearRewards:_})=>await De("POST","/api/admin/gardening-quest/reset-to-block",{startBlock:T,clearRewards:_}),onSuccess:T=>{e({title:"Indexer reset to recent blocks",description:`Starting from block ${T.startBlock?.toLocaleString()}, ${T.blocksToIndex?.toLocaleString()} blocks to scan`}),Re.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:T=>{e({title:"Failed to reset indexer",description:T.message,variant:"destructive"})}}),y=Ee({mutationFn:async()=>await De("POST","/api/admin/gardening-quest/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"All gardening quest data cleared. Ready to re-index."}),Re.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:T=>{e({title:"Reset failed",description:T.message,variant:"destructive"})}}),w=async()=>{const _=Math.max(0,56e6);v.mutate({startBlock:_,clearRewards:!0})},j=()=>{const T=parseInt(t);!isNaN(T)&&T>0&&s(T)},N=l?.liveProgress?.isRunning||!1,C=l?.liveProgress,E=l?.indexerProgress,A=l?.stats,P=l?.workers,k=(P?.activeWorkers||0)>0;return n.jsxs("div",{className:"space-y-6","data-testid":"page-gardening-quest",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ou,{className:"w-6 h-6 text-green-500"}),"Gardening Quest Rewards"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track actual CRYSTAL/JEWEL earned per hero from gardening quests"})]}),n.jsx(ne,{variant:"outline",size:"icon",onClick:()=>d(),"data-testid":"button-refresh",children:n.jsx(Xe,{className:"w-4 h-4"})})]}),c?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Pe,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(of,{className:"w-4 h-4 text-purple-500"}),"Total CRYSTAL"]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-total-crystal",children:Fs(A?.totalCrystal||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.crystalCount||0," rewards"]})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(_r,{className:"w-4 h-4 text-amber-500"}),"Total JEWEL"]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-500","data-testid":"text-total-jewel",children:Fs(A?.totalJewel||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.jewelCount||0," rewards"]})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Lr,{className:"w-4 h-4"}),"Unique Heroes"]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-heroes",children:Fs(A?.uniqueHeroes||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[A?.uniquePlayers||0," players"]})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Total Rewards"})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:Fs(A?.totalRewards||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"indexed events"})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wn,{className:"w-5 h-5 text-amber-500"}),n.jsx("span",{children:"Parallel Workers"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[k&&n.jsxs(q,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[P?.activeWorkers," / ",P?.maxWorkers," Workers"]}),n.jsx(jye,{status:E?.status||"idle",isRunning:k||N})]})]}),n.jsx(Se,{children:"5 parallel workers with work-stealing for fast historical scanning"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{onClick:()=>h.mutate(),disabled:h.isPending||N||k,size:"sm","data-testid":"button-trigger",children:[h.isPending?n.jsx(Pe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Run Once"]}),l?.isAutoRunning?n.jsxs(ne,{onClick:()=>g.mutate("stop"),disabled:g.isPending,variant:"destructive",size:"sm","data-testid":"button-stop-auto",children:[n.jsx(pr,{className:"w-4 h-4 mr-2"}),"Stop Workers"]}):n.jsxs(ne,{onClick:()=>g.mutate("start"),disabled:g.isPending,variant:"outline",size:"sm","data-testid":"button-start-auto",children:[n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Start 5 Workers"]}),n.jsxs(ne,{onClick:w,disabled:v.isPending||l?.isAutoRunning||k,variant:"outline",size:"sm","data-testid":"button-reset-recent",children:[v.isPending?n.jsx(Pe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Reset to Last 1M Blocks"]}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsxs(ne,{size:"sm",variant:"destructive",disabled:y.isPending||l?.isAutoRunning||k||N,"data-testid":"button-reset-all",children:[n.jsx(wc,{className:"w-4 h-4 mr-2"}),"Reset All"]})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsx(zc,{children:"Reset All Gardening Quest Data?"}),n.jsx(Bc,{children:"This will delete all indexed gardening quest data including pool rewards and hero earnings. You'll need to re-index to restore the data with the latest capture fields."})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsxs(Uc,{onClick:()=>y.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset-all",children:[y.isPending?n.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]}),P&&P.workers.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:P.workers.map(T=>n.jsx(bye,{worker:T},T.workerId))}),C&&N&&!k&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:["Block ",C.currentBlock.toLocaleString()," / ",C.targetBlock.toLocaleString()]}),n.jsxs("span",{children:[C.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:C.percentComplete}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Found ",C.eventsFound," rewards"]})]}),E&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t pt-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Last Block:"}),n.jsx("span",{className:"ml-2 font-mono",children:E.lastIndexedBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Events Indexed:"}),n.jsx("span",{className:"ml-2",children:E.totalEventsIndexed.toLocaleString()})]}),E.lastError&&n.jsxs("div",{className:"col-span-2 text-red-500 text-xs",children:["Error: ",E.lastError]})]})]})]}),l?.poolBreakdown&&l.poolBreakdown.length>0&&n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Ou,{className:"w-5 h-5 text-green-500"}),"Rewards by Pool"]}),n.jsx(Se,{children:"Breakdown of rewards earned across all gardening pools"})]}),n.jsx(Y,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Pool"}),n.jsx(H,{className:"text-right",children:"CRYSTAL"}),n.jsx(H,{className:"text-right",children:"JEWEL"}),n.jsx(H,{className:"text-right",children:"Rewards"}),n.jsx(H,{className:"text-right",children:"Heroes"})]})}),n.jsx(pt,{children:l.poolBreakdown.map(T=>n.jsxs(Ae,{"data-testid":`row-pool-${T.poolId}`,children:[n.jsxs(U,{className:"font-medium",children:[T.poolName,T.poolId===255&&n.jsx(q,{variant:"outline",className:"ml-2 text-xs",children:"Unlimited"})]}),n.jsx(U,{className:"text-right text-purple-500 font-medium",children:Fs(T.crystalAmount)}),n.jsx(U,{className:"text-right text-amber-500 font-medium",children:Fs(T.jewelAmount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:T.rewardCount.toLocaleString()}),n.jsx(U,{className:"text-right text-muted-foreground",children:T.uniqueHeroes.toLocaleString()})]},T.poolId))})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Search Hero Rewards"}),n.jsx(Se,{children:"Look up actual rewards earned by a specific hero"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(We,{type:"number",placeholder:"Enter Hero ID...",value:t,onChange:T=>r(T.target.value),onKeyDown:T=>T.key==="Enter"&&j(),className:"max-w-xs","data-testid":"input-hero-search"}),n.jsx(ne,{onClick:j,disabled:m,"data-testid":"button-search-hero",children:m?n.jsx(Pe,{className:"w-4 h-4 animate-spin"}):n.jsx(Xs,{className:"w-4 h-4"})})]}),f&&a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Hero ID"}),n.jsx("div",{className:"font-bold","data-testid":"text-hero-id",children:f.stats.heroId})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Quests"}),n.jsx("div",{className:"font-bold",children:f.stats.totalQuests}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.stats.manualQuestCount||0," manual / ",f.stats.expeditionCount||0," expedition"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total CRYSTAL"}),n.jsx("div",{className:"font-bold text-purple-500",children:Fs(f.stats.totalCrystal)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total JEWEL"}),n.jsx("div",{className:"font-bold text-amber-500",children:Fs(f.stats.totalJewel)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Quest"}),n.jsx("div",{className:"font-bold text-xs",children:f.stats.lastQuest?new Date(f.stats.lastQuest).toLocaleDateString():"-"})]})]}),f.rewards.length>0?n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Time"}),n.jsx(H,{children:"Source"}),n.jsx(H,{children:"Pool"}),n.jsx(H,{children:"Token"}),n.jsx(H,{className:"text-right",children:"Amount"}),n.jsx(H,{children:"Tx"})]})}),n.jsx(pt,{children:f.rewards.slice(0,20).map(T=>n.jsxs(Ae,{"data-testid":`row-reward-${T.id}`,children:[n.jsx(U,{className:"text-xs",children:new Date(T.timestamp).toLocaleString()}),n.jsx(U,{children:n.jsx(q,{variant:"outline",className:T.source==="expedition"?"border-blue-500/30 text-blue-500":"border-gray-500/30",children:T.source==="expedition"?"Expedition":"Manual"})}),n.jsx(U,{children:n.jsxs(q,{variant:"outline",children:["Pool ",T.poolId]})}),n.jsx(U,{children:n.jsx(q,{className:T.rewardSymbol==="CRYSTAL"?"bg-purple-500/20 text-purple-500":T.rewardSymbol==="JEWEL"?"bg-amber-500/20 text-amber-500":"",children:T.rewardSymbol})}),n.jsx(U,{className:"text-right font-mono",children:Fs(T.rewardAmount)}),n.jsx(U,{className:"text-xs font-mono",children:n.jsx("a",{href:`https://subnets.avax.network/defi-kingdoms/tx/${T.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:yye(T.txHash)})})]},T.id))})]}):n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No rewards found for this hero yet"})]})]})]})]})]})}function wye(e){const t=Sye(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Eye);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Sye(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Pye(s),d=Aye(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cye=Symbol("radix.slottable");function Eye(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cye}function Aye(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Pye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Tye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bf=Tye.reduce((e,t)=>{const r=wye(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Ez=["PageUp","PageDown"],Az=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pz={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},fd="Slider",[$N,Oye,kye]=rf(fd),[Tz]=gr(fd,[kye]),[_ye,Rg]=Tz(fd),Oz=p.forwardRef((e,t)=>{const{name:r,min:a=0,max:s=100,step:l=1,orientation:c="horizontal",disabled:d=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[a],value:h,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:w,...j}=e,N=p.useRef(new Set),C=p.useRef(0),A=c==="horizontal"?Rye:Mye,[P=[],k]=ta({prop:h,defaultProp:m,onChange:R=>{[...N.current][C.current]?.focus(),g(R)}}),T=p.useRef(P);function _(R){const K=Fye(P,R);I(R,K)}function L(R){I(R,C.current)}function X(){const R=T.current[C.current];P[C.current]!==R&&v(P)}function I(R,K,{commit:ye}={commit:!1}){const W=Hye(l),ee=qye(Math.round((R-a)/l)*l+a,W),B=Du(ee,[a,s]);k((Z=[])=>{const $=Iye(Z,B,K);if(Uye($,f*l)){C.current=$.indexOf(B);const fe=String($)!==String(Z);return fe&&ye&&v($),fe?$:Z}else return Z})}return n.jsx(_ye,{scope:e.__scopeSlider,name:r,disabled:d,min:a,max:s,valueIndexToChangeRef:C,thumbs:N.current,values:P,orientation:c,form:w,children:n.jsx($N.Provider,{scope:e.__scopeSlider,children:n.jsx($N.Slot,{scope:e.__scopeSlider,children:n.jsx(A,{"aria-disabled":d,"data-disabled":d?"":void 0,...j,ref:t,onPointerDown:ze(j.onPointerDown,()=>{d||(T.current=P)}),min:a,max:s,inverted:y,onSlideStart:d?void 0:_,onSlideMove:d?void 0:L,onSlideEnd:d?void 0:X,onHomeKeyDown:()=>!d&&I(a,0,{commit:!0}),onEndKeyDown:()=>!d&&I(s,P.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:K})=>{if(!d){const ee=Ez.includes(R.key)||R.shiftKey&&Az.includes(R.key)?10:1,B=C.current,Z=P[B],$=l*ee*K;I(Z+$,B,{commit:!0})}}})})})})});Oz.displayName=fd;var[kz,_z]=Tz(fd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Rye=p.forwardRef((e,t)=>{const{min:r,max:a,dir:s,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:f,onStepKeyDown:m,...h}=e,[g,v]=p.useState(null),y=rt(t,A=>v(A)),w=p.useRef(void 0),j=Jc(s),N=j==="ltr",C=N&&!l||!N&&l;function E(A){const P=w.current||g.getBoundingClientRect(),k=[0,P.width],_=US(k,C?[r,a]:[a,r]);return w.current=P,_(A-P.left)}return n.jsx(kz,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:n.jsx(Rz,{dir:j,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const P=E(A.clientX);c?.(P)},onSlideMove:A=>{const P=E(A.clientX);d?.(P)},onSlideEnd:()=>{w.current=void 0,f?.()},onStepKeyDown:A=>{const k=Pz[C?"from-left":"from-right"].includes(A.key);m?.({event:A,direction:k?-1:1})}})})}),Mye=p.forwardRef((e,t)=>{const{min:r,max:a,inverted:s,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...m}=e,h=p.useRef(null),g=rt(t,h),v=p.useRef(void 0),y=!s;function w(j){const N=v.current||h.current.getBoundingClientRect(),C=[0,N.height],A=US(C,y?[a,r]:[r,a]);return v.current=N,A(j-N.top)}return n.jsx(kz,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:n.jsx(Rz,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:j=>{const N=w(j.clientY);l?.(N)},onSlideMove:j=>{const N=w(j.clientY);c?.(N)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:j=>{const C=Pz[y?"from-bottom":"from-top"].includes(j.key);f?.({event:j,direction:C?-1:1})}})})}),Rz=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:f,...m}=e,h=Rg(fd,r);return n.jsx(Bf.span,{...m,ref:t,onKeyDown:ze(e.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(d(g),g.preventDefault()):Ez.concat(Az).includes(g.key)&&(f(g),g.preventDefault())}),onPointerDown:ze(e.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),h.thumbs.has(v)?v.focus():a(g)}),onPointerMove:ze(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:ze(e.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),l(g))})})}),Mz="SliderTrack",Dz=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=Rg(Mz,r);return n.jsx(Bf.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:t})});Dz.displayName=Mz;var FN="SliderRange",Lz=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=Rg(FN,r),l=_z(FN,r),c=p.useRef(null),d=rt(t,c),f=s.values.length,m=s.values.map(v=>Fz(v,s.min,s.max)),h=f>1?Math.min(...m):0,g=100-Math.max(...m);return n.jsx(Bf.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:d,style:{...e.style,[l.startEdge]:h+"%",[l.endEdge]:g+"%"}})});Lz.displayName=FN;var zN="SliderThumb",Iz=p.forwardRef((e,t)=>{const r=Oye(e.__scopeSlider),[a,s]=p.useState(null),l=rt(t,d=>s(d)),c=p.useMemo(()=>a?r().findIndex(d=>d.ref.current===a):-1,[r,a]);return n.jsx(Dye,{...e,ref:l,index:c})}),Dye=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:s,...l}=e,c=Rg(zN,r),d=_z(zN,r),[f,m]=p.useState(null),h=rt(t,E=>m(E)),g=f?c.form||!!f.closest("form"):!0,v=Sx(f),y=c.values[a],w=y===void 0?0:Fz(y,c.min,c.max),j=$ye(a,c.values.length),N=v?.[d.size],C=N?zye(N,w,d.direction):0;return p.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${w}% + ${C}px)`},children:[n.jsx($N.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(Bf.span,{role:"slider","aria-label":e["aria-label"]||j,"aria-valuemin":c.min,"aria-valuenow":y,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:ze(e.onFocus,()=>{c.valueIndexToChangeRef.current=a})})}),g&&n.jsx($z,{name:s??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:y},a)]})});Iz.displayName=zN;var Lye="RadioBubbleInput",$z=p.forwardRef(({__scopeSlider:e,value:t,...r},a)=>{const s=p.useRef(null),l=rt(s,a),c=Tx(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&h){const g=new Event("input",{bubbles:!0});h.call(d,t),d.dispatchEvent(g)}},[c,t]),n.jsx(Bf.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});$z.displayName=Lye;function Iye(e=[],t,r){const a=[...e];return a[r]=t,a.sort((s,l)=>s-l)}function Fz(e,t,r){const l=100/(r-t)*(e-t);return Du(l,[0,100])}function $ye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Fye(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),a=Math.min(...r);return r.indexOf(a)}function zye(e,t,r){const a=e/2,l=US([0,50],[0,a]);return(a-l(t)*r)*r}function Bye(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Uye(e,t){if(t>0){const r=Bye(e);return Math.min(...r)>=t}return!0}function US(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Hye(e){return(String(e).split(".")[1]||"").length}function qye(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var zz=Oz,Vye=Dz,Kye=Lz,Wye=Iz;const Hi=p.forwardRef(({className:e,...t},r)=>n.jsxs(zz,{ref:r,className:Le("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(Vye,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(Kye,{className:"absolute h-full bg-primary"})}),n.jsx(Wye,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Hi.displayName=zz.displayName;const Gye=[{id:0,name:"wJEWEL-xJEWEL"},{id:1,name:"CRYSTAL-AVAX"},{id:2,name:"CRYSTAL-wJEWEL"},{id:3,name:"CRYSTAL-USDC"},{id:4,name:"ETH-USDC"},{id:5,name:"wJEWEL-USDC"},{id:6,name:"CRYSTAL-ETH"},{id:7,name:"CRYSTAL-BTC.b"},{id:8,name:"CRYSTAL-KLAY"},{id:9,name:"wJEWEL-KLAY"},{id:10,name:"wJEWEL-AVAX"},{id:11,name:"wJEWEL-BTC.b"},{id:12,name:"wJEWEL-ETH"},{id:13,name:"BTC.b-USDC"}];function VR({label:e,tokenType:t,heroId:r,setHeroId:a,petId:s,setPetId:l,heroData:c,petData:d,onFetchHero:f,onFetchPet:m,heroLoading:h,petLoading:g,stamina:v,setStamina:y}){const w=t==="jewel"?"text-purple-500":"text-blue-500",j=t==="jewel"?"bg-purple-500/10":"bg-blue-500/10",N=t==="jewel"?of:QH;return n.jsxs("div",{className:`p-4 rounded-lg border ${j}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(N,{className:`h-5 w-5 ${w}`}),n.jsx("h3",{className:`font-semibold ${w}`,children:e}),n.jsxs(q,{variant:"outline",className:w,children:["Earns ",t.toUpperCase()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ke,{className:"flex items-center gap-2",children:[n.jsx(Uh,{className:"h-4 w-4"}),"Hero ID"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(We,{value:r,onChange:C=>a(C.target.value),placeholder:"e.g. 123456","data-testid":`input-${t}-hero-id`}),n.jsx(ne,{onClick:f,disabled:h||!r,size:"icon","data-testid":`button-fetch-${t}-hero`,children:h?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):n.jsx(Xs,{className:"h-4 w-4"})})]}),c?.ok&&n.jsxs("div",{className:"text-sm p-2 bg-background/50 rounded-md space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Class:"}),n.jsxs(q,{variant:"outline",children:[c.class,"/",c.subClass]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Level:"}),n.jsx("span",{className:"font-mono",children:c.level})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"WIS/VIT:"}),n.jsxs("span",{className:"font-mono",children:[c.wisdom,"/",c.vitality]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Gardening:"}),n.jsx("span",{className:"font-mono",children:c.gardeningSkill})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Profession:"}),n.jsx(q,{variant:c.hasGardeningGene?"default":"secondary",children:c.profession})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ke,{className:"flex items-center gap-2",children:[n.jsx(kH,{className:"h-4 w-4"}),"Pet ID (optional)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(We,{value:s,onChange:C=>l(C.target.value),placeholder:"e.g. 789","data-testid":`input-${t}-pet-id`}),n.jsx(ne,{onClick:m,disabled:g||!s,size:"icon","data-testid":`button-fetch-${t}-pet`,children:g?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):n.jsx(Xs,{className:"h-4 w-4"})})]}),d?.ok&&n.jsxs("div",{className:"text-sm p-2 bg-background/50 rounded-md space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Name:"}),n.jsx("span",{children:d.name||`Pet #${d.petId}`})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Type:"}),n.jsx(q,{variant:d.isGardeningPet?"default":"secondary",children:d.isGardeningPet?"Gardening":`Egg Type ${d.eggType}`})]}),d.bonusType&&n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:[d.bonusType,":"]}),n.jsxs("span",{className:"font-mono text-green-500",children:["+",d.powerSurgeBonus||d.skilledGreenskeeperBonus,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Fed:"}),n.jsx(q,{variant:d.isFed?"default":"destructive",children:d.isFed?"Yes":"Hungry"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex justify-between",children:n.jsxs(ke,{children:["Stamina: ",v[0]]})}),n.jsx(Hi,{value:v,onValueChange:y,max:250,min:1,step:1,"data-testid":`slider-${t}-stamina`})]})]})]})}function Yye(){const{toast:e}=Zt(),[t,r]=p.useState(""),[a,s]=p.useState(""),[l,c]=p.useState(null),[d,f]=p.useState(null),[m,h]=p.useState([25]),[g,v]=p.useState(""),[y,w]=p.useState(""),[j,N]=p.useState(null),[C,E]=p.useState(null),[A,P]=p.useState([25]),[k,T]=p.useState(""),[_,L]=p.useState("2"),[X,I]=p.useState("0.1"),[R,K]=p.useState(null),{data:ye,isLoading:W}=_e({queryKey:["/api/admin/gardening-calc/reward-fund"],refetchInterval:6e4}),{data:ee,isLoading:B}=_e({queryKey:["/api/admin/gardening-validate/summary"]}),Z=Ee({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/hero/${t}`)).json(),onSuccess:le=>{le.ok?(c(le),h([le.stamina]),e({title:"JEWEL Hero loaded",description:`${le.class} Lv${le.level} - ${le.profession}`})):e({title:"Error",description:le.error||"Hero not found",variant:"destructive"})},onError:le=>{e({title:"Error",description:le.message,variant:"destructive"})}}),$=Ee({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/pet/${a}`)).json(),onSuccess:le=>{le.ok?(f(le),le.isGardeningPet&&le.bonusType?e({title:"JEWEL Pet loaded",description:`${le.bonusType} +${le.powerSurgeBonus||le.skilledGreenskeeperBonus}%`}):le.isGardeningPet||e({title:"Warning",description:`Not a gardening pet (egg type ${le.eggType})`,variant:"destructive"})):e({title:"Error",description:le.error||"Pet not found",variant:"destructive"})},onError:le=>{e({title:"Error",description:le.message,variant:"destructive"})}}),fe=Ee({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/hero/${g}`)).json(),onSuccess:le=>{le.ok?(N(le),P([le.stamina]),e({title:"CRYSTAL Hero loaded",description:`${le.class} Lv${le.level} - ${le.profession}`})):e({title:"Error",description:le.error||"Hero not found",variant:"destructive"})},onError:le=>{e({title:"Error",description:le.message,variant:"destructive"})}}),pe=Ee({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/pet/${y}`)).json(),onSuccess:le=>{le.ok?(E(le),le.isGardeningPet&&le.bonusType?e({title:"CRYSTAL Pet loaded",description:`${le.bonusType} +${le.powerSurgeBonus||le.skilledGreenskeeperBonus}%`}):le.isGardeningPet||e({title:"Warning",description:`Not a gardening pet (egg type ${le.eggType})`,variant:"destructive"})):e({title:"Error",description:le.error||"Pet not found",variant:"destructive"})},onError:le=>{e({title:"Error",description:le.message,variant:"destructive"})}}),M=Ee({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/wallet/${k}/positions`)).json(),onSuccess:le=>{le.ok?(K(le),le.positions.length>0?(L(String(le.positions[0].poolId)),I(le.positions[0].lpSharePct),e({title:"Wallet loaded",description:`Found ${le.positions.length} LP position(s)`})):e({title:"No positions",description:"No staked LP found for this wallet"})):e({title:"Error",description:le.error||"Failed to fetch wallet",variant:"destructive"})},onError:le=>{e({title:"Error",description:le.message,variant:"destructive"})}}),te=Ee({mutationFn:async()=>{const le=d?.isFed??!0,Ie=C?.isFed??!0,Te=await(await De("POST","/api/admin/gardening-calc/calculate-dual",{poolId:parseInt(_),playerAddress:k||"0x0000000000000000000000000000000000000000",lpShareOverride:k?null:parseFloat(X)/100,jewelHero:{heroId:t,wisdom:l?.wisdom??50,vitality:l?.vitality??50,gardeningSkill:l?.gardeningSkill??0,hasGardeningGene:l?.hasGardeningGene??!1,stamina:m[0],petBonusPct:le?d?.powerSurgeBonus??0:0,skilledGreenskeeperBonus:le?d?.skilledGreenskeeperBonus??0:0,petFed:le},crystalHero:{heroId:g,wisdom:j?.wisdom??50,vitality:j?.vitality??50,gardeningSkill:j?.gardeningSkill??0,hasGardeningGene:j?.hasGardeningGene??!1,stamina:A[0],petBonusPct:Ie?C?.powerSurgeBonus??0:0,skilledGreenskeeperBonus:Ie?C?.skilledGreenskeeperBonus??0:0,petFed:Ie}})).json();if(!Te.ok)throw new Error(Te.error||"Calculation failed");return Te},onError:le=>{e({title:"Calculation Error",description:le.message,variant:"destructive"})}}),me=te.data,Ne=le=>{L(le);const Ie=R?.positions.find(F=>F.poolId===parseInt(le));Ie&&I(Ie.lpSharePct)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(Ou,{className:"h-6 w-6"}),"Gardening Yield Calculator"]}),n.jsx("p",{className:"text-muted-foreground",children:"Calculate expected rewards for two heroes per quest iteration"})]})}),n.jsxs(oi,{defaultValue:"calculator",className:"space-y-4",children:[n.jsxs(us,{children:[n.jsxs(Ct,{value:"calculator","data-testid":"tab-calculator",children:[n.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Calculator"]}),n.jsxs(Ct,{value:"validation","data-testid":"tab-validation",children:[n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Validation"]})]}),n.jsx(Ot,{value:"calculator",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Quest Heroes"}),n.jsx(Se,{children:"Enter hero and pet IDs for both JEWEL and CRYSTAL earners"})]}),n.jsx(Y,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(VR,{label:"JEWEL Hero",tokenType:"jewel",heroId:t,setHeroId:r,petId:a,setPetId:s,heroData:l,petData:d,onFetchHero:()=>Z.mutate(),onFetchPet:()=>$.mutate(),heroLoading:Z.isPending,petLoading:$.isPending,stamina:m,setStamina:h}),n.jsx(VR,{label:"CRYSTAL Hero",tokenType:"crystal",heroId:g,setHeroId:v,petId:y,setPetId:w,heroData:j,petData:C,onFetchHero:()=>fe.mutate(),onFetchPet:()=>pe.mutate(),heroLoading:fe.isPending,petLoading:pe.isPending,stamina:A,setStamina:P})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Garden Pool"}),n.jsx(Se,{children:"Select pool and LP position (shared by both heroes)"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ke,{className:"flex items-center gap-2",children:[n.jsx(Gc,{className:"h-4 w-4"}),"Wallet Address (optional)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(We,{id:"walletAddress",value:k,onChange:le=>T(le.target.value),placeholder:"0x... to auto-detect LP positions","data-testid":"input-wallet-address"}),n.jsx(ne,{onClick:()=>M.mutate(),disabled:M.isPending||!k,"data-testid":"button-fetch-wallet",children:M.isPending?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):n.jsx(Xs,{className:"h-4 w-4"})})]}),R?.ok&&R.positions.length>0&&n.jsxs("div",{className:"text-sm p-2 bg-muted rounded-md",children:[n.jsx("div",{className:"font-medium mb-2",children:"Staked LP Positions:"}),R.positions.map(le=>n.jsxs("div",{className:`flex justify-between p-1 rounded cursor-pointer hover-elevate ${_===String(le.poolId)?"bg-accent":""}`,onClick:()=>Ne(String(le.poolId)),children:[n.jsx("span",{children:le.poolName}),n.jsxs("span",{className:"font-mono",children:[le.lpSharePct,"%"]})]},le.poolId))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"poolId",children:"Garden Pool"}),n.jsxs(it,{value:_,onValueChange:Ne,children:[n.jsx(tt,{"data-testid":"select-pool",children:n.jsx(lt,{placeholder:"Select pool"})}),n.jsx(nt,{children:Gye.map(le=>n.jsx(ve,{value:String(le.id),children:le.name},le.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"lpShare",children:"LP Share %"}),n.jsx(We,{id:"lpShare",type:"number",step:"0.0001",value:X,onChange:le=>I(le.target.value),placeholder:"0.1",disabled:!!k,"data-testid":"input-lp-share"})]})]}),n.jsxs(ne,{onClick:()=>te.mutate(),disabled:te.isPending,className:"w-full","data-testid":"button-calculate",children:[te.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Calculate Rewards"]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Quest Reward Fund"}),n.jsx(Se,{children:"Current balances available for rewards"})]}),n.jsx(Y,{children:W?n.jsx(Pe,{className:"h-6 w-6 animate-spin"}):n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-crystal-pool",children:ye?.crystalPool?.toLocaleString(void 0,{maximumFractionDigits:0})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-jewel-pool",children:ye?.jewelPool?.toLocaleString(void 0,{maximumFractionDigits:0})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL"})]})]})})]}),me?.ok&&me.jewelHero&&me.crystalHero&&n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"h-5 w-5 text-green-500"}),"Calculated Rewards"]}),n.jsx(Se,{children:me.poolName})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["JEWEL Hero #",me.jewelHero.heroId||"N/A"]}),n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-jewel-reward",children:me.totalRewards?.jewel?.toFixed(4)??"0.0000"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[me.jewelHero.perStamina?.toFixed(6)??"0.000000","/stam"]})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["CRYSTAL Hero #",me.crystalHero.heroId||"N/A"]}),n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-crystal-reward",children:me.totalRewards?.crystal?.toFixed(4)??"0.0000"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[me.crystalHero.perStamina?.toFixed(6)??"0.000000","/stam"]})]})]}),n.jsxs("div",{className:"border-t pt-4 space-y-3 text-sm",children:[n.jsx("h4",{className:"font-medium",children:"Hero Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-2 bg-purple-500/5 rounded",children:[n.jsx("div",{className:"text-xs text-purple-500 font-medium mb-1",children:"JEWEL Hero"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Hero Factor:"}),n.jsx("span",{className:"font-mono",children:me.jewelHero.heroFactor?.toFixed(4)??"0.0000"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pet Mult:"}),n.jsxs("span",{className:"font-mono",children:[me.jewelHero.petMultiplier?.toFixed(2)??"1.00","x"]})]})]}),n.jsxs("div",{className:"p-2 bg-blue-500/5 rounded",children:[n.jsx("div",{className:"text-xs text-blue-500 font-medium mb-1",children:"CRYSTAL Hero"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Hero Factor:"}),n.jsx("span",{className:"font-mono",children:me.crystalHero.heroFactor?.toFixed(4)??"0.0000"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pet Mult:"}),n.jsxs("span",{className:"font-mono",children:[me.crystalHero.petMultiplier?.toFixed(2)??"1.00","x"]})]})]})]}),n.jsx("h4",{className:"font-medium pt-2",children:"Shared Pool Stats"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{children:"Pool Allocation:"}),n.jsxs("div",{className:"font-mono",children:[((me.shared?.poolAllocation??0)*100).toFixed(1),"%"]}),n.jsx("div",{children:"LP Share:"}),n.jsxs("div",{className:"font-mono",children:[((me.shared?.lpShare??0)*100).toFixed(4),"%"]})]})]})]})]})]})]})}),n.jsx(Ot,{value:"validation",className:"space-y-4",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Indexed Rewards Summary"}),n.jsx(Se,{children:"Statistics from on-chain gardening quest reward data"})]}),n.jsx(Y,{children:B?n.jsx(Pe,{className:"h-6 w-6 animate-spin"}):ee?.ok?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:parseInt(ee.summary.totalRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Rewards"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-heroes",children:parseInt(ee.summary.uniqueHeroes).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Heroes"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-players",children:parseInt(ee.summary.uniquePlayers).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Players"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-avg-reward",children:parseFloat(ee.summary.avgRewardAmount).toFixed(4)}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Reward"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-blue-500",children:parseInt(ee.summary.crystalRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL Rewards"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-purple-500",children:parseInt(ee.summary.jewelRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL Rewards"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Rewards by Pool"}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Pool"}),n.jsx(H,{className:"text-right",children:"Count"}),n.jsx(H,{className:"text-right",children:"Avg Reward"})]})}),n.jsx(pt,{children:ee.poolBreakdown.filter(le=>le.poolId!==255).sort((le,Ie)=>Ie.count-le.count).map(le=>n.jsxs(Ae,{children:[n.jsx(U,{children:le.poolName}),n.jsx(U,{className:"text-right font-mono",children:le.count.toLocaleString()}),n.jsx(U,{className:"text-right font-mono",children:le.avgReward.toFixed(4)})]},le.poolId))})]})]}),parseInt(ee.summary.withSnapshots)===0&&n.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[n.jsx(Hs,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"LP Snapshots Not Available"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Historical rewards don't have LP position snapshots. New rewards indexed going forward will include heroLpStake and poolTotalLp for accurate yield validation."})]})]}):n.jsx("div",{className:"text-center text-muted-foreground",children:"No validation data available"})})]})})]})]})}const Qye={cv:"Crystalvale Tavern",sd:"Sundered Isles Barkeep"};function Ih(e){if(e==null)return 0;let t;if(typeof e=="string"){const r=e.match(/ability_(\d+)/);if(!r)return 0;t=parseInt(r[1],10)}else t=e;return isNaN(t)||t>=0&&t<=7?0:t>=8&&t<=11?1:t>=12&&t<=13?2:t===14?3:t>=16&&t<=23?0:t>=24&&t<=27?1:t>=28&&t<=29?2:t===30?3:0}function nb(e){return Ih(e.active1)+Ih(e.active2)+Ih(e.passive1)+Ih(e.passive2)}const wa=["Common","Uncommon","Rare","Legendary","Mythic"],rb=["text-gray-500","text-green-500","text-blue-500","text-orange-500","text-purple-500"],HS={0:"Warrior",1:"Knight",2:"Thief",3:"Archer",4:"Priest",5:"Wizard",6:"Monk",7:"Pirate",8:"Paladin",9:"DarkKnight",10:"Summoner",11:"Ninja",16:"Dragoon",17:"Sage",18:"DreadKnight",19:"Shapeshifter",24:"Bard"};function Bz(e){if(!e||e===0)return[];const t=[];for(let r=0;r<32;r++)e&1<<r&&t.push(HS[r]||`Class${r}`);return t}function lc(e){return`${((typeof e=="string"?parseFloat(e):e)*100).toFixed(0)}%`}function np(e,t){const r=e??1,a=t??100;return r<=1&&a>=100?null:r===a?`Lv ${r}`:`Lv ${r}-${a}`}function BN(e){const t=e??9e3;return t>=9e3?null:`TTS ${t}`}function Xye(e){const t=[],r=np(e.level_min,e.level_max);r&&t.push(r);const a=e.rarity_min??0,s=e.rarity_max??4;(a>0||s<4)&&(a===s?t.push(`${wa[a]} Only`):a>0&&s===4?t.push(`${wa[a]}+`):a===0&&s<4?t.push(`${wa[s]}`):t.push(`${wa[a]}-${wa[s]}`));const l=BN(e.max_team_stat_score);if(l&&t.push(l),e.must_include_class&&e.included_class_id!=null){const f=HS[e.included_class_id]||`Class${e.included_class_id}`;t.push(`Req: ${f}`)}const c=Bz(e.excluded_classes);c.length>0&&t.push(`No: ${c.slice(0,2).join(", ")}${c.length>2?"...":""}`),e.all_unique_classes&&t.push("Unique Classes"),e.no_triple_classes&&t.push("No Triples");const d=e.party_size??3;return t.length===0?`Open ${d}v${d}`:`${t.join(" ")} ${d}v${d}`}function Zye({status:e}){return e==="running"?n.jsxs(q,{variant:"default",className:"bg-green-500",children:[n.jsx(Pe,{className:"h-3 w-3 mr-1 animate-spin"}),"Running"]}):e==="error"?n.jsx(q,{variant:"destructive",children:"Error"}):n.jsx(q,{variant:"secondary",children:"Idle"})}function Jye(){const{toast:e}=Zt(),[t,r]=p.useState("100"),[a,s]=p.useState("cv"),[l,c]=p.useState(null),[d,f]=p.useState(new Set),[m,h]=p.useState("all"),[g,v]=p.useState("any"),[y,w]=p.useState("4"),[j,N]=p.useState("any"),[C,E]=p.useState("10"),[A,P]=p.useState("price"),[k,T]=p.useState(null),[_,L]=p.useState(null),{data:X,isLoading:I,refetch:R}=_e({queryKey:["/api/admin/tournament/status"],refetchInterval:5e3}),{data:K,isLoading:ye}=_e({queryKey:["/api/admin/tournament/recent"],refetchInterval:1e4}),{data:W,isLoading:ee,refetch:B}=_e({queryKey:["/api/admin/similarity/config"]}),{data:Z,isLoading:$}=_e({queryKey:["/api/admin/battle-ready/recommendations"]}),fe=new URLSearchParams;m!=="all"&&fe.set("realm",m),g!=="any"&&fe.set("maxTts",g),y!=="any"&&fe.set("minRarity",y),j!=="any"&&fe.set("minCombatPower",j),C!=="any"&&fe.set("minLevel",C),fe.set("sortBy",A),fe.set("limit","100");const pe=fe.toString(),M=`/api/admin/tavern-listings${pe?`?${pe}`:""}`,{data:te,isLoading:me,refetch:Ne}=_e({queryKey:["/api/admin/tavern-listings",m,g,y,j,C,A],queryFn:async()=>{const z=await fetch(M);if(!z.ok)throw new Error("Failed to fetch tavern listings");return z.json()}}),{data:le,refetch:Ie}=_e({queryKey:["/api/admin/tavern-indexer/status"],refetchInterval:5e3}),F=Ee({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/trigger",{}),onSuccess:()=>{e({title:"Indexing started",description:"Tavern indexer is now running"}),Ie()},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),Te=Ee({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"Tavern data cleared. Starting fresh index with gene data..."}),Ie(),Ne(),F.mutate()},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),{data:ae,isLoading:Oe,refetch:$e}=_e({queryKey:["/api/admin/tournament/patterns"]}),xe=p.useMemo(()=>{if(!ae?.patterns)return[];const z=new Map;for(const Ze of ae.patterns){const st=Ze.signature;if(!z.has(st))z.set(st,Ze);else{const _a=z.get(st),vs=parseInt(String(_a.occurrence_count))||0;(parseInt(String(Ze.occurrence_count))||0)>vs&&z.set(st,Ze)}}return Array.from(z.values())},[ae?.patterns]),at=k?ae?.patterns.find(z=>z.signature===k)?.labelInfo?.id:null,{data:Ye,isLoading:Lt}=_e({queryKey:["/api/admin/tournament/types",at,"heroes"],queryFn:async()=>{const z=await fetch(`/api/admin/tournament/types/${at}/heroes`);if(!z.ok)throw new Error("Failed to fetch heroes");return z.json()},enabled:!!at}),kt=Ee({mutationFn:async z=>De("POST","/api/admin/tournament/types",z),onSuccess:()=>{e({title:"Label created",description:"Tournament type label saved"}),L(null),Re.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),J=Ee({mutationFn:async z=>De("DELETE",`/api/admin/tournament/types/${z}`,{}),onSuccess:()=>{e({title:"Label deleted",description:"Tournament type label removed"}),Re.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),oe=Ee({mutationFn:async()=>De("POST","/api/admin/tournament/trigger",{maxBattles:parseInt(t)||100,realm:a}),onSuccess:()=>{const z=Qye[a]||a;e({title:"Indexer triggered",description:`Battle indexing started for ${z}`}),Re.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),Je=Ee({mutationFn:async z=>De("PUT","/api/admin/similarity/config",z),onSuccess:()=>{e({title:"Config saved",description:"Similarity weights updated"}),c(null),B()},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),ct=Ee({mutationFn:async()=>De("POST","/api/admin/tournament/stop"),onSuccess:()=>{e({title:"Indexer stopped",description:"Battle indexing stopped"}),Re.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),ln=Ee({mutationFn:async()=>De("POST","/api/admin/tournament/autorun/start",{maxBattlesPerRun:200}),onSuccess:()=>{e({title:"Auto-run started",description:"Indexer will run periodically"}),Re.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),yr=Ee({mutationFn:async()=>De("POST","/api/admin/tournament/autorun/stop"),onSuccess:()=>{e({title:"Auto-run stopped",description:"Periodic indexing stopped"}),Re.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),Nn=Ee({mutationFn:async()=>De("POST","/api/admin/tournament/reset"),onSuccess:()=>{e({title:"Reset complete",description:"All tournament data cleared. Ready to re-index."}),Re.invalidateQueries({queryKey:["/api/admin/tournament/status"]}),Re.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]}),Re.invalidateQueries({queryKey:["/api/admin/battle-ready/recommendations"]})},onError:z=>{e({title:"Reset failed",description:z.message,variant:"destructive"})}}),et=l||W?.config,hl=X?.progress,pl=X?.stats,mn=X?.live,po=z=>{if(!z)return"N/A";if(z<60)return`${z}s`;if(z<3600)return`${Math.floor(z/60)}m ${z%60}s`;const Ze=Math.floor(z/3600),st=Math.floor(z%3600/60);return`${Ze}h ${st}m`},Uf=mn?.totalBattlesToProcess?Math.round(mn.battlesProcessed/mn.totalBattlesToProcess*100):0,xl=p.useMemo(()=>{if(!te)return[];const z=te.crystalvale||[],Ze=te.serendale||[];let st;if(m==="cv"?st=z:m==="sd"?st=Ze:st=[...z,...Ze],g!=="any"){const _a=parseInt(g,10);st=st.filter(vs=>nb(vs)<=_a)}return st.sort((_a,vs)=>(_a.priceUSD??999999)-(vs.priceUSD??999999))},[te,m,g]),sa=p.useMemo(()=>{const z=xl.filter(Yn=>d.has(Yn.id)),Ze=z.filter(Yn=>Yn.nativeToken==="CRYSTAL").reduce((Yn,ia)=>Yn+ia.priceNative,0),st=z.filter(Yn=>Yn.nativeToken==="JEWEL").reduce((Yn,ia)=>Yn+ia.priceNative,0),_a=z.reduce((Yn,ia)=>Yn+(ia.priceUSD??0),0),vs=z.reduce((Yn,ia)=>Yn+nb(ia),0);return{crystalTotal:Ze,jewelTotal:st,usdTotal:_a,count:z.length,teamTts:vs}},[xl,d]),Ig=z=>{f(Ze=>{const st=new Set(Ze);return st.has(z)?st.delete(z):st.add(z),st})},gl=()=>f(new Set);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(kr,{className:"h-8 w-8 text-primary"}),"Battle-Ready Heroes"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Index PVP battle data and configure similarity scoring for hero recommendations"})]}),n.jsxs(ne,{variant:"outline",onClick:()=>R(),"data-testid":"button-refresh-status",children:[n.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Battles Indexed"}),n.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tournaments-count",children:I?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):pl?.tournaments.toLocaleString()||0})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Hero Placements"}),n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-placements-count",children:I?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):pl?.placements.toLocaleString()||0})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Hero Snapshots"}),n.jsx(aw,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-snapshots-count",children:I?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):pl?.snapshots.toLocaleString()||0})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Winners"}),n.jsx(Zr,{className:"h-4 w-4 text-yellow-500"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold text-yellow-500","data-testid":"text-winners-count",children:I?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):pl?.placementBreakdown?.winner?.toLocaleString()||0})})]})]}),mn?.isRunning&&n.jsxs(G,{className:"border-green-500/50 bg-green-500/5",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Pe,{className:"h-5 w-5 animate-spin text-green-500"}),"Indexer Running - ",mn.workers.length," Workers"]})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{children:["Progress: ",mn.battlesProcessed," / ",mn.totalBattlesToProcess," battles"]}),n.jsxs("span",{className:"font-mono",children:[Uf,"%"]})]}),n.jsx(Ut,{value:Uf,className:"h-3","data-testid":"progress-indexer"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-green-500",children:mn.throughputPerMinute}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"battles/min"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:po(mn.estimatedSecondsRemaining)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mn.placementsIndexed}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"placements"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mn.workQueueSize}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"queue size"})]})]}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:mn.workers.map(z=>n.jsxs("div",{className:`p-2 rounded border text-center text-xs ${z.status==="working"?"bg-green-500/20 border-green-500/50":z.status==="stealing"?"bg-yellow-500/20 border-yellow-500/50":z.status==="done"?"bg-muted border-muted-foreground/20":"bg-background border-border"}`,"data-testid":`worker-card-${z.id}`,children:[n.jsxs("div",{className:"font-bold",children:["W",z.id+1]}),n.jsx("div",{className:"capitalize",children:z.status}),n.jsx("div",{className:"text-muted-foreground",children:z.battlesProcessed})]},z.id))}),n.jsxs(ne,{variant:"destructive",onClick:()=>ct.mutate(),disabled:ct.isPending,className:"w-full","data-testid":"button-stop-indexer",children:[ct.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Stop Indexer"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(vn,{className:"h-5 w-5"}),"Indexer Control"]}),n.jsx(Se,{children:"Trigger battle data indexing with 5 parallel workers"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ke,{htmlFor:"maxBattles",children:"Max Battles:"}),n.jsx(We,{id:"maxBattles",type:"number",value:t,onChange:z=>r(z.target.value),className:"w-24","data-testid":"input-max-battles"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ke,{children:[n.jsx(Mq,{className:"h-4 w-4 inline mr-1"}),"Realm:"]}),n.jsxs(it,{value:a,onValueChange:s,children:[n.jsx(tt,{className:"w-48","data-testid":"select-realm",children:n.jsx(lt,{placeholder:"Select realm"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"cv",children:"Crystalvale Tavern"}),n.jsx(ve,{value:"sd",children:"Sundered Isles Barkeep"})]})]})]}),n.jsxs(ne,{onClick:()=>oe.mutate(),disabled:oe.isPending||mn?.isRunning,"data-testid":"button-trigger-indexer",children:[oe.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Index Battles"]})]}),n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Auto-Run (Production):"}),mn?.isAutoRunning?n.jsx(q,{variant:"default",className:"bg-green-500",children:"Active"}):n.jsx(q,{variant:"secondary",children:"Inactive"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>ln.mutate(),disabled:ln.isPending||mn?.isAutoRunning,"data-testid":"button-start-autorun",children:[n.jsx(vn,{className:"h-3 w-3 mr-1"}),"Start Auto-Run"]}),n.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>yr.mutate(),disabled:yr.isPending||!mn?.isAutoRunning,"data-testid":"button-stop-autorun",children:[n.jsx(pr,{className:"h-3 w-3 mr-1"}),"Stop Auto-Run"]}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsxs(ne,{size:"sm",variant:"destructive",disabled:Nn.isPending||mn?.isRunning||mn?.isAutoRunning,"data-testid":"button-reset-tournaments",children:[n.jsx(wc,{className:"h-3 w-3 mr-1"}),"Reset & Re-index"]})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsx(zc,{children:"Reset Tournament Data?"}),n.jsx(Bc,{children:"This will delete all indexed tournament data including heroes, placements, and snapshots. You'll need to re-index to restore the data with the latest capture fields (entry fees, rewards, etc)."})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsxs(Uc,{onClick:()=>Nn.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset",children:[Nn.isPending?n.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]})]}),n.jsxs("div",{className:"space-y-2 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Status:"}),n.jsx(Zye,{status:hl?.status||"idle"})]}),hl?.lastRunAt&&n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Last Run:"}),n.jsx("span",{children:new Date(hl.lastRunAt).toLocaleString()})]}),hl?.lastError&&n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:hl.lastError})]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(iM,{className:"h-5 w-5"}),"Similarity Weights"]}),n.jsx(Se,{children:"Configure how heroes are scored for similarity to battle winners"})]}),n.jsx(Y,{className:"space-y-4",children:ee?n.jsx(Pe,{className:"h-8 w-8 animate-spin mx-auto"}):et?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Stats Weight"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hi,{value:[parseFloat(et.statsWeight)*100],max:100,step:5,onValueChange:z=>c({...et,statsWeight:(z[0]/100).toString()}),"data-testid":"slider-stats-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(et.statsWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Active Abilities"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hi,{value:[parseFloat(et.activeAbilitiesWeight)*100],max:100,step:5,onValueChange:z=>c({...et,activeAbilitiesWeight:(z[0]/100).toString()}),"data-testid":"slider-active-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(et.activeAbilitiesWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Passive Abilities"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hi,{value:[parseFloat(et.passiveAbilitiesWeight)*100],max:100,step:5,onValueChange:z=>c({...et,passiveAbilitiesWeight:(z[0]/100).toString()}),"data-testid":"slider-passive-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(et.passiveAbilitiesWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Class Match"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hi,{value:[parseFloat(et.classMatchWeight)*100],max:100,step:5,onValueChange:z=>c({...et,classMatchWeight:(z[0]/100).toString()}),"data-testid":"slider-class-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(et.classMatchWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Rarity Match"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hi,{value:[parseFloat(et.rarityMatchWeight)*100],max:100,step:5,onValueChange:z=>c({...et,rarityMatchWeight:(z[0]/100).toString()}),"data-testid":"slider-rarity-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(et.rarityMatchWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Gene Quality"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hi,{value:[parseFloat(et.geneQualityWeight)*100],max:100,step:5,onValueChange:z=>c({...et,geneQualityWeight:(z[0]/100).toString()}),"data-testid":"slider-gene-weight"}),n.jsx("span",{className:"w-12 text-sm",children:lc(et.geneQualityWeight)})]})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Weight Sum:"}),n.jsx("span",{className:"font-mono",children:(parseFloat(et.statsWeight)+parseFloat(et.activeAbilitiesWeight)+parseFloat(et.passiveAbilitiesWeight)+parseFloat(et.classMatchWeight)+parseFloat(et.rarityMatchWeight)+parseFloat(et.geneQualityWeight)).toFixed(2)})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Weights are auto-normalized when calculating scores (final score always 0-1)"})]}),l&&n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsxs(ne,{onClick:()=>Je.mutate(l),disabled:Je.isPending,"data-testid":"button-save-config",children:[Je.isPending&&n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]}),n.jsx(ne,{variant:"outline",onClick:()=>c(null),children:"Cancel"})]})]}):n.jsx("div",{className:"text-muted-foreground text-center py-4",children:"No config found. Trigger the indexer to create default config."})})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Recent Battle Winners"}),n.jsx(Se,{children:"Heroes that have won recent PVP battles with their combat stats"})]}),n.jsx(Y,{children:$?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Pe,{className:"h-8 w-8 animate-spin"})}):Z?.recommendations&&Z.recommendations.length>0?n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Hero ID"}),n.jsx(H,{children:"Class"}),n.jsx(H,{children:"Level"}),n.jsx(H,{children:"Rarity"}),n.jsx(H,{children:"Combat Power"}),n.jsx(H,{children:"Stats"}),n.jsx(H,{children:"Abilities"})]})}),n.jsx(pt,{children:Z.recommendations.slice(0,20).map(z=>{const Ze=z.snapshot,st=z.tournament;return Ze?n.jsxs(Ae,{"data-testid":`row-winner-${Ze.heroId}`,children:[n.jsx(U,{className:"font-mono",children:Ze.heroId}),n.jsx(U,{children:Ze.mainClass}),n.jsx(U,{children:Ze.level}),n.jsx(U,{children:n.jsx("span",{className:rb[Ze.rarity]||"",children:wa[Ze.rarity]||Ze.rarity})}),n.jsx(U,{className:"font-bold",children:Ze.combatPowerScore||"N/A"}),n.jsxs(U,{className:"text-xs",children:["STR:",Ze.strength??"-"," AGI:",Ze.agility??"-"," DEX:",Ze.dexterity??"-",n.jsx("br",{}),"VIT:",Ze.vitality??"-"," END:",Ze.endurance??"-"," INT:",Ze.intelligence??"-"]}),n.jsx(U,{className:"text-xs text-muted-foreground",children:[Ze.active1,Ze.active2].filter(Boolean).join(", ")||"None"})]},`${Ze.heroId}-${st?.tournamentId||Ze.tournamentId}`):null})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No battle winners indexed yet. Trigger the indexer to start collecting data."})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Recent Battles"}),n.jsx(Se,{children:"Recently indexed PVP battles with their requirements"})]}),n.jsx(Y,{children:ye?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Pe,{className:"h-8 w-8 animate-spin"})}):K?.tournaments&&K.tournaments.length>0?n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Battle ID"}),n.jsx(H,{children:"Format"}),n.jsx(H,{children:"Level Range"}),n.jsx(H,{children:"Rarity Range"}),n.jsx(H,{children:"Party Size"}),n.jsx(H,{children:"Status"})]})}),n.jsx(pt,{children:K.tournaments.slice(0,20).map(z=>n.jsxs(Ae,{"data-testid":`row-battle-${z.tournamentId}`,children:[n.jsx(U,{className:"font-mono",children:z.tournamentId}),n.jsx(U,{children:z.format}),n.jsx(U,{children:np(z.levelMin,z.levelMax)||n.jsx("span",{className:"text-muted-foreground",children:"Open"})}),n.jsx(U,{children:z.rarityMin!==0||z.rarityMax!==4?`${wa[z.rarityMin]||z.rarityMin} - ${wa[z.rarityMax]||z.rarityMax}`:n.jsx("span",{className:"text-muted-foreground",children:"Any"})}),n.jsxs(U,{children:[z.partySize,"v",z.partySize]}),n.jsx(U,{children:n.jsx(q,{variant:"secondary",children:z.status})})]},z.tournamentId))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No battles indexed yet."})})]}),n.jsxs(G,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(lM,{className:"h-5 w-5"}),"Tournament Types"]}),n.jsxs(Se,{children:["Discovered tournament patterns with restrictions. ",ae?.totalLabels||0," labeled."]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>$e(),"data-testid":"button-refresh-patterns",children:[n.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]})}),n.jsx(Y,{children:Oe?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Pe,{className:"h-8 w-8 animate-spin"})}):xe.length>0?n.jsxs("div",{className:"space-y-2",children:[_&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg mb-4 space-y-3","data-testid":"label-form",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:["Create Label for: ",n.jsx("code",{className:"text-xs",children:_.signature})]}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>L(null),children:"Cancel"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(ke,{htmlFor:"label-name",children:"Label Name"}),n.jsx(We,{id:"label-name",value:_.label,onChange:z=>L({..._,label:z.target.value}),placeholder:"e.g., Beginner 3v3","data-testid":"input-label-name"})]}),n.jsxs("div",{children:[n.jsx(ke,{htmlFor:"label-category",children:"Category"}),n.jsxs(it,{value:_.category,onValueChange:z=>L({..._,category:z}),children:[n.jsx(tt,{"data-testid":"select-label-category",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"open",children:"Open"}),n.jsx(ve,{value:"beginner",children:"Beginner"}),n.jsx(ve,{value:"veteran",children:"Veteran"}),n.jsx(ve,{value:"specialty",children:"Specialty"}),n.jsx(ve,{value:"general",children:"General"})]})]})]}),n.jsxs("div",{children:[n.jsx(ke,{htmlFor:"label-color",children:"Color"}),n.jsx(We,{id:"label-color",type:"color",value:_.color,onChange:z=>L({..._,color:z.target.value}),className:"h-9 w-full","data-testid":"input-label-color"})]})]}),n.jsxs(ne,{onClick:()=>kt.mutate(_),disabled:!_.label||kt.isPending,"data-testid":"button-save-label",children:[kt.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(Xi,{className:"h-4 w-4 mr-1"}),"Save Label"]})]}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-8"}),n.jsx(H,{children:"Type"}),n.jsx(H,{children:"Restrictions"}),n.jsx(H,{children:"Occurrences"}),n.jsx(H,{children:"Label"}),n.jsx(H,{children:"Actions"})]})}),n.jsx(pt,{children:xe.slice(0,30).map((z,Ze)=>n.jsxs(n.Fragment,{children:[n.jsxs(Ae,{"data-testid":`row-pattern-${Ze}`,children:[n.jsx(U,{children:z.labelInfo&&n.jsx(ne,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>T(k===z.signature?null:z.signature),"data-testid":`button-expand-${Ze}`,children:k===z.signature?n.jsx(Wc,{className:"h-4 w-4"}):n.jsx(lf,{className:"h-4 w-4"})})}),n.jsxs(U,{children:[n.jsx("div",{className:"font-medium text-sm",children:Xye(z)}),n.jsx("div",{className:"text-xs font-mono text-muted-foreground truncate max-w-[200px]",title:z.signature,children:z.signature})]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[np(z.level_min,z.level_max)&&n.jsx(q,{variant:"default",className:"text-xs bg-blue-600",children:np(z.level_min,z.level_max)}),n.jsxs(q,{variant:"outline",className:"text-xs",children:[z.party_size,"v",z.party_size]}),BN(z.max_team_stat_score)&&n.jsx(q,{variant:"default",className:"text-xs bg-amber-600",children:BN(z.max_team_stat_score)}),z.rarity_min!==null&&z.rarity_max!==null&&(z.rarity_min!==0||z.rarity_max!==4)&&n.jsxs(q,{variant:"outline",className:"text-xs",children:[wa[z.rarity_min]||"Common","-",wa[z.rarity_max]||"Mythic"]}),z.all_unique_classes&&n.jsx(q,{variant:"secondary",className:"text-xs",children:"All Unique"}),z.no_triple_classes&&n.jsx(q,{variant:"secondary",className:"text-xs",children:"No Triples"}),z.excluded_classes&&z.excluded_classes>0&&n.jsxs(q,{variant:"destructive",className:"text-xs",children:["No: ",Bz(z.excluded_classes).join(", ")]}),z.must_include_class&&z.included_class_id!==null&&n.jsxs(q,{className:"text-xs bg-green-600",children:["Req: ",HS[z.included_class_id]||`Class${z.included_class_id}`]}),z.max_hero_stat_score!==null&&z.max_hero_stat_score<3e3&&n.jsxs(q,{variant:"secondary",className:"text-xs",children:["Hero",z.max_hero_stat_score]}),z.battle_budget&&n.jsxs(q,{variant:"secondary",className:"text-xs",children:["Budget: ",z.battle_budget]}),z.battle_inventory&&z.battle_inventory>0&&n.jsxs(q,{variant:"secondary",className:"text-xs",children:["Inv: ",z.battle_inventory]}),z.shot_clock_duration&&z.shot_clock_duration!==45&&n.jsxs(q,{variant:"outline",className:"text-xs",children:[z.shot_clock_duration,"s"]}),z.min_glories&&z.min_glories>0&&n.jsxs(q,{variant:"outline",className:"text-xs bg-yellow-600/20 border-yellow-500",children:["Entry: ",z.min_glories," Glory"]}),z.max_sponsor_count&&z.max_sponsor_count>0&&n.jsx(q,{variant:"outline",className:"text-xs bg-blue-600/20 border-blue-500",children:"Sponsored"}),z.glory_bout&&n.jsx(q,{variant:"outline",className:"text-xs bg-purple-600/20 border-purple-500",children:"Glory Bout"}),z.private_battle&&n.jsx(q,{variant:"outline",className:"text-xs bg-gray-600/20 border-gray-500",children:"Private"}),z.map_id!==null&&z.map_id>0&&n.jsxs(q,{variant:"outline",className:"text-xs",children:["Map: ",z.map_id]}),z.excluded_consumables&&z.excluded_consumables>0&&n.jsx(q,{variant:"destructive",className:"text-xs",children:"No Items"}),z.excluded_origin&&z.excluded_origin>0&&n.jsx(q,{variant:"secondary",className:"text-xs",children:"Origin Excl"})]})}),n.jsx(U,{children:n.jsx("span",{className:"font-mono",children:typeof z.occurrence_count=="number"?z.occurrence_count.toLocaleString():parseInt(String(z.occurrence_count)).toLocaleString()})}),n.jsx(U,{children:z.label?n.jsx(q,{style:{backgroundColor:z.labelInfo?.color||"#6366f1"},children:z.label}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"Unlabeled"})}),n.jsx(U,{children:n.jsx("div",{className:"flex items-center gap-1",children:z.label?n.jsxs(n.Fragment,{children:[n.jsx(ne,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>L({signature:z.signature,label:z.label||"",category:z.labelInfo?.category||"general",color:z.labelInfo?.color||"#6366f1"}),"data-testid":`button-edit-label-${Ze}`,children:n.jsx(Zi,{className:"h-3 w-3"})}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsx(ne,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive","data-testid":`button-delete-label-${Ze}`,children:n.jsx(sw,{className:"h-3 w-3"})})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsx(zc,{children:"Delete Label"}),n.jsxs(Bc,{children:['Are you sure you want to delete the label "',z.label,'"? This cannot be undone.']})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsx(Uc,{onClick:()=>z.labelInfo?.id&&J.mutate(z.labelInfo.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]}):n.jsxs(ne,{variant:"ghost",size:"sm",onClick:()=>L({signature:z.signature,label:"",category:"general",color:"#6366f1"}),"data-testid":`button-add-label-${Ze}`,children:[n.jsx(Xi,{className:"h-3 w-3 mr-1"}),"Label"]})})})]},`${z.signature}-${Ze}`),k===z.signature&&z.labelInfo&&n.jsx(Ae,{children:n.jsx(U,{colSpan:6,className:"bg-muted/30",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"text-sm font-medium mb-2",children:['Winning Heroes for "',z.label,'"']}),Lt?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx(Pe,{className:"h-4 w-4 animate-spin"})}):Ye?.heroes&&Ye.heroes.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Ye.heroes.slice(0,8).map((st,_a)=>n.jsxs("div",{className:"p-2 bg-background rounded border text-xs",children:[n.jsxs("div",{className:"font-medium",children:[st.main_class,"/",st.sub_class]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv ",st.level," | ",n.jsx("span",{className:rb[st.rarity],children:wa[st.rarity]})]}),n.jsxs("div",{className:"text-muted-foreground",children:["STR:",st.strength," AGI:",st.agility," INT:",st.intelligence]})]},_a))}):n.jsx("div",{className:"text-muted-foreground text-xs",children:"No winning heroes found for this type."})]})})},`${z.signature}-heroes`)]}))})]})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tournament patterns discovered yet. Run the indexer to collect data."})})]}),n.jsxs(G,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(sV,{className:"h-5 w-5"}),"Tavern Listings"]}),n.jsx(Se,{children:"Tournament-ready heroes from both taverns (Mythic rarity by default)"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(it,{value:m,onValueChange:z=>h(z),children:[n.jsx(tt,{className:"w-40","data-testid":"select-tavern-filter",children:n.jsx(lt,{placeholder:"Filter tavern"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"all",children:"All Taverns"}),n.jsx(ve,{value:"cv",children:"Crystalvale"}),n.jsx(ve,{value:"sd",children:"Sundered Isles"})]})]}),n.jsxs(it,{value:g,onValueChange:z=>v(z),children:[n.jsx(tt,{className:"w-32","data-testid":"select-tts-filter",children:n.jsx(lt,{placeholder:"Max TTS"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"any",children:"Any TTS"}),n.jsx(ve,{value:"3",children:"TTS 3"}),n.jsx(ve,{value:"5",children:"TTS 5"}),n.jsx(ve,{value:"7",children:"TTS 7"}),n.jsx(ve,{value:"9",children:"TTS 9"})]})]}),n.jsxs(it,{value:y,onValueChange:z=>w(z),children:[n.jsx(tt,{className:"w-36","data-testid":"select-rarity-filter",children:n.jsx(lt,{placeholder:"Min Rarity"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"any",children:"Any Rarity"}),n.jsx(ve,{value:"2",children:"Rare+"}),n.jsx(ve,{value:"3",children:"Legendary+"}),n.jsx(ve,{value:"4",children:"Mythic"})]})]}),n.jsxs(it,{value:j,onValueChange:z=>N(z),children:[n.jsx(tt,{className:"w-40","data-testid":"select-combat-power-filter",children:n.jsx(lt,{placeholder:"Min Combat Power"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"any",children:"Any CP"}),n.jsx(ve,{value:"150",children:"CP 150 (L1)"}),n.jsx(ve,{value:"220",children:"CP 220 (L10)"}),n.jsx(ve,{value:"290",children:"CP 290 (L20)"})]})]}),n.jsxs(it,{value:C,onValueChange:z=>E(z),children:[n.jsx(tt,{className:"w-32","data-testid":"select-level-filter",children:n.jsx(lt,{placeholder:"Min Level"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"any",children:"Any Level"}),n.jsx(ve,{value:"10",children:"Level 10+"}),n.jsx(ve,{value:"20",children:"Level 20+"}),n.jsx(ve,{value:"50",children:"Level 50+"})]})]}),n.jsxs(it,{value:A,onValueChange:z=>P(z),children:[n.jsx(tt,{className:"w-36","data-testid":"select-sort-by",children:n.jsx(lt,{placeholder:"Sort By"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"price",children:"Cheapest"}),n.jsx(ve,{value:"combat_power",children:"Strongest"}),n.jsx(ve,{value:"value",children:"Best Value"})]})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>Ne(),"data-testid":"button-refresh-tavern",children:[n.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Refresh"]}),sa.count>0&&n.jsxs(ne,{variant:"ghost",size:"sm",onClick:gl,"data-testid":"button-clear-selection",children:["Clear (",sa.count,")"]})]})]})}),n.jsxs(Y,{children:[sa.count>0&&n.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-lg flex flex-wrap items-center gap-4","data-testid":"team-cost-summary",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ea,{className:"h-5 w-5 text-green-500"}),n.jsxs("span",{className:"font-semibold",children:["Team (",sa.count," heroes):"]})]}),sa.crystalTotal>0&&n.jsxs(q,{variant:"outline",className:"text-blue-400","data-testid":"text-crystal-total",children:[sa.crystalTotal.toFixed(2)," CRYSTAL"]}),sa.jewelTotal>0&&n.jsxs(q,{variant:"outline",className:"text-purple-400","data-testid":"text-jewel-total",children:[sa.jewelTotal.toFixed(2)," JEWEL"]}),n.jsxs(q,{className:"bg-green-600","data-testid":"text-usd-total",children:["$",sa.usdTotal.toFixed(2)," USD"]}),n.jsxs(q,{variant:"outline",className:"text-orange-400","data-testid":"text-team-tts",children:["TTS: ",sa.teamTts]})]}),n.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg","data-testid":"tavern-indexer-status",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[le?.status?.isRunning?n.jsx(Pe,{className:"h-4 w-4 animate-spin text-yellow-500"}):n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:le?.status?.isRunning?"Indexing...":"Indexed"})]}),n.jsxs(q,{variant:"outline",className:"text-xs",children:[le?.status?.totalHeroesIndexed||0," heroes"]}),te?.source==="indexed"&&te?.lastIndexed&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(te.lastIndexed.replace(" ","T")).toLocaleString()]}),te?.source==="live"&&n.jsx(q,{variant:"outline",className:"text-xs text-orange-400",children:"Live API"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>Te.mutate(),disabled:le?.status?.isRunning||Te.isPending||F.isPending,"data-testid":"button-reset-tavern-indexer",children:[Te.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(wc,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>F.mutate(),disabled:le?.status?.isRunning||F.isPending,"data-testid":"button-trigger-tavern-indexer",children:[le?.status?.isRunning||F.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 mr-1"}),"Re-index"]}),le?.status?.autoRunActive&&n.jsx(q,{variant:"secondary",className:"text-xs",children:"Auto-refresh: 30min"})]})]}),le?.stats&&le.stats.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-4 text-xs text-muted-foreground",children:le.stats.map(z=>n.jsxs("span",{children:[z.realm==="cv"?"CV":"SD",": ",z.total_heroes," heroes, avg ",parseFloat(z.avg_price).toFixed(1)," ",z.realm==="cv"?"CRYSTAL":"JEWEL"]},z.realm))})]}),me?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Pe,{className:"h-8 w-8 animate-spin"})}):xl.length>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Source: ",te?.source==="indexed"?"Database":"Live API"," | Prices: CRYSTAL $",te?.prices.crystal?.toFixed(4)||"N/A"," | JEWEL $",te?.prices.jewel?.toFixed(4)||"N/A"]}),n.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-10"}),n.jsx(H,{children:"Hero ID"}),n.jsx(H,{children:"Class"}),n.jsx(H,{children:"Level"}),n.jsx(H,{children:"Rarity"}),n.jsx(H,{children:"CP"}),n.jsx(H,{children:"TTS"}),n.jsx(H,{children:"Profession"}),n.jsx(H,{children:"Summons"}),n.jsx(H,{children:"Stats"}),n.jsx(H,{className:"text-right",children:"Price"})]})}),n.jsx(pt,{children:xl.map(z=>n.jsxs(Ae,{"data-testid":`row-tavern-${z.id}`,className:d.has(z.id)?"bg-muted/50":"",children:[n.jsx(U,{children:n.jsx(hx,{checked:d.has(z.id),onCheckedChange:()=>Ig(z.id),"data-testid":`checkbox-hero-${z.id}`})}),n.jsx(U,{className:"font-mono text-xs",children:z.normalizedId}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:z.mainClassStr}),n.jsx("span",{className:"text-xs text-muted-foreground",children:z.subClassStr})]})}),n.jsx(U,{children:z.level}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:rb[z.rarity]||"",children:wa[z.rarity]||z.rarity}),z.summonStone&&n.jsxs(q,{variant:"outline",className:`text-xs px-1 py-0 ${z.stoneTier==="greater"?"text-yellow-400 border-yellow-400/50":z.stoneTier==="normal"?"text-slate-300 border-slate-400/50":z.stoneTier==="lesser"?"text-amber-600 border-amber-500/50":"text-emerald-400 border-emerald-400/50"}`,"data-testid":`badge-stoned-${z.id}`,title:z.stoneTier&&z.stoneType?`${z.stoneTier.charAt(0).toUpperCase()+z.stoneTier.slice(1)} ${z.stoneType.charAt(0).toUpperCase()+z.stoneType.slice(1)} Stone`:"Enhancement Stone",children:[n.jsx(of,{className:"h-3 w-3 mr-0.5"}),n.jsxs("span",{className:"text-[10px]",children:[z.stoneTier==="greater"?"G":z.stoneTier==="lesser"?"L":"",z.stoneType?z.stoneType.slice(0,3).toUpperCase():""]})]})]})}),n.jsx(U,{children:n.jsx(q,{variant:"secondary",className:"text-xs font-mono","data-testid":`text-hero-cp-${z.id}`,children:z.combatPower||z.strength+z.agility+z.intelligence+z.wisdom+z.luck+z.dexterity+z.vitality+z.endurance||0})}),n.jsx(U,{children:n.jsx(q,{variant:"outline",className:"text-xs","data-testid":`text-hero-tts-${z.id}`,children:nb(z)})}),n.jsx(U,{className:"text-xs",children:z.professionStr}),n.jsxs(U,{className:"text-xs",children:[z.summons,"/",z.maxSummons]}),n.jsxs(U,{className:"text-xs",children:["STR:",z.strength," AGI:",z.agility,n.jsx("br",{}),"INT:",z.intelligence," WIS:",z.wisdom]}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:z.nativeToken==="CRYSTAL"?"text-blue-400 font-medium":"text-purple-400 font-medium",children:[z.priceNative.toFixed(2)," ",z.nativeToken]}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",z.priceUSD?.toFixed(2)??"N/A"]})]})})]},z.id))})]})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No heroes for sale found. Try refreshing."})]})]})]})}const e0e="/assets/image_1767989909914-BoOIJOrw.png",t0e="/assets/image_1767989916670-CIB_QLg6.png",n0e="/assets/image_1767989924709-Cd-fX91X.png",r0e="/assets/image_1767989933201-CExWd6gH.png",a0e="/assets/image_1767989940273-D-256Xo-.png",s0e="/assets/image_1767989948128-DF1TFkq_.png",i0e={0:"B1",1:"B2",2:"B3",3:"B4",4:"B5",5:"B6",6:"B7",7:"B8",8:"B9",9:"B10",10:"B11",11:"B12",12:"B13",13:"B14",14:"B15",15:"B16",16:"A1",17:"A2",18:"A3",19:"A4",20:"A5",21:"A6",24:"E1",25:"E2",26:"E3",28:"X1"},l0e={0:"#ab9159",1:"#af3853",2:"#578761",3:"#068483",4:"#48321e",5:"#66489e",6:"#ca93a7",7:"#62a7e6",8:"#c34b1e",9:"#326988",10:"#513f4f",11:"#d48b41",12:"#dbfbf5",13:"#8f9bb3",14:"#c5bfa7",15:"#d7bc65",16:"#d7bc65",17:"#9b68ab",18:"#8d6b3a",19:"#566377",20:"#dbfbf5",21:"#8f9bb3",24:"#275435",25:"#77b23c",26:"#880016",28:"#353132"},o0e={0:"#203997",2:"#896693",4:"#bb3f55",6:"#0d7634",8:"#8d7136",10:"#613d8a",12:"#2494a2",14:"#a41e12"},c0e={0:"#c58135",2:"#f1ca9e",4:"#985e1c",6:"#57340c",8:"#e6a861",10:"#7b4a11",12:"#e5ac91",14:"#aa5c38"},KR={0:"#c5bfa7",1:"#a88b47",2:"#58381e",3:"#566f7d",4:"#2a386d",5:"#3f2e40",6:"#830e18",7:"#6f3a3c",8:"#cddef0",9:"#df7126",10:"#835138",11:"#86a637",16:"#6b173c",17:"#a0304d",18:"#78547c",19:"#352a51",24:"#147256",25:"#cf7794",26:"#c29d35",28:"#211f1f"},d0e={0:"Battle Hawk",1:"Wolf Mane",2:"Enchanter",3:"Wild Growth",4:"Pixel",5:"Sunrise",6:"Bouffant",7:"Agleam Spike",8:"Wayfinder",9:"Faded Topknot",10:"Side Shave",11:"Ronin",16:"Gruff",17:"Rogue Locs",18:"Stone Cold",19:"Zinra's Tail",20:"Hedgehog",21:"Delinquent",24:"Skegg",25:"Shinobi",26:"Sanjo",28:"Perfect Form"},u0e={0:"Windswept",1:"Fauna",2:"Enchantress",3:"Pineapple Top",4:"Pixie",5:"Darkweave Plait",6:"Coif",7:"Courtly Updo",8:"Cerulean Tuft",9:"Lorelei",10:"Casual Ponytail",11:"Wild Ponytail",16:"Vogue Locs",17:"Twilight Locs",18:"Ethereal Wisherah",19:"Kunoichi",20:"Sweeping Wisherah",21:"Chignon",24:"Regal Locks",25:"Moonlight Cascade",26:"Mystic Coil",28:"Divine Radiance"},f0e={0:"None",1:"Kitsune Ears",2:"Satyr Horns",3:"Ram Horns",4:"Imp Horns",5:"Cat Ears",6:"Minotaur Horns",7:"Faun Horns",8:"Draconic Horns",9:"Fae Circlet",10:"Ragfly Antennae",11:"Royal Crown",16:"Jagged Horns",17:"Spindle Horns",18:"Bear Ears",19:"Antennae",20:"Fallen Angel Coronet",21:"Power Horn",24:"Wood Elf Ears",25:"Snow Elf Ears",26:"Cranial Wings",28:"Insight Jewel"},m0e={0:"None",1:"Monkey Tail",2:"Cat Tail",3:"Imp Tail",4:"Minotaur Tail",5:"Daish",6:"Kitsune Tail",7:"Zweihnder",8:"Skeletal Wings",9:"Skeletal Tail",10:"Afflicted Spikes",11:"Traveler's Pack",16:"Gryphon Wings",17:"Draconic Wings",18:"Butterfly Wings",19:"Phoenix Wings",20:"Fallen Angel",21:"Crystal Wings",24:"Aura of the Inner Grove",25:"Ancient Orbs",26:"Arachnid Legs",28:"Cecaelia Tentacles"},ab={0:"Sand",1:"Rose",2:"Emerald",3:"Teal",4:"Brown",5:"Amethyst",6:"Pink",7:"Cornflower",8:"Auburn",9:"Ocean",10:"Plum",11:"Honey",16:"Wheat",17:"Lavender",18:"Chestnut",19:"Slate",20:"Forest",21:"Lime",24:"Crimson",25:"Obsidian",26:"Mint",28:"Silver"},h0e={0:"Azure",2:"Mirabella",4:"Izmir",6:"Turmalin",8:"Hazel",10:"Violet",12:"Aqua",14:"Crimson"},p0e={0:"Nomad",2:"Ginger",4:"Salmon",6:"Nutmeg",8:"Peach",10:"Copper",12:"Rose",14:"Terra"},WR={0:"Blacksmithing",2:"Goldsmithing",4:"Armorsmithing",6:"Woodworking",8:"Leatherworking",10:"Tailoring",12:"Enchanting",14:"Alchemy"},GR={0:"Basic1",1:"Basic2",2:"Basic3",3:"Basic4",4:"Basic5",5:"Basic6",6:"Basic7",7:"Basic8",16:"Advanced1",17:"Advanced2",18:"Advanced3",19:"Advanced4",24:"Elite1",25:"Elite2",28:"Exalted1"},x0e={0:"Desert",2:"Forest",4:"Plains",6:"Island",8:"Swamp",10:"Mountains",12:"City",14:"Arctic"},Uz={"poisoned blade":"B","blinding winds":"B",heal:"B",cleanse:"B","iron skin":"B",speed:"B","critical aim":"B",deathmark:"B",exhaust:"A",daze:"A",explosion:"A","hardened shield":"A",stun:"E","second wind":"E",resurrection:"X",duelist:"B",clutch:"B",foresight:"B",headstrong:"B","clear vision":"B",fearless:"B",chatterbox:"B",stalwart:"B",leadership:"A",efficient:"A",intimidation:"A",toxic:"A","giant slayer":"E","last stand":"E","second life":"X"};function Hz(e){return e.toLowerCase().trim()}function g0e(e){const t=Uz[Hz(e)];return t==="A"||t==="E"||t==="X"}function v0e(e){const t=Uz[Hz(e)];return t==="A"||t==="E"||t==="X"?"text-cyan-400":""}function y0e(e){return e.startsWith("A")||e.startsWith("E")||e.startsWith("X")}const j0e={0:"bg-gray-500",1:"bg-green-500",2:"bg-blue-500",3:"bg-orange-500",4:"bg-purple-500"};function ya({title:e,probabilities:t,mutations:r,isSkillTable:a=!1}){let s;if(r?r instanceof Set?s=r:Array.isArray(r)?s=new Set(r):(console.warn(`[SummoningCalculator] Unexpected mutations format for ${e}:`,typeof r,r),s=new Set):s=new Set,!t||typeof t!="object")return null;const l=Object.entries(t).sort((c,d)=>d[1]-c[1]).filter(([c,d])=>d>0);return l.length===0?null:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("div",{className:"space-y-0.5",children:l.map(([c,d])=>{const f=s.has(c),m=a&&g0e(c),h=a?v0e(c):"";return n.jsxs("div",{className:`flex justify-between text-xs py-0.5 px-1 rounded ${f?"bg-orange-500/20 text-orange-300":""}`,title:f?"Mutation (not in parent dominant genes)":m?"Non-basic skill (Advanced/Elite/Exalted)":void 0,children:[n.jsx("span",{className:`${f?"font-medium":""} ${h}`,children:c}),n.jsxs("span",{className:`font-mono ${h}`,children:[d.toFixed(2),"%"]})]},c)})})]})}function Kr({title:e,probabilities:t,nameMap:r,colorMap:a,showPairNames:s,femaleNameMap:l}){if(!t||typeof t!="object")return null;const c=Object.entries(t).sort((d,f)=>f[1]-d[1]).filter(([d,f])=>f>0);return c.length===0?null:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("div",{className:"space-y-0.5",children:c.map(([d,f])=>{const m=Number(d),h=i0e[m]||`?${m}`,g=y0e(h),v=a?.[m],y=r[m]||`Gene ${m}`;let w=y;if(s&&l){const j=l[m];j&&j!==y&&(w=`${y} / ${j}`)}return n.jsxs("div",{className:`flex items-center justify-between text-xs py-0.5 px-1 rounded gap-1 ${g?"bg-orange-500/20":""}`,children:[n.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[v&&n.jsx("div",{className:"w-3 h-3 rounded-sm border border-border/50 flex-shrink-0",style:{backgroundColor:v}}),n.jsxs("span",{className:`truncate ${g?"text-orange-300 font-medium":""}`,children:["(",h,") ",w]})]}),n.jsxs("span",{className:"font-mono flex-shrink-0",children:[f.toFixed(2),"%"]})]},d)})})]})}function b0e({genetics:e,title:t}){const r=[{name:"Class",value:e.mainClass},{name:"SubClass",value:e.subClass},{name:"Profession",value:e.profession},{name:"Stat Boost 1",value:e.statBoost1},{name:"Stat Boost 2",value:e.statBoost2},{name:"Active 1",value:e.active1},{name:"Active 2",value:e.active2},{name:"Passive 1",value:e.passive1},{name:"Passive 2",value:e.passive2},{name:"Element",value:e.element}];return n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:t}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-1 px-1",children:"Trait"}),n.jsx("th",{className:"text-left py-1 px-1",children:"Dominant"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R1"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R2"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R3"})]})}),n.jsx("tbody",{children:r.map(({name:a,value:s})=>n.jsxs("tr",{className:"border-b border-border/50",children:[n.jsx("td",{className:"py-1 px-1 font-medium",children:a}),n.jsx("td",{className:"py-1 px-1",children:s?.dominant||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R1||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R2||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R3||"-"})]},a))})]})})]})}function YR({hero:e,genetics:t}){return n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs(ie,{className:"text-lg",children:["Hero #",e.normalizedId]}),n.jsx(q,{className:j0e[e.rarity],children:e.rarityName})]})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"})," ",e.mainClass]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"SubClass:"})," ",e.subClass]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Profession:"})," ",e.profession]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",e.level]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen:"})," ",e.generation]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Summons:"})," ",e.summonsRemaining,"/",e.maxSummons]})]}),n.jsx(Ln,{}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"STR:"})," ",e.strength]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"AGI:"})," ",e.agility]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"INT:"})," ",e.intelligence]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"WIS:"})," ",e.wisdom]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"LCK:"})," ",e.luck]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"DEX:"})," ",e.dexterity]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"VIT:"})," ",e.vitality]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"END:"})," ",e.endurance]})]}),t&&n.jsxs(n.Fragment,{children:[n.jsx(Ln,{}),n.jsx(b0e,{genetics:t,title:"Stat Genetics"})]})]})]})}function N0e(){const[e,t]=p.useState(""),[r,a]=p.useState(""),[s,l]=p.useState(null),[c,d]=p.useState("calculator"),[f,m]=p.useState(!1),[h,g]=p.useState(""),[v,y]=p.useState(""),[w,j]=p.useState(["cv","sd"]),[N,C]=p.useState("500"),[E,A]=p.useState("1"),[P,k]=p.useState("1"),[T,_]=p.useState(""),[L,X]=p.useState(null),{data:I}=_e({queryKey:["/api/admin/sniper/filters"]}),R=Ee({mutationFn:async({hero1Id:$,hero2Id:fe})=>(await De("POST","/api/admin/summoning/calculate",{hero1Id:$,hero2Id:fe})).json(),onSuccess:$=>{$.ok&&l($)}}),K=()=>{!e||!r||R.mutate({hero1Id:e,hero2Id:r})};p.useEffect(()=>{if(f)return;const $=new URLSearchParams(window.location.search),fe=$.get("hero1"),pe=$.get("hero2");fe&&pe&&(t(fe),a(pe),m(!0),setTimeout(()=>{R.mutate({hero1Id:fe,hero2Id:pe})},100))},[f]);const ye=Ee({mutationFn:async()=>(await De("POST","/api/admin/sniper/search",{targetClass:h||void 0,targetProfession:v||void 0,realms:w,maxPricePerHero:parseFloat(N)||500,minSummonsRemaining:parseInt(E)||1,minLevel:parseInt(P)||1,maxTTS:T?parseFloat(T):null,limit:20})).json(),onSuccess:$=>{$.ok&&X($)}}),W=()=>{!h&&!v||ye.mutate()},ee=$=>{j(fe=>fe.includes($)?fe.filter(pe=>pe!==$):[...fe,$])},B=$=>["Common","Uncommon","Rare","Legendary","Mythic"][$]||"Unknown",Z=$=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][$]||"text-gray-400";return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ks,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summoning Calculator"}),n.jsx("p",{className:"text-muted-foreground",children:"Calculate offspring trait probabilities from two parent heroes"})]})]}),n.jsx(oi,{value:c,onValueChange:d,className:"w-full",children:n.jsxs(us,{className:"flex flex-wrap h-auto gap-1 w-full sm:w-auto",children:[n.jsxs(Ct,{value:"calculator","data-testid":"tab-calculator",children:[n.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Calculator"]}),n.jsxs(Ct,{value:"infographics","data-testid":"tab-infographics",children:[n.jsx(xq,{className:"h-4 w-4 mr-1"}),"Infographics"]}),n.jsxs(Ct,{value:"sniper","data-testid":"tab-sniper",children:[n.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Sniper"]})]})})]}),c==="calculator"&&n.jsxs(n.Fragment,{children:[n.jsxs(G,{children:[n.jsx(re,{children:n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"h-5 w-5"}),"Enter Parent Heroes"]})}),n.jsxs(Y,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(ke,{htmlFor:"hero1",children:"Hero 1 ID"}),n.jsx(We,{id:"hero1",placeholder:"e.g. 62",value:e,onChange:$=>t($.target.value),"data-testid":"input-hero1-id"})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(ke,{htmlFor:"hero2",children:"Hero 2 ID"}),n.jsx(We,{id:"hero2",placeholder:"e.g. 569",value:r,onChange:$=>a($.target.value),"data-testid":"input-hero2-id"})]}),n.jsxs(ne,{onClick:K,disabled:!e||!r||R.isPending,"data-testid":"button-calculate",children:[R.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(uo,{className:"h-4 w-4 mr-2"}),"Calculate"]})]}),R.isError&&n.jsxs("p",{className:"text-destructive text-sm mt-2",children:["Error: ",R.error?.message||"Failed to calculate"]})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(YR,{hero:s.parent1,genetics:s.genetics1}),n.jsx(YR,{hero:s.parent2,genetics:s.genetics2})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(wu,{className:"h-5 w-5"}),"Summoning Chances",n.jsxs(q,{variant:"outline",className:"ml-2",children:["Offspring Gen ",s.offspringGeneration]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"text-orange-400",children:"Orange"})," = Mutation (trait not in either parent's dominant gene)"]})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Stat Genes"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(ya,{title:"Class",probabilities:s.probabilities.class,mutations:s.probabilities.mutations?.class}),n.jsx(ya,{title:"Sub Class",probabilities:s.probabilities.subClass,mutations:s.probabilities.mutations?.subClass}),n.jsx(ya,{title:"Profession",probabilities:s.probabilities.profession,mutations:s.probabilities.mutations?.profession}),n.jsx(ya,{title:"Rarity",probabilities:s.probabilities.rarity}),n.jsx(ya,{title:"Stat Boost 1",probabilities:s.probabilities.statBoost1,mutations:s.probabilities.mutations?.statBoost1}),n.jsx(ya,{title:"Stat Boost 2",probabilities:s.probabilities.statBoost2,mutations:s.probabilities.mutations?.statBoost2})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mt-4",children:[n.jsx(ya,{title:"Active 1",probabilities:s.probabilities.active1,mutations:s.probabilities.mutations?.active1,isSkillTable:!0}),n.jsx(ya,{title:"Active 2",probabilities:s.probabilities.active2,mutations:s.probabilities.mutations?.active2,isSkillTable:!0}),n.jsx(ya,{title:"Passive 1",probabilities:s.probabilities.passive1,mutations:s.probabilities.mutations?.passive1,isSkillTable:!0}),n.jsx(ya,{title:"Passive 2",probabilities:s.probabilities.passive2,mutations:s.probabilities.mutations?.passive2,isSkillTable:!0}),n.jsx(ya,{title:"Element",probabilities:s.probabilities.element,mutations:s.probabilities.mutations?.element})]})]}),n.jsx(Ln,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Nc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Visual Genes"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(Kr,{title:"Hair Style",probabilities:s.probabilities.hairStyle,nameMap:d0e,showPairNames:!0,femaleNameMap:u0e}),n.jsx(Kr,{title:"Hair Color",probabilities:s.probabilities.hairColor,nameMap:ab,colorMap:l0e}),n.jsx(Kr,{title:"Head App",probabilities:s.probabilities.headAppendage,nameMap:f0e}),n.jsx(Kr,{title:"Head App Color",probabilities:s.probabilities.appendageColor,nameMap:ab,colorMap:KR}),n.jsx(Kr,{title:"Back App",probabilities:s.probabilities.backAppendage,nameMap:m0e}),n.jsx(Kr,{title:"Back App Color",probabilities:s.probabilities.backAppendageColor,nameMap:ab,colorMap:KR})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-4",children:[n.jsx(Kr,{title:"Eye Color",probabilities:s.probabilities.eyeColor,nameMap:h0e,colorMap:o0e}),n.jsx(Kr,{title:"Skin Color",probabilities:s.probabilities.skinColor,nameMap:p0e,colorMap:c0e}),n.jsx(Kr,{title:"Crafting 1",probabilities:s.probabilities.crafting1,nameMap:WR}),n.jsx(Kr,{title:"Crafting 2",probabilities:s.probabilities.crafting2,nameMap:WR}),n.jsx(Kr,{title:"Visual Unknown 1",probabilities:s.probabilities.visualUnknown1,nameMap:GR}),n.jsx(Kr,{title:"Visual Unknown 2",probabilities:s.probabilities.visualUnknown2,nameMap:GR})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-4",children:[n.jsx(ya,{title:"Gender",probabilities:s.probabilities.gender,mutations:s.probabilities.mutations?.gender}),n.jsx(Kr,{title:"Background",probabilities:s.probabilities.background,nameMap:x0e})]})]})]})]})]})]}),c==="infographics"&&n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(cM,{className:"h-5 w-5"}),"Visual Mutation Trees"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference charts showing mutation paths from Basic  Advanced  Elite  Exalted  Transcendent"})]}),n.jsx(Y,{children:n.jsxs(oi,{defaultValue:"hairstyle",children:[n.jsxs(us,{className:"mb-4 flex-wrap h-auto gap-1",children:[n.jsx(Ct,{value:"hairstyle","data-testid":"tab-infographic-hairstyle",children:"Female Hairstyle"}),n.jsx(Ct,{value:"hairstyle-male","data-testid":"tab-infographic-hairstyle-male",children:"Male Hairstyle"}),n.jsx(Ct,{value:"head-app","data-testid":"tab-infographic-head-app",children:"Head Appendage"}),n.jsx(Ct,{value:"back-app","data-testid":"tab-infographic-back-app",children:"Back Appendage"}),n.jsx(Ct,{value:"app-color","data-testid":"tab-infographic-app-color",children:"Appendage Color"}),n.jsx(Ct,{value:"hair-color","data-testid":"tab-infographic-hair-color",children:"Hair Color"})]}),n.jsx(Ot,{value:"hairstyle",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:e0e,alt:"Female Hairstyle Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"hairstyle-male",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:t0e,alt:"Male Hairstyle Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"head-app",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:n0e,alt:"Head Appendage Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"back-app",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:r0e,alt:"Back Appendage Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"app-color",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:a0e,alt:"Appendage Color Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Ot,{value:"hair-color",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:s0e,alt:"Hair Color Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})})]})})]}),c==="sniper"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(rM,{className:"h-5 w-5"}),"Search Filters"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Find optimal hero pairs from the tavern that maximize your chance of breeding specific traits"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"targetClass",children:"Target Class"}),n.jsxs("select",{id:"targetClass",value:h,onChange:$=>g($.target.value),className:"w-full h-9 px-3 rounded-md border bg-background text-sm","data-testid":"select-target-class",children:[n.jsx("option",{value:"",children:"Any Class"}),I?.filters?.classes?.map($=>n.jsx("option",{value:$,children:$},$))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"targetProfession",children:"Target Profession"}),n.jsxs("select",{id:"targetProfession",value:v,onChange:$=>y($.target.value),className:"w-full h-9 px-3 rounded-md border bg-background text-sm","data-testid":"select-target-profession",children:[n.jsx("option",{value:"",children:"Any Profession"}),I?.filters?.professions?.map($=>n.jsx("option",{value:$,children:$},$))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxPrice",children:"Max Price (per hero)"}),n.jsx(We,{id:"maxPrice",type:"number",value:N,onChange:$=>C($.target.value),placeholder:"500","data-testid":"input-max-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minSummons",children:"Min Summons Remaining"}),n.jsx(We,{id:"minSummons",type:"number",value:E,onChange:$=>A($.target.value),placeholder:"1","data-testid":"input-min-summons"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minLevel",children:"Min Level"}),n.jsx(We,{id:"minLevel",type:"number",value:P,onChange:$=>k($.target.value),placeholder:"1","data-testid":"input-min-level"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"maxTTS",children:"Max TTS (leave empty for any)"}),n.jsx(We,{id:"maxTTS",type:"number",value:T,onChange:$=>_($.target.value),placeholder:"Any","data-testid":"input-max-tts"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ke,{children:"Realms:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(q,{variant:w.includes("cv")?"default":"outline",className:"cursor-pointer",onClick:()=>ee("cv"),"data-testid":"badge-realm-cv",children:"Crystalvale"}),n.jsx(q,{variant:w.includes("sd")?"default":"outline",className:"cursor-pointer",onClick:()=>ee("sd"),"data-testid":"badge-realm-sd",children:"Sundered Isles"})]})]}),n.jsxs(ne,{onClick:W,disabled:!h&&!v||ye.isPending,"data-testid":"button-sniper-search",children:[ye.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Find Best Pairs"]}),ye.isError&&n.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",ye.error?.message||"Search failed"]})]})]}),L&&n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"}),"Best Hero Pairs",n.jsxs(q,{variant:"outline",className:"ml-2",children:[L.pairs.length," pairs from ",L.totalHeroes," heroes"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ranked by efficiency (probability per token spent)"})]}),n.jsx(Y,{children:L.pairs.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No matching hero pairs found. Try adjusting your filters."}):n.jsx("div",{className:"space-y-4",children:L.pairs.map(($,fe)=>n.jsx(G,{className:"bg-muted/30",children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(q,{variant:"secondary",children:["#",fe+1]}),n.jsx(q,{variant:"outline",children:$.realm==="cv"?"Crystalvale":"Sundered Isles"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:"Hero 1"}),n.jsxs("div",{className:Z($.hero1.rarity),children:[B($.hero1.rarity)," ",$.hero1.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Gen ",$.hero1.generation," | ",$.hero1.summonsRemaining," summons"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ea,{className:"h-3 w-3"}),$.hero1.price.toFixed(2)," ",$.hero1.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${$.hero1.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(nr,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:"Hero 2"}),n.jsxs("div",{className:Z($.hero2.rarity),children:[B($.hero2.rarity)," ",$.hero2.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Gen ",$.hero2.generation," | ",$.hero2.summonsRemaining," summons"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ea,{className:"h-3 w-3"}),$.hero2.price.toFixed(2)," ",$.hero2.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${$.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(nr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[$.targetProbability.toFixed(1),"% chance"]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",$.totalCost.toFixed(2)," ",$.hero1.token]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Efficiency: ",$.efficiency.toFixed(4)]})]})]}),$.probabilities&&n.jsx("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-xs",children:$.probabilities.class&&Object.entries($.probabilities.class).slice(0,3).map(([pe,M])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[pe,":"]}),n.jsxs("span",{children:[M,"%"]})]},pe))})]})},fe))})})]})]})]})}const QR=[{id:0,name:"Common"},{id:1,name:"Uncommon"},{id:2,name:"Rare"},{id:3,name:"Legendary"},{id:4,name:"Mythic"}];function w0e(){const[e,t]=p.useState(["Archer","Berserker","Knight","Priest","Seer","Warrior","Wizard","Pirate"]),[r,a]=p.useState([]),[s,l]=p.useState([]),[c,d]=p.useState([]),[f,m]=p.useState(["cv","sd"]),[h,g]=p.useState(0),[v,y]=p.useState("0"),[w,j]=p.useState("1"),[N,C]=p.useState(""),[E,A]=p.useState(""),[P,k]=p.useState(null),[T,_]=p.useState("tavern"),[L,X]=p.useState("regular"),[I,R]=p.useState(""),[K,ye]=p.useState("0.50"),[W,ee]=p.useState("efficiency"),{data:B}=_e({queryKey:["/api/admin/sniper/filters"]}),Z=Ee({mutationFn:async()=>{const F=parseInt(v)||0;return(await De("POST","/api/admin/sniper/search",{targetClasses:e,targetProfessions:r,targetActiveSkills:s,targetPassiveSkills:c,realms:f,minRarity:h,minSummonsRemaining:F,maxSummonsRemaining:void 0,minLevel:parseInt(w)||1,targetTTSValue:N?parseInt(N):null,minTTSProbability:E?parseFloat(E):null,summonType:L,searchMode:T,myHeroId:T==="myHero"?I:void 0,bridgeFeeUsd:parseFloat(K)||0,sortBy:W,limit:50})).json()},onSuccess:F=>{F.ok&&k(F)}}),$=()=>{e.length===0&&r.length===0&&s.length===0&&c.length===0||T==="myHero"&&!I.trim()||Z.mutate()},fe=F=>{t(Te=>Te.includes(F)?Te.filter(ae=>ae!==F):[...Te,F])},pe=F=>{a(Te=>Te.includes(F)?Te.filter(ae=>ae!==F):[...Te,F])},M=F=>{l(Te=>Te.includes(F)?Te.filter(ae=>ae!==F):[...Te,F])},te=F=>{d(Te=>Te.includes(F)?Te.filter(ae=>ae!==F):[...Te,F])},me=F=>{m(Te=>Te.includes(F)?Te.filter(ae=>ae!==F):[...Te,F])},Ne=F=>["Common","Uncommon","Rare","Legendary","Mythic"][F]||"Unknown",le=F=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][F]||"text-gray-400",Ie=p.useMemo(()=>{if(!P?.pairs)return[];const F=[...P.pairs];switch(W){case"chance":return F.sort((Te,ae)=>ae.targetProbability-Te.targetProbability);case"price":return F.sort((Te,ae)=>Te.totalCostUsd-ae.totalCostUsd);case"skillScore":return F.sort((Te,ae)=>(ae.tts?.expected||0)-(Te.tts?.expected||0));case"efficiency":default:return F.sort((Te,ae)=>ae.efficiency-Te.efficiency)}},[P?.pairs,W]);return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Rr,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summon Sniper"}),n.jsx("p",{className:"text-muted-foreground",children:"Find optimal hero pairs from the tavern to maximize breeding success for specific traits"})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(rM,{className:"h-5 w-5"}),"Search Filters"]}),n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx(xu,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:"Select multiple classes/professions to find heroes that can breed ANY of the selected traits. Results automatically show cheapest pairs ranked by efficiency."})]})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Search Mode"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(q,{variant:T==="tavern"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${T==="tavern"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>_("tavern"),"data-testid":"badge-mode-tavern",children:[n.jsx(Lr,{className:"h-3.5 w-3.5 mr-1.5"}),"Two from Tavern"]}),n.jsxs(q,{variant:T==="myHero"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${T==="myHero"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>_("myHero"),"data-testid":"badge-mode-myhero",children:[n.jsx(Uh,{className:"h-3.5 w-3.5 mr-1.5"}),"Pair for My Hero"]})]}),T==="myHero"&&n.jsxs("div",{className:"mt-2",children:[n.jsx(ke,{htmlFor:"myHeroId",children:"Your Hero ID"}),n.jsx(We,{id:"myHeroId",type:"text",value:I,onChange:F=>R(F.target.value),placeholder:"Enter your hero ID (e.g., 1000000123456)",className:"mt-1 max-w-md","data-testid":"input-my-hero-id"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Find the best tavern hero to pair with your existing hero"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Summon Type"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(q,{variant:L==="regular"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${L==="regular"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>X("regular"),"data-testid":"badge-summon-regular",children:"Regular Summon"}),n.jsx(q,{variant:L==="dark"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${L==="dark"?"bg-purple-600 text-white ring-2 ring-purple-500 ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>X("dark"),"data-testid":"badge-summon-dark",children:"Dark Summon"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:L==="regular"?"Standard summoning with full token cost. Heroes must have summons remaining.":"Dark summoning burns both heroes (1/4 cost). More summons = higher rarity chance."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Target Classes (select one or more)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B?.filters?.classes?.map(F=>n.jsx(q,{variant:e.includes(F)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${e.includes(F)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>fe(F),"data-testid":`badge-class-${F.toLowerCase()}`,children:F},F))}),e.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",e.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Target Professions (select one or more)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B?.filters?.professions?.map(F=>n.jsx(q,{variant:r.includes(F)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${r.includes(F)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>pe(F),"data-testid":`badge-profession-${F.toLowerCase()}`,children:F},F))}),r.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",r.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Target Active Skills (optional)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B?.filters?.activeSkills?.map(F=>n.jsx(q,{variant:s.includes(F)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${s.includes(F)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>M(F),"data-testid":`badge-active-${F.toLowerCase().replace(/\s+/g,"-")}`,children:F},F))}),s.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",s.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Target Passive Skills (optional)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B?.filters?.passiveSkills?.map(F=>n.jsx(q,{variant:c.includes(F)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${c.includes(F)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>te(F),"data-testid":`badge-passive-${F.toLowerCase().replace(/\s+/g,"-")}`,children:F},F))}),c.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",c.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ke,{children:"Minimum Parent Rarity"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:QR.map(F=>n.jsx(q,{variant:h===F.id?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${h===F.id?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>g(F.id),"data-testid":`badge-rarity-${F.name.toLowerCase()}`,children:F.name},F.id))}),h>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only showing ",QR[h].name,"+ parents"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minSummons",children:L==="dark"?"Summons Remaining (Fixed)":"Min Summons Remaining"}),L==="dark"?n.jsx("div",{className:"h-9 px-3 py-2 bg-muted rounded-md text-sm text-muted-foreground flex items-center",children:"Any (more summons = higher rarity chance)"}):n.jsx(We,{id:"minSummons",type:"number",value:v,onChange:F=>y(F.target.value),placeholder:"0","data-testid":"input-min-summons"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minLevel",children:"Min Level"}),n.jsx(We,{id:"minLevel",type:"number",value:w,onChange:F=>j(F.target.value),placeholder:"1","data-testid":"input-min-level"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"targetTTSValue",children:"Target TTS"}),n.jsx(We,{id:"targetTTSValue",type:"number",min:"0",max:"12",value:N,onChange:F=>C(F.target.value),placeholder:"e.g. 8","data-testid":"input-target-tts-value"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"minTTSProbability",children:"Min % Chance"}),n.jsx(We,{id:"minTTSProbability",type:"number",step:"1",min:"0",max:"100",value:E,onChange:F=>A(F.target.value),placeholder:"e.g. 20","data-testid":"input-min-tts-probability"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("p",{className:"text-xs text-muted-foreground pb-2",children:"Filter pairs with at least X% chance of TTS  target"})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{htmlFor:"bridgeFee",children:"Bridge Fee per Hero (USD)"}),n.jsx(We,{id:"bridgeFee",type:"number",step:"0.01",value:K,onChange:F=>ye(F.target.value),placeholder:"0.50","data-testid":"input-bridge-fee"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Metis heroes need bridging to CV for summoning. Estimate ~$0.50 per hero."})]})}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsx(ke,{children:"Realms:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(q,{variant:f.includes("cv")?"default":"outline",className:`cursor-pointer transition-colors ${f.includes("cv")?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>me("cv"),"data-testid":"badge-realm-cv",children:"Crystalvale"}),n.jsx(q,{variant:f.includes("sd")?"default":"outline",className:`cursor-pointer transition-colors ${f.includes("sd")?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>me("sd"),"data-testid":"badge-realm-sd",children:"Sundered Isles"})]})]}),n.jsxs(ne,{onClick:$,disabled:e.length===0&&r.length===0||Z.isPending,"data-testid":"button-sniper-search",children:[Z.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Find Best Pairs"]}),Z.isError&&n.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",Z.error?.message||"Search failed"]})]})]}),P&&n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(On,{className:"h-5 w-5"}),P.userHero?"Best Tavern Matches":"Best Hero Pairs",n.jsxs(q,{variant:"outline",className:"ml-2",children:[P.pairs.length," ",P.userHero?"matches":"pairs"," from ",P.totalHeroes," heroes"]}),P.searchParams?.summonType==="dark"&&n.jsx(q,{className:"bg-purple-600 text-white",children:"Dark Summon"})]}),P.userHero&&n.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Uh,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Your Hero"})]}),n.jsxs("div",{className:`text-sm ${le(P.userHero.rarity)}`,children:[Ne(P.userHero.rarity)," ",P.userHero.mainClass]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lv",P.userHero.level," Gen",P.userHero.generation," | ",P.userHero.summonsRemaining," summons | ID: ",P.userHero.id]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{children:"Sort by:"}),n.jsxs(it,{value:W,onValueChange:F=>ee(F),children:[n.jsx(tt,{className:"w-[180px] h-8","data-testid":"select-sort-by",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"efficiency",children:"Efficiency (%/$)"}),n.jsx(ve,{value:"chance",children:"Highest Chance"}),n.jsx(ve,{value:"price",children:"Lowest Price"}),n.jsx(ve,{value:"skillScore",children:"Offspring Skill Score"})]})]})]}),P.tokenPrices&&n.jsxs("p",{className:"text-xs",children:["Token prices: CRYSTAL $",P.tokenPrices.CRYSTAL?.toFixed(4)||"0",", JEWEL $",P.tokenPrices.JEWEL?.toFixed(4)||"0"]}),P.searchParams&&n.jsxs("p",{className:"text-xs",children:["Searching for: ",P.searchParams.targetClasses?.length>0&&`Classes: ${P.searchParams.targetClasses.join(" OR ")}`,P.searchParams.targetClasses?.length>0&&P.searchParams.targetProfessions?.length>0&&" AND ",P.searchParams.targetProfessions?.length>0&&`Professions: ${P.searchParams.targetProfessions.join(" OR ")}`,(P.searchParams.targetClasses?.length>0||P.searchParams.targetProfessions?.length>0)&&P.searchParams.targetActiveSkills?.length>0&&" AND ",P.searchParams.targetActiveSkills?.length>0&&`Active: ${P.searchParams.targetActiveSkills.join(" OR ")}`,(P.searchParams.targetClasses?.length>0||P.searchParams.targetProfessions?.length>0||P.searchParams.targetActiveSkills?.length>0)&&P.searchParams.targetPassiveSkills?.length>0&&" AND ",P.searchParams.targetPassiveSkills?.length>0&&`Passive: ${P.searchParams.targetPassiveSkills.join(" OR ")}`]})]})]}),n.jsx(Y,{children:P.pairs.length===0?n.jsxs("div",{className:"text-center py-8 space-y-3",children:[n.jsx("p",{className:"text-muted-foreground",children:"No matching hero pairs found. Try adjusting your filters."}),P.ttsMetadata&&(P.ttsMetadata.requestedTarget!==null||N&&E)&&n.jsxs("div",{className:"text-xs text-amber-500 bg-amber-500/10 rounded-md p-3 max-w-md mx-auto","data-testid":"tts-guidance-panel",children:[n.jsx("p",{className:"font-medium mb-1",children:"TTS Filter may be too strict"}),n.jsxs("p",{children:["You requested TTS  ",P.ttsMetadata.requestedTarget??N," with  ",P.ttsMetadata.requestedMinProb??E,"% chance."]}),n.jsxs("p",{className:"mt-1",children:["Best available: ",P.ttsMetadata.maxCumulativeByTarget?.[P.ttsMetadata.requestedTarget??parseInt(N)??0]?.toFixed(2)||"0","% chance for TTS  ",P.ttsMetadata.requestedTarget??N]}),n.jsxs("p",{className:"mt-1 text-muted-foreground",children:["Max expected TTS across all pairs: ",Math.round(P.ttsMetadata.maxExpectedTTS||0)]}),n.jsx("p",{className:"mt-2 text-muted-foreground italic",children:"Try lowering Target TTS to 1-2 or reducing Min % Chance"})]})]}):n.jsx("div",{className:"space-y-4",children:Ie.map((F,Te)=>n.jsx(G,{className:"bg-muted/30",children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(q,{variant:"secondary",children:["#",Te+1]}),n.jsx(q,{variant:"outline",children:F.realm==="cv"?"Crystalvale":"Sundered Isles"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[P.userHero?n.jsxs("div",{className:"space-y-1 opacity-60",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:[n.jsx(Uh,{className:"h-3 w-3"})," Your Hero",n.jsx(q,{variant:"outline",className:"text-[10px] px-1 py-0",children:F.hero1.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:le(F.hero1.rarity),children:[Ne(F.hero1.rarity)," ",F.hero1.mainClass]}),n.jsx("div",{className:"text-muted-foreground text-xs",children:"(Already owned)"})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:["Hero 1 (",F.hero1.id,")",n.jsx(q,{variant:"outline",className:"text-[10px] px-1 py-0",children:F.hero1.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:le(F.hero1.rarity),children:[Ne(F.hero1.rarity)," ",F.hero1.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv",F.hero1.level," Gen",F.hero1.generation," | ",F.hero1.summonsRemaining," summons"]}),n.jsxs("div",{className:"text-muted-foreground",children:[F.hero1.price.toFixed(2)," ",F.hero1.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${F.hero1.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(nr,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:[P.userHero?`Tavern Match (${F.hero2.id})`:`Hero 2 (${F.hero2.id})`,n.jsx(q,{variant:"outline",className:"text-[10px] px-1 py-0",children:F.hero2.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:le(F.hero2.rarity),children:[Ne(F.hero2.rarity)," ",F.hero2.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv",F.hero2.level," Gen",F.hero2.generation," | ",F.hero2.summonsRemaining," summons"]}),n.jsxs("div",{className:"text-muted-foreground",children:[F.hero2.price.toFixed(2)," ",F.hero2.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${F.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(nr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[F.targetProbability.toFixed(1),"% chance"]}),n.jsxs("div",{className:"text-sm font-medium",children:["Total: $",F.totalCostUsd?.toFixed(2)||"0.00"," USD"]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["(",F.totalCost.toFixed(2)," ",F.hero1.token,")"]}),F.costs&&n.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[n.jsxs("div",{children:["Purchase: ",F.costs.purchaseCost.toFixed(2)," ",F.hero1.token]}),n.jsxs("div",{children:["Summon: ",F.costs.summonTokenCost," ",F.hero1.token]}),n.jsxs("div",{children:["Tears: ",F.costs.tearCount," (",F.costs.tearCost.toFixed(2)," ",F.hero1.token,")"]}),F.costs.heroesNeedingBridge>0&&n.jsxs("div",{className:"text-yellow-500",children:["Bridge: $",F.costs.bridgeCostUsd.toFixed(2)," (",F.costs.heroesNeedingBridge," hero",F.costs.heroesNeedingBridge>1?"es":"",")"]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-1",children:["Efficiency: ",F.efficiency.toFixed(4)," %/$"]})]})]}),F.probabilities&&n.jsx("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-xs",children:F.probabilities.class&&Object.entries(F.probabilities.class).slice(0,3).map(([ae,Oe])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[ae,":"]}),n.jsxs("span",{children:[Oe,"%"]})]},ae))}),F.tts&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Offspring TTS Probability"}),n.jsxs(q,{variant:"secondary",className:"text-xs",children:["Expected: ",Math.round(F.tts.expected||0)]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1 text-xs",children:Object.entries(F.tts.distribution||{}).filter(([ae,Oe])=>Oe>.5).sort((ae,Oe)=>parseInt(Oe[0])-parseInt(ae[0])).slice(0,8).map(([ae,Oe])=>n.jsxs("div",{className:"flex justify-between bg-muted/50 rounded px-2 py-1",children:[n.jsxs("span",{className:"text-muted-foreground",children:["TTS ",ae,":"]}),n.jsxs("span",{className:parseInt(ae)>=4?"text-green-400":"",children:[Oe.toFixed(1),"%"]})]},ae))}),F.tts.cumulative&&n.jsxs("div",{className:"flex gap-3 mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["TTS2: ",n.jsxs("span",{className:"text-foreground",children:[F.tts.cumulative[2]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS4: ",n.jsxs("span",{className:"text-green-400",children:[F.tts.cumulative[4]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS6: ",n.jsxs("span",{className:"text-yellow-400",children:[F.tts.cumulative[6]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS8: ",n.jsxs("span",{className:"text-orange-400",children:[F.tts.cumulative[8]?.toFixed(1)??"0","%"]})]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t",children:n.jsxs("a",{href:`/admin/summoning-calculator?hero1=${F.hero1.id}&hero2=${F.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-400 hover:underline","data-testid":`link-calculator-${Te}`,children:["View Full Summon Chances ",n.jsx(nr,{className:"h-3 w-3"})]})})]})},Te))})})]})]})}function S0e(){const[e,t]=p.useState(null),r=["Archer","Berserker","Knight","Priest","Seer","Warrior","Wizard","Pirate"],a=Ee({mutationFn:async()=>(await De("POST","/api/admin/sniper/search",{targetClasses:r,targetProfessions:[],targetActiveSkills:[],targetPassiveSkills:[],realms:["cv","sd"],minRarity:0,minSummonsRemaining:1,minLevel:1,summonType:"regular",searchMode:"tavern",bridgeFeeUsd:.5,sortBy:"skillScore",limit:100})).json(),onSuccess:d=>{d.ok&&t(d)}});p.useEffect(()=>{a.mutate()},[]);const s=p.useMemo(()=>e?.pairs?[...e.pairs].sort((d,f)=>{const m=(d.tts?.expected||0)/(d.totalCostUsd||1);return(f.tts?.expected||0)/(f.totalCostUsd||1)-m}):[],[e?.pairs]),l=d=>["Common","Uncommon","Rare","Legendary","Mythic"][d]||"Unknown",c=d=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][d]||"text-gray-400";return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Wn,{className:"h-8 w-8 text-amber-500"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summoning Bargain Hunter"}),n.jsx("p",{className:"text-muted-foreground",children:"Best TTS-to-cost ratio pairs for regular summoning"})]})]}),n.jsxs(ne,{onClick:()=>a.mutate(),disabled:a.isPending,variant:"outline","data-testid":"button-refresh",children:[a.isPending?n.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),a.isPending&&!e&&n.jsx(G,{children:n.jsxs(Y,{className:"flex items-center justify-center py-12",children:[n.jsx(Pe,{className:"h-8 w-8 animate-spin mr-3"}),n.jsx("span",{children:"Finding best bargains..."})]})}),e&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Scored ",e.totalPairsScored?.toLocaleString()," pairs"]}),n.jsxs("span",{children:["from ",e.totalHeroes?.toLocaleString()," heroes"]})]}),n.jsx("div",{className:"grid gap-4",children:s.map((d,f)=>{const m=(d.tts?.expected||0)/(d.totalCostUsd||1);return n.jsxs(G,{className:"overflow-hidden","data-testid":`card-pair-${f}`,children:[n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(q,{variant:"outline",className:"bg-amber-500/10 text-amber-600 border-amber-500/30",children:["#",f+1]}),n.jsxs("span",{className:"font-semibold",children:["TTS Efficiency: ",m.toFixed(4)]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(q,{variant:"secondary",children:["Expected TTS: ",Math.round(d.tts?.expected||0)]}),n.jsxs(q,{variant:"outline",className:"text-green-600",children:["$",d.totalCostUsd?.toFixed(2)]})]})]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[d.hero1,d.hero2].map((h,g)=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/hero/${h.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-sm hover:underline flex items-center gap-1","data-testid":`link-hero-${h.id}`,children:["#",h.normalizedId,n.jsx(nr,{className:"h-3 w-3"})]}),n.jsx(q,{variant:"outline",className:c(h.rarity),children:l(h.rarity)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"})," ",n.jsx("span",{className:"font-medium",children:h.mainClass})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prof:"})," ",n.jsx("span",{className:"font-medium",children:h.profession})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",n.jsx("span",{className:"font-medium",children:h.level})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen:"})," ",n.jsx("span",{className:"font-medium",children:h.generation})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Summons:"})," ",n.jsx("span",{className:"font-medium",children:h.summonsRemaining})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",n.jsxs("span",{className:"font-medium",children:[h.price," ",h.token]})]})]})]},g))}),d.tts&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("div",{className:"text-sm font-medium mb-2",children:"TTS Probability Distribution"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(d.tts.cumulative||{}).sort(([h],[g])=>parseInt(g)-parseInt(h)).slice(0,6).map(([h,g])=>n.jsxs(q,{variant:"outline",className:"text-xs",children:["TTS",h,": ",(g*100).toFixed(1),"%"]},h))})]})]})]},f)})}),s.length===0&&n.jsx(G,{children:n.jsx(Y,{className:"text-center py-12 text-muted-foreground",children:"No pairs found. Try refreshing or check if the tavern indexer has data."})})]})]})}function C0e(){const[e,t]=p.useState(null),r=["Archer","Berserker","Knight","Priest","Seer","Warrior","Wizard","Pirate"],a=Ee({mutationFn:async()=>(await De("POST","/api/admin/sniper/search",{targetClasses:r,targetProfessions:[],targetActiveSkills:[],targetPassiveSkills:[],realms:["cv","sd"],minRarity:0,minSummonsRemaining:0,minLevel:1,summonType:"dark",searchMode:"tavern",bridgeFeeUsd:.5,sortBy:"skillScore",limit:100})).json(),onSuccess:d=>{d.ok&&t(d)}});p.useEffect(()=>{a.mutate()},[]);const s=p.useMemo(()=>e?.pairs?[...e.pairs].sort((d,f)=>{const m=(d.tts?.expected||0)/(d.totalCostUsd||1);return(f.tts?.expected||0)/(f.totalCostUsd||1)-m}):[],[e?.pairs]),l=d=>["Common","Uncommon","Rare","Legendary","Mythic"][d]||"Unknown",c=d=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][d]||"text-gray-400";return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(uo,{className:"h-8 w-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dark Summoning Bargain Hunter"}),n.jsx("p",{className:"text-muted-foreground",children:"Best TTS-to-cost ratio pairs for dark summoning (1/4 token cost, burns both heroes)"})]})]}),n.jsxs(ne,{onClick:()=>a.mutate(),disabled:a.isPending,variant:"outline","data-testid":"button-refresh",children:[a.isPending?n.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),a.isPending&&!e&&n.jsx(G,{children:n.jsxs(Y,{className:"flex items-center justify-center py-12",children:[n.jsx(Pe,{className:"h-8 w-8 animate-spin mr-3"}),n.jsx("span",{children:"Finding best dark summoning bargains..."})]})}),e&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Scored ",e.totalPairsScored?.toLocaleString()," pairs"]}),n.jsxs("span",{children:["from ",e.totalHeroes?.toLocaleString()," heroes"]}),n.jsx(q,{variant:"outline",className:"bg-purple-500/10 text-purple-600 border-purple-500/30",children:"Dark Summon Mode"})]}),n.jsx("div",{className:"grid gap-4",children:s.map((d,f)=>{const m=(d.tts?.expected||0)/(d.totalCostUsd||1);return n.jsxs(G,{className:"overflow-hidden","data-testid":`card-pair-${f}`,children:[n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(q,{variant:"outline",className:"bg-purple-500/10 text-purple-600 border-purple-500/30",children:["#",f+1]}),n.jsxs("span",{className:"font-semibold",children:["TTS Efficiency: ",m.toFixed(4)]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(q,{variant:"secondary",children:["Expected TTS: ",Math.round(d.tts?.expected||0)]}),n.jsxs(q,{variant:"outline",className:"text-green-600",children:["$",d.totalCostUsd?.toFixed(2)]})]})]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[d.hero1,d.hero2].map((h,g)=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/hero/${h.id}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-sm hover:underline flex items-center gap-1","data-testid":`link-hero-${h.id}`,children:["#",h.normalizedId,n.jsx(nr,{className:"h-3 w-3"})]}),n.jsx(q,{variant:"outline",className:c(h.rarity),children:l(h.rarity)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"})," ",n.jsx("span",{className:"font-medium",children:h.mainClass})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prof:"})," ",n.jsx("span",{className:"font-medium",children:h.profession})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",n.jsx("span",{className:"font-medium",children:h.level})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen:"})," ",n.jsx("span",{className:"font-medium",children:h.generation})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Summons:"})," ",n.jsx("span",{className:"font-medium",children:h.summonsRemaining})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",n.jsxs("span",{className:"font-medium",children:[h.price," ",h.token]})]})]})]},g))}),d.tts&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("div",{className:"text-sm font-medium mb-2",children:"TTS Probability Distribution"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(d.tts.cumulative||{}).sort(([h],[g])=>parseInt(g)-parseInt(h)).slice(0,6).map(([h,g])=>n.jsxs(q,{variant:"outline",className:"text-xs",children:["TTS",h,": ",(g*100).toFixed(1),"%"]},h))})]})]})]},f)})}),s.length===0&&n.jsx(G,{children:n.jsx(Y,{className:"text-center py-12 text-muted-foreground",children:"No pairs found. Try refreshing or check if the tavern indexer has data."})})]})]})}const E0e={cv:"Crystalvale",sd:"Sundered Isles"};function sb(e){if(!e)return"Never";const t=new Date(e),a=new Date().getTime()-t.getTime(),s=Math.floor(a/6e4),l=Math.floor(s/60),c=Math.floor(l/24);return s<1?"Just now":s<60?`${s}m ago`:l<24?`${l}h ${s%60}m ago`:`${c}d ${l%24}h ago`}function A0e(e){const t=Math.floor(e/1e3),r=Math.floor(t/60),a=Math.floor(r/60);return a>0?`${a}h ${r%60}m`:r>0?`${r}m ${t%60}s`:`${t}s`}function P0e(e){if(!e)return"--";const t=new Date(e),r=new Date,a=t.getTime()-r.getTime();return a<=0?"Soon":A0e(a)}function T0e(){const{toast:e}=Zt(),[t,r]=p.useState("--"),{data:a,isLoading:s,refetch:l}=_e({queryKey:["/api/admin/tavern-indexer/status"],refetchInterval:3e3}),{data:c,refetch:d}=_e({queryKey:["/api/admin/tavern-indexer/genes-status"],refetchInterval:5e3});p.useEffect(()=>{const T=setInterval(()=>{a?.status?.nextRunAt&&r(P0e(a.status.nextRunAt))},1e3);return()=>clearInterval(T)},[a?.status?.nextRunAt]);const f=Ee({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/trigger",{}),onSuccess:()=>{e({title:"Indexing started",description:"Tavern indexer is now running"}),l()},onError:T=>{e({title:"Error",description:T.message,variant:"destructive"})}}),m=Ee({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"Tavern index has been cleared"}),l()},onError:T=>{e({title:"Error",description:T.message,variant:"destructive"})}}),h=Ee({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/start",{intervalMs:1800*1e3}),onSuccess:()=>{e({title:"Auto-run started",description:"Indexer will run every 30 minutes"}),l()},onError:T=>{e({title:"Error",description:T.message,variant:"destructive"})}}),g=Ee({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/stop",{}),onSuccess:()=>{e({title:"Auto-run stopped",description:"Automatic indexing disabled"}),l()},onError:T=>{e({title:"Error",description:T.message,variant:"destructive"})}}),v=Ee({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/backfill-genes",{maxHeroes:500}),onSuccess:()=>{e({title:"Gene backfill started",description:"Fetching gene data from GraphQL"}),d()},onError:T=>{e({title:"Error",description:T.message,variant:"destructive"})}}),y=Ee({mutationFn:async()=>De("POST","/api/admin/tavern-indexer/force-stop",{}),onSuccess:()=>{e({title:"Force stopped",description:"Indexer state has been reset"}),l()},onError:T=>{e({title:"Error",description:T.message,variant:"destructive"})}}),w=a?.status,j=a?.progress||[],N=a?.stats||[],C=c?.status,E=c?.stats,A=N.reduce((T,_)=>T+Number(_.total_heroes||0),0),P=E?.complete||0,k=E?.percentage||0;return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Pe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{className:"space-y-6 p-6","data-testid":"tavern-indexer-admin",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Tavern Indexer"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and control the marketplace hero indexer"})]}),n.jsx(ne,{variant:"outline",size:"icon",onClick:()=>l(),"data-testid":"button-refresh",children:n.jsx(Xe,{className:"h-4 w-4"})})]}),n.jsxs(G,{"data-testid":"card-worker-status",children:[n.jsx(re,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[w?.isRunning?n.jsx(Pe,{className:"h-5 w-5 animate-spin text-yellow-500"}):w?.autoRunActive?n.jsx(Tr,{className:"h-5 w-5 text-green-500"}):n.jsx(rr,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(ie,{children:"Worker Status"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(q,{variant:w?.isRunning?"default":"secondary","data-testid":"badge-worker-status",children:w?.isRunning?"Running":"Idle"}),n.jsx(q,{variant:w?.autoRunActive?"default":"outline","data-testid":"badge-autorun-status",children:w?.autoRunActive?"Auto-Run ON":"Auto-Run OFF"})]})]})}),n.jsxs(Y,{className:"space-y-4",children:[w?.isRunning&&w.workers&&w.workers.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.numWorkers||10," workers processing heroes..."]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("span",{className:"text-blue-500","data-testid":"text-cv-progress",children:["CV: ",(w.cvHeroesIndexed||0).toLocaleString()]}),n.jsxs("span",{className:"text-purple-500","data-testid":"text-sd-progress",children:["SD: ",(w.sdHeroesIndexed||0).toLocaleString()]}),n.jsxs("span",{className:"font-semibold","data-testid":"text-total-progress",children:["Total: ",(w.totalHeroesIndexed||0).toLocaleString()]})]})]}),w.workers.map((T,_)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("span",{children:["Worker ",T.id+1]}),n.jsxs("span",{className:"text-muted-foreground",children:[T.heroesProcessed||0," heroes  ",T.status]})]}),n.jsx(Ut,{value:T.status==="done"?100:T.status==="working"?50:0,className:"h-1.5"})]},_))]}),!w?.isRunning&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(Sa,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-total-heroes",children:A.toLocaleString()}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Heroes"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(wu,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-complete-genes",children:P.toLocaleString()}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Complete Genes (",k.toFixed(0),"%)"]})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(co,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-last-run",children:j.length>0?sb(j.reduce((T,_)=>_.last_success_at?T?new Date(_.last_success_at)>new Date(T)?_.last_success_at:T:_.last_success_at:T,null)):"Never"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Last Indexed"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(oM,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-next-run",children:w?.autoRunActive&&w?.nextRunAt?t:"--"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Next Run"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap pt-2",children:[n.jsxs(ne,{onClick:()=>f.mutate(),disabled:w?.isRunning||f.isPending,"data-testid":"button-trigger-index",children:[f.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Run Now"]}),w?.autoRunActive?n.jsxs(ne,{variant:"outline",onClick:()=>g.mutate(),disabled:g.isPending,"data-testid":"button-stop-autorun",children:[n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Stop Auto-Run"]}):n.jsxs(ne,{variant:"outline",onClick:()=>h.mutate(),disabled:h.isPending,"data-testid":"button-start-autorun",children:[n.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Start Auto-Run (30m)"]}),n.jsxs(ne,{variant:"secondary",onClick:()=>y.mutate(),disabled:y.isPending,"data-testid":"button-force-stop",children:[y.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(pr,{className:"h-4 w-4 mr-2"}),"Force Stop"]}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsxs(ne,{variant:"destructive",disabled:w?.isRunning,"data-testid":"button-reset",children:[n.jsx(wc,{className:"h-4 w-4 mr-2"}),"Reset"]})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsx(zc,{children:"Reset Tavern Index?"}),n.jsx(Bc,{children:"This will delete all indexed heroes and reset progress. You will need to re-index all heroes."})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsx(Uc,{onClick:()=>m.mutate(),children:"Reset"})]})]})]})]})]})]}),n.jsxs(G,{"data-testid":"card-chain-status",children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Per-Chain Status"}),n.jsx(Se,{children:"Last indexed time and hero count for each marketplace"})]}),n.jsx(Y,{children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Realm"}),n.jsx(H,{children:"Heroes"}),n.jsx(H,{children:"Status"}),n.jsx(H,{children:"Last Success"}),n.jsx(H,{children:"Last Run"})]})}),n.jsx(pt,{children:j.length===0?n.jsx(Ae,{children:n.jsx(U,{colSpan:5,className:"text-center text-muted-foreground",children:"No indexing data yet. Run the indexer to populate."})}):j.map(T=>{const _=N.find(L=>L.realm===T.realm);return n.jsxs(Ae,{"data-testid":`row-chain-${T.realm}`,children:[n.jsx(U,{className:"font-medium",children:E0e[T.realm]||T.realm}),n.jsx(U,{children:_?.total_heroes?.toLocaleString()||T.heroes_indexed||0}),n.jsx(U,{children:n.jsx(q,{variant:T.status==="complete"?"default":T.status==="running"?"secondary":"outline",children:T.status})}),n.jsx(U,{className:"text-muted-foreground",children:sb(T.last_success_at)}),n.jsx(U,{className:"text-muted-foreground",children:sb(T.last_run_at)})]},T.realm)})})]})})]}),n.jsxs(G,{"data-testid":"card-gene-backfill",children:[n.jsxs(re,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wu,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(ie,{children:"Gene Data Status"})]}),n.jsx(q,{variant:C?.isRunning?"default":"secondary",children:C?.isRunning?"Backfilling...":"Idle"})]}),n.jsx(Se,{children:"Recessive gene data fetched from GraphQL for breeding calculations"})]}),n.jsxs(Y,{className:"space-y-4",children:[E&&E.total!==void 0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Complete gene data"}),n.jsxs("span",{className:"text-muted-foreground",children:[(E.complete||0).toLocaleString()," / ",(E.total||0).toLocaleString()," (",(E.percentage||0).toFixed(1),"%)"]})]}),n.jsx(Ut,{value:E.percentage||0,className:"h-2"})]}),C?.isRunning&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Pe,{className:"h-4 w-4 animate-spin"}),n.jsxs("span",{children:["Processed ",C.processed," heroes..."]}),C.errors>0&&n.jsxs(q,{variant:"destructive",className:"text-xs",children:[C.errors," errors"]})]}),n.jsxs(ne,{variant:"outline",onClick:()=>v.mutate(),disabled:C?.isRunning||v.isPending,"data-testid":"button-backfill-genes",children:[v.isPending?n.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(wu,{className:"h-4 w-4 mr-2"}),"Backfill Missing Genes"]})]})]}),w?.errors&&w.errors.length>0&&n.jsxs(G,{"data-testid":"card-errors",children:[n.jsx(re,{children:n.jsx(ie,{className:"text-destructive",children:"Recent Errors"})}),n.jsx(Y,{children:n.jsx("ul",{className:"space-y-2 text-sm",children:w.errors.map((T,_)=>n.jsx("li",{className:"p-2 bg-destructive/10 rounded text-destructive",children:T},_))})})]})]})}const O0e={0:"Common",1:"Uncommon",2:"Rare",3:"Legendary",4:"Mythic"},XR={0:"bg-gray-500",1:"bg-green-500",2:"bg-blue-500",3:"bg-orange-500",4:"bg-purple-500"};function k0e(){const{toast:e}=Zt(),[t,r]=p.useState("all"),a=_e({queryKey:["/api/admin/market-intel/status"],refetchInterval:1e4}),s=_e({queryKey:["/api/admin/market-intel/recent-sales",t],queryFn:async()=>{const E=t==="all"?"/api/admin/market-intel/recent-sales?limit=50":`/api/admin/market-intel/recent-sales?limit=50&realm=${t}`;return(await fetch(E,{credentials:"include"})).json()}}),l=_e({queryKey:["/api/admin/market-intel/demand-metrics",t],queryFn:async()=>{const E=t==="all"?"/api/admin/market-intel/demand-metrics":`/api/admin/market-intel/demand-metrics?realm=${t}`;return(await fetch(E,{credentials:"include"})).json()}}),c=()=>{Re.invalidateQueries({queryKey:["/api/admin/market-intel/status"]}),Re.invalidateQueries({queryKey:["/api/admin/market-intel/recent-sales"]}),Re.invalidateQueries({queryKey:["/api/admin/market-intel/demand-metrics"]})},d=Ee({mutationFn:()=>De("POST","/api/admin/market-intel/snapshot"),onSuccess:()=>{e({title:"Snapshot taken",description:"Listing snapshot saved"}),c()},onError:E=>{e({title:"Snapshot failed",description:E.message,variant:"destructive"})}}),f=Ee({mutationFn:async()=>(await De("POST","/api/admin/market-intel/reconcile")).json(),onSuccess:E=>{e({title:"Reconciliation complete",description:`Detected ${E.salesDetected||0} sales, ${E.delistingsDetected||0} delistings`}),c()},onError:E=>{e({title:"Reconciliation failed",description:E.message,variant:"destructive"})}}),m=Ee({mutationFn:()=>De("POST","/api/admin/market-intel/full-cycle"),onSuccess:()=>{e({title:"Full cycle complete",description:"Snapshot and reconciliation finished"}),c()},onError:E=>{e({title:"Full cycle failed",description:E.message,variant:"destructive"})}}),h=Ee({mutationFn:()=>De("POST","/api/admin/market-intel/start-auto"),onSuccess:()=>{e({title:"Auto ingestion started",description:"Running every hour"}),c()},onError:E=>{e({title:"Failed to start",description:E.message,variant:"destructive"})}}),g=Ee({mutationFn:()=>De("POST","/api/admin/market-intel/stop-auto"),onSuccess:()=>{e({title:"Auto ingestion stopped"}),c()},onError:E=>{e({title:"Failed to stop",description:E.message,variant:"destructive"})}}),v=a.data?.status,y=a.data?.stats||[],w=s.data?.sales||[],j=l.data?.metrics||[],N=E=>{if(!E)return"-";const A=parseFloat(E);return A>=1e3?`${(A/1e3).toFixed(1)}k`:A.toFixed(2)},C=E=>E?new Date(E).toLocaleString():"Never";return n.jsxs("div",{className:"space-y-6","data-testid":"page-market-intel",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Market Intel"}),n.jsx("p",{className:"text-muted-foreground",children:"Track hero sales trends and demand patterns"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(it,{value:t,onValueChange:r,children:[n.jsx(tt,{className:"w-[140px]","data-testid":"select-realm",children:n.jsx(lt,{placeholder:"All Realms"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"all",children:"All Realms"}),n.jsx(ve,{value:"cv",children:"Crystalvale"}),n.jsx(ve,{value:"sd",children:"Sundered Isles"})]})]}),n.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":"button-snapshot",children:[d.isPending?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):n.jsx(jc,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Snapshot"})]}),n.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-reconcile",children:[f.isPending?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):n.jsx(Xe,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Reconcile"})]}),n.jsxs(ne,{size:"sm",onClick:()=>m.mutate(),disabled:m.isPending,"data-testid":"button-full-cycle",children:[m.isPending?n.jsx(Pe,{className:"h-4 w-4 animate-spin"}):n.jsx(vn,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Full Cycle"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Ingestion Status"}),n.jsx(jc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{variant:v?.autoRunActive?"default":"secondary","data-testid":"badge-ingestion-status",children:v?.autoRunActive?"Auto Running":"Stopped"}),v?.autoRunActive?n.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>g.mutate(),children:"Stop"}):n.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>h.mutate(),children:"Start Auto"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Last snapshot: ",C(v?.lastSnapshotAt||null)]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Sales Detected"}),n.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sales-detected",children:v?.salesDetected||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Delistings: ",v?.delistingsDetected||0]})]})]}),y.map(E=>n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:E.realm==="cv"?"Crystalvale":"Sundered Isles"}),n.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[E.total_sales," sales"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",N(E.avg_price)," ",E.realm==="cv"?"CRYSTAL":"JEWEL"]})]})]},E.realm))]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(co,{className:"h-5 w-5"}),"Recent Sales"]}),n.jsx(Se,{children:"Latest hero sales detected"})]}),n.jsx(Y,{children:s.isLoading?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Pe,{className:"h-6 w-6 animate-spin"})}):w.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sales detected yet"}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Hero"}),n.jsx(H,{children:"Class"}),n.jsx(H,{children:"Price"}),n.jsx(H,{children:"When"})]})}),n.jsx(pt,{children:w.slice(0,10).map(E=>n.jsxs(Ae,{"data-testid":`row-sale-${E.id}`,children:[n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{variant:"outline",className:"text-xs",children:E.realm.toUpperCase()}),n.jsx("span",{className:"font-mono text-xs",children:E.hero_id})]})}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[E.rarity!==void 0&&n.jsx("span",{className:`w-2 h-2 rounded-full ${XR[E.rarity]}`}),n.jsx("span",{children:E.main_class||"-"})]})}),n.jsxs(U,{children:[N(E.price_amount)," ",E.token_symbol]}),n.jsx(U,{className:"text-xs text-muted-foreground",children:new Date(E.sale_timestamp).toLocaleTimeString()})]},E.id))})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(yb,{className:"h-5 w-5"}),"Demand Heatmap"]}),n.jsx(Se,{children:"Class demand scores by sales velocity"})]}),n.jsx(Y,{children:l.isLoading?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Pe,{className:"h-6 w-6 animate-spin"})}):j.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No demand data yet"}):n.jsx("div",{className:"space-y-2",children:j.slice(0,10).map(E=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50","data-testid":`row-demand-${E.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{variant:"outline",className:"text-xs",children:E.realm.toUpperCase()}),n.jsx("span",{className:"font-medium",children:E.main_class}),E.rarity!==void 0&&E.rarity!==null&&n.jsx(q,{className:`${XR[E.rarity]} text-xs`,children:O0e[E.rarity]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm font-medium",children:[E.sales_count_7d," / 7d"]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[E.sales_count_30d," / 30d"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-bold",children:E.demand_score})]})]})]},E.id))})})]})]})]})}const _0e={pending:"bg-yellow-500",summoned:"bg-blue-500",listed:"bg-purple-500",sold:"bg-green-500",failed:"bg-red-500"},R0e={pending:Hs,summoned:Rr,listed:Ea,sold:Tr,failed:Vi};function M0e(){const{toast:e}=Zt(),[t,r]=p.useState("all"),[a,s]=p.useState(!1),[l,c]=p.useState({realm:"cv",walletAddress:"",parent1HeroId:"",parent2HeroId:"",parent1CostNative:"",parent2CostNative:"",summonFeeNative:"",enhancementStonesUsed:0,enhancementStoneCostNative:"",nativeToken:"CRYSTAL"}),d=_e({queryKey:["/api/admin/profit-tracker/sessions"],refetchInterval:3e4}),f=_e({queryKey:["/api/admin/profit-tracker/conversion-metrics",t],queryFn:async()=>{const P=t==="all"?"/api/admin/profit-tracker/conversion-metrics":`/api/admin/profit-tracker/conversion-metrics?realm=${t}`;return(await fetch(P,{credentials:"include"})).json()}}),m=_e({queryKey:["/api/admin/profit-tracker/roi-summary"]}),h=()=>{Re.invalidateQueries({queryKey:["/api/admin/profit-tracker/sessions"]}),Re.invalidateQueries({queryKey:["/api/admin/profit-tracker/conversion-metrics"]}),Re.invalidateQueries({queryKey:["/api/admin/profit-tracker/roi-summary"]})},g=Ee({mutationFn:async()=>(await De("POST","/api/admin/profit-tracker/sessions",l)).json(),onSuccess:()=>{e({title:"Session created",description:"Summon session added to tracker"}),s(!1),c({realm:"cv",walletAddress:"",parent1HeroId:"",parent2HeroId:"",parent1CostNative:"",parent2CostNative:"",summonFeeNative:"",enhancementStonesUsed:0,enhancementStoneCostNative:"",nativeToken:"CRYSTAL"}),h()},onError:P=>{e({title:"Failed to create session",description:P.message,variant:"destructive"})}}),v=d.data?.sessions||[],y=f.data?.metrics||[],w=m.data?.summary,j=P=>{if(!P)return"-";const k=parseFloat(P);return isNaN(k)?"-":k>=1e3?`${(k/1e3).toFixed(1)}k`:k.toFixed(2)},N=P=>{if(!P)return"-";const k=parseFloat(P);return isNaN(k)?"-":`${(k*100).toFixed(1)}%`},C=parseFloat(w?.total_invested||"0"),E=parseFloat(w?.total_profit||"0"),A=C>0?(E/C*100).toFixed(1):"0";return n.jsxs("div",{className:"space-y-6","data-testid":"page-profit-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Summon Profit Tracker"}),n.jsx("p",{className:"text-muted-foreground",children:"Track summoning costs, outcomes, and ROI"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(it,{value:t,onValueChange:r,children:[n.jsx(tt,{className:"w-[140px]","data-testid":"select-realm",children:n.jsx(lt,{placeholder:"All Realms"})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"all",children:"All Realms"}),n.jsx(ve,{value:"cv",children:"Crystalvale"}),n.jsx(ve,{value:"sd",children:"Sundered Isles"})]})]}),n.jsxs(Ys,{open:a,onOpenChange:s,children:[n.jsx(CF,{asChild:!0,children:n.jsxs(ne,{"data-testid":"button-new-session",children:[n.jsx(Xi,{className:"h-4 w-4 mr-2"}),"New Session"]})}),n.jsxs(as,{children:[n.jsxs(ss,{children:[n.jsx(is,{children:"Create Summon Session"}),n.jsx(ls,{children:"Track a new summoning attempt"})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Realm"}),n.jsxs(it,{value:l.realm,onValueChange:P=>c(k=>({...k,realm:P,nativeToken:P==="cv"?"CRYSTAL":"JEWEL"})),children:[n.jsx(tt,{"data-testid":"input-realm",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"cv",children:"Crystalvale"}),n.jsx(ve,{value:"sd",children:"Sundered Isles"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Token"}),n.jsx(We,{value:l.nativeToken,disabled:!0,"data-testid":"input-token"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Wallet Address"}),n.jsx(We,{placeholder:"0x...",value:l.walletAddress,onChange:P=>c(k=>({...k,walletAddress:P.target.value})),"data-testid":"input-wallet"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Parent 1 Hero ID"}),n.jsx(We,{placeholder:"Hero ID",value:l.parent1HeroId,onChange:P=>c(k=>({...k,parent1HeroId:P.target.value})),"data-testid":"input-parent1"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Parent 2 Hero ID"}),n.jsx(We,{placeholder:"Hero ID",value:l.parent2HeroId,onChange:P=>c(k=>({...k,parent2HeroId:P.target.value})),"data-testid":"input-parent2"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Parent 1 Cost"}),n.jsx(We,{type:"number",placeholder:"0",value:l.parent1CostNative,onChange:P=>c(k=>({...k,parent1CostNative:P.target.value})),"data-testid":"input-parent1-cost"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Parent 2 Cost"}),n.jsx(We,{type:"number",placeholder:"0",value:l.parent2CostNative,onChange:P=>c(k=>({...k,parent2CostNative:P.target.value})),"data-testid":"input-parent2-cost"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Summon Fee"}),n.jsx(We,{type:"number",placeholder:"0",value:l.summonFeeNative,onChange:P=>c(k=>({...k,summonFeeNative:P.target.value})),"data-testid":"input-summon-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Enhancement Stones"}),n.jsx(We,{type:"number",placeholder:"0",value:l.enhancementStonesUsed,onChange:P=>c(k=>({...k,enhancementStonesUsed:parseInt(P.target.value)||0})),"data-testid":"input-stones"})]})]})]}),n.jsxs(ll,{children:[n.jsx(ne,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(ne,{onClick:()=>g.mutate(),disabled:g.isPending||!l.walletAddress||!l.parent1HeroId||!l.parent2HeroId,"data-testid":"button-create-session",children:[g.isPending&&n.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}),"Create Session"]})]})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Sessions"}),n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:w?.total_sessions||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sold: ",w?.sold_count||0]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Invested"}),n.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-invested",children:j(w?.total_invested)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Revenue: ",j(w?.total_revenue)]})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Profit"}),E>=0?n.jsx(On,{className:"h-4 w-4 text-green-500"}):n.jsx(Sc,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:`text-2xl font-bold ${E>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-total-profit",children:[E>=0?"+":"",j(w?.total_profit)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Net profit/loss"})]})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"ROI"}),n.jsx(nw,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:`text-2xl font-bold ${parseFloat(A)>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-roi",children:[parseFloat(A)>=0?"+":"",A,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Return on investment"})]})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Recent Sessions"}),n.jsx(Se,{children:"Your tracked summoning attempts"})]}),n.jsx(Y,{children:d.isLoading?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Pe,{className:"h-6 w-6 animate-spin"})}):v.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sessions yet. Create one to start tracking."}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Status"}),n.jsx(H,{children:"Parents"}),n.jsx(H,{children:"Cost"}),n.jsx(H,{children:"When"})]})}),n.jsx(pt,{children:v.slice(0,10).map(P=>{const k=R0e[P.status]||Hs;return n.jsxs(Ae,{"data-testid":`row-session-${P.id}`,children:[n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k,{className:`h-4 w-4 ${P.status==="sold"?"text-green-500":P.status==="failed"?"text-red-500":"text-muted-foreground"}`}),n.jsx(q,{className:_0e[P.status],children:P.status})]})}),n.jsx(U,{children:n.jsxs("div",{className:"text-xs font-mono",children:[n.jsxs("div",{children:[P.parent1_hero_id.substring(0,8),"..."]}),n.jsxs("div",{children:[P.parent2_hero_id.substring(0,8),"..."]})]})}),n.jsxs(U,{children:[j(P.total_cost_native)," ",P.native_token]}),n.jsx(U,{className:"text-xs text-muted-foreground",children:new Date(P.created_at).toLocaleDateString()})]},P.id)})})]})})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Conversion Metrics"}),n.jsx(Se,{children:"Historical conversion rates by class"})]}),n.jsx(Y,{children:f.isLoading?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Pe,{className:"h-6 w-6 animate-spin"})}):y.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No conversion data yet. More sales data needed."}):n.jsx("div",{className:"space-y-2",children:y.slice(0,10).map(P=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50","data-testid":`row-conversion-${P.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{variant:"outline",className:"text-xs",children:P.realm.toUpperCase()}),n.jsx("span",{className:"font-medium",children:P.main_class}),n.jsx(q,{variant:P.confidence_level==="high"?"default":"secondary",className:"text-xs",children:P.confidence_level})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-medium",children:N(P.conversion_rate)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[P.sample_size," samples"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-sm font-medium ${parseFloat(P.risk_adjusted_profit_native||"0")>=0?"text-green-600":"text-red-600"}`,children:j(P.risk_adjusted_profit_native)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"risk-adj profit"})]})]})]},P.id))})})]})]})]})}function ur(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function ib(e){const t=typeof e=="string"?parseInt(e):e;return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toLocaleString()}function D0e({nextRunAt:e}){const[t,r]=p.useState(e-Date.now());if(p.useEffect(()=>{const d=setInterval(()=>{const f=e-Date.now();r(f)},1e3);return()=>clearInterval(d)},[e]),t<=0)return n.jsx("span",{className:"text-blue-400 font-mono text-sm",children:"Running now..."});const a=Math.floor(t/1e3)%60,s=Math.floor(t/6e4)%60,l=Math.floor(t/36e5),c=[];return l>0&&c.push(`${l}h`),(s>0||l>0)&&c.push(`${s}m`),c.push(`${a}s`),n.jsx("span",{className:"font-mono text-sm text-emerald-400","data-testid":"countdown-timer",children:c.join(" ")})}function L0e({status:e,isRunning:t}){if(t)return n.jsxs(q,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(Pe,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",running:"bg-blue-500/20 text-blue-500 border-blue-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(q,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function ZR({chain:e,chainStatus:t,liveProgress:r,onStart:a,onStop:s,onRun:l,onReset:c,isStarting:d,isStopping:f,isRunning:m,isResetting:h}){const g=r?.isRunning||t.isAutoRunning,v=e==="dfk"?"DFK Chain":"Metis",y=e==="dfk"?"Hunts":"Patrols",w=e==="dfk"?ku:Xl;return n.jsxs(G,{"data-testid":`card-chain-${e}`,children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(w,{className:"w-5 h-5 text-amber-500"}),n.jsxs("span",{children:[v," - ",y]})]}),n.jsx(L0e,{status:t.checkpoint.status,isRunning:g})]}),n.jsxs(Se,{children:["Chain ID: ",t.chainId," | ",y," encounter tracking",t.workerCount>0&&n.jsxs("span",{className:"ml-2 text-emerald-500",children:[" ",t.workerCount," workers active"]})]})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Block"}),n.jsx("div",{className:"font-mono font-bold","data-testid":`text-${e}-last-block`,children:ib(t.checkpoint.last_indexed_block)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Completions"}),n.jsx("div",{className:"font-bold text-green-500","data-testid":`text-${e}-completions`,children:ur(t.checkpoint.total_completions)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Rewards"}),n.jsx("div",{className:"font-bold text-amber-500","data-testid":`text-${e}-rewards`,children:ur(t.checkpoint.total_rewards)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Run"}),n.jsx("div",{className:"text-xs",children:t.checkpoint.last_indexed_at?new Date(t.checkpoint.last_indexed_at).toLocaleString():"Never"})]})]}),t.isAutoRunning&&t.timing&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-emerald-500/10 rounded-lg","data-testid":`eta-${e}`,children:[n.jsx(Xe,{className:"w-4 h-4 text-emerald-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Next batch in:"}),n.jsx(D0e,{nextRunAt:t.timing.nextRunAt})]}),r&&r.isRunning&&n.jsxs("div",{className:"space-y-2 p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:["Block ",ib(r.currentBlock)," / ",ib(r.targetBlock)]}),n.jsxs("span",{children:[r.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:r.percentComplete}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Completions: ",r.completionsFound]}),n.jsxs("span",{children:["Rewards: ",r.eventsFound]})]})]}),t.checkpoint.last_error&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-500/10 rounded text-red-500 text-sm",children:[n.jsx(rr,{className:"w-4 h-4"}),t.checkpoint.last_error]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{onClick:l,disabled:m||g,size:"sm","data-testid":`button-${e}-run`,children:[m?n.jsx(Pe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Run Batch"]}),t.isAutoRunning?n.jsxs(ne,{onClick:s,disabled:f,variant:"destructive",size:"sm","data-testid":`button-${e}-stop`,children:[f?n.jsx(Pe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(pr,{className:"w-4 h-4 mr-2"}),"Stop Auto"]}):n.jsxs(ne,{onClick:a,disabled:d,variant:"outline",size:"sm","data-testid":`button-${e}-start`,children:[d?n.jsx(Pe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Start Auto"]}),n.jsxs(Zu,{children:[n.jsx(Ju,{asChild:!0,children:n.jsxs(ne,{size:"sm",variant:"outline",disabled:h||g,"data-testid":`button-${e}-reset`,children:[n.jsx(wc,{className:"w-4 h-4 mr-2"}),"Reset"]})}),n.jsxs(Ic,{children:[n.jsxs($c,{children:[n.jsxs(zc,{children:["Reset ",v," Data?"]}),n.jsxs(Bc,{children:["This will delete all indexed ",y.toLowerCase()," data including completions, rewards, and equipment drops. You'll need to re-index to restore the data with the latest capture fields."]})]}),n.jsxs(Fc,{children:[n.jsx(Hc,{children:"Cancel"}),n.jsxs(Uc,{onClick:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":`button-${e}-confirm-reset`,children:[h?n.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]})]})]})}function JR({activities:e,type:t}){const[r,a]=p.useState(null),[s,l]=p.useState([]),{data:c,isLoading:d}=_e({queryKey:[`/api/pve/loot-hierarchical/${r}`],enabled:r!==null}),f=c?.regularLoot||[],m=c?.seasonalLoot||[],h=c?.equipment||[],g=c?.totalCompletions||0,v=w=>{l(j=>j.includes(w)?j.filter(N=>N!==w):[...j,w])},y=w=>{switch(w){case"Mythic":return"text-purple-400";case"Legendary":return"text-orange-400";case"Rare":return"text-blue-400";case"Uncommon":return"text-green-400";default:return"text-gray-400"}};return e.length===0?n.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:["No ",t,"s indexed yet. Start the indexer to begin collecting data."]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"ID"}),n.jsx(H,{children:"Name"}),n.jsx(H,{className:"text-right",children:"Completions"}),n.jsx(H,{className:"text-right",children:"Rewards"}),n.jsx(H,{children:"Actions"})]})}),n.jsx(pt,{children:e.map(w=>n.jsxs(Ae,{"data-testid":`row-activity-${w.id}`,className:r===w.id?"bg-muted/50":"",children:[n.jsx(U,{className:"font-mono",children:w.activity_id}),n.jsx(U,{className:"font-medium",children:w.name}),n.jsx(U,{className:"text-right",children:ur(w.total_completions)}),n.jsx(U,{className:"text-right",children:ur(w.total_rewards)}),n.jsx(U,{children:n.jsx(ne,{variant:r===w.id?"secondary":"outline",size:"sm",onClick:()=>a(r===w.id?null:w.id),"data-testid":`button-view-loot-${w.id}`,children:r===w.id?"Hide Loot":"View Loot"})})]},w.id))})]}),r&&n.jsxs(G,{className:"mt-4",children:[n.jsxs(re,{children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(nw,{className:"w-4 h-4"}),"Drop Rates for ",e.find(w=>w.id===r)?.name]}),n.jsx(Se,{children:g>0&&`Based on ${ur(g)} completions`})]}),n.jsx(Y,{className:"space-y-6",children:d?n.jsx("div",{className:"flex items-center justify-center p-4",children:n.jsx(Pe,{className:"w-6 h-6 animate-spin"})}):f.length>0||m.length>0||h.length>0?n.jsxs(n.Fragment,{children:[f.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground",children:"Consumables & Materials"}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Item"}),n.jsx(H,{className:"text-right",children:"Drops"}),n.jsx(H,{className:"text-right",children:"Sample Size"}),n.jsx(H,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(pt,{children:f.map((w,j)=>n.jsxs(Ae,{"data-testid":`row-loot-${j}`,children:[n.jsxs(U,{className:"font-medium",children:[w.item_name||w.item_address.slice(0,10)+"...",w.item_type&&n.jsx(q,{variant:"outline",className:"ml-2 text-xs",children:w.item_type})]}),n.jsx(U,{className:"text-right",children:ur(w.dropCount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:ur(w.totalCompletions||g)}),n.jsxs(U,{className:"text-right font-bold",children:[(w.observedRate*100).toFixed(2),"%"]})]},j))})]})]}),m.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground flex items-center gap-2",children:[n.jsx(uo,{className:"w-4 h-4 text-amber-400"}),"Seasonal Event Drops"]}),n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Item"}),n.jsx(H,{className:"text-right",children:"Drops"}),n.jsx(H,{className:"text-right",children:"Sample Size"}),n.jsx(H,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(pt,{children:m.map((w,j)=>n.jsxs(Ae,{"data-testid":`row-seasonal-${j}`,children:[n.jsxs(U,{className:"font-medium",children:[w.item_name||w.item_address.slice(0,10)+"...",n.jsx(q,{variant:"outline",className:"ml-2 text-xs text-amber-400 border-amber-400/30",children:"seasonal"})]}),n.jsx(U,{className:"text-right",children:ur(w.dropCount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:ur(w.totalCompletions||g)}),n.jsxs(U,{className:"text-right font-bold text-amber-400",children:[(w.observedRate*100).toFixed(2),"%"]})]},j))})]})]}),h.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground flex items-center gap-2",children:[n.jsx(Xl,{className:"w-4 h-4"}),"Equipment Drops"]}),n.jsx("div",{className:"space-y-2",children:h.map(w=>n.jsxs("div",{className:"border rounded-lg",children:[n.jsxs("div",{className:"p-3 flex items-center justify-between cursor-pointer hover-elevate",onClick:()=>v(w.item_address),"data-testid":`equipment-parent-${w.item_id}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ku,{className:"w-4 h-4 text-orange-400"}),n.jsx("span",{className:"font-medium",children:w.item_name||"Equipment"}),n.jsxs(q,{variant:"secondary",className:"text-xs",children:[w.variantCount," variants"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[ur(w.dropCount)," drops"]}),n.jsxs("span",{className:"font-bold text-green-400",children:[(w.observedRate*100).toFixed(2),"%"]}),n.jsx("span",{className:"text-muted-foreground",children:s.includes(w.item_address)?"":""})]})]}),Object.keys(w.rarityDistribution).length>0&&n.jsx("div",{className:"px-3 pb-2 flex gap-2 flex-wrap",children:Object.entries(w.rarityDistribution).map(([j,N])=>n.jsxs(q,{variant:"outline",className:`text-xs ${y(j)}`,children:[j,": ",N]},j))}),s.includes(w.item_address)&&w.variants.length>0&&n.jsx("div",{className:"border-t bg-muted/30",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Variant"}),n.jsx(H,{children:"Rarity"}),n.jsx(H,{className:"text-right",children:"Drops"}),n.jsx(H,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(pt,{children:w.variants.map((j,N)=>n.jsxs(Ae,{"data-testid":`variant-${w.item_id}-${N}`,children:[n.jsxs(U,{className:"font-mono text-xs",children:[j.equipmentTypeName," #",j.displayId]}),n.jsx(U,{children:n.jsx(q,{variant:"outline",className:y(j.rarityName),children:j.rarityName})}),n.jsx(U,{className:"text-right",children:ur(j.dropCount)}),n.jsxs(U,{className:"text-right font-bold",children:[(j.observedRate*100).toFixed(3),"%"]})]},N))})]})})]},w.item_address))})]})]}):n.jsx("div",{className:"text-center p-4 text-muted-foreground",children:"No loot data available for this activity yet."})})]})]})}function I0e(){const{toast:e}=Zt(),[t,r]=p.useState("dfk"),{data:a,isLoading:s,error:l,refetch:c}=_e({queryKey:["/api/admin/pve/status"],refetchInterval:3e3,retry:1}),{data:d,isLoading:f}=_e({queryKey:["/api/pve/hunts"]}),{data:m,isLoading:h}=_e({queryKey:["/api/pve/patrols"]}),g=!!a&&!l,v=f||h,y=d?.hunts||[],w=m?.patrols||[],j=Ee({mutationFn:async k=>await De("POST",`/api/admin/pve/run/${k}`,{}),onSuccess:(k,T)=>{e({title:`${T.toUpperCase()} indexer batch started`}),Re.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to run indexer",description:k.message,variant:"destructive"})}}),N=Ee({mutationFn:async k=>await De("POST",`/api/admin/pve/start/${k}`,{}),onSuccess:(k,T)=>{e({title:`${T.toUpperCase()} auto-run started`}),Re.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to start auto-run",description:k.message,variant:"destructive"})}}),C=Ee({mutationFn:async k=>await De("POST",`/api/admin/pve/stop/${k}`,{}),onSuccess:(k,T)=>{e({title:`${T.toUpperCase()} auto-run stopped`}),Re.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to stop auto-run",description:k.message,variant:"destructive"})}}),E=Ee({mutationFn:async k=>await De("POST",`/api/admin/pve/reset/${k}`,{toBlock:0}),onSuccess:(k,T)=>{e({title:"Reset complete",description:`${T.toUpperCase()} data cleared. Ready to re-index.`}),Re.invalidateQueries({queryKey:["/api/admin/pve/status"]}),Re.invalidateQueries({queryKey:["/api/pve/hunts"]}),Re.invalidateQueries({queryKey:["/api/pve/patrols"]})},onError:k=>{e({title:"Reset failed",description:k.message,variant:"destructive"})}}),A=(a?.dfk?.checkpoint?.total_completions||0)+(a?.metis?.checkpoint?.total_completions||0),P=(a?.dfk?.checkpoint?.total_rewards||0)+(a?.metis?.checkpoint?.total_rewards||0);return n.jsxs("div",{className:"space-y-6","data-testid":"page-pve-droprates",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Rr,{className:"w-6 h-6 text-red-500"}),"PVE Drop Rates"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track Hunts (DFK Chain) and Patrols (Metis) with Scavenger pet detection"})]}),n.jsx(ne,{variant:"outline",size:"icon",onClick:()=>c(),"data-testid":"button-refresh",children:n.jsx(Xe,{className:"w-4 h-4"})})]}),v?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Pe,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[l&&n.jsx(G,{className:"border-amber-500/50 bg-amber-500/10",children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[n.jsx(rr,{className:"w-5 h-5"}),n.jsx("span",{children:"Admin controls unavailable - viewing public drop rate data only"})]})})}),g&&a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(ku,{className:"w-4 h-4 text-amber-500"}),"DFK Hunts"]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-dfk-total",children:ur(a.dfk?.checkpoint?.total_completions||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"completions"})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Xl,{className:"w-4 h-4 text-blue-500"}),"Metis Patrols"]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-metis-total",children:ur(a.metis?.checkpoint?.total_completions||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"completions"})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(jc,{className:"w-4 h-4 text-green-500"}),"Total Encounters"]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-500","data-testid":"text-total-encounters",children:ur(A)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"indexed"})]})]}),n.jsxs(G,{children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(nw,{className:"w-4 h-4 text-purple-500"}),"Total Drops"]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-total-drops",children:ur(P)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"reward events"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx(ZR,{chain:"dfk",chainStatus:a.dfk,liveProgress:a.liveProgress?.dfk,onStart:()=>N.mutate("dfk"),onStop:()=>C.mutate("dfk"),onRun:()=>j.mutate("dfk"),onReset:()=>E.mutate("dfk"),isStarting:N.isPending,isStopping:C.isPending,isRunning:j.isPending,isResetting:E.isPending}),n.jsx(ZR,{chain:"metis",chainStatus:a.metis,liveProgress:a.liveProgress?.metis,onStart:()=>N.mutate("metis"),onStop:()=>C.mutate("metis"),onRun:()=>j.mutate("metis"),onReset:()=>E.mutate("metis"),isStarting:N.isPending,isStopping:C.isPending,isRunning:j.isPending,isResetting:E.isPending})]})]}),n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Activity Drop Rates"}),n.jsx(Se,{children:"View indexed activities and their loot drop statistics"})]}),n.jsx(Y,{children:n.jsxs(oi,{value:t,onValueChange:k=>r(k),children:[n.jsxs(us,{className:"mb-4",children:[n.jsxs(Ct,{value:"dfk","data-testid":"tab-hunts",children:[n.jsx(ku,{className:"w-4 h-4 mr-2"}),"Hunts (",y?.length||0,")"]}),n.jsxs(Ct,{value:"metis","data-testid":"tab-patrols",children:[n.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Patrols (",w?.length||0,")"]})]}),n.jsx(Ot,{value:"dfk",children:n.jsx(JR,{activities:y||[],type:"hunt"})}),n.jsx(Ot,{value:"metis",children:n.jsx(JR,{activities:w||[],type:"patrol"})})]})})]})]})]})}function $h({status:e}){switch(e){case"success":return n.jsxs(q,{variant:"default",className:"bg-green-600","data-testid":"badge-status-success",children:[n.jsx(Tr,{className:"w-3 h-3 mr-1"})," Success"]});case"running":return n.jsxs(q,{variant:"secondary","data-testid":"badge-status-running",children:[n.jsx(Pe,{className:"w-3 h-3 mr-1 animate-spin"})," Running"]});case"failed":return n.jsxs(q,{variant:"destructive","data-testid":"badge-status-failed",children:[n.jsx(rr,{className:"w-3 h-3 mr-1"})," Failed"]});default:return n.jsxs(q,{variant:"outline","data-testid":"badge-status-unknown",children:[n.jsx(co,{className:"w-3 h-3 mr-1"})," ",e]})}}function pu(e){return e?new Date(e).toLocaleString():""}function e4(e,t){if(!t)return"";const r=new Date(e).getTime(),a=new Date(t).getTime(),s=Math.round((a-r)/1e3);return s<60?`${s}s`:`${Math.floor(s/60)}m ${s%60}s`}function $0e(){const{toast:e}=Zt(),[t,r]=p.useState(null),[a,s]=p.useState(!1),{data:l,isLoading:c}=_e({queryKey:["/api/admin/hedge/combat/sync/summary"],refetchInterval:1e4}),{data:d,isLoading:f}=_e({queryKey:["/api/admin/hedge/combat/sync/runs"],refetchInterval:1e4}),{data:m,isLoading:h}=_e({queryKey:["/api/admin/hedge/combat/sources"]}),{data:g,isLoading:v}=_e({queryKey:["/api/admin/hedge/combat/sync/runs",t],enabled:!!t}),y=Ee({mutationFn:async()=>(await De("POST","/api/admin/hedge/combat/refresh",{discover:!0,concurrency:3})).json(),onSuccess:()=>{e({title:"Sync started",description:"Combat codex sync is now running"}),Re.invalidateQueries({queryKey:["/api/admin/hedge/combat/sync"]})},onError:N=>{e({title:"Sync failed",description:N.message,variant:"destructive"})}}),w=Ee({mutationFn:async({url:N,enabled:C})=>(await De("PATCH","/api/admin/hedge/combat/sources",{url:N,enabled:C})).json(),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/hedge/combat/sources"]}),e({title:"Source updated"})},onError:N=>{e({title:"Failed to update source",description:N.message,variant:"destructive"})}}),j=l?.runningRun!==null||y.isPending;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Combat Sync Status"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage combat codex data ingestion from DFK Wiki"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gl,{href:"/admin/combat-classes",children:n.jsxs(ne,{variant:"outline","data-testid":"button-view-classes",children:[n.jsx(kr,{className:"w-4 h-4 mr-2"}),"View Class Skills"]})}),n.jsxs(ne,{onClick:()=>y.mutate(),disabled:j,"data-testid":"button-refresh-sync",children:[j?n.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(vn,{className:"w-4 h-4 mr-2"}),j?"Syncing...":"Run Sync"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Classes"}),n.jsx(AH,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:c?n.jsx(Me,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-class-count",children:l?.counts.classes??0})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Skills"}),n.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:c?n.jsx(Me,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-skill-count",children:l?.counts.skills??0})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Keywords"}),n.jsx(lM,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:c?n.jsx(Me,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-keyword-count",children:l?.counts.keywords??0})})]}),n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Last Sync"}),n.jsx(Xe,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:c?n.jsx(Me,{className:"h-8 w-32"}):l?.lastRun?n.jsxs("div",{className:"space-y-1",children:[n.jsx($h,{status:l.lastRun.status}),n.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-last-sync",children:pu(l.lastRun.started_at)})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Never"})})]})]}),n.jsxs(oi,{defaultValue:"runs",className:"space-y-4",children:[n.jsxs(us,{children:[n.jsxs(Ct,{value:"runs","data-testid":"tab-runs",children:[n.jsx(Sa,{className:"w-4 h-4 mr-2"})," Sync Runs"]}),n.jsxs(Ct,{value:"sources","data-testid":"tab-sources",children:[n.jsx(Cq,{className:"w-4 h-4 mr-2"})," Sources"]})]}),n.jsx(Ot,{value:"runs",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Sync Run History"}),n.jsx(Se,{children:"Recent combat codex ingestion runs"})]}),n.jsx(Y,{children:f?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(N=>n.jsx(Me,{className:"h-12 w-full"},N))}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"ID"}),n.jsx(H,{children:"Started"}),n.jsx(H,{children:"Duration"}),n.jsx(H,{children:"Status"}),n.jsx(H,{children:"URLs"}),n.jsx(H,{children:"Classes"}),n.jsx(H,{children:"Skills"}),n.jsx(H,{children:"Actions"})]})}),n.jsx(pt,{children:d?.results?.map(N=>n.jsxs(Ae,{"data-testid":`row-sync-run-${N.id}`,children:[n.jsx(U,{className:"font-mono",children:N.id}),n.jsx(U,{className:"text-sm",children:pu(N.startedAt)}),n.jsx(U,{className:"text-sm",children:e4(N.startedAt,N.finishedAt)}),n.jsx(U,{children:n.jsx($h,{status:N.status})}),n.jsx(U,{children:N.discoveredUrls??""}),n.jsx(U,{children:N.classesIngested??""}),n.jsx(U,{children:N.skillsUpserted??""}),n.jsx(U,{children:n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{r(N.id),s(!0)},"data-testid":`button-view-run-${N.id}`,children:n.jsx(aq,{className:"w-4 h-4"})})})]},N.id))})]})})]})}),n.jsx(Ot,{value:"sources",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Combat Sources"}),n.jsx(Se,{children:"URLs discovered and tracked for combat data ingestion"})]}),n.jsx(Y,{children:h?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(N=>n.jsx(Me,{className:"h-12 w-full"},N))}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"URL"}),n.jsx(H,{children:"Type"}),n.jsx(H,{children:"Discovered"}),n.jsx(H,{children:"Last Fetched"}),n.jsx(H,{children:"Enabled"})]})}),n.jsx(pt,{children:m?.results?.map((N,C)=>n.jsxs(Ae,{"data-testid":`row-source-${C}`,children:[n.jsx(U,{className:"max-w-xs truncate font-mono text-xs",children:N.url}),n.jsx(U,{children:n.jsx(q,{variant:"outline",children:N.kind})}),n.jsx(U,{className:"text-sm",children:pu(N.discoveredAt)}),n.jsx(U,{className:"text-sm",children:pu(N.lastFetchedAt)}),n.jsx(U,{children:n.jsx(Qr,{checked:N.enabled,onCheckedChange:E=>w.mutate({url:N.url,enabled:E}),disabled:w.isPending,"data-testid":`switch-source-enabled-${C}`})})]},N.url))})]})})]})})]}),n.jsx(Ys,{open:a,onOpenChange:s,children:n.jsxs(as,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(ss,{children:[n.jsxs(is,{children:["Sync Run #",t]}),n.jsx(ls,{children:"Detailed breakdown of items processed during this sync run"})]}),v?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(N=>n.jsx(Me,{className:"h-8 w-full"},N))}):g?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",n.jsx($h,{status:g.run.status})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Started:"})," ",pu(g.run.startedAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Duration:"})," ",e4(g.run.startedAt,g.run.finishedAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"URLs Discovered:"})," ",g.run.discoveredUrls??""]})]}),g.run.error&&n.jsxs("div",{className:"p-3 bg-destructive/10 rounded-md text-destructive text-sm",children:[n.jsx("strong",{children:"Error:"})," ",g.run.error]}),g.items.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2",children:["Processed Items (",g.items.length,")"]}),n.jsx("div",{className:"max-h-64 overflow-y-auto border rounded-md",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Type"}),n.jsx(H,{children:"Key"}),n.jsx(H,{children:"Status"}),n.jsx(H,{children:"Error"})]})}),n.jsx(pt,{children:g.items.map(N=>n.jsxs(Ae,{children:[n.jsx(U,{children:n.jsx(q,{variant:"outline",className:"text-xs",children:N.itemType})}),n.jsx(U,{className:"font-mono text-xs max-w-xs truncate",children:N.itemKey}),n.jsx(U,{children:n.jsx($h,{status:N.status})}),n.jsx(U,{className:"text-xs text-destructive max-w-xs truncate",children:N.error||""})]},N.id))})]})})]})]}):null]})})]})}function F0e(e){const t=z0e(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(U0e);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function z0e(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=q0e(s),d=H0e(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B0e=Symbol("radix.slottable");function U0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B0e}function H0e(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function q0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var V0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qz=V0e.reduce((e,t)=>{const r=F0e(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function K0e(e){const t=W0e(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Y0e);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function W0e(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=X0e(s),d=Q0e(l,s.props);return s.type!==p.Fragment&&(d.ref=a?jn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G0e=Symbol("radix.slottable");function Y0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G0e}function Q0e(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function X0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Z0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qS=Z0e.reduce((e,t)=>{const r=K0e(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Mg="Collapsible",[J0e,Vz]=gr(Mg),[eje,VS]=J0e(Mg),Kz=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:l,onOpenChange:c,...d}=e,[f,m]=ta({prop:a,defaultProp:s??!1,onChange:c,caller:Mg});return n.jsx(eje,{scope:r,disabled:l,contentId:za(),open:f,onOpenToggle:p.useCallback(()=>m(h=>!h),[m]),children:n.jsx(qS.div,{"data-state":WS(f),"data-disabled":l?"":void 0,...d,ref:t})})});Kz.displayName=Mg;var Wz="CollapsibleTrigger",Gz=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...a}=e,s=VS(Wz,r);return n.jsx(qS.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":WS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:ze(e.onClick,s.onOpenToggle)})});Gz.displayName=Wz;var KS="CollapsibleContent",Yz=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=VS(KS,e.__scopeCollapsible);return n.jsx(ra,{present:r||s.open,children:({present:l})=>n.jsx(tje,{...a,ref:t,present:l})})});Yz.displayName=KS;var tje=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:a,children:s,...l}=e,c=VS(KS,r),[d,f]=p.useState(a),m=p.useRef(null),h=rt(t,m),g=p.useRef(0),v=g.current,y=p.useRef(0),w=y.current,j=c.open||d,N=p.useRef(j),C=p.useRef(void 0);return p.useEffect(()=>{const E=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(E)},[]),un(()=>{const E=m.current;if(E){C.current=C.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const A=E.getBoundingClientRect();g.current=A.height,y.current=A.width,N.current||(E.style.transitionDuration=C.current.transitionDuration,E.style.animationName=C.current.animationName),f(a)}},[c.open,a]),n.jsx(qS.div,{"data-state":WS(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...l,ref:h,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:j&&s})});function WS(e){return e?"open":"closed"}var nje=Kz,rje=Gz,aje=Yz,Ga="Accordion",sje=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[GS,ije,lje]=rf(Ga),[Dg]=gr(Ga,[lje,Vz]),YS=Vz(),Qz=gn.forwardRef((e,t)=>{const{type:r,...a}=e,s=a,l=a;return n.jsx(GS.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(uje,{...l,ref:t}):n.jsx(dje,{...s,ref:t})})});Qz.displayName=Ga;var[Xz,oje]=Dg(Ga),[Zz,cje]=Dg(Ga,{collapsible:!1}),dje=gn.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},collapsible:l=!1,...c}=e,[d,f]=ta({prop:r,defaultProp:a??"",onChange:s,caller:Ga});return n.jsx(Xz,{scope:e.__scopeAccordion,value:gn.useMemo(()=>d?[d]:[],[d]),onItemOpen:f,onItemClose:gn.useCallback(()=>l&&f(""),[l,f]),children:n.jsx(Zz,{scope:e.__scopeAccordion,collapsible:l,children:n.jsx(Jz,{...c,ref:t})})})}),uje=gn.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},...l}=e,[c,d]=ta({prop:r,defaultProp:a??[],onChange:s,caller:Ga}),f=gn.useCallback(h=>d((g=[])=>[...g,h]),[d]),m=gn.useCallback(h=>d((g=[])=>g.filter(v=>v!==h)),[d]);return n.jsx(Xz,{scope:e.__scopeAccordion,value:c,onItemOpen:f,onItemClose:m,children:n.jsx(Zz,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(Jz,{...l,ref:t})})})}),[fje,Lg]=Dg(Ga),Jz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:a,dir:s,orientation:l="vertical",...c}=e,d=gn.useRef(null),f=rt(d,t),m=ije(r),g=Jc(s)==="ltr",v=ze(e.onKeyDown,y=>{if(!sje.includes(y.key))return;const w=y.target,j=m().filter(L=>!L.ref.current?.disabled),N=j.findIndex(L=>L.ref.current===w),C=j.length;if(N===-1)return;y.preventDefault();let E=N;const A=0,P=C-1,k=()=>{E=N+1,E>P&&(E=A)},T=()=>{E=N-1,E<A&&(E=P)};switch(y.key){case"Home":E=A;break;case"End":E=P;break;case"ArrowRight":l==="horizontal"&&(g?k():T());break;case"ArrowDown":l==="vertical"&&k();break;case"ArrowLeft":l==="horizontal"&&(g?T():k());break;case"ArrowUp":l==="vertical"&&T();break}const _=E%C;j[_].ref.current?.focus()});return n.jsx(fje,{scope:r,disabled:a,direction:s,orientation:l,children:n.jsx(GS.Slot,{scope:r,children:n.jsx(qz.div,{...c,"data-orientation":l,ref:f,onKeyDown:a?void 0:v})})})}),px="AccordionItem",[mje,QS]=Dg(px),eB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,value:a,...s}=e,l=Lg(px,r),c=oje(px,r),d=YS(r),f=za(),m=a&&c.value.includes(a)||!1,h=l.disabled||e.disabled;return n.jsx(mje,{scope:r,open:m,disabled:h,triggerId:f,children:n.jsx(nje,{"data-orientation":l.orientation,"data-state":iB(m),...d,...s,ref:t,disabled:h,open:m,onOpenChange:g=>{g?c.onItemOpen(a):c.onItemClose(a)}})})});eB.displayName=px;var tB="AccordionHeader",nB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Lg(Ga,r),l=QS(tB,r);return n.jsx(qz.h3,{"data-orientation":s.orientation,"data-state":iB(l.open),"data-disabled":l.disabled?"":void 0,...a,ref:t})});nB.displayName=tB;var UN="AccordionTrigger",rB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Lg(Ga,r),l=QS(UN,r),c=cje(UN,r),d=YS(r);return n.jsx(GS.ItemSlot,{scope:r,children:n.jsx(rje,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":s.orientation,id:l.triggerId,...d,...a,ref:t})})});rB.displayName=UN;var aB="AccordionContent",sB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Lg(Ga,r),l=QS(aB,r),c=YS(r);return n.jsx(aje,{role:"region","aria-labelledby":l.triggerId,"data-orientation":s.orientation,...c,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});sB.displayName=aB;function iB(e){return e?"open":"closed"}var hje=Qz,pje=eB,xje=nB,lB=rB,oB=sB;const gje=hje,cB=p.forwardRef(({className:e,...t},r)=>n.jsx(pje,{ref:r,className:Le("border-b",e),...t}));cB.displayName="AccordionItem";const dB=p.forwardRef(({className:e,children:t,...r},a)=>n.jsx(xje,{className:"flex",children:n.jsxs(lB,{ref:a,className:Le("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Wc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));dB.displayName=lB.displayName;const uB=p.forwardRef(({className:e,children:t,...r},a)=>n.jsx(oB,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:Le("pb-4 pt-0",e),children:t})}));uB.displayName=oB.displayName;function vje({maturity:e}){switch(e){case"revised_through_tier_5":return n.jsx(q,{variant:"default",className:"bg-green-600","data-testid":"badge-maturity-revised",children:"Revised T1-5"});case"pre_alpha":return n.jsx(q,{variant:"secondary","data-testid":"badge-maturity-prealpha",children:"Pre-Alpha"});default:return n.jsx(q,{variant:"outline","data-testid":"badge-maturity-other",children:e})}}function yje({tier:e}){const t=["bg-gray-500","bg-green-600","bg-blue-600","bg-purple-600","bg-orange-600","bg-red-600"];return n.jsxs(q,{className:t[Math.min(e,5)],"data-testid":`badge-tier-${e}`,children:["T",e]})}function jje({skills:e,className:t}){const[r,a]=p.useState(null),s=Array.from(new Set(e.map(d=>d.tier))).sort((d,f)=>d-f),l=Array.from(new Set(e.map(d=>d.discipline).filter(Boolean))),c=r!==null?e.filter(d=>d.tier===r):e;return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Filter by tier:"}),n.jsxs(ne,{variant:r===null?"default":"outline",size:"sm",onClick:()=>a(null),"data-testid":`button-filter-all-${t}`,children:["All (",e.length,")"]}),s.map(d=>n.jsxs(ne,{variant:r===d?"default":"outline",size:"sm",onClick:()=>a(d),"data-testid":`button-filter-tier-${d}-${t}`,children:["T",d," (",e.filter(f=>f.tier===d).length,")"]},d))]}),l.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:"Disciplines:"}),l.map(d=>n.jsx(q,{variant:"outline",className:"text-xs","data-testid":`badge-discipline-${d}`,children:d},d))]}),n.jsx("div",{className:"rounded-md border max-h-[400px] overflow-auto",children:n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-[60px]",children:"Tier"}),n.jsx(H,{children:"Ability"}),n.jsx(H,{children:"Discipline"}),n.jsx(H,{className:"w-[60px]",children:"Range"}),n.jsx(H,{className:"w-[60px]",children:"Mana"})]})}),n.jsx(pt,{children:c.map((d,f)=>n.jsxs(Ae,{"data-testid":`row-skill-${d.ability}`,children:[n.jsx(U,{children:n.jsx(yje,{tier:d.tier})}),n.jsx(U,{className:"font-medium",children:d.ability}),n.jsx(U,{className:"text-muted-foreground",children:d.discipline||"-"}),n.jsx(U,{children:d.range??"-"}),n.jsx(U,{children:d.manaCost?parseFloat(d.manaCost).toFixed(0):"-"})]},`${d.ability}-${f}`))})]})})]})}function bje(){const{toast:e}=Zt(),[t,r]=p.useState(""),{data:a,isLoading:s,error:l}=_e({queryKey:["/api/admin/hedge/combat/classes-summary"]}),c=Ee({mutationFn:async({className:g,validated:v})=>(await De("PATCH",`/api/admin/hedge/combat/classes/${encodeURIComponent(g)}/validate`,{validated:v})).json(),onSuccess:(g,v)=>{Re.invalidateQueries({queryKey:["/api/admin/hedge/combat/classes-summary"]}),e({title:v.validated?"Class validated":"Validation removed",description:`${v.className} is now ${v.validated?"available":"hidden"} to Hedge NPC`})},onError:g=>{e({title:"Failed to update validation",description:g.message,variant:"destructive"})}}),d=a?.classes||[],f=t?d.filter(g=>g.class.toLowerCase().includes(t.toLowerCase())||g.skills.some(v=>v.ability.toLowerCase().includes(t.toLowerCase()))):d,m=d.reduce((g,v)=>g+v.skillCount,0),h=d.filter(g=>g.validated).length;return n.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(kr,{className:"w-8 h-8"}),"Combat Class Summary"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Overview of all hero classes and their combat skills"})]}),n.jsx(Gl,{href:"/admin/hedge/combat-sync",children:n.jsx(ne,{variant:"outline","data-testid":"button-back-to-sync",children:"Back to Combat Sync"})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(G,{"data-testid":"card-total-classes",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Classes"}),n.jsx(Xl,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Me,{className:"h-8 w-16"}):d.length})})]}),n.jsxs(G,{"data-testid":"card-total-skills",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Total Skills"}),n.jsx(Wn,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Me,{className:"h-8 w-16"}):m})})]}),n.jsxs(G,{"data-testid":"card-revised-classes",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Revised Classes"}),n.jsx(kr,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Me,{className:"h-8 w-16"}):d.filter(g=>g.maturity==="revised_through_tier_5").length})})]}),n.jsxs(G,{"data-testid":"card-validated-classes",children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:"Validated for Hedge"}),n.jsx(Tr,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Me,{className:"h-8 w-16"}):n.jsx("span",{className:h>0?"text-green-600":"",children:h})})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"w-4 h-4 text-muted-foreground"}),n.jsx(We,{placeholder:"Search classes or skills...",value:t,onChange:g=>r(g.target.value),className:"max-w-sm","data-testid":"input-search"})]}),s&&n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(Me,{className:"h-6 w-32"}),n.jsx(Me,{className:"h-4 w-48"})]}),n.jsx(Y,{children:n.jsx(Me,{className:"h-24 w-full"})})]},g))}),l&&n.jsx(G,{className:"border-destructive",children:n.jsx(Y,{className:"pt-6",children:n.jsxs("p",{className:"text-destructive",children:["Failed to load combat classes: ",l.message]})})}),!s&&!l&&n.jsx(gje,{type:"multiple",className:"space-y-4",children:f.map(g=>n.jsxs(cB,{value:g.class,className:"border rounded-lg px-4","data-testid":`accordion-class-${g.class}`,children:[n.jsx(dB,{className:"hover:no-underline py-4",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-left",children:[n.jsx("span",{className:"font-bold text-lg",children:g.class}),n.jsx(vje,{maturity:g.maturity}),g.validated&&n.jsxs(q,{variant:"default",className:"bg-green-600","data-testid":`badge-validated-${g.class}`,children:[n.jsx(Tr,{className:"w-3 h-3 mr-1"}),"Validated"]}),n.jsxs(q,{variant:"outline","data-testid":`badge-skill-count-${g.class}`,children:[g.skillCount," skills"]}),g.disciplines.length>0&&g.disciplines.map(v=>n.jsx(q,{variant:"secondary",className:"text-xs",children:v},v))]})}),n.jsx(uB,{className:"pb-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("a",{href:g.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline flex items-center gap-1","data-testid":`link-source-${g.class}`,children:[n.jsx(nr,{className:"w-3 h-3"}),"View Official Documentation"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{id:`validate-${g.class}`,checked:g.validated,onCheckedChange:v=>c.mutate({className:g.class,validated:v}),disabled:c.isPending,"data-testid":`switch-validate-${g.class}`}),n.jsx(ke,{htmlFor:`validate-${g.class}`,className:"text-sm",children:g.validated?"Validated for Hedge NPC":"Mark as validated"})]})]}),g.lastUpdateNote&&n.jsxs("p",{className:"text-sm text-muted-foreground border-l-2 pl-3",children:[g.lastUpdateNote.substring(0,200),"..."]}),n.jsx(jje,{skills:g.skills,className:g.class})]})})]},g.class))})]})}function t4(e){return e?new Date(e).toLocaleString():""}function lb({tierId:e}){switch(e){case"premium_plus":return n.jsx(Qs,{className:"w-4 h-4 text-yellow-500"});case"premium":return n.jsx(aM,{className:"w-4 h-4 text-blue-500"});default:return n.jsx(Xl,{className:"w-4 h-4 text-muted-foreground"})}}function Nje(){const{toast:e}=Zt(),[t,r]=p.useState(null),[a,s]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState({domain:"combat",resource:"skills",tier_id:"free",mode:"allowlist",rule:"[]"}),[m,h]=p.useState(!1),[g,v]=p.useState({domain:"combat",resource:"skills",tier_id:"free",sample:"{}"}),[y,w]=p.useState(null),{data:j,isLoading:N}=_e({queryKey:["/api/admin/hedge/entitlements/tiers"]}),{data:C,isLoading:E}=_e({queryKey:["/api/admin/hedge/entitlements/rules"]}),{data:A}=_e({queryKey:["/api/admin/hedge/schema/combat/skills"]}),P=Ee({mutationFn:async R=>(await De("PATCH",`/api/admin/hedge/entitlements/tiers/${R.tierId}`,R.patch)).json(),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/hedge/entitlements/tiers"]}),s(!1),r(null),e({title:"Tier updated successfully"})},onError:R=>{e({title:"Failed to update tier",description:R.message,variant:"destructive"})}}),k=Ee({mutationFn:async R=>(await De("PUT","/api/admin/hedge/entitlements/rules",R)).json(),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/admin/hedge/entitlements/rules"]}),c(!1),e({title:"Rule saved successfully"})},onError:R=>{e({title:"Failed to save rule",description:R.message,variant:"destructive"})}}),T=Ee({mutationFn:async R=>(await De("POST","/api/admin/hedge/entitlements/preview",R)).json(),onSuccess:R=>{w(R)},onError:R=>{e({title:"Preview failed",description:R.message,variant:"destructive"})}}),_=()=>{t&&P.mutate({tierId:t.tier_id,patch:{display_name:t.display_name,description:t.description,price_monthly:t.price_monthly,enabled:t.enabled,sort_order:t.sort_order}})},L=()=>{try{const R=JSON.parse(d.rule);k.mutate({domain:d.domain,resource:d.resource,tier_id:d.tier_id,mode:d.mode,rule:R})}catch{e({title:"Invalid JSON",description:"Rule must be valid JSON",variant:"destructive"})}},X=()=>{try{const R=JSON.parse(g.sample);T.mutate({domain:g.domain,resource:g.resource,tier_id:g.tier_id,sample:R})}catch{e({title:"Invalid JSON",description:"Sample must be valid JSON",variant:"destructive"})}},I=R=>{f(R?{domain:R.domain,resource:R.resource,tier_id:R.tier_id,mode:R.mode,rule:JSON.stringify(R.rule,null,2)}:{domain:"combat",resource:"skills",tier_id:"free",mode:"allowlist",rule:"[]"}),c(!0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Plans & Access"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage subscription tiers and entitlement rules"})]}),n.jsxs(ne,{variant:"outline",onClick:()=>h(!0),"data-testid":"button-preview",children:[n.jsx(Nc,{className:"w-4 h-4 mr-2"})," Preview Entitlements"]})]}),n.jsxs(oi,{defaultValue:"tiers",className:"space-y-4",children:[n.jsxs(us,{children:[n.jsxs(Ct,{value:"tiers","data-testid":"tab-tiers",children:[n.jsx(Qs,{className:"w-4 h-4 mr-2"})," Tiers"]}),n.jsxs(Ct,{value:"rules","data-testid":"tab-rules",children:[n.jsx(Xl,{className:"w-4 h-4 mr-2"})," Rules"]}),n.jsxs(Ct,{value:"schema","data-testid":"tab-schema",children:[n.jsx(aM,{className:"w-4 h-4 mr-2"})," Schema"]})]}),n.jsx(Ot,{value:"tiers",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Subscription Tiers"}),n.jsx(Se,{children:"Configure available subscription plans and their features"})]}),n.jsx(Y,{children:N?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>n.jsx(Me,{className:"h-12 w-full"},R))}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Tier"}),n.jsx(H,{children:"Display Name"}),n.jsx(H,{children:"Price (Monthly)"}),n.jsx(H,{children:"Status"}),n.jsx(H,{children:"Order"}),n.jsx(H,{children:"Updated"}),n.jsx(H,{children:"Actions"})]})}),n.jsx(pt,{children:j?.results?.map(R=>n.jsxs(Ae,{"data-testid":`row-tier-${R.tier_id}`,children:[n.jsxs(U,{className:"flex items-center gap-2",children:[n.jsx(lb,{tierId:R.tier_id}),n.jsx("span",{className:"font-mono text-sm",children:R.tier_id})]}),n.jsx(U,{children:R.display_name}),n.jsx(U,{children:R.price_monthly?`$${R.price_monthly}/mo`:"Free"}),n.jsx(U,{children:n.jsx(q,{variant:R.enabled?"default":"secondary",children:R.enabled?"Active":"Disabled"})}),n.jsx(U,{children:R.sort_order}),n.jsx(U,{className:"text-sm",children:t4(R.updated_at)}),n.jsx(U,{children:n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{r({...R}),s(!0)},"data-testid":`button-edit-tier-${R.tier_id}`,children:n.jsx(Zi,{className:"w-4 h-4"})})})]},R.tier_id))})]})})]})}),n.jsx(Ot,{value:"rules",children:n.jsxs(G,{children:[n.jsxs(re,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Entitlement Rules"}),n.jsx(Se,{children:"Define what each tier can access"})]}),n.jsxs(ne,{onClick:()=>I(),"data-testid":"button-add-rule",children:[n.jsx(Xi,{className:"w-4 h-4 mr-2"})," Add Rule"]})]}),n.jsx(Y,{children:E?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>n.jsx(Me,{className:"h-12 w-full"},R))}):n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Domain"}),n.jsx(H,{children:"Resource"}),n.jsx(H,{children:"Tier"}),n.jsx(H,{children:"Mode"}),n.jsx(H,{children:"Rule"}),n.jsx(H,{children:"Updated"}),n.jsx(H,{children:"Actions"})]})}),n.jsx(pt,{children:C?.results?.map(R=>n.jsxs(Ae,{"data-testid":`row-rule-${R.id}`,children:[n.jsx(U,{children:n.jsx(q,{variant:"outline",children:R.domain})}),n.jsx(U,{children:n.jsx(q,{variant:"outline",children:R.resource})}),n.jsxs(U,{className:"flex items-center gap-2",children:[n.jsx(lb,{tierId:R.tier_id}),n.jsx("span",{className:"text-sm",children:R.tier_id})]}),n.jsx(U,{children:n.jsx(q,{variant:"secondary",children:R.mode})}),n.jsx(U,{className:"font-mono text-xs max-w-xs truncate",children:JSON.stringify(R.rule)}),n.jsx(U,{className:"text-sm",children:t4(R.updated_at)}),n.jsx(U,{children:n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>I(R),"data-testid":`button-edit-rule-${R.id}`,children:n.jsx(Zi,{className:"w-4 h-4"})})})]},R.id))})]})})]})}),n.jsx(Ot,{value:"schema",children:n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(ie,{children:"Combat Skill Fields"}),n.jsx(Se,{children:"Available fields for allowlist configuration"})]}),n.jsx(Y,{children:A?.fields?n.jsxs(mt,{children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{children:"Field"}),n.jsx(H,{children:"Type"}),n.jsx(H,{children:"Description"})]})}),n.jsx(pt,{children:A.fields.map(R=>n.jsxs(Ae,{"data-testid":`row-field-${R.name}`,children:[n.jsx(U,{className:"font-mono text-sm",children:R.name}),n.jsx(U,{children:n.jsx(q,{variant:"outline",children:R.type})}),n.jsx(U,{className:"text-sm text-muted-foreground",children:R.description})]},R.name))})]}):n.jsx("p",{className:"text-muted-foreground",children:"No schema data available"})})]})})]}),n.jsx(Ys,{open:a,onOpenChange:s,children:n.jsxs(as,{children:[n.jsxs(ss,{children:[n.jsxs(is,{children:["Edit Tier: ",t?.tier_id]}),n.jsx(ls,{children:"Update tier display settings and pricing"})]}),t&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Display Name"}),n.jsx(We,{value:t.display_name,onChange:R=>r({...t,display_name:R.target.value}),"data-testid":"input-tier-display-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Description"}),n.jsx(Au,{value:t.description||"",onChange:R=>r({...t,description:R.target.value}),"data-testid":"input-tier-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Price (Monthly USD)"}),n.jsx(We,{type:"number",value:t.price_monthly||"",onChange:R=>r({...t,price_monthly:R.target.value||null}),placeholder:"0.00","data-testid":"input-tier-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Sort Order"}),n.jsx(We,{type:"number",value:t.sort_order,onChange:R=>r({...t,sort_order:parseInt(R.target.value)||0}),"data-testid":"input-tier-sort-order"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{checked:t.enabled,onCheckedChange:R=>r({...t,enabled:R}),"data-testid":"switch-tier-enabled"}),n.jsx(ke,{children:"Enabled"})]})]}),n.jsxs(ll,{children:[n.jsx(ne,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(ne,{onClick:_,disabled:P.isPending,"data-testid":"button-save-tier",children:[P.isPending?n.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(bb,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),n.jsx(Ys,{open:l,onOpenChange:c,children:n.jsxs(as,{children:[n.jsxs(ss,{children:[n.jsx(is,{children:"Edit Entitlement Rule"}),n.jsx(ls,{children:"Configure access rules for a specific tier"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Domain"}),n.jsxs(it,{value:d.domain,onValueChange:R=>f({...d,domain:R}),children:[n.jsx(tt,{"data-testid":"select-rule-domain",children:n.jsx(lt,{})}),n.jsx(nt,{children:n.jsx(ve,{value:"combat",children:"combat"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Resource"}),n.jsxs(it,{value:d.resource,onValueChange:R=>f({...d,resource:R}),children:[n.jsx(tt,{"data-testid":"select-rule-resource",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"skills",children:"skills"}),n.jsx(ve,{value:"classes",children:"classes"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Tier"}),n.jsxs(it,{value:d.tier_id,onValueChange:R=>f({...d,tier_id:R}),children:[n.jsx(tt,{"data-testid":"select-rule-tier",children:n.jsx(lt,{})}),n.jsx(nt,{children:j?.results?.map(R=>n.jsx(ve,{value:R.tier_id,children:R.display_name},R.tier_id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Mode"}),n.jsxs(it,{value:d.mode,onValueChange:R=>f({...d,mode:R}),children:[n.jsx(tt,{"data-testid":"select-rule-mode",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"allowlist",children:"allowlist"}),n.jsx(ve,{value:"flags",children:"flags"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Rule (JSON)"}),n.jsx(Au,{value:d.rule,onChange:R=>f({...d,rule:R.target.value}),className:"font-mono text-sm min-h-[120px]",placeholder:'["field1", "field2"] or {"featureFlag": true}',"data-testid":"input-rule-json"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"For allowlist mode: array of field names. For flags mode: object with boolean flags."})]})]}),n.jsxs(ll,{children:[n.jsx(ne,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsxs(ne,{onClick:L,disabled:k.isPending,"data-testid":"button-save-rule",children:[k.isPending?n.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(bb,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),n.jsx(Ys,{open:m,onOpenChange:h,children:n.jsxs(as,{className:"max-w-2xl",children:[n.jsxs(ss,{children:[n.jsx(is,{children:"Preview Entitlements"}),n.jsx(ls,{children:"Test how entitlements shape data for different tiers"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Domain"}),n.jsxs(it,{value:g.domain,onValueChange:R=>v({...g,domain:R}),children:[n.jsx(tt,{"data-testid":"select-preview-domain",children:n.jsx(lt,{})}),n.jsx(nt,{children:n.jsx(ve,{value:"combat",children:"combat"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Resource"}),n.jsxs(it,{value:g.resource,onValueChange:R=>v({...g,resource:R}),children:[n.jsx(tt,{"data-testid":"select-preview-resource",children:n.jsx(lt,{})}),n.jsxs(nt,{children:[n.jsx(ve,{value:"skills",children:"skills"}),n.jsx(ve,{value:"classes",children:"classes"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Tier"}),n.jsxs(it,{value:g.tier_id,onValueChange:R=>v({...g,tier_id:R}),children:[n.jsx(tt,{"data-testid":"select-preview-tier",children:n.jsx(lt,{})}),n.jsx(nt,{children:j?.results?.map(R=>n.jsx(ve,{value:R.tier_id,children:R.display_name},R.tier_id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Sample Object (JSON)"}),n.jsx(Au,{value:g.sample,onChange:R=>v({...g,sample:R.target.value}),className:"font-mono text-sm min-h-[100px]",placeholder:'{"id": 1, "name": "Test", "damage": 50}',"data-testid":"input-preview-sample"})]}),n.jsxs(ne,{onClick:X,disabled:T.isPending,"data-testid":"button-run-preview",children:[T.isPending?n.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Nc,{className:"w-4 h-4 mr-2"}),"Preview"]}),y&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lb,{tierId:y.tier}),n.jsxs("span",{className:"font-medium",children:["Results for ",y.tier]})]}),Object.keys(y.features).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Feature Flags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(y.features).map(([R,K])=>n.jsxs(q,{variant:K?"default":"secondary",children:[K?n.jsx(Tr,{className:"w-3 h-3 mr-1"}):null,R]},R))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ke,{children:"Shaped Result"}),n.jsx("pre",{className:"p-3 bg-muted rounded-md text-sm font-mono overflow-auto max-h-[200px]","data-testid":"text-preview-result",children:JSON.stringify(y.result,null,2)})]})]})]})]})})]})}const wje={0:"Guest",1:"Bronze",2:"Silver",3:"Gold",4:"Council"};function Sje(){const e=J9(),r=new URLSearchParams(e).get("userId"),{toast:a}=Zt(),[s,l]=p.useState("apr");p.useEffect(()=>{const w=typeof window<"u"?localStorage.getItem("lpViewMode"):null;(w==="tokens"||w==="apr")&&l(w)},[]),p.useEffect(()=>{typeof window<"u"&&localStorage.setItem("lpViewMode",s)},[s]);const{data:c,isLoading:d,error:f}=_e({queryKey:["/api/admin/users",r,"account"],queryFn:async()=>{const w=await fetch("/api/admin/users");if(!w.ok)throw console.error("Failed to fetch users:",w.status,w.statusText),new Error(`HTTP ${w.status}`);const j=await w.json(),N=Array.isArray(j?.users)?j.users:Array.isArray(j)?j:null;if(!N)throw console.error("Invalid API response format:",j),new Error("Invalid API response");const C=N.find(E=>E.discordId===r);if(!C)throw new Error("User not found");return C},enabled:!!r,retry:1}),{data:m,isLoading:h,error:g}=_e({queryKey:["/api/admin/lp-positions",c?.walletAddress],queryFn:async()=>{console.log(`[LP Fetch] Fetching LP positions for wallet: ${c.walletAddress}`);const w=await fetch(`/api/admin/lp-positions/${c.walletAddress}`,{credentials:"include"});if(console.log(`[LP Fetch] Response status: ${w.status}`),!w.ok){const N=await w.text();throw console.error("[LP Fetch] Error response:",N),new Error(`HTTP ${w.status}`)}const j=await w.json();return console.log(`[LP Fetch] Got ${j.positions?.length||0} positions, total value: ${j.totalValue}`),{positions:j.positions||[],totalValue:j.totalValue||"0.00"}},enabled:!!c?.walletAddress,retry:1,staleTime:6e4});g&&console.error("[LP Fetch] Query error:",g);const v=w=>{const j=Number(w);return Number.isFinite(j)?j.toFixed(2):"0.00"},y=w=>{navigator.clipboard.writeText(w),a({title:"Copied to clipboard"})};return r?d?n.jsx("div",{className:"min-h-screen bg-background p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx(Me,{className:"h-12 w-64"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Me,{className:"h-48"}),n.jsx(Me,{className:"h-48"}),n.jsx(Me,{className:"h-48"}),n.jsx(Me,{className:"h-48"})]})]})}):f||!c?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(G,{className:"w-full max-w-md",children:n.jsxs(Y,{className:"p-6 text-center",children:[n.jsx("p",{className:"text-red-500",children:"Failed to load account data"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"User may not exist or you may need to log in"})]})})}):n.jsx("div",{className:"min-h-screen bg-background","data-testid":"account-page",children:n.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold","data-testid":"account-title",children:[c.discordUsername,"'s Dashboard"]}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Hedge Ledger Account Overview"})]}),n.jsx(q,{className:"text-sm px-3 py-1","data-testid":"badge-tier",children:wje[c.tier]||"Guest"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(G,{"data-testid":"card-profile",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Lr,{className:"h-5 w-5"}),"Profile"]})}),n.jsxs(Y,{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discord"}),n.jsx("span",{className:"font-medium",children:c.discordUsername})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Archetype"}),n.jsx(q,{variant:"outline",children:c.archetype})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"State"}),n.jsx("span",{className:"font-medium",children:c.state})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Influence"}),n.jsx("span",{className:"font-medium",children:(c.influence||0).toLocaleString()})]})]})]}),n.jsxs(G,{"data-testid":"card-wallet",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Gc,{className:"h-5 w-5"}),"Wallet"]})}),n.jsx(Y,{className:"space-y-3 text-sm",children:c.walletAddress?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Address"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("code",{className:"text-xs",children:[c.walletAddress.slice(0,6),"...",c.walletAddress.slice(-4)]}),n.jsx(ne,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>y(c.walletAddress),"data-testid":"button-copy-wallet",children:n.jsx(lp,{className:"h-3 w-3"})})]})]}),c.walletBalances&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.jewel).toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.crystal).toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"cJEWEL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.cJewel).toFixed(2)})]})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No wallet linked"})})]}),n.jsxs(G,{"data-testid":"card-portfolio",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5"}),"DFK Portfolio"]})}),n.jsx(Y,{className:"space-y-3 text-sm",children:c.dfkSnapshot?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Heroes"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.heroCount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen0 Heroes"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.gen0Count})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"LP Positions"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.lpPositionsCount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total LP Value"}),n.jsxs("span",{className:"font-medium",children:["$",c.dfkSnapshot.totalLPValue?.toFixed(2)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Streak"}),n.jsxs("span",{className:"font-medium",children:[c.dfkSnapshot.questingStreakDays||0," days"]})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No portfolio data available"})})]}),n.jsxs(G,{"data-testid":"card-kpis",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(On,{className:"h-5 w-5"}),"Performance"]})}),n.jsx(Y,{className:"space-y-3 text-sm",children:c.kpis?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Engagement Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.engagementScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Financial Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.financialScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Retention Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.retentionScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Messages (7d)"}),n.jsx("span",{className:"font-medium",children:c.kpis.messagesLast7d||0})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No KPI data available"})})]})]}),n.jsxs(G,{"data-testid":"card-lp-positions",className:"mt-4",children:[n.jsxs(re,{className:"pb-2 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(wq,{className:"h-5 w-5"}),"LP Positions (Garden Pools)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{variant:s==="apr"?"default":"outline",size:"sm",onClick:()=>l("apr"),children:"APR %"}),n.jsx(ne,{variant:s==="tokens"?"default":"outline",size:"sm",onClick:()=>l("tokens"),children:"Tokens / day"})]})]}),n.jsx(Y,{children:c.walletAddress?h?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Me,{className:"h-16 w-full"}),n.jsx(Me,{className:"h-16 w-full"})]}):m?.positions&&m.positions.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Total Value: ",n.jsxs("span",{className:"font-semibold text-foreground",children:["$",m.totalValue]})]}),n.jsx("div",{className:"space-y-3",children:m.positions.map(w=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2","data-testid":`lp-position-${w.pid}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:w.pairName}),n.jsxs(q,{variant:"outline",className:"text-xs",children:["PID ",w.pid]})]}),n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",w.userTVL]})]}),s==="apr"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total APR"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:w.poolData.totalAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Fee APR"}),n.jsx("div",{className:"font-medium",children:w.poolData.fee24hAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Harvesting APR"}),n.jsx("div",{className:"font-medium",children:w.poolData.harvesting24hAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Boost"}),n.jsx("div",{className:"font-medium",children:w.poolData.gardeningQuestAPR?.worst&&w.poolData.gardeningQuestAPR?.best?`${w.poolData.gardeningQuestAPR.worst} - ${w.poolData.gardeningQuestAPR.best}`:"N/A"})]})]}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL / day"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:v(w.poolData.daily?.jewel)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL / day"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:v(w.poolData.daily?.crystal)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Boost"}),n.jsx("div",{className:"font-medium",children:w.poolData.gardeningQuestAPR?.worst&&w.poolData.gardeningQuestAPR?.best?`${w.poolData.gardeningQuestAPR.worst} - ${w.poolData.gardeningQuestAPR.best}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Share"}),n.jsx("div",{className:"font-medium",children:w.shareOfPool})]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-1 border-t",children:[n.jsxs("span",{children:["Pool Share: ",w.shareOfPool]}),n.jsxs("span",{children:["Pool TVL: ",w.poolData.totalTVL]})]})]},w.pid))})]}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No LP positions found in garden pools"}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No wallet linked to fetch LP positions"})})]})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(G,{className:"w-full max-w-md",children:n.jsx(Y,{className:"p-6 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No user ID provided"})})})})}const Cje={heroes:Lr,hunting:ku,pvp:op,summoning:uo,defi:_r,season:ew,overall:On},Eje={heroes:"Hero Progression",hunting:"Hunting & PvE",pvp:"PvP Competition",summoning:"Summoning Feats",defi:"DeFi Participation",season:"Seasonal",overall:"Overall"},Aje={summoner_of_legends:{label:"Legendary Summoner",color:"bg-purple-500/20 text-purple-300 border-purple-500/30"},mythmaker:{label:"Mythmaker",color:"bg-amber-500/20 text-amber-300 border-amber-500/30"},clucker_miracle:{label:"Miracle Hunter",color:"bg-red-500/20 text-red-300 border-red-500/30"},arena_victor:{label:"Arena Victor",color:"bg-blue-500/20 text-blue-300 border-blue-500/30"},lp_whale:{label:"LP Whale",color:"bg-green-500/20 text-green-300 border-green-500/30"}};function Pje({rank:e}){return e===1?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(Qs,{className:"h-5 w-5 text-yellow-400"}),n.jsx("span",{className:"font-bold text-yellow-400",children:"1st"})]}):e===2?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(Lq,{className:"h-5 w-5 text-gray-300"}),n.jsx("span",{className:"font-bold text-gray-300",children:"2nd"})]}):e===3?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(Bh,{className:"h-5 w-5 text-orange-400"}),n.jsx("span",{className:"font-bold text-orange-400",children:"3rd"})]}):n.jsxs("span",{className:"text-muted-foreground","data-testid":`rank-badge-${e}`,children:["#",e]})}function Tje({leaderboards:e,selectedKey:t,onSelect:r}){const a=e.reduce((s,l)=>(s[l.categoryKey]||(s[l.categoryKey]=[]),s[l.categoryKey].push(l),s),{});return n.jsxs("div",{className:"w-64 border-r bg-card/50 min-h-screen","data-testid":"leaderboard-sidebar",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zr,{className:"h-5 w-5 text-primary"}),n.jsx("h2",{className:"font-semibold text-lg",children:"Leaderboards"})]})}),n.jsx(Wi,{className:"h-[calc(100vh-80px)]",children:n.jsx("div",{className:"p-2",children:Object.entries(a).map(([s,l])=>{const c=Cje[s]||Zr;return n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[n.jsx(c,{className:"h-3 w-3"}),Eje[s]||s]}),l.map(d=>n.jsxs(ne,{variant:t===d.key?"secondary":"ghost",className:"w-full justify-start text-left h-auto py-2 px-3",onClick:()=>r(d.key),"data-testid":`button-select-leaderboard-${d.key}`,children:[n.jsxs("div",{className:"flex flex-col items-start gap-0.5",children:[n.jsx("span",{className:"text-sm font-medium",children:d.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:d.timeWindow.replace("_"," ")})]}),n.jsx(lf,{className:"h-4 w-4 ml-auto opacity-50"})]},d.key))]},s)})})})]})}function Oje({data:e,isLoading:t}){return t?n.jsx("div",{className:"space-y-3",children:[...Array(10)].map((r,a)=>n.jsx(Me,{className:"h-12 w-full"},a))}):e?e.entries.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[n.jsx(Zr,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"No entries yet"}),n.jsx("p",{className:"text-sm",children:"Rankings will appear after the next leaderboard run"})]}):n.jsxs(mt,{"data-testid":"leaderboard-table",children:[n.jsx(ht,{children:n.jsxs(Ae,{children:[n.jsx(H,{className:"w-20",children:"Rank"}),n.jsx(H,{children:"Player"}),n.jsx(H,{className:"text-right",children:"Score"}),n.jsx(H,{children:"Badges"})]})}),n.jsx(pt,{children:e.entries.map(r=>n.jsxs(Ae,{"data-testid":`leaderboard-row-${r.rank}`,children:[n.jsx(U,{children:n.jsx(Pje,{rank:r.rank})}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium","data-testid":`player-name-${r.rank}`,children:r.displayName||r.walletPreview||"Anonymous"}),r.walletPreview&&r.displayName&&n.jsx("span",{className:"text-xs text-muted-foreground",children:r.walletPreview})]})}),n.jsx(U,{className:"text-right",children:n.jsx("span",{className:"font-bold text-lg","data-testid":`score-${r.rank}`,children:r.score.toLocaleString()})}),n.jsx(U,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:r.flags.map(a=>{const s=Aje[a];return s?n.jsx(q,{variant:"outline",className:`text-xs ${s.color}`,"data-testid":`badge-${a}-${r.rank}`,children:s.label},a):null})})})]},r.clusterId))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[n.jsx(Zr,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"Select a leaderboard to view rankings"})]})}function n4(){const[e,t]=eU("/leaderboards/:key"),[,r]=Va(),a=t?.key||null,[s,l]=p.useState(a),{data:c,isLoading:d}=_e({queryKey:["/api/leaderboards"]}),{data:f,isLoading:m}=_e({queryKey:["/api/leaderboards",s],enabled:!!s});p.useEffect(()=>{a&&a!==s&&l(a)},[a,s]),p.useEffect(()=>{if(c&&c.length>0&&!s){const g=c[0].key;l(g),r(`/leaderboards/${g}`,{replace:!0})}},[c,s,r]);const h=g=>{l(g),r(`/leaderboards/${g}`)};return d?n.jsxs("div",{className:"flex h-screen",children:[n.jsxs("div",{className:"w-64 border-r p-4",children:[n.jsx(Me,{className:"h-8 w-32 mb-4"}),[...Array(6)].map((g,v)=>n.jsx(Me,{className:"h-10 w-full mb-2"},v))]}),n.jsxs("div",{className:"flex-1 p-6",children:[n.jsx(Me,{className:"h-8 w-48 mb-4"}),n.jsx(Me,{className:"h-96 w-full"})]})]}):n.jsxs("div",{className:"flex h-screen bg-background","data-testid":"leaderboards-page",children:[n.jsx(Tje,{leaderboards:c||[],selectedKey:s,onSelect:h}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"p-6",children:[f&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"leaderboard-title",children:f.name}),n.jsx(q,{variant:"outline","data-testid":"time-window-badge",children:f.timeWindow.replace("_"," ")})]}),n.jsx("p",{className:"text-muted-foreground","data-testid":"leaderboard-description",children:f.description}),f.generatedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"generated-at",children:["Last updated: ",new Date(f.generatedAt).toLocaleString()]})]}),n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:n.jsx(Oje,{data:f||null,isLoading:m})})})]})})]})}const kje={hero_progression:kr,economy_strategy:_r,profession_specialization:sM,ownership_collection:Qs,behavior_engagement:Lr,seasonal_events:ew,prestige_overall:aw,summoning_prestige:uo,overall:On},r4={BASIC:"bg-stone-500/20 text-stone-300 border-stone-500/30",ADVANCED:"bg-blue-500/20 text-blue-300 border-blue-500/30",ELITE:"bg-purple-500/20 text-purple-300 border-purple-500/30",EXALTED:"bg-amber-500/20 text-amber-300 border-amber-500/30",LEGENDARY:"bg-orange-500/20 text-orange-300 border-orange-500/30"};function _je({challenge:e,progress:t}){const r=t?.value_180d??t?.currentValue??0,a=t?.founders_mark??t?.foundersMarkAchieved??!1,s=[...e.tiers].sort((f,m)=>f.sortOrder-m.sortOrder);s.find(f=>f.isPrestige)||s[s.length-1];const l=t?.tier_code_180d??t?.highestTierAchieved,c=s.find(f=>f.thresholdValue>r),d=c?Math.min(100,r/c.thresholdValue*100):100;return n.jsxs(G,{className:`hover-elevate transition-all ${a?"ring-2 ring-amber-500/50 shadow-amber-500/20 shadow-lg":""}`,"data-testid":`challenge-card-${e.key}`,children:[n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ie,{className:"text-base",children:e.name}),a&&n.jsx(Qs,{className:"w-4 h-4 text-amber-500","data-testid":`founders-mark-${e.key}`})]}),n.jsx(Se,{className:"text-xs mt-1",children:e.description})]}),l&&n.jsx(q,{variant:"outline",className:`text-xs ${r4[l]||""}`,"data-testid":`tier-badge-${e.key}`,children:l})]})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Progress"}),n.jsxs("span",{className:"font-medium","data-testid":`progress-value-${e.key}`,children:[r.toLocaleString(),c&&n.jsxs("span",{className:"text-muted-foreground",children:[" ","/ ",c.thresholdValue.toLocaleString()]})]})]}),n.jsx(Ut,{value:d,className:"h-2"}),n.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:s.map(f=>{const m=l&&s.findIndex(h=>h.tierCode===l)>=s.findIndex(h=>h.tierCode===f.tierCode);return n.jsxs(q,{variant:"outline",className:`text-xs ${m?r4[f.tierCode]||"":"opacity-40"}`,"data-testid":`tier-indicator-${e.key}-${f.tierCode}`,children:[f.isPrestige&&n.jsx(Qs,{className:"w-3 h-3 mr-1"}),f.displayName||f.tierCode]},f.tierCode)})})]})})]})}function Rje({feat:e}){return n.jsxs(G,{className:`hover-elevate transition-all ${e.isUnlocked?"ring-1 ring-amber-500/30":"opacity-60"}`,"data-testid":`feat-card-${e.key}`,children:[n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[e.isUnlocked?n.jsx(Pq,{className:"w-5 h-5 text-amber-500"}):n.jsx(Oq,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx(ie,{className:"text-base",children:e.name}),n.jsx(Se,{className:"text-xs mt-1",children:e.description})]})]}),n.jsx(q,{variant:e.isUnlocked?"default":"outline",className:e.isUnlocked?"bg-amber-500/20 text-amber-300 border-amber-500/30":"","data-testid":`feat-status-${e.key}`,children:e.isUnlocked?"Unlocked":"Locked"})]})}),e.isUnlocked&&e.unlockedAt&&n.jsx(Y,{className:"pt-0",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Achieved: ",new Date(e.unlockedAt).toLocaleDateString()]})})]})}function a4(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>n.jsxs(G,{children:[n.jsxs(re,{children:[n.jsx(Me,{className:"h-5 w-32"}),n.jsx(Me,{className:"h-4 w-48 mt-2"})]}),n.jsxs(Y,{children:[n.jsx(Me,{className:"h-2 w-full"}),n.jsxs("div",{className:"flex gap-1 mt-3",children:[n.jsx(Me,{className:"h-5 w-16"}),n.jsx(Me,{className:"h-5 w-16"}),n.jsx(Me,{className:"h-5 w-16"})]})]})]},e))})})}function Mje(){const[e,t]=p.useState("challenges"),{data:r,isLoading:a}=_e({queryKey:["/api/challenges",{type:"challenges"}],queryFn:async()=>{const d=await fetch("/api/challenges?type=challenges");if(!d.ok)throw new Error("Failed to fetch challenges");return d.json()}}),{data:s,isLoading:l}=_e({queryKey:["/api/feats"],queryFn:async()=>{const d=await fetch("/api/feats");if(!d.ok)throw new Error("Failed to fetch feats");return d.json()}}),{data:c}=_e({queryKey:["/api/challenges/progress/demo"],queryFn:async()=>{const d=await fetch("/api/challenges/progress/demo");if(!d.ok)throw new Error("Failed to fetch progress");return d.json()},retry:!1});return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen","data-testid":"challenges-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"page-title",children:[n.jsx(Zr,{className:"w-6 h-6 text-primary"}),"Challenges & Feats"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track your progress and unlock achievements"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[r&&n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"challenges-count",children:r.totalChallenges}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Challenges"})]}),s&&n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"feats-count",children:[s.unlockedCount,"/",s.totalFeats]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Feats Unlocked"})]})]})]}),n.jsxs(oi,{value:e,onValueChange:t,className:"space-y-4",children:[n.jsxs(us,{children:[n.jsxs(Ct,{value:"challenges","data-testid":"tab-challenges",children:[n.jsx(On,{className:"w-4 h-4 mr-2"}),"Challenges"]}),n.jsxs(Ct,{value:"feats","data-testid":"tab-feats",children:[n.jsx(Bh,{className:"w-4 h-4 mr-2"}),"Feats"]})]}),n.jsxs(Ot,{value:"challenges",className:"space-y-6",children:[a?n.jsx(a4,{}):r?.categories.map(d=>{const f=kje[d.key]||Zr;return n.jsxs("div",{className:"space-y-4","data-testid":`category-${d.key}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(f,{className:"w-5 h-5 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold",children:d.name}),n.jsx(q,{variant:"secondary",className:"text-xs",children:d.challenges.length})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d.description}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.challenges.map(m=>n.jsx(_je,{challenge:m,progress:c?.progress[m.key]},m.key))})]},d.key)}),!a&&(!r?.categories||r.categories.length===0)&&n.jsx(G,{className:"text-center py-12",children:n.jsxs(Y,{children:[n.jsx(Zr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Challenges Yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Challenges will appear here once they're deployed."})]})})]}),n.jsx(Ot,{value:"feats",className:"space-y-6",children:l?n.jsx(a4,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Bh,{className:"w-5 h-5 text-amber-500"}),n.jsx("h2",{className:"text-lg font-semibold",children:"Lifetime Feats"}),n.jsxs(q,{variant:"secondary",className:"text-xs",children:[s?.unlockedCount||0,"/",s?.totalFeats||0," Unlocked"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Feats are permanent achievements that mark major accomplishments in your journey."}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s?.feats.map(d=>n.jsx(Rje,{feat:d},d.key))}),(!s?.feats||s.feats.length===0)&&n.jsx(G,{className:"text-center py-12",children:n.jsxs(Y,{children:[n.jsx(Bh,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Feats Available"}),n.jsx("p",{className:"text-muted-foreground",children:"Feats will appear here once they're deployed."})]})})]})})]}),n.jsx(G,{className:"bg-muted/30",children:n.jsx(Y,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Qs,{className:"w-4 h-4 text-amber-500"}),n.jsx("span",{className:"font-medium",children:"Founder's Mark:"}),n.jsx("span",{className:"text-muted-foreground",children:"Challenges with a golden border indicate you've achieved the top tier at some point. This is a permanent badge of honor, even if your current progress is lower."})]})})})]})}function Dje(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(G,{className:"w-full max-w-md mx-4",children:n.jsxs(Y,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(rr,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function bt({children:e}){return n.jsx(_G,{requireAdmin:!0,children:n.jsx(XG,{children:e})})}function Lje(){return console.log("[Router] Current path:",window.location.pathname),n.jsxs(rU,{children:[n.jsx(ut,{path:"/admin/login",component:JG}),n.jsx(ut,{path:"/admin/users/:discordId/dashboard",children:e=>(console.log("[Route] Matched /admin/users/:discordId/dashboard, params:",e),n.jsx(bt,{children:n.jsx(iX,{})}))}),n.jsx(ut,{path:"/admin/users/:userId",children:e=>(console.log("[Route] Matched /admin/users/:userId, params:",e),n.jsx(bt,{children:n.jsx(qQ,{})}))}),n.jsx(ut,{path:"/admin/users",children:()=>(console.log("[Route] Matched /admin/users"),n.jsx(bt,{children:n.jsx(HQ,{})}))}),n.jsx(ut,{path:"/admin/expenses",children:()=>n.jsx(bt,{children:n.jsx(lX,{})})}),n.jsx(ut,{path:"/admin/settings",children:()=>n.jsx(bt,{children:n.jsx(dX,{})})}),n.jsx(ut,{path:"/admin/challenges/:id/edit",children:()=>n.jsx(bt,{children:n.jsx(LR,{})})}),n.jsx(ut,{path:"/admin/challenges/:id",children:()=>n.jsx(bt,{children:n.jsx(LR,{})})}),n.jsx(ut,{path:"/admin/challenges",children:()=>n.jsx(bt,{children:n.jsx(Dge,{})})}),n.jsx(ut,{path:"/admin/bridge",children:()=>n.jsx(bt,{children:n.jsx(oge,{})})}),n.jsx(ut,{path:"/admin/value-allocation",children:()=>n.jsx(bt,{children:n.jsx(cge,{})})}),n.jsx(ut,{path:"/admin/coverage-details",children:()=>n.jsx(bt,{children:n.jsx(uge,{})})}),n.jsx(ut,{path:"/admin/tokens",children:()=>n.jsx(bt,{children:n.jsx(Ove,{})})}),n.jsx(ut,{path:"/admin/extractors",children:()=>n.jsx(bt,{children:n.jsx(Dve,{})})}),n.jsx(ut,{path:"/admin/pools/:pid",children:()=>n.jsx(bt,{children:n.jsx(Ive,{})})}),n.jsx(ut,{path:"/admin/pools",children:()=>n.jsx(bt,{children:n.jsx(Lve,{})})}),n.jsx(ut,{path:"/admin/pool-indexer",children:()=>n.jsx(bt,{children:n.jsx(qve,{})})}),n.jsx(ut,{path:"/admin/pool-indexer-v1",children:()=>n.jsx(bt,{children:n.jsx(Qve,{})})}),n.jsx(ut,{path:"/admin/pool-indexer-harmony",children:()=>n.jsx(bt,{children:n.jsx(eye,{})})}),n.jsx(ut,{path:"/admin/jeweler",children:()=>n.jsx(bt,{children:n.jsx(rye,{})})}),n.jsx(ut,{path:"/admin/gardening-quest",children:()=>n.jsx(bt,{children:n.jsx(Nye,{})})}),n.jsx(ut,{path:"/admin/gardening-calc",children:()=>n.jsx(bt,{children:n.jsx(Yye,{})})}),n.jsx(ut,{path:"/admin/battle-ready",children:()=>n.jsx(bt,{children:n.jsx(Jye,{})})}),n.jsx(ut,{path:"/admin/summoning-calculator",children:()=>n.jsx(bt,{children:n.jsx(N0e,{})})}),n.jsx(ut,{path:"/admin/summon-sniper",children:()=>n.jsx(bt,{children:n.jsx(w0e,{})})}),n.jsx(ut,{path:"/admin/bargain-hunter",children:()=>n.jsx(bt,{children:n.jsx(S0e,{})})}),n.jsx(ut,{path:"/admin/dark-bargain-hunter",children:()=>n.jsx(bt,{children:n.jsx(C0e,{})})}),n.jsx(ut,{path:"/admin/tavern-indexer",children:()=>n.jsx(bt,{children:n.jsx(T0e,{})})}),n.jsx(ut,{path:"/admin/market-intel",children:()=>n.jsx(bt,{children:n.jsx(k0e,{})})}),n.jsx(ut,{path:"/admin/profit-tracker",children:()=>n.jsx(bt,{children:n.jsx(M0e,{})})}),n.jsx(ut,{path:"/admin/pve-droprates",children:()=>n.jsx(bt,{children:n.jsx(I0e,{})})}),n.jsx(ut,{path:"/admin/level-racer",children:()=>n.jsx(bt,{children:n.jsx(Tve,{})})}),n.jsx(ut,{path:"/admin/hedge/combat-sync",children:()=>n.jsx(bt,{children:n.jsx($0e,{})})}),n.jsx(ut,{path:"/admin/combat-classes",children:()=>n.jsx(bt,{children:n.jsx(bje,{})})}),n.jsx(ut,{path:"/admin/hedge/plans",children:()=>n.jsx(bt,{children:n.jsx(Nje,{})})}),n.jsx(ut,{path:"/admin/account",children:()=>n.jsx(bt,{children:n.jsx(Sje,{})})}),n.jsx(ut,{path:"/admin",children:()=>(console.log("[Route] Matched /admin (dashboard)"),n.jsx(bt,{children:n.jsx(eY,{})}))}),n.jsx(ut,{path:"/leaderboards/:key",children:()=>n.jsx(n4,{})}),n.jsx(ut,{path:"/leaderboards",children:()=>n.jsx(n4,{})}),n.jsx(ut,{path:"/challenges",children:()=>n.jsx(Mje,{})}),n.jsx(ut,{path:"/",children:()=>(window.location.href="/admin",null)}),n.jsx(ut,{children:()=>(console.log("[Route] No match - showing 404"),n.jsx(Dje,{}))})]})}function Ije(){return n.jsx(PU,{client:Re,children:n.jsx(cD,{children:n.jsxs(kG,{children:[n.jsx(NK,{}),n.jsx(Lje,{})]})})})}M9.createRoot(document.getElementById("root")).render(n.jsx(Ije,{}));
