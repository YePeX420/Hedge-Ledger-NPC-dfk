function j9(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function ls(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qy={exports:{}},tu={};var qA;function w9(){if(qA)return tu;qA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:l}}return tu.Fragment=t,tu.jsx=r,tu.jsxs=r,tu}var KA;function N9(){return KA||(KA=1,Qy.exports=w9()),Qy.exports}var n=N9(),Xy={exports:{}},nu={},Zy={exports:{}},Jy={};var WA;function S9(){return WA||(WA=1,(function(e){function t(B,X){var $=B.length;B.push(X);e:for(;0<$;){var fe=$-1>>>1,pe=B[fe];if(0<s(pe,X))B[fe]=X,B[$]=pe,$=fe;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var X=B[0],$=B.pop();if($!==X){B[0]=$;e:for(var fe=0,pe=B.length,R=pe>>>1;fe<R;){var te=2*(fe+1)-1,me=B[te],we=te+1,ae=B[we];if(0>s(me,$))we<pe&&0>s(ae,me)?(B[fe]=ae,B[we]=$,fe=we):(B[fe]=me,B[te]=$,fe=te);else if(we<pe&&0>s(ae,$))B[fe]=ae,B[we]=$,fe=we;else break e}}return X}function s(B,X){var $=B.sortIndex-X.sortIndex;return $!==0?$:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,g=null,v=3,y=!1,N=!1,b=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var X=r(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=B)a(m),X.sortIndex=X.expirationTime,t(f,X);else break;X=r(m)}}function k(B){if(b=!1,T(B),!N)if(r(f)!==null)N=!0,P||(P=!0,q());else{var X=r(m);X!==null&&ee(k,X.startTime-B)}}var P=!1,M=-1,I=5,Q=-1;function L(){return w?!0:!(e.unstable_now()-Q<I)}function _(){if(w=!1,P){var B=e.unstable_now();Q=B;var X=!0;try{e:{N=!1,b&&(b=!1,A(M),M=-1),y=!0;var $=v;try{t:{for(T(B),g=r(f);g!==null&&!(g.expirationTime>B&&L());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var pe=fe(g.expirationTime<=B);if(B=e.unstable_now(),typeof pe=="function"){g.callback=pe,T(B),X=!0;break t}g===r(f)&&a(f),T(B)}else a(f);g=r(f)}if(g!==null)X=!0;else{var R=r(m);R!==null&&ee(k,R.startTime-B),X=!1}}break e}finally{g=null,v=$,y=!1}X=void 0}}finally{X?q():P=!1}}}var q;if(typeof E=="function")q=function(){E(_)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,K=ve.port2;ve.port1.onmessage=_,q=function(){K.postMessage(null)}}else q=function(){C(_,0)};function ee(B,X){M=C(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var $=v;v=X;try{return B()}finally{v=$}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=v;v=B;try{return X()}finally{v=$}},e.unstable_scheduleCallback=function(B,X,$){var fe=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?fe+$:fe):$=fe,B){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=$+pe,B={id:h++,callback:X,priorityLevel:B,startTime:$,expirationTime:pe,sortIndex:-1},$>fe?(B.sortIndex=$,t(m,B),r(f)===null&&B===r(m)&&(b?(A(M),M=-1):b=!0,ee(k,$-fe))):(B.sortIndex=pe,t(f,B),N||y||(N=!0,P||(P=!0,q()))),B},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(B){var X=v;return function(){var $=v;v=X;try{return B.apply(this,arguments)}finally{v=$}}}})(Jy)),Jy}var GA;function C9(){return GA||(GA=1,Zy.exports=S9()),Zy.exports}var e0={exports:{}},at={};var YA;function E9(){if(YA)return at;YA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function C(R,te,me){this.props=R,this.context=te,this.refs=w,this.updater=me||N}C.prototype.isReactComponent={},C.prototype.setState=function(R,te){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,te,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=C.prototype;function E(R,te,me){this.props=R,this.context=te,this.refs=w,this.updater=me||N}var T=E.prototype=new A;T.constructor=E,b(T,C.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function P(){}var M={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Q(R,te,me){var we=me.ref;return{$$typeof:e,type:R,key:te,ref:we!==void 0?we:null,props:me}}function L(R,te){return Q(R.type,te,R.props)}function _(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function q(R){var te={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(me){return te[me]})}var ve=/\/+/g;function K(R,te){return typeof R=="object"&&R!==null&&R.key!=null?q(""+R.key):te.toString(36)}function ee(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(P,P):(R.status="pending",R.then(function(te){R.status==="pending"&&(R.status="fulfilled",R.value=te)},function(te){R.status==="pending"&&(R.status="rejected",R.reason=te)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function B(R,te,me,we,ae){var Le=typeof R;(Le==="undefined"||Le==="boolean")&&(R=null);var F=!1;if(R===null)F=!0;else switch(Le){case"bigint":case"string":case"number":F=!0;break;case"object":switch(R.$$typeof){case e:case t:F=!0;break;case h:return F=R._init,B(F(R._payload),te,me,we,ae)}}if(F)return ae=ae(R),F=we===""?"."+K(R,0):we,k(ae)?(me="",F!=null&&(me=F.replace(ve,"$&/")+"/"),B(ae,te,me,"",function(Ae){return Ae})):ae!=null&&(_(ae)&&(ae=L(ae,me+(ae.key==null||R&&R.key===ae.key?"":(""+ae.key).replace(ve,"$&/")+"/")+F)),te.push(ae)),1;F=0;var Ee=we===""?".":we+":";if(k(R))for(var ne=0;ne<R.length;ne++)we=R[ne],Le=Ee+K(we,ne),F+=B(we,te,me,Le,ae);else if(ne=y(R),typeof ne=="function")for(R=ne.call(R),ne=0;!(we=R.next()).done;)we=we.value,Le=Ee+K(we,ne++),F+=B(we,te,me,Le,ae);else if(Le==="object"){if(typeof R.then=="function")return B(ee(R),te,me,we,ae);throw te=String(R),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return F}function X(R,te,me){if(R==null)return R;var we=[],ae=0;return B(R,we,"","",function(Le){return te.call(me,Le,ae++)}),we}function $(R){if(R._status===-1){var te=R._result;te=te(),te.then(function(me){(R._status===0||R._status===-1)&&(R._status=1,R._result=me)},function(me){(R._status===0||R._status===-1)&&(R._status=2,R._result=me)}),R._status===-1&&(R._status=0,R._result=te)}if(R._status===1)return R._result.default;throw R._result}var fe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},pe={map:X,forEach:function(R,te,me){X(R,function(){te.apply(this,arguments)},me)},count:function(R){var te=0;return X(R,function(){te++}),te},toArray:function(R){return X(R,function(te){return te})||[]},only:function(R){if(!_(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return at.Activity=g,at.Children=pe,at.Component=C,at.Fragment=r,at.Profiler=s,at.PureComponent=E,at.StrictMode=a,at.Suspense=f,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,at.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},at.cache=function(R){return function(){return R.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(R,te,me){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var we=b({},R.props),ae=R.key;if(te!=null)for(Le in te.key!==void 0&&(ae=""+te.key),te)!I.call(te,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&te.ref===void 0||(we[Le]=te[Le]);var Le=arguments.length-2;if(Le===1)we.children=me;else if(1<Le){for(var F=Array(Le),Ee=0;Ee<Le;Ee++)F[Ee]=arguments[Ee+2];we.children=F}return Q(R.type,ae,we)},at.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},at.createElement=function(R,te,me){var we,ae={},Le=null;if(te!=null)for(we in te.key!==void 0&&(Le=""+te.key),te)I.call(te,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(ae[we]=te[we]);var F=arguments.length-2;if(F===1)ae.children=me;else if(1<F){for(var Ee=Array(F),ne=0;ne<F;ne++)Ee[ne]=arguments[ne+2];ae.children=Ee}if(R&&R.defaultProps)for(we in F=R.defaultProps,F)ae[we]===void 0&&(ae[we]=F[we]);return Q(R,Le,ae)},at.createRef=function(){return{current:null}},at.forwardRef=function(R){return{$$typeof:d,render:R}},at.isValidElement=_,at.lazy=function(R){return{$$typeof:h,_payload:{_status:-1,_result:R},_init:$}},at.memo=function(R,te){return{$$typeof:m,type:R,compare:te===void 0?null:te}},at.startTransition=function(R){var te=M.T,me={};M.T=me;try{var we=R(),ae=M.S;ae!==null&&ae(me,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(P,fe)}catch(Le){fe(Le)}finally{te!==null&&me.types!==null&&(te.types=me.types),M.T=te}},at.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},at.use=function(R){return M.H.use(R)},at.useActionState=function(R,te,me){return M.H.useActionState(R,te,me)},at.useCallback=function(R,te){return M.H.useCallback(R,te)},at.useContext=function(R){return M.H.useContext(R)},at.useDebugValue=function(){},at.useDeferredValue=function(R,te){return M.H.useDeferredValue(R,te)},at.useEffect=function(R,te){return M.H.useEffect(R,te)},at.useEffectEvent=function(R){return M.H.useEffectEvent(R)},at.useId=function(){return M.H.useId()},at.useImperativeHandle=function(R,te,me){return M.H.useImperativeHandle(R,te,me)},at.useInsertionEffect=function(R,te){return M.H.useInsertionEffect(R,te)},at.useLayoutEffect=function(R,te){return M.H.useLayoutEffect(R,te)},at.useMemo=function(R,te){return M.H.useMemo(R,te)},at.useOptimistic=function(R,te){return M.H.useOptimistic(R,te)},at.useReducer=function(R,te,me){return M.H.useReducer(R,te,me)},at.useRef=function(R){return M.H.useRef(R)},at.useState=function(R){return M.H.useState(R)},at.useSyncExternalStore=function(R,te,me){return M.H.useSyncExternalStore(R,te,me)},at.useTransition=function(){return M.H.useTransition()},at.version="19.2.0",at}var QA;function zc(){return QA||(QA=1,e0.exports=E9()),e0.exports}var t0={exports:{}},rr={};var XA;function A9(){if(XA)return rr;XA=1;var e=zc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},rr.flushSync=function(f){var m=c.T,h=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=h,a.d.f()}},rr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},rr.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},rr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):h==="script"&&a.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},rr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin);a.d.L(f,h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},rr.requestFormReset=function(f){a.d.r(f)},rr.unstable_batchedUpdates=function(f,m){return f(m)},rr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},rr.useFormStatus=function(){return c.H.useHostTransitionStatus()},rr.version="19.2.0",rr}var ZA;function r4(){if(ZA)return t0.exports;ZA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),t0.exports=A9(),t0.exports}var JA;function P9(){if(JA)return nu;JA=1;var e=C9(),t=zc(),r=r4();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(a(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var u=i,x=o;;){var j=u.return;if(j===null)break;var S=j.alternate;if(S===null){if(x=j.return,x!==null){u=x;continue}break}if(j.child===S.child){for(S=j.child;S;){if(S===u)return f(j),i;if(S===x)return f(j),o;S=S.sibling}throw Error(a(188))}if(u.return!==x.return)u=j,x=S;else{for(var O=!1,D=j.child;D;){if(D===u){O=!0,u=j,x=S;break}if(D===x){O=!0,x=j,u=S;break}D=D.sibling}if(!O){for(D=S.child;D;){if(D===u){O=!0,u=S,x=j;break}if(D===x){O=!0,x=S,u=j;break}D=D.sibling}if(!O)throw Error(a(189))}}if(u.alternate!==x)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=_&&i[_]||i["@@iterator"],typeof i=="function"?i:null)}var ve=Symbol.for("react.client.reference");function K(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ve?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList";case Q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case E:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return o=i.displayName||null,o!==null?o:K(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return K(i(o))}catch{}}return null}var ee=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function R(i){return{current:i}}function te(i){0>pe||(i.current=fe[pe],fe[pe]=null,pe--)}function me(i,o){pe++,fe[pe]=i.current,i.current=o}var we=R(null),ae=R(null),Le=R(null),F=R(null);function Ee(i,o){switch(me(Le,o),me(ae,i),me(we,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?hA(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=hA(o),i=pA(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(we),me(we,i)}function ne(){te(we),te(ae),te(Le)}function Ae(i){i.memoizedState!==null&&me(F,i);var o=we.current,u=pA(o,i.type);o!==u&&(me(ae,i),me(we,u))}function $e(i){ae.current===i&&(te(we),te(ae)),F.current===i&&(te(F),Xd._currentValue=$)}var xe,nt;function Ge(i){if(xe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",nt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+i+nt}var Lt=!1;function kt(i,o){if(!i||Lt)return"";Lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(ge){var he=ge}Reflect.construct(i,[],Ne)}else{try{Ne.call()}catch(ge){he=ge}i.call(Ne.prototype)}}else{try{throw Error()}catch(ge){he=ge}(Ne=i())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=x.DetermineComponentFrameRoot(),O=S[0],D=S[1];if(O&&D){var H=O.split(`
`),de=D.split(`
`);for(j=x=0;x<H.length&&!H[x].includes("DetermineComponentFrameRoot");)x++;for(;j<de.length&&!de[j].includes("DetermineComponentFrameRoot");)j++;if(x===H.length||j===de.length)for(x=H.length-1,j=de.length-1;1<=x&&0<=j&&H[x]!==de[j];)j--;for(;1<=x&&0<=j;x--,j--)if(H[x]!==de[j]){if(x!==1||j!==1)do if(x--,j--,0>j||H[x]!==de[j]){var be=`
`+H[x].replace(" at new "," at ");return i.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",i.displayName)),be}while(1<=x&&0<=j);break}}}finally{Lt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ge(u):""}function Z(i,o){switch(i.tag){case 26:case 27:case 5:return Ge(i.type);case 16:return Ge("Lazy");case 13:return i.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return kt(i.type,!1);case 11:return kt(i.type.render,!1);case 1:return kt(i.type,!0);case 31:return Ge("Activity");default:return""}}function le(i){try{var o="",u=null;do o+=Z(i,u),u=i,i=i.return;while(i);return o}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Ze=Object.prototype.hasOwnProperty,lt=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,vr=e.unstable_shouldYield,jn=e.unstable_requestPaint,Je=e.unstable_now,dl=e.unstable_getCurrentPriorityLevel,ul=e.unstable_ImmediatePriority,mn=e.unstable_UserBlockingPriority,mo=e.unstable_NormalPriority,Bf=e.unstable_LowPriority,fl=e.unstable_IdlePriority,aa=e.log,Ig=e.unstable_setDisableYieldValue,ml=null,z=null;function Xe(i){if(typeof aa=="function"&&Ig(i),z&&typeof z.setStrictMode=="function")try{z.setStrictMode(ml,i)}catch{}}var rt=Math.clz32?Math.clz32:Wn,Ta=Math.log,ms=Math.LN2;function Wn(i){return i>>>=0,i===0?32:31-(Ta(i)/ms|0)|0}var sa=256,Uf=262144,Hf=4194304;function hl(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Vf(i,o,u){var x=i.pendingLanes;if(x===0)return 0;var j=0,S=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var D=x&134217727;return D!==0?(x=D&~S,x!==0?j=hl(x):(O&=D,O!==0?j=hl(O):u||(u=D&~i,u!==0&&(j=hl(u))))):(D=x&~S,D!==0?j=hl(D):O!==0?j=hl(O):u||(u=x&~i,u!==0&&(j=hl(u)))),j===0?0:o!==0&&o!==j&&(o&S)===0&&(S=j&-j,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:j}function dd(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function oB(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YS(){var i=Hf;return Hf<<=1,(Hf&62914560)===0&&(Hf=4194304),i}function $g(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ud(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cB(i,o,u,x,j,S){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var D=i.entanglements,H=i.expirationTimes,de=i.hiddenUpdates;for(u=O&~u;0<u;){var be=31-rt(u),Ne=1<<be;D[be]=0,H[be]=-1;var he=de[be];if(he!==null)for(de[be]=null,be=0;be<he.length;be++){var ge=he[be];ge!==null&&(ge.lane&=-536870913)}u&=~Ne}x!==0&&QS(i,x,0),S!==0&&j===0&&i.tag!==0&&(i.suspendedLanes|=S&~(O&~o))}function QS(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var x=31-rt(o);i.entangledLanes|=o,i.entanglements[x]=i.entanglements[x]|1073741824|u&261930}function XS(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var x=31-rt(u),j=1<<x;j&o|i[x]&o&&(i[x]|=o),u&=~j}}function ZS(i,o){var u=o&-o;return u=(u&42)!==0?1:Fg(u),(u&(i.suspendedLanes|o))!==0?0:u}function Fg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function zg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function JS(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:$A(i.type))}function e2(i,o){var u=X.p;try{return X.p=i,o()}finally{X.p=u}}var fi=Math.random().toString(36).slice(2),Gn="__reactFiber$"+fi,yr="__reactProps$"+fi,ho="__reactContainer$"+fi,Bg="__reactEvents$"+fi,dB="__reactListeners$"+fi,uB="__reactHandles$"+fi,t2="__reactResources$"+fi,fd="__reactMarker$"+fi;function Ug(i){delete i[Gn],delete i[yr],delete i[Bg],delete i[dB],delete i[uB]}function po(i){var o=i[Gn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ho]||u[Gn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=wA(i);i!==null;){if(u=i[Gn])return u;i=wA(i)}return o}i=u,u=i.parentNode}return null}function xo(i){if(i=i[Gn]||i[ho]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function md(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function go(i){var o=i[t2];return o||(o=i[t2]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function zn(i){i[fd]=!0}var n2=new Set,r2={};function pl(i,o){vo(i,o),vo(i+"Capture",o)}function vo(i,o){for(r2[i]=o,i=0;i<o.length;i++)n2.add(o[i])}var fB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),a2={},s2={};function mB(i){return Ze.call(s2,i)?!0:Ze.call(a2,i)?!1:fB.test(i)?s2[i]=!0:(a2[i]=!0,!1)}function qf(i,o,u){if(mB(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Kf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function hs(i,o,u,x){if(x===null)i.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+x)}}function ia(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function i2(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function hB(i,o,u){var x=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var j=x.get,S=x.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return j.call(this)},set:function(O){u=""+O,S.call(this,O)}}),Object.defineProperty(i,o,{enumerable:x.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Hg(i){if(!i._valueTracker){var o=i2(i)?"checked":"value";i._valueTracker=hB(i,o,""+i[o])}}function l2(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),x="";return i&&(x=i2(i)?i.checked?"true":"false":i.value),i=x,i!==u?(o.setValue(i),!0):!1}function Wf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var pB=/[\n"\\]/g;function la(i){return i.replace(pB,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Vg(i,o,u,x,j,S,O,D){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+ia(o)):i.value!==""+ia(o)&&(i.value=""+ia(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?qg(i,O,ia(o)):u!=null?qg(i,O,ia(u)):x!=null&&i.removeAttribute("value"),j==null&&S!=null&&(i.defaultChecked=!!S),j!=null&&(i.checked=j&&typeof j!="function"&&typeof j!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+ia(D):i.removeAttribute("name")}function o2(i,o,u,x,j,S,O,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Hg(i);return}u=u!=null?""+ia(u):"",o=o!=null?""+ia(o):u,D||o===i.value||(i.value=o),i.defaultValue=o}x=x??j,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=D?i.checked:!!x,i.defaultChecked=!!x,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Hg(i)}function qg(i,o,u){o==="number"&&Wf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function yo(i,o,u,x){if(i=i.options,o){o={};for(var j=0;j<u.length;j++)o["$"+u[j]]=!0;for(u=0;u<i.length;u++)j=o.hasOwnProperty("$"+i[u].value),i[u].selected!==j&&(i[u].selected=j),j&&x&&(i[u].defaultSelected=!0)}else{for(u=""+ia(u),o=null,j=0;j<i.length;j++){if(i[j].value===u){i[j].selected=!0,x&&(i[j].defaultSelected=!0);return}o!==null||i[j].disabled||(o=i[j])}o!==null&&(o.selected=!0)}}function c2(i,o,u){if(o!=null&&(o=""+ia(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+ia(u):""}function d2(i,o,u,x){if(o==null){if(x!=null){if(u!=null)throw Error(a(92));if(ee(x)){if(1<x.length)throw Error(a(93));x=x[0]}u=x}u==null&&(u=""),o=u}u=ia(o),i.defaultValue=u,x=i.textContent,x===u&&x!==""&&x!==null&&(i.value=x),Hg(i)}function bo(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var xB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function u2(i,o,u){var x=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?x?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":x?i.setProperty(o,u):typeof u!="number"||u===0||xB.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function f2(i,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,u!=null){for(var x in u)!u.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var j in o)x=o[j],o.hasOwnProperty(j)&&u[j]!==x&&u2(i,j,x)}else for(var S in o)o.hasOwnProperty(S)&&u2(i,S,o[S])}function Kg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gf(i){return vB.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ps(){}var Wg=null;function Gg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jo=null,wo=null;function m2(i){var o=xo(i);if(o&&(i=o.stateNode)){var u=i[yr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Vg(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+la(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var x=u[o];if(x!==i&&x.form===i.form){var j=x[yr]||null;if(!j)throw Error(a(90));Vg(x,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(o=0;o<u.length;o++)x=u[o],x.form===i.form&&l2(x)}break e;case"textarea":c2(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&yo(i,!!u.multiple,o,!1)}}}var Yg=!1;function h2(i,o,u){if(Yg)return i(o,u);Yg=!0;try{var x=i(o);return x}finally{if(Yg=!1,(jo!==null||wo!==null)&&(Dm(),jo&&(o=jo,i=wo,wo=jo=null,m2(o),i)))for(o=0;o<i.length;o++)m2(i[o])}}function hd(i,o){var u=i.stateNode;if(u===null)return null;var x=u[yr]||null;if(x===null)return null;u=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=!1;if(xs)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){Qg=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{Qg=!1}var mi=null,Xg=null,Yf=null;function p2(){if(Yf)return Yf;var i,o=Xg,u=o.length,x,j="value"in mi?mi.value:mi.textContent,S=j.length;for(i=0;i<u&&o[i]===j[i];i++);var O=u-i;for(x=1;x<=O&&o[u-x]===j[S-x];x++);return Yf=j.slice(i,1<x?1-x:void 0)}function Qf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Xf(){return!0}function x2(){return!1}function br(i){function o(u,x,j,S,O){this._reactName=u,this._targetInst=j,this.type=x,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Xf:x2,this.isPropagationStopped=x2,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),o}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zf=br(xl),xd=g({},xl,{view:0,detail:0}),yB=br(xd),Zg,Jg,gd,Jf=g({},xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gd&&(gd&&i.type==="mousemove"?(Zg=i.screenX-gd.screenX,Jg=i.screenY-gd.screenY):Jg=Zg=0,gd=i),Zg)},movementY:function(i){return"movementY"in i?i.movementY:Jg}}),g2=br(Jf),bB=g({},Jf,{dataTransfer:0}),jB=br(bB),wB=g({},xd,{relatedTarget:0}),ev=br(wB),NB=g({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),SB=br(NB),CB=g({},xl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),EB=br(CB),AB=g({},xl,{data:0}),v2=br(AB),PB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kB(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=TB[i])?!!o[i]:!1}function tv(){return kB}var _B=g({},xd,{key:function(i){if(i.key){var o=PB[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Qf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?OB[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(i){return i.type==="keypress"?Qf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),RB=br(_B),MB=g({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y2=br(MB),DB=g({},xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),LB=br(DB),IB=g({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$B=br(IB),FB=g({},Jf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zB=br(FB),BB=g({},xl,{newState:0,oldState:0}),UB=br(BB),HB=[9,13,27,32],nv=xs&&"CompositionEvent"in window,vd=null;xs&&"documentMode"in document&&(vd=document.documentMode);var VB=xs&&"TextEvent"in window&&!vd,b2=xs&&(!nv||vd&&8<vd&&11>=vd),j2=" ",w2=!1;function N2(i,o){switch(i){case"keyup":return HB.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var No=!1;function qB(i,o){switch(i){case"compositionend":return S2(o);case"keypress":return o.which!==32?null:(w2=!0,j2);case"textInput":return i=o.data,i===j2&&w2?null:i;default:return null}}function KB(i,o){if(No)return i==="compositionend"||!nv&&N2(i,o)?(i=p2(),Yf=Xg=mi=null,No=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return b2&&o.locale!=="ko"?null:o.data;default:return null}}var WB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C2(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!WB[i.type]:o==="textarea"}function E2(i,o,u,x){jo?wo?wo.push(x):wo=[x]:jo=x,o=Um(o,"onChange"),0<o.length&&(u=new Zf("onChange","change",null,u,x),i.push({event:u,listeners:o}))}var yd=null,bd=null;function GB(i){oA(i,0)}function em(i){var o=md(i);if(l2(o))return i}function A2(i,o){if(i==="change")return o}var P2=!1;if(xs){var rv;if(xs){var av="oninput"in document;if(!av){var O2=document.createElement("div");O2.setAttribute("oninput","return;"),av=typeof O2.oninput=="function"}rv=av}else rv=!1;P2=rv&&(!document.documentMode||9<document.documentMode)}function T2(){yd&&(yd.detachEvent("onpropertychange",k2),bd=yd=null)}function k2(i){if(i.propertyName==="value"&&em(bd)){var o=[];E2(o,bd,i,Gg(i)),h2(GB,o)}}function YB(i,o,u){i==="focusin"?(T2(),yd=o,bd=u,yd.attachEvent("onpropertychange",k2)):i==="focusout"&&T2()}function QB(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return em(bd)}function XB(i,o){if(i==="click")return em(o)}function ZB(i,o){if(i==="input"||i==="change")return em(o)}function JB(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Lr=typeof Object.is=="function"?Object.is:JB;function jd(i,o){if(Lr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),x=Object.keys(o);if(u.length!==x.length)return!1;for(x=0;x<u.length;x++){var j=u[x];if(!Ze.call(o,j)||!Lr(i[j],o[j]))return!1}return!0}function _2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function R2(i,o){var u=_2(i);i=0;for(var x;u;){if(u.nodeType===3){if(x=i+u.textContent.length,i<=o&&x>=o)return{node:u,offset:o-i};i=x}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_2(u)}}function M2(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?M2(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function D2(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Wf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Wf(i.document)}return o}function sv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var e8=xs&&"documentMode"in document&&11>=document.documentMode,So=null,iv=null,wd=null,lv=!1;function L2(i,o,u){var x=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;lv||So==null||So!==Wf(x)||(x=So,"selectionStart"in x&&sv(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),wd&&jd(wd,x)||(wd=x,x=Um(iv,"onSelect"),0<x.length&&(o=new Zf("onSelect","select",null,o,u),i.push({event:o,listeners:x}),o.target=So)))}function gl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Co={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionrun:gl("Transition","TransitionRun"),transitionstart:gl("Transition","TransitionStart"),transitioncancel:gl("Transition","TransitionCancel"),transitionend:gl("Transition","TransitionEnd")},ov={},I2={};xs&&(I2=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function vl(i){if(ov[i])return ov[i];if(!Co[i])return i;var o=Co[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in I2)return ov[i]=o[u];return i}var $2=vl("animationend"),F2=vl("animationiteration"),z2=vl("animationstart"),t8=vl("transitionrun"),n8=vl("transitionstart"),r8=vl("transitioncancel"),B2=vl("transitionend"),U2=new Map,cv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cv.push("scrollEnd");function ka(i,o){U2.set(i,o),pl(o,[i])}var tm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},oa=[],Eo=0,dv=0;function nm(){for(var i=Eo,o=dv=Eo=0;o<i;){var u=oa[o];oa[o++]=null;var x=oa[o];oa[o++]=null;var j=oa[o];oa[o++]=null;var S=oa[o];if(oa[o++]=null,x!==null&&j!==null){var O=x.pending;O===null?j.next=j:(j.next=O.next,O.next=j),x.pending=j}S!==0&&H2(u,j,S)}}function rm(i,o,u,x){oa[Eo++]=i,oa[Eo++]=o,oa[Eo++]=u,oa[Eo++]=x,dv|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function uv(i,o,u,x){return rm(i,o,u,x),am(i)}function yl(i,o){return rm(i,null,null,o),am(i)}function H2(i,o,u){i.lanes|=u;var x=i.alternate;x!==null&&(x.lanes|=u);for(var j=!1,S=i.return;S!==null;)S.childLanes|=u,x=S.alternate,x!==null&&(x.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(j=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,j&&o!==null&&(j=31-rt(u),i=S.hiddenUpdates,x=i[j],x===null?i[j]=[o]:x.push(o),o.lane=u|536870912),S):null}function am(i){if(50<Vd)throw Vd=0,by=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ao={};function a8(i,o,u,x){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,o,u,x){return new a8(i,o,u,x)}function fv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gs(i,o){var u=i.alternate;return u===null?(u=Ir(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function V2(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function sm(i,o,u,x,j,S){var O=0;if(x=i,typeof i=="function")fv(i)&&(O=1);else if(typeof i=="string")O=c9(i,u,we.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Q:return i=Ir(31,u,o,j),i.elementType=Q,i.lanes=S,i;case b:return bl(u.children,j,S,o);case w:O=8,j|=24;break;case C:return i=Ir(12,u,o,j|2),i.elementType=C,i.lanes=S,i;case k:return i=Ir(13,u,o,j),i.elementType=k,i.lanes=S,i;case P:return i=Ir(19,u,o,j),i.elementType=P,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:O=10;break e;case A:O=9;break e;case T:O=11;break e;case M:O=14;break e;case I:O=16,x=null;break e}O=29,u=Error(a(130,i===null?"null":typeof i,"")),x=null}return o=Ir(O,u,o,j),o.elementType=i,o.type=x,o.lanes=S,o}function bl(i,o,u,x){return i=Ir(7,i,x,o),i.lanes=u,i}function mv(i,o,u){return i=Ir(6,i,null,o),i.lanes=u,i}function q2(i){var o=Ir(18,null,null,0);return o.stateNode=i,o}function hv(i,o,u){return o=Ir(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var K2=new WeakMap;function ca(i,o){if(typeof i=="object"&&i!==null){var u=K2.get(i);return u!==void 0?u:(o={value:i,source:o,stack:le(o)},K2.set(i,o),o)}return{value:i,source:o,stack:le(o)}}var Po=[],Oo=0,im=null,Nd=0,da=[],ua=0,hi=null,Ga=1,Ya="";function vs(i,o){Po[Oo++]=Nd,Po[Oo++]=im,im=i,Nd=o}function W2(i,o,u){da[ua++]=Ga,da[ua++]=Ya,da[ua++]=hi,hi=i;var x=Ga;i=Ya;var j=32-rt(x)-1;x&=~(1<<j),u+=1;var S=32-rt(o)+j;if(30<S){var O=j-j%5;S=(x&(1<<O)-1).toString(32),x>>=O,j-=O,Ga=1<<32-rt(o)+j|u<<j|x,Ya=S+i}else Ga=1<<S|u<<j|x,Ya=i}function pv(i){i.return!==null&&(vs(i,1),W2(i,1,0))}function xv(i){for(;i===im;)im=Po[--Oo],Po[Oo]=null,Nd=Po[--Oo],Po[Oo]=null;for(;i===hi;)hi=da[--ua],da[ua]=null,Ya=da[--ua],da[ua]=null,Ga=da[--ua],da[ua]=null}function G2(i,o){da[ua++]=Ga,da[ua++]=Ya,da[ua++]=hi,Ga=o.id,Ya=o.overflow,hi=i}var Yn=null,Wt=null,jt=!1,pi=null,fa=!1,gv=Error(a(519));function xi(i){var o=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sd(ca(o,i)),gv}function Y2(i){var o=i.stateNode,u=i.type,x=i.memoizedProps;switch(o[Gn]=i,o[yr]=x,u){case"dialog":vt("cancel",o),vt("close",o);break;case"iframe":case"object":case"embed":vt("load",o);break;case"video":case"audio":for(u=0;u<Kd.length;u++)vt(Kd[u],o);break;case"source":vt("error",o);break;case"img":case"image":case"link":vt("error",o),vt("load",o);break;case"details":vt("toggle",o);break;case"input":vt("invalid",o),o2(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":vt("invalid",o);break;case"textarea":vt("invalid",o),d2(o,x.value,x.defaultValue,x.children)}u=x.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||x.suppressHydrationWarning===!0||fA(o.textContent,u)?(x.popover!=null&&(vt("beforetoggle",o),vt("toggle",o)),x.onScroll!=null&&vt("scroll",o),x.onScrollEnd!=null&&vt("scrollend",o),x.onClick!=null&&(o.onclick=ps),o=!0):o=!1,o||xi(i,!0)}function Q2(i){for(Yn=i.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:Yn=Yn.return}}function To(i){if(i!==Yn)return!1;if(!jt)return Q2(i),jt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Dy(i.type,i.memoizedProps)),u=!u),u&&Wt&&xi(i),Q2(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Wt=jA(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Wt=jA(i)}else o===27?(o=Wt,Ti(i.type)?(i=zy,zy=null,Wt=i):Wt=o):Wt=Yn?ha(i.stateNode.nextSibling):null;return!0}function jl(){Wt=Yn=null,jt=!1}function vv(){var i=pi;return i!==null&&(Sr===null?Sr=i:Sr.push.apply(Sr,i),pi=null),i}function Sd(i){pi===null?pi=[i]:pi.push(i)}var yv=R(null),wl=null,ys=null;function gi(i,o,u){me(yv,o._currentValue),o._currentValue=u}function bs(i){i._currentValue=yv.current,te(yv)}function bv(i,o,u){for(;i!==null;){var x=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),i===u)break;i=i.return}}function jv(i,o,u,x){var j=i.child;for(j!==null&&(j.return=i);j!==null;){var S=j.dependencies;if(S!==null){var O=j.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=j;for(var H=0;H<o.length;H++)if(D.context===o[H]){S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),bv(S.return,u,i),x||(O=null);break e}S=D.next}}else if(j.tag===18){if(O=j.return,O===null)throw Error(a(341));O.lanes|=u,S=O.alternate,S!==null&&(S.lanes|=u),bv(O,u,i),O=null}else O=j.child;if(O!==null)O.return=j;else for(O=j;O!==null;){if(O===i){O=null;break}if(j=O.sibling,j!==null){j.return=O.return,O=j;break}O=O.return}j=O}}function ko(i,o,u,x){i=null;for(var j=o,S=!1;j!==null;){if(!S){if((j.flags&524288)!==0)S=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var O=j.alternate;if(O===null)throw Error(a(387));if(O=O.memoizedProps,O!==null){var D=j.type;Lr(j.pendingProps.value,O.value)||(i!==null?i.push(D):i=[D])}}else if(j===F.current){if(O=j.alternate,O===null)throw Error(a(387));O.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(i!==null?i.push(Xd):i=[Xd])}j=j.return}i!==null&&jv(o,i,u,x),o.flags|=262144}function lm(i){for(i=i.firstContext;i!==null;){if(!Lr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Nl(i){wl=i,ys=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qn(i){return X2(wl,i)}function om(i,o){return wl===null&&Nl(i),X2(i,o)}function X2(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ys===null){if(i===null)throw Error(a(308));ys=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ys=ys.next=o;return u}var s8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,x){i.push(x)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},i8=e.unstable_scheduleCallback,l8=e.unstable_NormalPriority,wn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wv(){return{controller:new s8,data:new Map,refCount:0}}function Cd(i){i.refCount--,i.refCount===0&&i8(l8,function(){i.controller.abort()})}var Ed=null,Nv=0,_o=0,Ro=null;function o8(i,o){if(Ed===null){var u=Ed=[];Nv=0,_o=Ey(),Ro={status:"pending",value:void 0,then:function(x){u.push(x)}}}return Nv++,o.then(Z2,Z2),o}function Z2(){if(--Nv===0&&Ed!==null){Ro!==null&&(Ro.status="fulfilled");var i=Ed;Ed=null,_o=0,Ro=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function c8(i,o){var u=[],x={status:"pending",value:null,reason:null,then:function(j){u.push(j)}};return i.then(function(){x.status="fulfilled",x.value=o;for(var j=0;j<u.length;j++)(0,u[j])(o)},function(j){for(x.status="rejected",x.reason=j,j=0;j<u.length;j++)(0,u[j])(void 0)}),x}var J2=B.S;B.S=function(i,o){LE=Je(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&o8(i,o),J2!==null&&J2(i,o)};var Sl=R(null);function Sv(){var i=Sl.current;return i!==null?i:Bt.pooledCache}function cm(i,o){o===null?me(Sl,Sl.current):me(Sl,o.pool)}function eC(){var i=Sv();return i===null?null:{parent:wn._currentValue,pool:i}}var Mo=Error(a(460)),Cv=Error(a(474)),dm=Error(a(542)),um={then:function(){}};function tC(i){return i=i.status,i==="fulfilled"||i==="rejected"}function nC(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(ps,ps),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,aC(i),i;default:if(typeof o.status=="string")o.then(ps,ps);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(x){if(o.status==="pending"){var j=o;j.status="fulfilled",j.value=x}},function(x){if(o.status==="pending"){var j=o;j.status="rejected",j.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,aC(i),i}throw El=o,Mo}}function Cl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(El=u,Mo):u}}var El=null;function rC(){if(El===null)throw Error(a(459));var i=El;return El=null,i}function aC(i){if(i===Mo||i===dm)throw Error(a(483))}var Do=null,Ad=0;function fm(i){var o=Ad;return Ad+=1,Do===null&&(Do=[]),nC(Do,i,o)}function Pd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function mm(i,o){throw o.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function sC(i){function o(re,G){if(i){var ce=re.deletions;ce===null?(re.deletions=[G],re.flags|=16):ce.push(G)}}function u(re,G){if(!i)return null;for(;G!==null;)o(re,G),G=G.sibling;return null}function x(re){for(var G=new Map;re!==null;)re.key!==null?G.set(re.key,re):G.set(re.index,re),re=re.sibling;return G}function j(re,G){return re=gs(re,G),re.index=0,re.sibling=null,re}function S(re,G,ce){return re.index=ce,i?(ce=re.alternate,ce!==null?(ce=ce.index,ce<G?(re.flags|=67108866,G):ce):(re.flags|=67108866,G)):(re.flags|=1048576,G)}function O(re){return i&&re.alternate===null&&(re.flags|=67108866),re}function D(re,G,ce,je){return G===null||G.tag!==6?(G=mv(ce,re.mode,je),G.return=re,G):(G=j(G,ce),G.return=re,G)}function H(re,G,ce,je){var We=ce.type;return We===b?be(re,G,ce.props.children,je,ce.key):G!==null&&(G.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&Cl(We)===G.type)?(G=j(G,ce.props),Pd(G,ce),G.return=re,G):(G=sm(ce.type,ce.key,ce.props,null,re.mode,je),Pd(G,ce),G.return=re,G)}function de(re,G,ce,je){return G===null||G.tag!==4||G.stateNode.containerInfo!==ce.containerInfo||G.stateNode.implementation!==ce.implementation?(G=hv(ce,re.mode,je),G.return=re,G):(G=j(G,ce.children||[]),G.return=re,G)}function be(re,G,ce,je,We){return G===null||G.tag!==7?(G=bl(ce,re.mode,je,We),G.return=re,G):(G=j(G,ce),G.return=re,G)}function Ne(re,G,ce){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=mv(""+G,re.mode,ce),G.return=re,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return ce=sm(G.type,G.key,G.props,null,re.mode,ce),Pd(ce,G),ce.return=re,ce;case N:return G=hv(G,re.mode,ce),G.return=re,G;case I:return G=Cl(G),Ne(re,G,ce)}if(ee(G)||q(G))return G=bl(G,re.mode,ce,null),G.return=re,G;if(typeof G.then=="function")return Ne(re,fm(G),ce);if(G.$$typeof===E)return Ne(re,om(re,G),ce);mm(re,G)}return null}function he(re,G,ce,je){var We=G!==null?G.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return We!==null?null:D(re,G,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return ce.key===We?H(re,G,ce,je):null;case N:return ce.key===We?de(re,G,ce,je):null;case I:return ce=Cl(ce),he(re,G,ce,je)}if(ee(ce)||q(ce))return We!==null?null:be(re,G,ce,je,null);if(typeof ce.then=="function")return he(re,G,fm(ce),je);if(ce.$$typeof===E)return he(re,G,om(re,ce),je);mm(re,ce)}return null}function ge(re,G,ce,je,We){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return re=re.get(ce)||null,D(G,re,""+je,We);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return re=re.get(je.key===null?ce:je.key)||null,H(G,re,je,We);case N:return re=re.get(je.key===null?ce:je.key)||null,de(G,re,je,We);case I:return je=Cl(je),ge(re,G,ce,je,We)}if(ee(je)||q(je))return re=re.get(ce)||null,be(G,re,je,We,null);if(typeof je.then=="function")return ge(re,G,ce,fm(je),We);if(je.$$typeof===E)return ge(re,G,ce,om(G,je),We);mm(G,je)}return null}function He(re,G,ce,je){for(var We=null,Ct=null,Ke=G,ut=G=0,bt=null;Ke!==null&&ut<ce.length;ut++){Ke.index>ut?(bt=Ke,Ke=null):bt=Ke.sibling;var Et=he(re,Ke,ce[ut],je);if(Et===null){Ke===null&&(Ke=bt);break}i&&Ke&&Et.alternate===null&&o(re,Ke),G=S(Et,G,ut),Ct===null?We=Et:Ct.sibling=Et,Ct=Et,Ke=bt}if(ut===ce.length)return u(re,Ke),jt&&vs(re,ut),We;if(Ke===null){for(;ut<ce.length;ut++)Ke=Ne(re,ce[ut],je),Ke!==null&&(G=S(Ke,G,ut),Ct===null?We=Ke:Ct.sibling=Ke,Ct=Ke);return jt&&vs(re,ut),We}for(Ke=x(Ke);ut<ce.length;ut++)bt=ge(Ke,re,ut,ce[ut],je),bt!==null&&(i&&bt.alternate!==null&&Ke.delete(bt.key===null?ut:bt.key),G=S(bt,G,ut),Ct===null?We=bt:Ct.sibling=bt,Ct=bt);return i&&Ke.forEach(function(Di){return o(re,Di)}),jt&&vs(re,ut),We}function Ye(re,G,ce,je){if(ce==null)throw Error(a(151));for(var We=null,Ct=null,Ke=G,ut=G=0,bt=null,Et=ce.next();Ke!==null&&!Et.done;ut++,Et=ce.next()){Ke.index>ut?(bt=Ke,Ke=null):bt=Ke.sibling;var Di=he(re,Ke,Et.value,je);if(Di===null){Ke===null&&(Ke=bt);break}i&&Ke&&Di.alternate===null&&o(re,Ke),G=S(Di,G,ut),Ct===null?We=Di:Ct.sibling=Di,Ct=Di,Ke=bt}if(Et.done)return u(re,Ke),jt&&vs(re,ut),We;if(Ke===null){for(;!Et.done;ut++,Et=ce.next())Et=Ne(re,Et.value,je),Et!==null&&(G=S(Et,G,ut),Ct===null?We=Et:Ct.sibling=Et,Ct=Et);return jt&&vs(re,ut),We}for(Ke=x(Ke);!Et.done;ut++,Et=ce.next())Et=ge(Ke,re,ut,Et.value,je),Et!==null&&(i&&Et.alternate!==null&&Ke.delete(Et.key===null?ut:Et.key),G=S(Et,G,ut),Ct===null?We=Et:Ct.sibling=Et,Ct=Et);return i&&Ke.forEach(function(b9){return o(re,b9)}),jt&&vs(re,ut),We}function Ft(re,G,ce,je){if(typeof ce=="object"&&ce!==null&&ce.type===b&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:e:{for(var We=ce.key;G!==null;){if(G.key===We){if(We=ce.type,We===b){if(G.tag===7){u(re,G.sibling),je=j(G,ce.props.children),je.return=re,re=je;break e}}else if(G.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&Cl(We)===G.type){u(re,G.sibling),je=j(G,ce.props),Pd(je,ce),je.return=re,re=je;break e}u(re,G);break}else o(re,G);G=G.sibling}ce.type===b?(je=bl(ce.props.children,re.mode,je,ce.key),je.return=re,re=je):(je=sm(ce.type,ce.key,ce.props,null,re.mode,je),Pd(je,ce),je.return=re,re=je)}return O(re);case N:e:{for(We=ce.key;G!==null;){if(G.key===We)if(G.tag===4&&G.stateNode.containerInfo===ce.containerInfo&&G.stateNode.implementation===ce.implementation){u(re,G.sibling),je=j(G,ce.children||[]),je.return=re,re=je;break e}else{u(re,G);break}else o(re,G);G=G.sibling}je=hv(ce,re.mode,je),je.return=re,re=je}return O(re);case I:return ce=Cl(ce),Ft(re,G,ce,je)}if(ee(ce))return He(re,G,ce,je);if(q(ce)){if(We=q(ce),typeof We!="function")throw Error(a(150));return ce=We.call(ce),Ye(re,G,ce,je)}if(typeof ce.then=="function")return Ft(re,G,fm(ce),je);if(ce.$$typeof===E)return Ft(re,G,om(re,ce),je);mm(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,G!==null&&G.tag===6?(u(re,G.sibling),je=j(G,ce),je.return=re,re=je):(u(re,G),je=mv(ce,re.mode,je),je.return=re,re=je),O(re)):u(re,G)}return function(re,G,ce,je){try{Ad=0;var We=Ft(re,G,ce,je);return Do=null,We}catch(Ke){if(Ke===Mo||Ke===dm)throw Ke;var Ct=Ir(29,Ke,null,re.mode);return Ct.lanes=je,Ct.return=re,Ct}finally{}}}var Al=sC(!0),iC=sC(!1),vi=!1;function Ev(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Av(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bi(i,o,u){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Ot&2)!==0){var j=x.pending;return j===null?o.next=o:(o.next=j.next,j.next=o),x.pending=o,o=am(i),H2(i,null,u),o}return rm(i,x,o,u),am(i)}function Od(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,XS(i,u)}}function Pv(i,o){var u=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,u===x)){var j=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?j=S=O:S=S.next=O,u=u.next}while(u!==null);S===null?j=S=o:S=S.next=o}else j=S=o;u={baseState:x.baseState,firstBaseUpdate:j,lastBaseUpdate:S,shared:x.shared,callbacks:x.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Ov=!1;function Td(){if(Ov){var i=Ro;if(i!==null)throw i}}function kd(i,o,u,x){Ov=!1;var j=i.updateQueue;vi=!1;var S=j.firstBaseUpdate,O=j.lastBaseUpdate,D=j.shared.pending;if(D!==null){j.shared.pending=null;var H=D,de=H.next;H.next=null,O===null?S=de:O.next=de,O=H;var be=i.alternate;be!==null&&(be=be.updateQueue,D=be.lastBaseUpdate,D!==O&&(D===null?be.firstBaseUpdate=de:D.next=de,be.lastBaseUpdate=H))}if(S!==null){var Ne=j.baseState;O=0,be=de=H=null,D=S;do{var he=D.lane&-536870913,ge=he!==D.lane;if(ge?(yt&he)===he:(x&he)===he){he!==0&&he===_o&&(Ov=!0),be!==null&&(be=be.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var He=i,Ye=D;he=o;var Ft=u;switch(Ye.tag){case 1:if(He=Ye.payload,typeof He=="function"){Ne=He.call(Ft,Ne,he);break e}Ne=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ye.payload,he=typeof He=="function"?He.call(Ft,Ne,he):He,he==null)break e;Ne=g({},Ne,he);break e;case 2:vi=!0}}he=D.callback,he!==null&&(i.flags|=64,ge&&(i.flags|=8192),ge=j.callbacks,ge===null?j.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:D.tag,payload:D.payload,callback:D.callback,next:null},be===null?(de=be=ge,H=Ne):be=be.next=ge,O|=he;if(D=D.next,D===null){if(D=j.shared.pending,D===null)break;ge=D,D=ge.next,ge.next=null,j.lastBaseUpdate=ge,j.shared.pending=null}}while(!0);be===null&&(H=Ne),j.baseState=H,j.firstBaseUpdate=de,j.lastBaseUpdate=be,S===null&&(j.shared.lanes=0),Ci|=O,i.lanes=O,i.memoizedState=Ne}}function lC(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function oC(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)lC(u[i],o)}var Lo=R(null),hm=R(0);function cC(i,o){i=Os,me(hm,i),me(Lo,o),Os=i|o.baseLanes}function Tv(){me(hm,Os),me(Lo,Lo.current)}function kv(){Os=hm.current,te(Lo),te(hm)}var $r=R(null),ma=null;function ji(i){var o=i.alternate;me(hn,hn.current&1),me($r,i),ma===null&&(o===null||Lo.current!==null||o.memoizedState!==null)&&(ma=i)}function _v(i){me(hn,hn.current),me($r,i),ma===null&&(ma=i)}function dC(i){i.tag===22?(me(hn,hn.current),me($r,i),ma===null&&(ma=i)):wi()}function wi(){me(hn,hn.current),me($r,$r.current)}function Fr(i){te($r),ma===i&&(ma=null),te(hn)}var hn=R(0);function pm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$y(u)||Fy(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var js=0,ot=null,It=null,Nn=null,xm=!1,Io=!1,Pl=!1,gm=0,_d=0,$o=null,d8=0;function on(){throw Error(a(321))}function Rv(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Lr(i[u],o[u]))return!1;return!0}function Mv(i,o,u,x,j,S){return js=S,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?WC:Yv,Pl=!1,S=u(x,j),Pl=!1,Io&&(S=fC(o,u,x,j)),uC(i),S}function uC(i){B.H=Dd;var o=It!==null&&It.next!==null;if(js=0,Nn=It=ot=null,xm=!1,_d=0,$o=null,o)throw Error(a(300));i===null||Sn||(i=i.dependencies,i!==null&&lm(i)&&(Sn=!0))}function fC(i,o,u,x){ot=i;var j=0;do{if(Io&&($o=null),_d=0,Io=!1,25<=j)throw Error(a(301));if(j+=1,Nn=It=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=GC,S=o(u,x)}while(Io);return S}function u8(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?Rd(o):o,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(ot.flags|=1024),o}function Dv(){var i=gm!==0;return gm=0,i}function Lv(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Iv(i){if(xm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}xm=!1}js=0,Nn=It=ot=null,Io=!1,_d=gm=0,$o=null}function cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?ot.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function pn(){if(It===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=Nn===null?ot.memoizedState:Nn.next;if(o!==null)Nn=o,It=i;else{if(i===null)throw ot.alternate===null?Error(a(467)):Error(a(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Nn===null?ot.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rd(i){var o=_d;return _d+=1,$o===null&&($o=[]),i=nC($o,i,o),o=ot,(Nn===null?o.memoizedState:Nn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?WC:Yv),i}function ym(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Rd(i);if(i.$$typeof===E)return Qn(i)}throw Error(a(438,String(i)))}function $v(i){var o=null,u=ot.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var x=ot.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(j){return j.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=vm(),ot.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),x=0;x<i;x++)u[x]=L;return o.index++,u}function ws(i,o){return typeof o=="function"?o(i):o}function bm(i){var o=pn();return Fv(o,It,i)}function Fv(i,o,u){var x=i.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=u;var j=i.baseQueue,S=x.pending;if(S!==null){if(j!==null){var O=j.next;j.next=S.next,S.next=O}o.baseQueue=j=S,x.pending=null}if(S=i.baseState,j===null)i.memoizedState=S;else{o=j.next;var D=O=null,H=null,de=o,be=!1;do{var Ne=de.lane&-536870913;if(Ne!==de.lane?(yt&Ne)===Ne:(js&Ne)===Ne){var he=de.revertLane;if(he===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ne===_o&&(be=!0);else if((js&he)===he){de=de.next,he===_o&&(be=!0);continue}else Ne={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},H===null?(D=H=Ne,O=S):H=H.next=Ne,ot.lanes|=he,Ci|=he;Ne=de.action,Pl&&u(S,Ne),S=de.hasEagerState?de.eagerState:u(S,Ne)}else he={lane:Ne,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},H===null?(D=H=he,O=S):H=H.next=he,ot.lanes|=Ne,Ci|=Ne;de=de.next}while(de!==null&&de!==o);if(H===null?O=S:H.next=D,!Lr(S,i.memoizedState)&&(Sn=!0,be&&(u=Ro,u!==null)))throw u;i.memoizedState=S,i.baseState=O,i.baseQueue=H,x.lastRenderedState=S}return j===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function zv(i){var o=pn(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var x=u.dispatch,j=u.pending,S=o.memoizedState;if(j!==null){u.pending=null;var O=j=j.next;do S=i(S,O.action),O=O.next;while(O!==j);Lr(S,o.memoizedState)||(Sn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,x]}function mC(i,o,u){var x=ot,j=pn(),S=jt;if(S){if(u===void 0)throw Error(a(407));u=u()}else u=o();var O=!Lr((It||j).memoizedState,u);if(O&&(j.memoizedState=u,Sn=!0),j=j.queue,Hv(xC.bind(null,x,j,i),[i]),j.getSnapshot!==o||O||Nn!==null&&Nn.memoizedState.tag&1){if(x.flags|=2048,Fo(9,{destroy:void 0},pC.bind(null,x,j,u,o),null),Bt===null)throw Error(a(349));S||(js&127)!==0||hC(x,o,u)}return u}function hC(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o=vm(),ot.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function pC(i,o,u,x){o.value=u,o.getSnapshot=x,gC(o)&&vC(i)}function xC(i,o,u){return u(function(){gC(o)&&vC(i)})}function gC(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Lr(i,u)}catch{return!0}}function vC(i){var o=yl(i,2);o!==null&&Cr(o,i,2)}function Bv(i){var o=cr();if(typeof i=="function"){var u=i;if(i=u(),Pl){Xe(!0);try{u()}finally{Xe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:i},o}function yC(i,o,u,x){return i.baseState=u,Fv(i,It,typeof x=="function"?x:ws)}function f8(i,o,u,x,j){if(Nm(i))throw Error(a(485));if(i=o.action,i!==null){var S={payload:j,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};B.T!==null?u(!0):S.isTransition=!1,x(S),u=o.pending,u===null?(S.next=o.pending=S,bC(o,S)):(S.next=u.next,o.pending=u.next=S)}}function bC(i,o){var u=o.action,x=o.payload,j=i.state;if(o.isTransition){var S=B.T,O={};B.T=O;try{var D=u(j,x),H=B.S;H!==null&&H(O,D),jC(i,o,D)}catch(de){Uv(i,o,de)}finally{S!==null&&O.types!==null&&(S.types=O.types),B.T=S}}else try{S=u(j,x),jC(i,o,S)}catch(de){Uv(i,o,de)}}function jC(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(x){wC(i,o,x)},function(x){return Uv(i,o,x)}):wC(i,o,u)}function wC(i,o,u){o.status="fulfilled",o.value=u,NC(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,bC(i,u)))}function Uv(i,o,u){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=u,NC(o),o=o.next;while(o!==x)}i.action=null}function NC(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function SC(i,o){return o}function CC(i,o){if(jt){var u=Bt.formState;if(u!==null){e:{var x=ot;if(jt){if(Wt){t:{for(var j=Wt,S=fa;j.nodeType!==8;){if(!S){j=null;break t}if(j=ha(j.nextSibling),j===null){j=null;break t}}S=j.data,j=S==="F!"||S==="F"?j:null}if(j){Wt=ha(j.nextSibling),x=j.data==="F!";break e}}xi(x)}x=!1}x&&(o=u[0])}}return u=cr(),u.memoizedState=u.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SC,lastRenderedState:o},u.queue=x,u=VC.bind(null,ot,x),x.dispatch=u,x=Bv(!1),S=Gv.bind(null,ot,!1,x.queue),x=cr(),j={state:o,dispatch:null,action:i,pending:null},x.queue=j,u=f8.bind(null,ot,j,S,u),j.dispatch=u,x.memoizedState=i,[o,u,!1]}function EC(i){var o=pn();return AC(o,It,i)}function AC(i,o,u){if(o=Fv(i,o,SC)[0],i=bm(ws)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=Rd(o)}catch(O){throw O===Mo?dm:O}else x=o;o=pn();var j=o.queue,S=j.dispatch;return u!==o.memoizedState&&(ot.flags|=2048,Fo(9,{destroy:void 0},m8.bind(null,j,u),null)),[x,S,i]}function m8(i,o){i.action=o}function PC(i){var o=pn(),u=It;if(u!==null)return AC(o,u,i);pn(),o=o.memoizedState,u=pn();var x=u.queue.dispatch;return u.memoizedState=i,[o,x,!1]}function Fo(i,o,u,x){return i={tag:i,create:u,deps:x,inst:o,next:null},o=ot.updateQueue,o===null&&(o=vm(),ot.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(x=u.next,u.next=i,i.next=x,o.lastEffect=i),i}function OC(){return pn().memoizedState}function jm(i,o,u,x){var j=cr();ot.flags|=i,j.memoizedState=Fo(1|o,{destroy:void 0},u,x===void 0?null:x)}function wm(i,o,u,x){var j=pn();x=x===void 0?null:x;var S=j.memoizedState.inst;It!==null&&x!==null&&Rv(x,It.memoizedState.deps)?j.memoizedState=Fo(o,S,u,x):(ot.flags|=i,j.memoizedState=Fo(1|o,S,u,x))}function TC(i,o){jm(8390656,8,i,o)}function Hv(i,o){wm(2048,8,i,o)}function h8(i){ot.flags|=4;var o=ot.updateQueue;if(o===null)o=vm(),ot.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function kC(i){var o=pn().memoizedState;return h8({ref:o,nextImpl:i}),function(){if((Ot&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}function _C(i,o){return wm(4,2,i,o)}function RC(i,o){return wm(4,4,i,o)}function MC(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function DC(i,o,u){u=u!=null?u.concat([i]):null,wm(4,4,MC.bind(null,o,i),u)}function Vv(){}function LC(i,o){var u=pn();o=o===void 0?null:o;var x=u.memoizedState;return o!==null&&Rv(o,x[1])?x[0]:(u.memoizedState=[i,o],i)}function IC(i,o){var u=pn();o=o===void 0?null:o;var x=u.memoizedState;if(o!==null&&Rv(o,x[1]))return x[0];if(x=i(),Pl){Xe(!0);try{i()}finally{Xe(!1)}}return u.memoizedState=[x,o],x}function qv(i,o,u){return u===void 0||(js&1073741824)!==0&&(yt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=$E(),ot.lanes|=i,Ci|=i,u)}function $C(i,o,u,x){return Lr(u,o)?u:Lo.current!==null?(i=qv(i,u,x),Lr(i,o)||(Sn=!0),i):(js&42)===0||(js&1073741824)!==0&&(yt&261930)===0?(Sn=!0,i.memoizedState=u):(i=$E(),ot.lanes|=i,Ci|=i,o)}function FC(i,o,u,x,j){var S=X.p;X.p=S!==0&&8>S?S:8;var O=B.T,D={};B.T=D,Gv(i,!1,o,u);try{var H=j(),de=B.S;if(de!==null&&de(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var be=c8(H,x);Md(i,o,be,Ur(i))}else Md(i,o,x,Ur(i))}catch(Ne){Md(i,o,{then:function(){},status:"rejected",reason:Ne},Ur())}finally{X.p=S,O!==null&&D.types!==null&&(O.types=D.types),B.T=O}}function p8(){}function Kv(i,o,u,x){if(i.tag!==5)throw Error(a(476));var j=zC(i).queue;FC(i,j,o,$,u===null?p8:function(){return BC(i),u(x)})}function zC(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function BC(i){var o=zC(i);o.next===null&&(o=i.alternate.memoizedState),Md(i,o.next.queue,{},Ur())}function Wv(){return Qn(Xd)}function UC(){return pn().memoizedState}function HC(){return pn().memoizedState}function x8(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ur();i=yi(u);var x=bi(o,i,u);x!==null&&(Cr(x,o,u),Od(x,o,u)),o={cache:wv()},i.payload=o;return}o=o.return}}function g8(i,o,u){var x=Ur();u={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Nm(i)?qC(o,u):(u=uv(i,o,u,x),u!==null&&(Cr(u,i,x),KC(u,o,x)))}function VC(i,o,u){var x=Ur();Md(i,o,u,x)}function Md(i,o,u,x){var j={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Nm(i))qC(o,j);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var O=o.lastRenderedState,D=S(O,u);if(j.hasEagerState=!0,j.eagerState=D,Lr(D,O))return rm(i,o,j,0),Bt===null&&nm(),!1}catch{}finally{}if(u=uv(i,o,j,x),u!==null)return Cr(u,i,x),KC(u,o,x),!0}return!1}function Gv(i,o,u,x){if(x={lane:2,revertLane:Ey(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Nm(i)){if(o)throw Error(a(479))}else o=uv(i,u,x,2),o!==null&&Cr(o,i,2)}function Nm(i){var o=i.alternate;return i===ot||o!==null&&o===ot}function qC(i,o){Io=xm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function KC(i,o,u){if((u&4194048)!==0){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,XS(i,u)}}var Dd={readContext:Qn,use:ym,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Dd.useEffectEvent=on;var WC={readContext:Qn,use:ym,useCallback:function(i,o){return cr().memoizedState=[i,o===void 0?null:o],i},useContext:Qn,useEffect:TC,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,jm(4194308,4,MC.bind(null,o,i),u)},useLayoutEffect:function(i,o){return jm(4194308,4,i,o)},useInsertionEffect:function(i,o){jm(4,2,i,o)},useMemo:function(i,o){var u=cr();o=o===void 0?null:o;var x=i();if(Pl){Xe(!0);try{i()}finally{Xe(!1)}}return u.memoizedState=[x,o],x},useReducer:function(i,o,u){var x=cr();if(u!==void 0){var j=u(o);if(Pl){Xe(!0);try{u(o)}finally{Xe(!1)}}}else j=o;return x.memoizedState=x.baseState=j,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:j},x.queue=i,i=i.dispatch=g8.bind(null,ot,i),[x.memoizedState,i]},useRef:function(i){var o=cr();return i={current:i},o.memoizedState=i},useState:function(i){i=Bv(i);var o=i.queue,u=VC.bind(null,ot,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Vv,useDeferredValue:function(i,o){var u=cr();return qv(u,i,o)},useTransition:function(){var i=Bv(!1);return i=FC.bind(null,ot,i.queue,!0,!1),cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var x=ot,j=cr();if(jt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Bt===null)throw Error(a(349));(yt&127)!==0||hC(x,o,u)}j.memoizedState=u;var S={value:u,getSnapshot:o};return j.queue=S,TC(xC.bind(null,x,S,i),[i]),x.flags|=2048,Fo(9,{destroy:void 0},pC.bind(null,x,S,u,o),null),u},useId:function(){var i=cr(),o=Bt.identifierPrefix;if(jt){var u=Ya,x=Ga;u=(x&~(1<<32-rt(x)-1)).toString(32)+u,o="_"+o+"R_"+u,u=gm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=d8++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Wv,useFormState:CC,useActionState:CC,useOptimistic:function(i){var o=cr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Gv.bind(null,ot,!0,u),u.dispatch=o,[i,o]},useMemoCache:$v,useCacheRefresh:function(){return cr().memoizedState=x8.bind(null,ot)},useEffectEvent:function(i){var o=cr(),u={impl:i};return o.memoizedState=u,function(){if((Ot&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},Yv={readContext:Qn,use:ym,useCallback:LC,useContext:Qn,useEffect:Hv,useImperativeHandle:DC,useInsertionEffect:_C,useLayoutEffect:RC,useMemo:IC,useReducer:bm,useRef:OC,useState:function(){return bm(ws)},useDebugValue:Vv,useDeferredValue:function(i,o){var u=pn();return $C(u,It.memoizedState,i,o)},useTransition:function(){var i=bm(ws)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Rd(i),o]},useSyncExternalStore:mC,useId:UC,useHostTransitionStatus:Wv,useFormState:EC,useActionState:EC,useOptimistic:function(i,o){var u=pn();return yC(u,It,i,o)},useMemoCache:$v,useCacheRefresh:HC};Yv.useEffectEvent=kC;var GC={readContext:Qn,use:ym,useCallback:LC,useContext:Qn,useEffect:Hv,useImperativeHandle:DC,useInsertionEffect:_C,useLayoutEffect:RC,useMemo:IC,useReducer:zv,useRef:OC,useState:function(){return zv(ws)},useDebugValue:Vv,useDeferredValue:function(i,o){var u=pn();return It===null?qv(u,i,o):$C(u,It.memoizedState,i,o)},useTransition:function(){var i=zv(ws)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Rd(i),o]},useSyncExternalStore:mC,useId:UC,useHostTransitionStatus:Wv,useFormState:PC,useActionState:PC,useOptimistic:function(i,o){var u=pn();return It!==null?yC(u,It,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:$v,useCacheRefresh:HC};GC.useEffectEvent=kC;function Qv(i,o,u,x){o=i.memoizedState,u=u(x,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Xv={enqueueSetState:function(i,o,u){i=i._reactInternals;var x=Ur(),j=yi(x);j.payload=o,u!=null&&(j.callback=u),o=bi(i,j,x),o!==null&&(Cr(o,i,x),Od(o,i,x))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var x=Ur(),j=yi(x);j.tag=1,j.payload=o,u!=null&&(j.callback=u),o=bi(i,j,x),o!==null&&(Cr(o,i,x),Od(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Ur(),x=yi(u);x.tag=2,o!=null&&(x.callback=o),o=bi(i,x,u),o!==null&&(Cr(o,i,u),Od(o,i,u))}};function YC(i,o,u,x,j,S,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,S,O):o.prototype&&o.prototype.isPureReactComponent?!jd(u,x)||!jd(j,S):!0}function QC(i,o,u,x){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,x),o.state!==i&&Xv.enqueueReplaceState(o,o.state,null)}function Ol(i,o){var u=o;if("ref"in o){u={};for(var x in o)x!=="ref"&&(u[x]=o[x])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var j in i)u[j]===void 0&&(u[j]=i[j])}return u}function XC(i){tm(i)}function ZC(i){console.error(i)}function JC(i){tm(i)}function Sm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function eE(i,o,u){try{var x=i.onCaughtError;x(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function Zv(i,o,u){return u=yi(u),u.tag=3,u.payload={element:null},u.callback=function(){Sm(i,o)},u}function tE(i){return i=yi(i),i.tag=3,i}function nE(i,o,u,x){var j=u.type.getDerivedStateFromError;if(typeof j=="function"){var S=x.value;i.payload=function(){return j(S)},i.callback=function(){eE(o,u,x)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){eE(o,u,x),typeof j!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var D=x.stack;this.componentDidCatch(x.value,{componentStack:D!==null?D:""})})}function v8(i,o,u,x,j){if(u.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=u.alternate,o!==null&&ko(o,u,j,!0),u=$r.current,u!==null){switch(u.tag){case 31:case 13:return ma===null?Lm():u.alternate===null&&cn===0&&(cn=3),u.flags&=-257,u.flags|=65536,u.lanes=j,x===um?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([x]):o.add(x),Ny(i,x,j)),!1;case 22:return u.flags|=65536,x===um?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([x]):u.add(x)),Ny(i,x,j)),!1}throw Error(a(435,u.tag))}return Ny(i,x,j),Lm(),!1}if(jt)return o=$r.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=j,x!==gv&&(i=Error(a(422),{cause:x}),Sd(ca(i,u)))):(x!==gv&&(o=Error(a(423),{cause:x}),Sd(ca(o,u))),i=i.current.alternate,i.flags|=65536,j&=-j,i.lanes|=j,x=ca(x,u),j=Zv(i.stateNode,x,j),Pv(i,j),cn!==4&&(cn=2)),!1;var S=Error(a(520),{cause:x});if(S=ca(S,u),Hd===null?Hd=[S]:Hd.push(S),cn!==4&&(cn=2),o===null)return!0;x=ca(x,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=j&-j,u.lanes|=i,i=Zv(u.stateNode,x,i),Pv(u,i),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ei===null||!Ei.has(S))))return u.flags|=65536,j&=-j,u.lanes|=j,j=tE(j),nE(j,i,u,x),Pv(u,j),!1}u=u.return}while(u!==null);return!1}var Jv=Error(a(461)),Sn=!1;function Xn(i,o,u,x){o.child=i===null?iC(o,null,u,x):Al(o,i.child,u,x)}function rE(i,o,u,x,j){u=u.render;var S=o.ref;if("ref"in x){var O={};for(var D in x)D!=="ref"&&(O[D]=x[D])}else O=x;return Nl(o),x=Mv(i,o,u,O,S,j),D=Dv(),i!==null&&!Sn?(Lv(i,o,j),Ns(i,o,j)):(jt&&D&&pv(o),o.flags|=1,Xn(i,o,x,j),o.child)}function aE(i,o,u,x,j){if(i===null){var S=u.type;return typeof S=="function"&&!fv(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,sE(i,o,S,x,j)):(i=sm(u.type,null,x,o,o.mode,j),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!ly(i,j)){var O=S.memoizedProps;if(u=u.compare,u=u!==null?u:jd,u(O,x)&&i.ref===o.ref)return Ns(i,o,j)}return o.flags|=1,i=gs(S,x),i.ref=o.ref,i.return=o,o.child=i}function sE(i,o,u,x,j){if(i!==null){var S=i.memoizedProps;if(jd(S,x)&&i.ref===o.ref)if(Sn=!1,o.pendingProps=x=S,ly(i,j))(i.flags&131072)!==0&&(Sn=!0);else return o.lanes=i.lanes,Ns(i,o,j)}return ey(i,o,u,x,j)}function iE(i,o,u,x){var j=x.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(x=o.child=i.child,j=0;x!==null;)j=j|x.lanes|x.childLanes,x=x.sibling;x=j&~S}else x=0,o.child=null;return lE(i,o,S,u,x)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&cm(o,S!==null?S.cachePool:null),S!==null?cC(o,S):Tv(),dC(o);else return x=o.lanes=536870912,lE(i,o,S!==null?S.baseLanes|u:u,u,x)}else S!==null?(cm(o,S.cachePool),cC(o,S),wi(),o.memoizedState=null):(i!==null&&cm(o,null),Tv(),wi());return Xn(i,o,j,u),o.child}function Ld(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function lE(i,o,u,x,j){var S=Sv();return S=S===null?null:{parent:wn._currentValue,pool:S},o.memoizedState={baseLanes:u,cachePool:S},i!==null&&cm(o,null),Tv(),dC(o),i!==null&&ko(i,o,x,!0),o.childLanes=j,null}function Cm(i,o){return o=Am({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function oE(i,o,u){return Al(o,i.child,null,u),i=Cm(o,o.pendingProps),i.flags|=2,Fr(o),o.memoizedState=null,i}function y8(i,o,u){var x=o.pendingProps,j=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(jt){if(x.mode==="hidden")return i=Cm(o,x),o.lanes=536870912,Ld(null,i);if(_v(o),(i=Wt)?(i=bA(i,fa),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:hi!==null?{id:Ga,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},u=q2(i),u.return=o,o.child=u,Yn=o,Wt=null)):i=null,i===null)throw xi(o);return o.lanes=536870912,null}return Cm(o,x)}var S=i.memoizedState;if(S!==null){var O=S.dehydrated;if(_v(o),j)if(o.flags&256)o.flags&=-257,o=oE(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(a(558));else if(Sn||ko(i,o,u,!1),j=(u&i.childLanes)!==0,Sn||j){if(x=Bt,x!==null&&(O=ZS(x,u),O!==0&&O!==S.retryLane))throw S.retryLane=O,yl(i,O),Cr(x,i,O),Jv;Lm(),o=oE(i,o,u)}else i=S.treeContext,Wt=ha(O.nextSibling),Yn=o,jt=!0,pi=null,fa=!1,i!==null&&G2(o,i),o=Cm(o,x),o.flags|=4096;return o}return i=gs(i.child,{mode:x.mode,children:x.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Em(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function ey(i,o,u,x,j){return Nl(o),u=Mv(i,o,u,x,void 0,j),x=Dv(),i!==null&&!Sn?(Lv(i,o,j),Ns(i,o,j)):(jt&&x&&pv(o),o.flags|=1,Xn(i,o,u,j),o.child)}function cE(i,o,u,x,j,S){return Nl(o),o.updateQueue=null,u=fC(o,x,u,j),uC(i),x=Dv(),i!==null&&!Sn?(Lv(i,o,S),Ns(i,o,S)):(jt&&x&&pv(o),o.flags|=1,Xn(i,o,u,S),o.child)}function dE(i,o,u,x,j){if(Nl(o),o.stateNode===null){var S=Ao,O=u.contextType;typeof O=="object"&&O!==null&&(S=Qn(O)),S=new u(x,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Xv,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=x,S.state=o.memoizedState,S.refs={},Ev(o),O=u.contextType,S.context=typeof O=="object"&&O!==null?Qn(O):Ao,S.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Qv(o,u,O,x),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&Xv.enqueueReplaceState(S,S.state,null),kd(o,x,S,j),Td(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(i===null){S=o.stateNode;var D=o.memoizedProps,H=Ol(u,D);S.props=H;var de=S.context,be=u.contextType;O=Ao,typeof be=="object"&&be!==null&&(O=Qn(be));var Ne=u.getDerivedStateFromProps;be=typeof Ne=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||de!==O)&&QC(o,S,x,O),vi=!1;var he=o.memoizedState;S.state=he,kd(o,x,S,j),Td(),de=o.memoizedState,D||he!==de||vi?(typeof Ne=="function"&&(Qv(o,u,Ne,x),de=o.memoizedState),(H=vi||YC(o,u,H,x,he,de,O))?(be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=de),S.props=x,S.state=de,S.context=O,x=H):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{S=o.stateNode,Av(i,o),O=o.memoizedProps,be=Ol(u,O),S.props=be,Ne=o.pendingProps,he=S.context,de=u.contextType,H=Ao,typeof de=="object"&&de!==null&&(H=Qn(de)),D=u.getDerivedStateFromProps,(de=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==Ne||he!==H)&&QC(o,S,x,H),vi=!1,he=o.memoizedState,S.state=he,kd(o,x,S,j),Td();var ge=o.memoizedState;O!==Ne||he!==ge||vi||i!==null&&i.dependencies!==null&&lm(i.dependencies)?(typeof D=="function"&&(Qv(o,u,D,x),ge=o.memoizedState),(be=vi||YC(o,u,be,x,he,ge,H)||i!==null&&i.dependencies!==null&&lm(i.dependencies))?(de||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(x,ge,H),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(x,ge,H)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=ge),S.props=x,S.state=ge,S.context=H,x=be):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&he===i.memoizedState||(o.flags|=1024),x=!1)}return S=x,Em(i,o),x=(o.flags&128)!==0,S||x?(S=o.stateNode,u=x&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&x?(o.child=Al(o,i.child,null,j),o.child=Al(o,null,u,j)):Xn(i,o,u,j),o.memoizedState=S.state,i=o.child):i=Ns(i,o,j),i}function uE(i,o,u,x){return jl(),o.flags|=256,Xn(i,o,u,x),o.child}var ty={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ny(i){return{baseLanes:i,cachePool:eC()}}function ry(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Br),i}function fE(i,o,u){var x=o.pendingProps,j=!1,S=(o.flags&128)!==0,O;if((O=S)||(O=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),O&&(j=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(jt){if(j?ji(o):wi(),(i=Wt)?(i=bA(i,fa),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:hi!==null?{id:Ga,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},u=q2(i),u.return=o,o.child=u,Yn=o,Wt=null)):i=null,i===null)throw xi(o);return Fy(i)?o.lanes=32:o.lanes=536870912,null}var D=x.children;return x=x.fallback,j?(wi(),j=o.mode,D=Am({mode:"hidden",children:D},j),x=bl(x,j,u,null),D.return=o,x.return=o,D.sibling=x,o.child=D,x=o.child,x.memoizedState=ny(u),x.childLanes=ry(i,O,u),o.memoizedState=ty,Ld(null,x)):(ji(o),ay(o,D))}var H=i.memoizedState;if(H!==null&&(D=H.dehydrated,D!==null)){if(S)o.flags&256?(ji(o),o.flags&=-257,o=sy(i,o,u)):o.memoizedState!==null?(wi(),o.child=i.child,o.flags|=128,o=null):(wi(),D=x.fallback,j=o.mode,x=Am({mode:"visible",children:x.children},j),D=bl(D,j,u,null),D.flags|=2,x.return=o,D.return=o,x.sibling=D,o.child=x,Al(o,i.child,null,u),x=o.child,x.memoizedState=ny(u),x.childLanes=ry(i,O,u),o.memoizedState=ty,o=Ld(null,x));else if(ji(o),Fy(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var de=O.dgst;O=de,x=Error(a(419)),x.stack="",x.digest=O,Sd({value:x,source:null,stack:null}),o=sy(i,o,u)}else if(Sn||ko(i,o,u,!1),O=(u&i.childLanes)!==0,Sn||O){if(O=Bt,O!==null&&(x=ZS(O,u),x!==0&&x!==H.retryLane))throw H.retryLane=x,yl(i,x),Cr(O,i,x),Jv;$y(D)||Lm(),o=sy(i,o,u)}else $y(D)?(o.flags|=192,o.child=i.child,o=null):(i=H.treeContext,Wt=ha(D.nextSibling),Yn=o,jt=!0,pi=null,fa=!1,i!==null&&G2(o,i),o=ay(o,x.children),o.flags|=4096);return o}return j?(wi(),D=x.fallback,j=o.mode,H=i.child,de=H.sibling,x=gs(H,{mode:"hidden",children:x.children}),x.subtreeFlags=H.subtreeFlags&65011712,de!==null?D=gs(de,D):(D=bl(D,j,u,null),D.flags|=2),D.return=o,x.return=o,x.sibling=D,o.child=x,Ld(null,x),x=o.child,D=i.child.memoizedState,D===null?D=ny(u):(j=D.cachePool,j!==null?(H=wn._currentValue,j=j.parent!==H?{parent:H,pool:H}:j):j=eC(),D={baseLanes:D.baseLanes|u,cachePool:j}),x.memoizedState=D,x.childLanes=ry(i,O,u),o.memoizedState=ty,Ld(i.child,x)):(ji(o),u=i.child,i=u.sibling,u=gs(u,{mode:"visible",children:x.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function ay(i,o){return o=Am({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Am(i,o){return i=Ir(22,i,null,o),i.lanes=0,i}function sy(i,o,u){return Al(o,i.child,null,u),i=ay(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function mE(i,o,u){i.lanes|=o;var x=i.alternate;x!==null&&(x.lanes|=o),bv(i.return,o,u)}function iy(i,o,u,x,j,S){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:u,tailMode:j,treeForkCount:S}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=u,O.tailMode=j,O.treeForkCount=S)}function hE(i,o,u){var x=o.pendingProps,j=x.revealOrder,S=x.tail;x=x.children;var O=hn.current,D=(O&2)!==0;if(D?(O=O&1|2,o.flags|=128):O&=1,me(hn,O),Xn(i,o,x,u),x=jt?Nd:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mE(i,u,o);else if(i.tag===19)mE(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(j){case"forwards":for(u=o.child,j=null;u!==null;)i=u.alternate,i!==null&&pm(i)===null&&(j=u),u=u.sibling;u=j,u===null?(j=o.child,o.child=null):(j=u.sibling,u.sibling=null),iy(o,!1,j,u,S,x);break;case"backwards":case"unstable_legacy-backwards":for(u=null,j=o.child,o.child=null;j!==null;){if(i=j.alternate,i!==null&&pm(i)===null){o.child=j;break}i=j.sibling,j.sibling=u,u=j,j=i}iy(o,!0,u,null,S,x);break;case"together":iy(o,!1,null,null,void 0,x);break;default:o.memoizedState=null}return o.child}function Ns(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ci|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(ko(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,u=gs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=gs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ly(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&lm(i)))}function b8(i,o,u){switch(o.tag){case 3:Ee(o,o.stateNode.containerInfo),gi(o,wn,i.memoizedState.cache),jl();break;case 27:case 5:Ae(o);break;case 4:Ee(o,o.stateNode.containerInfo);break;case 10:gi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,_v(o),null;break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(ji(o),o.flags|=128,null):(u&o.child.childLanes)!==0?fE(i,o,u):(ji(o),i=Ns(i,o,u),i!==null?i.sibling:null);ji(o);break;case 19:var j=(i.flags&128)!==0;if(x=(u&o.childLanes)!==0,x||(ko(i,o,u,!1),x=(u&o.childLanes)!==0),j){if(x)return hE(i,o,u);o.flags|=128}if(j=o.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),me(hn,hn.current),x)break;return null;case 22:return o.lanes=0,iE(i,o,u,o.pendingProps);case 24:gi(o,wn,i.memoizedState.cache)}return Ns(i,o,u)}function pE(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Sn=!0;else{if(!ly(i,u)&&(o.flags&128)===0)return Sn=!1,b8(i,o,u);Sn=(i.flags&131072)!==0}else Sn=!1,jt&&(o.flags&1048576)!==0&&W2(o,Nd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var x=o.pendingProps;if(i=Cl(o.elementType),o.type=i,typeof i=="function")fv(i)?(x=Ol(i,x),o.tag=1,o=dE(null,o,i,x,u)):(o.tag=0,o=ey(null,o,i,x,u));else{if(i!=null){var j=i.$$typeof;if(j===T){o.tag=11,o=rE(null,o,i,x,u);break e}else if(j===M){o.tag=14,o=aE(null,o,i,x,u);break e}}throw o=K(i)||i,Error(a(306,o,""))}}return o;case 0:return ey(i,o,o.type,o.pendingProps,u);case 1:return x=o.type,j=Ol(x,o.pendingProps),dE(i,o,x,j,u);case 3:e:{if(Ee(o,o.stateNode.containerInfo),i===null)throw Error(a(387));x=o.pendingProps;var S=o.memoizedState;j=S.element,Av(i,o),kd(o,x,null,u);var O=o.memoizedState;if(x=O.cache,gi(o,wn,x),x!==S.cache&&jv(o,[wn],u,!0),Td(),x=O.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=uE(i,o,x,u);break e}else if(x!==j){j=ca(Error(a(424)),o),Sd(j),o=uE(i,o,x,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=ha(i.firstChild),Yn=o,jt=!0,pi=null,fa=!0,u=iC(o,null,x,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(jl(),x===j){o=Ns(i,o,u);break e}Xn(i,o,x,u)}o=o.child}return o;case 26:return Em(i,o),i===null?(u=EA(o.type,null,o.pendingProps,null))?o.memoizedState=u:jt||(u=o.type,i=o.pendingProps,x=Hm(Le.current).createElement(u),x[Gn]=o,x[yr]=i,Zn(x,u,i),zn(x),o.stateNode=x):o.memoizedState=EA(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ae(o),i===null&&jt&&(x=o.stateNode=NA(o.type,o.pendingProps,Le.current),Yn=o,fa=!0,j=Wt,Ti(o.type)?(zy=j,Wt=ha(x.firstChild)):Wt=j),Xn(i,o,o.pendingProps.children,u),Em(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&jt&&((j=x=Wt)&&(x=Q8(x,o.type,o.pendingProps,fa),x!==null?(o.stateNode=x,Yn=o,Wt=ha(x.firstChild),fa=!1,j=!0):j=!1),j||xi(o)),Ae(o),j=o.type,S=o.pendingProps,O=i!==null?i.memoizedProps:null,x=S.children,Dy(j,S)?x=null:O!==null&&Dy(j,O)&&(o.flags|=32),o.memoizedState!==null&&(j=Mv(i,o,u8,null,null,u),Xd._currentValue=j),Em(i,o),Xn(i,o,x,u),o.child;case 6:return i===null&&jt&&((i=u=Wt)&&(u=X8(u,o.pendingProps,fa),u!==null?(o.stateNode=u,Yn=o,Wt=null,i=!0):i=!1),i||xi(o)),null;case 13:return fE(i,o,u);case 4:return Ee(o,o.stateNode.containerInfo),x=o.pendingProps,i===null?o.child=Al(o,null,x,u):Xn(i,o,x,u),o.child;case 11:return rE(i,o,o.type,o.pendingProps,u);case 7:return Xn(i,o,o.pendingProps,u),o.child;case 8:return Xn(i,o,o.pendingProps.children,u),o.child;case 12:return Xn(i,o,o.pendingProps.children,u),o.child;case 10:return x=o.pendingProps,gi(o,o.type,x.value),Xn(i,o,x.children,u),o.child;case 9:return j=o.type._context,x=o.pendingProps.children,Nl(o),j=Qn(j),x=x(j),o.flags|=1,Xn(i,o,x,u),o.child;case 14:return aE(i,o,o.type,o.pendingProps,u);case 15:return sE(i,o,o.type,o.pendingProps,u);case 19:return hE(i,o,u);case 31:return y8(i,o,u);case 22:return iE(i,o,u,o.pendingProps);case 24:return Nl(o),x=Qn(wn),i===null?(j=Sv(),j===null&&(j=Bt,S=wv(),j.pooledCache=S,S.refCount++,S!==null&&(j.pooledCacheLanes|=u),j=S),o.memoizedState={parent:x,cache:j},Ev(o),gi(o,wn,j)):((i.lanes&u)!==0&&(Av(i,o),kd(o,null,null,u),Td()),j=i.memoizedState,S=o.memoizedState,j.parent!==x?(j={parent:x,cache:x},o.memoizedState=j,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=j),gi(o,wn,x)):(x=S.cache,gi(o,wn,x),x!==j.cache&&jv(o,[wn],u,!0))),Xn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Ss(i){i.flags|=4}function oy(i,o,u,x,j){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(j&335544128)===j)if(i.stateNode.complete)i.flags|=8192;else if(UE())i.flags|=8192;else throw El=um,Cv}else i.flags&=-16777217}function xE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!kA(o))if(UE())i.flags|=8192;else throw El=um,Cv}function Pm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?YS():536870912,i.lanes|=o,Ho|=o)}function Id(i,o){if(!jt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,x=0;if(o)for(var j=i.child;j!==null;)u|=j.lanes|j.childLanes,x|=j.subtreeFlags&65011712,x|=j.flags&65011712,j.return=i,j=j.sibling;else for(j=i.child;j!==null;)u|=j.lanes|j.childLanes,x|=j.subtreeFlags,x|=j.flags,j.return=i,j=j.sibling;return i.subtreeFlags|=x,i.childLanes=u,o}function j8(i,o,u){var x=o.pendingProps;switch(xv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return u=o.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),bs(wn),ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(To(o)?Ss(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vv())),Gt(o),null;case 26:var j=o.type,S=o.memoizedState;return i===null?(Ss(o),S!==null?(Gt(o),xE(o,S)):(Gt(o),oy(o,j,null,x,u))):S?S!==i.memoizedState?(Ss(o),Gt(o),xE(o,S)):(Gt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==x&&Ss(o),Gt(o),oy(o,j,i,x,u)),null;case 27:if($e(o),u=Le.current,j=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Ss(o);else{if(!x){if(o.stateNode===null)throw Error(a(166));return Gt(o),null}i=we.current,To(o)?Y2(o):(i=NA(j,x,u),o.stateNode=i,Ss(o))}return Gt(o),null;case 5:if($e(o),j=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Ss(o);else{if(!x){if(o.stateNode===null)throw Error(a(166));return Gt(o),null}if(S=we.current,To(o))Y2(o);else{var O=Hm(Le.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof x.is=="string"?O.createElement("select",{is:x.is}):O.createElement("select"),x.multiple?S.multiple=!0:x.size&&(S.size=x.size);break;default:S=typeof x.is=="string"?O.createElement(j,{is:x.is}):O.createElement(j)}}S[Gn]=o,S[yr]=x;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=S;e:switch(Zn(S,j,x),j){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Ss(o)}}return Gt(o),oy(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==x&&Ss(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(a(166));if(i=Le.current,To(o)){if(i=o.stateNode,u=o.memoizedProps,x=null,j=Yn,j!==null)switch(j.tag){case 27:case 5:x=j.memoizedProps}i[Gn]=o,i=!!(i.nodeValue===u||x!==null&&x.suppressHydrationWarning===!0||fA(i.nodeValue,u)),i||xi(o,!0)}else i=Hm(i).createTextNode(x),i[Gn]=o,o.stateNode=i}return Gt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(x=To(o),u!==null){if(i===null){if(!x)throw Error(a(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[Gn]=o}else jl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),i=!1}else u=vv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Fr(o),o):(Fr(o),null);if((o.flags&128)!==0)throw Error(a(558))}return Gt(o),null;case 13:if(x=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(j=To(o),x!==null&&x.dehydrated!==null){if(i===null){if(!j)throw Error(a(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(a(317));j[Gn]=o}else jl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),j=!1}else j=vv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=j),j=!0;if(!j)return o.flags&256?(Fr(o),o):(Fr(o),null)}return Fr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=x!==null,i=i!==null&&i.memoizedState!==null,u&&(x=o.child,j=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(j=x.alternate.memoizedState.cachePool.pool),S=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(S=x.memoizedState.cachePool.pool),S!==j&&(x.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Pm(o,o.updateQueue),Gt(o),null);case 4:return ne(),i===null&&Ty(o.stateNode.containerInfo),Gt(o),null;case 10:return bs(o.type),Gt(o),null;case 19:if(te(hn),x=o.memoizedState,x===null)return Gt(o),null;if(j=(o.flags&128)!==0,S=x.rendering,S===null)if(j)Id(x,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=pm(i),S!==null){for(o.flags|=128,Id(x,!1),i=S.updateQueue,o.updateQueue=i,Pm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)V2(u,i),u=u.sibling;return me(hn,hn.current&1|2),jt&&vs(o,x.treeForkCount),o.child}i=i.sibling}x.tail!==null&&Je()>Rm&&(o.flags|=128,j=!0,Id(x,!1),o.lanes=4194304)}else{if(!j)if(i=pm(S),i!==null){if(o.flags|=128,j=!0,i=i.updateQueue,o.updateQueue=i,Pm(o,i),Id(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!jt)return Gt(o),null}else 2*Je()-x.renderingStartTime>Rm&&u!==536870912&&(o.flags|=128,j=!0,Id(x,!1),o.lanes=4194304);x.isBackwards?(S.sibling=o.child,o.child=S):(i=x.last,i!==null?i.sibling=S:o.child=S,x.last=S)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Je(),i.sibling=null,u=hn.current,me(hn,j?u&1|2:u&1),jt&&vs(o,x.treeForkCount),i):(Gt(o),null);case 22:case 23:return Fr(o),kv(),x=o.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(u&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),u=o.updateQueue,u!==null&&Pm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==u&&(o.flags|=2048),i!==null&&te(Sl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),bs(wn),Gt(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function w8(i,o){switch(xv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return bs(wn),ne(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 31:if(o.memoizedState!==null){if(Fr(o),o.alternate===null)throw Error(a(340));jl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Fr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));jl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return te(hn),null;case 4:return ne(),null;case 10:return bs(o.type),null;case 22:case 23:return Fr(o),kv(),i!==null&&te(Sl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return bs(wn),null;case 25:return null;default:return null}}function gE(i,o){switch(xv(o),o.tag){case 3:bs(wn),ne();break;case 26:case 27:case 5:$e(o);break;case 4:ne();break;case 31:o.memoizedState!==null&&Fr(o);break;case 13:Fr(o);break;case 19:te(hn);break;case 10:bs(o.type);break;case 22:case 23:Fr(o),kv(),i!==null&&te(Sl);break;case 24:bs(wn)}}function $d(i,o){try{var u=o.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var j=x.next;u=j;do{if((u.tag&i)===i){x=void 0;var S=u.create,O=u.inst;x=S(),O.destroy=x}u=u.next}while(u!==j)}}catch(D){Rt(o,o.return,D)}}function Ni(i,o,u){try{var x=o.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var S=j.next;x=S;do{if((x.tag&i)===i){var O=x.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,j=o;var H=u,de=D;try{de()}catch(be){Rt(j,H,be)}}}x=x.next}while(x!==S)}}catch(be){Rt(o,o.return,be)}}function vE(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{oC(o,u)}catch(x){Rt(i,i.return,x)}}}function yE(i,o,u){u.props=Ol(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(x){Rt(i,o,x)}}function Fd(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof u=="function"?i.refCleanup=u(x):u.current=x}}catch(j){Rt(i,o,j)}}function Qa(i,o){var u=i.ref,x=i.refCleanup;if(u!==null)if(typeof x=="function")try{x()}catch(j){Rt(i,o,j)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(j){Rt(i,o,j)}else u.current=null}function bE(i){var o=i.type,u=i.memoizedProps,x=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&x.focus();break e;case"img":u.src?x.src=u.src:u.srcSet&&(x.srcset=u.srcSet)}}catch(j){Rt(i,i.return,j)}}function cy(i,o,u){try{var x=i.stateNode;V8(x,i.type,u,o),x[yr]=o}catch(j){Rt(i,i.return,j)}}function jE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ti(i.type)||i.tag===4}function dy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ti(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function uy(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ps));else if(x!==4&&(x===27&&Ti(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(uy(i,o,u),i=i.sibling;i!==null;)uy(i,o,u),i=i.sibling}function Om(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(x!==4&&(x===27&&Ti(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Om(i,o,u),i=i.sibling;i!==null;)Om(i,o,u),i=i.sibling}function wE(i){var o=i.stateNode,u=i.memoizedProps;try{for(var x=i.type,j=o.attributes;j.length;)o.removeAttributeNode(j[0]);Zn(o,x,u),o[Gn]=i,o[yr]=u}catch(S){Rt(i,i.return,S)}}var Cs=!1,Cn=!1,fy=!1,NE=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function N8(i,o){if(i=i.containerInfo,Ry=Qm,i=D2(i),sv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var x=u.getSelection&&u.getSelection();if(x&&x.rangeCount!==0){u=x.anchorNode;var j=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var O=0,D=-1,H=-1,de=0,be=0,Ne=i,he=null;t:for(;;){for(var ge;Ne!==u||j!==0&&Ne.nodeType!==3||(D=O+j),Ne!==S||x!==0&&Ne.nodeType!==3||(H=O+x),Ne.nodeType===3&&(O+=Ne.nodeValue.length),(ge=Ne.firstChild)!==null;)he=Ne,Ne=ge;for(;;){if(Ne===i)break t;if(he===u&&++de===j&&(D=O),he===S&&++be===x&&(H=O),(ge=Ne.nextSibling)!==null)break;Ne=he,he=Ne.parentNode}Ne=ge}u=D===-1||H===-1?null:{start:D,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(My={focusedElem:i,selectionRange:u},Qm=!1,Bn=o;Bn!==null;)if(o=Bn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Bn=i;else for(;Bn!==null;){switch(o=Bn,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)j=i[u],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=o,j=S.memoizedProps,S=S.memoizedState,x=u.stateNode;try{var He=Ol(u.type,j);i=x.getSnapshotBeforeUpdate(He,S),x.__reactInternalSnapshotBeforeUpdate=i}catch(Ye){Rt(u,u.return,Ye)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Iy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Iy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,Bn=i;break}Bn=o.return}}function SE(i,o,u){var x=u.flags;switch(u.tag){case 0:case 11:case 15:As(i,u),x&4&&$d(5,u);break;case 1:if(As(i,u),x&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Rt(u,u.return,O)}else{var j=Ol(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(j,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Rt(u,u.return,O)}}x&64&&vE(u),x&512&&Fd(u,u.return);break;case 3:if(As(i,u),x&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{oC(i,o)}catch(O){Rt(u,u.return,O)}}break;case 27:o===null&&x&4&&wE(u);case 26:case 5:As(i,u),o===null&&x&4&&bE(u),x&512&&Fd(u,u.return);break;case 12:As(i,u);break;case 31:As(i,u),x&4&&AE(i,u);break;case 13:As(i,u),x&4&&PE(i,u),x&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=_8.bind(null,u),Z8(i,u))));break;case 22:if(x=u.memoizedState!==null||Cs,!x){o=o!==null&&o.memoizedState!==null||Cn,j=Cs;var S=Cn;Cs=x,(Cn=o)&&!S?Ps(i,u,(u.subtreeFlags&8772)!==0):As(i,u),Cs=j,Cn=S}break;case 30:break;default:As(i,u)}}function CE(i){var o=i.alternate;o!==null&&(i.alternate=null,CE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ug(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,jr=!1;function Es(i,o,u){for(u=u.child;u!==null;)EE(i,o,u),u=u.sibling}function EE(i,o,u){if(z&&typeof z.onCommitFiberUnmount=="function")try{z.onCommitFiberUnmount(ml,u)}catch{}switch(u.tag){case 26:Cn||Qa(u,o),Es(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Cn||Qa(u,o);var x=Zt,j=jr;Ti(u.type)&&(Zt=u.stateNode,jr=!1),Es(i,o,u),Gd(u.stateNode),Zt=x,jr=j;break;case 5:Cn||Qa(u,o);case 6:if(x=Zt,j=jr,Zt=null,Es(i,o,u),Zt=x,jr=j,Zt!==null)if(jr)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(u.stateNode)}catch(S){Rt(u,o,S)}else try{Zt.removeChild(u.stateNode)}catch(S){Rt(u,o,S)}break;case 18:Zt!==null&&(jr?(i=Zt,vA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Xo(i)):vA(Zt,u.stateNode));break;case 4:x=Zt,j=jr,Zt=u.stateNode.containerInfo,jr=!0,Es(i,o,u),Zt=x,jr=j;break;case 0:case 11:case 14:case 15:Ni(2,u,o),Cn||Ni(4,u,o),Es(i,o,u);break;case 1:Cn||(Qa(u,o),x=u.stateNode,typeof x.componentWillUnmount=="function"&&yE(u,o,x)),Es(i,o,u);break;case 21:Es(i,o,u);break;case 22:Cn=(x=Cn)||u.memoizedState!==null,Es(i,o,u),Cn=x;break;default:Es(i,o,u)}}function AE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xo(i)}catch(u){Rt(o,o.return,u)}}}function PE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xo(i)}catch(u){Rt(o,o.return,u)}}function S8(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new NE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new NE),o;default:throw Error(a(435,i.tag))}}function Tm(i,o){var u=S8(i);o.forEach(function(x){if(!u.has(x)){u.add(x);var j=R8.bind(null,i,x);x.then(j,j)}})}function wr(i,o){var u=o.deletions;if(u!==null)for(var x=0;x<u.length;x++){var j=u[x],S=i,O=o,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(Ti(D.type)){Zt=D.stateNode,jr=!1;break e}break;case 5:Zt=D.stateNode,jr=!1;break e;case 3:case 4:Zt=D.stateNode.containerInfo,jr=!0;break e}D=D.return}if(Zt===null)throw Error(a(160));EE(S,O,j),Zt=null,jr=!1,S=j.alternate,S!==null&&(S.return=null),j.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)OE(o,i),o=o.sibling}var _a=null;function OE(i,o){var u=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wr(o,i),Nr(i),x&4&&(Ni(3,i,i.return),$d(3,i),Ni(5,i,i.return));break;case 1:wr(o,i),Nr(i),x&512&&(Cn||u===null||Qa(u,u.return)),x&64&&Cs&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?x:u.concat(x))));break;case 26:var j=_a;if(wr(o,i),Nr(i),x&512&&(Cn||u===null||Qa(u,u.return)),x&4){var S=u!==null?u.memoizedState:null;if(x=i.memoizedState,u===null)if(x===null)if(i.stateNode===null){e:{x=i.type,u=i.memoizedProps,j=j.ownerDocument||j;t:switch(x){case"title":S=j.getElementsByTagName("title")[0],(!S||S[fd]||S[Gn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=j.createElement(x),j.head.insertBefore(S,j.querySelector("head > title"))),Zn(S,x,u),S[Gn]=i,zn(S),x=S;break e;case"link":var O=OA("link","href",j).get(x+(u.href||""));if(O){for(var D=0;D<O.length;D++)if(S=O[D],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(D,1);break t}}S=j.createElement(x),Zn(S,x,u),j.head.appendChild(S);break;case"meta":if(O=OA("meta","content",j).get(x+(u.content||""))){for(D=0;D<O.length;D++)if(S=O[D],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(D,1);break t}}S=j.createElement(x),Zn(S,x,u),j.head.appendChild(S);break;default:throw Error(a(468,x))}S[Gn]=i,zn(S),x=S}i.stateNode=x}else TA(j,i.type,i.stateNode);else i.stateNode=PA(j,x,i.memoizedProps);else S!==x?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,x===null?TA(j,i.type,i.stateNode):PA(j,x,i.memoizedProps)):x===null&&i.stateNode!==null&&cy(i,i.memoizedProps,u.memoizedProps)}break;case 27:wr(o,i),Nr(i),x&512&&(Cn||u===null||Qa(u,u.return)),u!==null&&x&4&&cy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(wr(o,i),Nr(i),x&512&&(Cn||u===null||Qa(u,u.return)),i.flags&32){j=i.stateNode;try{bo(j,"")}catch(He){Rt(i,i.return,He)}}x&4&&i.stateNode!=null&&(j=i.memoizedProps,cy(i,j,u!==null?u.memoizedProps:j)),x&1024&&(fy=!0);break;case 6:if(wr(o,i),Nr(i),x&4){if(i.stateNode===null)throw Error(a(162));x=i.memoizedProps,u=i.stateNode;try{u.nodeValue=x}catch(He){Rt(i,i.return,He)}}break;case 3:if(Km=null,j=_a,_a=Vm(o.containerInfo),wr(o,i),_a=j,Nr(i),x&4&&u!==null&&u.memoizedState.isDehydrated)try{Xo(o.containerInfo)}catch(He){Rt(i,i.return,He)}fy&&(fy=!1,TE(i));break;case 4:x=_a,_a=Vm(i.stateNode.containerInfo),wr(o,i),Nr(i),_a=x;break;case 12:wr(o,i),Nr(i);break;case 31:wr(o,i),Nr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Tm(i,x)));break;case 13:wr(o,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(_m=Je()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Tm(i,x)));break;case 22:j=i.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,de=Cs,be=Cn;if(Cs=de||j,Cn=be||H,wr(o,i),Cn=be,Cs=de,Nr(i),x&8192)e:for(o=i.stateNode,o._visibility=j?o._visibility&-2:o._visibility|1,j&&(u===null||H||Cs||Cn||Tl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(S=H.stateNode,j)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=H.stateNode;var Ne=H.memoizedProps.style,he=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;D.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(He){Rt(H,H.return,He)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=j?"":H.memoizedProps}catch(He){Rt(H,H.return,He)}}}else if(o.tag===18){if(u===null){H=o;try{var ge=H.stateNode;j?yA(ge,!0):yA(H.stateNode,!1)}catch(He){Rt(H,H.return,He)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=i.updateQueue,x!==null&&(u=x.retryQueue,u!==null&&(x.retryQueue=null,Tm(i,u))));break;case 19:wr(o,i),Nr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Tm(i,x)));break;case 30:break;case 21:break;default:wr(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{for(var u,x=i.return;x!==null;){if(jE(x)){u=x;break}x=x.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var j=u.stateNode,S=dy(i);Om(i,S,j);break;case 5:var O=u.stateNode;u.flags&32&&(bo(O,""),u.flags&=-33);var D=dy(i);Om(i,D,O);break;case 3:case 4:var H=u.stateNode.containerInfo,de=dy(i);uy(i,de,H);break;default:throw Error(a(161))}}catch(be){Rt(i,i.return,be)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function TE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;TE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function As(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)SE(i,o.alternate,o),o=o.sibling}function Tl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ni(4,o,o.return),Tl(o);break;case 1:Qa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&yE(o,o.return,u),Tl(o);break;case 27:Gd(o.stateNode);case 26:case 5:Qa(o,o.return),Tl(o);break;case 22:o.memoizedState===null&&Tl(o);break;case 30:Tl(o);break;default:Tl(o)}i=i.sibling}}function Ps(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,j=i,S=o,O=S.flags;switch(S.tag){case 0:case 11:case 15:Ps(j,S,u),$d(4,S);break;case 1:if(Ps(j,S,u),x=S,j=x.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(de){Rt(x,x.return,de)}if(x=S,j=x.updateQueue,j!==null){var D=x.stateNode;try{var H=j.shared.hiddenCallbacks;if(H!==null)for(j.shared.hiddenCallbacks=null,j=0;j<H.length;j++)lC(H[j],D)}catch(de){Rt(x,x.return,de)}}u&&O&64&&vE(S),Fd(S,S.return);break;case 27:wE(S);case 26:case 5:Ps(j,S,u),u&&x===null&&O&4&&bE(S),Fd(S,S.return);break;case 12:Ps(j,S,u);break;case 31:Ps(j,S,u),u&&O&4&&AE(j,S);break;case 13:Ps(j,S,u),u&&O&4&&PE(j,S);break;case 22:S.memoizedState===null&&Ps(j,S,u),Fd(S,S.return);break;case 30:break;default:Ps(j,S,u)}o=o.sibling}}function my(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Cd(u))}function hy(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Cd(i))}function Ra(i,o,u,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)kE(i,o,u,x),o=o.sibling}function kE(i,o,u,x){var j=o.flags;switch(o.tag){case 0:case 11:case 15:Ra(i,o,u,x),j&2048&&$d(9,o);break;case 1:Ra(i,o,u,x);break;case 3:Ra(i,o,u,x),j&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Cd(i)));break;case 12:if(j&2048){Ra(i,o,u,x),i=o.stateNode;try{var S=o.memoizedProps,O=S.id,D=S.onPostCommit;typeof D=="function"&&D(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Rt(o,o.return,H)}}else Ra(i,o,u,x);break;case 31:Ra(i,o,u,x);break;case 13:Ra(i,o,u,x);break;case 23:break;case 22:S=o.stateNode,O=o.alternate,o.memoizedState!==null?S._visibility&2?Ra(i,o,u,x):zd(i,o):S._visibility&2?Ra(i,o,u,x):(S._visibility|=2,zo(i,o,u,x,(o.subtreeFlags&10256)!==0||!1)),j&2048&&my(O,o);break;case 24:Ra(i,o,u,x),j&2048&&hy(o.alternate,o);break;default:Ra(i,o,u,x)}}function zo(i,o,u,x,j){for(j=j&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,O=o,D=u,H=x,de=O.flags;switch(O.tag){case 0:case 11:case 15:zo(S,O,D,H,j),$d(8,O);break;case 23:break;case 22:var be=O.stateNode;O.memoizedState!==null?be._visibility&2?zo(S,O,D,H,j):zd(S,O):(be._visibility|=2,zo(S,O,D,H,j)),j&&de&2048&&my(O.alternate,O);break;case 24:zo(S,O,D,H,j),j&&de&2048&&hy(O.alternate,O);break;default:zo(S,O,D,H,j)}o=o.sibling}}function zd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,x=o,j=x.flags;switch(x.tag){case 22:zd(u,x),j&2048&&my(x.alternate,x);break;case 24:zd(u,x),j&2048&&hy(x.alternate,x);break;default:zd(u,x)}o=o.sibling}}var Bd=8192;function Bo(i,o,u){if(i.subtreeFlags&Bd)for(i=i.child;i!==null;)_E(i,o,u),i=i.sibling}function _E(i,o,u){switch(i.tag){case 26:Bo(i,o,u),i.flags&Bd&&i.memoizedState!==null&&d9(u,_a,i.memoizedState,i.memoizedProps);break;case 5:Bo(i,o,u);break;case 3:case 4:var x=_a;_a=Vm(i.stateNode.containerInfo),Bo(i,o,u),_a=x;break;case 22:i.memoizedState===null&&(x=i.alternate,x!==null&&x.memoizedState!==null?(x=Bd,Bd=16777216,Bo(i,o,u),Bd=x):Bo(i,o,u));break;default:Bo(i,o,u)}}function RE(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ud(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];Bn=x,DE(x,i)}RE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ME(i),i=i.sibling}function ME(i){switch(i.tag){case 0:case 11:case 15:Ud(i),i.flags&2048&&Ni(9,i,i.return);break;case 3:Ud(i);break;case 12:Ud(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,km(i)):Ud(i);break;default:Ud(i)}}function km(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];Bn=x,DE(x,i)}RE(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ni(8,o,o.return),km(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,km(o));break;default:km(o)}i=i.sibling}}function DE(i,o){for(;Bn!==null;){var u=Bn;switch(u.tag){case 0:case 11:case 15:Ni(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var x=u.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Cd(u.memoizedState.cache)}if(x=u.child,x!==null)x.return=u,Bn=x;else e:for(u=i;Bn!==null;){x=Bn;var j=x.sibling,S=x.return;if(CE(x),x===u){Bn=null;break e}if(j!==null){j.return=S,Bn=j;break e}Bn=S}}}var C8={getCacheForType:function(i){var o=Qn(wn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return Qn(wn).controller.signal}},E8=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Bt=null,gt=null,yt=0,_t=0,zr=null,Si=!1,Uo=!1,py=!1,Os=0,cn=0,Ci=0,kl=0,xy=0,Br=0,Ho=0,Hd=null,Sr=null,gy=!1,_m=0,LE=0,Rm=1/0,Mm=null,Ei=null,kn=0,Ai=null,Vo=null,Ts=0,vy=0,yy=null,IE=null,Vd=0,by=null;function Ur(){return(Ot&2)!==0&&yt!==0?yt&-yt:B.T!==null?Ey():JS()}function $E(){if(Br===0)if((yt&536870912)===0||jt){var i=Uf;Uf<<=1,(Uf&3932160)===0&&(Uf=262144),Br=i}else Br=536870912;return i=$r.current,i!==null&&(i.flags|=32),Br}function Cr(i,o,u){(i===Bt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(qo(i,0),Pi(i,yt,Br,!1)),ud(i,u),((Ot&2)===0||i!==Bt)&&(i===Bt&&((Ot&2)===0&&(kl|=u),cn===4&&Pi(i,yt,Br,!1)),Xa(i))}function FE(i,o,u){if((Ot&6)!==0)throw Error(a(327));var x=!u&&(o&127)===0&&(o&i.expiredLanes)===0||dd(i,o),j=x?O8(i,o):wy(i,o,!0),S=x;do{if(j===0){Uo&&!x&&Pi(i,o,0,!1);break}else{if(u=i.current.alternate,S&&!A8(u)){j=wy(i,o,!1),S=!1;continue}if(j===2){if(S=o,i.errorRecoveryDisabledLanes&S)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var D=i;j=Hd;var H=D.current.memoizedState.isDehydrated;if(H&&(qo(D,O).flags|=256),O=wy(D,O,!1),O!==2){if(py&&!H){D.errorRecoveryDisabledLanes|=S,kl|=S,j=4;break e}S=Sr,Sr=j,S!==null&&(Sr===null?Sr=S:Sr.push.apply(Sr,S))}j=O}if(S=!1,j!==2)continue}}if(j===1){qo(i,0),Pi(i,o,0,!0);break}e:{switch(x=i,S=j,S){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Pi(x,o,Br,!Si);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(j=_m+300-Je(),10<j)){if(Pi(x,o,Br,!Si),Vf(x,0,!0)!==0)break e;Ts=o,x.timeoutHandle=xA(zE.bind(null,x,u,Sr,Mm,gy,o,Br,kl,Ho,Si,S,"Throttled",-0,0),j);break e}zE(x,u,Sr,Mm,gy,o,Br,kl,Ho,Si,S,null,-0,0)}}break}while(!0);Xa(i)}function zE(i,o,u,x,j,S,O,D,H,de,be,Ne,he,ge){if(i.timeoutHandle=-1,Ne=o.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ps},_E(o,S,Ne);var He=(S&62914560)===S?_m-Je():(S&4194048)===S?LE-Je():0;if(He=u9(Ne,He),He!==null){Ts=S,i.cancelPendingCommit=He(GE.bind(null,i,o,S,u,x,j,O,D,H,be,Ne,null,he,ge)),Pi(i,S,O,!de);return}}GE(i,o,S,u,x,j,O,D,H)}function A8(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var x=0;x<u.length;x++){var j=u[x],S=j.getSnapshot;j=j.value;try{if(!Lr(S(),j))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pi(i,o,u,x){o&=~xy,o&=~kl,i.suspendedLanes|=o,i.pingedLanes&=~o,x&&(i.warmLanes|=o),x=i.expirationTimes;for(var j=o;0<j;){var S=31-rt(j),O=1<<S;x[S]=-1,j&=~O}u!==0&&QS(i,u,o)}function Dm(){return(Ot&6)===0?(qd(0),!1):!0}function jy(){if(gt!==null){if(_t===0)var i=gt.return;else i=gt,ys=wl=null,Iv(i),Do=null,Ad=0,i=gt;for(;i!==null;)gE(i.alternate,i),i=i.return;gt=null}}function qo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,W8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ts=0,jy(),Bt=i,gt=u=gs(i.current,null),yt=o,_t=0,zr=null,Si=!1,Uo=dd(i,o),py=!1,Ho=Br=xy=kl=Ci=cn=0,Sr=Hd=null,gy=!1,(o&8)!==0&&(o|=o&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=o;0<x;){var j=31-rt(x),S=1<<j;o|=i[j],x&=~S}return Os=o,nm(),u}function BE(i,o){ot=null,B.H=Dd,o===Mo||o===dm?(o=rC(),_t=3):o===Cv?(o=rC(),_t=4):_t=o===Jv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,zr=o,gt===null&&(cn=1,Sm(i,ca(o,i.current)))}function UE(){var i=$r.current;return i===null?!0:(yt&4194048)===yt?ma===null:(yt&62914560)===yt||(yt&536870912)!==0?i===ma:!1}function HE(){var i=B.H;return B.H=Dd,i===null?Dd:i}function VE(){var i=B.A;return B.A=C8,i}function Lm(){cn=4,Si||(yt&4194048)!==yt&&$r.current!==null||(Uo=!0),(Ci&134217727)===0&&(kl&134217727)===0||Bt===null||Pi(Bt,yt,Br,!1)}function wy(i,o,u){var x=Ot;Ot|=2;var j=HE(),S=VE();(Bt!==i||yt!==o)&&(Mm=null,qo(i,o)),o=!1;var O=cn;e:do try{if(_t!==0&&gt!==null){var D=gt,H=zr;switch(_t){case 8:jy(),O=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(o=!0);var de=_t;if(_t=0,zr=null,Ko(i,D,H,de),u&&Uo){O=0;break e}break;default:de=_t,_t=0,zr=null,Ko(i,D,H,de)}}P8(),O=cn;break}catch(be){BE(i,be)}while(!0);return o&&i.shellSuspendCounter++,ys=wl=null,Ot=x,B.H=j,B.A=S,gt===null&&(Bt=null,yt=0,nm()),O}function P8(){for(;gt!==null;)qE(gt)}function O8(i,o){var u=Ot;Ot|=2;var x=HE(),j=VE();Bt!==i||yt!==o?(Mm=null,Rm=Je()+500,qo(i,o)):Uo=dd(i,o);e:do try{if(_t!==0&&gt!==null){o=gt;var S=zr;t:switch(_t){case 1:_t=0,zr=null,Ko(i,o,S,1);break;case 2:case 9:if(tC(S)){_t=0,zr=null,KE(o);break}o=function(){_t!==2&&_t!==9||Bt!==i||(_t=7),Xa(i)},S.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:tC(S)?(_t=0,zr=null,KE(o)):(_t=0,zr=null,Ko(i,o,S,7));break;case 5:var O=null;switch(gt.tag){case 26:O=gt.memoizedState;case 5:case 27:var D=gt;if(O?kA(O):D.stateNode.complete){_t=0,zr=null;var H=D.sibling;if(H!==null)gt=H;else{var de=D.return;de!==null?(gt=de,Im(de)):gt=null}break t}}_t=0,zr=null,Ko(i,o,S,5);break;case 6:_t=0,zr=null,Ko(i,o,S,6);break;case 8:jy(),cn=6;break e;default:throw Error(a(462))}}T8();break}catch(be){BE(i,be)}while(!0);return ys=wl=null,B.H=x,B.A=j,Ot=u,gt!==null?0:(Bt=null,yt=0,nm(),cn)}function T8(){for(;gt!==null&&!vr();)qE(gt)}function qE(i){var o=pE(i.alternate,i,Os);i.memoizedProps=i.pendingProps,o===null?Im(i):gt=o}function KE(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=cE(u,o,o.pendingProps,o.type,void 0,yt);break;case 11:o=cE(u,o,o.pendingProps,o.type.render,o.ref,yt);break;case 5:Iv(o);default:gE(u,o),o=gt=V2(o,Os),o=pE(u,o,Os)}i.memoizedProps=i.pendingProps,o===null?Im(i):gt=o}function Ko(i,o,u,x){ys=wl=null,Iv(o),Do=null,Ad=0;var j=o.return;try{if(v8(i,j,o,u,yt)){cn=1,Sm(i,ca(u,i.current)),gt=null;return}}catch(S){if(j!==null)throw gt=j,S;cn=1,Sm(i,ca(u,i.current)),gt=null;return}o.flags&32768?(jt||x===1?i=!0:Uo||(yt&536870912)!==0?i=!1:(Si=i=!0,(x===2||x===9||x===3||x===6)&&(x=$r.current,x!==null&&x.tag===13&&(x.flags|=16384))),WE(o,i)):Im(o)}function Im(i){var o=i;do{if((o.flags&32768)!==0){WE(o,Si);return}i=o.return;var u=j8(o.alternate,o,Os);if(u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=i}while(o!==null);cn===0&&(cn=5)}function WE(i,o){do{var u=w8(i.alternate,i);if(u!==null){u.flags&=32767,gt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){gt=i;return}gt=i=u}while(i!==null);cn=6,gt=null}function GE(i,o,u,x,j,S,O,D,H){i.cancelPendingCommit=null;do $m();while(kn!==0);if((Ot&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(S=o.lanes|o.childLanes,S|=dv,cB(i,u,S,O,D,H),i===Bt&&(gt=Bt=null,yt=0),Vo=o,Ai=i,Ts=u,vy=S,yy=j,IE=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,M8(mo,function(){return JE(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=B.T,B.T=null,j=X.p,X.p=2,O=Ot,Ot|=4;try{N8(i,o,u)}finally{Ot=O,X.p=j,B.T=x}}kn=1,YE(),QE(),XE()}}function YE(){if(kn===1){kn=0;var i=Ai,o=Vo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var x=X.p;X.p=2;var j=Ot;Ot|=4;try{OE(o,i);var S=My,O=D2(i.containerInfo),D=S.focusedElem,H=S.selectionRange;if(O!==D&&D&&D.ownerDocument&&M2(D.ownerDocument.documentElement,D)){if(H!==null&&sv(D)){var de=H.start,be=H.end;if(be===void 0&&(be=de),"selectionStart"in D)D.selectionStart=de,D.selectionEnd=Math.min(be,D.value.length);else{var Ne=D.ownerDocument||document,he=Ne&&Ne.defaultView||window;if(he.getSelection){var ge=he.getSelection(),He=D.textContent.length,Ye=Math.min(H.start,He),Ft=H.end===void 0?Ye:Math.min(H.end,He);!ge.extend&&Ye>Ft&&(O=Ft,Ft=Ye,Ye=O);var re=R2(D,Ye),G=R2(D,Ft);if(re&&G&&(ge.rangeCount!==1||ge.anchorNode!==re.node||ge.anchorOffset!==re.offset||ge.focusNode!==G.node||ge.focusOffset!==G.offset)){var ce=Ne.createRange();ce.setStart(re.node,re.offset),ge.removeAllRanges(),Ye>Ft?(ge.addRange(ce),ge.extend(G.node,G.offset)):(ce.setEnd(G.node,G.offset),ge.addRange(ce))}}}}for(Ne=[],ge=D;ge=ge.parentNode;)ge.nodeType===1&&Ne.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<Ne.length;D++){var je=Ne[D];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}Qm=!!Ry,My=Ry=null}finally{Ot=j,X.p=x,B.T=u}}i.current=o,kn=2}}function QE(){if(kn===2){kn=0;var i=Ai,o=Vo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var x=X.p;X.p=2;var j=Ot;Ot|=4;try{SE(i,o.alternate,o)}finally{Ot=j,X.p=x,B.T=u}}kn=3}}function XE(){if(kn===4||kn===3){kn=0,jn();var i=Ai,o=Vo,u=Ts,x=IE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kn=5:(kn=0,Vo=Ai=null,ZE(i,i.pendingLanes));var j=i.pendingLanes;if(j===0&&(Ei=null),zg(u),o=o.stateNode,z&&typeof z.onCommitFiberRoot=="function")try{z.onCommitFiberRoot(ml,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=B.T,j=X.p,X.p=2,B.T=null;try{for(var S=i.onRecoverableError,O=0;O<x.length;O++){var D=x[O];S(D.value,{componentStack:D.stack})}}finally{B.T=o,X.p=j}}(Ts&3)!==0&&$m(),Xa(i),j=i.pendingLanes,(u&261930)!==0&&(j&42)!==0?i===by?Vd++:(Vd=0,by=i):Vd=0,qd(0)}}function ZE(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Cd(o)))}function $m(){return YE(),QE(),XE(),JE()}function JE(){if(kn!==5)return!1;var i=Ai,o=vy;vy=0;var u=zg(Ts),x=B.T,j=X.p;try{X.p=32>u?32:u,B.T=null,u=yy,yy=null;var S=Ai,O=Ts;if(kn=0,Vo=Ai=null,Ts=0,(Ot&6)!==0)throw Error(a(331));var D=Ot;if(Ot|=4,ME(S.current),kE(S,S.current,O,u),Ot=D,qd(0,!1),z&&typeof z.onPostCommitFiberRoot=="function")try{z.onPostCommitFiberRoot(ml,S)}catch{}return!0}finally{X.p=j,B.T=x,ZE(i,o)}}function eA(i,o,u){o=ca(u,o),o=Zv(i.stateNode,o,2),i=bi(i,o,2),i!==null&&(ud(i,2),Xa(i))}function Rt(i,o,u){if(i.tag===3)eA(i,i,u);else for(;o!==null;){if(o.tag===3){eA(o,i,u);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ei===null||!Ei.has(x))){i=ca(u,i),u=tE(2),x=bi(o,u,2),x!==null&&(nE(u,x,o,i),ud(x,2),Xa(x));break}}o=o.return}}function Ny(i,o,u){var x=i.pingCache;if(x===null){x=i.pingCache=new E8;var j=new Set;x.set(o,j)}else j=x.get(o),j===void 0&&(j=new Set,x.set(o,j));j.has(u)||(py=!0,j.add(u),i=k8.bind(null,i,o,u),o.then(i,i))}function k8(i,o,u){var x=i.pingCache;x!==null&&x.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(yt&u)===u&&(cn===4||cn===3&&(yt&62914560)===yt&&300>Je()-_m?(Ot&2)===0&&qo(i,0):xy|=u,Ho===yt&&(Ho=0)),Xa(i)}function tA(i,o){o===0&&(o=YS()),i=yl(i,o),i!==null&&(ud(i,o),Xa(i))}function _8(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),tA(i,u)}function R8(i,o){var u=0;switch(i.tag){case 31:case 13:var x=i.stateNode,j=i.memoizedState;j!==null&&(u=j.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(a(314))}x!==null&&x.delete(o),tA(i,u)}function M8(i,o){return lt(i,o)}var Fm=null,Wo=null,Sy=!1,zm=!1,Cy=!1,Oi=0;function Xa(i){i!==Wo&&i.next===null&&(Wo===null?Fm=Wo=i:Wo=Wo.next=i),zm=!0,Sy||(Sy=!0,L8())}function qd(i,o){if(!Cy&&zm){Cy=!0;do for(var u=!1,x=Fm;x!==null;){if(i!==0){var j=x.pendingLanes;if(j===0)var S=0;else{var O=x.suspendedLanes,D=x.pingedLanes;S=(1<<31-rt(42|i)+1)-1,S&=j&~(O&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,sA(x,S))}else S=yt,S=Vf(x,x===Bt?S:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(S&3)===0||dd(x,S)||(u=!0,sA(x,S));x=x.next}while(u);Cy=!1}}function D8(){nA()}function nA(){zm=Sy=!1;var i=0;Oi!==0&&K8()&&(i=Oi);for(var o=Je(),u=null,x=Fm;x!==null;){var j=x.next,S=rA(x,o);S===0?(x.next=null,u===null?Fm=j:u.next=j,j===null&&(Wo=u)):(u=x,(i!==0||(S&3)!==0)&&(zm=!0)),x=j}kn!==0&&kn!==5||qd(i),Oi!==0&&(Oi=0)}function rA(i,o){for(var u=i.suspendedLanes,x=i.pingedLanes,j=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var O=31-rt(S),D=1<<O,H=j[O];H===-1?((D&u)===0||(D&x)!==0)&&(j[O]=oB(D,o)):H<=o&&(i.expiredLanes|=D),S&=~D}if(o=Bt,u=yt,u=Vf(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,u===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&ln(x),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||dd(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(x!==null&&ln(x),zg(u)){case 2:case 8:u=mn;break;case 32:u=mo;break;case 268435456:u=fl;break;default:u=mo}return x=aA.bind(null,i),u=lt(u,x),i.callbackPriority=o,i.callbackNode=u,o}return x!==null&&x!==null&&ln(x),i.callbackPriority=2,i.callbackNode=null,2}function aA(i,o){if(kn!==0&&kn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if($m()&&i.callbackNode!==u)return null;var x=yt;return x=Vf(i,i===Bt?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(FE(i,x,o),rA(i,Je()),i.callbackNode!=null&&i.callbackNode===u?aA.bind(null,i):null)}function sA(i,o){if($m())return null;FE(i,o,!0)}function L8(){G8(function(){(Ot&6)!==0?lt(ul,D8):nA()})}function Ey(){if(Oi===0){var i=_o;i===0&&(i=sa,sa<<=1,(sa&261888)===0&&(sa=256)),Oi=i}return Oi}function iA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Gf(""+i)}function lA(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function I8(i,o,u,x,j){if(o==="submit"&&u&&u.stateNode===j){var S=iA((j[yr]||null).action),O=x.submitter;O&&(o=(o=O[yr]||null)?iA(o.formAction):O.getAttribute("formAction"),o!==null&&(S=o,O=null));var D=new Zf("action","action",null,x,j);i.push({event:D,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Oi!==0){var H=O?lA(j,O):new FormData(j);Kv(u,{pending:!0,data:H,method:j.method,action:S},null,H)}}else typeof S=="function"&&(D.preventDefault(),H=O?lA(j,O):new FormData(j),Kv(u,{pending:!0,data:H,method:j.method,action:S},S,H))},currentTarget:j}]})}}for(var Ay=0;Ay<cv.length;Ay++){var Py=cv[Ay],$8=Py.toLowerCase(),F8=Py[0].toUpperCase()+Py.slice(1);ka($8,"on"+F8)}ka($2,"onAnimationEnd"),ka(F2,"onAnimationIteration"),ka(z2,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(t8,"onTransitionRun"),ka(n8,"onTransitionStart"),ka(r8,"onTransitionCancel"),ka(B2,"onTransitionEnd"),vo("onMouseEnter",["mouseout","mouseover"]),vo("onMouseLeave",["mouseout","mouseover"]),vo("onPointerEnter",["pointerout","pointerover"]),vo("onPointerLeave",["pointerout","pointerover"]),pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kd));function oA(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var x=i[u],j=x.event;x=x.listeners;e:{var S=void 0;if(o)for(var O=x.length-1;0<=O;O--){var D=x[O],H=D.instance,de=D.currentTarget;if(D=D.listener,H!==S&&j.isPropagationStopped())break e;S=D,j.currentTarget=de;try{S(j)}catch(be){tm(be)}j.currentTarget=null,S=H}else for(O=0;O<x.length;O++){if(D=x[O],H=D.instance,de=D.currentTarget,D=D.listener,H!==S&&j.isPropagationStopped())break e;S=D,j.currentTarget=de;try{S(j)}catch(be){tm(be)}j.currentTarget=null,S=H}}}}function vt(i,o){var u=o[Bg];u===void 0&&(u=o[Bg]=new Set);var x=i+"__bubble";u.has(x)||(cA(o,i,2,!1),u.add(x))}function Oy(i,o,u){var x=0;o&&(x|=4),cA(u,i,x,o)}var Bm="_reactListening"+Math.random().toString(36).slice(2);function Ty(i){if(!i[Bm]){i[Bm]=!0,n2.forEach(function(u){u!=="selectionchange"&&(z8.has(u)||Oy(u,!1,i),Oy(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Bm]||(o[Bm]=!0,Oy("selectionchange",!1,o))}}function cA(i,o,u,x){switch($A(o)){case 2:var j=h9;break;case 8:j=p9;break;default:j=qy}u=j.bind(null,o,u,i),j=void 0,!Qg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(j=!0),x?j!==void 0?i.addEventListener(o,u,{capture:!0,passive:j}):i.addEventListener(o,u,!0):j!==void 0?i.addEventListener(o,u,{passive:j}):i.addEventListener(o,u,!1)}function ky(i,o,u,x,j){var S=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var O=x.tag;if(O===3||O===4){var D=x.stateNode.containerInfo;if(D===j)break;if(O===4)for(O=x.return;O!==null;){var H=O.tag;if((H===3||H===4)&&O.stateNode.containerInfo===j)return;O=O.return}for(;D!==null;){if(O=po(D),O===null)return;if(H=O.tag,H===5||H===6||H===26||H===27){x=S=O;continue e}D=D.parentNode}}x=x.return}h2(function(){var de=S,be=Gg(u),Ne=[];e:{var he=U2.get(i);if(he!==void 0){var ge=Zf,He=i;switch(i){case"keypress":if(Qf(u)===0)break e;case"keydown":case"keyup":ge=RB;break;case"focusin":He="focus",ge=ev;break;case"focusout":He="blur",ge=ev;break;case"beforeblur":case"afterblur":ge=ev;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=g2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=jB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=LB;break;case $2:case F2:case z2:ge=SB;break;case B2:ge=$B;break;case"scroll":case"scrollend":ge=yB;break;case"wheel":ge=zB;break;case"copy":case"cut":case"paste":ge=EB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=y2;break;case"toggle":case"beforetoggle":ge=UB}var Ye=(o&4)!==0,Ft=!Ye&&(i==="scroll"||i==="scrollend"),re=Ye?he!==null?he+"Capture":null:he;Ye=[];for(var G=de,ce;G!==null;){var je=G;if(ce=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||ce===null||re===null||(je=hd(G,re),je!=null&&Ye.push(Wd(G,je,ce))),Ft)break;G=G.return}0<Ye.length&&(he=new ge(he,He,null,u,be),Ne.push({event:he,listeners:Ye}))}}if((o&7)===0){e:{if(he=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",he&&u!==Wg&&(He=u.relatedTarget||u.fromElement)&&(po(He)||He[ho]))break e;if((ge||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(He=u.relatedTarget||u.toElement,ge=de,He=He?po(He):null,He!==null&&(Ft=l(He),Ye=He.tag,He!==Ft||Ye!==5&&Ye!==27&&Ye!==6)&&(He=null)):(ge=null,He=de),ge!==He)){if(Ye=g2,je="onMouseLeave",re="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ye=y2,je="onPointerLeave",re="onPointerEnter",G="pointer"),Ft=ge==null?he:md(ge),ce=He==null?he:md(He),he=new Ye(je,G+"leave",ge,u,be),he.target=Ft,he.relatedTarget=ce,je=null,po(be)===de&&(Ye=new Ye(re,G+"enter",He,u,be),Ye.target=ce,Ye.relatedTarget=Ft,je=Ye),Ft=je,ge&&He)t:{for(Ye=B8,re=ge,G=He,ce=0,je=re;je;je=Ye(je))ce++;je=0;for(var We=G;We;We=Ye(We))je++;for(;0<ce-je;)re=Ye(re),ce--;for(;0<je-ce;)G=Ye(G),je--;for(;ce--;){if(re===G||G!==null&&re===G.alternate){Ye=re;break t}re=Ye(re),G=Ye(G)}Ye=null}else Ye=null;ge!==null&&dA(Ne,he,ge,Ye,!1),He!==null&&Ft!==null&&dA(Ne,Ft,He,Ye,!0)}}e:{if(he=de?md(de):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Ct=A2;else if(C2(he))if(P2)Ct=ZB;else{Ct=QB;var Ke=YB}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?de&&Kg(de.elementType)&&(Ct=A2):Ct=XB;if(Ct&&(Ct=Ct(i,de))){E2(Ne,Ct,u,be);break e}Ke&&Ke(i,he,de),i==="focusout"&&de&&he.type==="number"&&de.memoizedProps.value!=null&&qg(he,"number",he.value)}switch(Ke=de?md(de):window,i){case"focusin":(C2(Ke)||Ke.contentEditable==="true")&&(So=Ke,iv=de,wd=null);break;case"focusout":wd=iv=So=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,L2(Ne,u,be);break;case"selectionchange":if(e8)break;case"keydown":case"keyup":L2(Ne,u,be)}var ut;if(nv)e:{switch(i){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else No?N2(i,u)&&(bt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(bt="onCompositionStart");bt&&(b2&&u.locale!=="ko"&&(No||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&No&&(ut=p2()):(mi=be,Xg="value"in mi?mi.value:mi.textContent,No=!0)),Ke=Um(de,bt),0<Ke.length&&(bt=new v2(bt,i,null,u,be),Ne.push({event:bt,listeners:Ke}),ut?bt.data=ut:(ut=S2(u),ut!==null&&(bt.data=ut)))),(ut=VB?qB(i,u):KB(i,u))&&(bt=Um(de,"onBeforeInput"),0<bt.length&&(Ke=new v2("onBeforeInput","beforeinput",null,u,be),Ne.push({event:Ke,listeners:bt}),Ke.data=ut)),I8(Ne,i,de,u,be)}oA(Ne,o)})}function Wd(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Um(i,o){for(var u=o+"Capture",x=[];i!==null;){var j=i,S=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||S===null||(j=hd(i,u),j!=null&&x.unshift(Wd(i,j,S)),j=hd(i,o),j!=null&&x.push(Wd(i,j,S))),i.tag===3)return x;i=i.return}return[]}function B8(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function dA(i,o,u,x,j){for(var S=o._reactName,O=[];u!==null&&u!==x;){var D=u,H=D.alternate,de=D.stateNode;if(D=D.tag,H!==null&&H===x)break;D!==5&&D!==26&&D!==27||de===null||(H=de,j?(de=hd(u,S),de!=null&&O.unshift(Wd(u,de,H))):j||(de=hd(u,S),de!=null&&O.push(Wd(u,de,H)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var U8=/\r\n?/g,H8=/\u0000|\uFFFD/g;function uA(i){return(typeof i=="string"?i:""+i).replace(U8,`
`).replace(H8,"")}function fA(i,o){return o=uA(o),uA(i)===o}function $t(i,o,u,x,j,S){switch(u){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||bo(i,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&bo(i,""+x);break;case"className":Kf(i,"class",x);break;case"tabIndex":Kf(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Kf(i,u,x);break;case"style":f2(i,x,S);break;case"data":if(o!=="object"){Kf(i,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=Gf(""+x),i.setAttribute(u,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&$t(i,o,"name",j.name,j,null),$t(i,o,"formEncType",j.formEncType,j,null),$t(i,o,"formMethod",j.formMethod,j,null),$t(i,o,"formTarget",j.formTarget,j,null)):($t(i,o,"encType",j.encType,j,null),$t(i,o,"method",j.method,j,null),$t(i,o,"target",j.target,j,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=Gf(""+x),i.setAttribute(u,x);break;case"onClick":x!=null&&(i.onclick=ps);break;case"onScroll":x!=null&&vt("scroll",i);break;case"onScrollEnd":x!=null&&vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(u=x.__html,u!=null){if(j.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}u=Gf(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""+x):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":x===!0?i.setAttribute(u,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,x):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(u,x):i.removeAttribute(u);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(u):i.setAttribute(u,x);break;case"popover":vt("beforetoggle",i),vt("toggle",i),qf(i,"popover",x);break;case"xlinkActuate":hs(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":hs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":hs(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":hs(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":hs(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":hs(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":hs(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":hs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":hs(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":qf(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=gB.get(u)||u,qf(i,u,x))}}function _y(i,o,u,x,j,S){switch(u){case"style":f2(i,x,S);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(u=x.__html,u!=null){if(j.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof x=="string"?bo(i,x):(typeof x=="number"||typeof x=="bigint")&&bo(i,""+x);break;case"onScroll":x!=null&&vt("scroll",i);break;case"onScrollEnd":x!=null&&vt("scrollend",i);break;case"onClick":x!=null&&(i.onclick=ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!r2.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(j=u.endsWith("Capture"),o=u.slice(2,j?u.length-7:void 0),S=i[yr]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(o,S,j),typeof x=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,x,j);break e}u in i?i[u]=x:x===!0?i.setAttribute(u,""):qf(i,u,x)}}}function Zn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",i),vt("load",i);var x=!1,j=!1,S;for(S in u)if(u.hasOwnProperty(S)){var O=u[S];if(O!=null)switch(S){case"src":x=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:$t(i,o,S,O,u,null)}}j&&$t(i,o,"srcSet",u.srcSet,u,null),x&&$t(i,o,"src",u.src,u,null);return;case"input":vt("invalid",i);var D=S=O=j=null,H=null,de=null;for(x in u)if(u.hasOwnProperty(x)){var be=u[x];if(be!=null)switch(x){case"name":j=be;break;case"type":O=be;break;case"checked":H=be;break;case"defaultChecked":de=be;break;case"value":S=be;break;case"defaultValue":D=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,o));break;default:$t(i,o,x,be,u,null)}}o2(i,S,D,H,de,O,j,!1);return;case"select":vt("invalid",i),x=O=S=null;for(j in u)if(u.hasOwnProperty(j)&&(D=u[j],D!=null))switch(j){case"value":S=D;break;case"defaultValue":O=D;break;case"multiple":x=D;default:$t(i,o,j,D,u,null)}o=S,u=O,i.multiple=!!x,o!=null?yo(i,!!x,o,!1):u!=null&&yo(i,!!x,u,!0);return;case"textarea":vt("invalid",i),S=j=x=null;for(O in u)if(u.hasOwnProperty(O)&&(D=u[O],D!=null))switch(O){case"value":x=D;break;case"defaultValue":j=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(91));break;default:$t(i,o,O,D,u,null)}d2(i,x,j,S);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(x=u[H],x!=null))switch(H){case"selected":i.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:$t(i,o,H,x,u,null)}return;case"dialog":vt("beforetoggle",i),vt("toggle",i),vt("cancel",i),vt("close",i);break;case"iframe":case"object":vt("load",i);break;case"video":case"audio":for(x=0;x<Kd.length;x++)vt(Kd[x],i);break;case"image":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"embed":case"source":case"link":vt("error",i),vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in u)if(u.hasOwnProperty(de)&&(x=u[de],x!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:$t(i,o,de,x,u,null)}return;default:if(Kg(o)){for(be in u)u.hasOwnProperty(be)&&(x=u[be],x!==void 0&&_y(i,o,be,x,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(x=u[D],x!=null&&$t(i,o,D,x,u,null))}function V8(i,o,u,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,S=null,O=null,D=null,H=null,de=null,be=null;for(ge in u){var Ne=u[ge];if(u.hasOwnProperty(ge)&&Ne!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":H=Ne;default:x.hasOwnProperty(ge)||$t(i,o,ge,null,x,Ne)}}for(var he in x){var ge=x[he];if(Ne=u[he],x.hasOwnProperty(he)&&(ge!=null||Ne!=null))switch(he){case"type":S=ge;break;case"name":j=ge;break;case"checked":de=ge;break;case"defaultChecked":be=ge;break;case"value":O=ge;break;case"defaultValue":D=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,o));break;default:ge!==Ne&&$t(i,o,he,ge,x,Ne)}}Vg(i,O,D,H,de,be,S,j);return;case"select":ge=O=D=he=null;for(S in u)if(H=u[S],u.hasOwnProperty(S)&&H!=null)switch(S){case"value":break;case"multiple":ge=H;default:x.hasOwnProperty(S)||$t(i,o,S,null,x,H)}for(j in x)if(S=x[j],H=u[j],x.hasOwnProperty(j)&&(S!=null||H!=null))switch(j){case"value":he=S;break;case"defaultValue":D=S;break;case"multiple":O=S;default:S!==H&&$t(i,o,j,S,x,H)}o=D,u=O,x=ge,he!=null?yo(i,!!u,he,!1):!!x!=!!u&&(o!=null?yo(i,!!u,o,!0):yo(i,!!u,u?[]:"",!1));return;case"textarea":ge=he=null;for(D in u)if(j=u[D],u.hasOwnProperty(D)&&j!=null&&!x.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:$t(i,o,D,null,x,j)}for(O in x)if(j=x[O],S=u[O],x.hasOwnProperty(O)&&(j!=null||S!=null))switch(O){case"value":he=j;break;case"defaultValue":ge=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(91));break;default:j!==S&&$t(i,o,O,j,x,S)}c2(i,he,ge);return;case"option":for(var He in u)if(he=u[He],u.hasOwnProperty(He)&&he!=null&&!x.hasOwnProperty(He))switch(He){case"selected":i.selected=!1;break;default:$t(i,o,He,null,x,he)}for(H in x)if(he=x[H],ge=u[H],x.hasOwnProperty(H)&&he!==ge&&(he!=null||ge!=null))switch(H){case"selected":i.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:$t(i,o,H,he,x,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in u)he=u[Ye],u.hasOwnProperty(Ye)&&he!=null&&!x.hasOwnProperty(Ye)&&$t(i,o,Ye,null,x,he);for(de in x)if(he=x[de],ge=u[de],x.hasOwnProperty(de)&&he!==ge&&(he!=null||ge!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,o));break;default:$t(i,o,de,he,x,ge)}return;default:if(Kg(o)){for(var Ft in u)he=u[Ft],u.hasOwnProperty(Ft)&&he!==void 0&&!x.hasOwnProperty(Ft)&&_y(i,o,Ft,void 0,x,he);for(be in x)he=x[be],ge=u[be],!x.hasOwnProperty(be)||he===ge||he===void 0&&ge===void 0||_y(i,o,be,he,x,ge);return}}for(var re in u)he=u[re],u.hasOwnProperty(re)&&he!=null&&!x.hasOwnProperty(re)&&$t(i,o,re,null,x,he);for(Ne in x)he=x[Ne],ge=u[Ne],!x.hasOwnProperty(Ne)||he===ge||he==null&&ge==null||$t(i,o,Ne,he,x,ge)}function mA(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q8(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),x=0;x<u.length;x++){var j=u[x],S=j.transferSize,O=j.initiatorType,D=j.duration;if(S&&D&&mA(O)){for(O=0,D=j.responseEnd,x+=1;x<u.length;x++){var H=u[x],de=H.startTime;if(de>D)break;var be=H.transferSize,Ne=H.initiatorType;be&&mA(Ne)&&(H=H.responseEnd,O+=be*(H<D?1:(D-de)/(H-de)))}if(--x,o+=8*(S+O)/(j.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ry=null,My=null;function Hm(i){return i.nodeType===9?i:i.ownerDocument}function hA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pA(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Dy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ly=null;function K8(){var i=window.event;return i&&i.type==="popstate"?i===Ly?!1:(Ly=i,!0):(Ly=null,!1)}var xA=typeof setTimeout=="function"?setTimeout:void 0,W8=typeof clearTimeout=="function"?clearTimeout:void 0,gA=typeof Promise=="function"?Promise:void 0,G8=typeof queueMicrotask=="function"?queueMicrotask:typeof gA<"u"?function(i){return gA.resolve(null).then(i).catch(Y8)}:xA;function Y8(i){setTimeout(function(){throw i})}function Ti(i){return i==="head"}function vA(i,o){var u=o,x=0;do{var j=u.nextSibling;if(i.removeChild(u),j&&j.nodeType===8)if(u=j.data,u==="/$"||u==="/&"){if(x===0){i.removeChild(j),Xo(o);return}x--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")x++;else if(u==="html")Gd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Gd(u);for(var S=u.firstChild;S;){var O=S.nextSibling,D=S.nodeName;S[fd]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=O}}else u==="body"&&Gd(i.ownerDocument.body);u=j}while(u);Xo(o)}function yA(i,o){var u=i;i=0;do{var x=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=x}while(u)}function Iy(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Iy(u),Ug(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function Q8(i,o,u,x){for(;i.nodeType===1;){var j=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[fd])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==j.rel||i.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||i.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||i.getAttribute("title")!==(j.title==null?null:j.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(j.src==null?null:j.src)||i.getAttribute("type")!==(j.type==null?null:j.type)||i.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=j.name==null?null:""+j.name;if(j.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=ha(i.nextSibling),i===null)break}return null}function X8(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ha(i.nextSibling),i===null))return null;return i}function bA(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ha(i.nextSibling),i===null))return null;return i}function $y(i){return i.data==="$?"||i.data==="$~"}function Fy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Z8(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var x=function(){o(),u.removeEventListener("DOMContentLoaded",x)};u.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function ha(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var zy=null;function jA(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return ha(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function wA(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function NA(i,o,u){switch(o=Hm(u),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Gd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ug(i)}var pa=new Map,SA=new Set;function Vm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ks=X.d;X.d={f:J8,r:e9,D:t9,C:n9,L:r9,m:a9,X:i9,S:s9,M:l9};function J8(){var i=ks.f(),o=Dm();return i||o}function e9(i){var o=xo(i);o!==null&&o.tag===5&&o.type==="form"?BC(o):ks.r(i)}var Go=typeof document>"u"?null:document;function CA(i,o,u){var x=Go;if(x&&typeof o=="string"&&o){var j=la(o);j='link[rel="'+i+'"][href="'+j+'"]',typeof u=="string"&&(j+='[crossorigin="'+u+'"]'),SA.has(j)||(SA.add(j),i={rel:i,crossOrigin:u,href:o},x.querySelector(j)===null&&(o=x.createElement("link"),Zn(o,"link",i),zn(o),x.head.appendChild(o)))}}function t9(i){ks.D(i),CA("dns-prefetch",i,null)}function n9(i,o){ks.C(i,o),CA("preconnect",i,o)}function r9(i,o,u){ks.L(i,o,u);var x=Go;if(x&&i&&o){var j='link[rel="preload"][as="'+la(o)+'"]';o==="image"&&u&&u.imageSrcSet?(j+='[imagesrcset="'+la(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(j+='[imagesizes="'+la(u.imageSizes)+'"]')):j+='[href="'+la(i)+'"]';var S=j;switch(o){case"style":S=Yo(i);break;case"script":S=Qo(i)}pa.has(S)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),pa.set(S,i),x.querySelector(j)!==null||o==="style"&&x.querySelector(Yd(S))||o==="script"&&x.querySelector(Qd(S))||(o=x.createElement("link"),Zn(o,"link",i),zn(o),x.head.appendChild(o)))}}function a9(i,o){ks.m(i,o);var u=Go;if(u&&i){var x=o&&typeof o.as=="string"?o.as:"script",j='link[rel="modulepreload"][as="'+la(x)+'"][href="'+la(i)+'"]',S=j;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Qo(i)}if(!pa.has(S)&&(i=g({rel:"modulepreload",href:i},o),pa.set(S,i),u.querySelector(j)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Qd(S)))return}x=u.createElement("link"),Zn(x,"link",i),zn(x),u.head.appendChild(x)}}}function s9(i,o,u){ks.S(i,o,u);var x=Go;if(x&&i){var j=go(x).hoistableStyles,S=Yo(i);o=o||"default";var O=j.get(S);if(!O){var D={loading:0,preload:null};if(O=x.querySelector(Yd(S)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=pa.get(S))&&By(i,u);var H=O=x.createElement("link");zn(H),Zn(H,"link",i),H._p=new Promise(function(de,be){H.onload=de,H.onerror=be}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,qm(O,o,x)}O={type:"stylesheet",instance:O,count:1,state:D},j.set(S,O)}}}function i9(i,o){ks.X(i,o);var u=Go;if(u&&i){var x=go(u).hoistableScripts,j=Qo(i),S=x.get(j);S||(S=u.querySelector(Qd(j)),S||(i=g({src:i,async:!0},o),(o=pa.get(j))&&Uy(i,o),S=u.createElement("script"),zn(S),Zn(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(j,S))}}function l9(i,o){ks.M(i,o);var u=Go;if(u&&i){var x=go(u).hoistableScripts,j=Qo(i),S=x.get(j);S||(S=u.querySelector(Qd(j)),S||(i=g({src:i,async:!0,type:"module"},o),(o=pa.get(j))&&Uy(i,o),S=u.createElement("script"),zn(S),Zn(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(j,S))}}function EA(i,o,u,x){var j=(j=Le.current)?Vm(j):null;if(!j)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Yo(u.href),u=go(j).hoistableStyles,x=u.get(o),x||(x={type:"style",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Yo(u.href);var S=go(j).hoistableStyles,O=S.get(i);if(O||(j=j.ownerDocument||j,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,O),(S=j.querySelector(Yd(i)))&&!S._p&&(O.instance=S,O.state.loading=5),pa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},pa.set(i,u),S||o9(j,i,u,O.state))),o&&x===null)throw Error(a(528,""));return O}if(o&&x!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qo(u),u=go(j).hoistableScripts,x=u.get(o),x||(x={type:"script",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Yo(i){return'href="'+la(i)+'"'}function Yd(i){return'link[rel="stylesheet"]['+i+"]"}function AA(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function o9(i,o,u,x){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=i.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),Zn(o,"link",u),zn(o),i.head.appendChild(o))}function Qo(i){return'[src="'+la(i)+'"]'}function Qd(i){return"script[async]"+i}function PA(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var x=i.querySelector('style[data-href~="'+la(u.href)+'"]');if(x)return o.instance=x,zn(x),x;var j=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),zn(x),Zn(x,"style",j),qm(x,u.precedence,i),o.instance=x;case"stylesheet":j=Yo(u.href);var S=i.querySelector(Yd(j));if(S)return o.state.loading|=4,o.instance=S,zn(S),S;x=AA(u),(j=pa.get(j))&&By(x,j),S=(i.ownerDocument||i).createElement("link"),zn(S);var O=S;return O._p=new Promise(function(D,H){O.onload=D,O.onerror=H}),Zn(S,"link",x),o.state.loading|=4,qm(S,u.precedence,i),o.instance=S;case"script":return S=Qo(u.src),(j=i.querySelector(Qd(S)))?(o.instance=j,zn(j),j):(x=u,(j=pa.get(S))&&(x=g({},u),Uy(x,j)),i=i.ownerDocument||i,j=i.createElement("script"),zn(j),Zn(j,"link",x),i.head.appendChild(j),o.instance=j);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,qm(x,u.precedence,i));return o.instance}function qm(i,o,u){for(var x=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=x.length?x[x.length-1]:null,S=j,O=0;O<x.length;O++){var D=x[O];if(D.dataset.precedence===o)S=D;else if(S!==j)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function By(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Uy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Km=null;function OA(i,o,u){if(Km===null){var x=new Map,j=Km=new Map;j.set(u,x)}else j=Km,x=j.get(u),x||(x=new Map,j.set(u,x));if(x.has(i))return x;for(x.set(i,null),u=u.getElementsByTagName(i),j=0;j<u.length;j++){var S=u[j];if(!(S[fd]||S[Gn]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(o)||"";O=i+O;var D=x.get(O);D?D.push(S):x.set(O,[S])}}return x}function TA(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function c9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function d9(i,o,u,x){if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var j=Yo(x.href),S=o.querySelector(Yd(j));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Wm.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=S,zn(S);return}S=o.ownerDocument||o,x=AA(x),(j=pa.get(j))&&By(x,j),S=S.createElement("link"),zn(S);var O=S;O._p=new Promise(function(D,H){O.onload=D,O.onerror=H}),Zn(S,"link",x),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Wm.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Hy=0;function u9(i,o){return i.stylesheets&&i.count===0&&Ym(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var x=setTimeout(function(){if(i.stylesheets&&Ym(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&Hy===0&&(Hy=62500*q8());var j=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ym(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Hy?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(x),clearTimeout(j)}}:null}function Wm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ym(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gm=null;function Ym(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gm=new Map,o.forEach(f9,i),Gm=null,Wm.call(i))}function f9(i,o){if(!(o.state.loading&4)){var u=Gm.get(i);if(u)var x=u.get(null);else{u=new Map,Gm.set(i,u);for(var j=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<j.length;S++){var O=j[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),x=O)}x&&u.set(null,x)}j=o.instance,O=j.getAttribute("data-precedence"),S=u.get(O)||x,S===x&&u.set(null,j),u.set(O,j),this.count++,x=Wm.bind(this),j.addEventListener("load",x),j.addEventListener("error",x),S?S.parentNode.insertBefore(j,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(j,i.firstChild)),o.state.loading|=4}}var Xd={$$typeof:E,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function m9(i,o,u,x,j,S,O,D,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$g(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.hiddenUpdates=$g(null),this.identifierPrefix=x,this.onUncaughtError=j,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function _A(i,o,u,x,j,S,O,D,H,de,be,Ne){return i=new m9(i,o,u,O,H,de,be,Ne,D),o=1,S===!0&&(o|=24),S=Ir(3,null,null,o),i.current=S,S.stateNode=i,o=wv(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:x,isDehydrated:u,cache:o},Ev(S),i}function RA(i){return i?(i=Ao,i):Ao}function MA(i,o,u,x,j,S){j=RA(j),x.context===null?x.context=j:x.pendingContext=j,x=yi(o),x.payload={element:u},S=S===void 0?null:S,S!==null&&(x.callback=S),u=bi(i,x,o),u!==null&&(Cr(u,i,o),Od(u,i,o))}function DA(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Vy(i,o){DA(i,o),(i=i.alternate)&&DA(i,o)}function LA(i){if(i.tag===13||i.tag===31){var o=yl(i,67108864);o!==null&&Cr(o,i,67108864),Vy(i,67108864)}}function IA(i){if(i.tag===13||i.tag===31){var o=Ur();o=Fg(o);var u=yl(i,o);u!==null&&Cr(u,i,o),Vy(i,o)}}var Qm=!0;function h9(i,o,u,x){var j=B.T;B.T=null;var S=X.p;try{X.p=2,qy(i,o,u,x)}finally{X.p=S,B.T=j}}function p9(i,o,u,x){var j=B.T;B.T=null;var S=X.p;try{X.p=8,qy(i,o,u,x)}finally{X.p=S,B.T=j}}function qy(i,o,u,x){if(Qm){var j=Ky(x);if(j===null)ky(i,o,x,Xm,u),FA(i,x);else if(g9(j,i,o,u,x))x.stopPropagation();else if(FA(i,x),o&4&&-1<x9.indexOf(i)){for(;j!==null;){var S=xo(j);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=hl(S.pendingLanes);if(O!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var H=1<<31-rt(O);D.entanglements[1]|=H,O&=~H}Xa(S),(Ot&6)===0&&(Rm=Je()+500,qd(0))}}break;case 31:case 13:D=yl(S,2),D!==null&&Cr(D,S,2),Dm(),Vy(S,2)}if(S=Ky(x),S===null&&ky(i,o,x,Xm,u),S===j)break;j=S}j!==null&&x.stopPropagation()}else ky(i,o,x,null,u)}}function Ky(i){return i=Gg(i),Wy(i)}var Xm=null;function Wy(i){if(Xm=null,i=po(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Xm=i,null}function $A(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dl()){case ul:return 2;case mn:return 8;case mo:case Bf:return 32;case fl:return 268435456;default:return 32}default:return 32}}var Gy=!1,ki=null,_i=null,Ri=null,Zd=new Map,Jd=new Map,Mi=[],x9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FA(i,o){switch(i){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Zd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jd.delete(o.pointerId)}}function eu(i,o,u,x,j,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:u,eventSystemFlags:x,nativeEvent:S,targetContainers:[j]},o!==null&&(o=xo(o),o!==null&&LA(o)),i):(i.eventSystemFlags|=x,o=i.targetContainers,j!==null&&o.indexOf(j)===-1&&o.push(j),i)}function g9(i,o,u,x,j){switch(o){case"focusin":return ki=eu(ki,i,o,u,x,j),!0;case"dragenter":return _i=eu(_i,i,o,u,x,j),!0;case"mouseover":return Ri=eu(Ri,i,o,u,x,j),!0;case"pointerover":var S=j.pointerId;return Zd.set(S,eu(Zd.get(S)||null,i,o,u,x,j)),!0;case"gotpointercapture":return S=j.pointerId,Jd.set(S,eu(Jd.get(S)||null,i,o,u,x,j)),!0}return!1}function zA(i){var o=po(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,e2(i.priority,function(){IA(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,e2(i.priority,function(){IA(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ky(i.nativeEvent);if(u===null){u=i.nativeEvent;var x=new u.constructor(u.type,u);Wg=x,u.target.dispatchEvent(x),Wg=null}else return o=xo(u),o!==null&&LA(o),i.blockedOn=u,!1;o.shift()}return!0}function BA(i,o,u){Zm(i)&&u.delete(o)}function v9(){Gy=!1,ki!==null&&Zm(ki)&&(ki=null),_i!==null&&Zm(_i)&&(_i=null),Ri!==null&&Zm(Ri)&&(Ri=null),Zd.forEach(BA),Jd.forEach(BA)}function Jm(i,o){i.blockedOn===o&&(i.blockedOn=null,Gy||(Gy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,v9)))}var eh=null;function UA(i){eh!==i&&(eh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){eh===i&&(eh=null);for(var o=0;o<i.length;o+=3){var u=i[o],x=i[o+1],j=i[o+2];if(typeof x!="function"){if(Wy(x||u)===null)continue;break}var S=xo(u);S!==null&&(i.splice(o,3),o-=3,Kv(S,{pending:!0,data:j,method:u.method,action:x},x,j))}}))}function Xo(i){function o(H){return Jm(H,i)}ki!==null&&Jm(ki,i),_i!==null&&Jm(_i,i),Ri!==null&&Jm(Ri,i),Zd.forEach(o),Jd.forEach(o);for(var u=0;u<Mi.length;u++){var x=Mi[u];x.blockedOn===i&&(x.blockedOn=null)}for(;0<Mi.length&&(u=Mi[0],u.blockedOn===null);)zA(u),u.blockedOn===null&&Mi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(x=0;x<u.length;x+=3){var j=u[x],S=u[x+1],O=j[yr]||null;if(typeof S=="function")O||UA(u);else if(O){var D=null;if(S&&S.hasAttribute("formAction")){if(j=S,O=S[yr]||null)D=O.formAction;else if(Wy(j)!==null)continue}else D=O.action;typeof D=="function"?u[x+1]=D:(u.splice(x,3),x-=3),UA(u)}}}function HA(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return j=O})},focusReset:"manual",scroll:"manual"})}function o(){j!==null&&(j(),j=null),x||setTimeout(u,20)}function u(){if(!x&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,j=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){x=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),j!==null&&(j(),j=null)}}}function Yy(i){this._internalRoot=i}th.prototype.render=Yy.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,x=Ur();MA(u,x,i,o,null,null)},th.prototype.unmount=Yy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;MA(i.current,2,null,i,null,null),Dm(),o[ho]=null}};function th(i){this._internalRoot=i}th.prototype.unstable_scheduleHydration=function(i){if(i){var o=JS();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Mi.length&&o!==0&&o<Mi[u].priority;u++);Mi.splice(u,0,i),u===0&&zA(i)}};var VA=t.version;if(VA!=="19.2.0")throw Error(a(527,VA,"19.2.0"));X.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var y9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{ml=nh.inject(y9),z=nh}catch{}}return nu.createRoot=function(i,o){if(!s(i))throw Error(a(299));var u=!1,x="",j=XC,S=ZC,O=JC;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(j=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=_A(i,1,!1,null,null,u,x,null,j,S,O,HA),i[ho]=o.current,Ty(i),new Yy(o)},nu.hydrateRoot=function(i,o,u){if(!s(i))throw Error(a(299));var x=!1,j="",S=XC,O=ZC,D=JC,H=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=_A(i,1,!0,o,u??null,x,j,H,S,O,D,HA),o.context=RA(null),u=o.current,x=Ur(),x=Fg(x),j=yi(x),j.callback=null,bi(u,j,x),u=x,o.current.lanes=u,ud(o,u),Xa(o),i[ho]=o.current,Ty(i),new th(o)},nu.version="19.2.0",nu}var eP;function O9(){if(eP)return Xy.exports;eP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xy.exports=P9(),Xy.exports}var T9=O9();function k9(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,s,l,c=[],d="",f=e.split("/");for(f[0]||f.shift();s=f.shift();)r=s[0],r==="*"?(c.push(r),d+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=s.indexOf("?",1),l=s.indexOf(".",1),c.push(s.substring(1,~a?a:~l?l:s.length)),d+=~a&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~a?"?":"")+"\\"+s.substring(l))):d+="/"+s;return{keys:c,pattern:new RegExp("^"+d+(t?"(?=$|/)":"/?$"),"i")}}var p=zc();const gn=ls(p),Zu=j9({__proto__:null,default:gn},[p]);var n0={exports:{}},r0={};var tP;function _9(){if(tP)return r0;tP=1;var e=zc();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,v){var y=v(),N=a({inst:{value:y,getSnapshot:v}}),b=N[0].inst,w=N[1];return l(function(){b.value=y,b.getSnapshot=v,f(b)&&w({inst:b})},[g,y,v]),s(function(){return f(b)&&w({inst:b}),g(function(){f(b)&&w({inst:b})})},[g]),c(y),y}function f(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!r(g,y)}catch{return!0}}function m(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return r0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,r0}var nP;function a4(){return nP||(nP=1,n0.exports=_9()),n0.exports}var s4=a4();const R9=Zu.useInsertionEffect,M9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i4=M9?p.useLayoutEffect:p.useEffect,D9=R9||i4,Uw=e=>{const t=p.useRef([e,(...r)=>t[0](...r)]).current;return D9(()=>{t[0]=e}),t[1]},L9="popstate",Hw="pushState",Vw="replaceState",I9="hashchange",rP=[L9,Hw,Vw,I9],$9=e=>{for(const t of rP)addEventListener(t,e);return()=>{for(const t of rP)removeEventListener(t,e)}},l4=(e,t)=>s4.useSyncExternalStore($9,e,t),F9=()=>location.search,z9=({ssrSearch:e=""}={})=>l4(F9,()=>e),aP=()=>location.pathname,B9=({ssrPath:e}={})=>l4(aP,e?()=>e:aP),U9=(e,{replace:t=!1,state:r=null}={})=>history[t?Vw:Hw](r,"",e),H9=(e={})=>[B9(e),U9],sP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[sP]>"u"){for(const e of[Hw,Vw]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,sP,{value:!0})}const V9=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",o4=(e="")=>e==="/"?"":e,q9=(e,t)=>e[0]==="~"?e.slice(1):o4(t)+e,K9=(e="",t)=>V9(oj(o4(e)),oj(t)),W9=e=>e[0]==="?"?e.slice(1):e,oj=e=>{try{return decodeURI(e)}catch{return e}},G9=e=>oj(W9(e)),c4={hook:H9,searchHook:z9,parser:k9,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},d4=p.createContext(c4),al=()=>p.useContext(d4),u4={},f4=p.createContext(u4),Ju=()=>p.useContext(f4),ef=e=>{const[t,r]=e.hook(e);return[K9(e.base,t),Uw((a,s)=>r(q9(a,e.base),s))]},Va=()=>ef(al()),Y9=()=>{const e=al();return G9(e.searchHook(e))},qw=(e,t,r,a)=>{const{pattern:s,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),c=s.exec(r)||[],[d,...f]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((g,v)=>[g,f[v]])):c.groups;let h={...f};return m&&Object.assign(h,m),h})(),...a?[d]:[]]:[!1,null]},Q9=e=>qw(al().parser,e,Va()[0]),X9=({children:e,...t})=>{const r=al(),a=t.hook?c4:r;let s=a;const[l,c]=t.ssrPath?.split("?")??[];c&&(t.ssrSearch=c,t.ssrPath=l),t.hrefs=t.hrefs??t.hook?.hrefs;let d=p.useRef({}),f=d.current,m=f;for(let h in a){const g=h==="base"?a[h]+(t[h]||""):t[h]||a[h];f===m&&g!==m[h]&&(d.current=m={...m}),m[h]=g,(g!==a[h]||g!==s[h])&&(s=m)}return p.createElement(d4.Provider,{value:s,children:e})},iP=({children:e,component:t},r)=>t?p.createElement(t,{params:r}):typeof e=="function"?e(r):e,Z9=e=>{let t=p.useRef(u4);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([a,s])=>s!==r[a])?e:r},mt=({path:e,nest:t,match:r,...a})=>{const s=al(),[l]=ef(s),[c,d,f]=r??qw(s.parser,e,l,t),m=Z9({...Ju(),...d});if(!c)return null;const h=f?p.createElement(X9,{base:f},iP(a,m)):iP(a,m);return p.createElement(f4.Provider,{value:m,children:h})},Kl=p.forwardRef((e,t)=>{const r=al(),[a,s]=ef(r),{to:l="",href:c=l,onClick:d,asChild:f,children:m,className:h,replace:g,state:v,...y}=e,N=Uw(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(d?.(w),w.defaultPrevented||(w.preventDefault(),s(c,e)))}),b=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return f&&p.isValidElement(m)?p.cloneElement(m,{onClick:N,href:b}):p.createElement("a",{...y,onClick:N,href:b,className:h?.call?h(a===c):h,children:m,ref:t})}),m4=e=>Array.isArray(e)?e.flatMap(t=>m4(t&&t.type===p.Fragment?t.props.children:t)):[e],J9=({children:e,location:t})=>{const r=al(),[a]=ef(r);for(const s of m4(e)){let l=0;if(p.isValidElement(s)&&(l=qw(r.parser,s.props.path,t||a,s.props.nest))[0])return p.cloneElement(s,{match:l})}return null},eU=e=>{const{to:t,href:r=t}=e,a=al(),[,s]=ef(a),l=Uw(()=>s(t||r,e)),{ssrContext:c}=a;return i4(()=>{l()},[]),c&&(c.redirectTo=t),null};var Bc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tU={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},nU=class{#e=tU;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ll=new nU;function rU(e){setTimeout(e,0)}var Wl=typeof window>"u"||"Deno"in globalThis;function ur(){}function aU(e,t){return typeof e=="function"?e(t):e}function cj(e){return typeof e=="number"&&e>=0&&e!==1/0}function h4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ui(e,t){return typeof e=="function"?e(t):e}function ja(e,t){return typeof e=="function"?e(t):e}function lP(e,t){const{type:r="all",exact:a,fetchStatus:s,predicate:l,queryKey:c,stale:d}=e;if(c){if(a){if(t.queryHash!==Kw(c,t.options))return!1}else if(!Cu(t.queryKey,c))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||l&&!l(t))}function oP(e,t){const{exact:r,status:a,predicate:s,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Gl(t.options.mutationKey)!==Gl(l))return!1}else if(!Cu(t.options.mutationKey,l))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function Kw(e,t){return(t?.queryKeyHashFn||Gl)(e)}function Gl(e){return JSON.stringify(e,(t,r)=>dj(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function Cu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Cu(e[r],t[r])):!1}var sU=Object.prototype.hasOwnProperty;function p4(e,t){if(e===t)return e;const r=cP(e)&&cP(t);if(!r&&!(dj(e)&&dj(t)))return t;const s=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),c=l.length,d=r?new Array(c):{};let f=0;for(let m=0;m<c;m++){const h=r?m:l[m],g=e[h],v=t[h];if(g===v){d[h]=g,(r?m<s:sU.call(e,h))&&f++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){d[h]=v;continue}const y=p4(g,v);d[h]=y,y===g&&f++}return s===c&&f===s?e:d}function np(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function cP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dj(e){if(!dP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!dP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function dP(e){return Object.prototype.toString.call(e)==="[object Object]"}function iU(e){return new Promise(t=>{Ll.setTimeout(t,e)})}function uj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?p4(e,t):t}function lU(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function oU(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var Ww=Symbol();function x4(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ww?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function g4(e,t){return typeof e=="function"?e(...t):!!e}var cU=class extends Bc{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Wl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Gw=new cU;function fj(){let e,t;const r=new Promise((s,l)=>{e=s,t=l});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),t(s)},r}var dU=rU;function uU(){let e=[],t=0,r=d=>{d()},a=d=>{d()},s=dU;const l=d=>{t?e.push(d):s(()=>{r(d)})},c=()=>{const d=e;e=[],d.length&&s(()=>{a(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{s=d}}}var Mn=uU(),fU=class extends Bc{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Wl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},rp=new fU;function mU(e){return Math.min(1e3*2**e,3e4)}function v4(e){return(e??"online")==="online"?rp.isOnline():!0}var mj=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function y4(e){let t=!1,r=0,a;const s=fj(),l=()=>s.status!=="pending",c=b=>{if(!l()){const w=new mj(b);v(w),e.onCancel?.(w)}},d=()=>{t=!0},f=()=>{t=!1},m=()=>Gw.isFocused()&&(e.networkMode==="always"||rp.isOnline())&&e.canRun(),h=()=>v4(e.networkMode)&&e.canRun(),g=b=>{l()||(a?.(),s.resolve(b))},v=b=>{l()||(a?.(),s.reject(b))},y=()=>new Promise(b=>{a=w=>{(l()||m())&&b(w)},e.onPause?.()}).then(()=>{a=void 0,l()||e.onContinue?.()}),N=()=>{if(l())return;let b;const w=r===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(C){b=Promise.reject(C)}Promise.resolve(b).then(g).catch(C=>{if(l())return;const A=e.retry??(Wl?0:3),E=e.retryDelay??mU,T=typeof E=="function"?E(r,C):E,k=A===!0||typeof A=="number"&&r<A||typeof A=="function"&&A(r,C);if(t||!k){v(C);return}r++,e.onFail?.(r,C),iU(T).then(()=>m()?void 0:y()).then(()=>{t?v(C):N()})})};return{promise:s,status:()=>s.status,cancel:c,continue:()=>(a?.(),s),cancelRetry:d,continueRetry:f,canStart:h,start:()=>(h()?N():y().then(N),s)}}var b4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cj(this.gcTime)&&(this.#e=Ll.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ll.clearTimeout(this.#e),this.#e=void 0)}},hU=class extends b4{#e;#t;#n;#a;#r;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=fP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=fP(this.options);t.data!==void 0&&(this.setState(uP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=uj(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ja(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ww||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ui(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!h4(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},s=()=>{const d=x4(this.options,t),m=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(h),h})();return this.#l=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return a(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=y4({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof mj&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof mj){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...j4(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...uP(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function j4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function fP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pU=class extends Bc{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#l=fj(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#i;#l;#s;#p;#f;#m;#c;#d;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),mP(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ja(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!np(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&hP(this.#t,r,this.options,t)&&this.#u(),this.updateResult(),a&&(this.#t!==r||ja(this.options.enabled,this.#t)!==ja(t.enabled,this.#t)||Ui(this.options.staleTime,this.#t)!==Ui(t.staleTime,this.#t))&&this.#x();const s=this.#g();a&&(this.#t!==r||ja(this.options.enabled,this.#t)!==ja(t.enabled,this.#t)||s!==this.#o)&&this.#v(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return gU(this,r)&&(this.#a=r,this.#i=this.options,this.#r=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#u(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ur)),t}#x(){this.#b();const e=Ui(this.options.staleTime,this.#t);if(Wl||this.#a.isStale||!cj(e))return;const r=h4(this.#a.dataUpdatedAt,e)+1;this.#c=Ll.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#j(),this.#o=e,!(Wl||ja(this.options.enabled,this.#t)===!1||!cj(this.#o)||this.#o===0)&&(this.#d=Ll.setInterval(()=>{(this.options.refetchIntervalInBackground||Gw.isFocused())&&this.#u()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(Ll.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(Ll.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const r=this.#t,a=this.options,s=this.#a,l=this.#r,c=this.#i,f=e!==r?e.state:this.#n,{state:m}=e;let h={...m},g=!1,v;if(t._optimisticResults){const I=this.hasListeners(),Q=!I&&mP(e,t),L=I&&hP(e,r,t,a);(Q||L)&&(h={...h,...j4(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:N,status:b}=h;v=h.data;let w=!1;if(t.placeholderData!==void 0&&v===void 0&&b==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(I=s.data,w=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,I!==void 0&&(b="success",v=uj(s?.data,I,t),g=!0)}if(t.select&&v!==void 0&&!w)if(s&&v===l?.data&&t.select===this.#p)v=this.#f;else try{this.#p=t.select,v=t.select(v),v=uj(s?.data,v,t),this.#f=v,this.#s=null}catch(I){this.#s=I}this.#s&&(y=this.#s,v=this.#f,N=Date.now(),b="error");const C=h.fetchStatus==="fetching",A=b==="pending",E=b==="error",T=A&&C,k=v!==void 0,M={status:b,fetchStatus:h.fetchStatus,isPending:A,isSuccess:b==="success",isError:E,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:N,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:C,isRefetching:C&&!A,isLoadingError:E&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:E&&k,isStale:Yw(e,t),refetch:this.refetch,promise:this.#l,isEnabled:ja(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=_=>{M.status==="error"?_.reject(M.error):M.data!==void 0&&_.resolve(M.data)},Q=()=>{const _=this.#l=M.promise=fj();I(_)},L=this.#l;switch(L.status){case"pending":e.queryHash===r.queryHash&&I(L);break;case"fulfilled":(M.status==="error"||M.data!==L.value)&&Q();break;case"rejected":(M.status!=="error"||M.error!==L.reason)&&Q();break}}return M}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#i=this.options,this.#r.data!==void 0&&(this.#m=this.#t),np(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!this.#h.size)return!0;const l=new Set(s??this.#h);return this.options.throwOnError&&l.add("error"),Object.keys(this.#a).some(c=>{const d=c;return this.#a[d]!==e[d]&&l.has(d)})};this.#N({listeners:r()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Mn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function xU(e,t){return ja(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mP(e,t){return xU(e,t)||e.state.data!==void 0&&hj(e,t,t.refetchOnMount)}function hj(e,t,r){if(ja(t.enabled,e)!==!1&&Ui(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&Yw(e,t)}return!1}function hP(e,t,r,a){return(e!==t||ja(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Yw(e,r)}function Yw(e,t){return ja(t.enabled,e)!==!1&&e.isStaleByTime(Ui(t.staleTime,e))}function gU(e,t){return!np(e.getCurrentResult(),t)}function pP(e){return{onFetch:(t,r)=>{const a=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let h=!1;const g=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},v=x4(t.options,t.fetchOptions),y=async(N,b,w)=>{if(h)return Promise.reject();if(b==null&&N.pages.length)return Promise.resolve(N);const A=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:b,direction:w?"backward":"forward",meta:t.options.meta};return g(P),P})(),E=await v(A),{maxPages:T}=t.options,k=w?oU:lU;return{pages:k(N.pages,E,T),pageParams:k(N.pageParams,b,T)}};if(s&&l.length){const N=s==="backward",b=N?vU:xP,w={pages:l,pageParams:c},C=b(a,w);d=await y(w,C,N)}else{const N=e??l.length;do{const b=f===0?c[0]??a.initialPageParam:xP(a,d);if(f>0&&b==null)break;d=await y(d,b),f++}while(f<N)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function xP(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function vU(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var yU=class extends b4{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||w4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=y4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",s=!this.#a.canStart();try{if(a)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:s})}const l=await this.#a.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#n.config.onError?.(l,e,this.state.context,this,r),await this.options.onError?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,e,this.state.context,r),l}finally{this.#r({type:"error",error:l})}}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Mn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function w4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bU=class extends Bc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const a=new yU({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#e.add(e);const t=rh(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=rh(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=rh(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(s=>s.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=rh(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Mn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>oP(t,r))}findAll(e={}){return this.getAll().filter(t=>oP(e,t))}notify(e){Mn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mn.batch(()=>Promise.all(e.map(t=>t.continue().catch(ur))))}};function rh(e){return e.options.scope?.id}var jU=class extends Bc{#e;#t=void 0;#n;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),np(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Gl(r.mutationKey)!==Gl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(t,r){return this.#a=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??w4();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Mn.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,a,s),this.#a.onSettled?.(t.data,null,r,a,s)):t?.type==="error"&&(this.#a.onError?.(t.error,r,a,s),this.#a.onSettled?.(void 0,t.error,r,a,s))}this.listeners.forEach(r=>{r(this.#t)})})}},wU=class extends Bc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const a=t.queryKey,s=t.queryHash??Kw(a,t);let l=this.get(s);return l||(l=new hU({client:e,queryKey:a,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>lP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>lP(e,r)):t}notify(e){Mn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},NU=class{#e;#t;#n;#a;#r;#i;#l;#s;constructor(e={}){this.#e=e.queryCache||new wU,this.#t=e.mutationCache||new bU,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Gw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=rp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ui(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(a.queryHash)?.state.data,c=aU(t,l);if(c!==void 0)return this.#e.build(this,a).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return Mn.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Mn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Mn.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Mn.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(ur).catch(ur)}invalidateQueries(e,t={}){return Mn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Mn.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let l=s.fetch(void 0,r);return r.throwOnError||(l=l.catch(ur)),s.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Ui(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ur).catch(ur)}fetchInfiniteQuery(e){return e.behavior=pP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ur).catch(ur)}ensureInfiniteQueryData(e){return e.behavior=pP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(Gl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(a=>{Cu(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Gl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(a=>{Cu(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ww&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},N4=p.createContext(void 0),S4=e=>{const t=p.useContext(N4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},SU=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(N4.Provider,{value:e,children:t})),C4=p.createContext(!1),CU=()=>p.useContext(C4);C4.Provider;function EU(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var AU=p.createContext(EU()),PU=()=>p.useContext(AU),OU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},TU=e=>{p.useEffect(()=>{e.clearReset()},[e])},kU=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||g4(r,[e.error,a])),_U=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>r(a(...s)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},RU=(e,t)=>e.isLoading&&e.isFetching&&!t,MU=(e,t)=>e?.suspense&&t.isPending,gP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function DU(e,t,r){const a=CU(),s=PU(),l=S4(),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=a?"isRestoring":"optimistic",_U(c),OU(c,s),TU(s);const d=!l.getQueryCache().get(c.queryHash),[f]=p.useState(()=>new t(l,c)),m=f.getOptimisticResult(c),h=!a&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(g=>{const v=h?f.subscribe(Mn.batchCalls(g)):ur;return f.updateResult(),v},[f,h]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),p.useEffect(()=>{f.setOptions(c)},[c,f]),MU(c,m))throw gP(c,f,s);if(kU({result:m,errorResetBoundary:s,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!Wl&&RU(m,a)&&(d?gP(c,f,s):l.getQueryCache().get(c.queryHash)?.promise)?.catch(ur).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?m:f.trackResult(m)}function Re(e,t){return DU(e,pU)}function Oe(e,t){const r=S4(),[a]=p.useState(()=>new jU(r,e));p.useEffect(()=>{a.setOptions(e)},[a,e]);const s=p.useSyncExternalStore(p.useCallback(c=>a.subscribe(Mn.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=p.useCallback((c,d)=>{a.mutate(c,d).catch(ur)},[a]);if(s.error&&g4(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}const gu="";async function E4(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Ie(e,t,r){const a=t.startsWith("/")?`${gu}${t}`:t,s=await fetch(a,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await E4(s),s}const LU=({on401:e})=>async({queryKey:t})=>{const r=t.join("/"),a=r.startsWith("/")?`${gu}${r}`:r,s=await fetch(a,{credentials:"include"});return await E4(s),await s.json()},Me=new NU({defaultOptions:{queries:{queryFn:LU({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),IU=1,$U=1e6;let a0=0;function FU(){return a0=(a0+1)%Number.MAX_SAFE_INTEGER,a0.toString()}const s0=new Map,vP=e=>{if(s0.has(e))return;const t=setTimeout(()=>{s0.delete(e),vu({type:"REMOVE_TOAST",toastId:e})},$U);s0.set(e,t)},zU=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,IU)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?vP(r):e.toasts.forEach(a=>{vP(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},$h=[];let Fh={toasts:[]};function vu(e){Fh=zU(Fh,e),$h.forEach(t=>{t(Fh)})}function BU({...e}){const t=FU(),r=s=>vu({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>vu({type:"DISMISS_TOAST",toastId:t});return vu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:r}}function an(){const[e,t]=p.useState(Fh);return p.useEffect(()=>($h.push(t),()=>{const r=$h.indexOf(t);r>-1&&$h.splice(r,1)}),[e]),{...e,toast:BU,dismiss:r=>vu({type:"DISMISS_TOAST",toastId:r})}}var os=r4();const UU=ls(os);function ze(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function yP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yn(...e){return t=>{let r=!1;const a=e.map(s=>{const l=yP(s,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let s=0;s<a.length;s++){const l=a[s];typeof l=="function"?l():yP(e[s],null)}}}}function tt(...e){return p.useCallback(yn(...e),e)}function HU(e,t){const r=p.createContext(t),a=l=>{const{children:c,...d}=l,f=p.useMemo(()=>d,Object.values(d));return n.jsx(r.Provider,{value:f,children:c})};a.displayName=e+"Provider";function s(l){const c=p.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,s]}function xr(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c),f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...N}=g,b=v?.[e]?.[f]||d,w=p.useMemo(()=>N,Object.values(N));return n.jsx(b.Provider,{value:w,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,N=p.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,VU(s,...t)]}function VU(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function bP(e){const t=qU(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(WU);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function qU(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=YU(s),d=GU(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KU=Symbol("radix.slottable");function WU(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KU}function GU(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function YU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tf(e){const t=e+"CollectionProvider",[r,a]=xr(t),[s,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:w,children:C}=b,A=gn.useRef(null),E=gn.useRef(new Map).current;return n.jsx(s,{scope:w,itemMap:E,collectionRef:A,children:C})};c.displayName=t;const d=e+"CollectionSlot",f=bP(d),m=gn.forwardRef((b,w)=>{const{scope:C,children:A}=b,E=l(d,C),T=tt(w,E.collectionRef);return n.jsx(f,{ref:T,children:A})});m.displayName=d;const h=e+"CollectionItemSlot",g="data-radix-collection-item",v=bP(h),y=gn.forwardRef((b,w)=>{const{scope:C,children:A,...E}=b,T=gn.useRef(null),k=tt(w,T),P=l(h,C);return gn.useEffect(()=>(P.itemMap.set(T,{ref:T,...E}),()=>void P.itemMap.delete(T))),n.jsx(v,{[g]:"",ref:k,children:A})});y.displayName=h;function N(b){const w=l(e+"CollectionConsumer",b);return gn.useCallback(()=>{const A=w.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(w.itemMap.values()).sort((P,M)=>E.indexOf(P.ref.current)-E.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:m,ItemSlot:y},N,a]}function QU(e){const t=XU(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(JU);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function XU(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=t7(s),d=e7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZU=Symbol("radix.slottable");function JU(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZU}function e7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function t7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var n7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A4=n7.reduce((e,t)=>{const r=QU(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function r7(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}function An(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>t.current?.(...r),[])}function a7(e,t=globalThis?.document){const r=An(e);p.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var s7="DismissableLayer",pj="dismissableLayer.update",i7="dismissableLayer.pointerDownOutside",l7="dismissableLayer.focusOutside",jP,P4=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nf=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,m=p.useContext(P4),[h,g]=p.useState(null),v=h?.ownerDocument??globalThis?.document,[,y]=p.useState({}),N=tt(t,M=>g(M)),b=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(w),A=h?b.indexOf(h):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,T=A>=C,k=c7(M=>{const I=M.target,Q=[...m.branches].some(L=>L.contains(I));!T||Q||(s?.(M),c?.(M),M.defaultPrevented||d?.())},v),P=d7(M=>{const I=M.target;[...m.branches].some(L=>L.contains(I))||(l?.(M),c?.(M),M.defaultPrevented||d?.())},v);return a7(M=>{A===m.layers.size-1&&(a?.(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},v),p.useEffect(()=>{if(h)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(jP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),wP(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=jP)}},[h,v,r,m]),p.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),wP())},[h,m]),p.useEffect(()=>{const M=()=>y({});return document.addEventListener(pj,M),()=>document.removeEventListener(pj,M)},[]),n.jsx(A4.div,{...f,ref:N,style:{pointerEvents:E?T?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,P.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,k.onPointerDownCapture)})});nf.displayName=s7;var o7="DismissableLayerBranch",O4=p.forwardRef((e,t)=>{const r=p.useContext(P4),a=p.useRef(null),s=tt(t,a);return p.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),n.jsx(A4.div,{...e,ref:s})});O4.displayName=o7;function c7(e,t=globalThis?.document){const r=An(e),a=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let f=function(){T4(i7,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);a.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function d7(e,t=globalThis?.document){const r=An(e),a=p.useRef(!1);return p.useEffect(()=>{const s=l=>{l.target&&!a.current&&T4(l7,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function wP(){const e=new CustomEvent(pj);document.dispatchEvent(e)}function T4(e,t,r,{discrete:a}){const s=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?r7(s,l):s.dispatchEvent(l)}var u7=nf,f7=O4;function m7(e){const t=h7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(x7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function h7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=v7(s),d=g7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p7=Symbol("radix.slottable");function x7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p7}function g7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function v7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var y7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],b7=y7.reduce((e,t)=>{const r=m7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),un=globalThis?.document?p.useLayoutEffect:()=>{},j7="Portal",xx=p.forwardRef((e,t)=>{const{container:r,...a}=e,[s,l]=p.useState(!1);un(()=>l(!0),[]);const c=r||s&&globalThis?.document?.body;return c?UU.createPortal(n.jsx(b7.div,{...a,ref:t}),c):null});xx.displayName=j7;function w7(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var na=e=>{const{present:t,children:r}=e,a=N7(t),s=typeof r=="function"?r({present:a.isPresent}):p.Children.only(r),l=tt(a.ref,S7(s));return typeof r=="function"||a.isPresent?p.cloneElement(s,{ref:l}):null};na.displayName="Presence";function N7(e){const[t,r]=p.useState(),a=p.useRef(null),s=p.useRef(e),l=p.useRef("none"),c=e?"mounted":"unmounted",[d,f]=w7(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=ah(a.current);l.current=d==="mounted"?m:"none"},[d]),un(()=>{const m=a.current,h=s.current;if(h!==e){const v=l.current,y=ah(m);e?f("MOUNT"):y==="none"||m?.display==="none"?f("UNMOUNT"):f(h&&v!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),un(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,g=y=>{const b=ah(a.current).includes(CSS.escape(y.animationName));if(y.target===t&&b&&(f("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},v=y=>{y.target===t&&(l.current=ah(a.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{a.current=m?getComputedStyle(m):null,r(m)},[])}}function ah(e){return e?.animationName||"none"}function S7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function C7(e){const t=E7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(P7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function E7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=T7(s),d=O7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var A7=Symbol("radix.slottable");function P7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===A7}function O7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function T7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var k7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Uc=k7.reduce((e,t)=>{const r=C7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function _7(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}var R7=Zu[" useInsertionEffect ".trim().toString()]||un;function ea({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,l,c]=M7({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:s;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const g=h.current;g!==d&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=d},[d,a])}const m=p.useCallback(h=>{if(d){const g=D7(h)?h(e):h;g!==e&&c.current?.(g)}else l(h)},[d,e,l,c]);return[f,m]}function M7({defaultProp:e,onChange:t}){const[r,a]=p.useState(e),s=p.useRef(r),l=p.useRef(t);return R7(()=>{l.current=t},[t]),p.useEffect(()=>{s.current!==r&&(l.current?.(r),s.current=r)},[r,s]),[r,a,l]}function D7(e){return typeof e=="function"}function L7(e){const t=I7(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(F7);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function I7(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=B7(s),d=z7(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $7=Symbol("radix.slottable");function F7(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$7}function z7(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function B7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var U7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H7=U7.reduce((e,t)=>{const r=L7(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),k4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V7="VisuallyHidden",gx=p.forwardRef((e,t)=>n.jsx(H7.span,{...e,ref:t,style:{...k4,...e.style}}));gx.displayName=V7;var q7=gx,Qw="ToastProvider",[Xw,K7,W7]=tf("Toast"),[_4]=xr("Toast",[W7]),[G7,vx]=_4(Qw),R4=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:l=50,children:c}=e,[d,f]=p.useState(null),[m,h]=p.useState(0),g=p.useRef(!1),v=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qw}\`. Expected non-empty \`string\`.`),n.jsx(Xw.Provider,{scope:t,children:n.jsx(G7,{scope:t,label:r,duration:a,swipeDirection:s,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:f,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:c})})};R4.displayName=Qw;var M4="ToastViewport",Y7=["F8"],xj="toast.viewportPause",gj="toast.viewportResume",D4=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=Y7,label:s="Notifications ({hotkey})",...l}=e,c=vx(M4,r),d=K7(r),f=p.useRef(null),m=p.useRef(null),h=p.useRef(null),g=p.useRef(null),v=tt(t,g,c.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=c.toastCount>0;p.useEffect(()=>{const w=C=>{a.length!==0&&a.every(E=>C[E]||C.code===E)&&g.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[a]),p.useEffect(()=>{const w=f.current,C=g.current;if(N&&w&&C){const A=()=>{if(!c.isClosePausedRef.current){const P=new CustomEvent(xj);C.dispatchEvent(P),c.isClosePausedRef.current=!0}},E=()=>{if(c.isClosePausedRef.current){const P=new CustomEvent(gj);C.dispatchEvent(P),c.isClosePausedRef.current=!1}},T=P=>{!w.contains(P.relatedTarget)&&E()},k=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",A),w.addEventListener("focusout",T),w.addEventListener("pointermove",A),w.addEventListener("pointerleave",k),window.addEventListener("blur",A),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",A),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",A),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",A),window.removeEventListener("focus",E)}}},[N,c.isClosePausedRef]);const b=p.useCallback(({tabbingDirection:w})=>{const A=d().map(E=>{const T=E.ref.current,k=[T,...oH(T)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?A.reverse():A).flat()},[d]);return p.useEffect(()=>{const w=g.current;if(w){const C=A=>{const E=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!E){const k=document.activeElement,P=A.shiftKey;if(A.target===w&&P){m.current?.focus();return}const Q=b({tabbingDirection:P?"backwards":"forwards"}),L=Q.findIndex(_=>_===k);i0(Q.slice(L+1))?A.preventDefault():P?m.current?.focus():h.current?.focus()}};return w.addEventListener("keydown",C),()=>w.removeEventListener("keydown",C)}},[d,b]),n.jsxs(f7,{ref:f,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&n.jsx(vj,{ref:m,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"forwards"});i0(w)}}),n.jsx(Xw.Slot,{scope:r,children:n.jsx(Uc.ol,{tabIndex:-1,...l,ref:v})}),N&&n.jsx(vj,{ref:h,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"backwards"});i0(w)}})]})});D4.displayName=M4;var L4="ToastFocusProxy",vj=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...s}=e,l=vx(L4,r);return n.jsx(gx,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&a()}})});vj.displayName=L4;var rf="Toast",Q7="toast.swipeStart",X7="toast.swipeMove",Z7="toast.swipeCancel",J7="toast.swipeEnd",I4=p.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:s,onOpenChange:l,...c}=e,[d,f]=ea({prop:a,defaultProp:s??!0,onChange:l,caller:rf});return n.jsx(na,{present:r||d,children:n.jsx(nH,{open:d,...c,ref:t,onClose:()=>f(!1),onPause:An(e.onPause),onResume:An(e.onResume),onSwipeStart:ze(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ze(e.onSwipeMove,m=>{const{x:h,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:ze(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ze(e.onSwipeEnd,m=>{const{x:h,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),f(!1)})})})});I4.displayName=rf;var[eH,tH]=_4(rf,{onClose(){}}),nH=p.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:l,onClose:c,onEscapeKeyDown:d,onPause:f,onResume:m,onSwipeStart:h,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:y,...N}=e,b=vx(rf,r),[w,C]=p.useState(null),A=tt(t,K=>C(K)),E=p.useRef(null),T=p.useRef(null),k=s||b.duration,P=p.useRef(0),M=p.useRef(k),I=p.useRef(0),{onToastAdd:Q,onToastRemove:L}=b,_=An(()=>{w?.contains(document.activeElement)&&b.viewport?.focus(),c()}),q=p.useCallback(K=>{!K||K===1/0||(window.clearTimeout(I.current),P.current=new Date().getTime(),I.current=window.setTimeout(_,K))},[_]);p.useEffect(()=>{const K=b.viewport;if(K){const ee=()=>{q(M.current),m?.()},B=()=>{const X=new Date().getTime()-P.current;M.current=M.current-X,window.clearTimeout(I.current),f?.()};return K.addEventListener(xj,B),K.addEventListener(gj,ee),()=>{K.removeEventListener(xj,B),K.removeEventListener(gj,ee)}}},[b.viewport,k,f,m,q]),p.useEffect(()=>{l&&!b.isClosePausedRef.current&&q(k)},[l,k,b.isClosePausedRef,q]),p.useEffect(()=>(Q(),()=>L()),[Q,L]);const ve=p.useMemo(()=>w?V4(w):null,[w]);return b.viewport?n.jsxs(n.Fragment,{children:[ve&&n.jsx(rH,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:ve}),n.jsx(eH,{scope:r,onClose:_,children:os.createPortal(n.jsx(Xw.ItemSlot,{scope:r,children:n.jsx(u7,{asChild:!0,onEscapeKeyDown:ze(d,()=>{b.isFocusedToastEscapeKeyDownRef.current||_(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Uc.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":b.swipeDirection,...N,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ze(e.onKeyDown,K=>{K.key==="Escape"&&(d?.(K.nativeEvent),K.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:ze(e.onPointerDown,K=>{K.button===0&&(E.current={x:K.clientX,y:K.clientY})}),onPointerMove:ze(e.onPointerMove,K=>{if(!E.current)return;const ee=K.clientX-E.current.x,B=K.clientY-E.current.y,X=!!T.current,$=["left","right"].includes(b.swipeDirection),fe=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,pe=$?fe(0,ee):0,R=$?0:fe(0,B),te=K.pointerType==="touch"?10:2,me={x:pe,y:R},we={originalEvent:K,delta:me};X?(T.current=me,sh(X7,g,we,{discrete:!1})):NP(me,b.swipeDirection,te)?(T.current=me,sh(Q7,h,we,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(ee)>te||Math.abs(B)>te)&&(E.current=null)}),onPointerUp:ze(e.onPointerUp,K=>{const ee=T.current,B=K.target;if(B.hasPointerCapture(K.pointerId)&&B.releasePointerCapture(K.pointerId),T.current=null,E.current=null,ee){const X=K.currentTarget,$={originalEvent:K,delta:ee};NP(ee,b.swipeDirection,b.swipeThreshold)?sh(J7,y,$,{discrete:!0}):sh(Z7,v,$,{discrete:!0}),X.addEventListener("click",fe=>fe.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),rH=e=>{const{__scopeToast:t,children:r,...a}=e,s=vx(rf,t),[l,c]=p.useState(!1),[d,f]=p.useState(!1);return iH(()=>c(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:n.jsx(xx,{asChild:!0,children:n.jsx(gx,{...a,children:l&&n.jsxs(n.Fragment,{children:[s.label," ",r]})})})},aH="ToastTitle",$4=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Uc.div,{...a,ref:t})});$4.displayName=aH;var sH="ToastDescription",F4=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Uc.div,{...a,ref:t})});F4.displayName=sH;var z4="ToastAction",B4=p.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?n.jsx(H4,{altText:r,asChild:!0,children:n.jsx(Zw,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${z4}\`. Expected non-empty \`string\`.`),null)});B4.displayName=z4;var U4="ToastClose",Zw=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,s=tH(U4,r);return n.jsx(H4,{asChild:!0,children:n.jsx(Uc.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,s.onClose)})})});Zw.displayName=U4;var H4=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...s}=e;return n.jsx(Uc.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function V4(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),lH(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!s)if(l){const c=a.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...V4(a))}}),t}function sh(e,t,r,{discrete:a}){const s=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?_7(s,l):s.dispatchEvent(l)}var NP=(e,t,r=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),l=a>s;return t==="left"||t==="right"?l&&a>r:!l&&s>r};function iH(e=()=>{}){const t=An(e);un(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function lH(e){return e.nodeType===e.ELEMENT_NODE}function oH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function i0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var cH=R4,q4=D4,K4=I4,W4=$4,G4=F4,Y4=B4,Q4=Zw;function X4(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=X4(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function wt(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=X4(e))&&(a&&(a+=" "),a+=t);return a}const SP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,CP=wt,yx=(e,t)=>r=>{var a;if(t?.variants==null)return CP(e,r?.class,r?.className);const{variants:s,defaultVariants:l}=t,c=Object.keys(s).map(m=>{const h=r?.[m],g=l?.[m];if(h===null)return null;const v=SP(h)||SP(g);return s[m][v]}),d=r&&Object.entries(r).reduce((m,h)=>{let[g,v]=h;return v===void 0||(m[g]=v),m},{}),f=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:g,className:v,...y}=h;return Object.entries(y).every(N=>{let[b,w]=N;return Array.isArray(w)?w.includes({...l,...d}[b]):{...l,...d}[b]===w})?[...m,g,v]:m},[]);return CP(e,c,f,r?.class,r?.className)};const dH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),EP=e=>{const t=uH(e);return t.charAt(0).toUpperCase()+t.slice(1)},Z4=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),fH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var mH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hH=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},f)=>p.createElement("svg",{ref:f,...mH,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:Z4("lucide",s),...!l&&!fH(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>p.createElement(m,h)),...Array.isArray(l)?l:[l]]));const Ce=(e,t)=>{const r=p.forwardRef(({className:a,...s},l)=>p.createElement(hH,{ref:l,iconNode:t,className:Z4(`lucide-${dH(EP(e))}`,`lucide-${e}`,a),...s}));return r.displayName=EP(e),r};const pH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ap=Ce("activity",pH);const xH=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],dc=Ce("archive",xH);const gH=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],sp=Ce("arrow-down-right",gH);const vH=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],vc=Ce("arrow-left-right",vH);const yH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wi=Ce("arrow-left",yH);const bH=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ip=Ce("arrow-up-right",bH);const jH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],zh=Ce("award",jH);const wH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],NH=Ce("book-open",wH);const SH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],zs=Ce("calculator",SH);const CH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jw=Ce("calendar",CH);const EH=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],AH=Ce("cat",EH);const PH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],AP=Ce("chart-column",PH);const OH=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],yu=Ce("chart-pie",OH);const TH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J4=Ce("check",TH);const kH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hc=Ce("chevron-down",kH);const _H=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],af=Ce("chevron-right",_H);const RH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eM=Ce("chevron-up",RH);const MH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],er=Ce("circle-alert",MH);const DH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gr=Ce("circle-check-big",DH);const LH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PP=Ce("circle-check",LH);const IH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],$H=Ce("circle-dollar-sign",IH);const FH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Il=Ce("circle-x",FH);const zH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vc=Ce("clock",zH);const BH=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Tr=Ce("coins",BH);const UH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lp=Ce("copy",UH);const HH=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ws=Ce("crown",HH);const VH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Na=Ce("database",VH);const qH=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],KH=Ce("diamond",qH);const WH=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],bu=Ce("dna",WH);const GH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gi=Ce("dollar-sign",GH);const YH=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Eu=Ce("droplets",YH);const QH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mr=Ce("external-link",QH);const XH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yc=Ce("eye",XH);const ZH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],eN=Ce("file-check",ZH);const JH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],eV=Ce("file-text",JH);const tV=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],nV=Ce("fish",tV);const rV=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],op=Ce("flame",rV);const aV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],tM=Ce("funnel",aV);const sV=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],sf=Ce("gem",sV);const iV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],OP=Ce("globe",iV);const lV=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],oV=Ce("hammer",lV);const cV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dV=Ce("history",cV);const uV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],fV=Ce("image",uV);const mV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mu=Ce("info",mV);const hV=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],nM=Ce("key",hV);const pV=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],yj=Ce("landmark",pV);const xV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],gV=Ce("layout-dashboard",xV);const vV=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],yV=Ce("leaf",vV);const bV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],jV=Ce("link",bV);const wV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ke=Ce("loader-circle",wV);const NV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],SV=Ce("lock-open",NV);const CV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],EV=Ce("lock",CV);const AV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PV=Ce("log-out",AV);const OV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TV=Ce("map-pin",OV);const kV=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],_V=Ce("medal",kV);const RV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MV=Ce("menu",RV);const DV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],LV=Ce("pencil",DV);const IV=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],rM=Ce("percent",IV);const $V=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],aM=Ce("pickaxe",$V);const FV=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Pn=Ce("play",FV);const zV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yl=Ce("plus",zV);const BV=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],UV=Ce("power",BV);const HV=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],VV=Ce("receipt",HV);const qV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],et=Ce("refresh-cw",qV);const KV=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],tN=Ce("rocket",KV);const WV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bc=Ce("rotate-ccw",WV);const GV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bj=Ce("save",GV);const YV=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],QV=Ce("scale",YV);const XV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gs=Ce("search",XV);const ZV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sM=Ce("settings",ZV);const JV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ql=Ce("shield",JV);const eq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],tq=Ce("shopping-cart",eq);const nq=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],lf=Ce("sparkles",nq);const rq=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Au=Ce("sprout",rq);const aq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yi=Ce("square-pen",aq);const sq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],kr=Ce("square",sq);const iq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nN=Ce("star",iq);const lq=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Pu=Ce("sword",lq);const oq=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Or=Ce("swords",oq);const cq=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iM=Ce("tag",cq);const dq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],za=Ce("target",dq);const uq=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],lM=Ce("timer",uq);const fq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rN=Ce("trash-2",fq);const mq=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],oM=Ce("trees",mq);const hq=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ou=Ce("trending-down",hq);const pq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tr=Ce("trending-up",pq);const xq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$l=Ce("triangle-alert",xq);const gq=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Xr=Ce("trophy",gq);const vq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yq=Ce("upload",vq);const bq=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TP=Ce("user-check",bq);const jq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bh=Ce("user",jq);const wq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mr=Ce("users",wq);const Nq=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qc=Ce("wallet",Nq);const Sq=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],cM=Ce("wrench",Sq);const Cq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aN=Ce("x",Cq);const Eq=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lr=Ce("zap",Eq),Aq=(e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r},Pq=(e,t)=>({classGroupId:e,validator:t}),dM=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),cp="-",kP=[],Oq="arbitrary..",Tq=e=>{const t=_q(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return kq(c);const d=c.split(cp),f=d[0]===""&&d.length>1?1:0;return uM(d,f,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=a[c],m=r[c];return f?m?Aq(m,f):f:m||kP}return r[c]||kP}}},uM=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],l=r.nextPart.get(s);if(l){const m=uM(e,t+1,l);if(m)return m}const c=r.validators;if(c===null)return;const d=t===0?e.join(cp):e.slice(t).join(cp),f=c.length;for(let m=0;m<f;m++){const h=c[m];if(h.validator(d))return h.classGroupId}},kq=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?Oq+a:void 0})(),_q=e=>{const{theme:t,classGroups:r}=e;return Rq(r,t)},Rq=(e,t)=>{const r=dM();for(const a in e){const s=e[a];sN(s,r,a,t)}return r},sN=(e,t,r,a)=>{const s=e.length;for(let l=0;l<s;l++){const c=e[l];Mq(c,t,r,a)}},Mq=(e,t,r,a)=>{if(typeof e=="string"){Dq(e,t,r);return}if(typeof e=="function"){Lq(e,t,r,a);return}Iq(e,t,r,a)},Dq=(e,t,r)=>{const a=e===""?t:fM(t,e);a.classGroupId=r},Lq=(e,t,r,a)=>{if($q(e)){sN(e(a),t,r,a);return}t.validators===null&&(t.validators=[]),t.validators.push(Pq(r,e))},Iq=(e,t,r,a)=>{const s=Object.entries(e),l=s.length;for(let c=0;c<l;c++){const[d,f]=s[c];sN(f,fM(t,d),r,a)}},fM=(e,t)=>{let r=e;const a=t.split(cp),s=a.length;for(let l=0;l<s;l++){const c=a[l];let d=r.nextPart.get(c);d||(d=dM(),r.nextPart.set(c,d)),r=d}return r},$q=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Fq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const s=(l,c)=>{r[l]=c,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(l){let c=r[l];if(c!==void 0)return c;if((c=a[l])!==void 0)return s(l,c),c},set(l,c){l in r?r[l]=c:s(l,c)}}},jj="!",_P=":",zq=[],RP=(e,t,r,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:s}),Bq=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const l=[];let c=0,d=0,f=0,m;const h=s.length;for(let b=0;b<h;b++){const w=s[b];if(c===0&&d===0){if(w===_P){l.push(s.slice(f,b)),f=b+1;continue}if(w==="/"){m=b;continue}}w==="["?c++:w==="]"?c--:w==="("?d++:w===")"&&d--}const g=l.length===0?s:s.slice(f);let v=g,y=!1;g.endsWith(jj)?(v=g.slice(0,-1),y=!0):g.startsWith(jj)&&(v=g.slice(1),y=!0);const N=m&&m>f?m-f:void 0;return RP(l,y,v,N)};if(t){const s=t+_P,l=a;a=c=>c.startsWith(s)?l(c.slice(s.length)):RP(zq,!1,c,void 0,!0)}if(r){const s=a;a=l=>r({className:l,parseClassName:s})}return a},Uq=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{t.set(r,1e6+a)}),r=>{const a=[];let s=[];for(let l=0;l<r.length;l++){const c=r[l],d=c[0]==="[",f=t.has(c);d||f?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(c)):s.push(c)}return s.length>0&&(s.sort(),a.push(...s)),a}},Hq=e=>({cache:Fq(e.cacheSize),parseClassName:Bq(e),sortModifiers:Uq(e),...Tq(e)}),Vq=/\s+/,qq=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:l}=t,c=[],d=e.trim().split(Vq);let f="";for(let m=d.length-1;m>=0;m-=1){const h=d[m],{isExternal:g,modifiers:v,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:b}=r(h);if(g){f=h+(f.length>0?" "+f:f);continue}let w=!!b,C=a(w?N.substring(0,b):N);if(!C){if(!w){f=h+(f.length>0?" "+f:f);continue}if(C=a(N),!C){f=h+(f.length>0?" "+f:f);continue}w=!1}const A=v.length===0?"":v.length===1?v[0]:l(v).join(":"),E=y?A+jj:A,T=E+C;if(c.indexOf(T)>-1)continue;c.push(T);const k=s(C,w);for(let P=0;P<k.length;++P){const M=k[P];c.push(E+M)}f=h+(f.length>0?" "+f:f)}return f},Kq=(...e)=>{let t=0,r,a,s="";for(;t<e.length;)(r=e[t++])&&(a=mM(r))&&(s&&(s+=" "),s+=a);return s},mM=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=mM(e[a]))&&(r&&(r+=" "),r+=t);return r},Wq=(e,...t)=>{let r,a,s,l;const c=f=>{const m=t.reduce((h,g)=>g(h),e());return r=Hq(m),a=r.cache.get,s=r.cache.set,l=d,d(f)},d=f=>{const m=a(f);if(m)return m;const h=qq(f,r);return s(f,h),h};return l=c,(...f)=>l(Kq(...f))},Gq=[],_n=e=>{const t=r=>r[e]||Gq;return t.isThemeGetter=!0,t},hM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Yq=/^\d+\/\d+$/,Qq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Jq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zo=e=>Yq.test(e),ft=e=>!!e&&!Number.isNaN(Number(e)),Li=e=>!!e&&Number.isInteger(Number(e)),l0=e=>e.endsWith("%")&&ft(e.slice(0,-1)),_s=e=>Qq.test(e),tK=()=>!0,nK=e=>Xq.test(e)&&!Zq.test(e),xM=()=>!1,rK=e=>Jq.test(e),aK=e=>eK.test(e),sK=e=>!Ve(e)&&!qe(e),iK=e=>Kc(e,yM,xM),Ve=e=>hM.test(e),_l=e=>Kc(e,bM,nK),o0=e=>Kc(e,uK,ft),MP=e=>Kc(e,gM,xM),lK=e=>Kc(e,vM,aK),ih=e=>Kc(e,jM,rK),qe=e=>pM.test(e),ru=e=>Wc(e,bM),oK=e=>Wc(e,fK),DP=e=>Wc(e,gM),cK=e=>Wc(e,yM),dK=e=>Wc(e,vM),lh=e=>Wc(e,jM,!0),Kc=(e,t,r)=>{const a=hM.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},Wc=(e,t,r=!1)=>{const a=pM.exec(e);return a?a[1]?t(a[1]):r:!1},gM=e=>e==="position"||e==="percentage",vM=e=>e==="image"||e==="url",yM=e=>e==="length"||e==="size"||e==="bg-size",bM=e=>e==="length",uK=e=>e==="number",fK=e=>e==="family-name",jM=e=>e==="shadow",mK=()=>{const e=_n("color"),t=_n("font"),r=_n("text"),a=_n("font-weight"),s=_n("tracking"),l=_n("leading"),c=_n("breakpoint"),d=_n("container"),f=_n("spacing"),m=_n("radius"),h=_n("shadow"),g=_n("inset-shadow"),v=_n("text-shadow"),y=_n("drop-shadow"),N=_n("blur"),b=_n("perspective"),w=_n("aspect"),C=_n("ease"),A=_n("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...T(),qe,Ve],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],I=()=>[qe,Ve,f],Q=()=>[Zo,"full","auto",...I()],L=()=>[Li,"none","subgrid",qe,Ve],_=()=>["auto",{span:["full",Li,qe,Ve]},Li,qe,Ve],q=()=>[Li,"auto",qe,Ve],ve=()=>["auto","min","max","fr",qe,Ve],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...I()],X=()=>[Zo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],$=()=>[e,qe,Ve],fe=()=>[...T(),DP,MP,{position:[qe,Ve]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",cK,iK,{size:[qe,Ve]}],te=()=>[l0,ru,_l],me=()=>["","none","full",m,qe,Ve],we=()=>["",ft,ru,_l],ae=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>[ft,l0,DP,MP],Ee=()=>["","none",N,qe,Ve],ne=()=>["none",ft,qe,Ve],Ae=()=>["none",ft,qe,Ve],$e=()=>[ft,qe,Ve],xe=()=>[Zo,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_s],breakpoint:[_s],color:[tK],container:[_s],"drop-shadow":[_s],ease:["in","out","in-out"],font:[sK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_s],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_s],shadow:[_s],spacing:["px",ft],text:[_s],"text-shadow":[_s],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zo,Ve,qe,w]}],container:["container"],columns:[{columns:[ft,Ve,qe,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",qe,Ve]}],basis:[{basis:[Zo,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Zo,"auto","initial","none",Ve]}],grow:[{grow:["",ft,qe,Ve]}],shrink:[{shrink:["",ft,qe,Ve]}],order:[{order:[Li,"first","last","none",qe,Ve]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:_()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:_()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[d,"screen",...X()]}],"min-w":[{"min-w":[d,"screen","none",...X()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",r,ru,_l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,qe,o0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",l0,Ve]}],"font-family":[{font:[oK,Ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,qe,Ve]}],"line-clamp":[{"line-clamp":[ft,"none",qe,o0]}],leading:[{leading:[l,...I()]}],"list-image":[{"list-image":["none",qe,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",qe,_l]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[ft,"auto",qe,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,qe,Ve],radial:["",qe,Ve],conic:[Li,qe,Ve]},dK,lK]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,qe,Ve]}],"outline-w":[{outline:["",ft,ru,_l]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",h,lh,ih]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,lh,ih]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[ft,_l]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",v,lh,ih]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[ft,qe,Ve]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":F()}],"mask-image-linear-to-pos":[{"mask-linear-to":F()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":F()}],"mask-image-t-to-pos":[{"mask-t-to":F()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":F()}],"mask-image-r-to-pos":[{"mask-r-to":F()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":F()}],"mask-image-b-to-pos":[{"mask-b-to":F()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":F()}],"mask-image-l-to-pos":[{"mask-l-to":F()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":F()}],"mask-image-x-to-pos":[{"mask-x-to":F()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":F()}],"mask-image-y-to-pos":[{"mask-y-to":F()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[qe,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":F()}],"mask-image-radial-to-pos":[{"mask-radial-to":F()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":F()}],"mask-image-conic-to-pos":[{"mask-conic-to":F()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ve]}],filter:[{filter:["","none",qe,Ve]}],blur:[{blur:Ee()}],brightness:[{brightness:[ft,qe,Ve]}],contrast:[{contrast:[ft,qe,Ve]}],"drop-shadow":[{"drop-shadow":["","none",y,lh,ih]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",ft,qe,Ve]}],"hue-rotate":[{"hue-rotate":[ft,qe,Ve]}],invert:[{invert:["",ft,qe,Ve]}],saturate:[{saturate:[ft,qe,Ve]}],sepia:[{sepia:["",ft,qe,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ve]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[ft,qe,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[ft,qe,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,qe,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,qe,Ve]}],"backdrop-invert":[{"backdrop-invert":["",ft,qe,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[ft,qe,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[ft,qe,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,qe,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",qe,Ve]}],ease:[{ease:["linear","initial",C,qe,Ve]}],delay:[{delay:[ft,qe,Ve]}],animate:[{animate:["none",A,qe,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,qe,Ve]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[qe,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ve]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[ft,ru,_l,o0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hK=Wq(mK);function De(...e){return hK(wt(e))}const pK=cH,wM=p.forwardRef(({className:e,...t},r)=>n.jsx(q4,{ref:r,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));wM.displayName=q4.displayName;const xK=yx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),NM=p.forwardRef(({className:e,variant:t,...r},a)=>n.jsx(K4,{ref:a,className:De(xK({variant:t}),e),...r}));NM.displayName=K4.displayName;const gK=p.forwardRef(({className:e,...t},r)=>n.jsx(Y4,{ref:r,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gK.displayName=Y4.displayName;const SM=p.forwardRef(({className:e,...t},r)=>n.jsx(Q4,{ref:r,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(aN,{className:"h-4 w-4"})}));SM.displayName=Q4.displayName;const CM=p.forwardRef(({className:e,...t},r)=>n.jsx(W4,{ref:r,className:De("text-sm font-semibold",e),...t}));CM.displayName=W4.displayName;const EM=p.forwardRef(({className:e,...t},r)=>n.jsx(G4,{ref:r,className:De("text-sm opacity-90",e),...t}));EM.displayName=G4.displayName;function vK(){const{toasts:e}=an();return n.jsxs(pK,{children:[e.map(function({id:t,title:r,description:a,action:s,...l}){return n.jsxs(NM,{...l,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(CM,{children:r}),a&&n.jsx(EM,{children:a})]}),s,n.jsx(SM,{})]},t)}),n.jsx(wM,{})]})}var yK=Zu[" useId ".trim().toString()]||(()=>{}),bK=0;function $a(e){const[t,r]=p.useState(yK());return un(()=>{r(a=>a??String(bK++))},[e]),t?`radix-${t}`:""}const jK=["top","right","bottom","left"],Qi=Math.min,Kr=Math.max,dp=Math.round,oh=Math.floor,ts=e=>({x:e,y:e}),wK={left:"right",right:"left",bottom:"top",top:"bottom"},NK={start:"end",end:"start"};function wj(e,t,r){return Kr(e,Qi(t,r))}function Ys(e,t){return typeof e=="function"?e(t):e}function Qs(e){return e.split("-")[0]}function Gc(e){return e.split("-")[1]}function iN(e){return e==="x"?"y":"x"}function lN(e){return e==="y"?"height":"width"}const SK=new Set(["top","bottom"]);function Ja(e){return SK.has(Qs(e))?"y":"x"}function oN(e){return iN(Ja(e))}function CK(e,t,r){r===void 0&&(r=!1);const a=Gc(e),s=oN(e),l=lN(s);let c=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=up(c)),[c,up(c)]}function EK(e){const t=up(e);return[Nj(e),t,Nj(t)]}function Nj(e){return e.replace(/start|end/g,t=>NK[t])}const LP=["left","right"],IP=["right","left"],AK=["top","bottom"],PK=["bottom","top"];function OK(e,t,r){switch(e){case"top":case"bottom":return r?t?IP:LP:t?LP:IP;case"left":case"right":return t?AK:PK;default:return[]}}function TK(e,t,r,a){const s=Gc(e);let l=OK(Qs(e),r==="start",a);return s&&(l=l.map(c=>c+"-"+s),t&&(l=l.concat(l.map(Nj)))),l}function up(e){return e.replace(/left|right|bottom|top/g,t=>wK[t])}function kK(e){return{top:0,right:0,bottom:0,left:0,...e}}function AM(e){return typeof e!="number"?kK(e):{top:e,right:e,bottom:e,left:e}}function fp(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function $P(e,t,r){let{reference:a,floating:s}=e;const l=Ja(t),c=oN(t),d=lN(c),f=Qs(t),m=l==="y",h=a.x+a.width/2-s.width/2,g=a.y+a.height/2-s.height/2,v=a[d]/2-s[d]/2;let y;switch(f){case"top":y={x:h,y:a.y-s.height};break;case"bottom":y={x:h,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:g};break;case"left":y={x:a.x-s.width,y:g};break;default:y={x:a.x,y:a.y}}switch(Gc(t)){case"start":y[c]-=v*(r&&m?-1:1);break;case"end":y[c]+=v*(r&&m?-1:1);break}return y}const _K=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:g}=$P(m,a,f),v=a,y={},N=0;for(let b=0;b<d.length;b++){const{name:w,fn:C}=d[b],{x:A,y:E,data:T,reset:k}=await C({x:h,y:g,initialPlacement:a,placement:v,strategy:s,middlewareData:y,rects:m,platform:c,elements:{reference:e,floating:t}});h=A??h,g=E??g,y={...y,[w]:{...y[w],...T}},k&&N<=50&&(N++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(m=k.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:h,y:g}=$P(m,v,f)),b=-1)}return{x:h,y:g,placement:v,strategy:s,middlewareData:y}};async function Tu(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=Ys(t,e),N=AM(y),w=d[v?g==="floating"?"reference":"floating":g],C=fp(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(w)))==null||r?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:h,strategy:f})),A=g==="floating"?{x:a,y:s,width:c.floating.width,height:c.floating.height}:c.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),T=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},k=fp(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:A,offsetParent:E,strategy:f}):A);return{top:(C.top-k.top+N.top)/T.y,bottom:(k.bottom-C.bottom+N.bottom)/T.y,left:(C.left-k.left+N.left)/T.x,right:(k.right-C.right+N.right)/T.x}}const RK=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:m,padding:h=0}=Ys(e,t)||{};if(m==null)return{};const g=AM(h),v={x:r,y:a},y=oN(s),N=lN(y),b=await c.getDimensions(m),w=y==="y",C=w?"top":"left",A=w?"bottom":"right",E=w?"clientHeight":"clientWidth",T=l.reference[N]+l.reference[y]-v[y]-l.floating[N],k=v[y]-l.reference[y],P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let M=P?P[E]:0;(!M||!await(c.isElement==null?void 0:c.isElement(P)))&&(M=d.floating[E]||l.floating[N]);const I=T/2-k/2,Q=M/2-b[N]/2-1,L=Qi(g[C],Q),_=Qi(g[A],Q),q=L,ve=M-b[N]-_,K=M/2-b[N]/2+I,ee=wj(q,K,ve),B=!f.arrow&&Gc(s)!=null&&K!==ee&&l.reference[N]/2-(K<q?L:_)-b[N]/2<0,X=B?K<q?K-q:K-ve:0;return{[y]:v[y]+X,data:{[y]:ee,centerOffset:K-ee-X,...B&&{alignmentOffset:X}},reset:B}}}),MK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...w}=Ys(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=Qs(s),A=Ja(d),E=Qs(d)===d,T=await(f.isRTL==null?void 0:f.isRTL(m.floating)),k=v||(E||!b?[up(d)]:EK(d)),P=N!=="none";!v&&P&&k.push(...TK(d,b,N,T));const M=[d,...k],I=await Tu(t,w),Q=[];let L=((a=l.flip)==null?void 0:a.overflows)||[];if(h&&Q.push(I[C]),g){const K=CK(s,c,T);Q.push(I[K[0]],I[K[1]])}if(L=[...L,{placement:s,overflows:Q}],!Q.every(K=>K<=0)){var _,q;const K=(((_=l.flip)==null?void 0:_.index)||0)+1,ee=M[K];if(ee&&(!(g==="alignment"?A!==Ja(ee):!1)||L.every($=>Ja($.placement)===A?$.overflows[0]>0:!0)))return{data:{index:K,overflows:L},reset:{placement:ee}};let B=(q=L.filter(X=>X.overflows[0]<=0).sort((X,$)=>X.overflows[1]-$.overflows[1])[0])==null?void 0:q.placement;if(!B)switch(y){case"bestFit":{var ve;const X=(ve=L.filter($=>{if(P){const fe=Ja($.placement);return fe===A||fe==="y"}return!0}).map($=>[$.placement,$.overflows.filter(fe=>fe>0).reduce((fe,pe)=>fe+pe,0)]).sort(($,fe)=>$[1]-fe[1])[0])==null?void 0:ve[0];X&&(B=X);break}case"initialPlacement":B=d;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function FP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zP(e){return jK.some(t=>e[t]>=0)}const DK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=Ys(e,t);switch(a){case"referenceHidden":{const l=await Tu(t,{...s,elementContext:"reference"}),c=FP(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:zP(c)}}}case"escaped":{const l=await Tu(t,{...s,altBoundary:!0}),c=FP(l,r.floating);return{data:{escapedOffsets:c,escaped:zP(c)}}}default:return{}}}}},PM=new Set(["left","top"]);async function LK(e,t){const{placement:r,platform:a,elements:s}=e,l=await(a.isRTL==null?void 0:a.isRTL(s.floating)),c=Qs(r),d=Gc(r),f=Ja(r)==="y",m=PM.has(c)?-1:1,h=l&&f?-1:1,g=Ys(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:N}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof N=="number"&&(y=d==="end"?N*-1:N),f?{x:y*h,y:v*m}:{x:v*m,y:y*h}}const IK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:l,placement:c,middlewareData:d}=t,f=await LK(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:s+f.x,y:l+f.y,data:{...f,placement:c}}}}},$K=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:w=>{let{x:C,y:A}=w;return{x:C,y:A}}},...f}=Ys(e,t),m={x:r,y:a},h=await Tu(t,f),g=Ja(Qs(s)),v=iN(g);let y=m[v],N=m[g];if(l){const w=v==="y"?"top":"left",C=v==="y"?"bottom":"right",A=y+h[w],E=y-h[C];y=wj(A,y,E)}if(c){const w=g==="y"?"top":"left",C=g==="y"?"bottom":"right",A=N+h[w],E=N-h[C];N=wj(A,N,E)}const b=d.fn({...t,[v]:y,[g]:N});return{...b,data:{x:b.x-r,y:b.y-a,enabled:{[v]:l,[g]:c}}}}}},FK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Ys(e,t),h={x:r,y:a},g=Ja(s),v=iN(g);let y=h[v],N=h[g];const b=Ys(d,t),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const E=v==="y"?"height":"width",T=l.reference[v]-l.floating[E]+w.mainAxis,k=l.reference[v]+l.reference[E]-w.mainAxis;y<T?y=T:y>k&&(y=k)}if(m){var C,A;const E=v==="y"?"width":"height",T=PM.has(Qs(s)),k=l.reference[g]-l.floating[E]+(T&&((C=c.offset)==null?void 0:C[g])||0)+(T?0:w.crossAxis),P=l.reference[g]+l.reference[E]+(T?0:((A=c.offset)==null?void 0:A[g])||0)-(T?w.crossAxis:0);N<k?N=k:N>P&&(N=P)}return{[v]:y,[g]:N}}}},zK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...m}=Ys(e,t),h=await Tu(t,m),g=Qs(s),v=Gc(s),y=Ja(s)==="y",{width:N,height:b}=l.floating;let w,C;g==="top"||g==="bottom"?(w=g,C=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(C=g,w=v==="end"?"top":"bottom");const A=b-h.top-h.bottom,E=N-h.left-h.right,T=Qi(b-h[w],A),k=Qi(N-h[C],E),P=!t.middlewareData.shift;let M=T,I=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=E),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(M=A),P&&!v){const L=Kr(h.left,0),_=Kr(h.right,0),q=Kr(h.top,0),ve=Kr(h.bottom,0);y?I=N-2*(L!==0||_!==0?L+_:Kr(h.left,h.right)):M=b-2*(q!==0||ve!==0?q+ve:Kr(h.top,h.bottom))}await f({...t,availableWidth:I,availableHeight:M});const Q=await c.getDimensions(d.floating);return N!==Q.width||b!==Q.height?{reset:{rects:!0}}:{}}}};function bx(){return typeof window<"u"}function Yc(e){return OM(e)?(e.nodeName||"").toLowerCase():"#document"}function Zr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cs(e){var t;return(t=(OM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OM(e){return bx()?e instanceof Node||e instanceof Zr(e).Node:!1}function Ba(e){return bx()?e instanceof Element||e instanceof Zr(e).Element:!1}function rs(e){return bx()?e instanceof HTMLElement||e instanceof Zr(e).HTMLElement:!1}function BP(e){return!bx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zr(e).ShadowRoot}const BK=new Set(["inline","contents"]);function of(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Ua(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!BK.has(s)}const UK=new Set(["table","td","th"]);function HK(e){return UK.has(Yc(e))}const VK=[":popover-open",":modal"];function jx(e){return VK.some(t=>{try{return e.matches(t)}catch{return!1}})}const qK=["transform","translate","scale","rotate","perspective"],KK=["transform","translate","scale","rotate","perspective","filter"],WK=["paint","layout","strict","content"];function cN(e){const t=dN(),r=Ba(e)?Ua(e):e;return qK.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||KK.some(a=>(r.willChange||"").includes(a))||WK.some(a=>(r.contain||"").includes(a))}function GK(e){let t=Xi(e);for(;rs(t)&&!jc(t);){if(cN(t))return t;if(jx(t))return null;t=Xi(t)}return null}function dN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YK=new Set(["html","body","#document"]);function jc(e){return YK.has(Yc(e))}function Ua(e){return Zr(e).getComputedStyle(e)}function wx(e){return Ba(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xi(e){if(Yc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BP(e)&&e.host||cs(e);return BP(t)?t.host:t}function TM(e){const t=Xi(e);return jc(t)?e.ownerDocument?e.ownerDocument.body:e.body:rs(t)&&of(t)?t:TM(t)}function ku(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=TM(e),l=s===((a=e.ownerDocument)==null?void 0:a.body),c=Zr(s);if(l){const d=Sj(c);return t.concat(c,c.visualViewport||[],of(s)?s:[],d&&r?ku(d):[])}return t.concat(s,ku(s,[],r))}function Sj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kM(e){const t=Ua(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=rs(e),l=s?e.offsetWidth:r,c=s?e.offsetHeight:a,d=dp(r)!==l||dp(a)!==c;return d&&(r=l,a=c),{width:r,height:a,$:d}}function uN(e){return Ba(e)?e:e.contextElement}function uc(e){const t=uN(e);if(!rs(t))return ts(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:l}=kM(t);let c=(l?dp(r.width):r.width)/a,d=(l?dp(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const QK=ts(0);function _M(e){const t=Zr(e);return!dN()||!t.visualViewport?QK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XK(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Zr(e)?!1:t}function Xl(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),l=uN(e);let c=ts(1);t&&(a?Ba(a)&&(c=uc(a)):c=uc(e));const d=XK(l,r,a)?_M(l):ts(0);let f=(s.left+d.x)/c.x,m=(s.top+d.y)/c.y,h=s.width/c.x,g=s.height/c.y;if(l){const v=Zr(l),y=a&&Ba(a)?Zr(a):a;let N=v,b=Sj(N);for(;b&&a&&y!==N;){const w=uc(b),C=b.getBoundingClientRect(),A=Ua(b),E=C.left+(b.clientLeft+parseFloat(A.paddingLeft))*w.x,T=C.top+(b.clientTop+parseFloat(A.paddingTop))*w.y;f*=w.x,m*=w.y,h*=w.x,g*=w.y,f+=E,m+=T,N=Zr(b),b=Sj(N)}}return fp({width:h,height:g,x:f,y:m})}function Nx(e,t){const r=wx(e).scrollLeft;return t?t.left+r:Xl(cs(e)).left+r}function RM(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-Nx(e,r),s=r.top+t.scrollTop;return{x:a,y:s}}function ZK(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const l=s==="fixed",c=cs(a),d=t?jx(t.floating):!1;if(a===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},m=ts(1);const h=ts(0),g=rs(a);if((g||!g&&!l)&&((Yc(a)!=="body"||of(c))&&(f=wx(a)),rs(a))){const y=Xl(a);m=uc(a),h.x=y.x+a.clientLeft,h.y=y.y+a.clientTop}const v=c&&!g&&!l?RM(c,f):ts(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+v.x,y:r.y*m.y-f.scrollTop*m.y+h.y+v.y}}function JK(e){return Array.from(e.getClientRects())}function eW(e){const t=cs(e),r=wx(e),a=e.ownerDocument.body,s=Kr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=Kr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let c=-r.scrollLeft+Nx(e);const d=-r.scrollTop;return Ua(a).direction==="rtl"&&(c+=Kr(t.clientWidth,a.clientWidth)-s),{width:s,height:l,x:c,y:d}}const UP=25;function tW(e,t){const r=Zr(e),a=cs(e),s=r.visualViewport;let l=a.clientWidth,c=a.clientHeight,d=0,f=0;if(s){l=s.width,c=s.height;const h=dN();(!h||h&&t==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}const m=Nx(a);if(m<=0){const h=a.ownerDocument,g=h.body,v=getComputedStyle(g),y=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,N=Math.abs(a.clientWidth-g.clientWidth-y);N<=UP&&(l-=N)}else m<=UP&&(l+=m);return{width:l,height:c,x:d,y:f}}const nW=new Set(["absolute","fixed"]);function rW(e,t){const r=Xl(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,l=rs(e)?uc(e):ts(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=s*l.x,m=a*l.y;return{width:c,height:d,x:f,y:m}}function HP(e,t,r){let a;if(t==="viewport")a=tW(e,r);else if(t==="document")a=eW(cs(e));else if(Ba(t))a=rW(t,r);else{const s=_M(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fp(a)}function MM(e,t){const r=Xi(e);return r===t||!Ba(r)||jc(r)?!1:Ua(r).position==="fixed"||MM(r,t)}function aW(e,t){const r=t.get(e);if(r)return r;let a=ku(e,[],!1).filter(d=>Ba(d)&&Yc(d)!=="body"),s=null;const l=Ua(e).position==="fixed";let c=l?Xi(e):e;for(;Ba(c)&&!jc(c);){const d=Ua(c),f=cN(c);!f&&d.position==="fixed"&&(s=null),(l?!f&&!s:!f&&d.position==="static"&&!!s&&nW.has(s.position)||of(c)&&!f&&MM(e,c))?a=a.filter(h=>h!==c):s=d,c=Xi(c)}return t.set(e,a),a}function sW(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const c=[...r==="clippingAncestors"?jx(t)?[]:aW(t,this._c):[].concat(r),a],d=c[0],f=c.reduce((m,h)=>{const g=HP(t,h,s);return m.top=Kr(g.top,m.top),m.right=Qi(g.right,m.right),m.bottom=Qi(g.bottom,m.bottom),m.left=Kr(g.left,m.left),m},HP(t,d,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function iW(e){const{width:t,height:r}=kM(e);return{width:t,height:r}}function lW(e,t,r){const a=rs(t),s=cs(t),l=r==="fixed",c=Xl(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=ts(0);function m(){f.x=Nx(s)}if(a||!a&&!l)if((Yc(t)!=="body"||of(s))&&(d=wx(t)),a){const y=Xl(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else s&&m();l&&!a&&s&&m();const h=s&&!a&&!l?RM(s,d):ts(0),g=c.left+d.scrollLeft-f.x-h.x,v=c.top+d.scrollTop-f.y-h.y;return{x:g,y:v,width:c.width,height:c.height}}function c0(e){return Ua(e).position==="static"}function VP(e,t){if(!rs(e)||Ua(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return cs(e)===r&&(r=r.ownerDocument.body),r}function DM(e,t){const r=Zr(e);if(jx(e))return r;if(!rs(e)){let s=Xi(e);for(;s&&!jc(s);){if(Ba(s)&&!c0(s))return s;s=Xi(s)}return r}let a=VP(e,t);for(;a&&HK(a)&&c0(a);)a=VP(a,t);return a&&jc(a)&&c0(a)&&!cN(a)?r:a||GK(e)||r}const oW=async function(e){const t=this.getOffsetParent||DM,r=this.getDimensions,a=await r(e.floating);return{reference:lW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function cW(e){return Ua(e).direction==="rtl"}const dW={convertOffsetParentRelativeRectToViewportRelativeRect:ZK,getDocumentElement:cs,getClippingRect:sW,getOffsetParent:DM,getElementRects:oW,getClientRects:JK,getDimensions:iW,getScale:uc,isElement:Ba,isRTL:cW};function LM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uW(e,t){let r=null,a;const s=cs(e);function l(){var d;clearTimeout(a),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:g,width:v,height:y}=m;if(d||t(),!v||!y)return;const N=oh(g),b=oh(s.clientWidth-(h+v)),w=oh(s.clientHeight-(g+y)),C=oh(h),E={rootMargin:-N+"px "+-b+"px "+-w+"px "+-C+"px",threshold:Kr(0,Qi(1,f))||1};let T=!0;function k(P){const M=P[0].intersectionRatio;if(M!==f){if(!T)return c();M?c(!1,M):a=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!LM(m,e.getBoundingClientRect())&&c(),T=!1}try{r=new IntersectionObserver(k,{...E,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,E)}r.observe(e)}return c(!0),l}function fW(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=a,m=uN(e),h=s||l?[...m?ku(m):[],...ku(t)]:[];h.forEach(C=>{s&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const g=m&&d?uW(m,r):null;let v=-1,y=null;c&&(y=new ResizeObserver(C=>{let[A]=C;A&&A.target===m&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(t)})),r()}),m&&!f&&y.observe(m),y.observe(t));let N,b=f?Xl(e):null;f&&w();function w(){const C=Xl(e);b&&!LM(b,C)&&r(),b=C,N=requestAnimationFrame(w)}return r(),()=>{var C;h.forEach(A=>{s&&A.removeEventListener("scroll",r),l&&A.removeEventListener("resize",r)}),g?.(),(C=y)==null||C.disconnect(),y=null,f&&cancelAnimationFrame(N)}}const mW=IK,hW=$K,pW=MK,xW=zK,gW=DK,qP=RK,vW=FK,yW=(e,t,r)=>{const a=new Map,s={platform:dW,...r},l={...s.platform,_c:a};return _K(e,t,{...s,platform:l})};var bW=typeof document<"u",jW=function(){},Uh=bW?p.useLayoutEffect:jW;function mp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!mp(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const l=s[a];if(!(l==="_owner"&&e.$$typeof)&&!mp(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function IM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KP(e,t){const r=IM(e);return Math.round(t*r)/r}function d0(e){const t=p.useRef(e);return Uh(()=>{t.current=e}),t}function wW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[h,g]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=p.useState(a);mp(v,a)||y(a);const[N,b]=p.useState(null),[w,C]=p.useState(null),A=p.useCallback($=>{$!==P.current&&(P.current=$,b($))},[]),E=p.useCallback($=>{$!==M.current&&(M.current=$,C($))},[]),T=l||N,k=c||w,P=p.useRef(null),M=p.useRef(null),I=p.useRef(h),Q=f!=null,L=d0(f),_=d0(s),q=d0(m),ve=p.useCallback(()=>{if(!P.current||!M.current)return;const $={placement:t,strategy:r,middleware:v};_.current&&($.platform=_.current),yW(P.current,M.current,$).then(fe=>{const pe={...fe,isPositioned:q.current!==!1};K.current&&!mp(I.current,pe)&&(I.current=pe,os.flushSync(()=>{g(pe)}))})},[v,t,r,_,q]);Uh(()=>{m===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[m]);const K=p.useRef(!1);Uh(()=>(K.current=!0,()=>{K.current=!1}),[]),Uh(()=>{if(T&&(P.current=T),k&&(M.current=k),T&&k){if(L.current)return L.current(T,k,ve);ve()}},[T,k,ve,L,Q]);const ee=p.useMemo(()=>({reference:P,floating:M,setReference:A,setFloating:E}),[A,E]),B=p.useMemo(()=>({reference:T,floating:k}),[T,k]),X=p.useMemo(()=>{const $={position:r,left:0,top:0};if(!B.floating)return $;const fe=KP(B.floating,h.x),pe=KP(B.floating,h.y);return d?{...$,transform:"translate("+fe+"px, "+pe+"px)",...IM(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:fe,top:pe}},[r,d,B.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:ve,refs:ee,elements:B,floatingStyles:X}),[h,ve,ee,B,X])}const NW=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?qP({element:a.current,padding:s}).fn(r):{}:a?qP({element:a,padding:s}).fn(r):{}}}},SW=(e,t)=>({...mW(e),options:[e,t]}),CW=(e,t)=>({...hW(e),options:[e,t]}),EW=(e,t)=>({...vW(e),options:[e,t]}),AW=(e,t)=>({...pW(e),options:[e,t]}),PW=(e,t)=>({...xW(e),options:[e,t]}),OW=(e,t)=>({...gW(e),options:[e,t]}),TW=(e,t)=>({...NW(e),options:[e,t]});function kW(e){const t=_W(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(MW);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function _W(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=LW(s),d=DW(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RW=Symbol("radix.slottable");function MW(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RW}function DW(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function LW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var IW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$W=IW.reduce((e,t)=>{const r=kW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),FW="Arrow",$M=p.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...l}=e;return n.jsx($W.svg,{...l,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});$M.displayName=FW;var zW=$M;function BW(e){const t=UW(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(VW);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function UW(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=KW(s),d=qW(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HW=Symbol("radix.slottable");function VW(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HW}function qW(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function KW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var WW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FM=WW.reduce((e,t)=>{const r=BW(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Sx(e){const[t,r]=p.useState(void 0);return un(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const l=s[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var fN="Popper",[zM,Cx]=xr(fN),[GW,BM]=zM(fN),UM=e=>{const{__scopePopper:t,children:r}=e,[a,s]=p.useState(null);return n.jsx(GW,{scope:t,anchor:a,onAnchorChange:s,children:r})};UM.displayName=fN;var HM="PopperAnchor",VM=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,l=BM(HM,r),c=p.useRef(null),d=tt(t,c),f=p.useRef(null);return p.useEffect(()=>{const m=f.current;f.current=a?.current||c.current,m!==f.current&&l.onAnchorChange(f.current)}),a?null:n.jsx(FM.div,{...s,ref:d})});VM.displayName=HM;var mN="PopperContent",[YW,QW]=zM(mN),qM=p.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:N,...b}=e,w=BM(mN,r),[C,A]=p.useState(null),E=tt(t,F=>A(F)),[T,k]=p.useState(null),P=Sx(T),M=P?.width??0,I=P?.height??0,Q=a+(l!=="center"?"-"+l:""),L=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},_=Array.isArray(m)?m:[m],q=_.length>0,ve={padding:L,boundary:_.filter(ZW),altBoundary:q},{refs:K,floatingStyles:ee,placement:B,isPositioned:X,middlewareData:$}=wW({strategy:"fixed",placement:Q,whileElementsMounted:(...F)=>fW(...F,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[SW({mainAxis:s+I,alignmentAxis:c}),f&&CW({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?EW():void 0,...ve}),f&&AW({...ve}),PW({...ve,apply:({elements:F,rects:Ee,availableWidth:ne,availableHeight:Ae})=>{const{width:$e,height:xe}=Ee.reference,nt=F.floating.style;nt.setProperty("--radix-popper-available-width",`${ne}px`),nt.setProperty("--radix-popper-available-height",`${Ae}px`),nt.setProperty("--radix-popper-anchor-width",`${$e}px`),nt.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),T&&TW({element:T,padding:d}),JW({arrowWidth:M,arrowHeight:I}),v&&OW({strategy:"referenceHidden",...ve})]}),[fe,pe]=GM(B),R=An(N);un(()=>{X&&R?.()},[X,R]);const te=$.arrow?.x,me=$.arrow?.y,we=$.arrow?.centerOffset!==0,[ae,Le]=p.useState();return un(()=>{C&&Le(window.getComputedStyle(C).zIndex)},[C]),n.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:X?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(YW,{scope:r,placedSide:fe,onArrowChange:k,arrowX:te,arrowY:me,shouldHideArrow:we,children:n.jsx(FM.div,{"data-side":fe,"data-align":pe,...b,ref:E,style:{...b.style,animation:X?void 0:"none"}})})})});qM.displayName=mN;var KM="PopperArrow",XW={top:"bottom",right:"left",bottom:"top",left:"right"},WM=p.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,l=QW(KM,a),c=XW[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(zW,{...s,ref:r,style:{...s.style,display:"block"}})})});WM.displayName=KM;function ZW(e){return e!==null}var JW=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:s}=t,c=s.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,h]=GM(r),g={start:"0%",center:"50%",end:"100%"}[h],v=(s.arrow?.x??0)+d/2,y=(s.arrow?.y??0)+f/2;let N="",b="";return m==="bottom"?(N=c?g:`${v}px`,b=`${-f}px`):m==="top"?(N=c?g:`${v}px`,b=`${a.floating.height+f}px`):m==="right"?(N=`${-f}px`,b=c?g:`${y}px`):m==="left"&&(N=`${a.floating.width+f}px`,b=c?g:`${y}px`),{data:{x:N,y:b}}}});function GM(e){const[t,r="center"]=e.split("-");return[t,r]}var YM=UM,QM=VM,XM=qM,ZM=WM;function eG(e){const t=tG(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(rG);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function tG(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=sG(s),d=aG(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JM=Symbol("radix.slottable");function nG(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=JM,t}function rG(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JM}function aG(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function sG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lG=iG.reduce((e,t)=>{const r=eG(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),[Ex]=xr("Tooltip",[Cx]),Ax=Cx(),eD="TooltipProvider",oG=700,Cj="tooltip.open",[cG,hN]=Ex(eD),tD=e=>{const{__scopeTooltip:t,delayDuration:r=oG,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:l}=e,c=p.useRef(!0),d=p.useRef(!1),f=p.useRef(0);return p.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),n.jsx(cG,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:p.useCallback(m=>{d.current=m},[]),disableHoverableContent:s,children:l})};tD.displayName=eD;var _u="Tooltip",[dG,Px]=Ex(_u),nD=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:s,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=e,f=hN(_u,e.__scopeTooltip),m=Ax(t),[h,g]=p.useState(null),v=$a(),y=p.useRef(0),N=c??f.disableHoverableContent,b=d??f.delayDuration,w=p.useRef(!1),[C,A]=ea({prop:a,defaultProp:s??!1,onChange:M=>{M?(f.onOpen(),document.dispatchEvent(new CustomEvent(Cj))):f.onClose(),l?.(M)},caller:_u}),E=p.useMemo(()=>C?w.current?"delayed-open":"instant-open":"closed",[C]),T=p.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w.current=!1,A(!0)},[A]),k=p.useCallback(()=>{window.clearTimeout(y.current),y.current=0,A(!1)},[A]),P=p.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{w.current=!0,A(!0),y.current=0},b)},[b,A]);return p.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),n.jsx(YM,{...m,children:n.jsx(dG,{scope:t,contentId:v,open:C,stateAttribute:E,trigger:h,onTriggerChange:g,onTriggerEnter:p.useCallback(()=>{f.isOpenDelayedRef.current?P():T()},[f.isOpenDelayedRef,P,T]),onTriggerLeave:p.useCallback(()=>{N?k():(window.clearTimeout(y.current),y.current=0)},[k,N]),onOpen:T,onClose:k,disableHoverableContent:N,children:r})})};nD.displayName=_u;var Ej="TooltipTrigger",rD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Px(Ej,r),l=hN(Ej,r),c=Ax(r),d=p.useRef(null),f=tt(t,d,s.onTriggerChange),m=p.useRef(!1),h=p.useRef(!1),g=p.useCallback(()=>m.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),n.jsx(QM,{asChild:!0,...c,children:n.jsx(lG.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:f,onPointerMove:ze(e.onPointerMove,v=>{v.pointerType!=="touch"&&!h.current&&!l.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ze(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ze(e.onPointerDown,()=>{s.open&&s.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ze(e.onFocus,()=>{m.current||s.onOpen()}),onBlur:ze(e.onBlur,s.onClose),onClick:ze(e.onClick,s.onClose)})})});rD.displayName=Ej;var uG="TooltipPortal",[Abe,fG]=Ex(uG,{forceMount:void 0}),wc="TooltipContent",aD=p.forwardRef((e,t)=>{const r=fG(wc,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...l}=e,c=Px(wc,e.__scopeTooltip);return n.jsx(na,{present:a||c.open,children:c.disableHoverableContent?n.jsx(sD,{side:s,...l,ref:t}):n.jsx(mG,{side:s,...l,ref:t})})}),mG=p.forwardRef((e,t)=>{const r=Px(wc,e.__scopeTooltip),a=hN(wc,e.__scopeTooltip),s=p.useRef(null),l=tt(t,s),[c,d]=p.useState(null),{trigger:f,onClose:m}=r,h=s.current,{onPointerInTransitChange:g}=a,v=p.useCallback(()=>{d(null),g(!1)},[g]),y=p.useCallback((N,b)=>{const w=N.currentTarget,C={x:N.clientX,y:N.clientY},A=vG(C,w.getBoundingClientRect()),E=yG(C,A),T=bG(b.getBoundingClientRect()),k=wG([...E,...T]);d(k),g(!0)},[g]);return p.useEffect(()=>()=>v(),[v]),p.useEffect(()=>{if(f&&h){const N=w=>y(w,h),b=w=>y(w,f);return f.addEventListener("pointerleave",N),h.addEventListener("pointerleave",b),()=>{f.removeEventListener("pointerleave",N),h.removeEventListener("pointerleave",b)}}},[f,h,y,v]),p.useEffect(()=>{if(c){const N=b=>{const w=b.target,C={x:b.clientX,y:b.clientY},A=f?.contains(w)||h?.contains(w),E=!jG(C,c);A?v():E&&(v(),m())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[f,h,c,m,v]),n.jsx(sD,{...e,ref:l})}),[hG,pG]=Ex(_u,{isInside:!1}),xG=nG("TooltipContent"),sD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=e,f=Px(wc,r),m=Ax(r),{onClose:h}=f;return p.useEffect(()=>(document.addEventListener(Cj,h),()=>document.removeEventListener(Cj,h)),[h]),p.useEffect(()=>{if(f.trigger){const g=v=>{v.target?.contains(f.trigger)&&h()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,h]),n.jsx(nf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:h,children:n.jsxs(XM,{"data-state":f.stateAttribute,...m,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(xG,{children:a}),n.jsx(hG,{scope:r,isInside:!0,children:n.jsx(q7,{id:f.contentId,role:"tooltip",children:s||a})})]})})});aD.displayName=wc;var iD="TooltipArrow",gG=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=Ax(r);return pG(iD,r).isInside?null:n.jsx(ZM,{...s,...a,ref:t})});gG.displayName=iD;function vG(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(r,a,s,l)){case l:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function yG(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function bG(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function jG(e,t){const{x:r,y:a}=e;let s=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],m=d.x,h=d.y,g=f.x,v=f.y;h>a!=v>a&&r<(g-m)*(a-h)/(v-h)+m&&(s=!s)}return s}function wG(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),NG(t)}function NG(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var SG=tD,CG=nD,EG=rD,lD=aD;const oD=SG,ju=CG,wu=EG,fc=p.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(lD,{ref:a,sideOffset:t,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));fc.displayName=lD.displayName;const cD=p.createContext(null);function AG({children:e}){const[t,r]=p.useState(null),[a,s]=p.useState(!0),l=p.useCallback(async()=>{try{const m=await fetch(`${gu}/auth/status`,{credentials:"include"});if(!m.ok){r(null);return}const h=await m.json();h.authenticated&&h.user?r({discordId:h.user.discordId,username:h.user.username,avatar:h.user.avatar,isAdmin:h.user.isAdmin}):r(null)}catch(m){console.error("Auth check failed:",m),r(null)}finally{s(!1)}},[]);p.useEffect(()=>{l()},[l]);const c=p.useCallback(()=>{window.location.href=`${gu}/auth/discord`},[]),d=p.useCallback(async()=>{try{await fetch(`${gu}/auth/logout`,{method:"POST",credentials:"include"})}catch(m){console.error("Logout failed:",m)}finally{r(null),window.location.href="/admin/login"}},[]),f={user:t,isLoading:a,isAuthenticated:!!t,isAdmin:t?.isAdmin??!1,login:c,logout:d,refreshAuth:l};return n.jsx(cD.Provider,{value:f,children:e})}function pN(){const e=p.useContext(cD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function PG({children:e,requireAdmin:t=!0}){const{isLoading:r,isAuthenticated:a,isAdmin:s}=pN();return r?n.jsx("div",{className:"flex items-center justify-center h-screen bg-background","data-testid":"loading-auth",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(ke,{className:"w-8 h-8 animate-spin text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Checking authentication..."})]})}):a?t&&!s?n.jsx("div",{className:"flex items-center justify-center h-screen bg-background","data-testid":"access-denied",children:n.jsxs("div",{className:"text-center space-y-4 p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-destructive",children:"Access Denied"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access the admin dashboard."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact an administrator if you believe this is an error."})]})}):n.jsx(n.Fragment,{children:e}):n.jsx(eU,{to:"/admin/login"})}var OG=Symbol.for("react.lazy"),hp=Zu[" use ".trim().toString()];function TG(e){return typeof e=="object"&&e!==null&&"then"in e}function dD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===OG&&"_payload"in e&&TG(e._payload)}function uD(e){const t=_G(e),r=p.forwardRef((a,s)=>{let{children:l,...c}=a;dD(l)&&typeof hp=="function"&&(l=hp(l._payload));const d=p.Children.toArray(l),f=d.find(MG);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}var kG=uD("Slot");function _G(e){const t=p.forwardRef((r,a)=>{let{children:s,...l}=r;if(dD(s)&&typeof hp=="function"&&(s=hp(s._payload)),p.isValidElement(s)){const c=LG(s),d=DG(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RG=Symbol("radix.slottable");function MG(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RG}function DG(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function LG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const xN=yx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),se=p.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},l)=>{const c=a?kG:"button";return n.jsx(c,{className:De(xN({variant:t,size:r,className:e})),ref:l,...s})});se.displayName="Button";const IG=yx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function W({className:e,variant:t,...r}){return n.jsx("div",{className:De(IG({variant:t}),e),...r})}function $G(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c);d.displayName=l+"Context";const f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...N}=g,b=v?.[e]?.[f]||d,w=p.useMemo(()=>N,Object.values(N));return n.jsx(b.Provider,{value:w,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,N=p.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,FG(s,...t)]}function FG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var zG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],co=zG.reduce((e,t)=>{const r=uD(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function BG(){return s4.useSyncExternalStore(UG,()=>!0,()=>!1)}function UG(){return()=>{}}var gN="Avatar",[HG]=$G(gN),[VG,fD]=HG(gN),mD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[s,l]=p.useState("idle");return n.jsx(VG,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:n.jsx(co.span,{...a,ref:t})})});mD.displayName=gN;var hD="AvatarImage",pD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...l}=e,c=fD(hD,r),d=qG(a,l),f=An(m=>{s(m),c.onImageLoadingStatusChange(m)});return un(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?n.jsx(co.img,{...l,ref:t,src:a}):null});pD.displayName=hD;var xD="AvatarFallback",gD=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...s}=e,l=fD(xD,r),[c,d]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const f=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(f)}},[a]),c&&l.imageLoadingStatus!=="loaded"?n.jsx(co.span,{...s,ref:t}):null});gD.displayName=xD;function WP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qG(e,{referrerPolicy:t,crossOrigin:r}){const a=BG(),s=p.useRef(null),l=a?(s.current||(s.current=new window.Image),s.current):null,[c,d]=p.useState(()=>WP(l,e));return un(()=>{d(WP(l,e))},[l,e]),un(()=>{const f=g=>()=>{d(g)};if(!l)return;const m=f("loaded"),h=f("error");return l.addEventListener("load",m),l.addEventListener("error",h),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",h)}},[l,r,t]),c}var vD=mD,yD=pD,bD=gD;const jD=({className:e,...t})=>n.jsx(vD,{className:De(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t});jD.displayName=vD.displayName;const wD=({className:e,...t})=>n.jsx(yD,{className:De("aspect-square h-full w-full",e),...t});wD.displayName=yD.displayName;const ND=({className:e,...t})=>n.jsx(bD,{className:De("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t});ND.displayName=bD.displayName;const KG=[{href:"/admin",label:"Dashboard",icon:gV},{href:"/admin/users",label:"Users",icon:Mr},{href:"/admin/value-allocation",label:"Value Allocation",icon:yu},{href:"/admin/tokens",label:"Token Registry",icon:Tr},{href:"/admin/pools",label:"Pools",icon:Eu},{href:"/admin/pool-indexer",label:"Pool Indexer V2",icon:Na},{href:"/admin/pool-indexer-v1",label:"Pool Indexer V1",icon:Na},{href:"/admin/pool-indexer-harmony",label:"Pool Indexer Harmony",icon:Na},{href:"/admin/jeweler",label:"Jeweler",icon:sf},{href:"/admin/gardening-quest",label:"Gardening Quest",icon:Au},{href:"/admin/gardening-calc",label:"Gardening Calculator",icon:zs},{href:"/admin/battle-ready",label:"Battle-Ready Heroes",icon:Or},{href:"/admin/summoning-calculator",label:"Summoning Calculator",icon:bu},{href:"/admin/summon-sniper",label:"Summon Sniper",icon:za},{href:"/admin/tavern-indexer",label:"Tavern Indexer",icon:Na},{href:"/admin/pve-droprates",label:"PVE Drop Rates",icon:Or},{href:"/admin/challenges",label:"Challenges",icon:Xr},{href:"/admin/level-racer",label:"Level Racer",icon:Or},{href:"/admin/hedge/combat-sync",label:"Hedge: Combat Sync",icon:et},{href:"/admin/hedge/plans",label:"Hedge: Plans & Access",icon:Ws},{href:"/admin/expenses",label:"Expenses",icon:VV},{href:"/admin/bridge",label:"Bridge",icon:vc},{href:"/admin/extractors",label:"Extractors",icon:Ou},{href:"/admin/settings",label:"Settings",icon:sM}];function WG({children:e}){const{user:t,logout:r}=pN(),[a]=Va(),[s,l]=p.useState(!1),{data:c}=Re({queryKey:["/api/admin/environment"],staleTime:1/0}),d=t?.avatar?`https://cdn.discordapp.com/avatars/${t.discordId}/${t.avatar}.png`:null,f=()=>{l(!1)};return n.jsxs("div",{className:"flex h-screen w-full bg-background","data-testid":"admin-layout",children:[s&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),n.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 border-r bg-card flex flex-col
        transform transition-transform duration-200 ease-in-out
        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-primary-foreground font-bold text-sm",children:"HL"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"font-semibold text-sm",children:"Hedge Ledger"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin"}),c&&n.jsx(W,{variant:c.isProduction?"default":"secondary",className:"text-[10px] px-1 py-0","data-testid":"badge-environment",children:c.isProduction?"PROD":"DEV"})]})]}),n.jsx(se,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",onClick:()=>l(!1),"data-testid":"button-close-sidebar",children:n.jsx(aN,{className:"h-4 w-4"})})]})}),n.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:KG.map(m=>{const h=a===m.href||m.href!=="/admin"&&a.startsWith(m.href),g=m.icon;return n.jsx(Kl,{href:m.href,onClick:f,children:n.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer ${h?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,"data-testid":`nav-${m.label.toLowerCase()}`,children:[n.jsx(g,{className:"w-4 h-4"}),n.jsx("span",{children:m.label}),h&&n.jsx(af,{className:"w-4 h-4 ml-auto"})]})},m.href)})}),n.jsx("div",{className:"p-3 border-t",children:n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-accent/50",children:[n.jsxs(jD,{className:"w-8 h-8",children:[d&&n.jsx(wD,{src:d,alt:t?.username}),n.jsx(ND,{className:"text-xs",children:t?.username?.charAt(0).toUpperCase()||"?"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate","data-testid":"user-username",children:t?.username}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin"})]}),n.jsx(se,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8","data-testid":"button-logout",children:n.jsx(PV,{className:"w-4 h-4"})})]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("header",{className:"lg:hidden flex items-center gap-3 p-3 border-b bg-card",children:[n.jsx(se,{variant:"ghost",size:"icon",onClick:()=>l(!0),"data-testid":"button-open-sidebar",children:n.jsx(MV,{className:"h-5 w-5"})}),n.jsx("span",{className:"font-semibold",children:"Hedge Ledger"}),c&&n.jsx(W,{variant:c.isProduction?"default":"secondary",className:"text-[10px] px-1 py-0",children:c.isProduction?"PROD":"DEV"})]}),n.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}const Y=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:De("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const ie=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:De("flex flex-col space-y-1.5 p-6",e),...t}));ie.displayName="CardHeader";const oe=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:De("text-2xl font-semibold leading-none tracking-tight",e),...t}));oe.displayName="CardTitle";const Se=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:De("text-sm text-muted-foreground",e),...t}));Se.displayName="CardDescription";const J=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:De("p-6 pt-0",e),...t}));J.displayName="CardContent";const GG=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:De("flex items-center p-6 pt-0",e),...t}));GG.displayName="CardFooter";function YG(){const{isLoading:e,isAuthenticated:t,isAdmin:r,login:a}=pN(),[,s]=Va();return p.useEffect(()=>{!e&&t&&r&&s("/admin")},[e,t,r,s]),e?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:n.jsx(ke,{className:"w-8 h-8 animate-spin text-white"})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4","data-testid":"admin-login-page",children:n.jsxs(Y,{className:"w-full max-w-md",children:[n.jsxs(ie,{className:"text-center space-y-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:n.jsx("span",{className:"text-2xl font-bold text-white",children:"HL"})}),n.jsxs("div",{children:[n.jsx(oe,{className:"text-2xl",children:"Hedge Ledger Admin"}),n.jsx(Se,{className:"mt-2",children:"Sign in with Discord to access the admin dashboard"})]})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs(se,{onClick:a,className:"w-full h-12 text-base gap-3 bg-[#5865F2] hover:bg-[#4752C4]","data-testid":"button-discord-login",children:[n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),"Sign in with Discord"]}),n.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Only authorized Discord accounts can access the admin area."})]})]})})}function Te({className:e,...t}){return n.jsx("div",{className:De("animate-pulse rounded-md bg-muted",e),...t})}function QG(){const{data:e,isLoading:t}=Re({queryKey:["/api/analytics/overview"]}),{data:r,isLoading:a}=Re({queryKey:["/api/admin/hedge-wallet"],refetchInterval:6e4});return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-dashboard",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Overview of Hedge Ledger activity and metrics"})]}),n.jsxs(Y,{className:"border-primary/20 bg-primary/5",children:[n.jsx(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:n.jsxs("div",{children:[n.jsxs(oe,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(qc,{className:"h-5 w-5"}),"Hedge Wallet"]}),n.jsx(Se,{className:"font-mono text-xs",children:r?.wallet||"Loading..."})]})}),n.jsx(J,{children:n.jsxs("div",{className:"flex flex-wrap gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"JEWEL"}),a?n.jsx(Te,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"stat-hedge-jewel",children:parseFloat(r?.balances?.jewel||"0").toFixed(4)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"CRYSTAL"}),a?n.jsx(Te,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-blue-500","data-testid":"stat-hedge-crystal",children:parseFloat(r?.balances?.crystal||"0").toFixed(4)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"cJEWEL (Staked)"}),a?n.jsx(Te,{className:"h-8 w-24"}):n.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"stat-hedge-cjewel",children:parseFloat(r?.balances?.cjewel||"0").toFixed(4)})]})]})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Players"}),n.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:t?n.jsx(Te,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-players",children:e?.players.total??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.players.withBalance??0," with active balances"]})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"JEWEL Deposits"}),n.jsx(ap,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:t?n.jsx(Te,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-jewel",children:parseFloat(e?.deposits.totalJewel??"0").toFixed(2)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.deposits.completed??0," completed deposits"]})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Revenue"}),n.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:t?n.jsx(Te,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"stat-total-revenue",children:["$",parseFloat(e?.revenue.totalRevenue??"0").toFixed(2)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Profit: $",parseFloat(e?.revenue.totalProfit??"0").toFixed(2)]})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Queries"}),n.jsx(tr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:t?n.jsx(Te,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-queries",children:e?.revenue.totalQueries??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.revenue.paidQueries??0," paid queries"]})]})})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Recent Activity"}),n.jsx(Se,{children:"Latest player interactions and system events"})]}),n.jsx(J,{children:n.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity feed will be displayed here. Navigate to Users to manage player profiles."})})]})]})}const Qe=p.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:De("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));Qe.displayName="Input";function Ru(e,[t,r]){return Math.min(r,Math.max(t,e))}var XG=p.createContext(void 0);function Qc(e){const t=p.useContext(XG);return e||t||"ltr"}var u0=0;function SD(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??GP()),document.body.insertAdjacentElement("beforeend",e[1]??GP()),u0++,()=>{u0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),u0--}},[])}function GP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function ZG(e){const t=JG(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(tY);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function JG(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=rY(s),d=nY(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eY=Symbol("radix.slottable");function tY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eY}function nY(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function rY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sY=aY.reduce((e,t)=>{const r=ZG(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),f0="focusScope.autoFocusOnMount",m0="focusScope.autoFocusOnUnmount",YP={bubbles:!1,cancelable:!0},iY="FocusScope",vN=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...c}=e,[d,f]=p.useState(null),m=An(s),h=An(l),g=p.useRef(null),v=tt(t,b=>f(b)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let b=function(E){if(y.paused||!d)return;const T=E.target;d.contains(T)?g.current=T:Ii(g.current,{select:!0})},w=function(E){if(y.paused||!d)return;const T=E.relatedTarget;T!==null&&(d.contains(T)||Ii(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const k of E)k.removedNodes.length>0&&Ii(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const A=new MutationObserver(C);return d&&A.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),A.disconnect()}}},[a,d,y.paused]),p.useEffect(()=>{if(d){XP.add(y);const b=document.activeElement;if(!d.contains(b)){const C=new CustomEvent(f0,YP);d.addEventListener(f0,m),d.dispatchEvent(C),C.defaultPrevented||(lY(fY(CD(d)),{select:!0}),document.activeElement===b&&Ii(d))}return()=>{d.removeEventListener(f0,m),setTimeout(()=>{const C=new CustomEvent(m0,YP);d.addEventListener(m0,h),d.dispatchEvent(C),C.defaultPrevented||Ii(b??document.body,{select:!0}),d.removeEventListener(m0,h),XP.remove(y)},0)}}},[d,m,h,y]);const N=p.useCallback(b=>{if(!r&&!a||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(w&&C){const A=b.currentTarget,[E,T]=oY(A);E&&T?!b.shiftKey&&C===T?(b.preventDefault(),r&&Ii(E,{select:!0})):b.shiftKey&&C===E&&(b.preventDefault(),r&&Ii(T,{select:!0})):C===A&&b.preventDefault()}},[r,a,y.paused]);return n.jsx(sY.div,{tabIndex:-1,...c,ref:v,onKeyDown:N})});vN.displayName=iY;function lY(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Ii(a,{select:t}),document.activeElement!==r)return}function oY(e){const t=CD(e),r=QP(t,e),a=QP(t.reverse(),e);return[r,a]}function CD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function QP(e,t){for(const r of e)if(!cY(r,{upTo:t}))return r}function cY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dY(e){return e instanceof HTMLInputElement&&"select"in e}function Ii(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dY(e)&&t&&e.select()}}var XP=uY();function uY(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=ZP(e,t),e.unshift(t)},remove(t){e=ZP(e,t),e[0]?.resume()}}}function ZP(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function fY(e){return e.filter(t=>t.tagName!=="A")}function ED(e){const t=mY(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(pY);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function mY(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=gY(s),d=xY(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hY=Symbol("radix.slottable");function pY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hY}function xY(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function gY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ra=vY.reduce((e,t)=>{const r=ED(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Ox(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jo=new WeakMap,ch=new WeakMap,dh={},h0=0,AD=function(e){return e&&(e.host||AD(e.parentNode))},bY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=AD(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},jY=function(e,t,r,a){var s=bY(t,Array.isArray(e)?e:[e]);dh[r]||(dh[r]=new WeakMap);var l=dh[r],c=[],d=new Set,f=new Set(s),m=function(g){!g||d.has(g)||(d.add(g),m(g.parentNode))};s.forEach(m);var h=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(v){if(d.has(v))h(v);else try{var y=v.getAttribute(a),N=y!==null&&y!=="false",b=(Jo.get(v)||0)+1,w=(l.get(v)||0)+1;Jo.set(v,b),l.set(v,w),c.push(v),b===1&&N&&ch.set(v,!0),w===1&&v.setAttribute(r,"true"),N||v.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return h(t),d.clear(),h0++,function(){c.forEach(function(g){var v=Jo.get(g)-1,y=l.get(g)-1;Jo.set(g,v),l.set(g,y),v||(ch.has(g)||g.removeAttribute(a),ch.delete(g)),y||g.removeAttribute(r)}),h0--,h0||(Jo=new WeakMap,Jo=new WeakMap,ch=new WeakMap,dh={})}},PD=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=yY(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),jY(a,s,r,"aria-hidden")):function(){return null}},Za=function(){return Za=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Za.apply(this,arguments)};function OD(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function wY(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,l;a<s;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}var Hh="right-scroll-bar-position",Vh="width-before-scroll-bar",NY="with-scroll-bars-hidden",SY="--removed-body-scroll-bar-size";function p0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CY(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var EY=typeof window<"u"?p.useLayoutEffect:p.useEffect,JP=new WeakMap;function AY(e,t){var r=CY(null,function(a){return e.forEach(function(s){return p0(s,a)})});return EY(function(){var a=JP.get(r);if(a){var s=new Set(a),l=new Set(e),c=r.current;s.forEach(function(d){l.has(d)||p0(d,null)}),l.forEach(function(d){s.has(d)||p0(d,c)})}JP.set(r,e)},[e]),r}function PY(e){return e}function OY(e,t){t===void 0&&(t=PY);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,a);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(a=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){a=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var h=c;c=[],h.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),r={push:function(h){c.push(h),m()},filter:function(h){return c=c.filter(h),r}}}};return s}function TY(e){e===void 0&&(e={});var t=OY(null);return t.options=Za({async:!0,ssr:!1},e),t}var TD=function(e){var t=e.sideCar,r=OD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Za({},r))};TD.isSideCarExport=!0;function kY(e,t){return e.useMedium(t),TD}var kD=TY(),x0=function(){},Tx=p.forwardRef(function(e,t){var r=p.useRef(null),a=p.useState({onScrollCapture:x0,onWheelCapture:x0,onTouchMoveCapture:x0}),s=a[0],l=a[1],c=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,h=e.enabled,g=e.shards,v=e.sideCar,y=e.noRelative,N=e.noIsolation,b=e.inert,w=e.allowPinchZoom,C=e.as,A=C===void 0?"div":C,E=e.gapMode,T=OD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,P=AY([r,t]),M=Za(Za({},T),s);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:kD,removeScrollBar:m,shards:g,noRelative:y,noIsolation:N,inert:b,setCallbacks:l,allowPinchZoom:!!w,lockRef:r,gapMode:E}),c?p.cloneElement(p.Children.only(d),Za(Za({},M),{ref:P})):p.createElement(A,Za({},M,{className:f,ref:P}),d))});Tx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tx.classNames={fullWidth:Vh,zeroRight:Hh};var _Y=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_Y();return t&&e.setAttribute("nonce",t),e}function MY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=RY())&&(MY(t,r),DY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IY=function(){var e=LY();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},_D=function(){var e=IY(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},$Y={left:0,top:0,right:0,gap:0},g0=function(e){return parseInt(e||"",10)||0},FY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[g0(r),g0(a),g0(s)]},zY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $Y;var t=FY(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},BY=_D(),mc="data-scroll-locked",UY=function(e,t,r,a){var s=e.left,l=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(NY,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(mc,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hh,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Vh,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Hh," .").concat(Hh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Vh," .").concat(Vh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(mc,`] {
    `).concat(SY,": ").concat(d,`px;
  }
`)},eO=function(){var e=parseInt(document.body.getAttribute(mc)||"0",10);return isFinite(e)?e:0},HY=function(){p.useEffect(function(){return document.body.setAttribute(mc,(eO()+1).toString()),function(){var e=eO()-1;e<=0?document.body.removeAttribute(mc):document.body.setAttribute(mc,e.toString())}},[])},VY=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;HY();var l=p.useMemo(function(){return zY(s)},[s]);return p.createElement(BY,{styles:UY(l,!t,s,r?"":"!important")})},Aj=!1;if(typeof window<"u")try{var uh=Object.defineProperty({},"passive",{get:function(){return Aj=!0,!0}});window.addEventListener("test",uh,uh),window.removeEventListener("test",uh,uh)}catch{Aj=!1}var ec=Aj?{passive:!1}:!1,qY=function(e){return e.tagName==="TEXTAREA"},RD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!qY(e)&&r[t]==="visible")},KY=function(e){return RD(e,"overflowY")},WY=function(e){return RD(e,"overflowX")},tO=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=MD(e,a);if(s){var l=DD(e,a),c=l[1],d=l[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},GY=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},YY=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},MD=function(e,t){return e==="v"?KY(t):WY(t)},DD=function(e,t){return e==="v"?GY(t):YY(t)},QY=function(e,t){return e==="h"&&t==="rtl"?-1:1},XY=function(e,t,r,a,s){var l=QY(e,window.getComputedStyle(t).direction),c=l*a,d=r.target,f=t.contains(d),m=!1,h=c>0,g=0,v=0;do{if(!d)break;var y=DD(e,d),N=y[0],b=y[1],w=y[2],C=b-w-l*N;(N||C)&&MD(e,d)&&(g+=C,v+=N);var A=d.parentNode;d=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(h&&Math.abs(g)<1||!h&&Math.abs(v)<1)&&(m=!0),m},fh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nO=function(e){return[e.deltaX,e.deltaY]},rO=function(e){return e&&"current"in e?e.current:e},ZY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eQ=0,tc=[];function tQ(e){var t=p.useRef([]),r=p.useRef([0,0]),a=p.useRef(),s=p.useState(eQ++)[0],l=p.useState(_D)[0],c=p.useRef(e);p.useEffect(function(){c.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var b=wY([e.lockRef.current],(e.shards||[]).map(rO),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var C=fh(b),A=r.current,E="deltaX"in b?b.deltaX:A[0]-C[0],T="deltaY"in b?b.deltaY:A[1]-C[1],k,P=b.target,M=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in b&&M==="h"&&P.type==="range")return!1;var I=tO(M,P);if(!I)return!0;if(I?k=M:(k=M==="v"?"h":"v",I=tO(M,P)),!I)return!1;if(!a.current&&"changedTouches"in b&&(E||T)&&(a.current=k),!k)return!0;var Q=a.current||k;return XY(Q,w,b,Q==="h"?E:T)},[]),f=p.useCallback(function(b){var w=b;if(!(!tc.length||tc[tc.length-1]!==l)){var C="deltaY"in w?nO(w):fh(w),A=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&ZY(k.delta,C)})[0];if(A&&A.should){w.cancelable&&w.preventDefault();return}if(!A){var E=(c.current.shards||[]).map(rO).filter(Boolean).filter(function(k){return k.contains(w.target)}),T=E.length>0?d(w,E[0]):!c.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),m=p.useCallback(function(b,w,C,A){var E={name:b,delta:w,target:C,should:A,shadowParent:nQ(C)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(T){return T!==E})},1)},[]),h=p.useCallback(function(b){r.current=fh(b),a.current=void 0},[]),g=p.useCallback(function(b){m(b.type,nO(b),b.target,d(b,e.lockRef.current))},[]),v=p.useCallback(function(b){m(b.type,fh(b),b.target,d(b,e.lockRef.current))},[]);p.useEffect(function(){return tc.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",f,ec),document.addEventListener("touchmove",f,ec),document.addEventListener("touchstart",h,ec),function(){tc=tc.filter(function(b){return b!==l}),document.removeEventListener("wheel",f,ec),document.removeEventListener("touchmove",f,ec),document.removeEventListener("touchstart",h,ec)}},[]);var y=e.removeScrollBar,N=e.inert;return p.createElement(p.Fragment,null,N?p.createElement(l,{styles:JY(s)}):null,y?p.createElement(VY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rQ=kY(kD,tQ);var yN=p.forwardRef(function(e,t){return p.createElement(Tx,Za({},e,{ref:t,sideCar:rQ}))});yN.classNames=Tx.classNames;var aQ=[" ","Enter","ArrowUp","ArrowDown"],sQ=[" ","Enter"],Zl="Select",[kx,_x,iQ]=tf(Zl),[Xc]=xr(Zl,[iQ,Cx]),Rx=Cx(),[lQ,sl]=Xc(Zl),[oQ,cQ]=Xc(Zl),LD=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:m,name:h,autoComplete:g,disabled:v,required:y,form:N}=e,b=Rx(t),[w,C]=p.useState(null),[A,E]=p.useState(null),[T,k]=p.useState(!1),P=Qc(m),[M,I]=ea({prop:a,defaultProp:s??!1,onChange:l,caller:Zl}),[Q,L]=ea({prop:c,defaultProp:d,onChange:f,caller:Zl}),_=p.useRef(null),q=w?N||!!w.closest("form"):!0,[ve,K]=p.useState(new Set),ee=Array.from(ve).map(B=>B.props.value).join(";");return n.jsx(YM,{...b,children:n.jsxs(lQ,{required:y,scope:t,trigger:w,onTriggerChange:C,valueNode:A,onValueNodeChange:E,valueNodeHasChildren:T,onValueNodeHasChildrenChange:k,contentId:$a(),value:Q,onValueChange:L,open:M,onOpenChange:I,dir:P,triggerPointerDownPosRef:_,disabled:v,children:[n.jsx(kx.Provider,{scope:t,children:n.jsx(oQ,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(B=>{K(X=>new Set(X).add(B))},[]),onNativeOptionRemove:p.useCallback(B=>{K(X=>{const $=new Set(X);return $.delete(B),$})},[]),children:r})}),q?n.jsxs(i5,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:g,value:Q,onChange:B=>L(B.target.value),disabled:v,form:N,children:[Q===void 0?n.jsx("option",{value:""}):null,Array.from(ve)]},ee):null]})})};LD.displayName=Zl;var ID="SelectTrigger",$D=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,l=Rx(r),c=sl(ID,r),d=c.disabled||a,f=tt(t,c.onTriggerChange),m=_x(r),h=p.useRef("touch"),[g,v,y]=o5(b=>{const w=m().filter(E=>!E.disabled),C=w.find(E=>E.value===c.value),A=c5(w,b,C);A!==void 0&&c.onValueChange(A.value)}),N=b=>{d||(c.onOpenChange(!0),y()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return n.jsx(QM,{asChild:!0,...l,children:n.jsx(ra.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":l5(c.value)?"":void 0,...s,ref:f,onClick:ze(s.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&N(b)}),onPointerDown:ze(s.onPointerDown,b=>{h.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:ze(s.onKeyDown,b=>{const w=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(w&&b.key===" ")&&aQ.includes(b.key)&&(N(),b.preventDefault())})})})});$D.displayName=ID;var FD="SelectValue",zD=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:l,placeholder:c="",...d}=e,f=sl(FD,r),{onValueNodeHasChildrenChange:m}=f,h=l!==void 0,g=tt(t,f.onValueNodeChange);return un(()=>{m(h)},[m,h]),n.jsx(ra.span,{...d,ref:g,style:{pointerEvents:"none"},children:l5(f.value)?n.jsx(n.Fragment,{children:c}):l})});zD.displayName=FD;var dQ="SelectIcon",BD=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(ra.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});BD.displayName=dQ;var uQ="SelectPortal",UD=e=>n.jsx(xx,{asChild:!0,...e});UD.displayName=uQ;var Jl="SelectContent",HD=p.forwardRef((e,t)=>{const r=sl(Jl,e.__scopeSelect),[a,s]=p.useState();if(un(()=>{s(new DocumentFragment)},[]),!r.open){const l=a;return l?os.createPortal(n.jsx(VD,{scope:e.__scopeSelect,children:n.jsx(kx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),l):null}return n.jsx(qD,{...e,ref:t})});HD.displayName=Jl;var Ma=10,[VD,il]=Xc(Jl),fQ="SelectContentImpl",mQ=ED("SelectContent.RemoveScroll"),qD=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:N,hideWhenDetached:b,avoidCollisions:w,...C}=e,A=sl(Jl,r),[E,T]=p.useState(null),[k,P]=p.useState(null),M=tt(t,F=>T(F)),[I,Q]=p.useState(null),[L,_]=p.useState(null),q=_x(r),[ve,K]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(E)return PD(E)},[E]),SD();const B=p.useCallback(F=>{const[Ee,...ne]=q().map(xe=>xe.ref.current),[Ae]=ne.slice(-1),$e=document.activeElement;for(const xe of F)if(xe===$e||(xe?.scrollIntoView({block:"nearest"}),xe===Ee&&k&&(k.scrollTop=0),xe===Ae&&k&&(k.scrollTop=k.scrollHeight),xe?.focus(),document.activeElement!==$e))return},[q,k]),X=p.useCallback(()=>B([I,E]),[B,I,E]);p.useEffect(()=>{ve&&X()},[ve,X]);const{onOpenChange:$,triggerPointerDownPosRef:fe}=A;p.useEffect(()=>{if(E){let F={x:0,y:0};const Ee=Ae=>{F={x:Math.abs(Math.round(Ae.pageX)-(fe.current?.x??0)),y:Math.abs(Math.round(Ae.pageY)-(fe.current?.y??0))}},ne=Ae=>{F.x<=10&&F.y<=10?Ae.preventDefault():E.contains(Ae.target)||$(!1),document.removeEventListener("pointermove",Ee),fe.current=null};return fe.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",ne,{capture:!0})}}},[E,$,fe]),p.useEffect(()=>{const F=()=>$(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[$]);const[pe,R]=o5(F=>{const Ee=q().filter($e=>!$e.disabled),ne=Ee.find($e=>$e.ref.current===document.activeElement),Ae=c5(Ee,F,ne);Ae&&setTimeout(()=>Ae.ref.current.focus())}),te=p.useCallback((F,Ee,ne)=>{const Ae=!ee.current&&!ne;(A.value!==void 0&&A.value===Ee||Ae)&&(Q(F),Ae&&(ee.current=!0))},[A.value]),me=p.useCallback(()=>E?.focus(),[E]),we=p.useCallback((F,Ee,ne)=>{const Ae=!ee.current&&!ne;(A.value!==void 0&&A.value===Ee||Ae)&&_(F)},[A.value]),ae=a==="popper"?Pj:KD,Le=ae===Pj?{side:d,sideOffset:f,align:m,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:N,hideWhenDetached:b,avoidCollisions:w}:{};return n.jsx(VD,{scope:r,content:E,viewport:k,onViewportChange:P,itemRefCallback:te,selectedItem:I,onItemLeave:me,itemTextRefCallback:we,focusSelectedItem:X,selectedItemText:L,position:a,isPositioned:ve,searchRef:pe,children:n.jsx(yN,{as:mQ,allowPinchZoom:!0,children:n.jsx(vN,{asChild:!0,trapped:A.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:ze(s,F=>{A.trigger?.focus({preventScroll:!0}),F.preventDefault()}),children:n.jsx(nf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:n.jsx(ae,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:F=>F.preventDefault(),...C,...Le,onPlaced:()=>K(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:ze(C.onKeyDown,F=>{const Ee=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!Ee&&F.key.length===1&&R(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let Ae=q().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(F.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const $e=F.target,xe=Ae.indexOf($e);Ae=Ae.slice(xe+1)}setTimeout(()=>B(Ae)),F.preventDefault()}})})})})})})});qD.displayName=fQ;var hQ="SelectItemAlignedPosition",KD=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,l=sl(Jl,r),c=il(Jl,r),[d,f]=p.useState(null),[m,h]=p.useState(null),g=tt(t,M=>h(M)),v=_x(r),y=p.useRef(!1),N=p.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:C,focusSelectedItem:A}=c,E=p.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&b&&w&&C){const M=l.trigger.getBoundingClientRect(),I=m.getBoundingClientRect(),Q=l.valueNode.getBoundingClientRect(),L=C.getBoundingClientRect();if(l.dir!=="rtl"){const $e=L.left-I.left,xe=Q.left-$e,nt=M.left-xe,Ge=M.width+nt,Lt=Math.max(Ge,I.width),kt=window.innerWidth-Ma,Z=Ru(xe,[Ma,Math.max(Ma,kt-Lt)]);d.style.minWidth=Ge+"px",d.style.left=Z+"px"}else{const $e=I.right-L.right,xe=window.innerWidth-Q.right-$e,nt=window.innerWidth-M.right-xe,Ge=M.width+nt,Lt=Math.max(Ge,I.width),kt=window.innerWidth-Ma,Z=Ru(xe,[Ma,Math.max(Ma,kt-Lt)]);d.style.minWidth=Ge+"px",d.style.right=Z+"px"}const _=v(),q=window.innerHeight-Ma*2,ve=b.scrollHeight,K=window.getComputedStyle(m),ee=parseInt(K.borderTopWidth,10),B=parseInt(K.paddingTop,10),X=parseInt(K.borderBottomWidth,10),$=parseInt(K.paddingBottom,10),fe=ee+B+ve+$+X,pe=Math.min(w.offsetHeight*5,fe),R=window.getComputedStyle(b),te=parseInt(R.paddingTop,10),me=parseInt(R.paddingBottom,10),we=M.top+M.height/2-Ma,ae=q-we,Le=w.offsetHeight/2,F=w.offsetTop+Le,Ee=ee+B+F,ne=fe-Ee;if(Ee<=we){const $e=_.length>0&&w===_[_.length-1].ref.current;d.style.bottom="0px";const xe=m.clientHeight-b.offsetTop-b.offsetHeight,nt=Math.max(ae,Le+($e?me:0)+xe+X),Ge=Ee+nt;d.style.height=Ge+"px"}else{const $e=_.length>0&&w===_[0].ref.current;d.style.top="0px";const nt=Math.max(we,ee+b.offsetTop+($e?te:0)+Le)+ne;d.style.height=nt+"px",b.scrollTop=Ee-we+b.offsetTop}d.style.margin=`${Ma}px 0`,d.style.minHeight=pe+"px",d.style.maxHeight=q+"px",a?.(),requestAnimationFrame(()=>y.current=!0)}},[v,l.trigger,l.valueNode,d,m,b,w,C,l.dir,a]);un(()=>E(),[E]);const[T,k]=p.useState();un(()=>{m&&k(window.getComputedStyle(m).zIndex)},[m]);const P=p.useCallback(M=>{M&&N.current===!0&&(E(),A?.(),N.current=!1)},[E,A]);return n.jsx(xQ,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:n.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:n.jsx(ra.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});KD.displayName=hQ;var pQ="SelectPopperPosition",Pj=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=Ma,...l}=e,c=Rx(r);return n.jsx(XM,{...c,...l,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pj.displayName=pQ;var[xQ,bN]=Xc(Jl,{}),Oj="SelectViewport",WD=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,l=il(Oj,r),c=bN(Oj,r),d=tt(t,l.onViewportChange),f=p.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(kx.Slot,{scope:r,children:n.jsx(ra.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,m=>{const h=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v?.current&&g){const y=Math.abs(f.current-h.scrollTop);if(y>0){const N=window.innerHeight-Ma*2,b=parseFloat(g.style.minHeight),w=parseFloat(g.style.height),C=Math.max(b,w);if(C<N){const A=C+y,E=Math.min(N,A),T=A-E;g.style.height=E+"px",g.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,g.style.justifyContent="flex-end")}}}f.current=h.scrollTop})})})]})});WD.displayName=Oj;var GD="SelectGroup",[gQ,vQ]=Xc(GD),yQ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=$a();return n.jsx(gQ,{scope:r,id:s,children:n.jsx(ra.div,{role:"group","aria-labelledby":s,...a,ref:t})})});yQ.displayName=GD;var YD="SelectLabel",QD=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=vQ(YD,r);return n.jsx(ra.div,{id:s.id,...a,ref:t})});QD.displayName=YD;var pp="SelectItem",[bQ,XD]=Xc(pp),ZD=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:l,...c}=e,d=sl(pp,r),f=il(pp,r),m=d.value===a,[h,g]=p.useState(l??""),[v,y]=p.useState(!1),N=tt(t,A=>f.itemRefCallback?.(A,a,s)),b=$a(),w=p.useRef("touch"),C=()=>{s||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(bQ,{scope:r,value:a,disabled:s,textId:b,isSelected:m,onItemTextChange:p.useCallback(A=>{g(E=>E||(A?.textContent??"").trim())},[]),children:n.jsx(kx.ItemSlot,{scope:r,value:a,disabled:s,textValue:h,children:n.jsx(ra.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:N,onFocus:ze(c.onFocus,()=>y(!0)),onBlur:ze(c.onBlur,()=>y(!1)),onClick:ze(c.onClick,()=>{w.current!=="mouse"&&C()}),onPointerUp:ze(c.onPointerUp,()=>{w.current==="mouse"&&C()}),onPointerDown:ze(c.onPointerDown,A=>{w.current=A.pointerType}),onPointerMove:ze(c.onPointerMove,A=>{w.current=A.pointerType,s?f.onItemLeave?.():w.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(c.onPointerLeave,A=>{A.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:ze(c.onKeyDown,A=>{f.searchRef?.current!==""&&A.key===" "||(sQ.includes(A.key)&&C(),A.key===" "&&A.preventDefault())})})})})});ZD.displayName=pp;var hu="SelectItemText",JD=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...l}=e,c=sl(hu,r),d=il(hu,r),f=XD(hu,r),m=cQ(hu,r),[h,g]=p.useState(null),v=tt(t,C=>g(C),f.onItemTextChange,C=>d.itemTextRefCallback?.(C,f.value,f.disabled)),y=h?.textContent,N=p.useMemo(()=>n.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=m;return un(()=>(b(N),()=>w(N)),[b,w,N]),n.jsxs(n.Fragment,{children:[n.jsx(ra.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?os.createPortal(l.children,c.valueNode):null]})});JD.displayName=hu;var e5="SelectItemIndicator",t5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return XD(e5,r).isSelected?n.jsx(ra.span,{"aria-hidden":!0,...a,ref:t}):null});t5.displayName=e5;var Tj="SelectScrollUpButton",n5=p.forwardRef((e,t)=>{const r=il(Tj,e.__scopeSelect),a=bN(Tj,e.__scopeSelect),[s,l]=p.useState(!1),c=tt(t,a.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),s?n.jsx(a5,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});n5.displayName=Tj;var kj="SelectScrollDownButton",r5=p.forwardRef((e,t)=>{const r=il(kj,e.__scopeSelect),a=bN(kj,e.__scopeSelect),[s,l]=p.useState(!1),c=tt(t,a.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,h=Math.ceil(f.scrollTop)<m;l(h)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),s?n.jsx(a5,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});r5.displayName=kj;var a5=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,l=il("SelectScrollButton",r),c=p.useRef(null),d=_x(r),f=p.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return p.useEffect(()=>()=>f(),[f]),un(()=>{d().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),n.jsx(ra.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:ze(s.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{f()})})}),jQ="SelectSeparator",s5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(ra.div,{"aria-hidden":!0,...a,ref:t})});s5.displayName=jQ;var _j="SelectArrow",wQ=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=Rx(r),l=sl(_j,r),c=il(_j,r);return l.open&&c.position==="popper"?n.jsx(ZM,{...s,...a,ref:t}):null});wQ.displayName=_j;var NQ="SelectBubbleInput",i5=p.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const s=p.useRef(null),l=tt(a,s),c=Ox(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&h){const g=new Event("change",{bubbles:!0});h.call(d,t),d.dispatchEvent(g)}},[c,t]),n.jsx(ra.select,{...r,style:{...k4,...r.style},ref:l,defaultValue:t})});i5.displayName=NQ;function l5(e){return e===""||e===void 0}function o5(e){const t=An(e),r=p.useRef(""),a=p.useRef(0),s=p.useCallback(c=>{const d=r.current+c;t(d),(function f(m){r.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=p.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,l]}function c5(e,t,r){const s=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=SQ(e,Math.max(l,0));s.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function SQ(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var CQ=LD,d5=$D,EQ=zD,AQ=BD,PQ=UD,u5=HD,OQ=WD,f5=QD,m5=ZD,TQ=JD,kQ=t5,h5=n5,p5=r5,x5=s5;const ct=CQ,dt=EQ,st=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(d5,{ref:a,className:De("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(AQ,{asChild:!0,children:n.jsx(Hc,{className:"h-4 w-4 opacity-50"})})]}));st.displayName=d5.displayName;const g5=p.forwardRef(({className:e,...t},r)=>n.jsx(h5,{ref:r,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(eM,{className:"h-4 w-4"})}));g5.displayName=h5.displayName;const v5=p.forwardRef(({className:e,...t},r)=>n.jsx(p5,{ref:r,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Hc,{className:"h-4 w-4"})}));v5.displayName=p5.displayName;const it=p.forwardRef(({className:e,children:t,position:r="popper",...a},s)=>n.jsx(PQ,{children:n.jsxs(u5,{ref:s,style:{backgroundColor:"hsl(220, 13%, 20%)"},className:De("relative z-[9999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(g5,{}),n.jsx(OQ,{className:De("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(v5,{})]})}));it.displayName=u5.displayName;const _Q=p.forwardRef(({className:e,...t},r)=>n.jsx(f5,{ref:r,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_Q.displayName=f5.displayName;const ye=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(m5,{ref:a,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(kQ,{children:n.jsx(J4,{className:"h-4 w-4"})})}),n.jsx(TQ,{children:t})]}));ye.displayName=m5.displayName;const RQ=p.forwardRef(({className:e,...t},r)=>n.jsx(x5,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));RQ.displayName=x5.displayName;const ht=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:De("w-full caption-bottom text-sm",e),...t})}));ht.displayName="Table";const pt=p.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:De("[&_tr]:border-b",e),...t}));pt.displayName="TableHeader";const xt=p.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:De("[&_tr:last-child]:border-0",e),...t}));xt.displayName="TableBody";const MQ=p.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:De("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));MQ.displayName="TableFooter";const Pe=p.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:De("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pe.displayName="TableRow";const V=p.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:De("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));V.displayName="TableHead";const U=p.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:De("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));U.displayName="TableCell";const DQ=p.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:De("mt-4 text-sm text-muted-foreground",e),...t}));DQ.displayName="TableCaption";const LQ=["ALL","GUEST","ADVENTURER","PLAYER","INVESTOR","EXTRACTOR","UNKNOWN"],IQ=["ALL","0","1","2","3","4"],v0={0:"Common",1:"Uncommon",2:"Rare",3:"Legendary",4:"Mythic"},$Q={0:"bg-gray-400 text-white",1:"bg-green-500 text-white",2:"bg-blue-500 text-white",3:"bg-purple-500 text-white",4:"bg-orange-500 text-white"};function FQ(){const{toast:e}=an(),[t,r]=p.useState(""),[a,s]=p.useState("ALL"),[l,c]=p.useState("ALL"),[d,f]=p.useState("discordUsername"),[m,h]=p.useState("asc"),[,g]=Va(),{data:v,isLoading:y,refetch:N,isRefetching:b}=Re({queryKey:["/api/admin/users"]}),w=Oe({mutationFn:async({userId:L,tier:_})=>Ie(`/api/admin/users/${L}/tier`,{method:"PATCH",body:JSON.stringify({tier:_})}),onSuccess:()=>{e({title:"Success",description:"User tier updated"}),Me.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{e({title:"Error",description:"Failed to update tier",variant:"destructive"})}});Oe({mutationFn:async L=>Ie(`/api/admin/users/${L}/refresh-snapshot`,{method:"POST"}),onSuccess:(L,_)=>{e({title:"Snapshot refreshed",description:"User snapshot updated."}),Me.invalidateQueries({queryKey:["/api/admin/users"]}),Me.invalidateQueries({queryKey:[`/api/admin/users/${_}/profile`]})},onError:()=>{e({title:"Error",description:"Failed to refresh snapshot",variant:"destructive"})}});const A=(v?.users??[]).filter(L=>{if(t){const _=t.toLowerCase();if(!L.discordUsername.toLowerCase().includes(_)&&!L.discordId.includes(_)&&!L.walletAddress?.toLowerCase().includes(_))return!1}return!(a!=="ALL"&&L.archetype!==a||l!=="ALL"&&L.tier!==parseInt(l))}).sort((L,_)=>{let q=0;return d==="discordUsername"?q=L.discordUsername.localeCompare(_.discordUsername):d==="tier"&&(q=L.tier-_.tier),m==="asc"?q:-q}),E=L=>{d===L?h(m==="asc"?"desc":"asc"):(f(L),h("asc"))},T=({field:L})=>d!==L?null:m==="asc"?n.jsx(eM,{className:"w-4 h-4"}):n.jsx(Hc,{className:"w-4 h-4"}),k=L=>{switch(L){case"INVESTOR":return"default";case"PLAYER":return"secondary";case"ADVENTURER":return"outline";case"EXTRACTOR":return"destructive";default:return"outline"}},P=L=>{switch(L){case"PROGRESSION_GAMER":return"secondary";case"INVESTOR_GROWTH":return"default";case"INVESTOR_EXTRACTOR":return"destructive";case"SOCIAL_COMMUNITY":return"outline";case"NEW_EXPLORER":return"outline";default:return"outline"}},M=L=>L?{PROGRESSION_GAMER:"Gamer",INVESTOR_GROWTH:"Growth",INVESTOR_EXTRACTOR:"Extractor",SOCIAL_COMMUNITY:"Social",NEW_EXPLORER:"New"}[L]||L:null,I=L=>$Q[L??0]||"bg-gray-400 text-white",Q=async(L,_)=>{_&&_.stopPropagation();try{await navigator.clipboard.writeText(L),e({title:"Copied!",description:"Wallet address copied to clipboard"})}catch{e({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}};return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-users-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage player profiles, tiers, and classifications"})]}),n.jsxs(se,{onClick:()=>N(),variant:"outline",disabled:b,"data-testid":"button-refresh-users",children:[n.jsx(et,{className:`w-4 h-4 mr-2 ${b?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-3",children:n.jsx(oe,{className:"text-base",children:"Filters"})}),n.jsx(J,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Qe,{placeholder:"Search by username, Discord ID, or wallet...",value:t,onChange:L=>r(L.target.value),className:"pl-9","data-testid":"input-search-users"})]})}),n.jsxs(ct,{value:a,onValueChange:s,children:[n.jsx(st,{className:"w-[150px]","data-testid":"select-archetype-filter",children:n.jsx(dt,{placeholder:"Archetype"})}),n.jsx(it,{children:LQ.map(L=>n.jsx(ye,{value:L,children:L==="ALL"?"All Archetypes":L},L))})]}),n.jsxs(ct,{value:l,onValueChange:c,children:[n.jsx(st,{className:"w-[120px]","data-testid":"select-tier-filter",children:n.jsx(dt,{placeholder:"Tier"})}),n.jsx(it,{children:IQ.map(L=>n.jsx(ye,{value:L,children:L==="ALL"?"All Tiers":v0[L]},L))})]})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{children:["Players (",A.length,")"]}),n.jsx(Se,{children:"Click on a user row to view detailed profile"})]}),n.jsx(J,{children:y?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((L,_)=>n.jsx(Te,{className:"h-12 w-full"},_))}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"cursor-pointer select-none",onClick:()=>E("discordUsername"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Discord",n.jsx(T,{field:"discordUsername"})]})}),n.jsx(V,{children:"Wallet"}),n.jsx(V,{children:"Archetype"}),n.jsx(V,{children:"Intent"}),n.jsx(V,{className:"cursor-pointer select-none",onClick:()=>E("tier"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Tier",n.jsx(T,{field:"tier"})]})}),n.jsx(V,{children:"State"}),n.jsx(V,{children:"Flags"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(xt,{children:A.length===0?n.jsx(Pe,{children:n.jsx(U,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No users found matching your filters"})}):A.map(L=>n.jsxs(Pe,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-user-${L.id}`,onClick:()=>g(`/admin/users/${L.discordId}/dashboard`),children:[n.jsx(U,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:L.discordUsername}),n.jsx("div",{className:"text-xs text-muted-foreground",children:L.discordId})]})}),n.jsx(U,{children:L.walletAddress?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("span",{className:"font-mono text-xs",children:[L.walletAddress.slice(0,6),"...",L.walletAddress.slice(-4)]}),n.jsx(se,{size:"icon",variant:"ghost",onClick:_=>Q(L.walletAddress,_),"data-testid":`button-copy-wallet-${L.id}`,children:n.jsx(lp,{className:"h-4 w-4"})})]}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"Not linked"})}),n.jsx(U,{children:n.jsx(W,{variant:k(L.archetype),children:L.archetype})}),n.jsx(U,{children:L.intentArchetype?n.jsx(W,{variant:P(L.intentArchetype),children:M(L.intentArchetype)}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"--"})}),n.jsx(U,{children:n.jsx(W,{className:I(L.tier??0),children:v0[L.tier??0]})}),n.jsx(U,{children:n.jsx("span",{className:"text-sm",children:L.state})}),n.jsx(U,{children:n.jsxs("div",{className:"flex gap-1 flex-wrap",children:[L.flags?.isWhale&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Whale"}),L.flags?.isExtractor&&n.jsx(W,{variant:"destructive",className:"text-xs",children:"Extractor"}),L.flags?.isHighPotential&&n.jsx(W,{variant:"default",className:"text-xs",children:"High Pot."})]})}),n.jsx(U,{children:n.jsxs(ct,{value:(L.tier??0).toString(),onValueChange:_=>{w.mutate({userId:L.id,tier:parseInt(_)})},children:[n.jsx(st,{className:"w-[100px] h-8","data-testid":`select-tier-${L.id}`,children:n.jsx(dt,{})}),n.jsx(it,{children:[0,1,2,3,4].map(_=>n.jsx(ye,{value:_.toString(),children:v0[_]},_))})]})})]},L.id))})]})})})]})]})}function zQ(){const{userId:e}=Ju(),[t,r]=p.useState(!1),{data:a,isLoading:s,error:l}=Re({queryKey:[`/api/admin/users/${e}/profile`]});if(s)return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(Te,{className:"h-12 w-64"}),n.jsx(Te,{className:"h-96"})]});if(l||!a)return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsx(Kl,{href:"/admin/users",children:n.jsx(se,{variant:"ghost",size:"icon",children:n.jsx(Wi,{className:"h-4 w-4"})})}),n.jsx("div",{className:"mt-4 text-red-500",children:"Failed to load user profile"})]});const c=a.createdAt?new Date(a.createdAt).toISOString().split("T")[0]:"N/A";async function d(){try{r(!0);const f=await fetch(`/api/admin/users/${e}/refresh-snapshot`,{method:"POST"});if(!f.ok){const m=await f.json().catch(()=>({}));throw new Error(m.error||"Failed to refresh snapshot")}Me.invalidateQueries({queryKey:[`/api/admin/users/${e}/profile`]}),alert("Snapshot refreshed successfully.")}catch(f){console.error("Snapshot refresh failed:",f.message),alert("Failed to refresh snapshot.")}finally{r(!1)}}return n.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"user-profile-container",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Kl,{href:"/admin/users",children:n.jsx(se,{variant:"ghost",size:"icon","data-testid":"button-back",children:n.jsx(Wi,{className:"h-4 w-4"})})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold","data-testid":"profile-title",children:[a.discordUsername,"'s Account"]}),n.jsxs("p",{className:"text-muted-foreground","data-testid":"profile-subtitle",children:["User ID: ",a.discordId]})]})]}),n.jsxs(Y,{"data-testid":"card-profile",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Your Hedge Ledger Account"}),n.jsx(Se,{children:"Admin view of user account dashboard"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Profile"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Discord:"})," ",a.discordUsername]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Tier:"})," ",n.jsx(W,{children:a.tier})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total queries:"})," ",a.totalQueries]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Member since:"})," ",c]})]})]}),n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"Wallets"}),a.wallets&&a.wallets.length>0?n.jsxs("div",{className:"space-y-2",children:[a.wallets.slice(0,5).map((f,m)=>{const h=`${f.address.slice(0,6)}${f.address.slice(-4)}`,g=f.verified?" Verified":" Not verified";return n.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[n.jsxs("div",{children:[m+1,"."," ",n.jsx("code",{className:"text-xs",children:h})," ","(",f.chain,")  ",g]}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1 break-all",children:f.address})]},f.id)}),a.wallets.length>5&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ ",a.wallets.length-5," more wallets"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"No wallets linked yet."})]}),n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-sm uppercase text-muted-foreground",children:"LP Positions"}),a.lpPositions&&a.lpPositions.length>0?n.jsxs("div",{className:"space-y-3",children:[a.lpPositions.slice(0,5).map(f=>n.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[n.jsxs("div",{className:"font-medium",children:[f.poolName," (",f.chain,")"]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[" ",f.lpAmount," LP",n.jsx("br",{})," 24h APR (with quests): ",f.apr24h,"%"]})]},f.id)),a.lpPositions.length>5&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ ",a.lpPositions.length-5," more LP positions"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"No LP positions detected yet."})]}),n.jsxs("div",{className:"border-t pt-4 space-y-4",children:[n.jsx(se,{className:"w-full",variant:"default","data-testid":"button-view-dashboard",onClick:()=>window.open(`${window.location.origin}/account?userId=${a.discordId}`,"_blank"),children:"View User Dashboard"}),n.jsx(se,{className:"w-full",variant:"secondary",onClick:d,disabled:t,children:t?"Refreshing snapshot...":"Refresh Snapshot (Admin)"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Early Access  features and on-chain automation are still being rolled out."})]})]})]})]})}function BQ(e){const t=UQ(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(VQ);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function UQ(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=KQ(s),d=qQ(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HQ=Symbol("radix.slottable");function VQ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HQ}function qQ(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function KQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var WQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],y5=WQ.reduce((e,t)=>{const r=BQ(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Mx="Switch",[GQ]=xr(Mx),[YQ,QQ]=GQ(Mx),b5=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:m,form:h,...g}=e,[v,y]=p.useState(null),N=tt(t,E=>y(E)),b=p.useRef(!1),w=v?h||!!v.closest("form"):!0,[C,A]=ea({prop:s,defaultProp:l??!1,onChange:m,caller:Mx});return n.jsxs(YQ,{scope:r,checked:C,disabled:d,children:[n.jsx(y5.button,{type:"button",role:"switch","aria-checked":C,"aria-required":c,"data-state":S5(C),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:N,onClick:ze(e.onClick,E=>{A(T=>!T),w&&(b.current=E.isPropagationStopped(),b.current||E.stopPropagation())})}),w&&n.jsx(N5,{control:v,bubbles:!b.current,name:a,value:f,checked:C,required:c,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});b5.displayName=Mx;var j5="SwitchThumb",w5=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=QQ(j5,r);return n.jsx(y5.span,{"data-state":S5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});w5.displayName=j5;var XQ="SwitchBubbleInput",N5=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...s},l)=>{const c=p.useRef(null),d=tt(c,l),f=Ox(r),m=Sx(t);return p.useEffect(()=>{const h=c.current;if(!h)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&y){const N=new Event("click",{bubbles:a});y.call(h,r),h.dispatchEvent(N)}},[f,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:d,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});N5.displayName=XQ;function S5(e){return e?"checked":"unchecked"}var C5=b5,ZQ=w5;const Yr=p.forwardRef(({className:e,...t},r)=>n.jsx(C5,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(ZQ,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yr.displayName=C5.displayName;var JQ="Separator",aO="horizontal",eX=["horizontal","vertical"],E5=p.forwardRef((e,t)=>{const{decorative:r,orientation:a=aO,...s}=e,l=tX(a)?a:aO,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return n.jsx(co.div,{"data-orientation":l,...d,...s,ref:t})});E5.displayName=JQ;function tX(e){return eX.includes(e)}var A5=E5;const Dn=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},s)=>n.jsx(A5,{ref:s,decorative:r,orientation:t,className:De("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Dn.displayName=A5.displayName;function mh(e){if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toLocaleString()}function y0(e){return(typeof e=="number"&&isFinite(e)?e:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function sO(e,t=2){if(e==null||e==="")return 0 .toFixed(t);const r=typeof e=="number"?e:parseFloat(String(e));return isFinite(r)?r.toFixed(t):0 .toFixed(t)}function nX(){const{discordId:e}=Ju(),{toast:t}=an();console.log("[UserDashboard] Component mounted, discordId:",e);const{data:r,isLoading:a,error:s}=Re({queryKey:["/api/user/summary",e],enabled:!!e}),l=r?.user,c=Oe({mutationFn:async b=>{if(!e)throw new Error("Missing discordId");const w=await fetch(`/api/user/settings/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)});if(!w.ok){const C=await w.json().catch(()=>({}));throw new Error(C.error||"Failed to update settings")}return await w.json()},onMutate:async b=>{await Me.cancelQueries({queryKey:["/api/user/summary",e]});const w=Me.getQueryData(["/api/user/summary",e]);return w?.user&&Me.setQueryData(["/api/user/summary",e],{...w,user:{...w.user,userSettings:{...w.user.userSettings,...b}}}),{previous:w}},onError:(b,w,C)=>{C?.previous&&Me.setQueryData(["/api/user/summary",e],C.previous),t({title:"Failed to save settings",description:b.message,variant:"destructive"})},onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"Settings updated"})}}),d=p.useMemo(()=>{switch(l?.archetype){case"INVESTOR":return"default";case"PLAYER":return"secondary";case"ADVENTURER":return"outline";case"EXTRACTOR":return"destructive";default:return"outline"}},[l?.archetype]),f=b=>{switch(b){case"PROGRESSION_GAMER":return"secondary";case"INVESTOR_GROWTH":return"default";case"INVESTOR_EXTRACTOR":return"destructive";case"SOCIAL_COMMUNITY":return"outline";case"NEW_EXPLORER":return"outline";default:return"outline"}},m=b=>b?{PROGRESSION_GAMER:"Progression Gamer",INVESTOR_GROWTH:"Growth Investor",INVESTOR_EXTRACTOR:"Extractor",SOCIAL_COMMUNITY:"Social/Community",NEW_EXPLORER:"New Explorer"}[b]||b:null,h=async()=>{l?.walletAddress&&(await navigator.clipboard.writeText(l.walletAddress),t({title:"Wallet copied"}))},g=(b,w)=>{c.mutate({[b]:w})},v=Oe({mutationFn:async()=>{if(!l?.id)throw new Error("No user ID");return Ie("POST",`/api/admin/users/${l.id}/refresh-snapshot`)},onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"Snapshot refreshed",description:"DFK data has been updated."})},onError:b=>{t({title:"Failed to refresh snapshot",description:b.message,variant:"destructive"})}}),y=Oe({mutationFn:async()=>{if(!l?.id)throw new Error("No user ID");return Ie("POST",`/api/admin/users/${l.id}/reclassify`)},onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/user/summary",e]}),t({title:"User reclassified",description:"Intent classification has been updated."})},onError:b=>{t({title:"Failed to reclassify user",description:b.message,variant:"destructive"})}});if(a)return n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx(Te,{className:"h-9 w-64"}),n.jsx(Te,{className:"h-40"}),n.jsx(Te,{className:"h-40"})]});if(s||!l)return n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx(Kl,{href:"/admin/users",children:n.jsx(se,{variant:"ghost",size:"icon",children:n.jsx(Wi,{className:"h-4 w-4"})})}),n.jsx(Y,{children:n.jsxs(ie,{children:[n.jsx(oe,{children:"Error loading user"}),n.jsx(Se,{children:"Unable to load user dashboard. Please return to the Users list."})]})})]});const N=l.dfkSnapshot;return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-user-dashboard",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kl,{href:"/admin/users",children:n.jsx(se,{variant:"ghost",size:"icon",children:n.jsx(Wi,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"text-2xl font-bold",children:l.discordUsername}),n.jsxs("p",{className:"text-muted-foreground text-sm",children:["Discord ID: ",l.discordId]})]}),n.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n.jsx(W,{variant:d,children:l.archetype}),l.intentArchetype&&n.jsx(W,{variant:f(l.intentArchetype),children:m(l.intentArchetype)}),n.jsxs(W,{className:"bg-blue-600 text-white",children:["Tier ",l.tier??0]}),n.jsx(W,{variant:"outline",children:l.state})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Account Overview"}),n.jsx(Se,{children:"Wallet and profile snapshot powered by stored data (no live on-chain calls)."})]}),l.lastUpdatedAt&&n.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(et,{className:"h-4 w-4"}),"Updated ",mh(l.lastUpdatedAt)]})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Linked Wallets"}),l.linkedWallets&&l.linkedWallets.length>0?n.jsx("div",{className:"space-y-2",children:l.linkedWallets.map((b,w)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap","data-testid":`wallet-row-${w}`,children:[n.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[b.address.slice(0,6),"...",b.address.slice(-4)]}),b.isPrimary&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"PRIMARY"}),n.jsx(W,{variant:b.isVerified?"default":"outline",className:"text-xs",children:b.isVerified?"VERIFIED":"NOT VERIFIED"}),n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(b.address).then(()=>{t({title:"Wallet copied",description:b.address})}).catch(()=>{t({title:"Copy failed",variant:"destructive"})})},"data-testid":`button-copy-wallet-${w}`,children:n.jsx(lp,{className:"h-4 w-4"})})]},b.address))}):l.walletAddress?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:[l.walletAddress.slice(0,6),"...",l.walletAddress.slice(-4)]}),n.jsx(W,{variant:"outline",className:"text-xs",children:"NOT VERIFIED"}),n.jsx(se,{size:"icon",variant:"ghost",onClick:h,children:n.jsx(lp,{className:"h-4 w-4"})})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No wallets linked"})]}),n.jsx(Dn,{}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Flags"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(l.flags||{}).filter(([,b])=>b).length===0&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"None"}),Object.entries(l.flags||{}).filter(([,b])=>b).map(([b])=>n.jsx(W,{variant:"secondary",className:"text-xs",children:b},b))]})]}),n.jsx(Dn,{orientation:"vertical",className:"h-10"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Behavior Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.behaviorTags?.length?l.behaviorTags.map(b=>n.jsx(W,{variant:"outline",className:"text-xs",children:b},b)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No tags"})})]})]})]})]}),l.intentArchetype||l.intentScores?n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Intent Classification"}),n.jsx(Se,{children:"AI-powered player classification based on behavior patterns and wallet activity."})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending||!l?.id,"data-testid":"button-reclassify",children:[n.jsx(et,{className:`h-4 w-4 mr-2 ${y.isPending?"animate-spin":""}`}),y.isPending?"Reclassifying...":"Reclassify"]})]}),n.jsx(J,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Primary Intent:"}),l.intentArchetype?n.jsx(W,{variant:f(l.intentArchetype),className:"text-sm",children:m(l.intentArchetype)}):n.jsx(W,{variant:"outline",className:"text-sm text-muted-foreground",children:"Unclassified"})]}),l.intentScores&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Intent Scores"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Progression Gamer"}),n.jsx("span",{className:"font-mono",children:l.intentScores.progressionScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.progressionScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Growth Investor"}),n.jsx("span",{className:"font-mono",children:l.intentScores.investorGrowthScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.investorGrowthScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Extractor"}),n.jsx("span",{className:"font-mono",children:l.intentScores.extractorScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.extractorScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Social/Community"}),n.jsx("span",{className:"font-mono",children:l.intentScores.socialScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.socialScore??0,100))}%`}})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"New Explorer"}),n.jsx("span",{className:"font-mono",children:l.intentScores.onboardingScore?.toFixed(1)??"0.0"})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-yellow-500 rounded-full transition-all",style:{width:`${Math.max(0,Math.min(l.intentScores.onboardingScore??0,100))}%`}})})]})]})]})]})})]}):n.jsx(Y,{children:n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Intent Classification"}),n.jsx(Se,{children:"This user has not been classified yet. Click to run intent classification."})]}),n.jsxs(se,{variant:"default",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending||!l?.id,"data-testid":"button-reclassify-initial",children:[n.jsx(et,{className:`h-4 w-4 mr-2 ${y.isPending?"animate-spin":""}`}),y.isPending?"Classifying...":"Run Classification"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"DeFi Kingdoms Snapshot"}),n.jsx(Se,{children:"Cached hero and garden metrics for this player."})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>v.mutate(),disabled:v.isPending||!l?.id,"data-testid":"button-refresh-snapshot",children:[n.jsx(et,{className:`h-4 w-4 mr-2 ${v.isPending?"animate-spin":""}`}),v.isPending?"Refreshing...":"Refresh"]})]}),n.jsxs(J,{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Hero Count"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.heroCount??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"LP Positions"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.lpPositions?.length??N?.lpPositionsCount??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total LP Value (USD)"}),n.jsxs("p",{className:"text-lg font-semibold",children:["$",N?.totalLPValue?.toFixed(2)??"0.00"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"DFK Age (days)"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.dfkAgeDays??""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"JEWEL"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.jewelBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"CRYSTAL"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.crystalBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.cJewelBalance??0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL Lock (days)"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.cJewelLockDaysRemaining??""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"First TX"}),n.jsx("p",{className:"text-lg font-semibold",children:N?.firstTxAt?mh(N.firstTxAt):"N/A"})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Recent Optimizations"}),n.jsx(Se,{children:"Latest garden optimization jobs for this player."})]}),n.jsx(se,{variant:"outline",size:"sm","data-testid":"button-expire-all",onClick:async()=>{try{if(!(await fetch(`/api/user/${e}/expire-optimizations`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to expire optimizations");t({title:"All stale optimizations marked as expired"}),Me.invalidateQueries({queryKey:["/api/user/summary",e]})}catch{t({title:"Error",description:"Failed to expire optimizations",variant:"destructive"})}},children:"Mark All Expired"})]}),n.jsx(J,{className:"space-y-3",children:l.recentOptimizations?.length?l.recentOptimizations.map(b=>n.jsxs("div",{className:"p-3 rounded-lg border flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:b.service||"garden_optimization"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:mh(b.createdAt)})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsx(W,{variant:"outline",className:"uppercase text-[11px]",children:b.status}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[b.paymentJewel?`${b.paymentJewel} JEWEL`:"",b.poolCount?`  ${b.poolCount} pools`:""]})]})]},b.id)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No optimization history found."})})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:["Bridge Activity",l.bridgeActivity&&l.bridgeActivity.netExtractedUsd>100&&n.jsxs(W,{variant:"outline",className:"text-orange-600 border-orange-600",children:[n.jsx($l,{className:"h-3 w-3 mr-1"}),"Extractor"]})]}),n.jsx(Se,{children:"Cross-chain bridge flows for this wallet."})]}),n.jsx(J,{children:l.bridgeActivity?n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridged In"}),n.jsxs("p",{className:"text-xl font-semibold text-green-600 flex items-center gap-1","data-testid":"text-bridge-in",children:[n.jsx(sp,{className:"h-4 w-4"}),"$",y0(l.bridgeActivity.totalBridgedInUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.bridgeActivity.heroesIn??0," heroes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridged Out"}),n.jsxs("p",{className:"text-xl font-semibold text-red-600 flex items-center gap-1","data-testid":"text-bridge-out",children:[n.jsx(ip,{className:"h-4 w-4"}),"$",y0(l.bridgeActivity.totalBridgedOutUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.bridgeActivity.heroesOut??0," heroes"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Extracted"}),n.jsxs("p",{className:`text-xl font-semibold ${(l.bridgeActivity.netExtractedUsd??0)>0?"text-orange-600":"text-green-600"}`,"data-testid":"text-net-extracted",children:["$",y0(l.bridgeActivity.netExtractedUsd)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Score: ",l.bridgeActivity.extractorScore??0,"/10"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Bridge"}),n.jsx("p",{className:"text-sm","data-testid":"text-last-bridge",children:l.bridgeActivity.lastBridgeAt?mh(l.bridgeActivity.lastBridgeAt):"N/A"}),l.bridgeActivity.extractorFlags&&l.bridgeActivity.extractorFlags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.bridgeActivity.extractorFlags.map(b=>n.jsx(W,{variant:"outline",className:"text-xs",children:b.replace(/_/g," ")},b))})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No bridge activity found for this wallet. Run the bridge indexer to populate data."})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"LP Positions Details"}),n.jsx(Se,{children:"Breakdown of staked LP tokens across garden pools."})]}),n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-refresh-lp-positions",children:n.jsx(et,{className:`h-4 w-4 ${v.isPending?"animate-spin":""}`})})]}),n.jsx(J,{children:N?.lpPositions&&N.lpPositions.length>0?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-xs text-muted-foreground font-medium pb-2 border-b",children:[n.jsx("div",{children:"Pool"}),n.jsx("div",{className:"text-right",children:"PID"}),n.jsx("div",{className:"text-right",children:"Staked LP"}),n.jsx("div",{className:"text-right",children:"Value (USD)"})]}),N.lpPositions.map((b,w)=>n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm py-2 border-b border-muted/50","data-testid":`row-lp-position-${b.pid??w}`,children:[n.jsx("div",{className:"font-medium",children:(b.poolName||b.pairName)?.replace(/wJEWEL/g,"JEWEL")||`Pool ${b.pid??w}`}),n.jsx("div",{className:"text-right text-muted-foreground",children:b.pid??"-"}),n.jsx("div",{className:"text-right font-mono",children:sO(b.lpBalance??b.stakedAmount,4)}),n.jsxs("div",{className:"text-right font-semibold",children:["$",sO(b.userTVL,2)]})]},b.pid??w)),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm pt-2 font-semibold",children:[n.jsx("div",{className:"col-span-3 text-right",children:"Total:"}),n.jsxs("div",{className:"text-right",children:["$",N.totalLPValue?.toFixed(2)??"0.00"]})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:'No LP positions found. Click "Refresh Snapshot" above to fetch latest data.'})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Hedge Settings"}),n.jsx(Se,{children:"Per-user notification preferences."})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notify me when APR drops on one of my pools"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Uses cached pool data; no live RPC calls."})]}),n.jsx(Yr,{checked:l.userSettings.notifyOnAprDrop,onCheckedChange:b=>g("notifyOnAprDrop",b),disabled:c.isPending})]}),n.jsx(Dn,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notify me when a new optimization report is ready"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Alerts when fresh optimization output is available."})]}),n.jsx(Yr,{checked:l.userSettings.notifyOnNewOptimization,onCheckedChange:b=>g("notifyOnNewOptimization",b),disabled:c.isPending})]})]})]})]})}function rX(){return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-expenses-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Expenses"}),n.jsx("p",{className:"text-muted-foreground",children:"Track OpenAI, Replit, and other operational costs"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{variant:"outline","data-testid":"button-upload-expenses",children:[n.jsx(yq,{className:"w-4 h-4 mr-2"}),"Upload CSV"]}),n.jsxs(se,{"data-testid":"button-add-expense",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Add Expense"]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Monthly Expenses"}),n.jsx(Se,{children:"Expense tracking and reconciliation will be implemented in Phase 8"})]}),n.jsx(J,{children:n.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[n.jsx("p",{children:"Expense management coming soon."}),n.jsx("p",{className:"text-sm mt-2",children:"This will include OpenAI API costs, Replit compute costs, and manual expense entries."})]})})]})]})}var aX="Label",P5=p.forwardRef((e,t)=>n.jsx(co.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));P5.displayName=aX;var O5=P5;const sX=yx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=p.forwardRef(({className:e,...t},r)=>n.jsx(O5,{ref:r,className:De(sX(),e),...t}));_e.displayName=O5.displayName;function b0({enabled:e,onToggle:t,accent:r="emerald",testId:a}){const s=r==="emerald"?"from-emerald-400 via-emerald-500 to-emerald-600":"from-blue-400 via-blue-500 to-blue-600";return n.jsxs("button",{type:"button",onClick:()=>t(!e),"data-testid":a,className:`relative inline-flex h-8 w-20 items-center rounded-full px-2 text-xs font-semibold tracking-wide transition-all duration-200
        ${e?"bg-gradient-to-r "+s+" text-white":"bg-slate-500 text-slate-200"}
      `,children:[n.jsx("span",{className:`z-10 transition-opacity duration-200 ${e?"opacity-100":"opacity-80"}`,children:e?"ON":"OFF"}),n.jsx("span",{className:`absolute h-7 w-7 rounded-full bg-white shadow transform transition-transform duration-200
          ${e?"translate-x-6":"-translate-x-1"}
        `})]})}function iX(){const[e,t]=p.useState({paymentBypass:!1,verboseLogging:!1,oauthBypass:!1}),[r,a]=p.useState(!1);async function s(){if(!r){a(!0);try{const c=await fetch("/api/admin/restart-server",{method:"POST",headers:{"Content-Type":"application/json"}});c.ok?setTimeout(()=>{window.location.reload()},3e3):(console.error("Restart failed with status:",c.status),a(!1))}catch(c){console.error("Failed to restart server:",c),setTimeout(()=>{window.location.reload()},2e3)}}}p.useEffect(()=>{async function c(){try{const d=await fetch("/api/admin/debug-settings");if(!d.ok)return;const f=await d.json();t(m=>({...m,...f}))}catch(d){console.error("Failed to load debug settings:",d)}}c()},[]);async function l(c,d){const f={...e,[c]:d};t(f);try{await fetch("/api/admin/debug-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),Me.invalidateQueries({queryKey:["/api/admin/debug-settings"]})}catch(m){console.error("Failed to update debug settings:",m)}}return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"admin-settings-page",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure Hedge Ledger behavior and debug options"})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Debug Settings"}),n.jsx(Se,{children:"Options for testing and development"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(_e,{children:"Payment Bypass"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip JEWEL payment verification for garden optimization testing"})]}),n.jsx(b0,{enabled:e.paymentBypass,onToggle:c=>l("paymentBypass",c),accent:"emerald",testId:"switch-payment-bypass"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(_e,{children:"Verbose Logging"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable detailed console logging for debugging"})]}),n.jsx(b0,{enabled:e.verboseLogging,onToggle:c=>l("verboseLogging",c),accent:"blue",testId:"switch-verbose-logging"})]}),e.oauthBypassAllowed&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(_e,{children:"OAuth Bypass"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip Discord OAuth for admin dashboard testing (allows unauthenticated access)"})]}),n.jsx(b0,{enabled:e.oauthBypass,onToggle:c=>l("oauthBypass",c),accent:"emerald",testId:"switch-oauth-bypass"})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Bot Configuration"}),n.jsx(Se,{children:"General bot settings (changes require restart)"})]}),n.jsx(J,{children:n.jsx("div",{className:"py-8 text-center text-muted-foreground",children:n.jsx("p",{children:"Configuration options coming soon."})})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Server Control"}),n.jsx(Se,{children:"Restart the server to apply code changes"})]}),n.jsx(J,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(_e,{children:"Restart Server"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Restart the backend server process to apply code changes. The page will reload automatically."})]}),n.jsx(se,{onClick:s,disabled:r,variant:"destructive","data-testid":"button-restart-server",children:r?n.jsxs(n.Fragment,{children:[n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}),"Restarting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Restart Server"]})})]})})]})]})}function lX(e){const t=oX(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(dX);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function oX(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=fX(s),d=uX(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cX=Symbol("radix.slottable");function dX(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cX}function uX(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function fX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cf=mX.reduce((e,t)=>{const r=lX(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function hX(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var jN="ScrollArea",[T5]=xr(jN),[pX,Pa]=T5(jN),k5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:l=600,...c}=e,[d,f]=p.useState(null),[m,h]=p.useState(null),[g,v]=p.useState(null),[y,N]=p.useState(null),[b,w]=p.useState(null),[C,A]=p.useState(0),[E,T]=p.useState(0),[k,P]=p.useState(!1),[M,I]=p.useState(!1),Q=tt(t,_=>f(_)),L=Qc(s);return n.jsx(pX,{scope:r,type:a,dir:L,scrollHideDelay:l,scrollArea:d,viewport:m,onViewportChange:h,content:g,onContentChange:v,scrollbarX:y,onScrollbarXChange:N,scrollbarXEnabled:k,onScrollbarXEnabledChange:P,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:I,onCornerWidthChange:A,onCornerHeightChange:T,children:n.jsx(cf.div,{dir:L,...c,ref:Q,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});k5.displayName=jN;var _5="ScrollAreaViewport",R5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:s,...l}=e,c=Pa(_5,r),d=p.useRef(null),f=tt(t,d,c.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(cf.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});R5.displayName=_5;var ds="ScrollAreaScrollbar",wN=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Pa(ds,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=s,d=e.orientation==="horizontal";return p.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),s.type==="hover"?n.jsx(xX,{...a,ref:t,forceMount:r}):s.type==="scroll"?n.jsx(gX,{...a,ref:t,forceMount:r}):s.type==="auto"?n.jsx(M5,{...a,ref:t,forceMount:r}):s.type==="always"?n.jsx(NN,{...a,ref:t}):null});wN.displayName=ds;var xX=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Pa(ds,e.__scopeScrollArea),[l,c]=p.useState(!1);return p.useEffect(()=>{const d=s.scrollArea;let f=0;if(d){const m=()=>{window.clearTimeout(f),c(!0)},h=()=>{f=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",h),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),n.jsx(na,{present:r||l,children:n.jsx(M5,{"data-state":l?"visible":"hidden",...a,ref:t})})}),gX=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Pa(ds,e.__scopeScrollArea),l=e.orientation==="horizontal",c=Lx(()=>f("SCROLL_END"),100),[d,f]=hX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,s.scrollHideDelay,f]),p.useEffect(()=>{const m=s.viewport,h=l?"scrollLeft":"scrollTop";if(m){let g=m[h];const v=()=>{const y=m[h];g!==y&&(f("SCROLL"),c()),g=y};return m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[s.viewport,l,f,c]),n.jsx(na,{present:r||d!=="hidden",children:n.jsx(NN,{"data-state":d==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),M5=p.forwardRef((e,t)=>{const r=Pa(ds,e.__scopeScrollArea),{forceMount:a,...s}=e,[l,c]=p.useState(!1),d=e.orientation==="horizontal",f=Lx(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?m:h)}},10);return Nc(r.viewport,f),Nc(r.content,f),n.jsx(na,{present:a||l,children:n.jsx(NN,{"data-state":l?"visible":"hidden",...s,ref:t})})}),NN=p.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,s=Pa(ds,e.__scopeScrollArea),l=p.useRef(null),c=p.useRef(0),[d,f]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=F5(d.viewport,d.content),h={...a,sizes:d,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:v=>l.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function g(v,y){return NX(v,c.current,d,y)}return r==="horizontal"?n.jsx(vX,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollLeft,y=iO(v,d,s.dir);l.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=g(v,s.dir))}}):r==="vertical"?n.jsx(yX,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollTop,y=iO(v,d);l.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=g(v))}}):null}),vX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,l=Pa(ds,e.__scopeScrollArea),[c,d]=p.useState(),f=p.useRef(null),m=tt(t,f,l.onScrollbarXChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(L5,{"data-orientation":"horizontal",...s,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Dx(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,g)=>{if(l.viewport){const v=l.viewport.scrollLeft+h.deltaX;e.onWheelScroll(v),B5(v,g)&&h.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:gp(c.paddingLeft),paddingEnd:gp(c.paddingRight)}})}})}),yX=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,l=Pa(ds,e.__scopeScrollArea),[c,d]=p.useState(),f=p.useRef(null),m=tt(t,f,l.onScrollbarYChange);return p.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(L5,{"data-orientation":"vertical",...s,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Dx(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,g)=>{if(l.viewport){const v=l.viewport.scrollTop+h.deltaY;e.onWheelScroll(v),B5(v,g)&&h.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:gp(c.paddingTop),paddingEnd:gp(c.paddingBottom)}})}})}),[bX,D5]=T5(ds),L5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:h,onResize:g,...v}=e,y=Pa(ds,r),[N,b]=p.useState(null),w=tt(t,Q=>b(Q)),C=p.useRef(null),A=p.useRef(""),E=y.viewport,T=a.content-a.viewport,k=An(h),P=An(f),M=Lx(g,10);function I(Q){if(C.current){const L=Q.clientX-C.current.left,_=Q.clientY-C.current.top;m({x:L,y:_})}}return p.useEffect(()=>{const Q=L=>{const _=L.target;N?.contains(_)&&k(L,T)};return document.addEventListener("wheel",Q,{passive:!1}),()=>document.removeEventListener("wheel",Q,{passive:!1})},[E,N,T,k]),p.useEffect(P,[a,P]),Nc(N,M),Nc(y.content,M),n.jsx(bX,{scope:r,scrollbar:N,hasThumb:s,onThumbChange:An(l),onThumbPointerUp:An(c),onThumbPositionChange:P,onThumbPointerDown:An(d),children:n.jsx(cf.div,{...v,ref:w,style:{position:"absolute",...v.style},onPointerDown:ze(e.onPointerDown,Q=>{Q.button===0&&(Q.target.setPointerCapture(Q.pointerId),C.current=N.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),I(Q))}),onPointerMove:ze(e.onPointerMove,I),onPointerUp:ze(e.onPointerUp,Q=>{const L=Q.target;L.hasPointerCapture(Q.pointerId)&&L.releasePointerCapture(Q.pointerId),document.body.style.webkitUserSelect=A.current,y.viewport&&(y.viewport.style.scrollBehavior=""),C.current=null})})})}),xp="ScrollAreaThumb",I5=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=D5(xp,e.__scopeScrollArea);return n.jsx(na,{present:r||s.hasThumb,children:n.jsx(jX,{ref:t,...a})})}),jX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...s}=e,l=Pa(xp,r),c=D5(xp,r),{onThumbPositionChange:d}=c,f=tt(t,g=>c.onThumbChange(g)),m=p.useRef(void 0),h=Lx(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const g=l.viewport;if(g){const v=()=>{if(h(),!m.current){const y=SX(g,d);m.current=y,d()}};return d(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[l.viewport,h,d]),n.jsx(cf.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ze(e.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),N=g.clientX-y.left,b=g.clientY-y.top;c.onThumbPointerDown({x:N,y:b})}),onPointerUp:ze(e.onPointerUp,c.onThumbPointerUp)})});I5.displayName=xp;var SN="ScrollAreaCorner",$5=p.forwardRef((e,t)=>{const r=Pa(SN,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?n.jsx(wX,{...e,ref:t}):null});$5.displayName=SN;var wX=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,s=Pa(SN,r),[l,c]=p.useState(0),[d,f]=p.useState(0),m=!!(l&&d);return Nc(s.scrollbarX,()=>{const h=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(h),f(h)}),Nc(s.scrollbarY,()=>{const h=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(h),c(h)}),m?n.jsx(cf.div,{...a,ref:t,style:{width:l,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gp(e){return e?parseInt(e,10):0}function F5(e,t){const r=e/t;return isNaN(r)?0:r}function Dx(e){const t=F5(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function NX(e,t,r,a="ltr"){const s=Dx(r),l=s/2,c=t||l,d=s-c,f=r.scrollbar.paddingStart+c,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,h=r.content-r.viewport,g=a==="ltr"?[0,h]:[h*-1,0];return z5([f,m],g)(e)}function iO(e,t,r="ltr"){const a=Dx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-s,c=t.content-t.viewport,d=l-a,f=r==="ltr"?[0,c]:[c*-1,0],m=Ru(e,f);return z5([0,c],[0,d])(m)}function z5(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function B5(e,t){return e>0&&e<t}var SX=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function s(){const l={left:e.scrollLeft,top:e.scrollTop},c=r.left!==l.left,d=r.top!==l.top;(c||d)&&t(),r=l,a=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(a)};function Lx(e,t){const r=An(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Nc(e,t){const r=An(t);un(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,r])}var U5=k5,CX=R5,EX=$5;const Hi=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(U5,{ref:a,className:De("relative overflow-hidden",e),...r,children:[n.jsx(CX,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(H5,{}),n.jsx(EX,{})]}));Hi.displayName=U5.displayName;const H5=p.forwardRef(({className:e,orientation:t="vertical",...r},a)=>n.jsx(wN,{ref:a,orientation:t,className:De("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(I5,{className:"relative flex-1 rounded-full bg-border"})}));H5.displayName=wN.displayName;function AX(e,t=[]){let r=[];function a(l,c){const d=p.createContext(c);d.displayName=l+"Context";const f=r.length;r=[...r,c];const m=g=>{const{scope:v,children:y,...N}=g,b=v?.[e]?.[f]||d,w=p.useMemo(()=>N,Object.values(N));return n.jsx(b.Provider,{value:w,children:y})};m.displayName=l+"Provider";function h(g,v){const y=v?.[e]?.[f]||d,N=p.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,h]}const s=()=>{const l=r.map(c=>p.createContext(c));return function(d){const f=d?.[e]||l;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[a,PX(s,...t)]}function PX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var CN="Progress",EN=100,[OX]=AX(CN),[TX,kX]=OX(CN),V5=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:l=_X,...c}=e;(s||s===0)&&!lO(s)&&console.error(RX(`${s}`,"Progress"));const d=lO(s)?s:EN;a!==null&&!oO(a,d)&&console.error(MX(`${a}`,"Progress"));const f=oO(a,d)?a:null,m=vp(f)?l(f,d):void 0;return n.jsx(TX,{scope:r,value:f,max:d,children:n.jsx(co.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":vp(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":W5(f,d),"data-value":f??void 0,"data-max":d,...c,ref:t})})});V5.displayName=CN;var q5="ProgressIndicator",K5=p.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=kX(q5,r);return n.jsx(co.div,{"data-state":W5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});K5.displayName=q5;function _X(e,t){return`${Math.round(e/t*100)}%`}function W5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function vp(e){return typeof e=="number"}function lO(e){return vp(e)&&!isNaN(e)&&e>0}function oO(e,t){return vp(e)&&!isNaN(e)&&e<=t&&e>=0}function RX(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${EN}\`.`}function MX(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${EN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var G5=V5,DX=K5;const Ut=p.forwardRef(({className:e,value:t,...r},a)=>n.jsx(G5,{ref:a,className:De("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(DX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`,backfaceVisibility:"hidden",willChange:"transform"}})}));Ut.displayName=G5.displayName;var LX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function AN(e){if(typeof e!="string")return!1;var t=LX;return t.includes(e)}var IX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$X=new Set(IX);function Y5(e){return typeof e!="string"?!1:$X.has(e)}function Q5(e){return typeof e=="string"&&e.startsWith("data-")}function _r(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Y5(r)||Q5(r))&&(t[r]=e[r]);return t}function eo(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return _r(t)}return typeof e=="object"&&!Array.isArray(e)?_r(e):null}function or(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Y5(r)||Q5(r)||AN(r))&&(t[r]=e[r]);return t}function FX(e){return e==null?null:p.isValidElement(e)?or(e.props):typeof e=="object"&&!Array.isArray(e)?or(e):null}var zX=["children","width","height","viewBox","className","style","title","desc"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Rj.apply(null,arguments)}function BX(e,t){if(e==null)return{};var r,a,s=UX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function UX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var PN=p.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=BX(e,zX),g=l||{width:a,height:s,x:0,y:0},v=wt("recharts-surface",c);return p.createElement("svg",Rj({},or(h),{className:v,width:a,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),p.createElement("title",null,f),p.createElement("desc",null,m),r)}),HX=["children","className"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mj.apply(null,arguments)}function VX(e,t){if(e==null)return{};var r,a,s=qX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var fn=p.forwardRef((e,t)=>{var{children:r,className:a}=e,s=VX(e,HX),l=wt("recharts-layer",a);return p.createElement("g",Mj({className:l},or(s),{ref:t}),r)}),X5=p.createContext(null),KX=()=>p.useContext(X5);function Kt(e){return function(){return e}}const Z5=Math.cos,yp=Math.sin,qa=Math.sqrt,bp=Math.PI,Ix=2*bp,Dj=Math.PI,Lj=2*Dj,Rl=1e-6,WX=Lj-Rl;function J5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return J5;const r=10**t;return function(a){this._+=a[0];for(let s=1,l=a.length;s<l;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class YX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?J5:GX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,l,c){this._append`C${+t},${+r},${+a},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,a,s,l){if(t=+t,r=+r,a=+a,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=a-t,m=s-r,h=c-t,g=d-r,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Rl)if(!(Math.abs(g*f-m*h)>Rl)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let y=a-c,N=s-d,b=f*f+m*m,w=y*y+N*N,C=Math.sqrt(b),A=Math.sqrt(v),E=l*Math.tan((Dj-Math.acos((b+v-w)/(2*C*A)))/2),T=E/A,k=E/C;Math.abs(T-1)>Rl&&this._append`L${t+T*h},${r+T*g}`,this._append`A${l},${l},0,0,${+(g*y>h*N)},${this._x1=t+k*f},${this._y1=r+k*m}`}}arc(t,r,a,s,l,c){if(t=+t,r=+r,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),f=a*Math.sin(s),m=t+d,h=r+f,g=1^c,v=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Rl||Math.abs(this._y1-h)>Rl)&&this._append`L${m},${h}`,a&&(v<0&&(v=v%Lj+Lj),v>WX?this._append`A${a},${a},0,1,${g},${t-d},${r-f}A${a},${a},0,1,${g},${this._x1=m},${this._y1=h}`:v>Rl&&this._append`A${a},${a},0,${+(v>=Dj)},${g},${this._x1=t+a*Math.cos(l)},${this._y1=r+a*Math.sin(l)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function ON(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new YX(t)}function TN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function e3(e){this._context=e}e3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $x(e){return new e3(e)}function t3(e){return e[0]}function n3(e){return e[1]}function r3(e,t){var r=Kt(!0),a=null,s=$x,l=null,c=ON(d);e=typeof e=="function"?e:e===void 0?t3:Kt(e),t=typeof t=="function"?t:t===void 0?n3:Kt(t);function d(f){var m,h=(f=TN(f)).length,g,v=!1,y;for(a==null&&(l=s(y=c())),m=0;m<=h;++m)!(m<h&&r(g=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(g,m,f),+t(g,m,f));if(y)return l=null,y+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Kt(!!f),d):r},d.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),d):s},d.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),d):a},d}function hh(e,t,r){var a=null,s=Kt(!0),l=null,c=$x,d=null,f=ON(m);e=typeof e=="function"?e:e===void 0?t3:Kt(+e),t=typeof t=="function"?t:Kt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?n3:Kt(+r);function m(g){var v,y,N,b=(g=TN(g)).length,w,C=!1,A,E=new Array(b),T=new Array(b);for(l==null&&(d=c(A=f())),v=0;v<=b;++v){if(!(v<b&&s(w=g[v],v,g))===C)if(C=!C)y=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),N=v-1;N>=y;--N)d.point(E[N],T[N]);d.lineEnd(),d.areaEnd()}C&&(E[v]=+e(w,v,g),T[v]=+t(w,v,g),d.point(a?+a(w,v,g):E[v],r?+r(w,v,g):T[v]))}if(A)return d=null,A+""||null}function h(){return r3().defined(s).curve(c).context(l)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),a=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),m):e},m.x1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Kt(+g),m):a},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),r=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),m):t},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Kt(+g),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(a).y(t)},m.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Kt(!!g),m):s},m.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),m):c},m.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),m):l},m}class a3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function QX(e){return new a3(e,!0)}function XX(e){return new a3(e,!1)}const kN={draw(e,t){const r=qa(t/bp);e.moveTo(r,0),e.arc(0,0,r,0,Ix)}},ZX={draw(e,t){const r=qa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},s3=qa(1/3),JX=s3*2,eZ={draw(e,t){const r=qa(t/JX),a=r*s3;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},tZ={draw(e,t){const r=qa(t),a=-r/2;e.rect(a,a,r,r)}},nZ=.8908130915292852,i3=yp(bp/10)/yp(7*bp/10),rZ=yp(Ix/10)*i3,aZ=-Z5(Ix/10)*i3,sZ={draw(e,t){const r=qa(t*nZ),a=rZ*r,s=aZ*r;e.moveTo(0,-r),e.lineTo(a,s);for(let l=1;l<5;++l){const c=Ix*l/5,d=Z5(c),f=yp(c);e.lineTo(f*r,-d*r),e.lineTo(d*a-f*s,f*a+d*s)}e.closePath()}},j0=qa(3),iZ={draw(e,t){const r=-qa(t/(j0*3));e.moveTo(0,r*2),e.lineTo(-j0*r,-r),e.lineTo(j0*r,-r),e.closePath()}},xa=-.5,ga=qa(3)/2,Ij=1/qa(12),lZ=(Ij/2+1)*3,oZ={draw(e,t){const r=qa(t/lZ),a=r/2,s=r*Ij,l=a,c=r*Ij+r,d=-l,f=c;e.moveTo(a,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(xa*a-ga*s,ga*a+xa*s),e.lineTo(xa*l-ga*c,ga*l+xa*c),e.lineTo(xa*d-ga*f,ga*d+xa*f),e.lineTo(xa*a+ga*s,xa*s-ga*a),e.lineTo(xa*l+ga*c,xa*c-ga*l),e.lineTo(xa*d+ga*f,xa*f-ga*d),e.closePath()}};function cZ(e,t){let r=null,a=ON(s);e=typeof e=="function"?e:Kt(e||kN),t=typeof t=="function"?t:Kt(t===void 0?64:+t);function s(){let l;if(r||(r=l=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(+l),s):t},s.context=function(l){return arguments.length?(r=l??null,s):r},s}function jp(){}function wp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function l3(e){this._context=e}l3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dZ(e){return new l3(e)}function o3(e){this._context=e}o3.prototype={areaStart:jp,areaEnd:jp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uZ(e){return new o3(e)}function c3(e){this._context=e}c3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fZ(e){return new c3(e)}function d3(e){this._context=e}d3.prototype={areaStart:jp,areaEnd:jp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mZ(e){return new d3(e)}function cO(e){return e<0?-1:1}function dO(e,t,r){var a=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(a||s<0&&-0),c=(r-e._y1)/(s||a<0&&-0),d=(l*s+c*a)/(a+s);return(cO(l)+cO(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function uO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function w0(e,t,r){var a=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-a)/3;e._context.bezierCurveTo(a+d,s+d*t,l-d,c-d*r,l,c)}function Np(e){this._context=e}Np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w0(this,this._t0,uO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,w0(this,uO(this,r=dO(this,e,t)),r);break;default:w0(this,this._t0,r=dO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function u3(e){this._context=new f3(e)}(u3.prototype=Object.create(Np.prototype)).point=function(e,t){Np.prototype.point.call(this,t,e)};function f3(e){this._context=e}f3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,l){this._context.bezierCurveTo(t,e,a,r,l,s)}};function hZ(e){return new Np(e)}function pZ(e){return new u3(e)}function m3(e){this._context=e}m3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=fO(e),s=fO(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(a[0][l],s[0][l],a[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fO(e){var t,r=e.length-1,a,s=new Array(r),l=new Array(r),c=new Array(r);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/l[t-1],l[t]-=a,c[t]-=a*c[t-1];for(s[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function xZ(e){return new m3(e)}function Fx(e,t){this._context=e,this._t=t}Fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gZ(e){return new Fx(e,.5)}function vZ(e){return new Fx(e,0)}function yZ(e){return new Fx(e,1)}function Sc(e,t){if((c=e.length)>1)for(var r=1,a,s,l=e[t[0]],c,d=l.length;r<c;++r)for(s=l,l=e[t[r]],a=0;a<d;++a)l[a][1]+=l[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function $j(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function bZ(e,t){return e[t]}function jZ(e){const t=[];return t.key=e,t}function wZ(){var e=Kt([]),t=$j,r=Sc,a=bZ;function s(l){var c=Array.from(e.apply(this,arguments),jZ),d,f=c.length,m=-1,h;for(const g of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+a(g,c[d].key,m,l)]).data=g;for(d=0,h=TN(t(c));d<f;++d)c[h[d]].index=d;return r(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(a=typeof l=="function"?l:Kt(+l),s):a},s.order=function(l){return arguments.length?(t=l==null?$j:typeof l=="function"?l:Kt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(r=l??Sc,s):r},s}function NZ(e,t){if((a=e.length)>0){for(var r,a,s=0,l=e[0].length,c;s<l;++s){for(c=r=0;r<a;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<a;++r)e[r][s][1]/=c}Sc(e,t)}}function SZ(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,l=a.length;r<l;++r){for(var c=0,d=0;c<s;++c)d+=e[c][r][1]||0;a[r][1]+=a[r][0]=-d/2}Sc(e,t)}}function CZ(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,l,c;a<l;++a){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],g=h[a][1]||0,v=h[a-1][1]||0,y=(g-v)/2,N=0;N<d;++N){var b=e[t[N]],w=b[a][1]||0,C=b[a-1][1]||0;y+=w-C}f+=g,m+=y*g}s[a-1][1]+=s[a-1][0]=r,f&&(r-=m/f)}s[a-1][1]+=s[a-1][0]=r,Sc(e,t)}}var N0={},S0={},mO;function EZ(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(S0)),S0}var C0={},hO;function h3(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(C0)),C0}var E0={},pO;function _N(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(E0)),E0}var A0={},P0={},xO;function AZ(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(P0)),P0}var gO;function RN(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AZ(),r=_N();function a(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const l=[],c=s.length;if(c===0)return l;let d=0,f="",m="",h=!1;for(s.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=s[d];m?g==="\\"&&d+1<c?(d++,f+=s[d]):g===m?m="":f+=g:h?g==='"'||g==="'"?m=g:g==="]"?(h=!1,l.push(f),f=""):f+=g:g==="["?(h=!0,f&&(l.push(f),f="")):g==="."?f&&(l.push(f),f=""):f+=g,d++}return f&&l.push(f),l}e.toPath=a})(A0)),A0}var vO;function MN(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EZ(),r=h3(),a=_N(),s=RN();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?r.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=a.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return m;h=h[f[g]]}return h===void 0?m:h}e.get=l})(N0)),N0}var O0,yO;function PZ(){return yO||(yO=1,O0=MN().get),O0}var OZ=PZ();const to=ls(OZ);var qn=e=>e===0?0:e>0?1:-1,Rr=e=>typeof e=="number"&&e!=+e,Xs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Be=e=>(typeof e=="number"||e instanceof Number)&&!Rr(e),Ca=e=>Be(e)||typeof e=="string",TZ=0,Mu=e=>{var t=++TZ;return"".concat(e||"").concat(t)},ir=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(t)&&typeof t!="string")return a;var l;if(Xs(t)){if(r==null)return a;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return Rr(l)&&(l=a),s&&r!=null&&l>r&&(l=r),l},p3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function Xt(e,t,r){return Be(e)&&Be(t)?e+r*(t-e):t}function x3(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):to(a,t))===r)}var rn=e=>e===null||typeof e>"u",df=e=>rn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function kZ(e){return e!=null}function uf(){}var _Z=["type","size","sizeType"];function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fj.apply(null,arguments)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(a){RZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RZ(e,t,r){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LZ(e,t){if(e==null)return{};var r,a,s=IZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function IZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var g3={symbolCircle:kN,symbolCross:ZX,symbolDiamond:eZ,symbolSquare:tZ,symbolStar:sZ,symbolTriangle:iZ,symbolWye:oZ},$Z=Math.PI/180,FZ=e=>{var t="symbol".concat(df(e));return g3[t]||kN},zZ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*$Z;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BZ=(e,t)=>{g3["symbol".concat(df(e))]=t},DN=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=LZ(e,_Z),l=jO(jO({},s),{},{type:t,size:r,sizeType:a}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var v=FZ(c),y=cZ().type(v).size(zZ(r,a,c)),N=y();if(N!==null)return N},{className:f,cx:m,cy:h}=l,g=or(l);return Be(m)&&Be(h)&&Be(r)?p.createElement("path",Fj({},g,{className:wt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};DN.registerSymbol=BZ;var v3=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,LN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{AN(s)&&(a[s]=(l=>r[s](r,l)))}),a},UZ=(e,t,r)=>a=>(e(t,r,a),null),ff=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var l=e[s];AN(s)&&typeof l=="function"&&(a||(a={}),a[s]=UZ(l,t,r))}),a};function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function HZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(a){VZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VZ(e,t,r){return(t=qZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(e,t){var r=HZ({},e),a=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),r);return l}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sp.apply(null,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function WZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(a){GZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function GZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ba=32,XZ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function ZZ(e){var{data:t,iconType:r,inactiveColor:a}=e,s=ba/2,l=ba/6,c=ba/3,d=t.inactive?a:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var m;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:s,x2:ba,y2:s,className:"recharts-legend-icon"})}if(f==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(ba,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(f==="rect")return p.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ba/8,"h").concat(ba,"v").concat(ba*3/4,"h").concat(-ba,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var h=WZ({},t);return delete h.legendIcon,p.cloneElement(t.legendIcon,h)}return p.createElement(DN,{fill:d,cx:s,cy:s,size:ba,sizeType:"diameter",type:f})}function JZ(e){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:l,iconType:c}=e,d={x:0,y:0,width:ba,height:ba},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var v=h.formatter||s,y=wt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var N=h.inactive?l:h.color,b=v?v(h.value,h,g):h.value;return p.createElement("li",Sp({className:y,style:f,key:"legend-item-".concat(g)},ff(e,h,g)),p.createElement(PN,{width:r,height:r,viewBox:d,style:m,"aria-label":"".concat(b," legend icon")},p.createElement(ZZ,{data:h,iconType:c,inactiveColor:l})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},b))})}var eJ=e=>{var t=bn(e,XZ),{payload:r,layout:a,align:s}=t;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:l},p.createElement(JZ,Sp({},t,{payload:r})))},T0={},k0={},SO;function tJ(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let l=0;l<r.length;l++){const c=r[l],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(k0)),k0}var _0={},CO;function y3(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(_0)),_0}var R0={},M0={},D0={},EO;function nJ(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(D0)),D0}var AO;function IN(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nJ();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(M0)),M0}var L0={},PO;function rJ(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(L0)),L0}var OO;function aJ(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IN(),r=rJ();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(R0)),R0}var I0={},$0={},TO;function sJ(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MN();function r(a){return function(s){return t.get(s,a)}}e.property=r})($0)),$0}var F0={},z0={},B0={},U0={},kO;function b3(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(U0)),U0}var H0={},_O;function j3(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(H0)),H0}var V0={},RO;function w3(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(V0)),V0}var MO;function iJ(){return MO||(MO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b3(),r=j3(),a=w3();function s(h,g,v){return typeof v!="function"?s(h,g,()=>{}):l(h,g,function y(N,b,w,C,A,E){const T=v(N,b,w,C,A,E);return T!==void 0?!!T:l(N,b,y,E)},new Map)}function l(h,g,v,y){if(g===h)return!0;switch(typeof g){case"object":return c(h,g,v,y);case"function":return Object.keys(g).length>0?l(h,{...g},v,y):a.eq(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:a.eq(h,g)}}function c(h,g,v,y){if(g==null)return!0;if(Array.isArray(g))return f(h,g,v,y);if(g instanceof Map)return d(h,g,v,y);if(g instanceof Set)return m(h,g,v,y);const N=Object.keys(g);if(h==null)return N.length===0;if(N.length===0)return!0;if(y?.has(g))return y.get(g)===h;y?.set(g,h);try{for(let b=0;b<N.length;b++){const w=N[b];if(!r.isPrimitive(h)&&!(w in h)||g[w]===void 0&&h[w]!==void 0||g[w]===null&&h[w]!==null||!v(h[w],g[w],w,h,g,y))return!1}return!0}finally{y?.delete(g)}}function d(h,g,v,y){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[N,b]of g.entries()){const w=h.get(N);if(v(w,b,N,h,g,y)===!1)return!1}return!0}function f(h,g,v,y){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const N=new Set;for(let b=0;b<g.length;b++){const w=g[b];let C=!1;for(let A=0;A<h.length;A++){if(N.has(A))continue;const E=h[A];let T=!1;if(v(E,w,b,h,g,y)&&(T=!0),T){N.add(A),C=!0;break}}if(!C)return!1}return!0}function m(h,g,v,y){return g.size===0?!0:h instanceof Set?f([...h],[...g],v,y):!1}e.isMatchWith=s,e.isSetMatch=m})(B0)),B0}var DO;function N3(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iJ();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(z0)),z0}var q0={},K0={},W0={},LO;function lJ(){return LO||(LO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(W0)),W0}var G0={},IO;function S3(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(G0)),G0}var Y0={},$O;function C3(){return $O||($O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",N="[object Error]",b="[object DataView]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",E="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",I="[object BigInt64Array]",Q="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=b,e.dateTag=d,e.errorTag=N,e.float32ArrayTag=Q,e.float64ArrayTag=L,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=M,e.int8ArrayTag=k,e.mapTag=f,e.numberTag=a,e.objectTag=y,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=A,e.uint32ArrayTag=E,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=C})(Y0)),Y0}var Q0={},FO;function oJ(){return FO||(FO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Q0)),Q0}var zO;function E3(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lJ(),r=S3(),a=C3(),s=j3(),l=oJ();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,v,y=new Map,N=void 0){const b=N?.(h,g,v,y);if(b!==void 0)return b;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const w=new Array(h.length);y.set(h,w);for(let C=0;C<h.length;C++)w[C]=d(h[C],C,v,y,N);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;y.set(h,w);for(const[C,A]of h)w.set(C,d(A,C,v,y,N));return w}if(h instanceof Set){const w=new Set;y.set(h,w);for(const C of h)w.add(d(C,void 0,v,y,N));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,w);for(let C=0;C<h.length;C++)w[C]=d(h[C],C,v,y,N);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,w),f(w,h,v,y,N),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return y.set(h,w),f(w,h,v,y,N),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return y.set(h,w),f(w,h,v,y,N),w}if(h instanceof Error){const w=new h.constructor;return y.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,f(w,h,v,y,N),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return y.set(h,w),f(w,h,v,y,N),w}if(h instanceof Number){const w=new Number(h.valueOf());return y.set(h,w),f(w,h,v,y,N),w}if(h instanceof String){const w=new String(h.valueOf());return y.set(h,w),f(w,h,v,y,N),w}if(typeof h=="object"&&m(h)){const w=Object.create(Object.getPrototypeOf(h));return y.set(h,w),f(w,h,v,y,N),w}return h}function f(h,g,v=h,y,N){const b=[...Object.keys(g),...t.getSymbols(g)];for(let w=0;w<b.length;w++){const C=b[w],A=Object.getOwnPropertyDescriptor(h,C);(A==null||A.writable)&&(h[C]=d(g[C],C,v,y,N))}}function m(h){switch(r.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f})(K0)),K0}var BO;function cJ(){return BO||(BO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E3();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(q0)),q0}var UO;function dJ(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N3(),r=cJ();function a(s){return s=r.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=a})(F0)),F0}var X0={},Z0={},J0={},HO;function uJ(){return HO||(HO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E3(),r=C3();function a(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l?.(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s?.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=a})(J0)),J0}var VO;function fJ(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uJ();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(Z0)),Z0}var eb={},tb={},qO;function A3(){return qO||(qO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(tb)),tb}var nb={},KO;function mJ(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S3();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(nb)),nb}var WO;function hJ(){return WO||(WO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h3(),r=A3(),a=mJ(),s=RN();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const g=f[h];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||a.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=l})(eb)),eb}var GO;function pJ(){return GO||(GO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N3(),r=_N(),a=fJ(),s=MN(),l=hJ();function c(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=a.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(X0)),X0}var YO;function xJ(){return YO||(YO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y3(),r=sJ(),a=dJ(),s=pJ();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(I0)),I0}var QO;function gJ(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tJ(),r=y3(),a=aJ(),s=xJ();function l(c,d=r.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l})(T0)),T0}var rb,XO;function vJ(){return XO||(XO=1,rb=gJ().uniqBy),rb}var yJ=vJ();const ZO=ls(yJ);function P3(e,t,r){return t===!0?ZO(e,r):typeof t=="function"?ZO(e,t):e}var ab={exports:{}},sb={};var JO;function bJ(){if(JO)return sb;JO=1;var e=zc(),t=a4();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return sb.useSyncExternalStoreWithSelector=function(m,h,g,v,y){var N=l(null);if(N.current===null){var b={hasValue:!1,value:null};N.current=b}else b=N.current;N=d(function(){function C(P){if(!A){if(A=!0,E=P,P=v(P),y!==void 0&&b.hasValue){var M=b.value;if(y(M,P))return T=M}return T=P}if(M=T,a(E,P))return M;var I=v(P);return y!==void 0&&y(M,I)?(E=P,M):(E=P,T=I)}var A=!1,E,T,k=g===void 0?null:g;return[function(){return C(h())},k===null?void 0:function(){return C(k())}]},[h,g,v,y]);var w=s(m,N[0],N[1]);return c(function(){b.hasValue=!0,b.value=w},[w]),f(w),w},sb}var eT;function jJ(){return eT||(eT=1,ab.exports=bJ()),ab.exports}var wJ=jJ(),$N=p.createContext(null),NJ=e=>e,qt=()=>{var e=p.useContext($N);return e?e.store.dispatch:NJ},qh=()=>{},SJ=()=>qh,CJ=(e,t)=>e===t;function Fe(e){var t=p.useContext($N);return wJ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:SJ,t?t.store.getState:qh,t?t.store.getState:qh,t?e:qh,CJ)}function EJ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function AJ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function PJ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var tT=e=>Array.isArray(e)?e:[e];function OJ(e){const t=Array.isArray(e[0])?e[0]:e;return PJ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function TJ(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var kJ=class{constructor(e){this.value=e}deref(){return this.value}},_J=typeof WeakRef<"u"?WeakRef:kJ,RJ=0,nT=1;function ph(){return{s:RJ,v:void 0,o:null,p:null}}function O3(e,t={}){let r=ph();const{resultEqualityCheck:a}=t;let s,l=0;function c(){let d=r;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const b=N.get(y);b===void 0?(d=ph(),N.set(y,d)):d=b}else{let N=d.p;N===null&&(d.p=N=new Map);const b=N.get(y);b===void 0?(d=ph(),N.set(y,d)):d=b}}const m=d;let h;if(d.s===nT)h=d.v;else if(h=e.apply(null,arguments),l++,a){const g=s?.deref?.()??s;g!=null&&a(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new _J(h):h}return m.s=nT,m.v=h,h}return c.clearCache=()=>{r=ph(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function MJ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),EJ(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:y=O3,argsMemoizeOptions:N=[]}=h,b=tT(v),w=tT(N),C=OJ(s),A=g(function(){return l++,m.apply(null,arguments)},...b),E=y(function(){c++;const k=TJ(C,arguments);return d=A.apply(null,k),d},...w);return Object.assign(E,{resultFunc:m,memoizedResultFunc:A,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var ue=MJ(O3),DJ=Object.assign((e,t=ue)=>{AJ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(l=>e[l]);return t(a,(...l)=>l.reduce((c,d,f)=>(c[r[f]]=d,c),{}))},{withTypes:()=>DJ}),ib={},lb={},ob={},rT;function LJ(){return rT||(rT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,l)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return l==="desc"?1:-1;if(a>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=r})(ob)),ob}var cb={},db={},aT;function T3(){return aT||(aT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(db)),db}var sT;function IJ(){return sT||(sT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T3(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(a.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s})(cb)),cb}var iT;function $J(){return iT||(iT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LJ(),r=IJ(),a=RN();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const m=(y,N)=>{let b=y;for(let w=0;w<N.length&&b!=null;++w)b=b[N[w]];return b},h=(y,N)=>N==null||y==null?N:typeof y=="object"&&"key"in y?Object.hasOwn(N,y.key)?N[y.key]:m(N,y.path):typeof y=="function"?y(N):Array.isArray(y)?m(N,y):typeof N=="object"?N[y]:N,g=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:a.toPath(y)}));return l.map(y=>({original:y,criteria:g.map(N=>h(N,y))})).slice().sort((y,N)=>{for(let b=0;b<g.length;b++){const w=t.compareValues(y.criteria[b],N.criteria[b],d[b]);if(w!==0)return w}return 0}).map(y=>y.original)}e.orderBy=s})(lb)),lb}var ub={},lT;function FJ(){return lT||(lT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],l=Math.floor(a),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(r,0),s}e.flatten=t})(ub)),ub}var fb={},oT;function k3(){return oT||(oT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A3(),r=IN(),a=b3(),s=w3();function l(c,d,f){return a.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l})(fb)),fb}var cT;function zJ(){return cT||(cT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$J(),r=FJ(),a=k3();function s(l,...c){const d=c.length;return d>1&&a.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=s})(ib)),ib}var mb,dT;function BJ(){return dT||(dT=1,mb=zJ().sortBy),mb}var UJ=BJ();const zx=ls(UJ);var _3=e=>e.legend.settings,HJ=e=>e.legend.size,VJ=e=>e.legend.payload,qJ=ue([VJ,_3],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?zx(a,r):a});function KJ(){return Fe(qJ)}var xh=1;function R3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>xh||Math.abs(c.left-t.left)>xh||Math.abs(c.top-t.top)>xh||Math.abs(c.width-t.width)>xh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Jn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",uT=WJ,hb=()=>Math.random().toString(36).substring(7).split("").join("."),GJ={INIT:`@@redux/INIT${hb()}`,REPLACE:`@@redux/REPLACE${hb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hb()}`},Cp=GJ;function FN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function M3(e,t,r){if(typeof e!="function")throw new Error(Jn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Jn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Jn(1));return r(M3)(e,t)}let a=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((w,C)=>{c.set(C,w)}))}function h(){if(f)throw new Error(Jn(3));return s}function g(w){if(typeof w!="function")throw new Error(Jn(4));if(f)throw new Error(Jn(5));let C=!0;m();const A=d++;return c.set(A,w),function(){if(C){if(f)throw new Error(Jn(6));C=!1,m(),c.delete(A),l=null}}}function v(w){if(!FN(w))throw new Error(Jn(7));if(typeof w.type>"u")throw new Error(Jn(8));if(typeof w.type!="string")throw new Error(Jn(17));if(f)throw new Error(Jn(9));try{f=!0,s=a(s,w)}finally{f=!1}return(l=c).forEach(A=>{A()}),w}function y(w){if(typeof w!="function")throw new Error(Jn(10));a=w,v({type:Cp.REPLACE})}function N(){const w=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Jn(11));function A(){const T=C;T.next&&T.next(h())}return A(),{unsubscribe:w(A)}},[uT](){return this}}}return v({type:Cp.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:y,[uT]:N}}function YJ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Cp.INIT})>"u")throw new Error(Jn(12));if(typeof r(void 0,{type:Cp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jn(13))})}function D3(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const a=Object.keys(r);let s;try{YJ(r)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<a.length;h++){const g=a[h],v=r[g],y=c[g],N=v(y,d);if(typeof N>"u")throw d&&d.type,new Error(Jn(14));m[g]=N,f=f||N!==y}return f=f||a.length!==Object.keys(c).length,f?m:c}}function Ep(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function QJ(...e){return t=>(r,a)=>{const s=t(r,a);let l=()=>{throw new Error(Jn(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=Ep(...d)(s.dispatch),{...s,dispatch:l}}}function L3(e){return FN(e)&&"type"in e&&typeof e.type=="string"}var I3=Symbol.for("immer-nothing"),fT=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function Da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qr=Object,Cc=Qr.getPrototypeOf,Ap="constructor",Bx="prototype",zj="configurable",Pp="enumerable",Kh="writable",Du="value",Zs=e=>!!e&&!!e[pr];function Ha(e){return e?$3(e)||Ux(e)||!!e[fT]||!!e[Ap]?.[fT]||Hx(e)||Vx(e):!1}var XJ=Qr[Bx][Ap].toString(),mT=new WeakMap;function $3(e){if(!e||!zN(e))return!1;const t=Cc(e);if(t===null||t===Qr[Bx])return!0;const r=Qr.hasOwnProperty.call(t,Ap)&&t[Ap];if(r===Object)return!0;if(!ic(r))return!1;let a=mT.get(r);return a===void 0&&(a=Function.toString.call(r),mT.set(r,a)),a===XJ}function mf(e,t,r=!0){hf(e)===0?(r?Reflect.ownKeys(e):Qr.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function hf(e){const t=e[pr];return t?t.type_:Ux(e)?1:Hx(e)?2:Vx(e)?3:0}var hT=(e,t,r=hf(e))=>r===2?e.has(t):Qr[Bx].hasOwnProperty.call(e,t),Bj=(e,t,r=hf(e))=>r===2?e.get(t):e[t],Op=(e,t,r,a=hf(e))=>{a===2?e.set(t,r):a===3?e.add(r):e[t]=r};function ZJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ux=Array.isArray,Hx=e=>e instanceof Map,Vx=e=>e instanceof Set,zN=e=>typeof e=="object",ic=e=>typeof e=="function",pb=e=>typeof e=="boolean",Ds=e=>e.copy_||e.base_,BN=e=>e.modified_?e.copy_:e.base_;function Uj(e,t){if(Hx(e))return new Map(e);if(Vx(e))return new Set(e);if(Ux(e))return Array[Bx].slice.call(e);const r=$3(e);if(t===!0||t==="class_only"&&!r){const a=Qr.getOwnPropertyDescriptors(e);delete a[pr];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d[Kh]===!1&&(d[Kh]=!0,d[zj]=!0),(d.get||d.set)&&(a[c]={[zj]:!0,[Kh]:!0,[Pp]:d[Pp],[Du]:e[c]})}return Qr.create(Cc(e),a)}else{const a=Cc(e);if(a!==null&&r)return{...e};const s=Qr.create(a);return Qr.assign(s,e)}}function UN(e,t=!1){return qx(e)||Zs(e)||!Ha(e)||(hf(e)>1&&Qr.defineProperties(e,{set:gh,add:gh,clear:gh,delete:gh}),Qr.freeze(e),t&&mf(e,(r,a)=>{UN(a,!0)},!1)),e}function JJ(){Da(2)}var gh={[Du]:JJ};function qx(e){return e===null||!zN(e)?!0:Qr.isFrozen(e)}var Tp="MapSet",Hj="Patches",F3={};function Ec(e){const t=F3[e];return t||Da(0,e),t}var eee=e=>!!F3[e],Lu,z3=()=>Lu,tee=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:eee(Tp)?Ec(Tp):void 0});function pT(e,t){t&&(e.patchPlugin_=Ec(Hj),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vj(e){qj(e),e.drafts_.forEach(nee),e.drafts_=null}function qj(e){e===Lu&&(Lu=e.parent_)}var xT=e=>Lu=tee(Lu,e);function nee(e){const t=e[pr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[pr].modified_&&(Vj(t),Da(4)),Ha(e)&&(e=vT(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[pr].base_,e,t)}else e=vT(t,r);return ree(t,e,!0),Vj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==I3?e:void 0}function vT(e,t){if(qx(t))return t;const r=t[pr];if(!r)return HN(t,e.handledSet_,e);if(!Kx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:a}=r;if(a)for(;a.length>0;)a.pop()(e);H3(r,e)}return r.copy_}function ree(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&UN(t,r)}function B3(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kx=(e,t)=>e.scope_===t,aee=[];function U3(e,t,r,a){const s=Ds(e),l=e.type_;if(a!==void 0&&Bj(s,a,l)===t){Op(s,a,r,l);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;mf(s,(f,m)=>{if(Zs(m)){const h=d.get(m)||[];h.push(f),d.set(m,h)}})}const c=e.draftLocations_.get(t)??aee;for(const d of c)Op(s,d,r,l)}function see(e,t,r){e.callbacks_.push(function(s){const l=t;if(!l||!Kx(l,s))return;s.mapSetPlugin_?.fixSetContents(l);const c=BN(l);U3(e,l.draft_??l,c,r),H3(l,s)})}function H3(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}B3(e)}}function iee(e,t,r){const{scope_:a}=e;if(Zs(r)){const s=r[pr];Kx(s,a)&&s.callbacks_.push(function(){Wh(e);const c=BN(s);U3(e,r,c,t)})}else Ha(r)&&e.callbacks_.push(function(){const l=Ds(e);Bj(l,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&HN(Bj(e.copy_,t,e.type_),a.handledSet_,a)})}function HN(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Zs(e)||t.has(e)||!Ha(e)||qx(e)||(t.add(e),mf(e,(a,s)=>{if(Zs(s)){const l=s[pr];if(Kx(l,r)){const c=BN(l);Op(e,a,c,e.type_),B3(l)}}else Ha(s)&&HN(s,t,r)})),e}function lee(e,t){const r=Ux(e),a={type_:r?1:0,scope_:t?t.scope_:z3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,l=VN;r&&(s=[a],l=Iu);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,[d,a]}var VN={get(e,t){if(t===pr)return e;const r=Ds(e);if(!hT(r,t,e.type_))return oee(e,r,t);const a=r[t];if(e.finalized_||!Ha(a))return a;if(a===xb(e.base_,t)){Wh(e);const s=e.type_===1?+t:t,l=Wj(e.scope_,a,e,s);return e.copy_[s]=l}return a},has(e,t){return t in Ds(e)},ownKeys(e){return Reflect.ownKeys(Ds(e))},set(e,t,r){const a=V3(Ds(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=xb(Ds(e),t),l=s?.[pr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(ZJ(r,s)&&(r!==void 0||hT(e.base_,t,e.type_)))return!0;Wh(e),Kj(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),iee(e,t,r)),!0},deleteProperty(e,t){return Wh(e),xb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Kj(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ds(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{[Kh]:!0,[zj]:e.type_!==1||t!=="length",[Pp]:a[Pp],[Du]:r[t]}},defineProperty(){Da(11)},getPrototypeOf(e){return Cc(e.base_)},setPrototypeOf(){Da(12)}},Iu={};mf(VN,(e,t)=>{Iu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Iu.deleteProperty=function(e,t){return Iu.set.call(this,e,t,void 0)};Iu.set=function(e,t,r){return VN.set.call(this,e[0],t,r,e[0])};function xb(e,t){const r=e[pr];return(r?Ds(r):e)[t]}function oee(e,t,r){const a=V3(t,r);return a?Du in a?a[Du]:a.get?.call(e.draft_):void 0}function V3(e,t){if(!(t in e))return;let r=Cc(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Cc(r)}}function Kj(e){e.modified_||(e.modified_=!0,e.parent_&&Kj(e.parent_))}function Wh(e){e.copy_||(e.assigned_=new Map,e.copy_=Uj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,a,s)=>{if(ic(r)&&!ic(a)){const c=a;a=r;const d=this;return function(m=c,...h){return d.produce(m,g=>a.call(this,g,...h))}}ic(a)||Da(6),s!==void 0&&!ic(s)&&Da(7);let l;if(Ha(r)){const c=xT(this),d=Wj(c,r,void 0);let f=!0;try{l=a(d),f=!1}finally{f?Vj(c):qj(c)}return pT(c,s),gT(l,c)}else if(!r||!zN(r)){if(l=a(r),l===void 0&&(l=r),l===I3&&(l=void 0),this.autoFreeze_&&UN(l,!0),s){const c=[],d=[];Ec(Hj).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:d}),s(c,d)}return l}else Da(1,r)},this.produceWithPatches=(r,a)=>{if(ic(r))return(d,...f)=>this.produceWithPatches(d,m=>r(m,...f));let s,l;return[this.produce(r,a,(d,f)=>{s=d,l=f}),s,l]},pb(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),pb(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),pb(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ha(t)||Da(8),Zs(t)&&(t=Fa(t));const r=xT(this),a=Wj(r,t,void 0);return a[pr].isManual_=!0,qj(r),a}finishDraft(t,r){const a=t&&t[pr];(!a||!a.isManual_)&&Da(9);const{scope_:s}=a;return pT(s,r),gT(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const l=r[a];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}a>-1&&(r=r.slice(a+1));const s=Ec(Hj).applyPatches_;return Zs(t)?s(t,r):this.produce(t,l=>s(l,r))}};function Wj(e,t,r,a){const[s,l]=Hx(t)?Ec(Tp).proxyMap_(t,r):Vx(t)?Ec(Tp).proxySet_(t,r):lee(t,r);return(r?.scope_??z3()).drafts_.push(s),l.callbacks_=r?.callbacks_??[],l.key_=a,r&&a!==void 0?see(r,l,a):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),s}function Fa(e){return Zs(e)||Da(10,e),q3(e)}function q3(e){if(!Ha(e)||qx(e))return e;const t=e[pr];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Uj(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Uj(e,!0);return mf(r,(s,l)=>{Op(r,s,q3(l))},a),t&&(t.finalized_=!1),r}var dee=new cee,K3=dee.produce;function W3(e){return({dispatch:r,getState:a})=>s=>l=>typeof l=="function"?l(r,a,e):s(l)}var uee=W3(),fee=W3,mee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ep:Ep.apply(null,arguments)};function Ea(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(Jr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>L3(a)&&a.type===e,r}var G3=class pu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,pu.prototype)}static get[Symbol.species](){return pu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new pu(...t[0].concat(this)):new pu(...t.concat(this))}};function yT(e){return Ha(e)?K3(e,()=>{}):e}function vh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function hee(e){return typeof e=="boolean"}var pee=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new G3;return r&&(hee(r)?c.push(uee):c.push(fee(r.extraArgument))),c},Y3="RTK_autoBatch",en=()=>e=>({payload:e,meta:{[Y3]:!0}}),bT=e=>t=>{setTimeout(t,e)},Q3=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bT(10):e.type==="callback"?e.queueNotification:bT(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const g=()=>s&&h(),v=a.subscribe(g);return d.add(h),()=>{v(),d.delete(h)}},dispatch(h){try{return s=!h?.meta?.[Y3],l=!s,l&&(c||(c=!0,f(m))),a.dispatch(h)}finally{s=!0}}})},xee=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new G3(e);return a&&s.push(Q3(typeof a=="object"?a:void 0)),s};function gee(e){const t=pee(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(FN(r))d=D3(r);else throw new Error(Jr(1));let f;typeof a=="function"?f=a(t):f=t();let m=Ep;s&&(m=mee({trace:!1,...typeof s=="object"&&s}));const h=QJ(...f),g=xee(h);let v=typeof c=="function"?c(g):g();const y=m(...v);return M3(d,l,y)}function X3(e){const t={},r=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Jr(28));if(d in t)throw new Error(Jr(29));return t[d]=c,s},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return r.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return e(s),[t,r,a]}function vee(e){return typeof e=="function"}function yee(e,t){let[r,a,s]=X3(t),l;if(vee(e))l=()=>yT(e());else{const d=yT(e);l=()=>d}function c(d=l(),f){let m=[r[f.type],...a.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,g)=>{if(g)if(Zs(h)){const y=g(h,f);return y===void 0?h:y}else{if(Ha(h))return K3(h,v=>g(v,f));{const v=g(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},d)}return c.getInitialState=l,c}var bee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jee=(e=21)=>{let t="",r=e;for(;r--;)t+=bee[Math.random()*64|0];return t},wee=Symbol.for("rtk-slice-createasyncthunk");function Nee(e,t){return`${e}/${t}`}function See({creators:e}={}){const t=e?.asyncThunk?.[wee];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(Jr(11));const c=(typeof a.reducers=="function"?a.reducers(Eee()):a.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(E,T){const k=typeof E=="string"?E:E.type;if(!k)throw new Error(Jr(12));if(k in f.sliceCaseReducersByType)throw new Error(Jr(13));return f.sliceCaseReducersByType[k]=T,m},addMatcher(E,T){return f.sliceMatchers.push({matcher:E,reducer:T}),m},exposeAction(E,T){return f.actionCreators[E]=T,m},exposeCaseReducer(E,T){return f.sliceCaseReducersByName[E]=T,m}};d.forEach(E=>{const T=c[E],k={reducerName:E,type:Nee(s,E),createNotation:typeof a.reducers=="function"};Pee(T)?Tee(k,T,m,t):Aee(k,T,m)});function h(){const[E={},T=[],k=void 0]=typeof a.extraReducers=="function"?X3(a.extraReducers):[a.extraReducers],P={...E,...f.sliceCaseReducersByType};return yee(a.initialState,M=>{for(let I in P)M.addCase(I,P[I]);for(let I of f.sliceMatchers)M.addMatcher(I.matcher,I.reducer);for(let I of T)M.addMatcher(I.matcher,I.reducer);k&&M.addDefaultCase(k)})}const g=E=>E,v=new Map,y=new WeakMap;let N;function b(E,T){return N||(N=h()),N(E,T)}function w(){return N||(N=h()),N.getInitialState()}function C(E,T=!1){function k(M){let I=M[E];return typeof I>"u"&&T&&(I=vh(y,k,w)),I}function P(M=g){const I=vh(v,T,()=>new WeakMap);return vh(I,M,()=>{const Q={};for(const[L,_]of Object.entries(a.selectors??{}))Q[L]=Cee(_,M,()=>vh(y,M,w),T);return Q})}return{reducerPath:E,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const A={name:s,reducer:b,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:w,...C(l),injectInto(E,{reducerPath:T,...k}={}){const P=T??l;return E.inject({reducerPath:P,reducer:b},k),{...A,...C(P,!0)}}};return A}}function Cee(e,t,r,a){function s(l,...c){let d=t(l);return typeof d>"u"&&a&&(d=r()),e(d,...c)}return s.unwrapped=e,s}var Dr=See();function Eee(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Aee({type:e,reducerName:t,createNotation:r},a,s){let l,c;if("reducer"in a){if(r&&!Oee(a))throw new Error(Jr(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?Ea(e,c):Ea(e))}function Pee(e){return e._reducerDefinitionType==="asyncThunk"}function Oee(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Tee({type:e,reducerName:t},r,a,s){if(!s)throw new Error(Jr(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=r,g=s(e,l,h);a.exposeAction(t,g),c&&a.addCase(g.fulfilled,c),d&&a.addCase(g.pending,d),f&&a.addCase(g.rejected,f),m&&a.addMatcher(g.settled,m),a.exposeCaseReducer(t,{fulfilled:c||yh,pending:d||yh,rejected:f||yh,settled:m||yh})}function yh(){}var kee="task",Z3="listener",J3="completed",qN="cancelled",_ee=`task-${qN}`,Ree=`task-${J3}`,Gj=`${Z3}-${qN}`,Mee=`${Z3}-${J3}`,Wx=class{constructor(e){this.code=e,this.message=`${kee} ${qN} (reason: ${e})`}name="TaskAbortError";message},KN=(e,t)=>{if(typeof e!="function")throw new TypeError(Jr(32))},kp=()=>{},eL=(e,t=kp)=>(e.catch(t),e),tL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ul=e=>{if(e.aborted)throw new Wx(e.reason)};function nL(e,t){let r=kp;return new Promise((a,s)=>{const l=()=>s(new Wx(e.reason));if(e.aborted){l();return}r=tL(e,l),t.finally(()=>r()).then(a,s)}).finally(()=>{r=kp})}var Dee=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Wx?"cancelled":"rejected",error:r}}finally{t?.()}},_p=e=>t=>eL(nL(e,t).then(r=>(Ul(e),r))),rL=e=>{const t=_p(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:hc}=Object,jT={},Gx="listenerMiddleware",Lee=(e,t)=>{const r=a=>tL(e,()=>a.abort(e.reason));return(a,s)=>{KN(a);const l=new AbortController;r(l);const c=Dee(async()=>{Ul(e),Ul(l.signal);const d=await a({pause:_p(l.signal),delay:rL(l.signal),signal:l.signal});return Ul(l.signal),d},()=>l.abort(Ree));return s?.autoJoin&&t.push(c.catch(kp)),{result:_p(e)(c),cancel(){l.abort(_ee)}}}},Iee=(e,t)=>{const r=async(a,s)=>{Ul(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:a,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await nL(t,Promise.race(d));return Ul(t),f}finally{l()}};return(a,s)=>eL(r(a,s))},aL=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:l}=e;if(t)s=Ea(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(Jr(21));return KN(l),{predicate:s,type:t,effect:l}},sL=hc(e=>{const{type:t,predicate:r,effect:a}=aL(e);return{id:jee(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Jr(22))}}},{withTypes:()=>sL}),wT=(e,t)=>{const{type:r,effect:a,predicate:s}=aL(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===s)&&l.effect===a)},Yj=e=>{e.pending.forEach(t=>{t.abort(Gj)})},$ee=(e,t)=>()=>{for(const r of t.keys())Yj(r);e.clear()},NT=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},iL=hc(Ea(`${Gx}/add`),{withTypes:()=>iL}),Fee=Ea(`${Gx}/removeAll`),lL=hc(Ea(`${Gx}/remove`),{withTypes:()=>lL}),zee=(...e)=>{console.error(`${Gx}/error`,...e)},pf=(e={})=>{const t=new Map,r=new Map,a=y=>{const N=r.get(y)??0;r.set(y,N+1)},s=y=>{const N=r.get(y)??1;N===1?r.delete(y):r.set(y,N-1)},{extra:l,onError:c=zee}=e;KN(c);const d=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),N=>{y.unsubscribe(),N?.cancelActive&&Yj(y)}),f=y=>{const N=wT(t,y)??sL(y);return d(N)};hc(f,{withTypes:()=>f});const m=y=>{const N=wT(t,y);return N&&(N.unsubscribe(),y.cancelActive&&Yj(N)),!!N};hc(m,{withTypes:()=>m});const h=async(y,N,b,w)=>{const C=new AbortController,A=Iee(f,C.signal),E=[];try{y.pending.add(C),a(y),await Promise.resolve(y.effect(N,hc({},b,{getOriginalState:w,condition:(T,k)=>A(T,k).then(Boolean),take:A,delay:rL(C.signal),pause:_p(C.signal),extra:l,signal:C.signal,fork:Lee(C.signal,E),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((T,k,P)=>{T!==C&&(T.abort(Gj),P.delete(T))})},cancel:()=>{C.abort(Gj),y.pending.delete(C)},throwIfCancelled:()=>{Ul(C.signal)}})))}catch(T){T instanceof Wx||NT(c,T,{raisedBy:"effect"})}finally{await Promise.all(E),C.abort(Mee),s(y),y.pending.delete(C)}},g=$ee(t,r);return{middleware:y=>N=>b=>{if(!L3(b))return N(b);if(iL.match(b))return f(b.payload);if(Fee.match(b)){g();return}if(lL.match(b))return m(b.payload);let w=y.getState();const C=()=>{if(w===jT)throw new Error(Jr(23));return w};let A;try{if(A=N(b),t.size>0){const E=y.getState(),T=Array.from(t.values());for(const k of T){let P=!1;try{P=k.predicate(b,E,w)}catch(M){P=!1,NT(c,M,{raisedBy:"predicate"})}P&&h(k,b,y,C)}}}finally{w=jT}return A},startListening:f,stopListening:m,clearListeners:g}};function Jr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Bee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},oL=Dr({name:"chartLayout",initialState:Bee,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Uee,setLayout:Hee,setChartSize:Vee,setScale:qee}=oL.actions,Kee=oL.reducer;function cL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(a){Wee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wee(e,t,r){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ht(e,t,r){return rn(e)||rn(t)?r:Ca(t)?to(e,t,r):typeof t=="function"?t(e):r}var Qee=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Be(e[l]))return lc(lc({},e),{},{[l]:e[l]+(a||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Be(e[c]))return lc(lc({},e),{},{[c]:e[c]+(s||0)})}return e},ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",dL=(e,t,r,a)=>{if(a)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(r),c},uL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:g,niceTicks:v,axisType:y}=e;if(!c)return null;var N=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,b=s==="category"&&c.bandwidth?c.bandwidth()/N:0;if(b=y==="angleAxis"&&l&&l.length>=2?qn(l[0]-l[1])*2*b:b,g||v){var w=(g||v||[]).map((C,A)=>{var E=a?a.indexOf(C):C;return{coordinate:c(E)+b,value:C,offset:b,index:A}});return w.filter(C=>!Rr(C.coordinate))}return f&&m?m.map((C,A)=>({coordinate:c(C)+b,value:C,index:A,offset:b})):c.ticks&&h!=null?c.ticks(h).map((C,A)=>({coordinate:c(C)+b,value:C,offset:b,index:A})):c.domain().map((C,A)=>({coordinate:c(C)+b,value:a?a[C]:C,index:A,offset:b}))},CT=1e-4,Xee=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-CT,l=Math.max(a[0],a[1])+CT,c=e(t[0]),d=e(t[r-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[r-1]])}},Zee=(e,t)=>{if(!t||t.length!==2||!Be(t[0])||!Be(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Be(e[0])||e[0]<r)&&(s[0]=r),(!Be(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},Jee=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,l=0,c=0;c<t;++c){var d=Rr(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=s,e[c][r][1]=s+d,s=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+d,l=e[c][r][1])}},ete=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,l=0;l<t;++l){var c=Rr(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},tte={sign:Jee,expand:NZ,none:Sc,silhouette:SZ,wiggle:CZ,positive:ete},nte=(e,t,r)=>{var a=tte[r],s=wZ().keys(t).value((l,c)=>Number(Ht(l,c,0))).order($j).offset(a);return s(e)};function fL(e){return e==null?void 0:String(e)}function ET(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rn(s[t.dataKey])){var d=x3(r,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return r[l]?r[l].coordinate+a/2:null}var f=Ht(s,rn(c)?t.dataKey:c);return rn(f)?null:t.scale(f)}var AT=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+a:null;var d=Ht(l,t.dataKey,t.scale.domain()[c]);return rn(d)?null:t.scale(d)-s/2+a},rte=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},ate=e=>{var t=e.flat(2).filter(Be);return[Math.min(...t),Math.max(...t)]},ste=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ite=(e,t,r)=>{if(e!=null)return ste(Object.keys(e).reduce((a,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=cL(m,t,r),g=ate(h);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},PT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ac=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=zx(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function TT(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:l}=e;return lc(lc({},t),{},{dataKey:r,payload:a,value:s,name:l})}function Zc(e,t){if(e)return String(e);if(typeof t=="string")return t}var lte=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},ote=(e,t)=>t==="centric"?e.angle:e.radius,li=e=>e.layout.width,oi=e=>e.layout.height,cte=e=>e.layout.scale,mL=e=>e.layout.margin,Yx=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qx=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),hL="data-recharts-item-index",pL="data-recharts-item-data-key",xf=60;function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(a){dte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dte(e,t,r){return(t=ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=fte(e,"string");return typeof t=="symbol"?t:t+""}function fte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mte=e=>e.brush.height;function hte(e){var t=Qx(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:xf;return r+s}return r},0)}function pte(e){var t=Qx(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:xf;return r+s}return r},0)}function xte(e){var t=Yx(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function gte(e){var t=Yx(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var Ln=ue([li,oi,mL,mte,hte,pte,xte,gte,_3,HJ],(e,t,r,a,s,l,c,d,f,m)=>{var h={left:(r.left||0)+s,right:(r.right||0)+l},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},v=bh(bh({},g),h),y=v.bottom;v.bottom+=a,v=Qee(v,f,m);var N=e-v.left-v.right,b=t-v.top-v.bottom;return bh(bh({brushBottom:y},v),{},{width:Math.max(N,0),height:Math.max(b,0)})}),vte=ue(Ln,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),WN=ue(li,oi,(e,t)=>({x:0,y:0,width:e,height:t})),yte=p.createContext(null),nr=()=>p.useContext(yte)!=null,Xx=e=>e.brush,Zx=ue([Xx,Ln,mL],(e,t,r)=>({height:e.height,x:Be(e.x)?e.x:t.left,y:Be(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Be(e.width)?e.width:t.width})),gb={},vb={},yb={},_T;function bte(){return _T||(_T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{m&&h(),b()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},a)},N=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{N(),c=void 0,d=null},w=()=>{h()},C=function(...A){if(s?.aborted)return;c=this,d=A;const E=v==null;y(),f&&E&&h()};return C.schedule=y,C.cancel=b,C.flush=w,s?.addEventListener("abort",b,{once:!0}),C}e.debounce=t})(yb)),yb}var RT;function jte(){return RT||(RT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bte();function r(a,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,g=null;const v=t.debounce(function(...b){h=a.apply(this,b),g=null},s,{edges:m}),y=function(...b){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(h=a.apply(this,b),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,b),h)},N=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=N,y}e.debounce=r})(vb)),vb}var MT;function wte(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jte();function r(a,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=r})(gb)),gb}var bb,DT;function Nte(){return DT||(DT=1,bb=wte().throttle),bb}var Ste=Nte();const Cte=ls(Ste);var Rp=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>s[c++]))}},xL=(e,t,r)=>{var{width:a="100%",height:s="100%",aspect:l,maxHeight:c}=r,d=Xs(a)?e:Number(a),f=Xs(s)?t:Number(s);return l&&l>0&&(d?f=d/l:f&&(d=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},Ete={width:0,height:0,overflow:"visible"},Ate={width:0,overflowX:"visible"},Pte={height:0,overflowY:"visible"},Ote={},Tte=e=>{var{width:t,height:r}=e,a=Xs(t),s=Xs(r);return a&&s?Ete:a?Ate:s?Pte:Ote};function kte(e){var{width:t,height:r,aspect:a}=e,s=t,l=r;return s===void 0&&l===void 0?(s="100%",l="100%"):s===void 0?s=a&&a>0?void 0:"100%":l===void 0&&(l=a&&a>0?void 0:"100%"),{width:s,height:l}}function Dt(e){return Number.isFinite(e)}function as(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qj.apply(null,arguments)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(a){_te(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _te(e,t,r){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gL=p.createContext({width:-1,height:-1});function Dte(e){return as(e.width)&&as(e.height)}function vL(e){var{children:t,width:r,height:a}=e,s=p.useMemo(()=>({width:r,height:a}),[r,a]);return Dte(s)?p.createElement(gL.Provider,{value:s},t):null}var GN=()=>p.useContext(gL),Lte=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:l,minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:g,className:v,onResize:y,style:N={}}=e,b=p.useRef(null),w=p.useRef();w.current=y,p.useImperativeHandle(t,()=>b.current);var[C,A]=p.useState({containerWidth:a.width,containerHeight:a.height}),E=p.useCallback((I,Q)=>{A(L=>{var _=Math.round(I),q=Math.round(Q);return L.containerWidth===_&&L.containerHeight===q?L:{containerWidth:_,containerHeight:q}})},[]);p.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return uf;var I=q=>{var ve,{width:K,height:ee}=q[0].contentRect;E(K,ee),(ve=w.current)===null||ve===void 0||ve.call(w,K,ee)};h>0&&(I=Cte(I,h,{trailing:!0,leading:!1}));var Q=new ResizeObserver(I),{width:L,height:_}=b.current.getBoundingClientRect();return E(L,_),Q.observe(b.current),()=>{Q.disconnect()}},[E,h]);var{containerWidth:T,containerHeight:k}=C;Rp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:M}=xL(T,k,{width:s,height:l,aspect:r,maxHeight:f});return Rp(P!=null&&P>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,s,l,c,d,r),p.createElement("div",{id:g?"".concat(g):void 0,className:wt("recharts-responsive-container",v),style:IT(IT({},N),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:b},p.createElement("div",{style:Tte({width:s,height:l})},p.createElement(vL,{width:P,height:M},m)))}),$u=p.forwardRef((e,t)=>{var r=GN();if(as(r.width)&&as(r.height))return e.children;var{width:a,height:s}=kte({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=xL(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Be(l)&&Be(c)?p.createElement(vL,{width:l,height:c},e.children):p.createElement(Lte,Qj({},e,{width:a,height:s,ref:t}))});function yL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var gf=()=>{var e,t=nr(),r=Fe(vte),a=Fe(Zx),s=(e=Fe(Xx))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},Ite={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},bL=()=>{var e;return(e=Fe(Ln))!==null&&e!==void 0?e:Ite},YN=()=>Fe(li),QN=()=>Fe(oi),$te=()=>Fe(e=>e.layout.margin),Nt=e=>e.layout.layoutType,Jc=()=>Fe(Nt),Fte=()=>{var e=Jc();if(e==="horizontal"||e==="vertical")return e},zte=()=>{var e=Jc();return e!==void 0},Jx=e=>{var t=qt(),r=nr(),{width:a,height:s}=e,l=GN(),c=a,d=s;return l&&(c=l.width>0?l.width:a,d=l.height>0?l.height:s),p.useEffect(()=>{!r&&as(c)&&as(d)&&t(Vee({width:c,height:d}))},[t,r,c,d]),null},jL=Symbol.for("immer-nothing"),$T=Symbol.for("immer-draftable"),ta=Symbol.for("immer-state");function La(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fu=Object.getPrototypeOf;function Pc(e){return!!e&&!!e[ta]}function no(e){return e?wL(e)||Array.isArray(e)||!!e[$T]||!!e.constructor?.[$T]||vf(e)||tg(e):!1}var Bte=Object.prototype.constructor.toString(),FT=new WeakMap;function wL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=FT.get(r);return a===void 0&&(a=Function.toString.call(r),FT.set(r,a)),a===Bte}function Mp(e,t,r=!0){eg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function eg(e){const t=e[ta];return t?t.type_:Array.isArray(e)?1:vf(e)?2:tg(e)?3:0}function Xj(e,t){return eg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NL(e,t,r){const a=eg(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function Ute(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vf(e){return e instanceof Map}function tg(e){return e instanceof Set}function Ml(e){return e.copy_||e.base_}function Zj(e,t){if(vf(e))return new Map(e);if(tg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wL(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[ta];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Fu(e),a)}else{const a=Fu(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function XN(e,t=!1){return ng(e)||Pc(e)||!no(e)||(eg(e)>1&&Object.defineProperties(e,{set:jh,add:jh,clear:jh,delete:jh}),Object.freeze(e),t&&Object.values(e).forEach(r=>XN(r,!0))),e}function Hte(){La(2)}var jh={value:Hte};function ng(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Vte={};function ro(e){const t=Vte[e];return t||La(0,e),t}var zu;function SL(){return zu}function qte(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zT(e,t){t&&(ro("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jj(e){ew(e),e.drafts_.forEach(Kte),e.drafts_=null}function ew(e){e===zu&&(zu=e.parent_)}function BT(e){return zu=qte(zu,e)}function Kte(e){const t=e[ta];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ta].modified_&&(Jj(t),La(4)),no(e)&&(e=Dp(t,e),t.parent_||Lp(t,e)),t.patches_&&ro("Patches").generateReplacementPatches_(r[ta].base_,e,t.patches_,t.inversePatches_)):e=Dp(t,r,[]),Jj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jL?e:void 0}function Dp(e,t,r){if(ng(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[ta];if(!s)return Mp(t,(l,c)=>HT(e,s,t,l,c,r),a),t;if(s.scope_!==e)return t;if(!s.modified_)return Lp(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let c=l,d=!1;s.type_===3&&(c=new Set(l),l.clear(),d=!0),Mp(c,(f,m)=>HT(e,s,l,f,m,r,d),a),Lp(e,l,!1),r&&e.patches_&&ro("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function HT(e,t,r,a,s,l,c){if(s==null||typeof s!="object"&&!c)return;const d=ng(s);if(!(d&&!c)){if(Pc(s)){const f=l&&t&&t.type_!==3&&!Xj(t.assigned_,a)?l.concat(a):void 0,m=Dp(e,s,f);if(NL(r,a,m),Pc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(no(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&d)return;Dp(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(vf(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&Lp(e,s)}}}function Lp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XN(t,r)}function Wte(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:SL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,l=ZN;r&&(s=[a],l=Bu);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,d}var ZN={get(e,t){if(t===ta)return e;const r=Ml(e);if(!Xj(r,t))return Gte(e,r,t);const a=r[t];return e.finalized_||!no(a)?a:a===jb(e.base_,t)?(wb(e),e.copy_[t]=nw(a,e)):a},has(e,t){return t in Ml(e)},ownKeys(e){return Reflect.ownKeys(Ml(e))},set(e,t,r){const a=CL(Ml(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=jb(Ml(e),t),l=s?.[ta];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Ute(r,s)&&(r!==void 0||Xj(e.base_,t)))return!0;wb(e),tw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,wb(e),tw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ml(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){La(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){La(12)}},Bu={};Mp(ZN,(e,t)=>{Bu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bu.deleteProperty=function(e,t){return Bu.set.call(this,e,t,void 0)};Bu.set=function(e,t,r){return ZN.set.call(this,e[0],t,r,e[0])};function jb(e,t){const r=e[ta];return(r?Ml(r):e)[t]}function Gte(e,t,r){const a=CL(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function CL(e,t){if(!(t in e))return;let r=Fu(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Fu(r)}}function tw(e){e.modified_||(e.modified_=!0,e.parent_&&tw(e.parent_))}function wb(e){e.copy_||(e.copy_=Zj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Yte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&La(6),a!==void 0&&typeof a!="function"&&La(7);let s;if(no(t)){const l=BT(this),c=nw(t,void 0);let d=!0;try{s=r(c),d=!1}finally{d?Jj(l):ew(l)}return zT(l,a),UT(s,l)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===jL&&(s=void 0),this.autoFreeze_&&XN(s,!0),a){const l=[],c=[];ro("Patches").generateReplacementPatches_(t,s,l,c),a(l,c)}return s}else La(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let a,s;return[this.produce(t,r,(c,d)=>{a=c,s=d}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){no(e)||La(8),Pc(e)&&(e=Qte(e));const t=BT(this),r=nw(e,void 0);return r[ta].isManual_=!0,ew(t),r}finishDraft(e,t){const r=e&&e[ta];(!r||!r.isManual_)&&La(9);const{scope_:a}=r;return zT(a,t),UT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=ro("Patches").applyPatches_;return Pc(e)?a(e,t):this.produce(e,s=>a(s,t))}};function nw(e,t){const r=vf(e)?ro("MapSet").proxyMap_(e,t):tg(e)?ro("MapSet").proxySet_(e,t):Wte(e,t);return(t?t.scope_:SL()).drafts_.push(r),r}function Qte(e){return Pc(e)||La(10,e),EL(e)}function EL(e){if(!no(e)||ng(e))return e;const t=e[ta];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Zj(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Zj(e,!0);return Mp(r,(s,l)=>{NL(r,s,EL(l))},a),t&&(t.finalized_=!1),r}var Xte=new Yte;Xte.produce;var Zte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},AL=Dr({name:"legend",initialState:Zte,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:en()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Fa(e).payload.indexOf(r);s>-1&&(e.payload[s]=a)},prepare:en()},removeLegendPayload:{reducer(e,t){var r=Fa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:en()}}}),{setLegendSize:VT,setLegendSettings:Jte,addLegendPayload:PL,replaceLegendPayload:OL,removeLegendPayload:TL}=AL.actions,ene=AL.reducer,tne=["contextPayload"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rw.apply(null,arguments)}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(a){nne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nne(e,t,r){return(t=rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rne(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sne(e,t){if(e==null)return{};var r,a,s=ine(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ine(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function lne(e){return e.value}function one(e){var{contextPayload:t}=e,r=sne(e,tne),a=P3(t,e.payloadUniqBy,lne),s=Oc(Oc({},r),{},{payload:a});return p.isValidElement(e.content)?p.cloneElement(e.content,s):typeof e.content=="function"?p.createElement(e.content,s):p.createElement(eJ,s)}function cne(e,t,r,a,s,l){var{layout:c,align:d,verticalAlign:f}=t,m,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?m={left:((a||0)-l.width)/2}:m=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((s||0)-l.height)/2}:h=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Oc(Oc({},m),h)}function dne(e){var t=qt();return p.useEffect(()=>{t(Jte(e))},[t,e]),null}function une(e){var t=qt();return p.useEffect(()=>(t(VT(e)),()=>{t(VT({width:0,height:0}))}),[t,e]),null}function fne(e,t,r,a){return e==="vertical"&&Be(t)?{height:t}:e==="horizontal"?{width:r||a}:null}var mne={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function yf(e){var t=bn(e,mne),r=KJ(),a=KX(),s=$te(),{width:l,height:c,wrapperStyle:d,portal:f}=t,[m,h]=R3([r]),g=YN(),v=QN();if(g==null||v==null)return null;var y=g-(s?.left||0)-(s?.right||0),N=fne(t.layout,c,l,y),b=f?d:Oc(Oc({position:"absolute",width:N?.width||l||"auto",height:N?.height||c||"auto"},cne(d,t,s,g,v,m)),d),w=f??a;if(w==null||r==null)return null;var C=p.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:h},p.createElement(dne,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&p.createElement(une,{width:m.width,height:m.height}),p.createElement(one,rw({},t,N,{margin:s,chartWidth:g,chartHeight:v,contextPayload:r})));return os.createPortal(C,w)}yf.displayName="Legend";function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aw.apply(null,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(a){hne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hne(e,t,r){return(t=pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pne(e){var t=xne(e,"string");return typeof t=="symbol"?t:t+""}function xne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gne(e){return Array.isArray(e)&&Ca(e[0])&&Ca(e[1])?e.join(" ~ "):e}var vne=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(l&&l.length){var k={padding:0,margin:0},P=(d?zx(l,d):l).map((M,I)=>{if(M.type==="none")return null;var Q=M.formatter||c||gne,{value:L,name:_}=M,q=L,ve=_;if(Q){var K=Q(L,_,M,I,l);if(Array.isArray(K))[q,ve]=K;else if(K!=null)q=K;else return null}var ee=Nb({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:ee},Ca(ve)?p.createElement("span",{className:"recharts-tooltip-item-name"},ve):null,Ca(ve)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},q),p.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:k},P)}return null},N=Nb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Nb({margin:0},s),w=!rn(h),C=w?h:"",A=wt("recharts-default-tooltip",f),E=wt("recharts-tooltip-label",m);w&&g&&l!==void 0&&l!==null&&(C=g(h,l));var T=v?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",aw({className:A,style:N},T),p.createElement("p",{className:E,style:b},p.isValidElement(C)?C:"".concat(C)),y())},au="recharts-tooltip-wrapper",yne={visibility:"hidden"};function bne(e){var{coordinate:t,translateX:r,translateY:a}=e;return wt(au,{["".concat(au,"-right")]:Be(r)&&t&&Be(t.x)&&r>=t.x,["".concat(au,"-left")]:Be(r)&&t&&Be(t.x)&&r<t.x,["".concat(au,"-bottom")]:Be(a)&&t&&Be(t.y)&&a>=t.y,["".concat(au,"-top")]:Be(a)&&t&&Be(t.y)&&a<t.y})}function WT(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&Be(l[a]))return l[a];var h=r[a]-d-(s>0?s:0),g=r[a]+s;if(t[a])return c[a]?h:g;var v=f[a];if(v==null)return 0;if(c[a]){var y=h,N=v;return y<N?Math.max(g,v):Math.max(h,v)}if(m==null)return 0;var b=g+d,w=v+m;return b>w?Math.max(h,v):Math.max(g,v)}function jne(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function wne(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,g;return c.height>0&&c.width>0&&r?(h=WT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=WT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=jne({translateX:h,translateY:g,useTranslate3d:d})):m=yne,{cssProperties:m,cssClasses:bne({translateX:h,translateY:g,coordinate:r})}}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(a){sw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sw(e,t,r){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cne extends p.PureComponent{constructor(){super(...arguments),sw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:N,lastBoundingBox:b,innerRef:w,hasPortalFromProps:C}=this.props,{cssClasses:A,cssProperties:E}=wne({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:y}),T=C?{}:wh(wh({transition:f&&t?"transform ".concat(a,"ms ").concat(s):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),k=wh(wh({},T),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},N);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:k,ref:w},l)}}var kL=()=>{var e;return(e=Fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},iw.apply(null,arguments)}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function QT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(a){Ene(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ene(e,t,r){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ane(e){var t=Pne(e,"string");return typeof t=="symbol"?t:t+""}function Pne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XT={curveBasisClosed:uZ,curveBasisOpen:fZ,curveBasis:dZ,curveBumpX:QX,curveBumpY:XX,curveLinearClosed:mZ,curveLinear:$x,curveMonotoneX:hZ,curveMonotoneY:pZ,curveNatural:xZ,curveStep:gZ,curveStepAfter:yZ,curveStepBefore:vZ},Ip=e=>Dt(e.x)&&Dt(e.y),ZT=e=>e.base!=null&&Ip(e.base)&&Ip(e),su=e=>e.x,iu=e=>e.y,One=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(df(e));return(r==="curveMonotone"||r==="curveBump")&&t?XT["".concat(r).concat(t==="vertical"?"Y":"X")]:XT[r]||$x},Tne=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:l=!1}=e,c=One(t,s),d=l?r.filter(Ip):r,f;if(Array.isArray(a)){var m=r.map((y,N)=>QT(QT({},y),{},{base:a[N]}));s==="vertical"?f=hh().y(iu).x1(su).x0(y=>y.base.x):f=hh().x(su).y1(iu).y0(y=>y.base.y);var h=f.defined(ZT).curve(c),g=l?m.filter(ZT):m;return h(g)}s==="vertical"&&Be(a)?f=hh().y(iu).x1(su).x0(a):Be(a)?f=hh().x(su).y1(iu).y0(a):f=r3().x(su).y(iu);var v=f.defined(Ip).curve(c);return v(d)},pc=e=>{var{className:t,points:r,path:a,pathRef:s}=e;if((!r||!r.length)&&!a)return null;var l=r&&r.length?Tne(e):a;return p.createElement("path",iw({},_r(e),LN(e),{className:wt("recharts-curve",t),d:l===null?void 0:l,ref:s}))},kne=["x","y","top","left","width","height","className"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lw.apply(null,arguments)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(a){Rne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rne(e,t,r){return(t=Mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lne(e,t){if(e==null)return{};var r,a,s=Ine(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ine(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var $ne=(e,t,r,a,s,l)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(t,"h").concat(r),Fne=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=Lne(e,kne),m=_ne({x:t,y:r,top:a,left:s,width:l,height:c},f);return!Be(t)||!Be(r)||!Be(l)||!Be(c)||!Be(a)||!Be(s)?null:p.createElement("path",lw({},or(m),{className:wt("recharts-cross",d),d:$ne(t,r,l,c,a,s)}))};function zne(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){Bne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bne(e,t,r){return(t=Une(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Une(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vne=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_L=(e,t,r)=>e.map(a=>"".concat(Vne(a)," ").concat(t,"ms ").concat(r)).join(","),qne=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),Uu=(e,t)=>Object.keys(t).reduce((r,a)=>tk(tk({},r),{},{[a]:e(a,t[a])}),{});function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(a){Kne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kne(e,t,r){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wne(e){var t=Gne(e,"string");return typeof t=="symbol"?t:t+""}function Gne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p=(e,t,r)=>e+(t-e)*r,ow=e=>{var{from:t,to:r}=e;return t!==r},RL=(e,t,r)=>{var a=Uu((s,l)=>{if(ow(l)){var[c,d]=e(l.from,l.to,l.velocity);return Rn(Rn({},l),{},{from:c,velocity:d})}return l},t);return r<1?Uu((s,l)=>ow(l)?Rn(Rn({},l),{},{velocity:$p(l.velocity,a[s].velocity,r),from:$p(l.from,a[s].from,r)}):l,t):RL(e,a,r-1)};function Yne(e,t,r,a,s,l){var c,d=a.reduce((v,y)=>Rn(Rn({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),f=()=>Uu((v,y)=>y.from,d),m=()=>!Object.values(d).filter(ow).length,h=null,g=v=>{c||(c=v);var y=v-c,N=y/r.dt;d=RL(r,d,N),s(Rn(Rn(Rn({},e),t),f())),c=v,m()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{var v;(v=h)===null||v===void 0||v()})}function Qne(e,t,r,a,s,l,c){var d=null,f=s.reduce((g,v)=>Rn(Rn({},g),{},{[v]:[e[v],t[v]]}),{}),m,h=g=>{m||(m=g);var v=(g-m)/a,y=Uu((b,w)=>$p(...w,r(v)),f);if(l(Rn(Rn(Rn({},e),t),y)),v<1)d=c.setTimeout(h);else{var N=Uu((b,w)=>$p(...w,r(1)),f);l(Rn(Rn(Rn({},e),t),N))}};return()=>(d=c.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}const Xne=(e,t,r,a,s,l)=>{var c=qne(e,t);return r==null?()=>(s(Rn(Rn({},e),t)),()=>{}):r.isStepper===!0?Yne(e,t,r,c,s,l):Qne(e,t,r,a,c,s,l)};var Fp=1e-4,ML=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DL=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),rk=(e,t)=>r=>{var a=ML(e,t);return DL(a,r)},Zne=(e,t)=>r=>{var a=ML(e,t),s=[...a.map((l,c)=>l*c).slice(1),0];return DL(s,r)},Jne=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,l=r[0].split("(");if(l[0]==="cubic-bezier"&&((s=l[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return r.length===4?r:[0,0,1,1]},ere=(e,t,r,a)=>{var s=rk(e,r),l=rk(t,a),c=Zne(e,r),d=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,g=h,v=0;v<8;++v){var y=s(g)-h,N=c(g);if(Math.abs(y-h)<Fp||N<Fp)return l(g);g=d(g-y/N)}return l(g)};return f.isStepper=!1,f},ak=function(){return ere(...Jne(...arguments))},tre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*r,h=f*a,g=f+(m-h)*s/1e3,v=f*s/1e3+c;return Math.abs(v-d)<Fp&&Math.abs(g)<Fp?[d,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},nre=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ak(e);case"spring":return tre();default:if(e.split("(")[0]==="cubic-bezier")return ak(e)}return typeof e=="function"?e:null};function rre(e){var t,r=()=>null,a=!1,s=null,l=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class are{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,l=c=>{c-a>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{s!=null&&cancelAnimationFrame(s)}}}function sre(){return rre(new are)}var ire=p.createContext(sre);function lre(e,t){var r=p.useContext(ire);return p.useMemo(()=>t??r(e),[e,t,r])}var ore=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ed={devToolsEnabled:!1,isSsr:ore()},cre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sk={t:0},Sb={t:1};function bf(e){var t=bn(e,cre),{isActive:r,canBegin:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=r==="auto"?!ed.isSsr:r,g=lre(t.animationId,t.animationManager),[v,y]=p.useState(h?sk:Sb),N=p.useRef(null);return p.useEffect(()=>{h||y(Sb)},[h]),p.useEffect(()=>{if(!h||!a)return uf;var b=Xne(sk,Sb,nre(l),s,y,g.getTimeoutController()),w=()=>{N.current=b()};return g.start([f,c,w,s,d]),()=>{g.stop(),N.current&&N.current(),d()}},[h,a,s,l,c,f,d,g]),m(v.t)}function jf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Mu(t)),a=p.useRef(e);return a.current!==e&&(r.current=Mu(t),a.current=e),r.current}var dre=["radius"],ure=["radius"];function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(a){fre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fre(e,t,r){return(t=mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mre(e){var t=hre(e,"string");return typeof t=="symbol"?t:t+""}function hre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zp.apply(null,arguments)}function ok(e,t){if(e==null)return{};var r,a,s=pre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pre(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var ck=(e,t,r,a,s)=>{var l=Math.min(Math.abs(r)/2,Math.abs(a)/2),c=a>=0?1:-1,d=r>=0?1:-1,f=a>=0&&r>=0||a<0&&r<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>l?l:s[g];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+r-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*h[1])),m+="L ".concat(e+r,",").concat(t+a-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-d*h[2],",").concat(t+a)),m+="L ".concat(e+d*h[3],",").concat(t+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+a-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var y=Math.min(l,s);m="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+d*y,",").concat(t,`
            L `).concat(e+r-d*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*y,`
            L `).concat(e+r,",").concat(t+a-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+r-d*y,",").concat(t+a,`
            L `).concat(e+d*y,",").concat(t+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e,",").concat(t+a-c*y," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return m},dk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LL=e=>{var t=bn(e,dk),r=p.useRef(null),[a,s]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&s(X)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:N,isUpdateAnimationActive:b}=t,w=p.useRef(d),C=p.useRef(f),A=p.useRef(l),E=p.useRef(c),T=p.useMemo(()=>({x:l,y:c,width:d,height:f,radius:m}),[l,c,d,f,m]),k=jf(T,"rectangle-");if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var P=wt("recharts-rectangle",h);if(!b){var M=or(t),{radius:I}=M,Q=ok(M,dre);return p.createElement("path",zp({},Q,{radius:typeof m=="number"?m:void 0,className:P,d:ck(l,c,d,f,m)}))}var L=w.current,_=C.current,q=A.current,ve=E.current,K="0px ".concat(a===-1?1:a,"px"),ee="".concat(a,"px 0px"),B=_L(["strokeDasharray"],v,typeof g=="string"?g:dk.animationEasing);return p.createElement(bf,{animationId:k,key:k,canBegin:a>0,duration:v,easing:g,isActive:b,begin:y},X=>{var $=Xt(L,d,X),fe=Xt(_,f,X),pe=Xt(q,l,X),R=Xt(ve,c,X);r.current&&(w.current=$,C.current=fe,A.current=pe,E.current=R);var te;N?X>0?te={transition:B,strokeDasharray:ee}:te={strokeDasharray:K}:te={strokeDasharray:ee};var me=or(t),{radius:we}=me,ae=ok(me,ure);return p.createElement("path",zp({},ae,{radius:typeof m=="number"?m:void 0,className:P,d:ck(pe,R,$,fe,m),ref:r,style:lk(lk({},te),t.style)}))})};function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(a){xre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xre(e,t,r){return(t=gre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gre(e){var t=vre(e,"string");return typeof t=="symbol"?t:t+""}function vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bp=Math.PI/180,yre=e=>e*180/Math.PI,On=(e,t,r,a)=>({x:e+Math.cos(-Bp*a)*r,y:t+Math.sin(-Bp*a)*r}),IL=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},bre=(e,t)=>{var{x:r,y:a}=e,{x:s,y:l}=t;return Math.sqrt((r-s)**2+(a-l)**2)},jre=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:l}=t,c=bre({x:r,y:a},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(r-s)/c,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:c,angle:yre(f),angleInRadian:f}},wre=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),l=Math.min(a,s);return{startAngle:t-l*360,endAngle:r-l*360}},Nre=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),l=Math.floor(a/360),c=Math.min(s,l);return e+c*360},Sre=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:s,angle:l}=jre({x:r,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=wre(t),h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?fk(fk({},t),{},{radius:s,angle:Nre(h,t)}):null};function $L(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:l}=e,c=On(t,r,a,s),d=On(t,r,a,l);return{points:[c,d],cx:t,cy:r,radius:a,startAngle:s,endAngle:l}}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cw.apply(null,arguments)}var Cre=(e,t)=>{var r=qn(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Nh=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+a,h=Math.asin(d/m)/Bp,g=f?s:s+l*h,v=On(t,r,m,g),y=On(t,r,a,g),N=f?s-l*h:s,b=On(t,r,m*Math.cos(h*Bp),N);return{center:v,circleTangency:y,lineTangency:b,theta:h}},FL=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,d=Cre(l,c),f=l+d,m=On(t,r,s,l),h=On(t,r,s,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var v=On(t,r,a,l),y=On(t,r,a,f);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},Ere=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=qn(m-f),{circleTangency:g,lineTangency:v,theta:y}=Nh({cx:t,cy:r,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:N,lineTangency:b,theta:w}=Nh({cx:t,cy:r,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),C=d?Math.abs(f-m):Math.abs(f-m)-y-w;if(C<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):FL({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var{circleTangency:E,lineTangency:T,theta:k}=Nh({cx:t,cy:r,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:P,lineTangency:M,theta:I}=Nh({cx:t,cy:r,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),Q=d?Math.abs(f-m):Math.abs(f-m)-k-I;if(Q<0&&l===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Q>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},Are={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zL=e=>{var t=bn(e,Are),{cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:g}=t;if(l<s||m===h)return null;var v=wt("recharts-sector",g),y=l-s,N=ir(c,y,0,!0),b;return N>0&&Math.abs(m-h)<360?b=Ere({cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(N,y/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):b=FL({cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),p.createElement("path",cw({},or(t),{className:v,d:b}))};function Pre(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(v3(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:l,outerRadius:c,angle:d}=t,f=On(a,s,l,d),m=On(a,s,c,d);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return $L(t)}}var Cb={},Eb={},Ab={},mk;function Ore(){return mk||(mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T3();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(Ab)),Ab}var hk;function Tre(){return hk||(hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ore();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(Eb)),Eb}var pk;function kre(){return pk||(pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k3(),r=Tre();function a(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=r.toFinite(s),l===void 0?(l=s,s=0):l=r.toFinite(l),c=c===void 0?s<l?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=a})(Cb)),Cb}var Pb,xk;function _re(){return xk||(xk=1,Pb=kre().range),Pb}var Rre=_re();const BL=ls(Rre);function Vi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JN(e){let t,r,a;e.length!==2?(t=Vi,r=(d,f)=>Vi(e(d),f),a=(d,f)=>e(d)-f):(t=e===Vi||e===Mre?e:Dre,r=e,a=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<0?m=g+1:h=g}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<=0?m=g+1:h=g}while(m<h)}return m}function c(d,f,m=0,h=d.length){const g=s(d,f,m,h-1);return g>m&&a(d[g-1],f)>-a(d[g],f)?g-1:g}return{left:s,center:c,right:l}}function Dre(){return 0}function UL(e){return e===null?NaN:+e}function*Lre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ire=JN(Vi),wf=Ire.right;JN(UL).center;class gk extends Map{constructor(t,r=zre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(vk(this,t))}has(t){return super.has(vk(this,t))}set(t,r){return super.set($re(this,t),r)}delete(t){return super.delete(Fre(this,t))}}function vk({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function $re({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Fre({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function zre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bre(e=Vi){if(e===Vi)return HL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function HL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ure=Math.sqrt(50),Hre=Math.sqrt(10),Vre=Math.sqrt(2);function Up(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),l=a/Math.pow(10,s),c=l>=Ure?10:l>=Hre?5:l>=Vre?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=r&&r<2?Up(e,t,r*2):[d,f,m]}function dw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,l,c]=a?Up(t,e,r):Up(e,t,r);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(a)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function uw(e,t,r){return t=+t,e=+e,r=+r,Up(e,t,r)[2]}function fw(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?uw(t,e,r):uw(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function yk(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function bk(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function VL(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?HL:Bre(s);a>r;){if(a-r>600){const f=a-r+1,m=t-r+1,h=Math.log(f),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(f-g)/f)*(m-f/2<0?-1:1),y=Math.max(r,Math.floor(t-m*g/f+v)),N=Math.min(a,Math.floor(t+(f-m)*g/f+v));VL(e,t,y,N,s)}const l=e[t];let c=r,d=a;for(lu(e,r,t),s(e[a],l)>0&&lu(e,r,a);c<d;){for(lu(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[r],l)===0?lu(e,r,d):(++d,lu(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function lu(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function qre(e,t,r){if(e=Float64Array.from(Lre(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return bk(e);if(t>=1)return yk(e);var a,s=(a-1)*t,l=Math.floor(s),c=yk(VL(e,l).subarray(0,l+1)),d=bk(e.subarray(l+1));return c+(d-c)*(s-l)}}function Kre(e,t,r=UL){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,l=Math.floor(s),c=+r(e[l],l,e),d=+r(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function Wre(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(s);++a<s;)l[a]=e+a*r;return l}function Oa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mw=Symbol("implicit");function e1(){var e=new gk,t=[],r=[],a=mw;function s(l){let c=e.get(l);if(c===void 0){if(a!==mw)return a;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new gk;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(r=Array.from(l),s):r.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return e1(t,r).unknown(a)},Oa.apply(s,arguments),s}function t1(){var e=e1().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function g(){var v=t().length,y=s<a,N=y?s:a,b=y?a:s;l=(b-N)/Math.max(1,v-f+m*2),d&&(l=Math.floor(l)),N+=(b-N-l*(v-f))*h,c=l*(1-f),d&&(N=Math.round(N),c=Math.round(c));var w=Wre(v).map(function(C){return N+l*C});return r(y?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([a,s]=v,a=+a,s=+s,g()):[a,s]},e.rangeRound=function(v){return[a,s]=v,a=+a,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,g()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return t1(t(),[a,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},Oa.apply(g(),arguments)}function qL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qL(t())},e}function Gre(){return qL(t1.apply(null,arguments).paddingInner(1))}function n1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KL(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Nf(){}var Hu=.7,Hp=1/Hu,xc="\\s*([+-]?\\d+)\\s*",Vu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yre=/^#([0-9a-f]{3,8})$/,Qre=new RegExp(`^rgb\\(${xc},${xc},${xc}\\)$`),Xre=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),Zre=new RegExp(`^rgba\\(${xc},${xc},${xc},${Vu}\\)$`),Jre=new RegExp(`^rgba\\(${ns},${ns},${ns},${Vu}\\)$`),eae=new RegExp(`^hsl\\(${Vu},${ns},${ns}\\)$`),tae=new RegExp(`^hsla\\(${Vu},${ns},${ns},${Vu}\\)$`),jk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n1(Nf,qu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wk,formatHex:wk,formatHex8:nae,formatHsl:rae,formatRgb:Nk,toString:Nk});function wk(){return this.rgb().formatHex()}function nae(){return this.rgb().formatHex8()}function rae(){return WL(this).formatHsl()}function Nk(){return this.rgb().formatRgb()}function qu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Yre.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Sk(t):r===3?new Pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qre.exec(e))?new Pr(t[1],t[2],t[3],1):(t=Xre.exec(e))?new Pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zre.exec(e))?Sh(t[1],t[2],t[3],t[4]):(t=Jre.exec(e))?Sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eae.exec(e))?Ak(t[1],t[2]/100,t[3]/100,1):(t=tae.exec(e))?Ak(t[1],t[2]/100,t[3]/100,t[4]):jk.hasOwnProperty(e)?Sk(jk[e]):e==="transparent"?new Pr(NaN,NaN,NaN,0):null}function Sk(e){return new Pr(e>>16&255,e>>8&255,e&255,1)}function Sh(e,t,r,a){return a<=0&&(e=t=r=NaN),new Pr(e,t,r,a)}function aae(e){return e instanceof Nf||(e=qu(e)),e?(e=e.rgb(),new Pr(e.r,e.g,e.b,e.opacity)):new Pr}function hw(e,t,r,a){return arguments.length===1?aae(e):new Pr(e,t,r,a??1)}function Pr(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}n1(Pr,hw,KL(Nf,{brighter(e){return e=e==null?Hp:Math.pow(Hp,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hu:Math.pow(Hu,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pr(Hl(this.r),Hl(this.g),Hl(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ck,formatHex:Ck,formatHex8:sae,formatRgb:Ek,toString:Ek}));function Ck(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function sae(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ek(){const e=Vp(this.opacity);return`${e===1?"rgb(":"rgba("}${Hl(this.r)}, ${Hl(this.g)}, ${Hl(this.b)}${e===1?")":`, ${e})`}`}function Vp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fl(e){return e=Hl(e),(e<16?"0":"")+e.toString(16)}function Ak(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,r,a)}function WL(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof Nf||(e=qu(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),l=Math.max(t,r,a),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(r-a)/d+(r<a)*6:r===l?c=(a-t)/d+2:c=(t-r)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new Ia(c,d,f,e.opacity)}function iae(e,t,r,a){return arguments.length===1?WL(e):new Ia(e,t,r,a??1)}function Ia(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}n1(Ia,iae,KL(Nf,{brighter(e){return e=e==null?Hp:Math.pow(Hp,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hu:Math.pow(Hu,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Pr(Ob(e>=240?e-240:e+120,s,a),Ob(e,s,a),Ob(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Ia(Pk(this.h),Ch(this.s),Ch(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vp(this.opacity);return`${e===1?"hsl(":"hsla("}${Pk(this.h)}, ${Ch(this.s)*100}%, ${Ch(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pk(e){return e=(e||0)%360,e<0?e+360:e}function Ch(e){return Math.max(0,Math.min(1,e||0))}function Ob(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const r1=e=>()=>e;function lae(e,t){return function(r){return e+r*t}}function oae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function cae(e){return(e=+e)==1?GL:function(t,r){return r-t?oae(t,r,e):r1(isNaN(t)?r:t)}}function GL(e,t){var r=t-e;return r?lae(e,r):r1(isNaN(e)?t:e)}const Ok=(function e(t){var r=cae(t);function a(s,l){var c=r((s=hw(s)).r,(l=hw(l)).r),d=r(s.g,l.g),f=r(s.b,l.b),m=GL(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return a.gamma=e,a})(1);function dae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(l){for(s=0;s<r;++s)a[s]=e[s]*(1-l)+t[s]*l;return a}}function uae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fae(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),l=new Array(r),c;for(c=0;c<a;++c)s[c]=td(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(d){for(c=0;c<a;++c)l[c]=s[c](d);return l}}function mae(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function qp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function hae(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=td(e[s],t[s]):a[s]=t[s];return function(l){for(s in r)a[s]=r[s](l);return a}}var pw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tb=new RegExp(pw.source,"g");function pae(e){return function(){return e}}function xae(e){return function(t){return e(t)+""}}function gae(e,t){var r=pw.lastIndex=Tb.lastIndex=0,a,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(a=pw.exec(e))&&(s=Tb.exec(t));)(l=s.index)>r&&(l=t.slice(r,l),d[c]?d[c]+=l:d[++c]=l),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:qp(a,s)})),r=Tb.lastIndex;return r<t.length&&(l=t.slice(r),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?xae(f[0].x):pae(t):(t=f.length,function(m){for(var h=0,g;h<t;++h)d[(g=f[h]).i]=g.x(m);return d.join("")})}function td(e,t){var r=typeof t,a;return t==null||r==="boolean"?r1(t):(r==="number"?qp:r==="string"?(a=qu(t))?(t=a,Ok):gae:t instanceof qu?Ok:t instanceof Date?mae:uae(t)?dae:Array.isArray(t)?fae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hae:qp)(e,t)}function a1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vae(e,t){t===void 0&&(t=e,e=td);for(var r=0,a=t.length-1,s=t[0],l=new Array(a<0?0:a);r<a;)l[r]=e(s,s=t[++r]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return l[d](c-d)}}function yae(e){return function(){return e}}function Kp(e){return+e}var Tk=[0,1];function hr(e){return e}function xw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:yae(isNaN(t)?NaN:.5)}function bae(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function jae(e,t,r){var a=e[0],s=e[1],l=t[0],c=t[1];return s<a?(a=xw(s,a),l=r(c,l)):(a=xw(a,s),l=r(l,c)),function(d){return l(a(d))}}function wae(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),l=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=xw(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(d){var f=wf(e,d,1,a)-1;return l[f](s[f](d))}}function Sf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rg(){var e=Tk,t=Tk,r=td,a,s,l,c=hr,d,f,m;function h(){var v=Math.min(e.length,t.length);return c!==hr&&(c=bae(e[0],e[v-1])),d=v>2?wae:jae,f=m=null,g}function g(v){return v==null||isNaN(v=+v)?l:(f||(f=d(e.map(a),t,r)))(a(c(v)))}return g.invert=function(v){return c(s((m||(m=d(t,e.map(a),qp)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Kp),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=a1,h()},g.clamp=function(v){return arguments.length?(c=v?!0:hr,h()):c!==hr},g.interpolate=function(v){return arguments.length?(r=v,h()):r},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,y){return a=v,s=y,h()}}function s1(){return rg()(hr,hr)}function Nae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Tc(e){return e=Wp(Math.abs(e)),e?e[1]:NaN}function Sae(e,t){return function(r,a){for(var s=r.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>a&&(d=Math.max(1,a-f)),l.push(r.substring(s-=d,s+d)),!((f+=d+1)>a));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function Cae(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Eae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ku(e){if(!(t=Eae.exec(e)))throw new Error("invalid format: "+e);var t;return new i1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ku.prototype=i1.prototype;function i1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}i1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aae(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var YL;function Pae(e,t){var r=Wp(e,t);if(!r)return e+"";var a=r[0],s=r[1],l=s-(YL=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return l===c?a:l>c?a+new Array(l-c+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+Wp(e,Math.max(0,t+l-1))[0]}function kk(e,t){var r=Wp(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const _k={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Nae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kk(e*100,t),r:kk,s:Pae,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Rk(e){return e}var Mk=Array.prototype.map,Dk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Oae(e){var t=e.grouping===void 0||e.thousands===void 0?Rk:Sae(Mk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Rk:Cae(Mk.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(g){g=Ku(g);var v=g.fill,y=g.align,N=g.sign,b=g.symbol,w=g.zero,C=g.width,A=g.comma,E=g.precision,T=g.trim,k=g.type;k==="n"?(A=!0,k="g"):_k[k]||(E===void 0&&(E=12),T=!0,k="g"),(w||v==="0"&&y==="=")&&(w=!0,v="0",y="=");var P=b==="$"?r:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M=b==="$"?a:/[%p]/.test(k)?c:"",I=_k[k],Q=/[defgprs%]/.test(k);E=E===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L(_){var q=P,ve=M,K,ee,B;if(k==="c")ve=I(_)+ve,_="";else{_=+_;var X=_<0||1/_<0;if(_=isNaN(_)?f:I(Math.abs(_),E),T&&(_=Aae(_)),X&&+_==0&&N!=="+"&&(X=!1),q=(X?N==="("?N:d:N==="-"||N==="("?"":N)+q,ve=(k==="s"?Dk[8+YL/3]:"")+ve+(X&&N==="("?")":""),Q){for(K=-1,ee=_.length;++K<ee;)if(B=_.charCodeAt(K),48>B||B>57){ve=(B===46?s+_.slice(K+1):_.slice(K))+ve,_=_.slice(0,K);break}}}A&&!w&&(_=t(_,1/0));var $=q.length+_.length+ve.length,fe=$<C?new Array(C-$+1).join(v):"";switch(A&&w&&(_=t(fe+_,fe.length?C-ve.length:1/0),fe=""),y){case"<":_=q+_+ve+fe;break;case"=":_=q+fe+_+ve;break;case"^":_=fe.slice(0,$=fe.length>>1)+q+_+ve+fe.slice($);break;default:_=fe+q+_+ve;break}return l(_)}return L.toString=function(){return g+""},L}function h(g,v){var y=m((g=Ku(g),g.type="f",g)),N=Math.max(-8,Math.min(8,Math.floor(Tc(v)/3)))*3,b=Math.pow(10,-N),w=Dk[8+N/3];return function(C){return y(b*C)+w}}return{format:m,formatPrefix:h}}var Eh,l1,QL;Tae({thousands:",",grouping:[3],currency:["$",""]});function Tae(e){return Eh=Oae(e),l1=Eh.format,QL=Eh.formatPrefix,Eh}function kae(e){return Math.max(0,-Tc(Math.abs(e)))}function _ae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tc(t)/3)))*3-Tc(Math.abs(e)))}function Rae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tc(t)-Tc(e))+1}function XL(e,t,r,a){var s=fw(e,t,r),l;switch(a=Ku(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(l=_ae(s,c))&&(a.precision=l),QL(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(l=Rae(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=l-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(l=kae(s))&&(a.precision=l-(a.type==="%")*2);break}}return l1(a)}function ll(e){var t=e.domain;return e.ticks=function(r){var a=t();return dw(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return XL(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,l=a.length-1,c=a[s],d=a[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=uw(c,d,r),m===f)return a[s]=c,a[l]=d,t(a);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function ZL(){var e=s1();return e.copy=function(){return Sf(e,ZL())},Oa.apply(e,arguments),ll(e)}function JL(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Kp),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return JL(e).unknown(t)},e=arguments.length?Array.from(e,Kp):[0,1],ll(r)}function eI(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],l=e[a],c;return l<s&&(c=r,r=a,a=c,c=s,s=l,l=c),e[r]=t.floor(s),e[a]=t.ceil(l),e}function Lk(e){return Math.log(e)}function Ik(e){return Math.exp(e)}function Mae(e){return-Math.log(-e)}function Dae(e){return-Math.exp(-e)}function Lae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Iae(e){return e===10?Lae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $ae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $k(e){return(t,r)=>-e(-t,r)}function o1(e){const t=e(Lk,Ik),r=t.domain;let a=10,s,l;function c(){return s=$ae(a),l=Iae(a),r()[0]<0?(s=$k(s),l=$k(l),e(Mae,Dae)):e(Lk,Ik),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const f=r();let m=f[0],h=f[f.length-1];const g=h<m;g&&([m,h]=[h,m]);let v=s(m),y=s(h),N,b;const w=d==null?10:+d;let C=[];if(!(a%1)&&y-v<w){if(v=Math.floor(v),y=Math.ceil(y),m>0){for(;v<=y;++v)for(N=1;N<a;++N)if(b=v<0?N/l(-v):N*l(v),!(b<m)){if(b>h)break;C.push(b)}}else for(;v<=y;++v)for(N=a-1;N>=1;--N)if(b=v>0?N/l(-v):N*l(v),!(b<m)){if(b>h)break;C.push(b)}C.length*2<w&&(C=dw(m,h,w))}else C=dw(v,y,Math.min(y-v,w)).map(l);return g?C.reverse():C},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=a===10?"s":","),typeof f!="function"&&(!(a%1)&&(f=Ku(f)).precision==null&&(f.trim=!0),f=l1(f)),d===1/0)return f;const m=Math.max(1,a*d/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*a<a-.5&&(g*=a),g<=m?f(h):""}},t.nice=()=>r(eI(r(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function tI(){const e=o1(rg()).domain([1,10]);return e.copy=()=>Sf(e,tI()).base(e.base()),Oa.apply(e,arguments),e}function Fk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function c1(e){var t=1,r=e(Fk(t),zk(t));return r.constant=function(a){return arguments.length?e(Fk(t=+a),zk(t)):t},ll(r)}function nI(){var e=c1(rg());return e.copy=function(){return Sf(e,nI()).constant(e.constant())},Oa.apply(e,arguments)}function Bk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Fae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zae(e){return e<0?-e*e:e*e}function d1(e){var t=e(hr,hr),r=1;function a(){return r===1?e(hr,hr):r===.5?e(Fae,zae):e(Bk(r),Bk(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},ll(t)}function u1(){var e=d1(rg());return e.copy=function(){return Sf(e,u1()).exponent(e.exponent())},Oa.apply(e,arguments),e}function Bae(){return u1.apply(null,arguments).exponent(.5)}function Uk(e){return Math.sign(e)*e*e}function Uae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rI(){var e=s1(),t=[0,1],r=!1,a;function s(l){var c=Uae(e(l));return isNaN(c)?a:r?Math.round(c):c}return s.invert=function(l){return e.invert(Uk(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Kp)).map(Uk)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(r=!!l,s):r},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return rI(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Oa.apply(s,arguments),ll(s)}function aI(){var e=[],t=[],r=[],a;function s(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=Kre(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?a:t[wf(r,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Vi),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(a=c,l):a},l.quantiles=function(){return r.slice()},l.copy=function(){return aI().domain(e).range(t).unknown(a)},Oa.apply(l,arguments)}function sI(){var e=0,t=1,r=1,a=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[wf(a,f,0,r)]:l}function d(){var f=-1;for(a=new Array(r);++f<r;)a[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(r=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=r?[a[r-1],t]:[a[m-1],a[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return a.slice()},c.copy=function(){return sI().domain([e,t]).range(s).unknown(l)},Oa.apply(ll(c),arguments)}function iI(){var e=[.5],t=[0,1],r,a=1;function s(l){return l!=null&&l<=l?t[wf(e,l,0,a)]:r}return s.domain=function(l){return arguments.length?(e=Array.from(l),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return iI().domain(e).range(t).unknown(r)},Oa.apply(s,arguments)}const kb=new Date,_b=new Date;function In(e,t,r,a){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>In(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),r&&(s.count=(l,c)=>(kb.setTime(+l),_b.setTime(+c),e(kb),e(_b),Math.floor(r(kb,_b))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(a?c=>a(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const Gp=In(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?In(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gp);Gp.range;const $s=1e3,Sa=$s*60,Fs=Sa*60,Js=Fs*24,f1=Js*7,Hk=Js*30,Rb=Js*365,zl=In(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$s)},(e,t)=>(t-e)/$s,e=>e.getUTCSeconds());zl.range;const m1=In(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$s)},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getMinutes());m1.range;const h1=In(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getUTCMinutes());h1.range;const p1=In(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$s-e.getMinutes()*Sa)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getHours());p1.range;const x1=In(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getUTCHours());x1.range;const Cf=In(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sa)/Js,e=>e.getDate()-1);Cf.range;const ag=In(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Js,e=>e.getUTCDate()-1);ag.range;const lI=In(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Js,e=>Math.floor(e/Js));lI.range;function uo(e){return In(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Sa)/f1)}const sg=uo(0),Yp=uo(1),Hae=uo(2),Vae=uo(3),kc=uo(4),qae=uo(5),Kae=uo(6);sg.range;Yp.range;Hae.range;Vae.range;kc.range;qae.range;Kae.range;function fo(e){return In(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/f1)}const ig=fo(0),Qp=fo(1),Wae=fo(2),Gae=fo(3),_c=fo(4),Yae=fo(5),Qae=fo(6);ig.range;Qp.range;Wae.range;Gae.range;_c.range;Yae.range;Qae.range;const g1=In(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());g1.range;const v1=In(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());v1.range;const ei=In(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:In(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ei.range;const ti=In(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:In(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ti.range;function oI(e,t,r,a,s,l){const c=[[zl,1,$s],[zl,5,5*$s],[zl,15,15*$s],[zl,30,30*$s],[l,1,Sa],[l,5,5*Sa],[l,15,15*Sa],[l,30,30*Sa],[s,1,Fs],[s,3,3*Fs],[s,6,6*Fs],[s,12,12*Fs],[a,1,Js],[a,2,2*Js],[r,1,f1],[t,1,Hk],[t,3,3*Hk],[e,1,Rb]];function d(m,h,g){const v=h<m;v&&([m,h]=[h,m]);const y=g&&typeof g.range=="function"?g:f(m,h,g),N=y?y.range(m,+h+1):[];return v?N.reverse():N}function f(m,h,g){const v=Math.abs(h-m)/g,y=JN(([,,w])=>w).right(c,v);if(y===c.length)return e.every(fw(m/Rb,h/Rb,g));if(y===0)return Gp.every(Math.max(fw(m,h,g),1));const[N,b]=c[v/c[y-1][2]<c[y][2]/v?y-1:y];return N.every(b)}return[d,f]}const[Xae,Zae]=oI(ti,v1,ig,lI,x1,h1),[Jae,ese]=oI(ei,g1,sg,Cf,p1,m1);function Mb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Db(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ou(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tse(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=cu(s),h=du(s),g=cu(l),v=du(l),y=cu(c),N=du(c),b=cu(d),w=du(d),C=cu(f),A=du(f),E={a:X,A:$,b:fe,B:pe,c:null,d:Yk,e:Yk,f:Sse,g:Mse,G:Lse,H:jse,I:wse,j:Nse,L:cI,m:Cse,M:Ese,p:R,q:te,Q:Zk,s:Jk,S:Ase,u:Pse,U:Ose,V:Tse,w:kse,W:_se,x:null,X:null,y:Rse,Y:Dse,Z:Ise,"%":Xk},T={a:me,A:we,b:ae,B:Le,c:null,d:Qk,e:Qk,f:Bse,g:Xse,G:Jse,H:$se,I:Fse,j:zse,L:uI,m:Use,M:Hse,p:F,q:Ee,Q:Zk,s:Jk,S:Vse,u:qse,U:Kse,V:Wse,w:Gse,W:Yse,x:null,X:null,y:Qse,Y:Zse,Z:eie,"%":Xk},k={a:L,A:_,b:q,B:ve,c:K,d:Wk,e:Wk,f:gse,g:Kk,G:qk,H:Gk,I:Gk,j:mse,L:xse,m:fse,M:hse,p:Q,q:use,Q:yse,s:bse,S:pse,u:ise,U:lse,V:ose,w:sse,W:cse,x:ee,X:B,y:Kk,Y:qk,Z:dse,"%":vse};E.x=P(r,E),E.X=P(a,E),E.c=P(t,E),T.x=P(r,T),T.X=P(a,T),T.c=P(t,T);function P(ne,Ae){return function($e){var xe=[],nt=-1,Ge=0,Lt=ne.length,kt,Z,le;for($e instanceof Date||($e=new Date(+$e));++nt<Lt;)ne.charCodeAt(nt)===37&&(xe.push(ne.slice(Ge,nt)),(Z=Vk[kt=ne.charAt(++nt)])!=null?kt=ne.charAt(++nt):Z=kt==="e"?" ":"0",(le=Ae[kt])&&(kt=le($e,Z)),xe.push(kt),Ge=nt+1);return xe.push(ne.slice(Ge,nt)),xe.join("")}}function M(ne,Ae){return function($e){var xe=ou(1900,void 0,1),nt=I(xe,ne,$e+="",0),Ge,Lt;if(nt!=$e.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Ae&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Ge=Db(ou(xe.y,0,1)),Lt=Ge.getUTCDay(),Ge=Lt>4||Lt===0?Qp.ceil(Ge):Qp(Ge),Ge=ag.offset(Ge,(xe.V-1)*7),xe.y=Ge.getUTCFullYear(),xe.m=Ge.getUTCMonth(),xe.d=Ge.getUTCDate()+(xe.w+6)%7):(Ge=Mb(ou(xe.y,0,1)),Lt=Ge.getDay(),Ge=Lt>4||Lt===0?Yp.ceil(Ge):Yp(Ge),Ge=Cf.offset(Ge,(xe.V-1)*7),xe.y=Ge.getFullYear(),xe.m=Ge.getMonth(),xe.d=Ge.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Lt="Z"in xe?Db(ou(xe.y,0,1)).getUTCDay():Mb(ou(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Lt+5)%7:xe.w+xe.U*7-(Lt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,Db(xe)):Mb(xe)}}function I(ne,Ae,$e,xe){for(var nt=0,Ge=Ae.length,Lt=$e.length,kt,Z;nt<Ge;){if(xe>=Lt)return-1;if(kt=Ae.charCodeAt(nt++),kt===37){if(kt=Ae.charAt(nt++),Z=k[kt in Vk?Ae.charAt(nt++):kt],!Z||(xe=Z(ne,$e,xe))<0)return-1}else if(kt!=$e.charCodeAt(xe++))return-1}return xe}function Q(ne,Ae,$e){var xe=m.exec(Ae.slice($e));return xe?(ne.p=h.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function L(ne,Ae,$e){var xe=y.exec(Ae.slice($e));return xe?(ne.w=N.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function _(ne,Ae,$e){var xe=g.exec(Ae.slice($e));return xe?(ne.w=v.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function q(ne,Ae,$e){var xe=C.exec(Ae.slice($e));return xe?(ne.m=A.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function ve(ne,Ae,$e){var xe=b.exec(Ae.slice($e));return xe?(ne.m=w.get(xe[0].toLowerCase()),$e+xe[0].length):-1}function K(ne,Ae,$e){return I(ne,t,Ae,$e)}function ee(ne,Ae,$e){return I(ne,r,Ae,$e)}function B(ne,Ae,$e){return I(ne,a,Ae,$e)}function X(ne){return c[ne.getDay()]}function $(ne){return l[ne.getDay()]}function fe(ne){return f[ne.getMonth()]}function pe(ne){return d[ne.getMonth()]}function R(ne){return s[+(ne.getHours()>=12)]}function te(ne){return 1+~~(ne.getMonth()/3)}function me(ne){return c[ne.getUTCDay()]}function we(ne){return l[ne.getUTCDay()]}function ae(ne){return f[ne.getUTCMonth()]}function Le(ne){return d[ne.getUTCMonth()]}function F(ne){return s[+(ne.getUTCHours()>=12)]}function Ee(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Ae=P(ne+="",E);return Ae.toString=function(){return ne},Ae},parse:function(ne){var Ae=M(ne+="",!1);return Ae.toString=function(){return ne},Ae},utcFormat:function(ne){var Ae=P(ne+="",T);return Ae.toString=function(){return ne},Ae},utcParse:function(ne){var Ae=M(ne+="",!0);return Ae.toString=function(){return ne},Ae}}}var Vk={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,nse=/^%/,rse=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",l=s.length;return a+(l<r?new Array(r-l+1).join(t)+s:s)}function ase(e){return e.replace(rse,"\\$&")}function cu(e){return new RegExp("^(?:"+e.map(ase).join("|")+")","i")}function du(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function sse(e,t,r){var a=Kn.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function ise(e,t,r){var a=Kn.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function lse(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function ose(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function cse(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function qk(e,t,r){var a=Kn.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Kk(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function dse(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function use(e,t,r){var a=Kn.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function fse(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function Wk(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function mse(e,t,r){var a=Kn.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function Gk(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function hse(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function pse(e,t,r){var a=Kn.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function xse(e,t,r){var a=Kn.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function gse(e,t,r){var a=Kn.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function vse(e,t,r){var a=nse.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function yse(e,t,r){var a=Kn.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function bse(e,t,r){var a=Kn.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function Yk(e,t){return Pt(e.getDate(),t,2)}function jse(e,t){return Pt(e.getHours(),t,2)}function wse(e,t){return Pt(e.getHours()%12||12,t,2)}function Nse(e,t){return Pt(1+Cf.count(ei(e),e),t,3)}function cI(e,t){return Pt(e.getMilliseconds(),t,3)}function Sse(e,t){return cI(e,t)+"000"}function Cse(e,t){return Pt(e.getMonth()+1,t,2)}function Ese(e,t){return Pt(e.getMinutes(),t,2)}function Ase(e,t){return Pt(e.getSeconds(),t,2)}function Pse(e){var t=e.getDay();return t===0?7:t}function Ose(e,t){return Pt(sg.count(ei(e)-1,e),t,2)}function dI(e){var t=e.getDay();return t>=4||t===0?kc(e):kc.ceil(e)}function Tse(e,t){return e=dI(e),Pt(kc.count(ei(e),e)+(ei(e).getDay()===4),t,2)}function kse(e){return e.getDay()}function _se(e,t){return Pt(Yp.count(ei(e)-1,e),t,2)}function Rse(e,t){return Pt(e.getFullYear()%100,t,2)}function Mse(e,t){return e=dI(e),Pt(e.getFullYear()%100,t,2)}function Dse(e,t){return Pt(e.getFullYear()%1e4,t,4)}function Lse(e,t){var r=e.getDay();return e=r>=4||r===0?kc(e):kc.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function Ise(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function Qk(e,t){return Pt(e.getUTCDate(),t,2)}function $se(e,t){return Pt(e.getUTCHours(),t,2)}function Fse(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function zse(e,t){return Pt(1+ag.count(ti(e),e),t,3)}function uI(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function Bse(e,t){return uI(e,t)+"000"}function Use(e,t){return Pt(e.getUTCMonth()+1,t,2)}function Hse(e,t){return Pt(e.getUTCMinutes(),t,2)}function Vse(e,t){return Pt(e.getUTCSeconds(),t,2)}function qse(e){var t=e.getUTCDay();return t===0?7:t}function Kse(e,t){return Pt(ig.count(ti(e)-1,e),t,2)}function fI(e){var t=e.getUTCDay();return t>=4||t===0?_c(e):_c.ceil(e)}function Wse(e,t){return e=fI(e),Pt(_c.count(ti(e),e)+(ti(e).getUTCDay()===4),t,2)}function Gse(e){return e.getUTCDay()}function Yse(e,t){return Pt(Qp.count(ti(e)-1,e),t,2)}function Qse(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function Xse(e,t){return e=fI(e),Pt(e.getUTCFullYear()%100,t,2)}function Zse(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function Jse(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_c(e):_c.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function eie(){return"+0000"}function Xk(){return"%"}function Zk(e){return+e}function Jk(e){return Math.floor(+e/1e3)}var nc,mI,hI;tie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tie(e){return nc=tse(e),mI=nc.format,nc.parse,hI=nc.utcFormat,nc.utcParse,nc}function nie(e){return new Date(e)}function rie(e){return e instanceof Date?+e:+new Date(+e)}function y1(e,t,r,a,s,l,c,d,f,m){var h=s1(),g=h.invert,v=h.domain,y=m(".%L"),N=m(":%S"),b=m("%I:%M"),w=m("%I %p"),C=m("%a %d"),A=m("%b %d"),E=m("%B"),T=m("%Y");function k(P){return(f(P)<P?y:d(P)<P?N:c(P)<P?b:l(P)<P?w:a(P)<P?s(P)<P?C:A:r(P)<P?E:T)(P)}return h.invert=function(P){return new Date(g(P))},h.domain=function(P){return arguments.length?v(Array.from(P,rie)):v().map(nie)},h.ticks=function(P){var M=v();return e(M[0],M[M.length-1],P??10)},h.tickFormat=function(P,M){return M==null?k:m(M)},h.nice=function(P){var M=v();return(!P||typeof P.range!="function")&&(P=t(M[0],M[M.length-1],P??10)),P?v(eI(M,P)):h},h.copy=function(){return Sf(h,y1(e,t,r,a,s,l,c,d,f,m))},h}function aie(){return Oa.apply(y1(Jae,ese,ei,g1,sg,Cf,p1,m1,zl,mI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sie(){return Oa.apply(y1(Xae,Zae,ti,v1,ig,ag,x1,h1,zl,hI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lg(){var e=0,t=1,r,a,s,l,c=hr,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(s===0?.5:(g=(l(g)-r)*s,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,r=l(e=+e),a=l(t=+t),s=r===a?0:1/(a-r),m):[e,t]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function h(g){return function(v){var y,N;return arguments.length?([y,N]=v,c=g(y,N),m):[c(0),c(1)]}}return m.range=h(td),m.rangeRound=h(a1),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return l=g,r=g(e),a=g(t),s=r===a?0:1/(a-r),m}}function ol(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pI(){var e=ll(lg()(hr));return e.copy=function(){return ol(e,pI())},ci.apply(e,arguments)}function xI(){var e=o1(lg()).domain([1,10]);return e.copy=function(){return ol(e,xI()).base(e.base())},ci.apply(e,arguments)}function gI(){var e=c1(lg());return e.copy=function(){return ol(e,gI()).constant(e.constant())},ci.apply(e,arguments)}function b1(){var e=d1(lg());return e.copy=function(){return ol(e,b1()).exponent(e.exponent())},ci.apply(e,arguments)}function iie(){return b1.apply(null,arguments).exponent(.5)}function vI(){var e=[],t=hr;function r(a){if(a!=null&&!isNaN(a=+a))return t((wf(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Vi),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,l)=>qre(e,l/a))},r.copy=function(){return vI(t).domain(e)},ci.apply(r,arguments)}function og(){var e=0,t=.5,r=1,a=1,s,l,c,d,f,m=hr,h,g=!1,v;function y(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-l)*(a*b<a*l?d:f),m(g?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,t,r]=b,s=h(e=+e),l=h(t=+t),c=h(r=+r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,y):[e,t,r]},y.clamp=function(b){return arguments.length?(g=!!b,y):g},y.interpolator=function(b){return arguments.length?(m=b,y):m};function N(b){return function(w){var C,A,E;return arguments.length?([C,A,E]=w,m=vae(b,[C,A,E]),y):[m(0),m(.5),m(1)]}}return y.range=N(td),y.rangeRound=N(a1),y.unknown=function(b){return arguments.length?(v=b,y):v},function(b){return h=b,s=b(e),l=b(t),c=b(r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,y}}function yI(){var e=ll(og()(hr));return e.copy=function(){return ol(e,yI())},ci.apply(e,arguments)}function bI(){var e=o1(og()).domain([.1,1,10]);return e.copy=function(){return ol(e,bI()).base(e.base())},ci.apply(e,arguments)}function jI(){var e=c1(og());return e.copy=function(){return ol(e,jI()).constant(e.constant())},ci.apply(e,arguments)}function j1(){var e=d1(og());return e.copy=function(){return ol(e,j1()).exponent(e.exponent())},ci.apply(e,arguments)}function lie(){return j1.apply(null,arguments).exponent(.5)}const xu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t1,scaleDiverging:yI,scaleDivergingLog:bI,scaleDivergingPow:j1,scaleDivergingSqrt:lie,scaleDivergingSymlog:jI,scaleIdentity:JL,scaleImplicit:mw,scaleLinear:ZL,scaleLog:tI,scaleOrdinal:e1,scalePoint:Gre,scalePow:u1,scaleQuantile:aI,scaleQuantize:sI,scaleRadial:rI,scaleSequential:pI,scaleSequentialLog:xI,scaleSequentialPow:b1,scaleSequentialQuantile:vI,scaleSequentialSqrt:iie,scaleSequentialSymlog:gI,scaleSqrt:Bae,scaleSymlog:nI,scaleThreshold:iI,scaleTime:aie,scaleUtc:sie,tickFormat:XL},Symbol.toStringTag,{value:"Module"}));var cl=e=>e.chartData,w1=ue([cl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cg=(e,t,r,a)=>a?w1(e):cl(e);function Zi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Dt(t)&&Dt(r))return!0}return!1}function e_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,l;if(Dt(r))s=r;else if(typeof r=="function")return;if(Dt(a))l=a;else if(typeof a=="function")return;var c=[s,l];if(Zi(c))return c}}function oie(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Zi(a))return e_(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Be(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&PT.test(s)){var f=PT.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Be(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[1]))}catch{}else if(typeof l=="string"&&OT.test(l)){var h=OT.exec(l);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[1]+g}}else d=t?.[1];var v=[c,d];if(Zi(v))return t==null?v:e_(v,t,r)}}}var nd=1e9,cie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},S1,tn=!0,Aa="[DecimalError] ",Vl=Aa+"Invalid argument: ",N1=Aa+"Exponent out of range: ",rd=Math.floor,Dl=Math.pow,die=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wr,Vn=1e7,Qt=7,NI=9007199254740991,Xp=rd(NI/Qt),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,r,a,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(a=l.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return a===s?0:a>s^l.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(e){return Bs(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,r=t.constructor;return Vt(Bs(t,new r(e),0,1),r.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return Tn(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,r=this,a=r.constructor,s=a.precision,l=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Wr))throw Error(Aa+"NaN");if(r.s<1)throw Error(Aa+(r.s?"NaN":"-Infinity"));return r.eq(Wr)?new a(0):(tn=!1,t=Bs(Wu(r,l),Wu(e,l),l),tn=!0,Vt(t,s))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EI(t,e):SI(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Aa+"NaN");return r.s?(tn=!1,t=Bs(r,e,0,1).times(e),tn=!0,r.minus(t)):Vt(new a(r),s)};Ue.naturalExponential=Ue.exp=function(){return CI(this)};Ue.naturalLogarithm=Ue.ln=function(){return Wu(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SI(t,e):EI(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vl+e);if(t=Tn(s)+1,a=s.d.length-1,r=a*Qt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Ue.squareRoot=Ue.sqrt=function(){var e,t,r,a,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Aa+"NaN")}for(e=Tn(d),tn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=es(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=rd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new f(t)):a=new f(s.toString()),r=f.precision,s=c=r+3;;)if(l=a,a=l.plus(Bs(d,l,c+2)).times(.5),es(l.d).slice(0,c)===(t=es(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Vt(l,r+1,0),l.times(l).eq(d)){a=l;break}}else if(t!="9999")break;c+=4}return tn=!0,Vt(a,r)};Ue.times=Ue.mul=function(e){var t,r,a,s,l,c,d,f,m,h=this,g=h.constructor,v=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=y.length,f<m&&(l=v,v=y,y=l,c=f,f=m,m=c),l=[],c=f+m,a=c;a--;)l.push(0);for(a=m;--a>=0;){for(t=0,s=f+a;s>a;)d=l[s]+y[a]*v[s-a-1]+t,l[s--]=d%Vn|0,t=d/Vn|0;l[s]=(l[s]+t)%Vn|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,tn?Vt(e,g.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(ss(e,0,nd),t===void 0?t=a.rounding:ss(t,0,8),Vt(r,e+Tn(r)+1,t))};Ue.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=ao(a,!0):(ss(e,0,nd),t===void 0?t=s.rounding:ss(t,0,8),a=Vt(new s(a),e+1,t),r=ao(a,!0,e+1)),r};Ue.toFixed=function(e,t){var r,a,s=this,l=s.constructor;return e===void 0?ao(s):(ss(e,0,nd),t===void 0?t=l.rounding:ss(t,0,8),a=Vt(new l(s),e+Tn(s)+1,t),r=ao(a.abs(),!1,e+Tn(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),Tn(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,r,a,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Wr);if(d=new f(d),!d.s){if(e.s<1)throw Error(Aa+"Infinity");return d}if(d.eq(Wr))return d;if(a=f.precision,e.eq(Wr))return Vt(d,a);if(t=e.e,r=e.d.length-1,c=t>=r,l=d.s,c){if((r=h<0?-h:h)<=NI){for(s=new f(Wr),t=Math.ceil(a/Qt+4),tn=!1;r%2&&(s=s.times(d),n_(s.d,t)),r=rd(r/2),r!==0;)d=d.times(d),n_(d.d,t);return tn=!0,e.s<0?new f(Wr).div(s):Vt(s,a)}}else if(l<0)throw Error(Aa+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,tn=!1,s=e.times(Wu(d,a+m)),tn=!0,s=CI(s),s.s=l,s};Ue.toPrecision=function(e,t){var r,a,s=this,l=s.constructor;return e===void 0?(r=Tn(s),a=ao(s,r<=l.toExpNeg||r>=l.toExpPos)):(ss(e,1,nd),t===void 0?t=l.rounding:ss(t,0,8),s=Vt(new l(s),e,t),r=Tn(s),a=ao(s,e<=r||r<=l.toExpNeg,e)),a};Ue.toSignificantDigits=Ue.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ss(e,1,nd),t===void 0?t=a.rounding:ss(t,0,8)),Vt(new a(r),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tn(e),r=e.constructor;return ao(e,t<=r.toExpNeg||t>=r.toExpPos)};function SI(e,t){var r,a,s,l,c,d,f,m,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),tn?Vt(t,g):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(a=f,l=-l,d=m.length):(a=m,s=c,d=f.length),c=Math.ceil(g/Qt),d=c>d?c+1:d+1,l>d&&(l=d,a.length=1),a.reverse();l--;)a.push(0);a.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,a=m,m=f,f=a),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/Vn|0,f[l]%=Vn;for(r&&(f.unshift(r),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,tn?Vt(t,g):t}function ss(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vl+e)}function es(e){var t,r,a,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)a=e[t]+"",r=Qt-a.length,r&&(l+=$i(r)),l+=a;c=e[t],a=c+"",r=Qt-a.length,r&&(l+=$i(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Bs=(function(){function e(a,s){var l,c=0,d=a.length;for(a=a.slice();d--;)l=a[d]*s+c,a[d]=l%Vn|0,c=l/Vn|0;return c&&a.unshift(c),a}function t(a,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(a[d]!=s[d]){f=a[d]>s[d]?1:-1;break}return f}function r(a,s,l){for(var c=0;l--;)a[l]-=c,c=a[l]<s[l]?1:0,a[l]=c*Vn+a[l]-s[l];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,l,c){var d,f,m,h,g,v,y,N,b,w,C,A,E,T,k,P,M,I,Q=a.constructor,L=a.s==s.s?1:-1,_=a.d,q=s.d;if(!a.s)return new Q(a);if(!s.s)throw Error(Aa+"Division by zero");for(f=a.e-s.e,M=q.length,k=_.length,y=new Q(L),N=y.d=[],m=0;q[m]==(_[m]||0);)++m;if(q[m]>(_[m]||0)&&--f,l==null?A=l=Q.precision:c?A=l+(Tn(a)-Tn(s))+1:A=l,A<0)return new Q(0);if(A=A/Qt+2|0,m=0,M==1)for(h=0,q=q[0],A++;(m<k||h)&&A--;m++)E=h*Vn+(_[m]||0),N[m]=E/q|0,h=E%q|0;else{for(h=Vn/(q[0]+1)|0,h>1&&(q=e(q,h),_=e(_,h),M=q.length,k=_.length),T=M,b=_.slice(0,M),w=b.length;w<M;)b[w++]=0;I=q.slice(),I.unshift(0),P=q[0],q[1]>=Vn/2&&++P;do h=0,d=t(q,b,M,w),d<0?(C=b[0],M!=w&&(C=C*Vn+(b[1]||0)),h=C/P|0,h>1?(h>=Vn&&(h=Vn-1),g=e(q,h),v=g.length,w=b.length,d=t(g,b,v,w),d==1&&(h--,r(g,M<v?I:q,v))):(h==0&&(d=h=1),g=q.slice()),v=g.length,v<w&&g.unshift(0),r(b,g,w),d==-1&&(w=b.length,d=t(q,b,M,w),d<1&&(h++,r(b,M<w?I:q,w))),w=b.length):d===0&&(h++,b=[0]),N[m++]=h,d&&b[0]?b[w++]=_[T]||0:(b=[_[T]],w=1);while((T++<k||b[0]!==void 0)&&A--)}return N[0]||N.shift(),y.e=f,Vt(y,c?l+Tn(y)+1:l)}})();function CI(e,t){var r,a,s,l,c,d,f=0,m=0,h=e.constructor,g=h.precision;if(Tn(e)>16)throw Error(N1+Tn(e));if(!e.s)return new h(Wr);for(tn=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(a=Math.log(Dl(2,m))/Math.LN10*2+5|0,d+=a,r=s=l=new h(Wr),h.precision=d;;){if(s=Vt(s.times(e),d),r=r.times(++f),c=l.plus(Bs(s,r,d)),es(c.d).slice(0,d)===es(l.d).slice(0,d)){for(;m--;)l=Vt(l.times(l),d);return h.precision=g,t==null?(tn=!0,Vt(l,g)):l}l=c}}function Tn(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function Lb(e,t,r){if(t>e.LN10.sd())throw tn=!0,r&&(e.precision=r),Error(Aa+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function $i(e){for(var t="";e--;)t+="0";return t}function Wu(e,t){var r,a,s,l,c,d,f,m,h,g=1,v=10,y=e,N=y.d,b=y.constructor,w=b.precision;if(y.s<1)throw Error(Aa+(y.s?"NaN":"-Infinity"));if(y.eq(Wr))return new b(0);if(t==null?(tn=!1,m=w):m=t,y.eq(10))return t==null&&(tn=!0),Lb(b,m);if(m+=v,b.precision=m,r=es(N),a=r.charAt(0),l=Tn(y),Math.abs(l)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)y=y.times(e),r=es(y.d),a=r.charAt(0),g++;l=Tn(y),a>1?(y=new b("0."+r),l++):y=new b(a+"."+r.slice(1))}else return f=Lb(b,m+2,w).times(l+""),y=Wu(new b(a+"."+r.slice(1)),m-v).plus(f),b.precision=w,t==null?(tn=!0,Vt(y,w)):y;for(d=c=y=Bs(y.minus(Wr),y.plus(Wr),m),h=Vt(y.times(y),m),s=3;;){if(c=Vt(c.times(h),m),f=d.plus(Bs(c,new b(s),m)),es(f.d).slice(0,m)===es(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(Lb(b,m+2,w).times(l+""))),d=Bs(d,new b(g),m),b.precision=w,t==null?(tn=!0,Vt(d,w)):d;d=f,s+=2}}function t_(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=rd(r/Qt),e.d=[],a=(r+1)%Qt,r<0&&(a+=Qt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Qt;a<s;)e.d.push(+t.slice(a,a+=Qt));t=t.slice(a),a=Qt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),tn&&(e.e>Xp||e.e<-Xp))throw Error(N1+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var a,s,l,c,d,f,m,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(a=t-c,a<0)a+=Qt,s=t,m=g[h=0];else{if(h=Math.ceil((a+1)/Qt),l=g.length,h>=l)return e;for(m=l=g[h],c=1;l>=10;l/=10)c++;a%=Qt,s=a-Qt+c}if(r!==void 0&&(l=Dl(10,c-s-1),d=m/l%10|0,f=t<0||g[h+1]!==void 0||m%l,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(a>0?s>0?m/Dl(10,c-s):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(l=Tn(e),g.length=1,t=t-l-1,g[0]=Dl(10,(Qt-t%Qt)%Qt),e.e=rd(-t/Qt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(a==0?(g.length=h,l=1,h--):(g.length=h+1,l=Dl(10,Qt-a),g[h]=s>0?(m/Dl(10,c-s)%Dl(10,s)|0)*l:0),f)for(;;)if(h==0){(g[0]+=l)==Vn&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Vn)break;g[h--]=0,l=1}for(a=g.length;g[--a]===0;)g.pop();if(tn&&(e.e>Xp||e.e<-Xp))throw Error(N1+Tn(e));return e}function EI(e,t){var r,a,s,l,c,d,f,m,h,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),tn?Vt(t,y):t;if(f=e.d,g=t.d,a=t.e,m=e.e,f=f.slice(),c=m-a,c){for(h=c<0,h?(r=f,c=-c,d=g.length):(r=g,a=m,d=f.length),s=Math.max(Math.ceil(y/Qt),d)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=f.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=g[s]){h=f[s]<g[s];break}c=0}for(h&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,s=g.length-d;s>0;--s)f[d++]=0;for(s=g.length;s>c;){if(f[--s]<g[s]){for(l=s;l&&f[--l]===0;)f[l]=Vn-1;--f[l],f[s]+=Vn}f[s]-=g[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--a;return f[0]?(t.d=f,t.e=a,tn?Vt(t,y):t):new v(0)}function ao(e,t,r){var a,s=Tn(e),l=es(e.d),c=l.length;return t?(r&&(a=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+$i(a):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+$i(-s-1)+l,r&&(a=r-c)>0&&(l+=$i(a))):s>=c?(l+=$i(s+1-c),r&&(a=r-s-1)>0&&(l=l+"."+$i(a))):((a=s+1)<c&&(l=l.slice(0,a)+"."+l.slice(a)),r&&(a=r-c)>0&&(s+1===c&&(l+="."),l+=$i(a))),e.s<0?"-"+l:l}function n_(e,t){if(e.length>t)return e.length=t,!0}function AI(e){var t,r,a;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Vl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return t_(c,l.toString())}else if(typeof l!="string")throw Error(Vl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,die.test(l))t_(c,l);else throw Error(Vl+l)}if(s.prototype=Ue,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=AI,s.config=s.set=uie,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function uie(e){if(!e||typeof e!="object")throw Error(Aa+"Object expected");var t,r,a,s=["precision",1,nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(rd(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Vl+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Vl+r+": "+a);return this}var S1=AI(cie);Wr=new S1(1);const Mt=S1;var fie=e=>e,PI={},OI=e=>e===PI,r_=e=>function t(){return arguments.length===0||arguments.length===1&&OI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},TI=(e,t)=>e===1?t:r_(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var l=a.filter(c=>c!==PI).length;return l>=e?t(...a):TI(e-l,r_(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=a.map(h=>OI(h)?d.shift():h);return t(...m,...d)}))}),mie=e=>TI(e.length,e),gw=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},hie=mie((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),pie=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return fie;var s=r.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},vw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function kI(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function _I(e,t,r){for(var a=new Mt(e),s=0,l=[];a.lt(t)&&s<1e5;)l.push(a.toNumber()),a=a.add(r),s++;return l}var RI=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},MI=(e,t,r)=>{if(e.lte(0))return new Mt(0);var a=kI(e.toNumber()),s=new Mt(10).pow(a),l=e.div(s),c=a!==1?.05:.1,d=new Mt(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=d.mul(s);return t?new Mt(f.toNumber()):new Mt(Math.ceil(f.toNumber()))},xie=(e,t,r)=>{var a=new Mt(1),s=new Mt(e);if(!s.isint()&&r){var l=Math.abs(e);l<1?(a=new Mt(10).pow(kI(e)-1),s=new Mt(Math.floor(s.div(a).toNumber())).mul(a)):l>1&&(s=new Mt(Math.floor(e)))}else e===0?s=new Mt(Math.floor((t-1)/2)):r||(s=new Mt(Math.floor(e)));var c=Math.floor((t-1)/2),d=pie(hie(f=>s.add(new Mt(f-c).mul(a)).toNumber()),gw);return d(0,t)},DI=function(t,r,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var c=MI(new Mt(r).sub(t).div(a-1),s,l),d;t<=0&&r>=0?d=new Mt(0):(d=new Mt(t).add(r).div(2),d=d.sub(new Mt(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Mt(r).sub(d).div(c).toNumber()),h=f+m+1;return h>a?DI(t,r,a,s,l+1):(h<a&&(m=r>0?m+(a-h):m,f=r>0?f:f+(a-h)),{step:c,tickMin:d.sub(new Mt(f).mul(c)),tickMax:d.add(new Mt(m).mul(c))})},gie=function(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,f]=RI([r,a]);if(d===-1/0||f===1/0){var m=f===1/0?[d,...gw(0,s-1).map(()=>1/0)]:[...gw(0,s-1).map(()=>-1/0),f];return r>a?vw(m):m}if(d===f)return xie(d,s,l);var{step:h,tickMin:g,tickMax:v}=DI(d,f,c,l,0),y=_I(g,v.add(new Mt(.1).mul(h)),h);return r>a?vw(y):y},vie=function(t,r){var[a,s]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=RI([a,s]);if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var f=Math.max(r,2),m=MI(new Mt(d).sub(c).div(f-1),l,0),h=[..._I(new Mt(c),new Mt(d),m),d];return l===!1&&(h=h.map(g=>Math.round(g))),a>s?vw(h):h},LI=e=>e.rootProps.maxBarSize,yie=e=>e.rootProps.barGap,II=e=>e.rootProps.barCategoryGap,bie=e=>e.rootProps.barSize,Ef=e=>e.rootProps.stackOffset,$I=e=>e.rootProps.reverseStackOrder,C1=e=>e.options.chartName,E1=e=>e.rootProps.syncId,FI=e=>e.rootProps.syncMethod,A1=e=>e.options.eventEmitter,jie=e=>e.rootProps.baseValue,vn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ls={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ls.angleAxisId,includeHidden:!1,name:void 0,reversed:Ls.reversed,scale:Ls.scale,tick:Ls.tick,tickCount:void 0,ticks:void 0,type:Ls.type,unit:void 0},Nie={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:qr.type,unit:void 0},Sie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ls.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ls.scale,tick:Ls.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Cie={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:"category",unit:void 0},P1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Sie:wie,O1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Cie:Nie,ug=e=>e.polarOptions,T1=ue([li,oi,Ln],IL),zI=ue([ug,T1],(e,t)=>{if(e!=null)return ir(e.innerRadius,t,0)}),BI=ue([ug,T1],(e,t)=>{if(e!=null)return ir(e.outerRadius,t,t*.8)}),Eie=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},UI=ue([ug],Eie);ue([P1,UI],dg);var HI=ue([T1,zI,BI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([O1,HI],dg);var VI=ue([Nt,ug,zI,BI,li,oi],(e,t,r,a,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:ir(c,s,s/2),cy:ir(d,l,l/2),innerRadius:r,outerRadius:a,startAngle:f,endAngle:m,clockWise:!1}}}),nn=(e,t)=>t,Af=(e,t,r)=>r;function fg(e){return e?.id}function qI(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:l}=r,c=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:a;if(!(m==null||m.length===0)){var h=fg(d);m.forEach((g,v)=>{var y=l==null||s?v:String(Ht(g,l,null)),N=Ht(g,d.dataKey,0),b;c.has(y)?b=c.get(y):b={},Object.assign(b,{[h]:N}),c.set(y,b)})}}),Array.from(c.values())}function mg(e){return e.stackId!=null&&e.dataKey!=null}var hg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function pg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Aie(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var $n=e=>{var t=Nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ad=e=>e.tooltip.settings.axisId;function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(a){Pie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pie(e,t,r){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yw=[0,"auto"],Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KI=(e,t)=>e.cartesianAxis.xAxis[t],us=(e,t)=>{var r=KI(e,t);return r??Un},Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:yw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xf},WI=(e,t)=>e.cartesianAxis.yAxis[t],fs=(e,t)=>{var r=WI(e,t);return r??Hn},kie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},k1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??kie},sn=(e,t,r)=>{switch(t){case"xAxis":return us(e,r);case"yAxis":return fs(e,r);case"zAxis":return k1(e,r);case"angleAxis":return P1(e,r);case"radiusAxis":return O1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_ie=(e,t,r)=>{switch(t){case"xAxis":return us(e,r);case"yAxis":return fs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Pf=(e,t,r)=>{switch(t){case"xAxis":return us(e,r);case"yAxis":return fs(e,r);case"angleAxis":return P1(e,r);case"radiusAxis":return O1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},GI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _1(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var xg=e=>e.graphicalItems.cartesianItems,Rie=ue([nn,Af],_1),R1=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),Of=ue([xg,sn,Rie],R1,{memoizeOptions:{resultEqualityCheck:pg}}),YI=ue([Of],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(mg)),QI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Mie=ue([Of],QI),M1=e=>e.map(t=>t.data).filter(Boolean).flat(1),Die=ue([Of],M1,{memoizeOptions:{resultEqualityCheck:pg}}),D1=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},L1=ue([Die,cg],D1),I1=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:Ht(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:Ht(s,a)}))):e.map(a=>({value:a})),gg=ue([L1,sn,Of],I1);function XI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Gh(e){if(Ca(e)||e instanceof Date){var t=Number(e);if(Dt(t))return t}}function s_(e){if(Array.isArray(e)){var t=[Gh(e[0]),Gh(e[1])];return Zi(t)?t:void 0}var r=Gh(e);if(r!=null)return[r,r]}function ni(e){return e.map(Gh).filter(kZ)}function Lie(e,t,r){return!r||typeof t!="number"||Rr(t)?[]:r.length?ni(r.flatMap(a=>{var s=Ht(e,a.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Dt(l)||!Dt(c)))return[t-l,t+c]})):[]}var Fn=e=>{var t=$n(e),r=ad(e);return Pf(e,t,r)},Tf=ue([Fn],e=>e?.dataKey),Iie=ue([YI,cg,Fn],qI),ZI=(e,t,r,a)=>{var s={},l=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),s);return Object.fromEntries(Object.entries(l).map(c=>{var[d,f]=c,m=a?[...f].reverse():f,h=m.map(fg);return[d,{stackedData:nte(e,h,r),graphicalItems:m}]}))},Gu=ue([Iie,YI,Ef,$I],ZI),JI=(e,t,r,a)=>{var{dataStartIndex:s,dataEndIndex:l}=t;if(a==null&&r!=="zAxis"){var c=ite(e,s,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},$ie=ue([sn],e=>e.allowDataOverflow),$1=e=>{var t;if(e==null||!("domain"in e))return yw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ni(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:yw},F1=ue([sn],$1),z1=ue([F1,$ie],wI),Fie=ue([Gu,cl,nn,z1],JI,{memoizeOptions:{resultEqualityCheck:hg}}),vg=e=>e.errorBars,zie=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>XI(r,a)),Jp=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},B1=(e,t,r,a,s)=>{var l,c;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var m,h,g=(m=a[f.id])===null||m===void 0?void 0:m.filter(C=>XI(s,C)),v=Ht(d,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),y=Lie(d,v,g);if(y.length>=2){var N=Math.min(...y),b=Math.max(...y);(l==null||N<l)&&(l=N),(c==null||b>c)&&(c=b)}var w=s_(v);w!=null&&(l=l==null?w[0]:Math.min(l,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=s_(Ht(d,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Dt(l)&&Dt(c))return[l,c]},Bie=ue([L1,sn,Mie,vg,nn],B1,{memoizeOptions:{resultEqualityCheck:hg}});function Uie(e){var{value:t}=e;if(Ca(t)||t instanceof Date)return t}var Hie=(e,t,r)=>{var a=e.map(Uie).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&p3(a))?BL(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},e$=e=>e.referenceElements.dots,sd=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Vie=ue([e$,nn,Af],sd),t$=e=>e.referenceElements.areas,qie=ue([t$,nn,Af],sd),n$=e=>e.referenceElements.lines,Kie=ue([n$,nn,Af],sd),r$=(e,t)=>{var r=ni(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Wie=ue(Vie,nn,r$),a$=(e,t)=>{var r=ni(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Gie=ue([qie,nn],a$);function Yie(e){var t;if(e.x!=null)return ni([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:ni(r)}function Qie(e){var t;if(e.y!=null)return ni([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:ni(r)}var s$=(e,t)=>{var r=e.flatMap(a=>t==="xAxis"?Yie(a):Qie(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Xie=ue([Kie,nn],s$),Zie=ue(Wie,Xie,Gie,(e,t,r)=>Jp(e,r,t)),U1=(e,t,r,a,s,l,c,d)=>{if(r!=null)return r;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",m=f?Jp(a,l,s):Jp(l,s);return oie(t,m,e.allowDataOverflow)},Jie=ue([sn,F1,z1,Fie,Bie,Zie,Nt,nn],U1,{memoizeOptions:{resultEqualityCheck:hg}}),ele=[0,1],H1=(e,t,r,a,s,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=ii(t,l);if(m&&d==null){var h;return BL(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?Hie(a,e,m):s==="expand"?ele:c}},V1=ue([sn,Nt,L1,gg,Ef,nn,Jie],H1),i$=(e,t,r,a,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(df(l));return d in xu?d:"point"}}},id=ue([sn,Nt,GI,C1,nn],i$);function tle(e){if(e!=null){if(e in xu)return xu[e]();var t="scale".concat(df(e));if(t in xu)return xu[t]()}}function q1(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=tle(t);if(s!=null){var l=s.domain(r).range(a);return Xee(l),l}}}var K1=(e,t,r)=>{var a=$1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Zi(e))return gie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Zi(e))return vie(e,t.tickCount,t.allowDecimals)}},W1=ue([V1,Pf,id],K1),G1=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&Zi(t)&&Array.isArray(r)&&r.length>0){var s=t[0],l=r[0],c=t[1],d=r[r.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},nle=ue([sn,V1,W1,nn],G1),rle=ue(gg,sn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(ni(e.map(d=>d.value))).sort((d,f)=>d-f);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var l=0;l<a.length-1;l++){var c=a[l+1]-a[l];r=Math.min(r,c)}return r/s}}),l$=ue(rle,Nt,II,Ln,(e,t,r,a)=>a,(e,t,r,a,s)=>{if(!Dt(e))return 0;var l=t==="vertical"?a.height:a.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=ir(r,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),ale=(e,t)=>{var r=us(e,t);return r==null||typeof r.padding!="string"?0:l$(e,"xAxis",t,r.padding)},sle=(e,t)=>{var r=fs(e,t);return r==null||typeof r.padding!="string"?0:l$(e,"yAxis",t,r.padding)},ile=ue(us,ale,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),lle=ue(fs,sle,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),ole=ue([Ln,ile,Zx,Xx,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:l}=a;return s?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),cle=ue([Ln,Nt,lle,Zx,Xx,(e,t,r)=>r],(e,t,r,a,s,l)=>{var{padding:c}=s;return l?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),kf=(e,t,r,a)=>{var s;switch(t){case"xAxis":return ole(e,r,a);case"yAxis":return cle(e,r,a);case"zAxis":return(s=k1(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return UI(e);case"radiusAxis":return HI(e,r);default:return}},o$=ue([sn,kf],dg),Ji=ue([sn,id,nle,o$],q1);ue([Of,vg,nn],zie);function c$(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yg=(e,t)=>t,bg=(e,t,r)=>r,dle=ue(Yx,yg,bg,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(c$)),ule=ue(Qx,yg,bg,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(c$)),d$=(e,t)=>({width:e.width,height:t.height}),fle=(e,t)=>{var r=typeof t.width=="number"?t.width:xf;return{width:r,height:e.height}},u$=ue(Ln,us,d$),mle=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},hle=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ple=ue(oi,Ln,dle,yg,bg,(e,t,r,a,s)=>{var l={},c;return r.forEach(d=>{var f=d$(t,d);c==null&&(c=mle(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),xle=ue(li,Ln,ule,yg,bg,(e,t,r,a,s)=>{var l={},c;return r.forEach(d=>{var f=fle(t,d);c==null&&(c=hle(t,a,e));var m=a==="left"&&!s||a==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),gle=(e,t)=>{var r=us(e,t);if(r!=null)return ple(e,r.orientation,r.mirror)},vle=ue([Ln,us,gle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),yle=(e,t)=>{var r=fs(e,t);if(r!=null)return xle(e,r.orientation,r.mirror)},ble=ue([Ln,fs,yle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),f$=ue(Ln,fs,(e,t)=>{var r=typeof t.width=="number"?t.width:xf;return{width:r,height:e.height}}),i_=(e,t,r)=>{switch(t){case"xAxis":return u$(e,r).width;case"yAxis":return f$(e,r).height;default:return}},m$=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=r,d=ii(e,a),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&p3(f))return f}},Y1=ue([Nt,gg,sn,nn],m$),h$=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:l}=r,c=ii(e,a);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},Q1=ue([Nt,gg,Pf,nn],h$),l_=ue([Nt,_ie,id,Ji,Y1,Q1,kf,W1,nn],(e,t,r,a,s,l,c,d,f)=>{if(t!=null){var m=ii(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:r,scale:a}}}),jle=(e,t,r,a,s,l,c,d,f)=>{if(!(t==null||a==null)){var m=ii(e,f),{type:h,ticks:g,tickCount:v}=t,y=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,N=h==="category"&&a.bandwidth?a.bandwidth()/y:0;N=f==="angleAxis"&&l!=null&&l.length>=2?qn(l[0]-l[1])*2*N:N;var b=g||s;if(b){var w=b.map((C,A)=>{var E=c?c.indexOf(C):C;return{index:A,coordinate:a(E)+N,value:C,offset:N}});return w.filter(C=>Dt(C.coordinate))}return m&&d?d.map((C,A)=>({coordinate:a(C)+N,value:C,index:A,offset:N})).filter(C=>Dt(C.coordinate)):a.ticks?a.ticks(v).map(C=>({coordinate:a(C)+N,value:C,offset:N})):a.domain().map((C,A)=>({coordinate:a(C)+N,value:c?c[C]:C,index:A,offset:N}))}},p$=ue([Nt,Pf,id,Ji,W1,kf,Y1,Q1,nn],jle),wle=(e,t,r,a,s,l,c)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var d=ii(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&a?.length>=2?qn(a[0]-a[1])*2*m:m,d&&l?l.map((h,g)=>({coordinate:r(h)+m,value:h,index:g,offset:m})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,g)=>({coordinate:r(h)+m,value:s?s[h]:h,index:g,offset:m}))}},el=ue([Nt,Pf,Ji,kf,Y1,Q1,nn],wle),tl=ue(sn,Ji,(e,t)=>{if(!(e==null||t==null))return Zp(Zp({},e),{},{scale:t})}),Nle=ue([sn,id,V1,o$],q1);ue((e,t,r)=>k1(e,r),Nle,(e,t)=>{if(!(e==null||t==null))return Zp(Zp({},e),{},{scale:t})});var Sle=ue([Nt,Yx,Qx],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),x$=e=>e.options.defaultTooltipEventType,g$=e=>e.options.validateTooltipEventTypes;function v$(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function X1(e,t){var r=x$(e),a=g$(e);return v$(t,r,a)}function Cle(e){return Fe(t=>X1(t,e))}var y$=(e,t)=>{var r,a=Number(t);if(!(Rr(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},Ele=e=>e.tooltip.settings,Bi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Ale={itemInteraction:{click:Bi,hover:Bi},axisInteraction:{click:Bi,hover:Bi},keyboardInteraction:Bi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},b$=Dr({name:"tooltip",initialState:Ale,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:en()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Fa(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=a)},prepare:en()},removeTooltipEntrySettings:{reducer(e,t){var r=Fa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:en()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ple,replaceTooltipEntrySettings:Ole,removeTooltipEntrySettings:Tle,setTooltipSettingsState:kle,setActiveMouseOverItemIndex:j$,mouseLeaveItem:_le,mouseLeaveChart:w$,setActiveClickItemIndex:Rle,setMouseOverAxisIndex:N$,setMouseClickAxisIndex:Mle,setSyncInteraction:bw,setKeyboardInteraction:jw}=b$.actions,Dle=b$.reducer;function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(a){Lle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lle(e,t,r){return(t=Ile(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ile(e){var t=$le(e,"string");return typeof t=="symbol"?t:t+""}function $le(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fle(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function zle(e){return e.index!=null}var S$=(e,t,r,a)=>{if(t==null)return Bi;var s=Fle(e,t,r);if(s==null)return Bi;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(zle(s)){if(l)return Ah(Ah({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return Ah(Ah({},Bi),{},{coordinate:s.coordinate})};function Ble(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Ule(e,t){var r=Ble(e),a=t[0],s=t[1];if(r===void 0)return!1;var l=Math.min(a,s),c=Math.max(a,s);return r>=l&&r<=c}function Hle(e,t,r){if(r==null||t==null)return!0;var a=Ht(e,t);return a==null||!Zi(r)?!0:Ule(a,r)}var Z1=(e,t,r,a)=>{var s=e?.index;if(s==null)return null;var l=Number(s);if(!Dt(l))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(c,Math.min(l,d)),m=t[f];return m==null||Hle(m,r,a)?String(f):null},C$=(e,t,r,a,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s?.[Number(l)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},E$=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},_f=e=>e.options.tooltipPayloadSearcher,ld=e=>e.tooltip;function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(a){Vle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vle(e,t,r){return(t=qle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qle(e){var t=Kle(e,"string");return typeof t=="symbol"?t:t+""}function Kle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wle(e,t){return e??t}var A$=(e,t,r,a,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,g=[];return e.reduce((v,y)=>{var N,{dataDefinedOnItem:b,settings:w}=y,C=Wle(b,d),A=Array.isArray(C)?cL(C,m,h):C,E=(N=w?.dataKey)!==null&&N!==void 0?N:a,T=w?.nameKey,k;if(a&&Array.isArray(A)&&!Array.isArray(A[0])&&c==="axis"?k=x3(A,a,s):k=l(A,t,f,T),Array.isArray(k))k.forEach(M=>{var I=d_(d_({},w),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(TT({tooltipEntrySettings:I,dataKey:M.dataKey,payload:M.payload,value:Ht(M.payload,M.dataKey),name:M.name}))});else{var P;v.push(TT({tooltipEntrySettings:w,dataKey:E,payload:k,value:Ht(k,E),name:(P=Ht(k,T))!==null&&P!==void 0?P:w?.name}))}return v},g)}},J1=ue([Fn,Nt,GI,C1,$n],i$),Gle=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Yle=ue([$n,ad],_1),Rf=ue([Gle,Fn,Yle],R1,{memoizeOptions:{resultEqualityCheck:pg}}),Qle=ue([Rf],e=>e.filter(mg)),Xle=ue([Rf],M1,{memoizeOptions:{resultEqualityCheck:pg}}),od=ue([Xle,cl],D1),Zle=ue([Qle,cl,Fn],qI),eS=ue([od,Fn,Rf],I1),P$=ue([Fn],$1),Jle=ue([Fn],e=>e.allowDataOverflow),O$=ue([P$,Jle],wI),eoe=ue([Rf],e=>e.filter(mg)),toe=ue([Zle,eoe,Ef,$I],ZI),noe=ue([toe,cl,$n,O$],JI),roe=ue([Rf],QI),aoe=ue([od,Fn,roe,vg,$n],B1,{memoizeOptions:{resultEqualityCheck:hg}}),soe=ue([e$,$n,ad],sd),ioe=ue([soe,$n],r$),loe=ue([t$,$n,ad],sd),ooe=ue([loe,$n],a$),coe=ue([n$,$n,ad],sd),doe=ue([coe,$n],s$),uoe=ue([ioe,doe,ooe],Jp),foe=ue([Fn,P$,O$,noe,aoe,uoe,Nt,$n],U1),Mf=ue([Fn,Nt,od,eS,Ef,$n,foe],H1),moe=ue([Mf,Fn,J1],K1),hoe=ue([Fn,Mf,moe,$n],G1),T$=e=>{var t=$n(e),r=ad(e),a=!1;return kf(e,t,r,a)},k$=ue([Fn,T$],dg),_$=ue([Fn,J1,hoe,k$],q1),poe=ue([Nt,eS,Fn,$n],m$),xoe=ue([Nt,eS,Fn,$n],h$),goe=(e,t,r,a,s,l,c,d)=>{if(t){var{type:f}=t,m=ii(e,d);if(a){var h=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=f==="category"&&a.bandwidth?a.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&s?.length>=2?qn(s[0]-s[1])*2*g:g,m&&c?c.map((v,y)=>({coordinate:a(v)+g,value:v,index:y,offset:g})):a.domain().map((v,y)=>({coordinate:a(v)+g,value:l?l[v]:v,index:y,offset:g}))}}},di=ue([Nt,Fn,J1,_$,T$,poe,xoe,$n],goe),tS=ue([x$,g$,Ele],(e,t,r)=>v$(r.shared,e,t)),R$=e=>e.tooltip.settings.trigger,nS=e=>e.tooltip.settings.defaultIndex,Df=ue([ld,tS,R$,nS],S$),nl=ue([Df,od,Tf,Mf],Z1),M$=ue([di,nl],y$),rS=ue([Df],e=>{if(e)return e.dataKey}),voe=ue([Df],e=>{if(e)return e.graphicalItemId}),D$=ue([ld,tS,R$,nS],E$),yoe=ue([li,oi,Nt,Ln,di,nS,D$,_f],C$),boe=ue([Df,yoe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),joe=ue([Df],e=>e.active),woe=ue([D$,nl,cl,Tf,M$,_f,tS],A$),Noe=ue([woe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function f_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(a){Soe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Soe(e,t,r){return(t=Coe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Coe(e){var t=Eoe(e,"string");return typeof t=="symbol"?t:t+""}function Eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aoe=()=>Fe(Fn),Poe=()=>{var e=Aoe(),t=Fe(di),r=Fe(_$);return Ac(!e||!r?void 0:f_(f_({},e),{},{scale:r}),t)};function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(a){Ooe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ooe(e,t,r){return(t=Toe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Toe(e){var t=koe(e,"string");return typeof t=="symbol"?t:t+""}function koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _oe=(e,t,r,a)=>{var s=t.find(l=>l&&l.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},Roe=(e,t,r,a)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="centric"){var l=s.coordinate,{radius:c}=a;return rc(rc(rc({},a),On(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=a;return rc(rc(rc({},a),On(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Moe(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var L$=(e,t,r,a,s)=>{var l,c=-1,d=(l=t?.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?r[f-1].coordinate:r[d-1].coordinate,h=r[f].coordinate,g=f>=d-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(qn(h-m)!==qn(g-h)){var y=[];if(qn(g-h)===qn(s[1]-s[0])){v=g;var N=h+s[1]-s[0];y[0]=Math.min(N,(N+m)/2),y[1]=Math.max(N,(N+m)/2)}else{v=m;var b=g+s[1]-s[0];y[0]=Math.min(h,(b+h)/2),y[1]=Math.max(h,(b+h)/2)}var w=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){({index:c}=r[f]);break}}else{var C=Math.min(m,g),A=Math.max(m,g);if(e>(C+h)/2&&e<=(A+h)/2){({index:c}=r[f]);break}}}else if(t){for(var E=0;E<d;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<d-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===d-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:c}=t[E]);break}}return c},I$=()=>Fe(C1),aS=(e,t)=>t,$$=(e,t,r)=>r,sS=(e,t,r,a)=>a,Doe=ue(di,e=>zx(e,t=>t.coordinate)),iS=ue([ld,aS,$$,sS],S$),lS=ue([iS,od,Tf,Mf],Z1),Loe=(e,t,r)=>{if(t!=null){var a=ld(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},F$=ue([ld,aS,$$,sS],E$),ex=ue([li,oi,Nt,Ln,di,sS,F$,_f],C$),Ioe=ue([iS,ex],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),z$=ue([di,lS],y$),$oe=ue([F$,lS,cl,Tf,z$,_f,aS],A$),Foe=ue([iS,lS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),zoe=(e,t,r,a,s,l,c)=>{if(!(!e||!r||!a||!s)&&Moe(e,c)){var d=lte(e,t),f=L$(d,l,s,r,a),m=_oe(t,s,f,e);return{activeIndex:String(f),activeCoordinate:m}}},Boe=(e,t,r,a,s,l,c)=>{if(!(!e||!a||!s||!l||!r)){var d=Sre(e,r);if(d){var f=ote(d,t),m=L$(f,c,l,a,s),h=Roe(t,l,m,d);return{activeIndex:String(m),activeCoordinate:h}}}},Uoe=(e,t,r,a,s,l,c,d)=>{if(!(!e||!t||!a||!s||!l))return t==="horizontal"||t==="vertical"?zoe(e,t,a,s,l,c,d):Boe(e,t,r,a,s,l,c)},Hoe=ue(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElementId:a.elementId}}),Voe=ue(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(vn)),r=Array.from(new Set(t));return r.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:Aie}});function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(a){qoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qoe(e,t,r){return(t=Koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Koe(e){var t=Woe(e,"string");return typeof t=="symbol"?t:t+""}function Woe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Goe={},Yoe={zIndexMap:Object.values(vn).reduce((e,t)=>p_(p_({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Goe)},Qoe=new Set(Object.values(vn));function Xoe(e){return Qoe.has(e)}var B$=Dr({name:"zIndex",initialState:Yoe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:en()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Xoe(r)&&delete e.zIndexMap[r])},prepare:en()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:a,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=a:e.zIndexMap[r].elementId=a:e.zIndexMap[r]={consumers:0,elementId:s?void 0:a,panoramaElementId:s?a:void 0}},prepare:en()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:en()}}}),{registerZIndexPortal:Zoe,unregisterZIndexPortal:Joe,registerZIndexPortalId:ece,unregisterZIndexPortalId:tce}=B$.actions,nce=B$.reducer;function gr(e){var{zIndex:t,children:r}=e,a=zte(),s=a&&t!==void 0&&t!==0,l=nr(),c=qt();p.useLayoutEffect(()=>s?(c(Zoe({zIndex:t})),()=>{c(Joe({zIndex:t}))}):uf,[c,t,s]);var d=Fe(m=>Hoe(m,t,l));if(!s)return r;if(!d)return null;var f=document.getElementById(d);return f?os.createPortal(r,f):null}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ww.apply(null,arguments)}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(a){rce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rce(e,t,r){return(t=ace(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ace(e){var t=sce(e,"string");return typeof t=="symbol"?t:t+""}function sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ice(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return p.isValidElement(t)?p.cloneElement(t,a):p.createElement(r,a)}function lce(e){var t,{coordinate:r,payload:a,index:s,offset:l,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:m,chartName:h}=e,g=r,v=a,y=s;if(!f||!g||h!=="ScatterChart"&&m!=="axis")return null;var N,b,w;if(h==="ScatterChart")N=g,b=Fne,w=vn.cursorLine;else if(h==="BarChart")N=zne(d,g,l,c),b=LL,w=vn.cursorRectangle;else if(d==="radial"&&v3(g)){var{cx:C,cy:A,radius:E,startAngle:T,endAngle:k}=$L(g);N={cx:C,cy:A,startAngle:T,endAngle:k,innerRadius:E,outerRadius:E},b=zL,w=vn.cursorLine}else N={points:Pre(d,g,l)},b=pc,w=vn.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,M=Ph(Ph(Ph(Ph({stroke:"#ccc",pointerEvents:"none"},l),N),eo(f)),{},{payload:v,payloadIndex:y,className:wt("recharts-tooltip-cursor",P)});return p.createElement(gr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},p.createElement(ice,{cursor:f,cursorComp:b,cursorProps:M}))}function oce(e){var t=Poe(),r=bL(),a=Jc(),s=I$();return t==null||r==null||a==null||s==null?null:p.createElement(lce,ww({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var U$=p.createContext(null),cce=()=>p.useContext(U$),Ib={exports:{}},g_;function dce(){return g_||(g_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,g||f,v),N=r?r+m:m;return f._events[N]?f._events[N].fn?f._events[N]=[f._events[N],y]:f._events[N].push(y):(f._events[N]=y,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new a:delete f._events[m]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,g;if(this._eventsCount===0)return m;for(g in h=this._events)t.call(h,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=r?r+m:m,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,N=new Array(y);v<y;v++)N[v]=g[v].fn;return N},d.prototype.listenerCount=function(m){var h=r?r+m:m,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,h,g,v,y,N){var b=r?r+m:m;if(!this._events[b])return!1;var w=this._events[b],C=arguments.length,A,E;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,g),!0;case 4:return w.fn.call(w.context,h,g,v),!0;case 5:return w.fn.call(w.context,h,g,v,y),!0;case 6:return w.fn.call(w.context,h,g,v,y,N),!0}for(E=1,A=new Array(C-1);E<C;E++)A[E-1]=arguments[E];w.fn.apply(w.context,A)}else{var T=w.length,k;for(E=0;E<T;E++)switch(w[E].once&&this.removeListener(m,w[E].fn,void 0,!0),C){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,h);break;case 3:w[E].fn.call(w[E].context,h,g);break;case 4:w[E].fn.call(w[E].context,h,g,v);break;default:if(!A)for(k=1,A=new Array(C-1);k<C;k++)A[k-1]=arguments[k];w[E].fn.apply(w[E].context,A)}}return!0},d.prototype.on=function(m,h,g){return l(this,m,h,g,!1)},d.prototype.once=function(m,h,g){return l(this,m,h,g,!0)},d.prototype.removeListener=function(m,h,g,v){var y=r?r+m:m;if(!this._events[y])return this;if(!h)return c(this,y),this;var N=this._events[y];if(N.fn)N.fn===h&&(!v||N.once)&&(!g||N.context===g)&&c(this,y);else{for(var b=0,w=[],C=N.length;b<C;b++)(N[b].fn!==h||v&&!N[b].once||g&&N[b].context!==g)&&w.push(N[b]);w.length?this._events[y]=w.length===1?w[0]:w:c(this,y)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Ib)),Ib.exports}var uce=dce();const fce=ls(uce);var Yu=new fce,Nw="recharts.syncEvent.tooltip",v_="recharts.syncEvent.brush";function oS(e,t){if(t){var r=Number.parseInt(t,10);if(!Rr(r))return e?.[r]}}var mce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},H$=Dr({name:"options",initialState:mce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hce=H$.reducer,{createEventEmitter:pce}=H$.actions;function xce(e){return e.tooltip.syncInteraction}var gce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V$=Dr({name:"chartData",initialState:gce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:y_,setDataStartEndIndexes:vce,setComputedData:Obe}=V$.actions,yce=V$.reducer,bce=["x","y"];function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(a){jce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jce(e,t,r){return(t=wce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wce(e){var t=Nce(e,"string");return typeof t=="symbol"?t:t+""}function Nce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sce(e,t){if(e==null)return{};var r,a,s=Cce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Cce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ece(){var e=Fe(E1),t=Fe(A1),r=qt(),a=Fe(FI),s=Fe(di),l=Jc(),c=gf(),d=Fe(f=>f.rootProps.className);p.useEffect(()=>{if(e==null)return uf;var f=(m,h,g)=>{if(t!==g&&e===m){if(a==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:N,y:b}=y,w=Sce(y,bce),{x:C,y:A,width:E,height:T}=h.payload.sourceViewBox,k=ac(ac({},w),{},{x:c.x+(E?(N-C)/E:0)*c.width,y:c.y+(T?(b-A)/T:0)*c.height});r(ac(ac({},h),{},{payload:ac(ac({},h.payload),{},{coordinate:k})}))}else r(h);return}if(s!=null){var P;if(typeof a=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},I=a(s,M);P=s[I]}else a==="value"&&(P=s.find(B=>String(B.value)===h.payload.label));var{coordinate:Q}=h.payload;if(P==null||h.payload.active===!1||Q==null||c==null){r(bw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:_}=Q,q=Math.min(L,c.x+c.width),ve=Math.min(_,c.y+c.height),K={x:l==="horizontal"?P.coordinate:q,y:l==="horizontal"?ve:P.coordinate},ee=bw({active:h.payload.active,coordinate:K,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(ee)}}};return Yu.on(Nw,f),()=>{Yu.off(Nw,f)}},[d,r,t,e,a,s,l,c])}function Ace(){var e=Fe(E1),t=Fe(A1),r=qt();p.useEffect(()=>{if(e==null)return uf;var a=(s,l,c)=>{t!==c&&e===s&&r(vce(l))};return Yu.on(v_,a),()=>{Yu.off(v_,a)}},[r,t,e])}function Pce(){var e=qt();p.useEffect(()=>{e(pce())},[e]),Ece(),Ace()}function Oce(e,t,r,a,s,l){var c=Fe(y=>Loe(y,e,t)),d=Fe(A1),f=Fe(E1),m=Fe(FI),h=Fe(xce),g=h?.active,v=gf();p.useEffect(()=>{if(!g&&f!=null&&d!=null){var y=bw({active:l,coordinate:r,dataKey:c,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:v,graphicalItemId:void 0});Yu.emit(Nw,f,y,d)}},[g,r,c,s,a,d,f,m,l,v])}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(a){Tce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tce(e,t,r){return(t=kce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rce(e){return e.dataKey}function Mce(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(vne,t)}var N_=[],Dce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function jg(e){var t,r,a=bn(e,Dce),{active:s,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:f,filterNull:m,isAnimationActive:h,offset:g,payloadUniqBy:v,position:y,reverseDirection:N,useTranslate3d:b,wrapperStyle:w,cursor:C,shared:A,trigger:E,defaultIndex:T,portal:k,axisId:P}=a,M=qt(),I=typeof T=="number"?String(T):T;p.useEffect(()=>{M(kle({shared:A,trigger:E,axisId:P,active:s,defaultIndex:I}))},[M,A,E,P,s,I]);var Q=gf(),L=kL(),_=Cle(A),{activeIndex:q,isActive:ve}=(t=Fe(F=>Foe(F,_,E,I)))!==null&&t!==void 0?t:{},K=Fe(F=>$oe(F,_,E,I)),ee=Fe(F=>z$(F,_,E,I)),B=Fe(F=>Ioe(F,_,E,I)),X=K,$=cce(),fe=(r=s??ve)!==null&&r!==void 0?r:!1,[pe,R]=R3([X,fe]),te=_==="axis"?ee:void 0;Oce(_,E,B,te,q,fe);var me=k??$;if(me==null||Q==null||_==null)return null;var we=X??N_;fe||(we=N_),m&&we.length&&(we=P3(we.filter(F=>F.value!=null&&(F.hide!==!0||a.includeHidden)),v,Rce));var ae=we.length>0,Le=p.createElement(Cne,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:h,active:fe,coordinate:B,hasPayload:ae,offset:g,position:y,reverseDirection:N,useTranslate3d:b,viewBox:Q,wrapperStyle:w,lastBoundingBox:pe,innerRef:R,hasPortalFromProps:!!k},Mce(f,w_(w_({},a),{},{payload:we,label:te,active:fe,activeIndex:q,coordinate:B,accessibilityLayer:L})));return p.createElement(p.Fragment,null,os.createPortal(Le,me),fe&&p.createElement(oce,{cursor:C,tooltipEventType:_,coordinate:B,payload:we,index:q}))}var ri=e=>null;ri.displayName="Cell";function Lce(e,t,r){return(t=Ice(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ice(e){var t=$ce(e,"string");return typeof t=="symbol"?t:t+""}function $ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fce{constructor(t){Lce(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(a){Bce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bce(e,t,r){return(t=Uce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uce(e){var t=Hce(e,"string");return typeof t=="symbol"?t:t+""}function Hce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vce={cacheSize:2e3,enableCache:!0},q$=zce({},Vce),C_=new Fce(q$.cacheSize),qce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},E_="recharts_measurement_span";function Kce(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var A_=(e,t)=>{try{var r=document.getElementById(E_);r||(r=document.createElement("span"),r.setAttribute("id",E_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qce,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Nu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ed.isSsr)return{width:0,height:0};if(!q$.enableCache)return A_(t,r);var a=Kce(t,r),s=C_.get(a);if(s)return s;var l=A_(t,r);return C_.set(a,l),l},P_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yce=Object.keys(K$),oc="NaN";function Qce(e,t){return e*K$[t]}class Er{static parse(t){var r,[,a,s]=(r=Gce.exec(t))!==null&&r!==void 0?r:[];return new Er(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Rr(t)&&(this.unit=""),r!==""&&!Wce.test(r)&&(this.num=NaN,this.unit=""),Yce.includes(r)&&(this.num=Qce(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Er(NaN,""):new Er(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Er(NaN,""):new Er(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Er(NaN,""):new Er(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Er(NaN,""):new Er(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rr(this.num)}}function W$(e){if(e.includes(oc))return oc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,l]=(r=P_.exec(t))!==null&&r!==void 0?r:[],c=Er.parse(a??""),d=Er.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return oc;t=t.replace(P_,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,g,v]=(m=O_.exec(t))!==null&&m!==void 0?m:[],y=Er.parse(h??""),N=Er.parse(v??""),b=g==="+"?y.add(N):y.subtract(N);if(b.isNaN())return oc;t=t.replace(O_,b.toString())}return t}var T_=/\(([^()]*)\)/;function Xce(e){for(var t=e,r;(r=T_.exec(t))!=null;){var[,a]=r;t=t.replace(T_,W$(a))}return t}function Zce(e){var t=e.replace(/\s+/g,"");return t=Xce(t),t=W$(t),t}function Jce(e){try{return Zce(e)}catch{return oc}}function $b(e){var t=Jce(e.slice(5,-1));return t===oc?"":t}var ede=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],tde=["dx","dy","angle","className","breakAll"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sw.apply(null,arguments)}function k_(e,t){if(e==null)return{};var r,a,s=nde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var G$=/[ \f\n\r\t\v\u2028\u2029]+/,Y$=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];rn(t)||(r?s=t.toString().split(""):s=t.toString().split(G$));var l=s.map(d=>({word:d,width:Nu(d,a).width})),c=r?0:Nu("",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function rde(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Q$=(e,t,r,a)=>e.reduce((s,l)=>{var{word:c,width:d}=l,f=s[s.length-1];if(f&&d!=null&&(t==null||a||f.width+d+r<Number(t)))f.words.push(c),f.width+=d+r;else{var m={words:[c],width:d};s.push(m)}return s},[]),X$=e=>e.reduce((t,r)=>t.width>r.width?t:r),ade="",__=(e,t,r,a,s,l,c,d)=>{var f=e.slice(0,t),m=Y$({breakAll:r,style:a,children:f+ade});if(!m)return[!1,[]];var h=Q$(m.wordsWithComputedWidth,l,c,d),g=h.length>s||X$(h).width>Number(l);return[g,h]},sde=(e,t,r,a,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=Be(l),h=String(c),g=Q$(t,a,r,s);if(!m||s)return g;var v=g.length>l||X$(g).width>Number(a);if(!v)return g;for(var y=0,N=h.length-1,b=0,w;y<=N&&b<=h.length-1;){var C=Math.floor((y+N)/2),A=C-1,[E,T]=__(h,A,f,d,l,a,r,s),[k]=__(h,C,f,d,l,a,r,s);if(!E&&!k&&(y=C+1),E&&k&&(N=C-1),!E&&k){w=T;break}b++}return w||g},R_=e=>{var t=rn(e)?[]:e.toString().split(G$);return[{words:t,width:void 0}]},ide=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:l,maxLines:c}=e;if((t||r)&&!ed.isSsr){var d,f,m=Y$({breakAll:l,children:a,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:g}=m;d=h,f=g}else return R_(a);return sde({breakAll:l,children:a,maxLines:c,style:s},d,f,t,!!r)}return R_(a)},Z$="#808080",lde={angle:0,breakAll:!1,capHeight:"0.71em",fill:Z$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},wg=p.forwardRef((e,t)=>{var r=bn(e,lde),{x:a,y:s,lineHeight:l,capHeight:c,fill:d,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,g=k_(r,ede),v=p.useMemo(()=>ide({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:y,dy:N,angle:b,className:w,breakAll:C}=g,A=k_(g,tde);if(!Ca(a)||!Ca(s)||v.length===0)return null;var E=Number(a)+(Be(y)?y:0),T=Number(s)+(Be(N)?N:0);if(!Dt(E)||!Dt(T))return null;var k;switch(h){case"start":k=$b("calc(".concat(c,")"));break;case"middle":k=$b("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:k=$b("calc(".concat(v.length-1," * -").concat(l,")"));break}var P=[];if(f){var M=v[0].width,{width:I}=g;P.push("scale(".concat(Be(I)&&Be(M)?I/M:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(E,", ").concat(T,")")),P.length&&(A.transform=P.join(" ")),p.createElement("text",Sw({},or(A),{ref:t,x:E,y:T,className:wt("recharts-text",w),textAnchor:m,fill:d.includes("url")?Z$:d}),v.map((Q,L)=>{var _=Q.words.join(C?"":" ");return p.createElement("tspan",{x:E,dy:L===0?k:l,key:"".concat(_,"-").concat(L)},_)}))});wg.displayName="Text";var ode=["labelRef"];function cde(e,t){if(e==null)return{};var r,a,s=dde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(a){ude(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ude(e,t,r){return(t=fde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fde(e){var t=mde(e,"string");return typeof t=="symbol"?t:t+""}function mde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Is.apply(null,arguments)}var J$=p.createContext(null),e6=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:s,width:l,height:c,children:d}=e,f=p.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:s,width:l,height:c}),[t,r,a,s,l,c]);return p.createElement(J$.Provider,{value:f},d)},t6=()=>{var e=p.useContext(J$),t=gf();return e||yL(t)},hde=p.createContext(null),pde=()=>{var e=p.useContext(hde),t=Fe(VI);return e||t},xde=e=>{var{value:t,formatter:r}=e,a=rn(e.children)?t:e.children;return typeof r=="function"?r(a):a},cS=e=>e!=null&&typeof e=="function",gde=(e,t)=>{var r=qn(t-e),a=Math.min(Math.abs(t-e),360);return r*a},vde=(e,t,r,a,s)=>{var{offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:g,endAngle:v,clockWise:y}=s,N=(m+h)/2,b=gde(g,v),w=b>=0?1:-1,C,A;switch(t){case"insideStart":C=g+w*l,A=y;break;case"insideEnd":C=v-w*l,A=!y;break;case"end":C=v+w*l,A=y;break;default:throw new Error("Unsupported position ".concat(t))}A=b<=0?A:!A;var E=On(d,f,N,C),T=On(d,f,N,C+(A?1:-1)*359),k="M".concat(E.x,",").concat(E.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),P=rn(e.id)?Mu("recharts-radial-line-"):e.id;return p.createElement("text",Is({},a,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",c)}),p.createElement("defs",null,p.createElement("path",{id:P,d:k})),p.createElement("textPath",{xlinkHref:"#".concat(P)},r))},yde=(e,t,r)=>{var{cx:a,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(r==="outside"){var{x:h,y:g}=On(a,s,c+t,m);return{x:h,y:g,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:y,y:N}=On(a,s,v,m);return{x:y,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Cw=e=>"cx"in e&&Be(e.cx),bde=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,l;r!=null&&!Cw(r)&&(l=r);var{x:c,y:d,upperWidth:f,lowerWidth:m,height:h}=t,g=c,v=c+(f-m)/2,y=(g+v)/2,N=(f+m)/2,b=g+f/2,w=h>=0?1:-1,C=w*a,A=w>0?"end":"start",E=w>0?"start":"end",T=f>=0?1:-1,k=T*a,P=T>0?"end":"start",M=T>0?"start":"end";if(s==="top"){var I={x:g+f/2,y:d-C,textAnchor:"middle",verticalAnchor:A};return xn(xn({},I),l?{height:Math.max(d-l.y,0),width:f}:{})}if(s==="bottom"){var Q={x:v+m/2,y:d+h+C,textAnchor:"middle",verticalAnchor:E};return xn(xn({},Q),l?{height:Math.max(l.y+l.height-(d+h),0),width:m}:{})}if(s==="left"){var L={x:y-k,y:d+h/2,textAnchor:P,verticalAnchor:"middle"};return xn(xn({},L),l?{width:Math.max(L.x-l.x,0),height:h}:{})}if(s==="right"){var _={x:y+N+k,y:d+h/2,textAnchor:M,verticalAnchor:"middle"};return xn(xn({},_),l?{width:Math.max(l.x+l.width-_.x,0),height:h}:{})}var q=l?{width:N,height:h}:{};return s==="insideLeft"?xn({x:y+k,y:d+h/2,textAnchor:M,verticalAnchor:"middle"},q):s==="insideRight"?xn({x:y+N-k,y:d+h/2,textAnchor:P,verticalAnchor:"middle"},q):s==="insideTop"?xn({x:g+f/2,y:d+C,textAnchor:"middle",verticalAnchor:E},q):s==="insideBottom"?xn({x:v+m/2,y:d+h-C,textAnchor:"middle",verticalAnchor:A},q):s==="insideTopLeft"?xn({x:g+k,y:d+C,textAnchor:M,verticalAnchor:E},q):s==="insideTopRight"?xn({x:g+f-k,y:d+C,textAnchor:P,verticalAnchor:E},q):s==="insideBottomLeft"?xn({x:v+k,y:d+h-C,textAnchor:M,verticalAnchor:A},q):s==="insideBottomRight"?xn({x:v+m-k,y:d+h-C,textAnchor:P,verticalAnchor:A},q):s&&typeof s=="object"&&(Be(s.x)||Xs(s.x))&&(Be(s.y)||Xs(s.y))?xn({x:c+ir(s.x,N),y:d+ir(s.y,h),textAnchor:"end",verticalAnchor:"end"},q):xn({x:b,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},q)},jde={angle:0,offset:5,zIndex:vn.label,position:"middle",textBreakAll:!1};function Fi(e){var t=bn(e,jde),{viewBox:r,position:a,value:s,children:l,content:c,className:d="",textBreakAll:f,labelRef:m}=t,h=pde(),g=t6(),v=a==="center"?g:h??g,y,N,b;if(r==null?y=v:Cw(r)?y=r:y=yL(r),!y||rn(s)&&rn(l)&&!p.isValidElement(c)&&typeof c!="function")return null;var w=xn(xn({},t),{},{viewBox:y});if(p.isValidElement(c)){var{labelRef:C}=w,A=cde(w,ode);return p.cloneElement(c,A)}if(typeof c=="function"){if(N=p.createElement(c,w),p.isValidElement(N))return N}else N=xde(t);var E=or(t);if(Cw(y)){if(a==="insideStart"||a==="insideEnd"||a==="end")return vde(t,a,N,E,y);b=yde(y,t.offset,t.position)}else b=bde(t,y);return p.createElement(gr,{zIndex:t.zIndex},p.createElement(wg,Is({ref:m,className:wt("recharts-label",d)},E,b,{textAnchor:rde(E.textAnchor)?E.textAnchor:b.textAnchor,breakAll:f}),N))}Fi.displayName="Label";var wde=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?p.createElement(Fi,Is({key:"label-implicit"},a)):Ca(e)?p.createElement(Fi,Is({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===Fi?p.cloneElement(e,xn({key:"label-implicit"},a)):p.createElement(Fi,Is({key:"label-implicit",content:e},a)):cS(e)?p.createElement(Fi,Is({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(Fi,Is({},e,{key:"label-implicit"},a)):null};function n6(e){var{label:t,labelRef:r}=e,a=t6();return wde(t,a,r)||null}var Fb={},zb={},D_;function Nde(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(zb)),zb}var Bb={},L_;function Sde(){return L_||(L_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Bb)),Bb}var I_;function Cde(){return I_||(I_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nde(),r=Sde(),a=IN();function s(l){if(a.isArrayLike(l))return t.last(r.toArray(l))}e.last=s})(Fb)),Fb}var Ub,$_;function Ede(){return $_||($_=1,Ub=Cde().last),Ub}var Ade=Ede();const Pde=ls(Ade);var Ode=["valueAccessor"],Tde=["dataKey","clockWise","id","textBreakAll","zIndex"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tx.apply(null,arguments)}function F_(e,t){if(e==null)return{};var r,a,s=kde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var _de=e=>Array.isArray(e.value)?Pde(e.value):e.value,r6=p.createContext(void 0),a6=r6.Provider,s6=p.createContext(void 0),Rde=s6.Provider;function Mde(){return p.useContext(r6)}function Dde(){return p.useContext(s6)}function Yh(e){var{valueAccessor:t=_de}=e,r=F_(e,Ode),{dataKey:a,clockWise:s,id:l,textBreakAll:c,zIndex:d}=r,f=F_(r,Tde),m=Mde(),h=Dde(),g=m||h;return!g||!g.length?null:p.createElement(gr,{zIndex:d??vn.label},p.createElement(fn,{className:"recharts-label-list"},g.map((v,y)=>{var N,b=rn(a)?t(v,y):Ht(v&&v.payload,a),w=rn(l)?{}:{id:"".concat(l,"-").concat(y)};return p.createElement(Fi,tx({key:"label-".concat(y)},or(v),f,w,{fill:(N=r.fill)!==null&&N!==void 0?N:v.fill,parentViewBox:v.parentViewBox,value:b,textBreakAll:c,viewBox:v.viewBox,index:y,zIndex:0}))})))}Yh.displayName="LabelList";function dS(e){var{label:t}=e;return t?t===!0?p.createElement(Yh,{key:"labelList-implicit"}):p.isValidElement(t)||cS(t)?p.createElement(Yh,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Yh,tx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ew.apply(null,arguments)}var i6=e=>{var{cx:t,cy:r,r:a,className:s}=e,l=wt("recharts-dot",s);return Be(t)&&Be(r)&&Be(a)?p.createElement("circle",Ew({},_r(e),LN(e),{className:l,cx:t,cy:r,r:a})):null},l6=e=>e.graphicalItems.polarItems,Lde=ue([nn,Af],_1),Ng=ue([l6,sn,Lde],R1),Ide=ue([Ng],M1),Sg=ue([Ide,w1],D1),$de=ue([Sg,sn,Ng],I1);ue([Sg,sn,Ng],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var l,c=Ht(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Ht(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var z_=()=>{},Fde=ue([Sg,sn,Ng,vg,nn],B1),zde=ue([sn,F1,z1,z_,Fde,z_,Nt,nn],U1),o6=ue([sn,Nt,Sg,$de,Ef,nn,zde],H1),Bde=ue([o6,sn,id],K1);ue([sn,o6,Bde,nn],G1);var Ude={radiusAxis:{},angleAxis:{}},c6=Dr({name:"polarAxis",initialState:Ude,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Tbe,removeRadiusAxis:kbe,addAngleAxis:_be,removeAngleAxis:Rbe}=c6.actions,Hde=c6.reducer;function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function U_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(a){Vde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vde(e,t,r){return(t=qde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qde(e){var t=Kde(e,"string");return typeof t=="symbol"?t:t+""}function Kde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wde=(e,t)=>t,uS=ue([l6,Wde],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Gde=[],fS=(e,t,r)=>r?.length===0?Gde:r,d6=ue([w1,uS,fS],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(l=>U_(U_({},t.presentationProps),l.props))),s!=null)return s}}),Yde=ue([d6,uS,fS],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var l,c=Ht(a,t.nameKey,t.name),d;return r!=null&&(l=r[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:Zc(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),Qde=ue([d6,uS,fS,Ln],(e,t,r,a)=>{if(!(t==null||e==null))return Xue({offset:a,pieSettings:t,displayedData:e,cells:r})}),Hb={exports:{}},zt={};var H_;function Xde(){if(H_)return zt;H_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function N(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case e:switch(b=b.type,b){case r:case s:case a:case f:case m:case v:return b;default:switch(b=b&&b.$$typeof,b){case c:case d:case g:case h:return b;case l:return b;default:return w}}case t:return w}}}return zt.ContextConsumer=l,zt.ContextProvider=c,zt.Element=e,zt.ForwardRef=d,zt.Fragment=r,zt.Lazy=g,zt.Memo=h,zt.Portal=t,zt.Profiler=s,zt.StrictMode=a,zt.Suspense=f,zt.SuspenseList=m,zt.isContextConsumer=function(b){return N(b)===l},zt.isContextProvider=function(b){return N(b)===c},zt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},zt.isForwardRef=function(b){return N(b)===d},zt.isFragment=function(b){return N(b)===r},zt.isLazy=function(b){return N(b)===g},zt.isMemo=function(b){return N(b)===h},zt.isPortal=function(b){return N(b)===t},zt.isProfiler=function(b){return N(b)===s},zt.isStrictMode=function(b){return N(b)===a},zt.isSuspense=function(b){return N(b)===f},zt.isSuspenseList=function(b){return N(b)===m},zt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===s||b===a||b===f||b===m||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===h||b.$$typeof===c||b.$$typeof===l||b.$$typeof===d||b.$$typeof===y||b.getModuleId!==void 0)},zt.typeOf=N,zt}var V_;function Zde(){return V_||(V_=1,Hb.exports=Xde()),Hb.exports}var Jde=Zde(),q_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",K_=null,Vb=null,u6=e=>{if(e===K_&&Array.isArray(Vb))return Vb;var t=[];return p.Children.forEach(e,r=>{rn(r)||(Jde.isFragment(r)?t=t.concat(u6(r.props.children)):t.push(r))}),Vb=t,K_=e,t};function mS(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>q_(s)):a=[q_(t)],u6(e).forEach(s=>{var l=to(s,"type.displayName")||to(s,"type.name");l&&a.indexOf(l)!==-1&&r.push(s)}),r}var f6=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qb={},W_;function eue(){return W_||(W_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(qb)),qb}var Kb,G_;function tue(){return G_||(G_=1,Kb=eue().isPlainObject),Kb}var nue=tue();const rue=ls(nue);function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(a){aue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=iue(e,"string");return typeof t=="symbol"?t:t+""}function iue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nx.apply(null,arguments)}var X_=(e,t,r,a,s)=>{var l=r-a,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-l/2,",").concat(t+s),c+="L ".concat(e+r-l/2-a,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},lue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oue=e=>{var t=bn(e,lue),{x:r,y:a,upperWidth:s,lowerWidth:l,height:c,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:g}=t,v=p.useRef(null),[y,N]=p.useState(-1),b=p.useRef(s),w=p.useRef(l),C=p.useRef(c),A=p.useRef(r),E=p.useRef(a),T=jf(e,"trapezoid-");if(p.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var K=v.current.getTotalLength();K&&N(K)}catch{}},[]),r!==+r||a!==+a||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var k=wt("recharts-trapezoid",d);if(!g)return p.createElement("g",null,p.createElement("path",nx({},or(t),{className:k,d:X_(r,a,s,l,c)})));var P=b.current,M=w.current,I=C.current,Q=A.current,L=E.current,_="0px ".concat(y===-1?1:y,"px"),q="".concat(y,"px 0px"),ve=_L(["strokeDasharray"],m,f);return p.createElement(bf,{animationId:T,key:T,canBegin:y>0,duration:m,easing:f,isActive:g,begin:h},K=>{var ee=Xt(P,s,K),B=Xt(M,l,K),X=Xt(I,c,K),$=Xt(Q,r,K),fe=Xt(L,a,K);v.current&&(b.current=ee,w.current=B,C.current=X,A.current=$,E.current=fe);var pe=K>0?{transition:ve,strokeDasharray:q}:{strokeDasharray:_};return p.createElement("path",nx({},or(t),{className:k,d:X_($,fe,ee,B,X),ref:v,style:Q_(Q_({},pe),t.style)}))})},cue=["option","shapeType","propTransformer","activeClassName"];function due(e,t){if(e==null)return{};var r,a,s=uue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(a){fue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fue(e,t,r){return(t=mue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mue(e){var t=hue(e,"string");return typeof t=="symbol"?t:t+""}function hue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pue(e,t){return rx(rx({},t),e)}function xue(e,t){return e==="symbols"}function J_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(LL,r);case"trapezoid":return p.createElement(oue,r);case"sector":return p.createElement(zL,r);case"symbols":if(xue(t))return p.createElement(DN,r);break;case"curve":return p.createElement(pc,r);default:return null}}function gue(e){return p.isValidElement(e)?e.props:e}function m6(e){var{option:t,shapeType:r,propTransformer:a=pue,activeClassName:s="recharts-active-shape"}=e,l=due(e,cue),c;if(p.isValidElement(t))c=p.cloneElement(t,rx(rx({},l),gue(t)));else if(typeof t=="function")c=t(l,l.index);else if(rue(t)&&typeof t!="boolean"){var d=a(t,l);c=p.createElement(J_,{shapeType:r,elementProps:d})}else{var f=l;c=p.createElement(J_,{shapeType:r,elementProps:f})}return l.isActive?p.createElement(fn,{className:s},c):c}var hS=(e,t,r)=>{var a=qt();return(s,l)=>c=>{e?.(s,l,c),a(j$({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},pS=e=>{var t=qt();return(r,a)=>s=>{e?.(r,a,s),t(_le())}},xS=(e,t,r)=>{var a=qt();return(s,l)=>c=>{e?.(s,l,c),a(Rle({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function gS(e){var{tooltipEntrySettings:t}=e,r=qt(),a=nr(),s=p.useRef(null);return p.useLayoutEffect(()=>{a||(s.current===null?r(Ple(t)):s.current!==t&&r(Ole({prev:s.current,next:t})),s.current=t)},[t,r,a]),p.useLayoutEffect(()=>()=>{s.current&&(r(Tle(s.current)),s.current=null)},[r]),null}function h6(e){var{legendPayload:t}=e,r=qt(),a=nr(),s=p.useRef(null);return p.useLayoutEffect(()=>{a||(s.current===null?r(PL(t)):s.current!==t&&r(OL({prev:s.current,next:t})),s.current=t)},[r,a,t]),p.useLayoutEffect(()=>()=>{s.current&&(r(TL(s.current)),s.current=null)},[r]),null}function vue(e){var{legendPayload:t}=e,r=qt(),a=Fe(Nt),s=p.useRef(null);return p.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(s.current===null?r(PL(t)):s.current!==t&&r(OL({prev:s.current,next:t})),s.current=t)},[r,a,t]),p.useLayoutEffect(()=>()=>{s.current&&(r(TL(s.current)),s.current=null)},[r]),null}var Wb,yue=()=>{var[e]=p.useState(()=>Mu("uid-"));return e},bue=(Wb=Zu.useId)!==null&&Wb!==void 0?Wb:yue;function p6(e,t){var r=bue();return t||(e?"".concat(e,"-").concat(r):r)}var jue=p.createContext(void 0),vS=e=>{var{id:t,type:r,children:a}=e,s=p6("recharts-".concat(r),t);return p.createElement(jue.Provider,{value:s},a(s))},wue={cartesianItems:[],polarItems:[]},x6=Dr({name:"graphicalItems",initialState:wue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:en()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Fa(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},prepare:en()},removeCartesianGraphicalItem:{reducer(e,t){var r=Fa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:en()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:en()},removePolarGraphicalItem:{reducer(e,t){var r=Fa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:en()}}}),{addCartesianGraphicalItem:Nue,replaceCartesianGraphicalItem:Sue,removeCartesianGraphicalItem:Cue,addPolarGraphicalItem:Eue,removePolarGraphicalItem:Aue}=x6.actions,Pue=x6.reducer,Oue=e=>{var t=qt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(Nue(e)):r.current!==e&&t(Sue({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(Cue(r.current)),r.current=null)},[t]),null},g6=p.memo(Oue);function Tue(e){var t=qt();return p.useLayoutEffect(()=>(t(Eue(e)),()=>{t(Aue(e))}),[t,e]),null}var kue=["key"],_ue=["onMouseEnter","onClick","onMouseLeave"],Rue=["id"],Mue=["id"];function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(a){Due(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Due(e,t,r){return(t=Lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lue(e){var t=Iue(e,"string");return typeof t=="symbol"?t:t+""}function Iue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rl.apply(null,arguments)}function Cg(e,t){if(e==null)return{};var r,a,s=$ue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $ue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Fue(e){var t=p.useMemo(()=>mS(e.children,ri),[e.children]),r=Fe(a=>Yde(a,e.id,t));return r==null?null:p.createElement(vue,{legendPayload:r})}var zue=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e,h={dataDefinedOnItem:a.map(g=>g.tooltipPayload),positions:a.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:Zc(d,t),hide:f,type:m,color:c,unit:""}};return p.createElement(gS,{tooltipEntrySettings:h})}),Bue=(e,t)=>e>t?"start":e<t?"end":"middle",Uue=(e,t,r)=>ir(typeof t=="function"?t(e):t,r,r*.8),Hue=(e,t,r)=>{var{top:a,left:s,width:l,height:c}=t,d=IL(l,c),f=s+ir(e.cx,l,l/2),m=a+ir(e.cy,c,c/2),h=ir(e.innerRadius,d,0),g=Uue(r,e.outerRadius,d),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:g,maxRadius:v}},Vue=(e,t)=>{var r=qn(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function que(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Kue=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=wt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,s=Cg(t,kue);return p.createElement(pc,rl({},s,{type:"linear",className:r}))},Wue=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),p.isValidElement(a)))return a;var s=wt("recharts-pie-label-text",que(e));return p.createElement(wg,rl({},t,{alignmentBaseline:"middle",className:s}),a)};function Gue(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:l,dataKey:c}=r;if(!a||!s||!t)return null;var d=_r(r),f=eo(s),m=eo(l),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=t.map((v,y)=>{var N=(v.startAngle+v.endAngle)/2,b=On(v.cx,v.cy,v.outerRadius+h,N),w=dn(dn(dn(dn({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:Bue(b.x,v.cx)},b),C=dn(dn(dn(dn({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[On(v.cx,v.cy,v.outerRadius,N),b],key:"line"});return p.createElement(gr,{zIndex:vn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},p.createElement(fn,null,l&&Kue(l,C),Wue(s,w,Ht(v,c))))});return p.createElement(fn,{className:"recharts-pie-labels"},g)}function Yue(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(dS,{label:s}):p.createElement(Gue,{sectors:t,props:r,showLabels:a})}function Que(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s,shape:l,id:c}=e,d=Fe(nl),f=Fe(rS),m=Fe(voe),{onMouseEnter:h,onClick:g,onMouseLeave:v}=s,y=Cg(s,_ue),N=hS(h,s.dataKey,c),b=pS(v),w=xS(g,s.dataKey,c);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((C,A)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var E=m==null||m===c,T=String(A)===d&&(f==null||s.dataKey===f)&&E,k=d?a:null,P=r&&T?r:k,M=dn(dn({},C),{},{stroke:C.stroke,tabIndex:-1,[hL]:A,[pL]:s.dataKey});return p.createElement(fn,rl({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},ff(y,C,A),{onMouseEnter:N(C,A),onMouseLeave:b(C,A),onClick:w(C,A)}),p.createElement(m6,rl({option:l??P,index:A,shapeType:"sector",isActive:T},M)))}))}function Xue(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:g}=r,v=Math.abs(r.minAngle),y=Vue(d,f),N=Math.abs(y),b=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=a.filter(P=>Ht(P,m,0)!==0).length,C=(N>=360?w:w-1)*b,A=N-w*v-C,E=a.reduce((P,M)=>{var I=Ht(M,m,0);return P+(Be(I)?I:0)},0),T;if(E>0){var k;T=a.map((P,M)=>{var I=Ht(P,m,0),Q=Ht(P,h,M),L=Hue(r,l,P),_=(Be(I)?I:0)/E,q,ve=dn(dn({},P),s&&s[M]&&s[M].props);M?q=k.endAngle+qn(y)*b*(I!==0?1:0):q=d;var K=q+qn(y)*((I!==0?v:0)+_*A),ee=(q+K)/2,B=(L.innerRadius+L.outerRadius)/2,X=[{name:Q,value:I,payload:ve,dataKey:m,type:g}],$=On(L.cx,L.cy,B,ee);return k=dn(dn(dn(dn({},r.presentationProps),{},{percent:_,cornerRadius:typeof c=="string"?parseFloat(c):c,name:Q,tooltipPayload:X,midAngle:ee,middleRadius:B,tooltipPosition:$},ve),L),{},{value:I,dataKey:m,startAngle:q,endAngle:K,payload:ve,paddingAngle:qn(y)*b}),k})}return T}function Zue(e){var{showLabels:t,sectors:r,children:a}=e,s=p.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return p.createElement(Rde,{value:t?s:void 0},a)}function Jue(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:g,onAnimationEnd:v}=t,y=jf(t,"recharts-pie-"),N=r.current,[b,w]=p.useState(!1),C=p.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),A=p.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]);return p.createElement(Zue,{showLabels:!b,sectors:s},p.createElement(bf,{animationId:y,begin:c,duration:d,isActive:l,easing:f,onAnimationStart:A,onAnimationEnd:C,key:y},E=>{var T=[],k=s&&s[0],P=k?.startAngle;return s?.forEach((M,I)=>{var Q=N&&N[I],L=I>0?to(M,"paddingAngle",0):0;if(Q){var _=Xt(Q.endAngle-Q.startAngle,M.endAngle-M.startAngle,E),q=dn(dn({},M),{},{startAngle:P+L,endAngle:P+_+L});T.push(q),P=q.endAngle}else{var{endAngle:ve,startAngle:K}=M,ee=Xt(0,ve-K,E),B=dn(dn({},M),{},{startAngle:P+L,endAngle:P+ee+L});T.push(B),P=B.endAngle}}),r.current=T,p.createElement(fn,null,p.createElement(Que,{sectors:T,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:a}))}),p.createElement(Yue,{showLabels:!b,sectors:s,props:t}),t.children)}var efe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:vn.area};function tfe(e){var{id:t}=e,r=Cg(e,Rue),{hide:a,className:s,rootTabIndex:l}=e,c=p.useMemo(()=>mS(e.children,ri),[e.children]),d=Fe(h=>Qde(h,t,c)),f=p.useRef(null),m=wt("recharts-pie",s);return a||d==null?(f.current=null,p.createElement(fn,{tabIndex:l,className:m})):p.createElement(gr,{zIndex:e.zIndex},p.createElement(zue,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),p.createElement(fn,{tabIndex:l,className:m},p.createElement(Jue,{props:dn(dn({},r),{},{sectors:d}),previousSectorsRef:f,id:t})))}function Lf(e){var t=bn(e,efe),{id:r}=t,a=Cg(t,Mue),s=_r(a);return p.createElement(vS,{id:r,type:"pie"},l=>p.createElement(p.Fragment,null,p.createElement(Tue,{type:"pie",id:l,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),p.createElement(Fue,rl({},a,{id:l})),p.createElement(tfe,rl({},a,{id:l}))))}Lf.displayName="Pie";var nfe=["points"];function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(a){rfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rfe(e,t,r){return(t=afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function afe(e){var t=sfe(e,"string");return typeof t=="symbol"?t:t+""}function sfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ax.apply(null,arguments)}function ife(e,t){if(e==null)return{};var r,a,s=lfe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ofe(e){var{option:t,dotProps:r,className:a}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var s=wt(a,typeof t!="boolean"?t.className:""),l=r??{},{points:c}=l,d=ife(l,nfe);return p.createElement(i6,ax({},d,{className:s}))}function cfe(e,t){return e==null?!1:t?!0:e.length===1}function dfe(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:l,baseProps:c,needClip:d,clipPathId:f,zIndex:m=vn.scatter}=e;if(!cfe(t,r))return null;var h=f6(r),g=FX(r),v=t.map((N,b)=>{var w,C,A=Gb(Gb(Gb({r:3},c),g),{},{index:b,cx:(w=N.x)!==null&&w!==void 0?w:void 0,cy:(C=N.y)!==null&&C!==void 0?C:void 0,dataKey:l,value:N.value,payload:N.payload,points:t});return p.createElement(ofe,{key:"dot-".concat(b),option:r,dotProps:A,className:s})}),y={};return d&&f!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),p.createElement(gr,{zIndex:m},p.createElement(fn,ax({className:a},y),v))}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(a){ufe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ufe(e,t,r){return(t=ffe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ffe(e){var t=mfe(e,"string");return typeof t=="symbol"?t:t+""}function mfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hfe={xAxis:{},yAxis:{},zAxis:{}},v6=Dr({name:"cartesianAxis",initialState:hfe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:en()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:en()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:en()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:en()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:en()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:en()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:en()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:en()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:en()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,s=e.yAxis[r];if(s){var l=s.widthHistory||[];if(l.length===3&&l[0]===l[2]&&a===l[1]&&a!==s.width&&Math.abs(a-l[0])<=1)return;var c=[...l,a].slice(-3);e.yAxis[r]=rR(rR({},e.yAxis[r]),{},{width:a,widthHistory:c})}}}}),{addXAxis:pfe,replaceXAxis:xfe,removeXAxis:gfe,addYAxis:vfe,replaceYAxis:yfe,removeYAxis:bfe,addZAxis:Mbe,replaceZAxis:Dbe,removeZAxis:Lbe,updateYAxisWidth:jfe}=v6.actions,wfe=v6.reducer,Nfe=ue([Ln],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Sfe=ue([Nfe,li,oi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),yS=()=>Fe(Sfe),Cfe=()=>Fe(Noe);function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(a){Efe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Efe(e,t,r){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e){var t=Pfe(e,"string");return typeof t=="symbol"?t:t+""}function Pfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ofe=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:l,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:l,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Yb(Yb(Yb({},d),eo(s)),LN(s)),m;return p.isValidElement(s)?m=p.cloneElement(s,f):typeof s=="function"?m=s(f):m=p.createElement(i6,f),p.createElement(fn,{className:"recharts-active-dot",clipPath:c},m)};function sR(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,clipPath:l,zIndex:c=vn.activeDot}=e,d=Fe(nl),f=Cfe();if(t==null||f==null)return null;var m=t.find(h=>f.includes(h.payload));return rn(m)?null:p.createElement(gr,{zIndex:c},p.createElement(Ofe,{point:m,childIndex:Number(d),mainColor:r,dataKey:s,activeDot:a,clipPath:l}))}var Tfe="Invariant failed";function kfe(e,t){throw new Error(Tfe)}var _fe=["x","y"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Aw.apply(null,arguments)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(a){Rfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rfe(e,t,r){return(t=Mfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mfe(e){var t=Dfe(e,"string");return typeof t=="symbol"?t:t+""}function Dfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lfe(e,t){if(e==null)return{};var r,a,s=Ife(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ife(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function $fe(e,t){var{x:r,y:a}=e,s=Lfe(e,_fe),l="".concat(r),c=parseInt(l,10),d="".concat(a),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),g="".concat(t.width||s.width),v=parseInt(g,10);return uu(uu(uu(uu(uu({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function sx(e){return p.createElement(m6,Aw({shapeType:"rectangle",propTransformer:$fe,activeClassName:"recharts-active-bar"},e))}var Ffe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Be(t))return t;var l=Be(a)||rn(a);return l?t(a,s):(l||kfe(),r)}},zfe={},y6=Dr({name:"errorBars",initialState:zfe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===a.dataKey&&l.direction===a.direction?s:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:Ibe,replaceErrorBar:$be,removeErrorBar:Fbe}=y6.actions,Bfe=y6.reducer,Ufe=["children"];function Hfe(e,t){if(e==null)return{};var r,a,s=Vfe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Vfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var qfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kfe=p.createContext(qfe);function Wfe(e){var{children:t}=e,r=Hfe(e,Ufe);return p.createElement(Kfe.Provider,{value:r},t)}function bS(e,t){var r,a,s=Fe(m=>us(m,e)),l=Fe(m=>fs(m,t)),c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Un.allowDataOverflow,d=(a=l?.allowDataOverflow)!==null&&a!==void 0?a:Hn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function b6(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=yS(),{needClipX:l,needClipY:c,needClip:d}=bS(t,r);if(!d||!s)return null;var{x:f,y:m,width:h,height:g}=s;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:l?f:f-h/2,y:c?m:m-g/2,width:l?h:h*2,height:c?g:g*2}))}function Gfe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Dt(e.zIndex)?e.zIndex:t}var Qb={exports:{}},Xb={};var lR;function Yfe(){if(lR)return Xb;lR=1;var e=zc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Xb.useSyncExternalStoreWithSelector=function(f,m,h,g,v){var y=s(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=c(function(){function w(k){if(!C){if(C=!0,A=k,k=g(k),v!==void 0&&N.hasValue){var P=N.value;if(v(P,k))return E=P}return E=k}if(P=E,r(A,k))return P;var M=g(k);return v!==void 0&&v(P,M)?(A=k,P):(A=k,E=M)}var C=!1,A,E,T=h===void 0?null:h;return[function(){return w(m())},T===null?void 0:function(){return w(T())}]},[m,h,g,v]);var b=a(f,y[0],y[1]);return l(function(){N.hasValue=!0,N.value=b},[b]),d(b),b},Xb}var oR;function Qfe(){return oR||(oR=1,Qb.exports=Yfe()),Qb.exports}Qfe();function Xfe(e){e()}function Zfe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Xfe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var cR={notify(){},get:()=>[]};function Jfe(e,t){let r,a=cR,s=0,l=!1;function c(b){h();const w=a.subscribe(b);let C=!1;return()=>{C||(C=!0,w(),g())}}function d(){a.notify()}function f(){N.onStateChange&&N.onStateChange()}function m(){return l}function h(){s++,r||(r=e.subscribe(f),a=Zfe())}function g(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=cR)}function v(){l||(l=!0,h())}function y(){l&&(l=!1,g())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>a};return N}var eme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tme=eme(),nme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rme=nme(),ame=()=>tme||rme?p.useLayoutEffect:p.useEffect,sme=ame();function dR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ime(e,t){if(dR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!dR(e[r[s]],t[r[s]]))return!1;return!0}var lme=Symbol.for("react-redux-context"),ome=typeof globalThis<"u"?globalThis:{};function cme(){if(!p.createContext)return{};const e=ome[lme]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var dme=cme();function ume(e){const{children:t,context:r,serverState:a,store:s}=e,l=p.useMemo(()=>{const f=Jfe(s);return{store:s,subscription:f,getServerState:a?()=>a:void 0}},[s,a]),c=p.useMemo(()=>s.getState(),[s]);sme(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=r||dme;return p.createElement(d.Provider,{value:l},t)}var fme=ume,mme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function hme(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Eg(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(mme.has(a)){if(e[a]==null&&t[a]==null)continue;if(!ime(e[a],t[a]))return!1}else if(!hme(e[a],t[a]))return!1;return!0}var pme=["onMouseEnter","onMouseLeave","onClick"],xme=["value","background","tooltipPosition"],gme=["id"],vme=["onMouseEnter","onClick","onMouseLeave"];function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ai.apply(null,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(a){yme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yme(e,t,r){return(t=bme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bme(e){var t=jme(e,"string");return typeof t=="symbol"?t:t+""}function jme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ix(e,t){if(e==null)return{};var r,a,s=wme(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wme(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Nme=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:Zc(r,t),payload:e}]},Sme=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:l,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Zc(l,t),hide:c,type:f,color:s,unit:d}};return p.createElement(gS,{tooltipEntrySettings:m})});function Cme(e){var t=Fe(nl),{data:r,dataKey:a,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=ix(l,pme),h=hS(c,a),g=pS(d),v=xS(f,a);if(!s||r==null)return null;var y=eo(s);return p.createElement(gr,{zIndex:Gfe(s,vn.barBackground)},r.map((N,b)=>{var{value:w,background:C,tooltipPosition:A}=N,E=ix(N,xme);if(!C)return null;var T=h(N,b),k=g(N,b),P=v(N,b),M=fr(fr(fr(fr(fr({option:s,isActive:String(b)===t},E),{},{fill:"#eee"},C),y),ff(m,N,b)),{},{onMouseEnter:T,onMouseLeave:k,onClick:P,dataKey:a,index:b,className:"recharts-bar-background-rectangle"});return p.createElement(sx,ai({key:"background-bar-".concat(b)},M))}))}function Eme(e){var{showLabels:t,children:r,rects:a}=e,s=a?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return fr(fr({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return p.createElement(a6,{value:t?s:void 0},r)}function Ame(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:l,dataKey:c}=e,d=Fe(nl),f=Fe(rS),m=r&&String(l)===d&&(f==null||c===f),h=m?r:t;return m?p.createElement(gr,{zIndex:vn.activeBar},p.createElement(sx,ai({},a,{name:String(a.name)},s,{isActive:m,option:h,index:l,dataKey:c}))):p.createElement(sx,ai({},a,{name:String(a.name)},s,{isActive:m,option:h,index:l,dataKey:c}))}function Pme(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:l}=e;return p.createElement(sx,ai({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:s,dataKey:l}))}function Ome(e){var t,{data:r,props:a}=e,s=(t=_r(a))!==null&&t!==void 0?t:{},{id:l}=s,c=ix(s,gme),{shape:d,dataKey:f,activeBar:m}=a,{onMouseEnter:h,onClick:g,onMouseLeave:v}=a,y=ix(a,vme),N=hS(h,f),b=pS(v),w=xS(g,f);return r?p.createElement(p.Fragment,null,r.map((C,A)=>p.createElement(fn,ai({key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(A),className:"recharts-bar-rectangle"},ff(y,C,A),{onMouseEnter:N(C,A),onMouseLeave:b(C,A),onClick:w(C,A)}),m?p.createElement(Ame,{shape:d,activeBar:m,baseProps:c,entry:C,index:A,dataKey:f}):p.createElement(Pme,{shape:d,baseProps:c,entry:C,index:A,dataKey:f})))):null}function Tme(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,g=r.current,v=jf(t,"recharts-bar-"),[y,N]=p.useState(!1),b=!y,w=p.useCallback(()=>{typeof m=="function"&&m(),N(!1)},[m]),C=p.useCallback(()=>{typeof h=="function"&&h(),N(!0)},[h]);return p.createElement(Eme,{showLabels:b,rects:a},p.createElement(bf,{animationId:v,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:w,onAnimationStart:C,key:v},A=>{var E=A===1?a:a?.map((T,k)=>{var P=g&&g[k];if(P)return fr(fr({},T),{},{x:Xt(P.x,T.x,A),y:Xt(P.y,T.y,A),width:Xt(P.width,T.width,A),height:Xt(P.height,T.height,A)});if(s==="horizontal"){var M=Xt(0,T.height,A),I=Xt(T.stackedBarStart,T.y,A);return fr(fr({},T),{},{y:I,height:M})}var Q=Xt(0,T.width,A),L=Xt(T.stackedBarStart,T.x,A);return fr(fr({},T),{},{width:Q,x:L})});return A>0&&(r.current=E??null),E==null?null:p.createElement(fn,null,p.createElement(Ome,{props:t,data:E}))}),p.createElement(dS,{label:t.label}),t.children)}function kme(e){var t=p.useRef(null);return p.createElement(Tme,{previousRectanglesRef:t,props:e})}var j6=0,_me=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ht(e,t)}};class Rme extends p.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t||r==null)return null;var h=wt("recharts-bar",s),g=m;return p.createElement(fn,{className:h,id:m},d&&p.createElement("defs",null,p.createElement(b6,{clipPathId:g,xAxisId:l,yAxisId:c})),p.createElement(fn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},p.createElement(Cme,{data:r,dataKey:a,background:f,allOtherBarProps:this.props}),p.createElement(kme,this.props)))}}var Mme={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:j6,xAxisId:0,yAxisId:0,zIndex:vn.bar};function Dme(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:g}=bS(t,r),v=Jc(),y=nr(),N=mS(e.children,ri),b=Fe(A=>che(A,t,r,y,e.id,N));if(v!=="vertical"&&v!=="horizontal")return null;var w,C=b?.[0];return C==null||C.height==null||C.width==null?w=0:w=v==="vertical"?C.height/2:C.width/2,p.createElement(Wfe,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:_me,errorBarOffset:w},p.createElement(Rme,ai({},e,{layout:v,needClip:g,data:b,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function Lme(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:g,offset:v,cells:y,parentViewBox:N,dataStartIndex:b}=e,w=t==="horizontal"?d:c,C=h?w.scale.domain():null,A=rte({numericAxis:w}),E=w.scale(A);return g.map((T,k)=>{var P,M,I,Q,L,_;h?P=Zee(h[k+b],C):(P=Ht(T,r),Array.isArray(P)||(P=[A,P]));var q=Ffe(a,j6)(P[1],k);if(t==="horizontal"){var ve,[K,ee]=[d.scale(P[0]),d.scale(P[1])];M=AT({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:T,index:k}),I=(ve=ee??K)!==null&&ve!==void 0?ve:void 0,Q=s.size;var B=K-ee;if(L=Rr(B)?0:B,_={x:M,y:v.top,width:Q,height:v.height},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var X=qn(L||q)*(Math.abs(q)-Math.abs(L));I-=X,L+=X}}else{var[$,fe]=[c.scale(P[0]),c.scale(P[1])];if(M=$,I=AT({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:T,index:k}),Q=fe-$,L=s.size,_={x:v.left,y:I,width:v.width,height:L},Math.abs(q)>0&&Math.abs(Q)<Math.abs(q)){var pe=qn(Q||q)*(Math.abs(q)-Math.abs(Q));Q+=pe}}if(M==null||I==null||Q==null||L==null)return null;var R=fr(fr({},T),{},{stackedBarStart:E,x:M,y:I,width:Q,height:L,value:h?P:P[1],payload:T,background:_,tooltipPosition:{x:M+Q/2,y:I+L/2},parentViewBox:N},y&&y[k]&&y[k].props);return R}).filter(Boolean)}function Ime(e){var t=bn(e,Mme),r=nr();return p.createElement(vS,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(h6,{legendPayload:Nme(t)}),p.createElement(Sme,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(g6,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:fL(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(gr,{zIndex:t.zIndex},p.createElement(Dme,ai({},t,{id:a})))))}var w6=p.memo(Ime,Eg);w6.displayName="Bar";function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(a){$me(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $me(e,t,r){return(t=Fme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fme(e){var t=zme(e,"string");return typeof t=="symbol"?t:t+""}function zme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bme=(e,t)=>t,Ume=(e,t,r)=>r,Hme=(e,t,r,a)=>a,Vme=(e,t,r,a,s)=>s,If=ue([xg,Vme],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),qme=ue([If],e=>e?.maxBarSize),Kme=(e,t,r,a,s,l)=>l,mR=(e,t,r)=>{var a=r??e;if(!rn(a))return ir(a,t,0)},Wme=ue([Nt,xg,Bme,Ume,Hme],(e,t,r,a,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===r:l.yAxisId===a).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Gme=(e,t,r,a)=>{var s=Nt(e);return s==="horizontal"?Gu(e,"yAxis",r,a):Gu(e,"xAxis",t,a)},Yme=(e,t,r)=>{var a=Nt(e);return a==="horizontal"?i_(e,"xAxis",t):i_(e,"yAxis",r)},Qme=(e,t,r)=>{var a={},s=e.filter(mg),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),d=Object.entries(c).map(m=>{var[h,g]=m,v=g.map(N=>N.dataKey),y=mR(t,r,g[0].barSize);return{stackId:h,dataKeys:v,barSize:y}}),f=l.map(m=>{var h=[m.dataKey].filter(v=>v!=null),g=mR(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...f]},Xme=ue([Wme,bie,Yme],Qme),Zme=(e,t,r,a,s)=>{var l,c,d=If(e,t,r,a,s);if(d!=null){var f=Nt(e),m=LI(e),{maxBarSize:h}=d,g=rn(h)?m:h,v,y;return f==="horizontal"?(v=tl(e,"xAxis",t,a),y=el(e,"xAxis",t,a)):(v=tl(e,"yAxis",r,a),y=el(e,"yAxis",r,a)),(l=(c=Ac(v,y,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},N6=(e,t,r,a)=>{var s=Nt(e),l,c;return s==="horizontal"?(l=tl(e,"xAxis",t,a),c=el(e,"xAxis",t,a)):(l=tl(e,"yAxis",r,a),c=el(e,"yAxis",r,a)),Ac(l,c)};function Jme(e,t,r,a,s){var l=a.length;if(!(l<1)){var c=ir(e,r,0,!0),d,f=[];if(Dt(a[0].barSize)){var m=!1,h=r/l,g=a.reduce((C,A)=>C+(A.barSize||0),0);g+=(l-1)*c,g>=r&&(g-=(l-1)*c,c=0),g>=r&&h>0&&(m=!0,h*=.9,g=l*h);var v=(r-g)/2>>0,y={offset:v-c,size:0};d=a.reduce((C,A)=>{var E,T={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:y.offset+y.size+c,size:m?h:(E=A.barSize)!==null&&E!==void 0?E:0}},k=[...C,T];return y=k[k.length-1].position,k},f)}else{var N=ir(t,r,0,!0);r-2*N-(l-1)*c<=0&&(c=0);var b=(r-2*N-(l-1)*c)/l;b>1&&(b>>=0);var w=Dt(s)?Math.min(b,s):b;d=a.reduce((C,A,E)=>[...C,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:N+(b+c)*E+(b-w)/2,size:w}}],f)}return d}}var ehe=(e,t,r,a,s,l,c)=>{var d=rn(c)?t:c,f=Jme(r,a,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>Oh(Oh({},m),{},{position:Oh(Oh({},m.position),{},{offset:m.position.offset-s/2})}))),f},the=ue([Xme,LI,yie,II,Zme,N6,qme],ehe),nhe=(e,t,r,a)=>tl(e,"xAxis",t,a),rhe=(e,t,r,a)=>tl(e,"yAxis",r,a),ahe=(e,t,r,a)=>el(e,"xAxis",t,a),she=(e,t,r,a)=>el(e,"yAxis",r,a),ihe=ue([the,If],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),lhe=(e,t)=>{var r=fg(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===r)}}}},ohe=ue([Gme,If],lhe),che=ue([Ln,WN,nhe,rhe,ahe,she,ihe,Nt,cg,N6,ohe,If,Kme],(e,t,r,a,s,l,c,d,f,m,h,g,v)=>{var{chartData:y,dataStartIndex:N,dataEndIndex:b}=f;if(!(g==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||a==null||s==null||l==null||m==null)){var{data:w}=g,C;if(w!=null&&w.length>0?C=w:C=y?.slice(N,b+1),C!=null)return Lme({layout:d,barSettings:g,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:l,stackedData:h,displayedData:C,offset:e,cells:v,dataStartIndex:N})}}),S6=e=>{var{chartData:t}=e,r=qt(),a=nr();return p.useEffect(()=>a?()=>{}:(r(y_(t)),()=>{r(y_(void 0))}),[t,r,a]),null},hR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},C6=Dr({name:"brush",initialState:hR,reducers:{setBrushSettings(e,t){return t.payload==null?hR:t.payload}}}),{setBrushSettings:zbe}=C6.actions,dhe=C6.reducer;function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(a){E6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function E6(e,t,r){return(t=uhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uhe(e){var t=fhe(e,"string");return typeof t=="symbol"?t:t+""}function fhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mhe=(e,t)=>{var{x:r,y:a}=e,{x:s,y:l}=t;return{x:Math.min(r,s),y:Math.min(a,l),width:Math.abs(s-r),height:Math.abs(l-a)}},hhe=e=>{var{x1:t,y1:r,x2:a,y2:s}=e;return mhe({x:t,y:r},{x:a,y:s})};class Ag{static create(t){return new Ag(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}E6(Ag,"EPS",1e-4);var phe=e=>{var t=Object.keys(e).reduce((r,a)=>Th(Th({},r),{},{[a]:Ag.create(e[a])}),{});return Th(Th({},t),{},{apply(r){var{bandAware:a,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(l=>{var[c,d]=l;return[c,t[c].apply(d,{bandAware:a,position:s})]}))},isInRange(r){return Object.keys(r).every(a=>t[a].isInRange(r[a]))}})};function xhe(e){return(e%180+180)%180}var ghe=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=xhe(s),c=l*Math.PI/180,d=Math.atan(a/r),f=c>d&&c<Math.PI-d?a/Math.sin(c):r/Math.cos(c);return Math.abs(f)},vhe={dots:[],areas:[],lines:[]},A6=Dr({name:"referenceElements",initialState:vhe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Fa(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Fa(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Fa(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Bbe,removeDot:Ube,addArea:Hbe,removeArea:Vbe,addLine:yhe,removeLine:bhe}=A6.actions,jhe=A6.reducer,P6=p.createContext(void 0),whe=e=>{var{children:t}=e,[r]=p.useState("".concat(Mu("recharts"),"-clip")),a=yS();if(a==null)return null;var{x:s,y:l,width:c,height:d}=a;return p.createElement(P6.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:s,y:l,height:d,width:c}))),t)},Nhe=()=>p.useContext(P6);function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(a){She(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function She(e,t,r){return(t=Che(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Che(e){var t=Ehe(e,"string");return typeof t=="symbol"?t:t+""}function Ehe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lx.apply(null,arguments)}var Ahe=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Dt(t.x1)||!Dt(t.y1)||!Dt(t.x2)||!Dt(t.y2))return null;r=p.createElement("line",lx({},t,{className:"recharts-reference-line-line"}))}return r},Phe=(e,t,r,a,s,l)=>{var{x:c,width:d}=l,f=s.y.apply(e,{position:r});if(Rr(f)||t==="discard"&&!s.y.isInRange(f))return null;var m=[{x:c+d,y:f},{x:c,y:f}];return a==="left"?m.reverse():m},Ohe=(e,t,r,a,s,l)=>{var{y:c,height:d}=l,f=s.x.apply(e,{position:r});if(Rr(f)||t==="discard"&&!s.x.isInRange(f))return null;var m=[{x:f,y:c+d},{x:f,y:c}];return a==="top"?m.reverse():m},The=(e,t,r,a)=>{var s=e.map(l=>a.apply(l,{position:r}));return t==="discard"&&s.some(l=>!a.isInRange(l))?null:s},khe=(e,t,r,a,s,l)=>{var{x:c,y:d,segment:f,ifOverflow:m}=l,h=Ca(c),g=Ca(d);return g?Phe(d,m,r,s,e,t):h?Ohe(c,m,r,a,e,t):f!=null&&f.length===2?The(f,m,r,e):null};function _he(e){var t=qt();return p.useEffect(()=>(t(yhe(e)),()=>{t(bhe(e))})),null}function Rhe(e){var{xAxisId:t,yAxisId:r,shape:a,className:s,ifOverflow:l}=e,c=nr(),d=Nhe(),f=Fe(P=>us(P,t)),m=Fe(P=>fs(P,r)),h=Fe(P=>Ji(P,"xAxis",t,c)),g=Fe(P=>Ji(P,"yAxis",r,c)),v=gf();if(!d||!v||f==null||m==null||h==null||g==null)return null;var y=phe({x:h,y:g}),N=khe(y,v,e.position,f.orientation,m.orientation,e);if(!N)return null;var[{x:b,y:w},{x:C,y:A}]=N,E=l==="hidden"?"url(#".concat(d,")"):void 0,T=gR(gR({clipPath:E},or(e)),{},{x1:b,y1:w,x2:C,y2:A}),k=hhe({x1:b,y1:w,x2:C,y2:A});return p.createElement(gr,{zIndex:e.zIndex},p.createElement(fn,{className:wt("recharts-reference-line",s)},Ahe(a,T),p.createElement(e6,lx({},k,{lowerWidth:k.width,upperWidth:k.width}),p.createElement(n6,{label:e.label}),e.children)))}var Mhe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:vn.line};function O6(e){var t=bn(e,Mhe);return p.createElement(p.Fragment,null,p.createElement(_he,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),p.createElement(Rhe,t))}O6.displayName="ReferenceLine";function T6(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function Dhe(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return ghe(a,r)}function Lhe(e,t,r){var a=r==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:a?s:l,end:a?s+c:l+d}:{start:a?s+c:l+d,end:a?s:l}}function ox(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var l=r();return e*(t-e*l/2-a)>=0&&e*(t+e*l/2-s)<=0}function Ihe(e,t){return T6(e,t+1)}function $he(e,t,r,a,s){for(var l=(a||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,g=function(){var N=a?.[f];if(N===void 0)return{v:T6(a,m)};var b=f,w,C=()=>(w===void 0&&(w=r(N,b)),w),A=N.coordinate,E=f===0||ox(e,A,C,h,d);E||(f=0,h=c,m+=1),E&&(h=A+e*(C()/2+s),f+=m)},v;m<=l.length;)if(v=g(),v)return v.v;return[]}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(a){Fhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Fhe(e,t,r){return(t=zhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zhe(e){var t=Bhe(e,"string");return typeof t=="symbol"?t:t+""}function Bhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uhe(e,t,r,a,s){for(var l=(a||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(v){var y=l[v],N,b=()=>(N===void 0&&(N=r(y,v)),N);if(v===c-1){var w=e*(y.coordinate+e*b()/2-f);l[v]=y=ar(ar({},y),{},{tickCoord:w>0?y.coordinate-w*e:y.coordinate})}else l[v]=y=ar(ar({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var C=ox(e,y.tickCoord,b,d,f);C&&(f=y.tickCoord-e*(b()/2+s),l[v]=ar(ar({},y),{},{isShow:!0}))}},h=c-1;h>=0;h--)m(h);return l}function Hhe(e,t,r,a,s,l){var c=(a||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=a[d-1],g=r(h,d-1),v=e*(h.coordinate+e*g/2-m);if(c[d-1]=h=ar(ar({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var y=ox(e,h.tickCoord,()=>g,f,m);y&&(m=h.tickCoord-e*(g/2+s),c[d-1]=ar(ar({},h),{},{isShow:!0}))}}for(var N=l?d-1:d,b=function(A){var E=c[A],T,k=()=>(T===void 0&&(T=r(E,A)),T);if(A===0){var P=e*(E.coordinate-e*k()/2-f);c[A]=E=ar(ar({},E),{},{tickCoord:P<0?E.coordinate-P*e:E.coordinate})}else c[A]=E=ar(ar({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var M=ox(e,E.tickCoord,k,f,m);M&&(f=E.tickCoord+e*(k()/2+s),c[A]=ar(ar({},E),{},{isShow:!0}))}},w=0;w<N;w++)b(w);return c}function jS(e,t,r){var{tick:a,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:g}=e;if(!s||!s.length||!a)return[];if(Be(f)||ed.isSsr){var v;return(v=Ihe(s,Be(f)?f:0))!==null&&v!==void 0?v:[]}var y=[],N=d==="top"||d==="bottom"?"width":"height",b=h&&N==="width"?Nu(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(E,T)=>{var k=typeof m=="function"?m(E.value,T):E.value;return N==="width"?Dhe(Nu(k,{fontSize:t,letterSpacing:r}),b,g):Nu(k,{fontSize:t,letterSpacing:r})[N]},C=s.length>=2?qn(s[1].coordinate-s[0].coordinate):1,A=Lhe(l,C,N);return f==="equidistantPreserveStart"?$he(C,A,w,s,c):(f==="preserveStart"||f==="preserveStartEnd"?y=Hhe(C,A,w,s,c,f==="preserveStartEnd"):y=Uhe(C,A,w,s,c),y.filter(E=>E.isShow))}var Vhe=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(r?a:0);return Math.round(m)}return 0},qhe=["axisLine","width","height","className","hide","ticks","axisType"];function Khe(e,t){if(e==null)return{};var r,a,s=Whe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Whe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},so.apply(null,arguments)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(a){Ghe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ghe(e,t,r){return(t=Yhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yhe(e){var t=Qhe(e,"string");return typeof t=="symbol"?t:t+""}function Qhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Us={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:vn.axis};function Xhe(e){var{x:t,y:r,width:a,height:s,orientation:l,mirror:c,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var m=En(En(En({},f),_r(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);m=En(En({},m),{},{x1:t,y1:r+h*s,x2:t+a,y2:r+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);m=En(En({},m),{},{x1:t+g*a,y1:r,x2:t+g*a,y2:r+s})}return p.createElement("line",so({},m,{className:wt("recharts-cartesian-axis-line",to(d,"className"))}))}function Zhe(e,t,r,a,s,l,c,d,f){var m,h,g,v,y,N,b=d?-1:1,w=e.tickSize||c,C=Be(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":m=h=e.coordinate,v=r+ +!d*s,g=v-b*w,N=g-b*f,y=C;break;case"left":g=v=e.coordinate,h=t+ +!d*a,m=h-b*w,y=m-b*f,N=C;break;case"right":g=v=e.coordinate,h=t+ +d*a,m=h+b*w,y=m+b*f,N=C;break;default:m=h=e.coordinate,v=r+ +d*s,g=v+b*w,N=g+b*f,y=C;break}return{line:{x1:m,y1:g,x2:h,y2:v},tick:{x:y,y:N}}}function Jhe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function epe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function tpe(e){var{option:t,tickProps:r,value:a}=e,s,l=wt(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,En(En({},r),{},{className:l}));else if(typeof t=="function")s=t(En(En({},r),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=wt(c,t?.className)),s=p.createElement(wg,so({},r,{className:c}),a)}return s}var npe=p.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:l,tickFormatter:c,unit:d,padding:f,tickTextProps:m,orientation:h,mirror:g,x:v,y,width:N,height:b,tickSize:w,tickMargin:C,fontSize:A,letterSpacing:E,getTicksConfig:T,events:k,axisType:P}=e,M=jS(En(En({},T),{},{ticks:r}),A,E),I=Jhe(h,g),Q=epe(h,g),L=_r(T),_=eo(a),q={};typeof s=="object"&&(q=s);var ve=En(En({},L),{},{fill:"none"},q),K=M.map(X=>En({entry:X},Zhe(X,v,y,N,b,h,w,g,C))),ee=K.map(X=>{var{entry:$,line:fe}=X;return p.createElement(fn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},s&&p.createElement("line",so({},ve,fe,{className:wt("recharts-cartesian-axis-tick-line",to(s,"className"))})))}),B=K.map((X,$)=>{var{entry:fe,tick:pe}=X,R=En(En(En(En({textAnchor:I,verticalAnchor:Q},L),{},{stroke:"none",fill:l},_),pe),{},{index:$,payload:fe,visibleTicksCount:M.length,tickFormatter:c,padding:f},m);return p.createElement(fn,so({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},ff(k,fe,$)),a&&p.createElement(tpe,{option:a,tickProps:R,value:"".concat(typeof c=="function"?c(fe.value,$):fe.value).concat(d||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},B.length>0&&p.createElement(gr,{zIndex:vn.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},B)),ee.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},ee))}),rpe=p.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:l,hide:c,ticks:d,axisType:f}=e,m=Khe(e,qhe),[h,g]=p.useState(""),[v,y]=p.useState(""),N=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return Vhe({ticks:N.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=p.useCallback(w=>{if(w){var C=w.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=C;var A=C[0];if(A){var E=window.getComputedStyle(A),T=E.fontSize,k=E.letterSpacing;(T!==h||k!==v)&&(g(T),y(k))}}},[h,v]);return c||a!=null&&a<=0||s!=null&&s<=0?null:p.createElement(gr,{zIndex:e.zIndex},p.createElement(fn,{className:wt("recharts-cartesian-axis",l)},p.createElement(Xhe,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:_r(e)}),p.createElement(npe,{ref:b,axisType:f,events:m,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(e6,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(n6,{label:e.label,labelRef:e.labelRef}),e.children)))}),wS=p.forwardRef((e,t)=>{var r=bn(e,Us);return p.createElement(rpe,so({},r,{ref:t}))});wS.displayName="CartesianAxis";var ape=["x1","y1","x2","y2","key"],spe=["offset"],ipe=["xAxisId","yAxisId"],lpe=["xAxisId","yAxisId"];function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(a){ope(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ope(e,t,r){return(t=cpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cpe(e){var t=dpe(e,"string");return typeof t=="symbol"?t:t+""}function dpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bl.apply(null,arguments)}function cx(e,t){if(e==null)return{};var r,a,s=upe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function upe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var fpe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:l,height:c,ry:d}=e;return p.createElement("rect",{x:a,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k6(e){var{option:t,lineItemProps:r}=e,a;if(p.isValidElement(t))a=p.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s,{x1:l,y1:c,x2:d,y2:f,key:m}=r,h=cx(r,ape),g=(s=_r(h))!==null&&s!==void 0?s:{},{offset:v}=g,y=cx(g,spe);a=p.createElement("line",Bl({},y,{x1:l,y1:c,x2:d,y2:f,fill:"none",key:m}))}return a}function mpe(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=cx(e,ipe),f=s.map((m,h)=>{var g=sr(sr({},d),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(h),index:h});return p.createElement(k6,{key:"line-".concat(h),option:a,lineItemProps:g})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function hpe(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=cx(e,lpe),f=s.map((m,h)=>{var g=sr(sr({},d),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(h),index:h});return p.createElement(k6,{option:a,lineItemProps:g,key:"line-".concat(h)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ppe(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var m=d.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var y=!m[v+1],N=y?s+c-g:m[v+1]-g;if(N<=0)return null;var b=v%t.length;return p.createElement("rect",{key:"react-".concat(v),y:g,x:a,height:N,width:l,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function xpe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var m=f.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var y=!m[v+1],N=y?s+c-g:m[v+1]-g;if(N<=0)return null;var b=v%r.length;return p.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:N,height:d,stroke:"none",fill:r[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var gpe=(e,t)=>{var{xAxis:r,width:a,height:s,offset:l}=e;return dL(jS(sr(sr(sr({},Us),r),{},{ticks:uL(r),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,t)},vpe=(e,t)=>{var{yAxis:r,width:a,height:s,offset:l}=e;return dL(jS(sr(sr(sr({},Us),r),{},{ticks:uL(r),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,t)},ype={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:vn.grid};function _6(e){var t=YN(),r=QN(),a=bL(),s=sr(sr({},bn(e,ype)),{},{x:Be(e.x)?e.x:a.left,y:Be(e.y)?e.y:a.top,width:Be(e.width)?e.width:a.width,height:Be(e.height)?e.height:a.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:y}=s,N=nr(),b=Fe(Q=>l_(Q,"xAxis",l,N)),w=Fe(Q=>l_(Q,"yAxis",c,N));if(!as(m)||!as(h)||!Be(d)||!Be(f))return null;var C=s.verticalCoordinatesGenerator||gpe,A=s.horizontalCoordinatesGenerator||vpe,{horizontalPoints:E,verticalPoints:T}=s;if((!E||!E.length)&&typeof A=="function"){var k=v&&v.length,P=A({yAxis:w?sr(sr({},w),{},{ticks:k?v:w.ticks}):void 0,width:t??m,height:r??h,offset:a},k?!0:g);Rp(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(E=P)}if((!T||!T.length)&&typeof C=="function"){var M=y&&y.length,I=C({xAxis:b?sr(sr({},b),{},{ticks:M?y:b.ticks}):void 0,width:t??m,height:r??h,offset:a},M?!0:g);Rp(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(T=I)}return p.createElement(gr,{zIndex:s.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(fpe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(ppe,Bl({},s,{horizontalPoints:E})),p.createElement(xpe,Bl({},s,{verticalPoints:T})),p.createElement(mpe,Bl({},s,{offset:a,horizontalPoints:E,xAxis:b,yAxis:w})),p.createElement(hpe,Bl({},s,{offset:a,verticalPoints:T,xAxis:b,yAxis:w}))))}_6.displayName="CartesianGrid";function bpe(e){var t=eo(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:l}=t,c=Number(s),d=Number(l);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(d)||d<0)&&(d=a),{r:c,strokeWidth:d}}return{r,strokeWidth:a}}var R6=(e,t,r,a)=>tl(e,"xAxis",t,a),M6=(e,t,r,a)=>el(e,"xAxis",t,a),D6=(e,t,r,a)=>tl(e,"yAxis",r,a),L6=(e,t,r,a)=>el(e,"yAxis",r,a),jpe=ue([Nt,R6,D6,M6,L6],(e,t,r,a,s)=>ii(e,"xAxis")?Ac(t,a,!1):Ac(r,s,!1)),wpe=(e,t,r,a,s)=>s,I6=ue([xg,wpe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Npe=(e,t,r,a,s)=>{var l,c=I6(e,t,r,a,s);if(c!=null){var d=Nt(e),f=ii(d,"xAxis"),m;if(f?m=Gu(e,"yAxis",r,a):m=Gu(e,"xAxis",t,a),m!=null){var{stackId:h}=c,g=fg(c);if(!(h==null||g==null)){var v=(l=m[h])===null||l===void 0?void 0:l.stackedData;return v?.find(y=>y.key===g)}}}},Spe=ue([Nt,R6,D6,M6,L6,Npe,cg,jpe,I6,jie],(e,t,r,a,s,l,c,d,f,m)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||d==null)){var{data:y}=f,N;if(y&&y.length>0?N=y:N=h?.slice(g,v+1),N!=null)return Hpe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:g,areaSettings:f,stackedData:l,displayedData:N,chartBaseValue:m,bandSize:d})}}),Cpe=["id"],Epe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ql.apply(null,arguments)}function $6(e,t){if(e==null)return{};var r,a,s=Ape(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ape(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(a){Ppe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ppe(e,t,r){return(t=Ope(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ope(e){var t=Tpe(e,"string");return typeof t=="symbol"?t:t+""}function Tpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dx(e,t){return e&&e!=="none"?e:t}var kpe=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:dx(a,s),value:Zc(r,t),payload:e}]},_pe=p.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:l,name:c,hide:d,unit:f,tooltipType:m}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:Zc(c,t),hide:d,type:m,color:dx(a,l),unit:f}};return p.createElement(gS,{tooltipEntrySettings:h})});function Rpe(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:l,dataKey:c}=a,d=_r(a);return p.createElement(dfe,{points:r,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function Mpe(e){var{showLabels:t,children:r,points:a}=e,s=a.map(l=>{var c,d,f={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return cc(cc({},f),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return p.createElement(a6,{value:t?s:void 0},r)}function wR(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:l}=e,{layout:c,type:d,stroke:f,connectNulls:m,isRange:h}=l,{id:g}=l,v=$6(l,Cpe),y=_r(v),N=or(v);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(fn,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},p.createElement(pc,ql({},N,{id:g,points:t,connectNulls:m,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&p.createElement(pc,ql({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:t})),f!=="none"&&h&&p.createElement(pc,ql({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r}))),p.createElement(Rpe,{points:t,props:v,clipPathId:s}))}function Dpe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,l=a[0].y,c=a[a.length-1].y;if(!Dt(l)||!Dt(c))return null;var d=t*Math.abs(l-c),f=Math.max(...a.map(m=>m.x||0));return Be(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.x||0),f)),Be(f)?p.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Lpe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,l=a[0].x,c=a[a.length-1].x;if(!Dt(l)||!Dt(c))return null;var d=t*Math.abs(l-c),f=Math.max(...a.map(m=>m.y||0));return Be(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.y||0),f)),Be(f)?p.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function Ipe(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:l}=e;return r==="vertical"?p.createElement(Dpe,{alpha:t,points:a,baseLine:s,strokeWidth:l}):p.createElement(Lpe,{alpha:t,points:a,baseLine:s,strokeWidth:l})}function $pe(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:l}=e,{points:c,baseLine:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=a,N=p.useMemo(()=>({points:c,baseLine:d}),[c,d]),b=jf(N,"recharts-area-"),w=Fte(),[C,A]=p.useState(!1),E=!C,T=p.useCallback(()=>{typeof y=="function"&&y(),A(!1)},[y]),k=p.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]);if(w==null)return null;var P=s.current,M=l.current;return p.createElement(Mpe,{showLabels:E,points:c},a.children,p.createElement(bf,{animationId:b,begin:m,duration:h,isActive:f,easing:g,onAnimationEnd:T,onAnimationStart:k,key:b},I=>{if(P){var Q=P.length/c.length,L=I===1?c:c.map((q,ve)=>{var K=Math.floor(ve*Q);if(P[K]){var ee=P[K];return cc(cc({},q),{},{x:Xt(ee.x,q.x,I),y:Xt(ee.y,q.y,I)})}return q}),_;return Be(d)?_=Xt(M,d,I):rn(d)||Rr(d)?_=Xt(M,0,I):_=d.map((q,ve)=>{var K=Math.floor(ve*Q);if(Array.isArray(M)&&M[K]){var ee=M[K];return cc(cc({},q),{},{x:Xt(ee.x,q.x,I),y:Xt(ee.y,q.y,I)})}return q}),I>0&&(s.current=L,l.current=_),p.createElement(wR,{points:L,baseLine:_,needClip:t,clipPathId:r,props:a})}return I>0&&(s.current=c,l.current=d),p.createElement(fn,null,f&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(Ipe,{alpha:I,points:c,baseLine:d,layout:w,strokeWidth:a.strokeWidth}))),p.createElement(fn,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(wR,{points:c,baseLine:d,needClip:t,clipPathId:r,props:a})))}),p.createElement(dS,{label:a.label}))}function Fpe(e){var{needClip:t,clipPathId:r,props:a}=e,s=p.useRef(null),l=p.useRef();return p.createElement($pe,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:l})}class zpe extends p.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:l,left:c,needClip:d,xAxisId:f,yAxisId:m,width:h,height:g,id:v,baseLine:y,zIndex:N}=this.props;if(t)return null;var b=wt("recharts-area",s),w=v,{r:C,strokeWidth:A}=bpe(r),E=f6(r),T=C*2+A,k=d?"url(#clipPath-".concat(E?"":"dots-").concat(w,")"):void 0;return p.createElement(gr,{zIndex:N},p.createElement(fn,{className:b},d&&p.createElement("defs",null,p.createElement(b6,{clipPathId:w,xAxisId:f,yAxisId:m}),!E&&p.createElement("clipPath",{id:"clipPath-dots-".concat(w)},p.createElement("rect",{x:c-T/2,y:l-T/2,width:h+T,height:g+T}))),p.createElement(Fpe,{needClip:d,clipPathId:w,props:this.props})),p.createElement(sR,{points:a,mainColor:dx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(y)&&p.createElement(sR,{points:y,mainColor:dx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var F6={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:vn.area};function Bpe(e){var t,r=bn(e,F6),{activeDot:a,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,fill:m,fillOpacity:h,hide:g,isAnimationActive:v,legendType:y,stroke:N,xAxisId:b,yAxisId:w}=r,C=$6(r,Epe),A=Jc(),E=I$(),{needClip:T}=bS(b,w),k=nr(),{points:P,isRange:M,baseLine:I}=(t=Fe(K=>Spe(K,b,w,k,e.id)))!==null&&t!==void 0?t:{},Q=yS();if(A!=="horizontal"&&A!=="vertical"||Q==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:L,width:_,x:q,y:ve}=Q;return!P||!P.length?null:p.createElement(zpe,ql({},C,{activeDot:a,animationBegin:s,animationDuration:l,animationEasing:c,baseLine:I,connectNulls:d,dot:f,fill:m,fillOpacity:h,height:L,hide:g,layout:A,isAnimationActive:v==="auto"?!ed.isSsr:v,isRange:M,legendType:y,needClip:T,points:P,stroke:N,width:_,left:q,top:ve,xAxisId:b,yAxisId:w}))}var Upe=(e,t,r,a,s)=>{var l=r??t;if(Be(l))return l;var c=e==="horizontal"?s:a,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]};function Hpe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:l,chartBaseValue:c,xAxis:d,yAxis:f,displayedData:m,dataStartIndex:h,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,N=s&&s.length,b=Upe(l,c,r,d,f),w=l==="horizontal",C=!1,A=m.map((T,k)=>{var P;N?P=s[h+k]:(P=Ht(T,a),Array.isArray(P)?C=!0:P=[b,P]);var M=P[1]==null||N&&!t&&Ht(T,a)==null;return w?{x:ET({axis:d,ticks:g,bandSize:y,entry:T,index:k}),y:M?null:f.scale(P[1]),value:P,payload:T}:{x:M?null:d.scale(P[1]),y:ET({axis:f,ticks:v,bandSize:y,entry:T,index:k}),value:P,payload:T}}),E;return N||C?E=A.map(T=>{var k=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:k!=null&&T.y!=null?f.scale(k):null,payload:T.payload}:{x:k!=null?d.scale(k):null,y:T.y,payload:T.payload}}):E=w?f.scale(b):d.scale(b),{points:A,baseLine:E,isRange:C}}function Vpe(e){var t=bn(e,F6),r=nr();return p.createElement(vS,{id:t.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(h6,{legendPayload:kpe(t)}),p.createElement(_pe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(g6,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:fL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(Bpe,ql({},t,{id:a}))))}var Qh=p.memo(Vpe,Eg);Qh.displayName="Area";var qpe=["domain","range"],Kpe=["domain","range"];function NR(e,t){if(e==null)return{};var r,a,s=Wpe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Wpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function SR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function z6(e,t){if(e===t)return!0;var{domain:r,range:a}=e,s=NR(e,qpe),{domain:l,range:c}=t,d=NR(t,Kpe);return!SR(r,l)||!SR(a,c)?!1:Eg(s,d)}var Gpe=["dangerouslySetInnerHTML","ticks"],Ype=["id"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pw.apply(null,arguments)}function CR(e,t){if(e==null)return{};var r,a,s=Qpe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Qpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Xpe(e){var t=qt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(pfe(e)):r.current!==e&&t(xfe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(gfe(r.current)),r.current=null)},[t]),null}var Zpe=e=>{var{xAxisId:t,className:r}=e,a=Fe(WN),s=nr(),l="xAxis",c=Fe(w=>Ji(w,l,t,s)),d=Fe(w=>p$(w,l,t,s)),f=Fe(w=>u$(w,t)),m=Fe(w=>vle(w,t)),h=Fe(w=>KI(w,t));if(f==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=CR(e,Gpe),{id:N}=h,b=CR(h,Ype);return p.createElement(wS,Pw({},y,b,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:wt("recharts-".concat(l," ").concat(l),r),viewBox:a,ticks:d,axisType:l}))},Jpe={allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,angle:Un.angle,axisLine:Us.axisLine,height:Un.height,hide:!1,includeHidden:Un.includeHidden,interval:Un.interval,minTickGap:Un.minTickGap,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tick:Un.tick,tickCount:Un.tickCount,tickLine:Us.tickLine,tickSize:Us.tickSize,type:Un.type,xAxisId:0},exe=e=>{var t=bn(e,Jpe);return p.createElement(p.Fragment,null,p.createElement(Xpe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(Zpe,t))},NS=p.memo(exe,z6);NS.displayName="XAxis";var txe=["dangerouslySetInnerHTML","ticks"],nxe=["id"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ow.apply(null,arguments)}function ER(e,t){if(e==null)return{};var r,a,s=rxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function axe(e){var t=qt(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(vfe(e)):r.current!==e&&t(yfe({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(bfe(r.current)),r.current=null)},[t]),null}var sxe=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,l=p.useRef(null),c=p.useRef(null),d=Fe(WN),f=nr(),m=qt(),h="yAxis",g=Fe(k=>Ji(k,h,t,f)),v=Fe(k=>f$(k,t)),y=Fe(k=>ble(k,t)),N=Fe(k=>p$(k,h,t,f)),b=Fe(k=>WI(k,t));if(p.useLayoutEffect(()=>{if(!(a!=="auto"||!v||cS(s)||p.isValidElement(s)||b==null)){var k=l.current;if(k){var P=k.getCalculatedWidth();Math.round(v.width)!==Math.round(P)&&m(jfe({id:t,width:P}))}}},[N,v,m,s,t,a,b]),v==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:w,ticks:C}=e,A=ER(e,txe),{id:E}=b,T=ER(b,nxe);return p.createElement(wS,Ow({},A,T,{ref:l,labelRef:c,scale:g,x:y.x,y:y.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:v.width,height:v.height,className:wt("recharts-".concat(h," ").concat(h),r),viewBox:d,ticks:N,axisType:h}))},ixe={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:Us.axisLine,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:Us.tickLine,tickSize:Us.tickSize,type:Hn.type,width:Hn.width,yAxisId:0},lxe=e=>{var t=bn(e,ixe);return p.createElement(p.Fragment,null,p.createElement(axe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(sxe,t))},SS=p.memo(lxe,z6);SS.displayName="YAxis";var oxe=(e,t)=>t,CS=ue([oxe,Nt,VI,$n,k$,di,Doe,Ln],Uoe),ES=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},B6=Ea("mouseClick"),U6=pf();U6.startListening({actionCreator:B6,effect:(e,t)=>{var r=e.payload,a=CS(t.getState(),ES(r));a?.activeIndex!=null&&t.dispatch(Mle({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Tw=Ea("mouseMove"),H6=pf(),kh=null;H6.startListening({actionCreator:Tw,effect:(e,t)=>{var r=e.payload;kh!==null&&cancelAnimationFrame(kh);var a=ES(r);kh=requestAnimationFrame(()=>{var s=t.getState(),l=X1(s,s.tooltip.settings.shared);if(l==="axis"){var c=CS(s,a);c?.activeIndex!=null?t.dispatch(N$({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(w$())}kh=null})}});var AR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},V6=Dr({name:"rootProps",initialState:AR,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:AR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cxe=V6.reducer,{updateOptions:dxe}=V6.actions,q6=Dr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:uxe}=q6.actions,fxe=q6.reducer,K6=Ea("keyDown"),W6=Ea("focus"),AS=pf();AS.startListening({actionCreator:K6,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Z1(s,od(r),Tf(r),Mf(r)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=di(r);if(l==="Enter"){var m=ex(r,"axis","hover",String(s.index));t.dispatch(jw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var h=Sle(r),g=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,y=d+v*g;if(!(f==null||y>=f.length||y<0)){var N=ex(r,"axis","hover",String(y));t.dispatch(jw({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:N}))}}}}}});AS.startListening({actionCreator:W6,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var l="0",c=ex(r,"axis","hover",String(l));t.dispatch(jw({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var ya=Ea("externalEvent"),G6=pf(),Zb=new Map;G6.startListening({actionCreator:ya,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(r!=null){a.persist();var s=a.type,l=Zb.get(s);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:boe(d),activeDataKey:rS(d),activeIndex:nl(d),activeLabel:M$(d),activeTooltipIndex:nl(d),isTooltipActive:joe(d)};r(f,a)}finally{Zb.delete(s)}});Zb.set(s,c)}}});var mxe=ue([ld],e=>e.tooltipItemPayloads),hxe=ue([mxe,_f,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,r);return c}}}),Y6=Ea("touchMove"),Q6=pf();Q6.startListening({actionCreator:Y6,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),s=X1(a,a.tooltip.settings.shared);if(s==="axis"){var l=CS(a,ES({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(N$({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(hL),h=(c=f.getAttribute(pL))!==null&&c!==void 0?c:void 0,g=hxe(t.getState(),m,h);t.dispatch(j$({activeDataKey:h,activeIndex:m,activeCoordinate:g}))}}}});var pxe=D3({brush:dhe,cartesianAxis:wfe,chartData:yce,errorBars:Bfe,graphicalItems:Pue,layout:Kee,legend:ene,options:hce,polarAxis:Hde,polarOptions:fxe,referenceElements:jhe,rootProps:cxe,tooltip:Dle,zIndex:nce}),xxe=function(t){return gee({reducer:pxe,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([U6.middleware,H6.middleware,AS.middleware,G6.middleware,Q6.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(Q3({type:"raf"}))},devTools:ed.devToolsEnabled})};function X6(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=nr(),l=p.useRef(null);if(s)return r;l.current==null&&(l.current=xxe(t));var c=$N;return p.createElement(fme,{context:c,store:l.current},r)}function gxe(e){var{layout:t,margin:r}=e,a=qt(),s=nr();return p.useEffect(()=>{s||(a(Hee(t)),a(Uee(r)))},[a,s,t,r]),null}var Z6=p.memo(gxe,Eg);function J6(e){var t=qt();return p.useEffect(()=>{t(dxe(e))},[t,e]),null}function PR(e){var{zIndex:t,isPanorama:r}=e,a=r?"recharts-zindex-panorama-":"recharts-zindex-",s=p6("".concat(a).concat(t)),l=qt();return p.useLayoutEffect(()=>(l(ece({zIndex:t,elementId:s,isPanorama:r})),()=>{l(tce({zIndex:t,isPanorama:r}))}),[l,t,s,r]),p.createElement("g",{tabIndex:-1,id:s})}function OR(e){var{children:t,isPanorama:r}=e,a=Fe(Voe);if(!a||a.length===0)return t;var s=a.filter(c=>c<0),l=a.filter(c=>c>0);return p.createElement(p.Fragment,null,s.map(c=>p.createElement(PR,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>p.createElement(PR,{key:c,zIndex:c,isPanorama:r})))}var vxe=["children"];function yxe(e,t){if(e==null)return{};var r,a,s=bxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ux.apply(null,arguments)}var jxe={width:"100%",height:"100%",display:"block"},wxe=p.forwardRef((e,t)=>{var r=YN(),a=QN(),s=kL();if(!as(r)||!as(a))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0),p.createElement(PN,ux({},c,{title:d,desc:f,role:h,tabIndex:m,width:r,height:a,style:jxe,ref:t}),l)}),Nxe=e=>{var{children:t}=e,r=Fe(Zx);if(!r)return null;var{width:a,height:s,y:l,x:c}=r;return p.createElement(PN,{width:a,height:s,x:c,y:l},t)},TR=p.forwardRef((e,t)=>{var{children:r}=e,a=yxe(e,vxe),s=nr();return s?p.createElement(Nxe,null,p.createElement(OR,{isPanorama:!0},r)):p.createElement(wxe,ux({ref:t},a),p.createElement(OR,{isPanorama:!1},r))});function Sxe(){var e=qt(),[t,r]=p.useState(null),a=Fe(cte);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Dt(l)&&l!==a&&e(qee(l))}},[t,e,a]),r}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Cxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(a){Exe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Exe(e,t,r){return(t=Axe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Axe(e){var t=Pxe(e,"string");return typeof t=="symbol"?t:t+""}function Pxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},io.apply(null,arguments)}var Oxe=()=>(Pce(),null);function fx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Txe=p.forwardRef((e,t)=>{var r,a,s=p.useRef(null),[l,c]=p.useState({containerWidth:fx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:fx((a=e.style)===null||a===void 0?void 0:a.height)}),d=p.useCallback((m,h)=>{c(g=>{var v=Math.round(m),y=Math.round(h);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),f=p.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=m.getBoundingClientRect();d(h,g);var v=N=>{var{width:b,height:w}=N[0].contentRect;d(b,w)},y=new ResizeObserver(v);y.observe(m),s.current=y}},[t,d]);return p.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[d]),p.createElement(p.Fragment,null,p.createElement(Jx,{width:l.containerWidth,height:l.containerHeight}),p.createElement("div",io({ref:f},e)))}),kxe=p.forwardRef((e,t)=>{var{width:r,height:a}=e,[s,l]=p.useState({containerWidth:fx(r),containerHeight:fx(a)}),c=p.useCallback((f,m)=>{l(h=>{var g=Math.round(f),v=Math.round(m);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),d=p.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return p.createElement(p.Fragment,null,p.createElement(Jx,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",io({ref:d},e)))}),_xe=p.forwardRef((e,t)=>{var{width:r,height:a}=e;return p.createElement(p.Fragment,null,p.createElement(Jx,{width:r,height:a}),p.createElement("div",io({ref:t},e)))}),Rxe=p.forwardRef((e,t)=>{var{width:r,height:a}=e;return Xs(r)||Xs(a)?p.createElement(kxe,io({},e,{ref:t})):p.createElement(_xe,io({},e,{ref:t}))});function Mxe(e){return e===!0?Txe:Rxe}var Dxe=p.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:N,onTouchStart:b,style:w,width:C,responsive:A,dispatchTouchEvents:E=!0}=e,T=p.useRef(null),k=qt(),[P,M]=p.useState(null),[I,Q]=p.useState(null),L=Sxe(),_=GN(),q=_?.width>0?_.width:C,ve=_?.height>0?_.height:s,K=p.useCallback(ne=>{L(ne),typeof t=="function"&&t(ne),M(ne),Q(ne),ne!=null&&(T.current=ne)},[L,t,M,Q]),ee=p.useCallback(ne=>{k(B6(ne)),k(ya({handler:l,reactEvent:ne}))},[k,l]),B=p.useCallback(ne=>{k(Tw(ne)),k(ya({handler:m,reactEvent:ne}))},[k,m]),X=p.useCallback(ne=>{k(w$()),k(ya({handler:h,reactEvent:ne}))},[k,h]),$=p.useCallback(ne=>{k(Tw(ne)),k(ya({handler:g,reactEvent:ne}))},[k,g]),fe=p.useCallback(()=>{k(W6())},[k]),pe=p.useCallback(ne=>{k(K6(ne.key))},[k]),R=p.useCallback(ne=>{k(ya({handler:c,reactEvent:ne}))},[k,c]),te=p.useCallback(ne=>{k(ya({handler:d,reactEvent:ne}))},[k,d]),me=p.useCallback(ne=>{k(ya({handler:f,reactEvent:ne}))},[k,f]),we=p.useCallback(ne=>{k(ya({handler:v,reactEvent:ne}))},[k,v]),ae=p.useCallback(ne=>{k(ya({handler:b,reactEvent:ne}))},[k,b]),Le=p.useCallback(ne=>{E&&k(Y6(ne)),k(ya({handler:N,reactEvent:ne}))},[k,E,N]),F=p.useCallback(ne=>{k(ya({handler:y,reactEvent:ne}))},[k,y]),Ee=Mxe(A);return p.createElement(U$.Provider,{value:P},p.createElement(X5.Provider,{value:I},p.createElement(Ee,{width:q??w?.width,height:ve??w?.height,className:wt("recharts-wrapper",a),style:Cxe({position:"relative",cursor:"default",width:q,height:ve},w),onClick:ee,onContextMenu:R,onDoubleClick:te,onFocus:fe,onKeyDown:pe,onMouseDown:me,onMouseEnter:B,onMouseLeave:X,onMouseMove:$,onMouseUp:we,onTouchEnd:F,onTouchMove:Le,onTouchStart:ae,ref:K},p.createElement(Oxe,null),r)))}),Lxe=["width","height","responsive","children","className","style","compact","title","desc"];function Ixe(e,t){if(e==null)return{};var r,a,s=$xe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $xe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var eF=p.forwardRef((e,t)=>{var{width:r,height:a,responsive:s,children:l,className:c,style:d,compact:f,title:m,desc:h}=e,g=Ixe(e,Lxe),v=_r(g);return f?p.createElement(p.Fragment,null,p.createElement(Jx,{width:r,height:a}),p.createElement(TR,{otherAttributes:v,title:m,desc:h},l)):p.createElement(Dxe,{className:c,style:d,width:r,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(TR,{otherAttributes:v,title:m,desc:h,ref:t},p.createElement(whe,null,l)))});function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kw.apply(null,arguments)}var Fxe={top:5,right:5,bottom:5,left:5},zxe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Fxe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tF=p.forwardRef(function(t,r){var a,s=bn(t.categoricalChartProps,zxe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(X6,{preloadedState:{options:h},reduxStoreName:(a=m.id)!==null&&a!==void 0?a:l},p.createElement(S6,{chartData:m.data}),p.createElement(Z6,{layout:s.layout,margin:s.margin}),p.createElement(J6,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(eF,kw({},s,{ref:r})))}),Bxe=["axis","item"],Uxe=p.forwardRef((e,t)=>p.createElement(tF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bxe,tooltipPayloadSearcher:oS,categoricalChartProps:e,ref:t}));function Hxe(e){var t=qt();return p.useEffect(()=>{t(uxe(e))},[t,e]),null}var Vxe=["layout"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_w.apply(null,arguments)}function qxe(e,t){if(e==null)return{};var r,a,s=Kxe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Wxe={top:5,right:5,bottom:5,left:5},nF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Wxe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Gxe=p.forwardRef(function(t,r){var a,s=bn(t.categoricalChartProps,nF),{layout:l}=s,c=qxe(s,Vxe),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(X6,{preloadedState:{options:g},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:d},p.createElement(S6,{chartData:s.data}),p.createElement(Z6,{layout:l,margin:s.margin}),p.createElement(J6,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(Hxe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(eF,_w({},c,{ref:r})))});function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function RR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(a){Yxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yxe(e,t,r){return(t=Qxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qxe(e){var t=Xxe(e,"string");return typeof t=="symbol"?t:t+""}function Xxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zxe=["item"],Jxe=RR(RR({},nF),{},{layout:"centric",startAngle:0,endAngle:360}),Pg=p.forwardRef((e,t)=>{var r=bn(e,Jxe);return p.createElement(Gxe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Zxe,tooltipPayloadSearcher:oS,categoricalChartProps:r,ref:t})}),ege=["axis"],tge=p.forwardRef((e,t)=>p.createElement(tF,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ege,tooltipPayloadSearcher:oS,categoricalChartProps:e,ref:t}));const nge=[{value:"1w",label:"1W"},{value:"1m",label:"1M"},{value:"3m",label:"3M"},{value:"1y",label:"1Y"},{value:"2y",label:"2Y"},{value:"all",label:"All"}],rge=[{value:"7d",label:"7D"},{value:"30d",label:"30D"},{value:"6m",label:"6M"},{value:"1y",label:"1Y"}];function age(){const{toast:e}=an(),[t,r]=p.useState(""),[a,s]=p.useState(null),[l,c]=p.useState("all"),[d,f]=p.useState("30d"),{data:m,isLoading:h,isError:g,refetch:v}=Re({queryKey:["/api/admin/bridge/overview"]}),{data:y,isLoading:N,isError:b}=Re({queryKey:["/api/admin/bridge/extractors",l],queryFn:async()=>{const Z=await fetch(`/api/admin/bridge/extractors?timeRange=${l}&limit=1000`);if(!Z.ok)throw new Error("Failed to fetch extractors");return Z.json()}}),w=m&&!("error"in m)?m:null,C=Array.isArray(y)?y:[],{data:A,isLoading:E,isError:T,refetch:k}=Re({queryKey:["/api/admin/bridge/value-breakdown"]}),{data:P,isLoading:M}=Re({queryKey:["/api/admin/bridge/tvl-reconciliation"]}),{data:I,isLoading:Q}=Re({queryKey:["/api/admin/bridge/daily-averages"]}),{data:L,isLoading:_}=Re({queryKey:["/api/admin/bridge/daily-timeseries",d],queryFn:async()=>{const Z=await fetch(`/api/admin/bridge/daily-timeseries?range=${d}`);if(!Z.ok)throw new Error("Failed to fetch time series");return Z.json()}}),{data:q,isLoading:ve}=Re({queryKey:["/api/admin/bridge/wallet",a],enabled:!!a}),K=Oe({mutationFn:async Z=>Ie("POST","/api/admin/bridge/index-wallet",{wallet:Z}),onSuccess:()=>{e({title:"Wallet indexed successfully"}),Me.invalidateQueries({queryKey:["/api/admin/bridge"]})},onError:()=>{e({title:"Failed to index wallet",variant:"destructive"})}}),ee=Oe({mutationFn:async()=>Ie("POST","/api/admin/bridge/refresh-metrics"),onSuccess:()=>{e({title:"Metrics refreshed"}),Me.invalidateQueries({queryKey:["/api/admin/bridge"]})}}),{data:B}=Re({queryKey:["/api/admin/bridge/indexer-status"],refetchInterval:5e3}),X=Oe({mutationFn:async()=>Ie("POST","/api/admin/bridge/run-indexer"),onSuccess:()=>{e({title:"Bridge indexer started",description:"Scanning last 100k blocks (~2-3 days). This may take several minutes."}),Me.invalidateQueries({queryKey:["/api/admin/bridge/indexer-status"]})},onError:Z=>{Z?.message?.includes("409")?e({title:"Indexer already running",variant:"destructive"}):e({title:"Failed to start indexer",variant:"destructive"})}}),{data:$}=Re({queryKey:["/api/admin/bridge/sync-progress"],refetchInterval:5e3});Oe({mutationFn:async()=>Ie("POST","/api/admin/bridge/start-historical-sync"),onSuccess:()=>{e({title:"Historical sync started",description:"Indexing from genesis block. This may take hours."}),Me.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})},onError:()=>{e({title:"Failed to start historical sync",variant:"destructive"})}}),Oe({mutationFn:async()=>Ie("POST","/api/admin/bridge/stop-historical-sync"),onSuccess:()=>{e({title:"Historical sync stopped"}),Me.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})}});const{data:fe,refetch:pe}=Re({queryKey:["/api/admin/bridge/batch-progress"],refetchInterval:1e3});Oe({mutationFn:async()=>(await Ie("POST","/api/admin/bridge/run-incremental-batch")).json(),onSuccess:Z=>{pe(),Z.status==="complete"?e({title:"Already at latest block",description:Z.message}):Z.status==="success"?e({title:"Indexed 10K blocks",description:`Blocks ${Z.startBlock?.toLocaleString()}-${Z.endBlock?.toLocaleString()}: ${Z.eventsInserted} events in ${((Z.runtimeMs||0)/1e3).toFixed(1)}s`}):Z.status==="error"&&e({title:"Batch failed",description:Z.error,variant:"destructive"}),Me.invalidateQueries({queryKey:["/api/admin/bridge/sync-progress"]})},onError:Z=>{Z?.message?.includes("409")?e({title:"Batch already running",variant:"destructive"}):e({title:"Failed to run batch",variant:"destructive"})}});const{data:R,refetch:te}=Re({queryKey:["/api/admin/bridge/parallel-sync/status"],refetchInterval:3e3}),[me,we]=p.useState(8),ae=Oe({mutationFn:async()=>Ie("POST","/api/admin/bridge/parallel-sync/start",{workers:me,batchSize:1e4,maxBatches:100}),onSuccess:()=>{e({title:"Parallel sync started",description:`${me} workers indexing in parallel`}),te()},onError:Z=>{Z?.message?.includes("409")?e({title:"Parallel sync already running",variant:"destructive"}):e({title:"Failed to start parallel sync",variant:"destructive"})}}),Le=Oe({mutationFn:async()=>Ie("POST","/api/admin/bridge/parallel-sync/stop"),onSuccess:()=>{e({title:"Parallel sync stopping",description:"Workers will complete current batches"}),te()},onError:()=>{e({title:"Failed to stop parallel sync",variant:"destructive"})}}),{data:F,refetch:Ee}=Re({queryKey:["/api/admin/bridge/price-enrichment/status"],refetchInterval:3e3}),ne=Oe({mutationFn:async()=>Ie("POST","/api/admin/bridge/price-enrichment/start",{workers:8}),onSuccess:()=>{e({title:"Price enrichment started",description:"8 workers adding USD values in parallel"}),Ee()},onError:Z=>{Z?.message?.includes("409")?e({title:"Enrichment already running",variant:"destructive"}):e({title:"Failed to start enrichment",variant:"destructive"})}}),Ae=Oe({mutationFn:async()=>Ie("POST","/api/admin/bridge/price-enrichment/stop"),onSuccess:()=>{e({title:"Enrichment stopping",description:"Workers will complete current batches"}),Ee()},onError:()=>{e({title:"Failed to stop enrichment",variant:"destructive"})}}),$e=async()=>{if(t.trim()){const Z=t.trim().toLowerCase();try{await K.mutateAsync(Z),s(Z)}catch{}}},xe=Z=>{const le=typeof Z=="string"?parseFloat(Z):Z;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(le)},nt=Z=>{const le=typeof Z=="string"?parseFloat(Z):Z;return le>=1e9?`$${(le/1e9).toFixed(2)}B`:le>=1e6?`$${(le/1e6).toFixed(2)}M`:le>=1e3?`$${(le/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(le)},Ge=Z=>{const le=typeof Z=="string"?parseFloat(Z):Z,Ze=Math.abs(le);let lt;return Ze>=1e9?lt=`$${(Ze/1e9).toFixed(2)}B`:Ze>=1e6?lt=`$${(Ze/1e6).toFixed(2)}M`:Ze>=1e3?lt=`$${(Ze/1e3).toFixed(2)}K`:lt=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Ze),le<0?`(${lt})`:lt},Lt=Z=>new Date(Z).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),kt=Z=>`${Z.slice(0,6)}...${Z.slice(-4)}`;return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"bridge-analytics",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Bridge Analytics"}),n.jsx("p",{className:"text-muted-foreground",children:"Track cross-chain bridge flows and identify extractors"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>X.mutate(),disabled:X.isPending||B?.running,"data-testid":"button-run-indexer",children:[B?.running?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Pn,{className:"h-4 w-4 mr-2"}),B?.running?"Indexer Running...":"Run Indexer"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>ee.mutate(),disabled:ee.isPending,"data-testid":"button-refresh-metrics",children:[n.jsx(et,{className:`h-4 w-4 mr-2 ${ee.isPending?"animate-spin":""}`}),"Refresh Metrics"]})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Na,{className:"h-5 w-5"}),"Historical Sync Progress"]}),n.jsx(Se,{children:"Index all bridge events from genesis for complete extraction analysis"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[R?.running?n.jsxs(se,{variant:"destructive",size:"sm",onClick:()=>Le.mutate(),disabled:Le.isPending,"data-testid":"button-stop-parallel-sync",children:[n.jsx(kr,{className:"h-4 w-4 mr-2"}),"Stop Sync (",R.combinedProgress,"%)"]}):n.jsxs(se,{variant:"default",size:"sm",onClick:()=>ae.mutate(),disabled:ae.isPending||R?.allComplete,"data-testid":"button-start-parallel-sync",children:[ae.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(lr,{className:"h-4 w-4 mr-2"}),R?.allComplete?"Sync Complete":"Start Block Sync"]}),F?.running?n.jsxs(se,{variant:"destructive",size:"sm",onClick:()=>Ae.mutate(),disabled:Ae.isPending,"data-testid":"button-stop-enrichment",children:[n.jsx(kr,{className:"h-4 w-4 mr-2"}),"Stop Prices (",F.workers.filter(Z=>Z.running).length," active)"]}):n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>ne.mutate(),disabled:ne.isPending||F?.unpricedCount===0,"data-testid":"button-start-enrichment",children:[ne.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Gi,{className:"h-4 w-4 mr-2"}),F?.unpricedCount===0?"All Priced":"Add USD Prices"]})]})]})}),n.jsxs(J,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:R?.running?"default":R?.allComplete?"outline":$?.progress?.status==="error"?"destructive":"secondary",children:R?.running?`Syncing (${R.combinedProgress}%)`:R?.allComplete?"Complete":`${(R?.combinedProgress||0).toFixed(0)}% synced`}),F?.running&&n.jsx(W,{variant:"default",children:"Pricing"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Progress"}),n.jsxs("p",{className:"text-lg font-semibold",children:[(R?.combinedProgress||0).toFixed(0),"% / ",(R?.latestBlock||0).toLocaleString()," blocks"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"text-lg font-semibold",children:(R?.workers?.reduce((Z,le)=>Z+(le.totalEventsIndexed||0),0)||0).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Needing USD Prices"}),n.jsx("p",{className:"text-lg font-semibold",children:(F?.unpricedCount||0).toLocaleString()})]})]}),R?.latestBlock&&R.latestBlock>0&&(()=>{const Z=R?.combinedProgress||0,le=R.latestBlock,Ze=R?.allComplete||!1,lt=R?.workers?.filter(ln=>ln.status==="running"||ln.progress<100&&ln.status!=="complete").length||0;return n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg","data-testid":"block-sync-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Block Sync Progress"}),n.jsxs("span",{className:"text-sm font-mono",children:[Z.toFixed(2),"%"]})]}),n.jsx(Ut,{value:Z,className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Workers:"}),n.jsxs("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-workers",children:[lt," of ",R?.workersTotal||8," active"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Latest block:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-latest-block",children:le.toLocaleString()})]})]}),n.jsx("div",{className:"text-xs mt-1 text-center",children:Ze?n.jsx("span",{className:"text-green-600 font-medium",children:"Sync complete"}):R?.running?n.jsxs("span",{className:"text-primary font-medium",children:["Syncing with ",R.workersTotal," parallel workers"]}):n.jsxs("span",{className:"text-muted-foreground",children:[(100-Z).toFixed(0),"% remaining"]})}),(R?.workers?.reduce((ln,vr)=>ln+(vr.totalBatchCount||0),0)??0)>0&&n.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-muted text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total batches:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-batch-count",children:(R?.workers?.reduce((ln,vr)=>ln+(vr.totalBatchCount||0),0)||0).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Completed workers:"}),n.jsxs("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-completed-workers",children:[R?.workers?.filter(ln=>ln.status==="complete").length||0," / ",R?.workersTotal||8]})]})]})]})})(),$?.progress?.lastError&&n.jsxs("div",{className:"mt-3 p-2 bg-destructive/10 rounded text-sm text-destructive",children:["Last error: ",$.progress.lastError]}),R?.running&&R.workers&&R.workers.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg","data-testid":"parallel-sync-workers",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(lr,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Block Sync Workers"}),n.jsxs(W,{variant:"outline",className:"ml-auto",children:[R.workers.filter(Z=>Z.status==="running"||Z.progress<100).length," active"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:R.workers.map(Z=>n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["W",Z.workerId]}),n.jsx(Ut,{value:Z.progress,className:"h-1.5"}),n.jsxs("div",{className:"text-xs font-mono",children:[Z.progress.toFixed(0),"%"]})]},Z.workerId))})]}),(F?.unpricedCount>0||F?.running)&&(()=>{const Z=F?.unpricedCount||0,le=F?.workers?.reduce((jn,Je)=>jn+(Je.eventsUpdated||0),0)||0,Ze=Z+le,lt=Ze>0?le/Ze*100:0,ln=F?.workers?.filter(jn=>jn.running).length||0,vr=F?.running;return n.jsxs("div",{className:"mt-4 p-4 bg-green-500/5 border border-green-500/20 rounded-lg","data-testid":"pricing-sync-tracker",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gi,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Pricing Sync Progress"})]}),n.jsxs("span",{className:"text-sm font-mono",children:[lt.toFixed(1),"%"]})]}),n.jsx(Ut,{value:lt,className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Events priced:"}),n.jsx("span",{className:"font-mono font-semibold text-green-600","data-testid":"text-events-priced",children:le.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Remaining:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground","data-testid":"text-events-remaining",children:Z.toLocaleString()})]})]}),n.jsx("div",{className:"text-xs mt-1 text-center",children:Z===0?n.jsx("span",{className:"text-green-600 font-medium",children:"All events priced!"}):vr?n.jsxs("span",{className:"text-green-500 font-medium",children:["Pricing with ",ln," parallel workers"]}):n.jsxs("span",{className:"text-muted-foreground",children:[Z.toLocaleString()," events need USD prices"]})}),vr&&F.workers&&F.workers.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Price Enrichment Workers"}),n.jsxs(W,{variant:"outline",className:"ml-auto text-xs",children:[ln," active"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:F.workers.map(jn=>{const Je=jn.groupsTotal>0?jn.groupsProcessed/jn.groupsTotal*100:0;return n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["W",jn.workerId]}),n.jsx(Ut,{value:Je,className:"h-1.5"}),n.jsx("div",{className:"text-xs font-mono text-green-600",children:jn.eventsUpdated})]},jn.workerId)})}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Groups: ",F.workers.reduce((jn,Je)=>jn+(Je.groupsProcessed||0),0).toLocaleString()," / ",F.workers.reduce((jn,Je)=>jn+(Je.groupsTotal||0),0).toLocaleString()]}),n.jsxs("span",{children:["Total updated: ",le.toLocaleString()]})]})]})]})})()]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Bridge Events"}),n.jsx(ap,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:h?n.jsx(Te,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-events",children:w?.events?.total??0}),n.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(sp,{className:"h-3 w-3 text-green-500"}),w?.events?.in??0," in"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ip,{className:"h-3 w-3 text-red-500"}),w?.events?.out??0," out"]})]})]})})]}),n.jsxs(Y,{className:"md:col-span-2",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Net Bridge Flow"}),n.jsx(QV,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:h?n.jsx(Te,{className:"h-8 w-32"}):(()=>{const Z=w?.events?.totalUsdIn??0,le=w?.events?.totalUsdOut??0,Ze=Z-le,lt=Ze>=0;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"sr-only","data-testid":"stat-bridged-in",children:["Total bridged in: ",xe(Z)]}),n.jsxs("span",{className:"sr-only","data-testid":"stat-bridged-out",children:["Total bridged out: ",xe(le)]}),n.jsxs(ju,{children:[n.jsx(wu,{asChild:!0,children:n.jsx("button",{type:"button",className:`text-2xl font-bold cursor-help bg-transparent border-0 p-0 text-left ${lt?"text-green-600":"text-red-600"}`,"data-testid":"stat-net-bridge-flow",children:Ge(Ze)})}),n.jsx(fc,{side:"bottom",className:"text-xs",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("span",{className:"text-green-500",children:["In: ",xe(Z)]}),n.jsxs("span",{className:"text-red-500",children:["Out: ",xe(le)]})]})})]})]})})()})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Extractors Identified"}),n.jsx($l,{className:"h-4 w-4 text-orange-500"})]}),n.jsx(J,{children:h?n.jsx(Te,{className:"h-8 w-20"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"stat-extractors",children:w?.metrics?.extractorCount??0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[xe(w?.metrics?.totalExtracted??0)," extracted"]})]})})]})]}),n.jsxs(Y,{"data-testid":"card-daily-averages",children:[n.jsx(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:n.jsxs("div",{children:[n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Ou,{className:"h-5 w-5"}),"Bridge Flow Daily Averages"]}),n.jsx(Se,{children:"Net daily average bridged in vs out by time period. Negative values (more out than in) shown in parentheses."})]})}),n.jsx(J,{children:Q?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(Z=>n.jsx(Te,{className:"h-24"},Z))}):I&&I.length>0?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:I.map(Z=>n.jsxs("div",{className:"border rounded-lg p-4","data-testid":`daily-avg-${Z.period}`,children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:Z.label}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"In/day:"}),n.jsx("span",{className:"text-green-600 font-medium",children:nt(Z.dailyAvgIn)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Out/day:"}),n.jsx("span",{className:"text-red-600 font-medium",children:nt(Z.dailyAvgOut)})]}),n.jsx(Dn,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Net/day:"}),n.jsx("span",{className:`font-bold ${Z.netDailyAvg>=0?"text-green-600":"text-red-600"}`,children:Ge(Z.netDailyAvg)})]})]})]},Z.period))}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bridge data available"})})]}),n.jsxs(Y,{"data-testid":"card-daily-chart",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(ap,{className:"h-5 w-5"}),"Daily Bridge Flow"]}),n.jsx(Se,{children:"Daily in/out/net bridged amounts over time"})]}),n.jsx("div",{className:"flex gap-1",children:rge.map(Z=>n.jsx(se,{variant:d===Z.value?"default":"outline",size:"sm",onClick:()=>f(Z.value),"data-testid":`button-chart-range-${Z.value}`,children:Z.label},Z.value))})]}),n.jsxs(J,{children:[_?n.jsx("div",{className:"flex items-center justify-center h-64","data-testid":"loading-chart",children:n.jsx(ke,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):L&&L.length>0?n.jsx("div",{className:"h-[350px]","data-testid":"chart-area-container",children:n.jsx($u,{width:"100%",height:"100%",children:n.jsxs(tge,{data:L,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorIn",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorOut",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(0, 84%, 60%)",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(0, 84%, 60%)",stopOpacity:0})]})]}),n.jsx(_6,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(NS,{dataKey:"date",tickFormatter:Z=>new Date(Z).toLocaleDateString("en-US",{month:"short",day:"numeric"}),className:"text-xs fill-muted-foreground"}),n.jsx(SS,{tickFormatter:Z=>Z>=1e6?`$${(Z/1e6).toFixed(1)}M`:Z>=1e3?`$${(Z/1e3).toFixed(0)}K`:`$${Z}`,className:"text-xs fill-muted-foreground"}),n.jsx(jg,{content:({active:Z,payload:le,label:Ze})=>{if(Z&&le&&le.length&&Ze){const lt=new Date(String(Ze));return n.jsxs("div",{className:"bg-popover border rounded-lg shadow-lg p-3 text-sm",children:[n.jsx("p",{className:"font-medium mb-2",children:lt.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-green-600",children:["In: ",nt(le[0]?.value||0)]}),n.jsxs("p",{className:"text-red-600",children:["Out: ",nt(le[1]?.value||0)]}),n.jsxs("p",{className:`font-medium ${(le[2]?.value||0)>=0?"text-blue-600":"text-orange-600"}`,children:["Net: ",Ge(le[2]?.value||0)]})]})]})}return null}}),n.jsx(O6,{y:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"3 3"}),n.jsx(Qh,{type:"monotone",dataKey:"in",stroke:"hsl(142, 76%, 36%)",fillOpacity:1,fill:"url(#colorIn)",name:"Bridged In"}),n.jsx(Qh,{type:"monotone",dataKey:"out",stroke:"hsl(0, 84%, 60%)",fillOpacity:1,fill:"url(#colorOut)",name:"Bridged Out"}),n.jsx(Qh,{type:"monotone",dataKey:"net",stroke:"hsl(217, 91%, 60%)",fill:"none",strokeWidth:2,strokeDasharray:"5 5",name:"Net Flow"})]})})}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No bridge data available for chart"}),n.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Bridged In"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Bridged Out"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-0.5 bg-blue-500 border-dashed border-t-2 border-blue-500"}),n.jsx("span",{className:"text-muted-foreground",children:"Net Flow"})]})]})]})]}),n.jsxs(Y,{"data-testid":"card-value-distribution",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(yu,{className:"h-5 w-5"}),"DFK Chain Value Distribution"]}),n.jsx(Se,{children:"Where bridged tokens are locked across LP pools, staking, and game contracts"})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>k(),disabled:E,"data-testid":"button-refresh-breakdown",children:[n.jsx(et,{className:`h-4 w-4 mr-2 ${E?"animate-spin":""}`}),"Refresh"]})]}),n.jsx(J,{children:E?n.jsx("div",{className:"flex items-center justify-center h-64","data-testid":"loading-breakdown",children:n.jsx(ke,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-4","data-testid":"error-breakdown",children:[n.jsx($l,{className:"h-8 w-8 text-destructive"}),n.jsx("p",{children:"Failed to load value breakdown data"}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>k(),"data-testid":"button-retry-breakdown",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):A?.summary?n.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[n.jsx("div",{className:"h-[280px] min-h-[250px]","data-testid":"chart-pie-container",children:n.jsx($u,{width:"100%",height:"100%",children:n.jsxs(Pg,{children:[n.jsx(Lf,{data:[{name:"LP Pools",value:A.summary.lpPoolsValue,fill:"hsl(217, 91%, 60%)"},{name:"Staking",value:A.summary.stakingValue,fill:"hsl(160, 84%, 39%)"},{name:"Bridges",value:A.summary.bridgeValue,fill:"hsl(38, 92%, 50%)"},{name:"System",value:A.summary.systemValue,fill:"hsl(263, 70%, 50%)"}].filter(Z=>Z.value>0),cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",label:({name:Z,percent:le})=>`${Z} ${(le*100).toFixed(0)}%`,labelLine:!1,children:[{name:"LP Pools",value:A.summary.lpPoolsValue,fill:"hsl(217, 91%, 60%)"},{name:"Staking",value:A.summary.stakingValue,fill:"hsl(160, 84%, 39%)"},{name:"Bridges",value:A.summary.bridgeValue,fill:"hsl(38, 92%, 50%)"},{name:"System",value:A.summary.systemValue,fill:"hsl(263, 70%, 50%)"}].filter(Z=>Z.value>0).map((Z,le)=>n.jsx(ri,{fill:Z.fill},`cell-${le}`))}),n.jsx(yf,{wrapperStyle:{fontSize:"12px"}})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 bg-blue-500/10 dark:bg-blue-500/20 rounded-lg border border-blue-500/20","data-testid":"stat-lp-pools",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"LP Pools"}),n.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400","data-testid":"breakdown-lp",children:xe(A.summary.lpPoolsValue)})]}),n.jsxs("div",{className:"p-3 bg-green-500/10 dark:bg-green-500/20 rounded-lg border border-green-500/20","data-testid":"stat-staking",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Staking/Governance"}),n.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"breakdown-staking",children:xe(A.summary.stakingValue)})]}),n.jsxs("div",{className:"p-3 bg-amber-500/10 dark:bg-amber-500/20 rounded-lg border border-amber-500/20","data-testid":"stat-bridges",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridge Contracts"}),n.jsx("p",{className:"text-lg font-bold text-amber-600 dark:text-amber-400","data-testid":"breakdown-bridges",children:xe(A.summary.bridgeValue)})]}),n.jsxs("div",{className:"p-3 bg-violet-500/10 dark:bg-violet-500/20 rounded-lg border border-violet-500/20","data-testid":"stat-system",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"System Contracts"}),n.jsx("p",{className:"text-lg font-bold text-violet-600 dark:text-violet-400","data-testid":"breakdown-system",children:xe(A.summary.systemValue)})]})]}),n.jsx(Dn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{"data-testid":"stat-jewel-locked",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total JEWEL Locked"}),n.jsxs("p",{className:"font-semibold","data-testid":"breakdown-jewel",children:[A.summary.totalJewelLocked.toLocaleString()," JEWEL"]})]}),n.jsxs("div",{"data-testid":"stat-crystal-locked",children:[n.jsx("p",{className:"text-muted-foreground",children:"Total CRYSTAL Locked"}),n.jsxs("p",{className:"font-semibold","data-testid":"breakdown-crystal",children:[A.summary.totalCrystalLocked.toLocaleString()," CRYSTAL"]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg","data-testid":"stat-tvl-summary",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value Locked (TVL)"}),n.jsx("span",{className:"text-xl font-bold","data-testid":"breakdown-tvl",children:xe(A.summary.totalValueUSD)})]}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs","data-testid":"text-prices",children:[n.jsxs("span",{className:"text-muted-foreground",children:["JEWEL: $",A.prices.jewel.toFixed(4)]}),A.prices.jewelSource&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${A.prices.jewelSource==="defillama"?"bg-green-500/20 text-green-600 dark:text-green-400":A.prices.jewelSource==="coingecko"?"bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-amber-500/20 text-amber-600 dark:text-amber-400"}`,"data-testid":"badge-jewel-source",children:A.prices.jewelSource})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs","data-testid":"text-crystal-price",children:[n.jsxs("span",{className:"text-muted-foreground",children:["CRYSTAL: $",A.prices.crystal.toFixed(4)]}),A.prices.crystalSource&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${A.prices.crystalSource==="defillama"?"bg-green-500/20 text-green-600 dark:text-green-400":A.prices.crystalSource==="coingecko"?"bg-blue-500/20 text-blue-600 dark:text-blue-400":"bg-amber-500/20 text-amber-600 dark:text-amber-400"}`,"data-testid":"badge-crystal-source",children:A.prices.crystalSource})]}),(A.prices.jewelSource==="fallback"||A.prices.crystalSource==="fallback")&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-amber-600 dark:text-amber-400","data-testid":"warning-fallback-prices",children:[n.jsx($l,{className:"h-3 w-3"}),n.jsx("span",{children:"Using fallback prices - live data unavailable"})]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"text-updated",children:["Updated: ",new Date(A.timestamp).toLocaleString()]})]})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-2","data-testid":"empty-breakdown",children:[n.jsx(yu,{className:"h-8 w-8 opacity-50"}),n.jsx("p",{children:"No value breakdown data available"})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{className:"text-lg",children:"Analyze Wallet"}),n.jsx(Se,{children:"Enter a wallet address to index and analyze bridge activity"})]}),n.jsxs(J,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Qe,{placeholder:"0x...",value:t,onChange:Z=>r(Z.target.value),className:"font-mono","data-testid":"input-wallet-search"}),n.jsxs(se,{onClick:$e,disabled:K.isPending,"data-testid":"button-search-wallet",children:[n.jsx(Gs,{className:"h-4 w-4 mr-2"}),K.isPending?"Indexing...":"Analyze"]})]}),a&&q&&n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsx(Dn,{}),q.summary?n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total In"}),n.jsx("p",{className:"text-xl font-semibold text-green-600",children:xe(q.summary.totalBridgedInUsd)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Out"}),n.jsx("p",{className:"text-xl font-semibold text-red-600",children:xe(q.summary.totalBridgedOutUsd)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Extracted"}),n.jsx("p",{className:`text-xl font-semibold ${parseFloat(q.summary.netExtractedUsd)>0?"text-orange-600":"text-green-600"}`,children:xe(q.summary.netExtractedUsd)})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No bridge activity found for this wallet"}),q.events.length>0&&n.jsx(Hi,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-2",children:q.events.map(Z=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[Z.direction==="in"?n.jsx(sp,{className:"h-4 w-4 text-green-500"}):n.jsx(ip,{className:"h-4 w-4 text-red-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",children:[Z.tokenSymbol," ",Z.bridgeType]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Lt(Z.blockTimestamp)})]})]}),n.jsxs("div",{className:"text-right",children:[Z.usdValue&&n.jsx("p",{className:`text-sm font-medium ${Z.direction==="in"?"text-green-600":"text-red-600"}`,children:xe(Z.usdValue)}),Z.amount&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[parseFloat(Z.amount).toFixed(2)," ",Z.tokenSymbol]})]})]},Z.id))})})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(yu,{className:"h-5 w-5 text-blue-500"}),"TVL Reconciliation"]}),n.jsx(Se,{children:"Net bridge flows vs current TVL with pricing coverage analysis"})]}),n.jsx(J,{children:M?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(Z=>n.jsx(Te,{className:"h-16 w-full"},Z))}):P?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:P.chains.map(Z=>n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50","data-testid":`chain-flow-${Z.chainId}`,children:[n.jsx("h4",{className:"font-semibold mb-2",children:Z.chainName}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Token IN:"}),n.jsxs("span",{className:"text-green-600",children:["$",(Z.tokenIn/1e6).toFixed(2),"M"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Token OUT:"}),n.jsxs("span",{className:"text-red-600",children:["$",(Z.tokenOut/1e6).toFixed(2),"M"]})]}),n.jsx(Dn,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Net Flow:"}),n.jsxs("span",{className:Z.netToken>=0?"text-green-600":"text-red-600",children:["$",(Z.netToken/1e6).toFixed(2),"M"]})]}),Z.currentTVL&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Current TVL:"}),n.jsxs("span",{children:["$",(Z.currentTVL/1e6).toFixed(2),"M"]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL Price:"}),n.jsxs("span",{children:["$",Z.jewelPrice?.toFixed(3)]})]})]}),n.jsx(Dn,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Heroes:"}),n.jsxs("span",{className:Z.netHeroes>=0?"text-green-600":"text-red-600",children:["+",Z.heroIn," / -",Z.heroOut," = ",Z.netHeroes>0?"+":"",Z.netHeroes]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Equipment:"}),n.jsxs("span",{className:Z.netEquipment>=0?"text-green-600":"text-red-600",children:["+",Z.equipmentIn," / -",Z.equipmentOut," = ",Z.netEquipment>0?"+":"",Z.netEquipment]})]})]})]},Z.chainId))}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[n.jsx(Na,{className:"h-4 w-4"}),"Token Pricing Coverage",n.jsxs(W,{variant:"outline",children:[P.summary.overallCoverage,"%"]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:P.pricingCoverage.slice(0,10).map(Z=>n.jsxs("div",{className:"p-2 rounded bg-muted/30 text-xs","data-testid":`token-coverage-${Z.token}`,children:[n.jsx("div",{className:"font-medium",children:Z.token}),n.jsxs("div",{className:"text-muted-foreground",children:[Z.totalEvents.toLocaleString()," events"]}),n.jsxs("div",{className:parseFloat(Z.coverage)>=99?"text-green-600":parseFloat(Z.coverage)>=50?"text-yellow-600":"text-red-600",children:[Z.coverage,"% priced"]})]},Z.token))})]}),n.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-3 rounded",children:[n.jsx($l,{className:"h-3 w-3 inline mr-1"}),P.summary.note]})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No reconciliation data available"})})})]}),n.jsxs(Y,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Ou,{className:"h-5 w-5 text-orange-500"}),"Top Extractors"]}),n.jsx(Se,{children:"Wallets with highest net value extracted from DFK Chain"})]}),n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg","data-testid":"time-range-filter",children:nge.map(Z=>n.jsx(se,{variant:l===Z.value?"default":"ghost",size:"sm",onClick:()=>c(Z.value),className:"h-7 px-3 text-xs font-medium","data-testid":`button-time-${Z.value}`,children:Z.label},Z.value))})]})}),n.jsx(J,{children:N?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(Z=>n.jsx(Te,{className:"h-12 w-full"},Z))}):C.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"No extractors identified yet"}),n.jsx("p",{className:"text-sm",children:"Index some wallets to start tracking"})]}):n.jsx(Hi,{className:"h-[500px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-2 text-xs font-medium text-muted-foreground bg-muted/50 rounded-md",children:[n.jsx("div",{children:"Wallet"}),n.jsx("div",{children:"Summoner"}),n.jsx("div",{className:"text-right",children:"Bridged In"}),n.jsx("div",{className:"text-right",children:"Bridged Out"}),n.jsx("div",{className:"text-right",children:"Net Extracted"}),n.jsx("div",{className:"text-right",children:"Last Bridge Amt"}),n.jsx("div",{className:"text-center",children:"Flags"}),n.jsx("div",{className:"text-right",children:"Last Bridge"})]}),n.jsx(Dn,{}),C.map(Z=>{const le=parseFloat(Z.netExtractedUsd),Ze=Z.extractorFlags?.includes("heavy_extractor"),lt=Z.extractorFlags?.includes("net_extractor");return n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-3 text-sm items-center hover-elevate rounded-md cursor-pointer",onClick:()=>s(Z.wallet),"data-testid":`row-extractor-${Z.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qc,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${Z.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline flex items-center gap-1",onClick:ln=>ln.stopPropagation(),"data-testid":`link-wallet-${Z.id}`,children:[kt(Z.wallet),n.jsx(mr,{className:"h-3 w-3"})]})]}),n.jsx("div",{className:"text-xs text-primary font-medium truncate","data-testid":`text-summoner-${Z.id}`,children:Z.summonerName||"*"}),n.jsx("div",{className:"text-right text-green-600 font-medium",children:nt(Z.totalBridgedInUsd)}),n.jsx("div",{className:"text-right text-red-600 font-medium",children:nt(Z.totalBridgedOutUsd)}),n.jsx("div",{className:`text-right font-bold ${le>0?"text-amber-600":"text-foreground"}`,children:nt(le)}),n.jsx("div",{className:"text-right text-muted-foreground",children:Z.lastBridgeAmountUsd?nt(Z.lastBridgeAmountUsd):"-"}),n.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[Ze&&n.jsx(W,{variant:"destructive",className:"text-xs",children:"Heavy"}),lt&&!Ze&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Net"}),!Ze&&!lt&&n.jsx(W,{variant:"outline",className:"text-xs",children:"-"})]}),n.jsx("div",{className:"text-right text-muted-foreground text-xs",children:Z.lastBridgeAt?Lt(Z.lastBridgeAt):"-"})]},Z.id)})]})})})]})]})}const _h={"LP Pools":"#22c55e","Staking/Governance":"#3b82f6","Bridge Contracts":"#f59e0b","System Contracts":"#8b5cf6"};function Jt(e){return e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(2)}K`:`$${e.toFixed(2)}`}function Yt(e){return e>=1e9?`${(e/1e9).toFixed(2)}B`:e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(2)}function Rh(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function sge(){const[,e]=Va(),{data:t,isLoading:r,refetch:a,isFetching:s}=Re({queryKey:["/api/admin/bridge/value-breakdown"],refetchInterval:3e5}),{data:l,isLoading:c,refetch:d}=Re({queryKey:["/api/admin/bridge/cex-liquidity"],refetchInterval:6e4}),f=()=>{Me.invalidateQueries({queryKey:["/api/admin/bridge/value-breakdown"]}),Me.invalidateQueries({queryKey:["/api/admin/bridge/cex-liquidity"]}),a(),d()},m=t?[{name:"LP Pools",value:t.summary.lpPoolsValue,color:_h["LP Pools"]},{name:"Staking",value:t.summary.stakingValue,color:_h["Staking/Governance"]},{name:"Bridges",value:t.summary.bridgeValue,color:_h["Bridge Contracts"]},{name:"System",value:t.summary.systemValue,color:_h["System Contracts"]}].filter(w=>w.value>0):[],h=m.reduce((w,C)=>w+C.value,0),g=({cx:w,cy:C,midAngle:A,innerRadius:E,outerRadius:T,percent:k,name:P})=>{if(k<.03)return null;const M=Math.PI/180,I=E+(T-E)*.5,Q=w+I*Math.cos(-A*M),L=C+I*Math.sin(-A*M);return n.jsx("text",{x:Q,y:L,fill:"white",textAnchor:"middle",dominantBaseline:"central",className:"text-xs font-medium",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:`${(k*100).toFixed(0)}%`})},v=t?.categories.find(w=>w.category==="LP Pools"),y=t?.categories.find(w=>w.category==="Staking/Governance"),N=t?.categories.find(w=>w.category==="Bridge Contracts"),b=t?.categories.find(w=>w.category==="System Contracts");return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"value-allocation-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Value Allocation"}),n.jsx("p",{className:"text-muted-foreground",children:"Complete breakdown of DFK Chain value distribution across LP pools, staking, bridges, and system contracts"})]}),n.jsxs(se,{onClick:f,disabled:s,variant:"outline","data-testid":"button-refresh",children:[n.jsx(et,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),r?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Te,{className:"h-80"}),n.jsx(Te,{className:"h-80"})]}):t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Y,{"data-testid":"card-pie-chart",children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(yu,{className:"w-5 h-5"}),"Value Distribution"]}),n.jsxs(Se,{children:["Total Value Locked: ",Jt(t.summary.totalValueUSD)]})]}),n.jsx(J,{children:n.jsx("div",{className:"h-64",children:n.jsx($u,{width:"100%",height:"100%",children:n.jsxs(Pg,{children:[n.jsx(Lf,{data:m,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",labelLine:!1,label:g,children:m.map((w,C)=>n.jsx(ri,{fill:w.color,stroke:w.color},`cell-${C}`))}),n.jsx(jg,{formatter:w=>Jt(w),contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx(yf,{formatter:(w,C)=>{const A=m.find(T=>T.name===w),E=A&&h>0?(A.value/h*100).toFixed(1):"0";return n.jsxs("span",{className:"text-sm",children:[w," (",E,"%)"]})}})]})})})})]}),n.jsxs(Y,{"data-testid":"card-summary",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Summary"}),n.jsxs(Se,{children:["Updated: ",new Date(t.timestamp).toLocaleString()]})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border","data-testid":"card-total-usd",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value Locked"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-total-usd",children:Jt(t.summary.totalValueUSD)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"LP Pools"}),n.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"text-lp-pools-value",children:Jt(t.summary.lpPoolsValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Staking"}),n.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"text-staking-value",children:Jt(t.summary.stakingValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bridges"}),n.jsx("p",{className:"text-xl font-bold text-amber-500","data-testid":"text-bridges-value",children:Jt(t.summary.bridgeValue)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-violet-500/10 border border-violet-500/20",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"System"}),n.jsx("p",{className:"text-xl font-bold text-violet-500","data-testid":"text-system-value",children:Jt(t.summary.systemValue)})]})]}),n.jsxs("div",{className:"pt-4 border-t space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total JEWEL Locked"}),n.jsxs("span",{className:"font-medium",children:[Yt(t.summary.totalJewelLocked)," JEWEL"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total CRYSTAL Locked"}),n.jsxs("span",{className:"font-medium",children:[Yt(t.summary.totalCrystalLocked)," CRYSTAL"]})]}),n.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL Price"}),n.jsxs("span",{className:"font-medium",children:["$",t.prices.jewel.toFixed(4),n.jsx(W,{variant:"outline",className:"ml-2 text-xs",children:t.prices.jewelSource})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL Price"}),n.jsxs("span",{className:"font-medium",children:["$",t.prices.crystal.toFixed(4),n.jsx(W,{variant:"outline",className:"ml-2 text-xs",children:t.prices.crystalSource})]})]})]})]})]})]}),n.jsxs(Y,{"data-testid":"card-token-prices",children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"w-5 h-5 text-yellow-500"}),"Token Prices"]}),n.jsx(Se,{children:"Current prices used for TVL calculations"})]}),n.jsx(J,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:(t.tokenPrices??[]).map(w=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50","data-testid":`token-price-${w.symbol}`,children:[n.jsx("div",{className:"text-sm font-medium",children:w.symbol}),n.jsx("div",{className:"text-lg font-bold font-mono",children:w.price>=1?`$${w.price.toFixed(2)}`:`$${w.price.toFixed(4)}`}),n.jsx("div",{className:"text-xs text-muted-foreground",children:w.source})]},w.symbol))})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Y,{"data-testid":"card-jewel-supply",children:[n.jsxs(ie,{className:"pb-2",children:[n.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[n.jsx($H,{className:"w-5 h-5 text-purple-500"}),"JEWEL Supply"]}),n.jsx(Se,{children:"Official supply from DFK API"})]}),n.jsx(J,{className:"space-y-3",children:t.jewelSupply?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Supply"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-total-supply",children:Yt(t.jewelSupply.totalSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Circulating"}),n.jsx("span",{className:"font-medium font-mono text-green-500","data-testid":"text-circulating-supply",children:Yt(t.jewelSupply.circulatingSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Locked (vesting)"}),n.jsx("span",{className:"font-medium font-mono text-blue-500","data-testid":"text-locked-supply",children:Yt(t.jewelSupply.lockedSupply)})]}),t.jewelSupply.burnedSupply>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx(op,{className:"w-3 h-3 text-orange-500"}),"Burned"]}),n.jsx("span",{className:"font-medium font-mono text-orange-500","data-testid":"text-burned-supply",children:Yt(t.jewelSupply.burnedSupply)})]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Source: ",t.jewelSupply.source]})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to fetch supply data"})})]}),n.jsxs(Y,{"data-testid":"card-coverage-kpi",className:"cursor-pointer hover-elevate transition-all",onClick:()=>e("/admin/coverage-details"),children:[n.jsxs(ie,{className:"pb-2",children:[n.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[n.jsx(za,{className:"w-5 h-5 text-cyan-500"}),"Coverage KPI",n.jsxs(ju,{children:[n.jsx(wu,{onClick:w=>w.stopPropagation(),children:n.jsx(mu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(fc,{className:"max-w-xs",children:n.jsx("p",{children:"Percentage of circulating JEWEL tracked across LP pools, staking, bridges, and system contracts. Click for detailed breakdown."})})]}),n.jsx(mr,{className:"w-4 h-4 text-muted-foreground ml-auto"})]}),n.jsx(Se,{children:"Tracked JEWEL vs circulating supply"})]}),n.jsx(J,{className:"space-y-3",children:t.coverageKPI?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-center",children:[n.jsxs("p",{className:"text-3xl font-bold text-cyan-500","data-testid":"text-coverage-ratio",children:[(t.coverageKPI.coverageRatio*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Coverage Ratio"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracked JEWEL"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-tracked-jewel",children:Yt(t.coverageKPI.trackedJewel)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Circulating"}),n.jsx("span",{className:"font-medium font-mono",children:Yt(t.coverageKPI.circulatingSupply)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-amber-600",children:[n.jsx("span",{children:"Unaccounted"}),n.jsx("span",{className:"font-medium font-mono","data-testid":"text-unaccounted-jewel",children:Yt(t.coverageKPI.unaccountedJewel)})]}),n.jsx("div",{className:"text-xs text-center text-muted-foreground mt-2",children:"Click for detailed breakdown"})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to calculate coverage"})})]}),n.jsxs(Y,{"data-testid":"card-burn-ledger",children:[n.jsxs(ie,{className:"pb-2",children:[n.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[n.jsx(op,{className:"w-5 h-5 text-orange-500"}),"Burn Ledger",n.jsxs(ju,{children:[n.jsx(wu,{children:n.jsx(mu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(fc,{className:"max-w-xs",children:n.jsx("p",{children:"JEWEL permanently removed from circulation via burn addresses. Does NOT count toward value allocation."})})]})]}),n.jsx(Se,{children:"Deflationary token burns"})]}),n.jsx(J,{className:"space-y-3",children:t.burnData&&t.burnData.totalBurned>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 rounded-lg bg-orange-500/10 border border-orange-500/20 text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-orange-500","data-testid":"text-total-burned",children:[Yt(t.burnData.totalBurned)," JEWEL"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",Jt(t.burnData.totalBurned*t.prices.jewel).replace("$","")," USD"]})]}),n.jsx("div",{className:"space-y-2",children:t.burnData.burnAddresses.map((w,C)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground font-mono text-xs",children:[w.address.slice(0,10),"..."]}),n.jsx("span",{className:"font-medium font-mono",children:Yt(w.balance)})]},w.address))}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Sources: ",t.burnData.sources.join(", ")]})]}):n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No burned JEWEL detected in standard burn addresses"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Burns may occur through other mechanisms"})]})})]})]}),n.jsxs(Y,{"data-testid":"card-cex-liquidity",children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"w-5 h-5 text-cyan-500"}),"CEX Liquidity (Off-Chain)",n.jsxs(ju,{children:[n.jsx(wu,{children:n.jsx(mu,{className:"w-4 h-4 text-muted-foreground"})}),n.jsx(fc,{className:"max-w-xs",children:n.jsxs("p",{children:["Order book depth within ",l?.depthBand||"2%"," of mid-price. This measures immediately tradable liquidity, not total CEX holdings."]})})]})]}),n.jsx(Se,{children:"JEWEL order book depth on centralized exchanges"})]}),n.jsx(J,{children:c?n.jsx(Te,{className:"h-32"}):l?n.jsxs("div",{className:"space-y-4",children:[l.failedCount===l.totalCount?n.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center gap-3",children:[n.jsx(er,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"All CEX APIs Failed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Unable to fetch order books from any exchange. Check API connectivity."})]})]}):l.totalLiquidityUSD===0?n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border flex items-center gap-3",children:[n.jsx(mu,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"No Active CEX Markets"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL is primarily traded on decentralized exchanges (DFK DEX, Trader Joe). CEX order books show no active liquidity."})]})]}):n.jsxs(n.Fragment,{children:[l.failedCount>0&&n.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20 flex items-center gap-2",children:[n.jsx(er,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:[l.failedCount,"/",l.totalCount," exchanges failed. Totals may be incomplete."]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/20",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total CEX Liquidity (",l.depthBand,")"]}),n.jsx("p",{className:"text-2xl font-bold text-cyan-500","data-testid":"text-cex-liquidity-total",children:Jt(l.totalLiquidityUSD)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avg spread: ",l.averageSpread.toFixed(2),"%"]})]})]}),n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Exchange"}),n.jsx(V,{children:"Pair"}),n.jsx(V,{className:"text-right",children:"Mid Price"}),n.jsx(V,{className:"text-right",children:"Bid Depth"}),n.jsx(V,{className:"text-right",children:"Ask Depth"}),n.jsx(V,{className:"text-right",children:"Total"}),n.jsx(V,{className:"text-right",children:"Spread"})]})}),n.jsx(xt,{children:l.exchanges.map(w=>n.jsxs(Pe,{"data-testid":`row-cex-${w.exchange}`,children:[n.jsx(U,{className:"font-medium",children:w.exchange}),n.jsx(U,{children:w.pair}),n.jsx(U,{className:"text-right font-mono",children:w.error?n.jsx(W,{variant:"outline",className:"text-red-500",children:"Error"}):`$${w.midPrice.toFixed(4)}`}),n.jsx(U,{className:"text-right font-mono text-green-500",children:w.error?"-":Jt(w.bidDepthUSD)}),n.jsx(U,{className:"text-right font-mono text-red-500",children:w.error?"-":Jt(w.askDepthUSD)}),n.jsx(U,{className:"text-right font-mono font-bold",children:w.error?"-":Jt(w.totalDepthUSD)}),n.jsx(U,{className:"text-right",children:w.error?"-":`${w.spreadPercent.toFixed(2)}%`})]},w.exchange))})]}),n.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Updated: ",new Date(l.updatedAt).toLocaleString()]})]}):n.jsxs("div",{className:"flex items-center justify-center p-8 text-muted-foreground",children:[n.jsx(er,{className:"w-5 h-5 mr-2"}),"Failed to load CEX data"]})})]}),n.jsxs(Y,{"data-testid":"card-lp-pools",children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"w-5 h-5 text-green-500"}),"LP Pools Staked Value (V2 + V1)"]}),n.jsx(Se,{children:"Value of LP tokens staked in Master Gardener V2 and legacy V1 contracts"})]}),n.jsx(J,{children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Pool"}),n.jsx(V,{className:"text-right text-green-400",children:"24hr APR"}),n.jsx(V,{children:"Contract"}),n.jsx(V,{className:"text-right",children:"Staked Token 0"}),n.jsx(V,{className:"text-right",children:"Staked Token 1"}),n.jsx(V,{className:"text-right text-blue-400",children:"V2 Value"}),n.jsx(V,{className:"text-right text-amber-400",children:"V1 Value"}),n.jsx(V,{className:"text-right",children:"Total Staked"})]})}),n.jsxs(xt,{children:[(v?.contracts??[]).map(w=>n.jsxs(Pe,{"data-testid":`row-lp-${w.name}`,className:w.pid!==void 0?"cursor-pointer hover-elevate":"",onClick:()=>w.pid!==void 0&&e(`/admin/pools/${w.pid}`),children:[n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"secondary",className:"font-mono text-xs",children:w.token0Symbol||"TOKEN0"}),n.jsx("span",{className:"text-muted-foreground",children:"/"}),n.jsx(W,{variant:"secondary",className:"font-mono text-xs",children:w.token1Symbol||"TOKEN1"})]})}),n.jsx(U,{className:"text-right font-mono text-sm text-green-400",children:w.passive24hAPR!=null?`${w.passive24hAPR.toFixed(2)}%`:"-"}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",onClick:C=>C.stopPropagation(),children:[Rh(w.address),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{children:Yt(w.token0Balance||0)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:w.token0Symbol})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{children:Yt(w.token1Balance||0)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:w.token1Symbol})]})}),n.jsx(U,{className:"text-right text-sm text-blue-400 font-mono",children:Jt(w.v2ValueUSD||0)}),n.jsx(U,{className:"text-right text-sm text-amber-400 font-mono",children:Jt(w.v1ValueUSD||0)}),n.jsx(U,{className:"text-right font-medium",children:Jt(w.totalValueUSD)})]},w.address)),n.jsxs(Pe,{className:"bg-green-500/5 font-medium",children:[n.jsx(U,{colSpan:5,children:"Total Staked LP"}),n.jsx(U,{className:"text-right text-blue-400",children:Jt((v?.contracts??[]).reduce((w,C)=>w+(C.v2ValueUSD||0),0))}),n.jsx(U,{className:"text-right text-amber-400",children:Jt((v?.contracts??[]).reduce((w,C)=>w+(C.v1ValueUSD||0),0))}),n.jsx(U,{className:"text-right text-green-500",children:Jt(v?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(Y,{"data-testid":"card-staking",children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(yj,{className:"w-5 h-5 text-blue-500"}),"Staking / Governance Breakdown"]}),n.jsx(Se,{children:"Locked tokens in governance and staking contracts"})]}),n.jsx(J,{children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Contract Name"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"CRYSTAL"}),n.jsx(V,{className:"text-right",children:"Total USD"})]})}),n.jsxs(xt,{children:[(y?.contracts??[]).map(w=>n.jsxs(Pe,{"data-testid":`row-staking-${w.name}`,children:[n.jsx(U,{className:"font-medium",children:w.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Rh(w.address),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(w.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(w.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:Jt(w.totalValueUSD)})]},w.address)),n.jsxs(Pe,{className:"bg-blue-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total Staking"}),n.jsx(U,{className:"text-right font-mono",children:Yt(y?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Yt(y?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-blue-500",children:Jt(y?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(Y,{"data-testid":"card-bridges",children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(vc,{className:"w-5 h-5 text-amber-500"}),"Bridge Contracts Breakdown"]}),n.jsx(Se,{children:"Tokens held in cross-chain bridge contracts"})]}),n.jsx(J,{children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Contract Name"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"CRYSTAL"}),n.jsx(V,{className:"text-right",children:"Total USD"})]})}),n.jsxs(xt,{children:[(N?.contracts??[]).map(w=>n.jsxs(Pe,{"data-testid":`row-bridge-${w.name}`,children:[n.jsx(U,{className:"font-medium",children:w.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Rh(w.address),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(w.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(w.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:Jt(w.totalValueUSD)})]},w.address)),n.jsxs(Pe,{className:"bg-amber-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total Bridges"}),n.jsx(U,{className:"text-right font-mono",children:Yt(N?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Yt(N?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-amber-500",children:Jt(N?.totalValueUSD||0)})]})]})]})})]}),n.jsxs(Y,{"data-testid":"card-system",children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(cM,{className:"w-5 h-5 text-violet-500"}),"System Contracts Breakdown"]}),n.jsx(Se,{children:"Tokens held in game system and operational contracts"})]}),n.jsx(J,{children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Contract Name"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"CRYSTAL"}),n.jsx(V,{className:"text-right",children:"Total USD"})]})}),n.jsxs(xt,{children:[(b?.contracts??[]).map(w=>n.jsxs(Pe,{"data-testid":`row-system-${w.name}`,children:[n.jsx(U,{className:"font-medium",children:w.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-mono text-muted-foreground hover:text-foreground",children:[Rh(w.address),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(w.jewelBalance)}),n.jsx(U,{className:"text-right font-mono text-sm",children:Yt(w.crystalBalance)}),n.jsx(U,{className:"text-right font-medium",children:Jt(w.totalValueUSD)})]},w.address)),n.jsxs(Pe,{className:"bg-violet-500/5 font-medium",children:[n.jsx(U,{colSpan:2,children:"Total System"}),n.jsx(U,{className:"text-right font-mono",children:Yt(b?.totalJewel||0)}),n.jsx(U,{className:"text-right font-mono",children:Yt(b?.totalCrystal||0)}),n.jsx(U,{className:"text-right text-violet-500",children:Jt(b?.totalValueUSD||0)})]})]})]})})]})]}):n.jsx(Y,{children:n.jsx(J,{className:"py-10 text-center text-muted-foreground",children:"Failed to load value breakdown data"})})]})}const Hr={"LP Pools":"#22c55e","Staking/Governance":"#3b82f6","Bridge Contracts":"#f59e0b","System Contracts":"#8b5cf6","Multi-Chain":"#ec4899",Burned:"#ef4444","Team Wallets":"#a855f7",Liquid:"#06b6d4",Unaccounted:"#6b7280"};function Rs(e){return e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toFixed(2)}function ige(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function lge(){const[,e]=Va(),{data:t,isLoading:r,refetch:a,isFetching:s}=Re({queryKey:["/api/admin/bridge/value-breakdown"],staleTime:6e4,refetchOnWindowFocus:!1}),l=[];let c=0;if(t){const m=t.coverageBreakdown;if(t.coverageKPI,m){if(m.pooled.total>0){const g=[];if(m.pooled.contracts&&m.pooled.contracts.length>0)for(const v of m.pooled.contracts)g.push({name:`[${v.chain}] ${v.name}`,address:v.address,jewel:v.jewelReserves});l.push({name:"LP Pools (Full Reserves)",jewel:m.pooled.total,percentage:0,icon:Eu,color:Hr["LP Pools"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.pooled.total}if(m.locked.total>0){const g=[];m.locked.cJewel>0&&g.push({name:"cJEWEL (Staking)",address:"0x9ed2c155632C042CB8bC20634571fF1CA26f5742",jewel:m.locked.cJewel}),m.locked.systemContracts>0&&g.push({name:"System Contracts",address:"Various",jewel:m.locked.systemContracts}),l.push({name:"Locked JEWEL (DFK Chain)",jewel:m.locked.total,percentage:0,icon:yj,color:Hr["Staking/Governance"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.locked.total}if(m.locked.bridgeContracts>0&&l.push({name:"Bridge Contracts (Ref Only)",jewel:m.locked.bridgeContracts,percentage:0,icon:vc,color:Hr["Bridge Contracts"],contracts:[{name:"Synapse Bridge (DFK)",address:"0x52285D426120aB91F378B3dF4A15a036A62200aE",jewel:m.locked.bridgeContracts}],excludedFromTotal:!0}),m.multiChain.total>0){const g=[];if(m.multiChain.wallets&&m.multiChain.wallets.length>0)for(const v of m.multiChain.wallets)g.push({name:`[${v.chain}] ${v.name}`,address:v.address,jewel:v.jewelBalance});else m.multiChain.harmonyBridge>0&&g.push({name:"Harmony Bridge",address:"Harmony Chain",jewel:m.multiChain.harmonyBridge}),m.multiChain.kaiaBridge>0&&g.push({name:"Kaia Bridge",address:"Kaia Chain",jewel:m.multiChain.kaiaBridge}),m.multiChain.metisBridge>0&&g.push({name:"Metis Bridge",address:"Metis Chain",jewel:m.multiChain.metisBridge}),m.multiChain.avalancheBridge>0&&g.push({name:"Avalanche Bridge",address:"Avalanche C-Chain",jewel:m.multiChain.avalancheBridge});l.push({name:"Multi-Chain Bridges (Liquid)",jewel:m.multiChain.total,percentage:0,icon:OP,color:Hr["Multi-Chain"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.multiChain.total}if(m.burned.total>0){const g=m.burned.addresses.map(v=>({name:v.address==="0x0000000000000000000000000000000000000000"?"Zero Address":v.address.toLowerCase().includes("dead")?"Dead Address":"Burn Address",address:v.address,jewel:v.balance}));l.push({name:"Burned JEWEL",jewel:m.burned.total,percentage:0,icon:op,color:Hr.Burned,contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.burned.total}if(m.teamWallets&&m.teamWallets.total>0){const g=[];for(const v of m.teamWallets.categories)for(const y of v.wallets)y.balance>0&&g.push({name:`[${v.name}] ${y.name}`,address:y.address,jewel:y.balance});l.push({name:"Team Wallets",jewel:m.teamWallets.total,percentage:0,icon:Mr,color:Hr["Team Wallets"],contracts:g.sort((v,y)=>y.jewel-v.jewel)}),c+=m.teamWallets.total}m.liquid.estimated>0&&(l.push({name:"Liquid JEWEL (Est.)",jewel:m.liquid.estimated,percentage:0,icon:qc,color:Hr.Liquid,contracts:[{name:"User Wallets & CEX",address:"Various",jewel:m.liquid.estimated}]}),c+=m.liquid.estimated)}else{const g=t.categories.find(b=>b.category==="LP Pools");if(g){let b=0;const w=[];for(const C of g.contracts){let A=0;C.token0Symbol==="wJEWEL"&&(A+=C.token0Balance||0),C.token1Symbol==="wJEWEL"&&(A+=C.token1Balance||0),A>0&&(b+=A,w.push({name:C.name,address:C.address,jewel:A}))}b>0&&(l.push({name:"LP Pools (wJEWEL)",jewel:b,percentage:0,icon:Eu,color:Hr["LP Pools"],contracts:w.sort((C,A)=>A.jewel-C.jewel)}),c+=b)}const v=t.categories.find(b=>b.category==="Staking/Governance");v&&v.totalJewel>0&&(l.push({name:"Staking (cJEWEL)",jewel:v.totalJewel,percentage:0,icon:yj,color:Hr["Staking/Governance"],contracts:v.contracts.filter(b=>b.jewelBalance>0).map(b=>({name:b.name,address:b.address,jewel:b.jewelBalance})).sort((b,w)=>w.jewel-b.jewel)}),c+=v.totalJewel);const y=t.categories.find(b=>b.category==="Bridge Contracts");y&&y.totalJewel>0&&(l.push({name:"Bridge Contracts",jewel:y.totalJewel,percentage:0,icon:vc,color:Hr["Bridge Contracts"],contracts:y.contracts.filter(b=>b.jewelBalance>0).map(b=>({name:b.name,address:b.address,jewel:b.jewelBalance})).sort((b,w)=>w.jewel-b.jewel)}),c+=y.totalJewel);const N=t.categories.find(b=>b.category==="System Contracts");if(N&&N.totalJewel>0&&(l.push({name:"System Contracts",jewel:N.totalJewel,percentage:0,icon:cM,color:Hr["System Contracts"],contracts:N.contracts.filter(b=>b.jewelBalance>0).map(b=>({name:b.name,address:b.address,jewel:b.jewelBalance})).sort((b,w)=>w.jewel-b.jewel)}),c+=N.totalJewel),t.multiChainBalances&&t.multiChainBalances.length>0){let b=0;const w=[];for(const C of t.multiChainBalances)if(C.status==="success"){const A=C.totalJewel;A>0&&(b+=A,w.push({name:`${C.chain} (Bridge)`,address:C.tokenAddress,jewel:A}))}b>0&&(l.push({name:"Multi-Chain Bridges (Liquid)",jewel:b,percentage:0,icon:OP,color:Hr["Multi-Chain"],contracts:w.sort((C,A)=>A.jewel-C.jewel)}),c+=b)}}const h=t.jewelSupply?.circulatingSupply||c;for(const g of l)g.percentage=h>0?g.jewel/h*100:0}const d=l.filter(m=>!m.excludedFromTotal).map(m=>({name:m.name,value:m.jewel,color:m.color})),f=()=>{Me.invalidateQueries({queryKey:["/api/admin/bridge/value-breakdown"]}),a()};return r?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Te,{className:"h-8 w-8"}),n.jsx(Te,{className:"h-8 w-64"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Te,{className:"h-[400px]"}),n.jsx(Te,{className:"h-[400px]"})]})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(se,{variant:"ghost",size:"icon","data-testid":"button-back",onClick:()=>e("/admin/value-allocation"),children:n.jsx(Wi,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(za,{className:"w-6 h-6 text-cyan-500"}),"Coverage Breakdown"]}),n.jsx("p",{className:"text-muted-foreground",children:"Detailed view of tracked JEWEL across all sources"})]})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:f,disabled:s,"data-testid":"button-refresh",children:[n.jsx(et,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),t?.coverageKPI&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Y,{"data-testid":"card-coverage-ratio",children:n.jsx(J,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-4xl font-bold text-cyan-500",children:[(t.coverageKPI.coverageRatio*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coverage Ratio"})]})})}),n.jsx(Y,{"data-testid":"card-tracked-total",children:n.jsx(J,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-500 font-mono",children:Rs(t.coverageKPI.trackedJewel)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tracked JEWEL"})]})})}),n.jsx(Y,{"data-testid":"card-circulating",children:n.jsx(J,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold font-mono",children:Rs(t.coverageKPI.circulatingSupply)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Circulating Supply"})]})})}),n.jsx(Y,{"data-testid":"card-unaccounted",children:n.jsx(J,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-500 font-mono",children:Rs(t.coverageKPI.unaccountedJewel)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Unaccounted"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Y,{"data-testid":"card-distribution-chart",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"JEWEL Distribution by Source"}),n.jsx(Se,{children:"Visual breakdown of tracked JEWEL across categories"})]}),n.jsx(J,{children:n.jsx("div",{className:"h-[350px]",children:n.jsx($u,{width:"100%",height:"100%",children:n.jsxs(Pg,{children:[n.jsx(Lf,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,dataKey:"value",nameKey:"name",label:({name:m,percent:h})=>`${(m||"").split(" ")[0]} ${((h||0)*100).toFixed(0)}%`,labelLine:!1,children:d.map((m,h)=>n.jsx(ri,{fill:m.color},`cell-${h}`))}),n.jsx(jg,{formatter:m=>[Rs(m),"JEWEL"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx(yf,{})]})})})})]}),n.jsxs(Y,{"data-testid":"card-source-breakdown",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Breakdown by Source"}),n.jsx(Se,{children:"JEWEL allocation across different contract types"})]}),n.jsxs(J,{className:"space-y-4",children:[l.filter(m=>!m.excludedFromTotal).map(m=>{const h=m.icon;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),n.jsx(h,{className:"w-4 h-4",style:{color:m.color}}),n.jsx("span",{className:"font-medium",children:m.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-mono font-medium",children:Rs(m.jewel)}),n.jsxs(W,{variant:"secondary",className:"ml-2",children:[m.percentage.toFixed(1),"%"]})]})]}),n.jsx(Ut,{value:m.percentage,className:"h-2",style:{"--progress-color":m.color}})]},m.name)}),l.filter(m=>m.excludedFromTotal).map(m=>{const h=m.icon;return n.jsxs("div",{className:"space-y-2 pt-2 border-t border-dashed opacity-70",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-dashed",style:{borderColor:m.color}}),n.jsx(h,{className:"w-4 h-4",style:{color:m.color}}),n.jsx("span",{className:"font-medium",children:m.name}),n.jsx(W,{variant:"outline",className:"text-xs",children:"Excluded"})]}),n.jsx("div",{className:"text-right",children:n.jsx("span",{className:"font-mono font-medium text-muted-foreground",children:Rs(m.jewel)})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Already counted in multi-chain totals (bridged to other chains)"})]},m.name)}),t?.coverageKPI&&t.coverageKPI.unaccountedJewel>0&&n.jsx("div",{className:"space-y-2 pt-2 border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Hr.Unaccounted}}),n.jsx("span",{className:"font-medium text-muted-foreground",children:"Unaccounted"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-mono font-medium text-amber-500",children:Rs(t.coverageKPI.unaccountedJewel)}),n.jsxs(W,{variant:"outline",className:"ml-2 border-amber-500/50 text-amber-500",children:[(t.coverageKPI.unaccountedJewel/t.coverageKPI.circulatingSupply*100).toFixed(1),"%"]})]})]})})]})]})]}),n.jsx("div",{className:"space-y-6",children:l.map(m=>{const h=m.icon;return n.jsxs(Y,{"data-testid":`card-contracts-${m.name.toLowerCase().replace(/[^a-z]/g,"-")}`,children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(h,{className:"w-5 h-5",style:{color:m.color}}),m.name,n.jsxs(W,{style:{backgroundColor:m.color,color:"white"},children:[Rs(m.jewel)," JEWEL"]})]}),n.jsxs(Se,{children:[m.contracts.length," contract",m.contracts.length!==1?"s":""," tracked"]})]}),n.jsx(J,{children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Contract"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"% of Source"})]})}),n.jsxs(xt,{children:[m.contracts.slice(0,10).map(g=>n.jsxs(Pe,{children:[n.jsx(U,{className:"font-medium",children:g.name}),n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${g.address}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground",children:[n.jsx("span",{className:"font-mono text-sm",children:ige(g.address)}),n.jsx(mr,{className:"w-3 h-3"})]})}),n.jsx(U,{className:"text-right font-mono",children:Rs(g.jewel)}),n.jsx(U,{className:"text-right",children:n.jsxs(W,{variant:"outline",children:[(g.jewel/m.jewel*100).toFixed(1),"%"]})})]},g.address)),m.contracts.length>10&&n.jsx(Pe,{children:n.jsxs(U,{colSpan:4,className:"text-center text-muted-foreground",children:["... and ",m.contracts.length-10," more contracts"]})})]})]})})]},m.name)})}),t&&n.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Last updated: ",new Date(t.timestamp).toLocaleString()," | JEWEL Price: $",t.prices.jewel.toFixed(4)," (",t.prices.jewelSource,")"]})]})}function rF(e){const t=oge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(dge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function oge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=fge(s),d=uge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cge=Symbol("radix.slottable");function dge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cge}function uge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function fge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$f=mge.reduce((e,t)=>{const r=rF(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Og="Dialog",[aF,sF]=xr(Og),[hge,Ka]=aF(Og),iF=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,d=p.useRef(null),f=p.useRef(null),[m,h]=ea({prop:a,defaultProp:s??!1,onChange:l,caller:Og});return n.jsx(hge,{scope:t,triggerRef:d,contentRef:f,contentId:$a(),titleId:$a(),descriptionId:$a(),open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(g=>!g),[h]),modal:c,children:r})};iF.displayName=Og;var lF="DialogTrigger",oF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ka(lF,r),l=tt(t,s.triggerRef);return n.jsx($f.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":TS(s.open),...a,ref:l,onClick:ze(e.onClick,s.onOpenToggle)})});oF.displayName=lF;var PS="DialogPortal",[pge,cF]=aF(PS,{forceMount:void 0}),dF=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,l=Ka(PS,t);return n.jsx(pge,{scope:t,forceMount:r,children:p.Children.map(a,c=>n.jsx(na,{present:r||l.open,children:n.jsx(xx,{asChild:!0,container:s,children:c})}))})};dF.displayName=PS;var mx="DialogOverlay",uF=p.forwardRef((e,t)=>{const r=cF(mx,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=Ka(mx,e.__scopeDialog);return l.modal?n.jsx(na,{present:a||l.open,children:n.jsx(gge,{...s,ref:t})}):null});uF.displayName=mx;var xge=rF("DialogOverlay.RemoveScroll"),gge=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ka(mx,r);return n.jsx(yN,{as:xge,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx($f.div,{"data-state":TS(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),lo="DialogContent",fF=p.forwardRef((e,t)=>{const r=cF(lo,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=Ka(lo,e.__scopeDialog);return n.jsx(na,{present:a||l.open,children:l.modal?n.jsx(vge,{...s,ref:t}):n.jsx(yge,{...s,ref:t})})});fF.displayName=lo;var vge=p.forwardRef((e,t)=>{const r=Ka(lo,e.__scopeDialog),a=p.useRef(null),s=tt(t,r.contentRef,a);return p.useEffect(()=>{const l=a.current;if(l)return PD(l)},[]),n.jsx(mF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,l=>l.preventDefault())})}),yge=p.forwardRef((e,t)=>{const r=Ka(lo,e.__scopeDialog),a=p.useRef(!1),s=p.useRef(!1);return n.jsx(mF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),mF=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,...c}=e,d=Ka(lo,r),f=p.useRef(null),m=tt(t,f);return SD(),n.jsxs(n.Fragment,{children:[n.jsx(vN,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l,children:n.jsx(nf,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":TS(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(jge,{titleId:d.titleId}),n.jsx(Nge,{contentRef:f,descriptionId:d.descriptionId})]})]})}),OS="DialogTitle",hF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ka(OS,r);return n.jsx($f.h2,{id:s.titleId,...a,ref:t})});hF.displayName=OS;var pF="DialogDescription",xF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ka(pF,r);return n.jsx($f.p,{id:s.descriptionId,...a,ref:t})});xF.displayName=pF;var gF="DialogClose",vF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Ka(gF,r);return n.jsx($f.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});vF.displayName=gF;function TS(e){return e?"open":"closed"}var yF="DialogTitleWarning",[bge,bF]=HU(yF,{contentName:lo,titleName:OS,docsSlug:"dialog"}),jge=({titleId:e})=>{const t=bF(yF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},wge="DialogDescriptionWarning",Nge=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bF(wge).contentName}}.`;return p.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},jF=iF,wF=oF,NF=dF,kS=uF,_S=fF,RS=hF,MS=xF,DS=vF;const qi=jF,Sge=wF,Cge=NF,SF=p.forwardRef(({className:e,...t},r)=>n.jsx(kS,{ref:r,className:De("fixed inset-0 z-[9998] bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));SF.displayName=kS.displayName;const Hs=p.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Cge,{children:[n.jsx(SF,{}),n.jsxs(_S,{ref:a,style:{backgroundColor:"hsl(220, 13%, 20%)"},className:De("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(DS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(aN,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hs.displayName=_S.displayName;const Vs=({className:e,...t})=>n.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vs.displayName="DialogHeader";const oo=({className:e,...t})=>n.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});oo.displayName="DialogFooter";const qs=p.forwardRef(({className:e,...t},r)=>n.jsx(RS,{ref:r,className:De("text-lg font-semibold leading-none tracking-tight",e),...t}));qs.displayName=RS.displayName;const Ks=p.forwardRef(({className:e,...t},r)=>n.jsx(MS,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));Ks.displayName=MS.displayName;const Ege=["draft","validated","deployed","deprecated"],Age=["tiered","binary","milestone"],Pge={hero_progression:Or,economy_strategy:Tr,profession_specialization:aM,ownership_collection:Ws,behavior_engagement:Mr,seasonal_events:Jw,prestige_overall:nN,summoning_prestige:lf},Oge={draft:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",validated:"bg-blue-500/20 text-blue-500 border-blue-500/30",deployed:"bg-green-500/20 text-green-500 border-green-500/30",deprecated:"bg-gray-500/20 text-gray-500 border-gray-500/30"},CF={draft:Yi,validated:eN,deployed:tN,deprecated:dc};function Tge({state:e}){const t=Oge[e]||"bg-muted text-muted-foreground",r=CF[e]||er;return n.jsxs(W,{variant:"outline",className:`text-xs ${t} gap-1`,"data-testid":`badge-state-${e}`,children:[n.jsx(r,{className:"w-3 h-3"}),e.toUpperCase()]})}function kge(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Te,{className:"h-10 w-64"}),n.jsx(Te,{className:"h-10 w-32"}),n.jsx(Te,{className:"h-10 w-32"}),n.jsx(Te,{className:"h-10 w-32"})]}),n.jsx(Y,{children:n.jsx(J,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>n.jsx(Te,{className:"h-12 w-full"},e))})})})]})}function _ge(){const[,e]=Va(),{toast:t}=an(),[r,a]=p.useState(""),[s,l]=p.useState(""),[c,d]=p.useState(""),[f,m]=p.useState(""),[h,g]=p.useState(null),[v,y]=p.useState(!1),N=()=>{const P=new URLSearchParams;s&&P.append("state",s),c&&P.append("category",c),f&&P.append("type",f),r&&P.append("search",r);const M=P.toString();return M?`?${M}`:""},{data:b,isLoading:w,error:C}=Re({queryKey:["/api/admin/challenges",s,c,f,r],queryFn:async()=>{const P=await fetch(`/api/admin/challenges${N()}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch challenges");return P.json()}}),{data:A}=Re({queryKey:["/api/admin/challenge-categories"],queryFn:async()=>{const P=await fetch("/api/admin/challenge-categories",{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch categories");return P.json()}}),E=Oe({mutationFn:async P=>{const M=await fetch(`/api/admin/challenges/${P}`,{method:"DELETE",credentials:"include"});if(!M.ok)throw new Error("Failed to delete challenge");return M.json()},onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/challenges"]}),t({title:"Challenge deprecated",description:"The challenge has been marked as deprecated."}),g(null)},onError:P=>{t({title:"Error",description:P.message,variant:"destructive"})}}),T=Oe({mutationFn:async()=>{const P=await fetch("/api/admin/etl/trigger",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"incremental"})});if(!P.ok)throw new Error("Failed to trigger ETL");return P.json()},onSuccess:P=>{P.success===!1?t({title:"ETL Not Started",description:P.message||"ETL could not be started",variant:"destructive"}):t({title:"ETL Complete",description:P.message||"Challenge progress updated from blockchain data"})},onError:P=>{t({title:"ETL Failed",description:P.message,variant:"destructive"})}}),k={draft:b?.filter(P=>P.state==="draft").length||0,validated:b?.filter(P=>P.state==="validated").length||0,deployed:b?.filter(P=>P.state==="deployed").length||0,deprecated:b?.filter(P=>P.state==="deprecated").length||0};return w?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Challenge Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading challenges..."})]}),n.jsx(kge,{})]}):C?n.jsx("div",{className:"p-6",children:n.jsx(Y,{className:"border-destructive",children:n.jsxs(ie,{children:[n.jsx(oe,{className:"text-destructive",children:"Error Loading Challenges"}),n.jsx(Se,{children:C instanceof Error?C.message:"Failed to load challenges"})]})})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Challenge Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage challenge definitions, validation, and deployment"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(se,{variant:"outline",onClick:()=>T.mutate(),disabled:T.isPending,"data-testid":"button-refresh-etl",children:[T.isPending?n.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(et,{className:"w-4 h-4 mr-2"}),"Refresh Progress"]}),n.jsxs(se,{onClick:()=>y(!0),"data-testid":"button-create-challenge",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"}),"New Challenge"]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Ege.map(P=>{const M=CF[P],I=k[P];return n.jsx(Y,{className:`cursor-pointer hover-elevate ${s===P?"ring-2 ring-primary":""}`,onClick:()=>l(s===P?"":P),"data-testid":`card-state-filter-${P}`,children:n.jsx(ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(oe,{className:"text-sm font-medium capitalize flex items-center gap-2",children:[n.jsx(M,{className:"w-4 h-4"}),P]}),n.jsx(W,{variant:"secondary",children:I})]})})},P)})}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[n.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Qe,{placeholder:"Search by code or name...",value:r,onChange:P=>a(P.target.value),className:"pl-10","data-testid":"input-search"})]}),n.jsxs(ct,{value:c||"all",onValueChange:P=>d(P==="all"?"":P),children:[n.jsx(st,{className:"w-[180px]","data-testid":"select-category",children:n.jsx(dt,{placeholder:"All Categories"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"all",children:"All Categories"}),A?.map(P=>n.jsx(ye,{value:P.key,children:P.name},P.key))]})]}),n.jsxs(ct,{value:f||"all",onValueChange:P=>m(P==="all"?"":P),children:[n.jsx(st,{className:"w-[150px]","data-testid":"select-type",children:n.jsx(dt,{placeholder:"All Types"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"all",children:"All Types"}),Age.map(P=>n.jsx(ye,{value:P,children:P},P))]})]}),(s||c||f||r)&&n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{l(""),d(""),m(""),a("")},"data-testid":"button-clear-filters",children:"Clear Filters"})]}),n.jsx(Y,{children:n.jsx(J,{className:"p-0",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-[200px]",children:"Code"}),n.jsx(V,{children:"Name"}),n.jsx(V,{children:"Category"}),n.jsx(V,{children:"Type"}),n.jsx(V,{children:"State"}),n.jsx(V,{children:"Visibility"}),n.jsx(V,{className:"text-right",children:"Actions"})]})}),n.jsxs(xt,{children:[b?.length===0&&n.jsx(Pe,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No challenges found. Create your first challenge!"})}),b?.map(P=>{const M=Pge[P.category]||Xr;return n.jsxs(Pe,{"data-testid":`row-challenge-${P.id}`,children:[n.jsx(U,{className:"font-mono text-sm",children:P.code}),n.jsx(U,{className:"font-medium",children:P.name}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(M,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:P.category})]})}),n.jsx(U,{children:n.jsx(W,{variant:"outline",className:"text-xs",children:P.type})}),n.jsx(U,{children:n.jsx(Tge,{state:P.state})}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[P.isVisibleFe?n.jsxs(W,{variant:"secondary",className:"text-xs gap-1",children:[n.jsx(yc,{className:"w-3 h-3"})," Visible"]}):n.jsxs(W,{variant:"outline",className:"text-xs gap-1 text-muted-foreground",children:[n.jsx(Il,{className:"w-3 h-3"})," Hidden"]}),P.isTestOnly&&n.jsx(W,{variant:"outline",className:"text-xs text-amber-500 border-amber-500/30",children:"Test"})]})}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/challenges/${P.id}`),"data-testid":`button-view-${P.id}`,children:n.jsx(yc,{className:"w-4 h-4"})}),P.state!=="deployed"&&P.state!=="deprecated"&&n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>e(`/admin/challenges/${P.id}/edit`),"data-testid":`button-edit-${P.id}`,children:n.jsx(Yi,{className:"w-4 h-4"})}),P.state!=="deprecated"&&n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>g(P),"data-testid":`button-delete-${P.id}`,children:n.jsx(rN,{className:"w-4 h-4 text-destructive"})})]})})]},P.id)})]})]})})}),n.jsx(qi,{open:!!h,onOpenChange:()=>g(null),children:n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Deprecate Challenge"}),n.jsxs(Ks,{children:['Are you sure you want to deprecate "',h?.name,'"? This will hide it from the frontend and mark it as inactive.']})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>g(null),children:"Cancel"}),n.jsx(se,{variant:"destructive",onClick:()=>h&&E.mutate(h.id),disabled:E.isPending,"data-testid":"button-confirm-delete",children:E.isPending?"Deprecating...":"Deprecate"})]})]})}),n.jsx(qi,{open:v,onOpenChange:y,children:n.jsxs(Hs,{className:"max-w-2xl",children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Create New Challenge"}),n.jsx(Ks,{children:"Define a new challenge. It will start in draft state."})]}),n.jsx(Rge,{categories:A||[],onSuccess:()=>{y(!1),Me.invalidateQueries({queryKey:["/api/admin/challenges"]})}})]})})]})}function Rge({categories:e,onSuccess:t}){const{toast:r}=an(),[a,s]=p.useState({code:"",name:"",category:"hero_progression",type:"tiered",descriptionShort:"",metricType:"integer",metricSource:"onchain_heroes",metricKey:""}),l=Oe({mutationFn:async d=>{const f=await fetch("/api/admin/challenges",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(d)});if(!f.ok){const m=await f.json();throw new Error(m.error||"Failed to create challenge")}return f.json()},onSuccess:()=>{r({title:"Challenge created",description:"The challenge has been created in draft state."}),t()},onError:d=>{r({title:"Error",description:d.message,variant:"destructive"})}}),c=d=>{d.preventDefault(),l.mutate(a)};return n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Code (unique key)"}),n.jsx(Qe,{placeholder:"e.g., hero_count_10",value:a.code,onChange:d=>s({...a,code:d.target.value}),required:!0,"data-testid":"input-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),n.jsx(Qe,{placeholder:"e.g., Hero Collector",value:a.name,onChange:d=>s({...a,name:d.target.value}),required:!0,"data-testid":"input-name"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(ct,{value:a.category,onValueChange:d=>s({...a,category:d}),children:[n.jsx(st,{"data-testid":"select-form-category",children:n.jsx(dt,{})}),n.jsx(it,{children:e.map(d=>n.jsx(ye,{value:d.key,children:d.name},d.key))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Challenge Type"}),n.jsxs(ct,{value:a.type,onValueChange:d=>s({...a,type:d}),children:[n.jsx(st,{"data-testid":"select-form-type",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"tiered",children:"Tiered (multi-level)"}),n.jsx(ye,{value:"binary",children:"Binary (yes/no)"}),n.jsx(ye,{value:"milestone",children:"Milestone (one-time)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Short Description"}),n.jsx(Qe,{placeholder:"Brief description for UI display",value:a.descriptionShort,onChange:d=>s({...a,descriptionShort:d.target.value}),"data-testid":"input-description"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),n.jsxs(ct,{value:a.metricType,onValueChange:d=>s({...a,metricType:d}),children:[n.jsx(st,{"data-testid":"select-metric-type",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"integer",children:"Integer"}),n.jsx(ye,{value:"decimal",children:"Decimal"}),n.jsx(ye,{value:"boolean",children:"Boolean"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Source"}),n.jsxs(ct,{value:a.metricSource,onValueChange:d=>s({...a,metricSource:d}),children:[n.jsx(st,{"data-testid":"select-metric-source",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"onchain_heroes",children:"On-chain: Heroes"}),n.jsx(ye,{value:"onchain_quests",children:"On-chain: Quests"}),n.jsx(ye,{value:"onchain_summons",children:"On-chain: Summons"}),n.jsx(ye,{value:"onchain_pets",children:"On-chain: Pets"}),n.jsx(ye,{value:"onchain_meditation",children:"On-chain: Meditation"}),n.jsx(ye,{value:"onchain_gardens",children:"On-chain: Gardens"}),n.jsx(ye,{value:"onchain_portfolio",children:"On-chain: Portfolio"}),n.jsx(ye,{value:"behavior_model",children:"Behavior Model"}),n.jsx(ye,{value:"discord_interactions",children:"Discord Activity"}),n.jsx(ye,{value:"payment_events",children:"Payment Events"}),n.jsx(ye,{value:"event_progress",children:"Event Progress"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Key"}),n.jsx(Qe,{placeholder:"e.g., heroCount",value:a.metricKey,onChange:d=>s({...a,metricKey:d.target.value}),required:!0,"data-testid":"input-metric-key"})]})]}),n.jsx(oo,{children:n.jsx(se,{type:"submit",disabled:l.isPending,"data-testid":"button-submit-create",children:l.isPending?"Creating...":"Create Challenge"})})]})}const Su=p.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Su.displayName="Textarea";function Mge(e){const t=Dge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Ige);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Dge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Fge(s),d=$ge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lge=Symbol("radix.slottable");function Ige(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lge}function $ge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Fge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],LS=zge.reduce((e,t)=>{const r=Mge(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Tg="Checkbox",[Bge]=xr(Tg),[Uge,IS]=Bge(Tg);function Hge(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:l,form:c,name:d,onCheckedChange:f,required:m,value:h="on",internal_do_not_use_render:g}=e,[v,y]=ea({prop:r,defaultProp:s??!1,onChange:f,caller:Tg}),[N,b]=p.useState(null),[w,C]=p.useState(null),A=p.useRef(!1),E=N?!!c||!!N.closest("form"):!0,T={checked:v,disabled:l,setChecked:y,control:N,setControl:b,name:d,form:c,value:h,hasConsumerStoppedPropagationRef:A,required:m,defaultChecked:Ki(s)?!1:s,isFormControl:E,bubbleInput:w,setBubbleInput:C};return n.jsx(Uge,{scope:t,...T,children:Vge(g)?g(T):a})}var EF="CheckboxTrigger",AF=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},s)=>{const{control:l,value:c,disabled:d,checked:f,required:m,setControl:h,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:N}=IS(EF,e),b=tt(s,h),w=p.useRef(f);return p.useEffect(()=>{const C=l?.form;if(C){const A=()=>g(w.current);return C.addEventListener("reset",A),()=>C.removeEventListener("reset",A)}},[l,g]),n.jsx(LS.button,{type:"button",role:"checkbox","aria-checked":Ki(f)?"mixed":f,"aria-required":m,"data-state":_F(f),"data-disabled":d?"":void 0,disabled:d,value:c,...a,ref:b,onKeyDown:ze(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ze(r,C=>{g(A=>Ki(A)?!0:!A),N&&y&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})})});AF.displayName=EF;var $S=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:l,required:c,disabled:d,value:f,onCheckedChange:m,form:h,...g}=e;return n.jsx(Hge,{__scopeCheckbox:r,checked:s,defaultChecked:l,disabled:d,required:c,onCheckedChange:m,name:a,form:h,value:f,internal_do_not_use_render:({isFormControl:v})=>n.jsxs(n.Fragment,{children:[n.jsx(AF,{...g,ref:t,__scopeCheckbox:r}),v&&n.jsx(kF,{__scopeCheckbox:r})]})})});$S.displayName=Tg;var PF="CheckboxIndicator",OF=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,l=IS(PF,r);return n.jsx(na,{present:a||Ki(l.checked)||l.checked===!0,children:n.jsx(LS.span,{"data-state":_F(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});OF.displayName=PF;var TF="CheckboxBubbleInput",kF=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:l,defaultChecked:c,required:d,disabled:f,name:m,value:h,form:g,bubbleInput:v,setBubbleInput:y}=IS(TF,e),N=tt(r,y),b=Ox(l),w=Sx(a);p.useEffect(()=>{const A=v;if(!A)return;const E=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(E,"checked").set,P=!s.current;if(b!==l&&k){const M=new Event("click",{bubbles:P});A.indeterminate=Ki(l),k.call(A,Ki(l)?!1:l),A.dispatchEvent(M)}},[v,b,l,s]);const C=p.useRef(Ki(l)?!1:l);return n.jsx(LS.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??C.current,required:d,disabled:f,name:m,value:h,form:g,...t,tabIndex:-1,ref:N,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kF.displayName=TF;function Vge(e){return typeof e=="function"}function Ki(e){return e==="indeterminate"}function _F(e){return Ki(e)?"indeterminate":e?"checked":"unchecked"}const hx=p.forwardRef(({className:e,...t},r)=>n.jsx($S,{ref:r,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(OF,{className:De("flex items-center justify-center text-current"),children:n.jsx(J4,{className:"h-4 w-4"})})}));hx.displayName=$S.displayName;function qge(e){const t=Kge(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Gge);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function Kge(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Qge(s),d=Yge(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wge=Symbol("radix.slottable");function Gge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wge}function Yge(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Qge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],RF=Xge.reduce((e,t)=>{const r=qge(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Jb="rovingFocusGroup.onEntryFocus",Zge={bubbles:!1,cancelable:!0},Ff="RovingFocusGroup",[Rw,MF,Jge]=tf(Ff),[eve,DF]=xr(Ff,[Jge]),[tve,nve]=eve(Ff),LF=p.forwardRef((e,t)=>n.jsx(Rw.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Rw.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(rve,{...e,ref:t})})}));LF.displayName=Ff;var rve=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...g}=e,v=p.useRef(null),y=tt(t,v),N=Qc(l),[b,w]=ea({prop:c,defaultProp:d??null,onChange:f,caller:Ff}),[C,A]=p.useState(!1),E=An(m),T=MF(r),k=p.useRef(!1),[P,M]=p.useState(0);return p.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(Jb,E),()=>I.removeEventListener(Jb,E)},[E]),n.jsx(tve,{scope:r,orientation:a,dir:N,loop:s,currentTabStopId:b,onItemFocus:p.useCallback(I=>w(I),[w]),onItemShiftTab:p.useCallback(()=>A(!0),[]),onFocusableItemAdd:p.useCallback(()=>M(I=>I+1),[]),onFocusableItemRemove:p.useCallback(()=>M(I=>I-1),[]),children:n.jsx(RF.div,{tabIndex:C||P===0?-1:0,"data-orientation":a,...g,ref:y,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{k.current=!0}),onFocus:ze(e.onFocus,I=>{const Q=!k.current;if(I.target===I.currentTarget&&Q&&!C){const L=new CustomEvent(Jb,Zge);if(I.currentTarget.dispatchEvent(L),!L.defaultPrevented){const _=T().filter(B=>B.focusable),q=_.find(B=>B.active),ve=_.find(B=>B.id===b),ee=[q,ve,..._].filter(Boolean).map(B=>B.ref.current);FF(ee,h)}}k.current=!1}),onBlur:ze(e.onBlur,()=>A(!1))})})}),IF="RovingFocusGroupItem",$F=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:l,children:c,...d}=e,f=$a(),m=l||f,h=nve(IF,r),g=h.currentTabStopId===m,v=MF(r),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:b}=h;return p.useEffect(()=>{if(a)return y(),()=>N()},[a,y,N]),n.jsx(Rw.ItemSlot,{scope:r,id:m,focusable:a,active:s,children:n.jsx(RF.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...d,ref:t,onMouseDown:ze(e.onMouseDown,w=>{a?h.onItemFocus(m):w.preventDefault()}),onFocus:ze(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:ze(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const C=ive(w,h.orientation,h.dir);if(C!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=v().filter(T=>T.focusable).map(T=>T.ref.current);if(C==="last")E.reverse();else if(C==="prev"||C==="next"){C==="prev"&&E.reverse();const T=E.indexOf(w.currentTarget);E=h.loop?lve(E,T+1):E.slice(T+1)}setTimeout(()=>FF(E))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:b!=null}):c})})});$F.displayName=IF;var ave={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sve(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ive(e,t,r){const a=sve(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return ave[a]}function FF(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function lve(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var ove=LF,cve=$F;function dve(e){const t=uve(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(mve);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function uve(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=pve(s),d=hve(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fve=Symbol("radix.slottable");function mve(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fve}function hve(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function pve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kg=xve.reduce((e,t)=>{const r=dve(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),_g="Tabs",[gve]=xr(_g,[DF]),zF=DF(),[vve,FS]=gve(_g),BF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...m}=e,h=Qc(d),[g,v]=ea({prop:a,onChange:s,defaultProp:l??"",caller:_g});return n.jsx(vve,{scope:r,baseId:$a(),value:g,onValueChange:v,orientation:c,dir:h,activationMode:f,children:n.jsx(kg.div,{dir:h,"data-orientation":c,...m,ref:t})})});BF.displayName=_g;var UF="TabsList",HF=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,l=FS(UF,r),c=zF(r);return n.jsx(ove,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:a,children:n.jsx(kg.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:t})})});HF.displayName=UF;var VF="TabsTrigger",qF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...l}=e,c=FS(VF,r),d=zF(r),f=GF(c.baseId,a),m=YF(c.baseId,a),h=a===c.value;return n.jsx(cve,{asChild:!0,...d,focusable:!s,active:h,children:n.jsx(kg.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...l,ref:t,onMouseDown:ze(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?c.onValueChange(a):g.preventDefault()}),onKeyDown:ze(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(a)}),onFocus:ze(e.onFocus,()=>{const g=c.activationMode!=="manual";!h&&!s&&g&&c.onValueChange(a)})})})});qF.displayName=VF;var KF="TabsContent",WF=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:l,...c}=e,d=FS(KF,r),f=GF(d.baseId,a),m=YF(d.baseId,a),h=a===d.value,g=p.useRef(h);return p.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),n.jsx(na,{present:s||h,children:({present:v})=>n.jsx(kg.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:v&&l})})});WF.displayName=KF;function GF(e,t){return`${e}-trigger-${t}`}function YF(e,t){return`${e}-content-${t}`}var yve=BF,QF=HF,XF=qF,ZF=WF;const si=yve,is=p.forwardRef(({className:e,...t},r)=>n.jsx(QF,{ref:r,className:De("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));is.displayName=QF.displayName;const St=p.forwardRef(({className:e,...t},r)=>n.jsx(XF,{ref:r,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=XF.displayName;const Tt=p.forwardRef(({className:e,...t},r)=>n.jsx(ZF,{ref:r,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Tt.displayName=ZF.displayName;function bve({challengeKey:e,canEdit:t,tiers:r,setTiers:a}){const{toast:s}=an(),[l,c]=p.useState("ALL"),[d,f]=p.useState({pct1:.4,pct2:.7,pct3:.9,pct4:.97}),[m,h]=p.useState(null),[g,v]=p.useState(null),[y,N]=p.useState(null),[b,w]=p.useState(!1),[C,A]=p.useState(!1),[E,T]=p.useState(!1),k={COMMON:"text-gray-500",UNCOMMON:"text-green-600",RARE:"text-blue-600",LEGENDARY:"text-orange-600",MYTHIC:"text-purple-600",BASIC:"text-blue-600",ADVANCED:"text-green-600",ELITE:"text-purple-600",EXALTED:"text-amber-600",UNLOCKED:"text-green-600",LOCKED:"text-gray-500"},P={COMMON:"[&>div]:bg-gray-400",UNCOMMON:"[&>div]:bg-green-500",RARE:"[&>div]:bg-blue-500",LEGENDARY:"[&>div]:bg-orange-500",MYTHIC:"[&>div]:bg-purple-500",BASIC:"[&>div]:bg-blue-500",ADVANCED:"[&>div]:bg-green-500",ELITE:"[&>div]:bg-purple-500",EXALTED:"[&>div]:bg-amber-500"},M=async()=>{w(!0);try{const K=await fetch(`/api/admin/challenges/${e}/calibration?cohortKey=${l}`,{credentials:"include"});if(!K.ok){const B=await K.json().catch(()=>({}));throw new Error(B.error||`HTTP ${K.status}`)}const ee=await K.json();ee.cached?(h(ee),ee.targets&&f({pct1:ee.targets.pct1??.4,pct2:ee.targets.pct2??.7,pct3:ee.targets.pct3??.9,pct4:ee.targets.pct4??.97})):(h(null),s({title:"No Cached Stats",description:"Click Refresh to compute calibration stats",variant:"default"}))}catch(K){s({title:"Error Loading Stats",description:K instanceof Error?K.message:"Failed to load calibration stats",variant:"destructive"})}w(!1)},I=async()=>{A(!0);try{const K=await fetch(`/api/admin/challenges/${e}/calibration/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cohortKey:l,targets:d})});if(!K.ok){const B=await K.json().catch(()=>({}));throw new Error(B.error||`HTTP ${K.status}`)}const ee=await K.json();if(ee.success)h({cached:!0,challengeKey:ee.challengeKey,cohortKey:ee.cohortKey,computedAt:new Date().toISOString(),clusterCount:ee.clusterCount,nonzeroCount:ee.nonzeroCount,tierSystem:ee.tierSystem,tierLadder:ee.tierLadder||[],suggestableTiers:ee.suggestableTiers||[],isPrestige:ee.isPrestige||!1,percentiles:ee.percentiles,targets:ee.targets,suggestedByTier:ee.suggestedByTier||{},warnings:ee.warnings||[],zeroInflated:ee.zeroInflated||!1,whaleSkew:ee.whaleSkew||!1,lowSample:ee.lowSample||!1}),s({title:"Stats Refreshed",description:`Computed for ${ee.clusterCount?.toLocaleString()||0} clusters`});else throw new Error(ee.error||"Refresh failed")}catch(K){s({title:"Refresh Failed",description:K instanceof Error?K.message:"Failed to refresh stats",variant:"destructive"})}A(!1)},Q=async(K,ee=!1)=>{T(!0);try{const B=await fetch(`/api/admin/challenges/${e}/calibration/simulate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cohortKey:l,thresholds:K})});if(!B.ok){const $=await B.json().catch(()=>({}));throw new Error($.error||`HTTP ${B.status}`)}const X=await B.json();ee?N(X):v(X)}catch(B){s({title:"Simulation Failed",description:B instanceof Error?B.message:"Failed to simulate",variant:"destructive"})}T(!1)},L=async K=>{try{const ee=await fetch(`/api/admin/challenges/${e}/calibration/apply`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({thresholds:K})});if(!ee.ok){const X=await ee.json().catch(()=>({}));throw new Error(X.error||`HTTP ${ee.status}`)}const B=await ee.json();if(B.success){const X=r.map($=>{const fe=K[$.tierCode];return fe!==void 0?{...$,thresholdValue:Math.round(fe)}:$});a(X),Me.invalidateQueries({queryKey:["/api/admin/challenges"]}),s({title:"Thresholds Applied",description:`Updated ${B.updatedTiers?.length||0} tier thresholds`})}else throw new Error(B.error||"Apply failed")}catch(ee){s({title:"Apply Failed",description:ee instanceof Error?ee.message:"Failed to apply thresholds",variant:"destructive"})}},_=()=>{const K={};for(const ee of r)K[ee.tierCode]=ee.thresholdValue;return K},q=()=>m?.suggestableTiers||[],ve=()=>{f({pct1:.4,pct2:.7,pct3:.9,pct4:.97})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(AP,{className:"w-5 h-5"}),"Calibration & Distribution"]}),n.jsx(Se,{children:"Analyze player distribution and tune tier thresholds"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ct,{value:l,onValueChange:c,children:[n.jsx(st,{className:"w-40","data-testid":"select-cohort",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"ALL",children:"All Players"}),n.jsx(ye,{value:"NONZERO",children:"Non-zero Only"}),n.jsx(ye,{value:"ACTIVE_30D",children:"Active (30 days)"})]})]}),n.jsx(se,{variant:"outline",onClick:M,disabled:b,"data-testid":"button-load-stats",children:b?"Loading...":"Load Stats"}),n.jsxs(se,{onClick:I,disabled:C,"data-testid":"button-refresh-stats",children:[n.jsx(et,{className:`w-4 h-4 mr-2 ${C?"animate-spin":""}`}),C?"Refreshing...":"Refresh"]})]})]})}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[n.jsx(za,{className:"w-4 h-4"}),"Target Percentiles",m?.tierSystem&&n.jsx(W,{variant:"outline",className:"text-xs",children:m.tierSystem})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 2 (p",Math.round(d.pct1*100),")"]}),n.jsx(Qe,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct1,onChange:K=>f({...d,pct1:parseFloat(K.target.value)||0}),"data-testid":"input-target-pct1"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 3 (p",Math.round(d.pct2*100),")"]}),n.jsx(Qe,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct2,onChange:K=>f({...d,pct2:parseFloat(K.target.value)||0}),"data-testid":"input-target-pct2"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 4 (p",Math.round(d.pct3*100),")"]}),n.jsx(Qe,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct3,onChange:K=>f({...d,pct3:parseFloat(K.target.value)||0}),"data-testid":"input-target-pct3"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-xs text-muted-foreground",children:["Tier 5 (p",Math.round(d.pct4*100),")"]}),n.jsx(Qe,{type:"number",step:"0.01",min:"0",max:"1",value:d.pct4,onChange:K=>f({...d,pct4:parseFloat(K.target.value)||0}),"data-testid":"input-target-pct4"})]})]}),n.jsx(se,{variant:"ghost",size:"sm",onClick:ve,className:"mt-2","data-testid":"button-reset-targets",children:"Reset to Defaults"})]}),m&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(Y,{children:n.jsxs(J,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-cluster-count",children:m.clusterCount.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Clusters"})]})}),n.jsx(Y,{children:n.jsxs(J,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-nonzero-count",children:m.nonzeroCount.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Non-zero Progress"})]})}),n.jsx(Y,{children:n.jsxs(J,{className:"pt-4",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-computed-at",children:m.computedAt?new Date(m.computedAt).toLocaleDateString():"N/A"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Computed"})]})})]}),m.warnings.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.zeroInflated&&n.jsxs(W,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",children:[n.jsx(er,{className:"w-3 h-3 mr-1"}),"Zero Inflated"]}),m.whaleSkew&&n.jsxs(W,{variant:"outline",className:"bg-orange-500/10 text-orange-600 border-orange-500/30",children:[n.jsx(tr,{className:"w-3 h-3 mr-1"}),"Whale Skew"]}),m.lowSample&&n.jsxs(W,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/30",children:[n.jsx(er,{className:"w-3 h-3 mr-1"}),"Low Sample"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Percentile Distribution"}),n.jsxs("div",{className:"grid gap-2 grid-cols-4 md:grid-cols-7 text-center text-xs",children:[n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"Min"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.min.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p25"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p25.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p50"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p50.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p75"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p75.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p90"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p90.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"p95"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.p95.toLocaleString()})]}),n.jsxs("div",{className:"p-2 bg-muted rounded",children:[n.jsx("div",{className:"font-medium",children:"Max"}),n.jsx("div",{className:"text-muted-foreground",children:m.percentiles.max.toLocaleString()})]})]})]}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(zs,{className:"w-4 h-4"}),"Suggested Thresholds",n.jsx(W,{variant:"outline",className:"text-xs",children:m.tierSystem})]}),m.isPrestige?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Feat challenges use boolean (unlocked/locked) and don't have threshold suggestions."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`grid gap-4 md:grid-cols-${q().length}`,children:q().map(K=>n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded",children:[n.jsx("div",{className:`text-lg font-bold ${k[K.tierCode]||"text-foreground"}`,"data-testid":`text-suggested-${K.tierCode.toLowerCase()}`,children:Math.round(m.suggestedByTier[K.tierCode]||0).toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:K.displayName||K.tierCode})]},K.tierCode))}),t&&Object.keys(m.suggestedByTier).length>0&&n.jsx(se,{variant:"outline",onClick:()=>L(m.suggestedByTier),"data-testid":"button-apply-suggested",children:"Apply Suggested Thresholds"})]})]})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(AP,{className:"w-5 h-5"}),"Tier Distribution Simulation"]}),n.jsx(Se,{children:"Preview how players would be distributed across tiers"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(se,{variant:"outline",onClick:()=>Q(_()),disabled:E,"data-testid":"button-simulate-current",children:"Simulate Current Thresholds"}),m&&!m.isPrestige&&n.jsx(se,{variant:"outline",onClick:()=>Q(m.suggestedByTier,!0),disabled:E,"data-testid":"button-simulate-suggested",children:"Simulate Suggested Thresholds"})]}),(g||y)&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[g&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium mb-3",children:"Current Thresholds"}),n.jsx("div",{className:"space-y-2",children:Object.entries(g.distribution).map(([K,ee])=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:K==="_BELOW_TIER1"?"text-muted-foreground":k[K]||"text-foreground",children:K==="_BELOW_TIER1"?"Below Tier 1":K}),n.jsxs("span",{children:[ee.count.toLocaleString()," (",ee.pct,"%)"]})]}),n.jsx(Ut,{value:ee.pct,className:`h-2 ${K==="_BELOW_TIER1"?"":P[K]||""}`})]},K))})]}),y&&n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium mb-3",children:"Suggested Thresholds"}),n.jsx("div",{className:"space-y-2",children:Object.entries(y.distribution).map(([K,ee])=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:K==="_BELOW_TIER1"?"text-muted-foreground":k[K]||"text-foreground",children:K==="_BELOW_TIER1"?"Below Tier 1":K}),n.jsxs("span",{children:[ee.count.toLocaleString()," (",ee.pct,"%)"]})]}),n.jsx(Ut,{value:ee.pct,className:`h-2 ${K==="_BELOW_TIER1"?"":P[K]||""}`})]},K))})]})]})]})]})]})}const jve={draft:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",validated:"bg-blue-500/20 text-blue-500 border-blue-500/30",deployed:"bg-green-500/20 text-green-500 border-green-500/30",deprecated:"bg-gray-500/20 text-gray-500 border-gray-500/30"},wve={draft:Yi,validated:eN,deployed:tN,deprecated:dc};function MR({state:e}){const t=jve[e]||"bg-muted text-muted-foreground",r=wve[e]||er;return n.jsxs(W,{variant:"outline",className:`text-xs ${t} gap-1`,children:[n.jsx(r,{className:"w-3 h-3"}),e.toUpperCase()]})}function DR(){const{id:e}=Ju(),[,t]=Va(),{toast:r}=an(),a=window.location.pathname.includes("/edit"),s=e&&/^\d+$/.test(e)?parseInt(e,10):null,l=s!==null&&!isNaN(s),{data:c,isLoading:d,error:f}=Re({queryKey:["/api/admin/challenges",e],queryFn:async()=>{const L=await fetch(`/api/admin/challenges/${e}`,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch challenge");return L.json()},enabled:l}),{data:m}=Re({queryKey:["/api/admin/challenge-categories"],queryFn:async()=>{const L=await fetch("/api/admin/challenge-categories",{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch categories");return L.json()}}),{data:h}=Re({queryKey:["/api/admin/challenges",e,"audit"],queryFn:async()=>{const L=await fetch(`/api/admin/challenges/${e}/audit`,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch audit log");return L.json()},enabled:l}),[g,v]=p.useState({}),[y,N]=p.useState([]),[b,w]=p.useState({});p.useEffect(()=>{c&&(v({name:c.name,category:c.category,type:c.type,descriptionShort:c.descriptionShort,descriptionLong:c.descriptionLong,metricType:c.metricType,metricSource:c.metricSource,metricKey:c.metricKey,metricAggregation:c.metricAggregation,metricFilters:c.metricFilters,tieringMode:c.tieringMode,tierConfig:c.tierConfig,isClusterBased:c.isClusterBased,isTestOnly:c.isTestOnly,isVisibleFe:c.isVisibleFe,sortOrder:c.sortOrder}),N(c.tiers||[]),w(c.validation?.manualChecks||{}))},[c]);const C=Oe({mutationFn:async L=>{const _=await fetch(`/api/admin/challenges/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...L,tiers:y})});if(!_.ok){const q=await _.json();throw new Error(q.error||"Failed to update challenge")}return _.json()},onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/challenges",e]}),r({title:"Challenge updated",description:"Changes saved successfully."})},onError:L=>{r({title:"Error",description:L.message,variant:"destructive"})}}),A=Oe({mutationFn:async()=>{const L=await fetch(`/api/admin/challenges/${e}/validate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({manualChecks:b})});if(!L.ok){const _=await L.json();throw new Error(_.error||"Failed to validate")}return L.json()},onSuccess:L=>{Me.invalidateQueries({queryKey:["/api/admin/challenges",e]}),r({title:"Validation complete",description:L.canPromoteToValidated?"Challenge can be promoted to validated.":"Some checks are failing."})},onError:L=>{r({title:"Error",description:L.message,variant:"destructive"})}}),E=Oe({mutationFn:async L=>{const _=await fetch(`/api/admin/challenges/${e}/state`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({targetState:L})});if(!_.ok){const q=await _.json();throw new Error(q.error||"Failed to transition state")}return _.json()},onSuccess:L=>{Me.invalidateQueries({queryKey:["/api/admin/challenges",e]}),Me.invalidateQueries({queryKey:["/api/admin/challenges"]}),r({title:"State changed",description:`Challenge is now ${L.newState}.`})},onError:L=>{r({title:"Error",description:L.message,variant:"destructive"})}}),T=()=>{C.mutate(g)},k=()=>{N([...y,{tierCode:"",displayName:"",thresholdValue:0,isPrestige:!1,sortOrder:y.length+1}])},P=L=>{N(y.filter((_,q)=>q!==L))},M=(L,_,q)=>{const ve=[...y];ve[L][_]=q,N(ve)};if(!l)return n.jsx("div",{className:"p-6",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Invalid Challenge ID"}),n.jsxs(Se,{children:['The challenge ID "',e,'" is not valid. Please select a challenge from the list or create a new one.']})]}),n.jsx(J,{children:n.jsxs(se,{onClick:()=>t("/admin/challenges"),"data-testid":"button-back-to-list",children:[n.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Back to Challenges"]})})]})});if(d)return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(Te,{className:"h-8 w-64"}),n.jsx(Te,{className:"h-[400px] w-full"})]});if(f||!c)return n.jsx("div",{className:"p-6",children:n.jsx(Y,{className:"border-destructive",children:n.jsxs(ie,{children:[n.jsx(oe,{className:"text-destructive",children:"Error"}),n.jsx(Se,{children:f instanceof Error?f.message:"Challenge not found"})]})})});const I=c.state==="draft"||c.state==="validated",Q=c.validation?.autoChecks||{};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(se,{variant:"ghost",size:"icon",onClick:()=>t("/admin/challenges"),"data-testid":"button-back",children:n.jsx(Wi,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-challenge-name",children:c.name}),n.jsx(MR,{state:c.state})]}),n.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:c.code})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[I&&a&&n.jsxs(se,{onClick:T,disabled:C.isPending,"data-testid":"button-save",children:[n.jsx(bj,{className:"w-4 h-4 mr-2"}),C.isPending?"Saving...":"Save Changes"]}),!a&&I&&n.jsxs(se,{onClick:()=>t(`/admin/challenges/${e}/edit`),"data-testid":"button-edit",children:[n.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]}),n.jsxs(si,{defaultValue:"basic",className:"space-y-6",children:[n.jsxs(is,{children:[n.jsx(St,{value:"basic","data-testid":"tab-basic",children:"Basic Info"}),n.jsx(St,{value:"metric","data-testid":"tab-metric",children:"Metric Definition"}),n.jsx(St,{value:"tiers","data-testid":"tab-tiers",children:"Tiering"}),n.jsx(St,{value:"calibration","data-testid":"tab-calibration",children:"Calibration"}),n.jsx(St,{value:"display","data-testid":"tab-display",children:"Frontend Display"}),n.jsx(St,{value:"validation","data-testid":"tab-validation",children:"Validation"}),n.jsx(St,{value:"deploy","data-testid":"tab-deploy",children:"Deploy Controls"}),n.jsx(St,{value:"audit","data-testid":"tab-audit",children:"Audit Log"})]}),n.jsx(Tt,{value:"basic",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Basic Information"}),n.jsx(Se,{children:"Core challenge identity and categorization"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),n.jsx(Qe,{value:g.name||"",onChange:L=>v({...g,name:L.target.value}),disabled:!I||!a,"data-testid":"input-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(ct,{value:g.category||"",onValueChange:L=>v({...g,category:L}),disabled:!I||!a,children:[n.jsx(st,{"data-testid":"select-category",children:n.jsx(dt,{})}),n.jsx(it,{children:m?.map(L=>n.jsx(ye,{value:L.key,children:L.name},L.key))})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Challenge Type"}),n.jsxs(ct,{value:g.type||"",onValueChange:L=>v({...g,type:L}),disabled:!I||!a,children:[n.jsx(st,{"data-testid":"select-type",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"tiered",children:"Tiered"}),n.jsx(ye,{value:"binary",children:"Binary"}),n.jsx(ye,{value:"milestone",children:"Milestone"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Sort Order"}),n.jsx(Qe,{type:"number",value:g.sortOrder||0,onChange:L=>v({...g,sortOrder:parseInt(L.target.value)}),disabled:!I||!a,"data-testid":"input-sort-order"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Short Description"}),n.jsx(Qe,{value:g.descriptionShort||"",onChange:L=>v({...g,descriptionShort:L.target.value}),disabled:!I||!a,"data-testid":"input-description-short"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Long Description"}),n.jsx(Su,{value:g.descriptionLong||"",onChange:L=>v({...g,descriptionLong:L.target.value}),disabled:!I||!a,rows:4,"data-testid":"input-description-long"})]})]})]})}),n.jsx(Tt,{value:"metric",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Metric Definition"}),n.jsx(Se,{children:"How progress is measured for this challenge"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Type"}),n.jsxs(ct,{value:g.metricType||"",onValueChange:L=>v({...g,metricType:L}),disabled:!I||!a,children:[n.jsx(st,{"data-testid":"select-metric-type",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"integer",children:"Integer"}),n.jsx(ye,{value:"decimal",children:"Decimal"}),n.jsx(ye,{value:"boolean",children:"Boolean"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Source"}),n.jsxs(ct,{value:g.metricSource||"",onValueChange:L=>v({...g,metricSource:L}),disabled:!I||!a,children:[n.jsx(st,{"data-testid":"select-metric-source",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"onchain_heroes",children:"On-chain: Heroes"}),n.jsx(ye,{value:"onchain_quests",children:"On-chain: Quests"}),n.jsx(ye,{value:"onchain_summons",children:"On-chain: Summons"}),n.jsx(ye,{value:"onchain_pets",children:"On-chain: Pets"}),n.jsx(ye,{value:"onchain_meditation",children:"On-chain: Meditation"}),n.jsx(ye,{value:"onchain_gardens",children:"On-chain: Gardens"}),n.jsx(ye,{value:"onchain_portfolio",children:"On-chain: Portfolio"}),n.jsx(ye,{value:"behavior_model",children:"Behavior Model"}),n.jsx(ye,{value:"discord_interactions",children:"Discord Activity"}),n.jsx(ye,{value:"payment_events",children:"Payment Events"}),n.jsx(ye,{value:"event_progress",children:"Event Progress"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Metric Key"}),n.jsx(Qe,{value:g.metricKey||"",onChange:L=>v({...g,metricKey:L.target.value}),disabled:!I||!a,"data-testid":"input-metric-key"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Aggregation"}),n.jsxs(ct,{value:g.metricAggregation||"",onValueChange:L=>v({...g,metricAggregation:L}),disabled:!I||!a,children:[n.jsx(st,{"data-testid":"select-aggregation",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"count",children:"Count"}),n.jsx(ye,{value:"sum",children:"Sum"}),n.jsx(ye,{value:"max",children:"Maximum"}),n.jsx(ye,{value:"min",children:"Minimum"}),n.jsx(ye,{value:"avg",children:"Average"}),n.jsx(ye,{value:"latest",children:"Latest Value"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tiering Mode"}),n.jsxs(ct,{value:g.tieringMode||"",onValueChange:L=>v({...g,tieringMode:L}),disabled:!I||!a,children:[n.jsx(st,{"data-testid":"select-tiering-mode",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"threshold",children:"Threshold-based"}),n.jsx(ye,{value:"percentile",children:"Percentile-based"}),n.jsx(ye,{value:"none",children:"No Tiers"})]})]})]})]}),n.jsx("div",{className:"flex items-center gap-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yr,{checked:g.isClusterBased||!1,onCheckedChange:L=>v({...g,isClusterBased:L}),disabled:!I||!a,"data-testid":"switch-cluster-based"}),n.jsx("label",{className:"text-sm",children:"Cluster-based metrics"})]})})]})]})}),n.jsx(Tt,{value:"tiers",children:n.jsxs(Y,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Tier Thresholds"}),n.jsx(Se,{children:"Define progression tiers and their requirements"})]}),I&&a&&n.jsxs(se,{size:"sm",onClick:k,"data-testid":"button-add-tier",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Add Tier"]})]})}),n.jsx(J,{children:y.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No tiers defined yet."}):n.jsx("div",{className:"space-y-3",children:y.map((L,_)=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-md","data-testid":`tier-row-${_}`,children:[n.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-4",children:[n.jsx(Qe,{placeholder:"Tier Code",value:L.tierCode,onChange:q=>M(_,"tierCode",q.target.value),disabled:!I||!a,"data-testid":`input-tier-code-${_}`}),n.jsx(Qe,{placeholder:"Display Name",value:L.displayName,onChange:q=>M(_,"displayName",q.target.value),disabled:!I||!a,"data-testid":`input-tier-display-${_}`}),n.jsx(Qe,{type:"number",placeholder:"Threshold",value:L.thresholdValue,onChange:q=>M(_,"thresholdValue",parseFloat(q.target.value)),disabled:!I||!a,"data-testid":`input-tier-threshold-${_}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yr,{checked:L.isPrestige,onCheckedChange:q=>M(_,"isPrestige",q),disabled:!I||!a,"data-testid":`switch-tier-top-tier-${_}`}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Top Tier"})]})]}),I&&a&&n.jsx(se,{size:"icon",variant:"ghost",onClick:()=>P(_),"data-testid":`button-remove-tier-${_}`,children:n.jsx(rN,{className:"w-4 h-4 text-destructive"})})]},_))})})]})}),n.jsx(Tt,{value:"calibration",children:n.jsx(bve,{challengeKey:c.code,canEdit:I,tiers:y,setTiers:N})}),n.jsx(Tt,{value:"display",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Frontend Display"}),n.jsx(Se,{children:"Control visibility and presentation"})]}),n.jsx(J,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yr,{checked:g.isVisibleFe||!1,onCheckedChange:L=>v({...g,isVisibleFe:L}),disabled:!I||!a,"data-testid":"switch-visible-fe"}),n.jsx("label",{className:"text-sm",children:"Visible in Frontend"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yr,{checked:g.isTestOnly||!1,onCheckedChange:L=>v({...g,isTestOnly:L}),disabled:!I||!a,"data-testid":"switch-test-only"}),n.jsx("label",{className:"text-sm",children:"Test Only (hidden from production)"})]})]})})]})}),n.jsx(Tt,{value:"validation",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Validation Status"}),n.jsx(Se,{children:"Automated and manual validation checks"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Automated Checks"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[Q.hasMetricSource?n.jsx(Gr,{className:"w-4 h-4 text-green-500"}):n.jsx(Il,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Valid metric source"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Q.fieldValid?n.jsx(Gr,{className:"w-4 h-4 text-green-500"}):n.jsx(Il,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Metric key defined"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Q.hasTierConfig?n.jsx(Gr,{className:"w-4 h-4 text-green-500"}):n.jsx(Il,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Tier configuration valid"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Q.codeUnique?n.jsx(Gr,{className:"w-4 h-4 text-green-500"}):n.jsx(Il,{className:"w-4 h-4 text-destructive"}),n.jsx("span",{className:"text-sm",children:"Unique challenge code"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Manual Checks (for deployment)"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hx,{checked:b.etlOutputVerified||!1,onCheckedChange:L=>w({...b,etlOutputVerified:!!L}),"data-testid":"checkbox-etl-verified"}),n.jsx("label",{className:"text-sm",children:"ETL output verified"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hx,{checked:b.copyApproved||!1,onCheckedChange:L=>w({...b,copyApproved:!!L}),"data-testid":"checkbox-copy-approved"}),n.jsx("label",{className:"text-sm",children:"Copy/description approved"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(se,{onClick:()=>A.mutate(),disabled:A.isPending,"data-testid":"button-run-validation",children:[n.jsx(Pn,{className:"w-4 h-4 mr-2"}),A.isPending?"Running...":"Run Validation"]}),c.validation?.lastRunAt&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last run: ",new Date(c.validation.lastRunAt).toLocaleString()," by ",c.validation.lastRunBy]})]})]})]})}),n.jsx(Tt,{value:"deploy",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Deploy Controls"}),n.jsx(Se,{children:"Manage challenge state lifecycle"})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm font-medium",children:"Current State:"}),n.jsx(MR,{state:c.state})]}),n.jsxs("div",{className:"space-y-4",children:[c.state==="draft"&&n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Promote to Validated"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark this challenge as validated after passing all automated checks."}),n.jsxs(se,{onClick:()=>E.mutate("validated"),disabled:E.isPending||!Q.hasMetricSource||!Q.fieldValid,"data-testid":"button-promote-validated",children:[n.jsx(eN,{className:"w-4 h-4 mr-2"}),"Promote to Validated"]})]}),c.state==="validated"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Deploy to Production"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Make this challenge live. Requires all manual checks to be completed."}),n.jsxs(se,{onClick:()=>E.mutate("deployed"),disabled:E.isPending||!b.etlOutputVerified||!b.copyApproved,"data-testid":"button-deploy",children:[n.jsx(tN,{className:"w-4 h-4 mr-2"}),"Deploy"]})]}),n.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium text-muted-foreground",children:"Rollback to Draft"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return this challenge to draft state for further editing."}),n.jsxs(se,{variant:"outline",onClick:()=>E.mutate("draft"),disabled:E.isPending,"data-testid":"button-rollback-draft",children:[n.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Rollback to Draft"]})]})]}),c.state==="deployed"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border border-amber-500/30 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Hotfix Mode"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return to validated state to make urgent fixes."}),n.jsxs(se,{variant:"outline",onClick:()=>E.mutate("validated"),disabled:E.isPending,"data-testid":"button-hotfix",children:[n.jsx(er,{className:"w-4 h-4 mr-2"}),"Enter Hotfix Mode"]})]}),n.jsxs("div",{className:"p-4 border border-destructive/30 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium text-destructive",children:"Deprecate"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove this challenge from production. This action cannot be undone."}),n.jsxs(se,{variant:"destructive",onClick:()=>E.mutate("deprecated"),disabled:E.isPending,"data-testid":"button-deprecate",children:[n.jsx(dc,{className:"w-4 h-4 mr-2"}),"Deprecate"]})]})]}),c.state==="deprecated"&&n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsx("p",{className:"text-muted-foreground",children:"This challenge has been deprecated and cannot be reactivated."})})]})]})]})}),n.jsx(Tt,{value:"audit",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(dV,{className:"w-5 h-5"}),"Audit Log"]}),n.jsx(Se,{children:"History of changes to this challenge"})]}),n.jsx(J,{children:!h||h.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No audit history yet."}):n.jsx("div",{className:"space-y-3",children:h.map(L=>n.jsx("div",{className:"flex items-center gap-4 p-3 border rounded-md","data-testid":`audit-row-${L.id}`,children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",className:"text-xs",children:L.action}),L.fromState&&L.toState&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[L.fromState,"  ",L.toState]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["by ",L.actor," at ",new Date(L.createdAt).toLocaleString()]})]})},L.id))})})]})})]})]})}const Nve={gardening:Au,mining:oV,fishing:nV,foraging:oM},Mh=[{value:"gardening",label:"Gardening"},{value:"mining",label:"Mining"},{value:"fishing",label:"Fishing"},{value:"foraging",label:"Foraging"}];function JF(e){switch(e){case"OPEN":return n.jsx(W,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/30","data-testid":"badge-state-open",children:"Open"});case"FILLING":return n.jsx(W,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/30","data-testid":"badge-state-filling",children:"Filling"});case"RACING":return n.jsx(W,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/30","data-testid":"badge-state-racing",children:"Racing"});case"FINISHED":return n.jsx(W,{variant:"outline",className:"bg-muted text-muted-foreground","data-testid":"badge-state-finished",children:"Finished"});default:return n.jsx(W,{variant:"secondary",children:e})}}function Sve(e){return new Date(e).toLocaleString()}function Xh({profession:e,className:t}){const r=Nve[e];return n.jsx(r,{className:t||"w-4 h-4"})}function LR({pool:e,isSelected:t,onSelect:r}){return n.jsxs("div",{className:`p-3 border rounded-md cursor-pointer transition-colors ${t?"border-primary bg-primary/5":"hover:bg-accent/50"}`,onClick:r,"data-testid":`pool-item-${e.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xh,{profession:e.profession,className:"w-3 h-3 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:e.heroClassName}),JF(e.state)]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Mr,{className:"w-3 h-3"}),e.currentEntries,"/",e.maxEntries]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:["Level ",e.level,e.isRecurrent&&n.jsx(W,{variant:"secondary",className:"text-[10px] px-1",children:"Recurrent"})]}),n.jsxs("span",{children:["$",e.usdEntryFee," / $",e.usdPrize," (",e.tokenType,")"]})]}),e.state!=="OPEN"&&n.jsx(Ut,{value:e.currentEntries/e.maxEntries*100,className:"h-1 mt-2"})]})}const Cve={gardening:{entryFee:"25.00",prize:"100.00",maxEntries:"2"},mining:{entryFee:"5.00",prize:"40.00",maxEntries:"6"},fishing:{entryFee:"5.00",prize:"40.00",maxEntries:"6"},foraging:{entryFee:"5.00",prize:"40.00",maxEntries:"6"}};function Eve(){const{toast:e}=an(),[t,r]=p.useState(null),[a,s]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState(null),[m,h]=p.useState(""),[g,v]=p.useState("fishing"),[y,N]=p.useState("all"),[b,w]=p.useState("5.00"),[C,A]=p.useState("40.00"),[E,T]=p.useState("JEWEL"),[k,P]=p.useState("6"),[M,I]=p.useState("common"),[Q,L]=p.useState(""),[_,q]=p.useState(!0);p.useEffect(()=>{if(a&&!l){const le=Cve[g];w(le.entryFee),A(le.prize),P(le.maxEntries)}},[g,a,l]);const{data:ve,isLoading:K}=Re({queryKey:["/api/level-racer/classes"]}),{data:ee,isLoading:B,refetch:X}=Re({queryKey:["/api/level-racer/admin/pools"]}),{data:$,isLoading:fe}=Re({queryKey:["/api/level-racer/pools",t],enabled:!!t}),{data:pe}=Re({queryKey:["/api/level-racer/pools",t,"events"],enabled:!!t}),R=Oe({mutationFn:async le=>{const lt=await(await Ie("POST","/api/level-racer/admin/pools",le)).text();return lt?JSON.parse(lt):{}},onSuccess:()=>{e({title:"Pool created successfully"}),Me.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]}),s(!1),h("")},onError:le=>{e({title:"Failed to create pool",description:le.message||"An error occurred",variant:"destructive"})}}),te=Oe({mutationFn:async le=>{const lt=await(await Ie("POST",`/api/level-racer/dev/pools/${le}/simulate-tick`)).text();return lt?JSON.parse(lt):{}},onSuccess:le=>{e({title:"Simulation tick complete",description:le.message}),Me.invalidateQueries({queryKey:["/api/level-racer/pools",t]}),Me.invalidateQueries({queryKey:["/api/level-racer/pools",t,"events"]}),Me.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]})},onError:le=>{e({title:"Simulation failed",description:le.message||"An error occurred",variant:"destructive"})}}),me=Oe({mutationFn:async le=>{const{poolId:Ze,...lt}=le,vr=await(await Ie("PATCH",`/api/level-racer/admin/pools/${Ze}`,lt)).text();return vr?JSON.parse(vr):{}},onSuccess:()=>{e({title:"Pool updated successfully"}),Me.invalidateQueries({queryKey:["/api/level-racer/admin/pools"]}),Me.invalidateQueries({queryKey:["/api/level-racer/pools",d?.id]}),c(!1),f(null)},onError:le=>{e({title:"Failed to update pool",description:le.message||"An error occurred",variant:"destructive"})}}),we=le=>{f(le),w(le.usdEntryFee),A(le.usdPrize),T(le.tokenType),P(le.maxEntries.toString()),I(le.rarityFilter||"common"),L(le.maxMutations!==null?le.maxMutations.toString():""),q(le.isRecurrent),c(!0)},ae=()=>{d&&me.mutate({poolId:d.id,usdEntryFee:b,usdPrize:C,tokenType:E,maxEntries:parseInt(k),rarityFilter:M,maxMutations:Q?parseInt(Q):null,isRecurrent:_})},Le=()=>{if(!m){e({title:"Please select a hero class",variant:"destructive"});return}R.mutate({classSlug:m,profession:g,usdEntryFee:b,usdPrize:C,tokenType:E,maxEntries:parseInt(k),rarityFilter:M,maxMutations:Q?parseInt(Q):null,isRecurrent:_})},F=ee?.pools||[],ne=(ve?.classes||[]).filter(le=>le.isBasic!==!1),Ae=y==="all"?F:F.filter(le=>le.profession===y),$e=Ae.filter(le=>le.state!=="FINISHED"),xe=F.filter(le=>le.state==="RACING"),nt=F.filter(le=>le.state==="OPEN"),Ge=Ae.filter(le=>le.state==="FINISHED"),Lt=Mh.reduce((le,Ze)=>(le[Ze.value]=F.filter(lt=>lt.profession===Ze.value&&lt.state!=="FINISHED"),le),{}),kt=F.reduce((le,Ze)=>le+(Ze.totalFeesCollected||0),0),Z=F.filter(le=>le.prizeAwarded).reduce((le,Ze)=>le+Ze.jewelPrize,0);return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"level-racer-admin",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Or,{className:"w-6 h-6"}),"Level Racer Admin"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage racing pools and track competitions"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{variant:"outline",onClick:()=>X(),"data-testid":"button-refresh-pools",children:[n.jsx(et,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(qi,{open:a,onOpenChange:s,children:[n.jsx(Sge,{asChild:!0,children:n.jsxs(se,{"data-testid":"button-create-pool",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Create Pool"]})}),n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Create New Racing Pool"}),n.jsx(Ks,{children:"Create a new Level Racer pool for a hero class"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"class",children:"Hero Class"}),n.jsxs(ct,{value:m,onValueChange:h,children:[n.jsx(st,{"data-testid":"select-hero-class",children:n.jsx(dt,{placeholder:"Select a class"})}),n.jsx(it,{children:ne.map(le=>n.jsx(ye,{value:le.slug,children:le.displayName},le.slug))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"profession",children:"Quest Profession"}),n.jsxs(ct,{value:g,onValueChange:le=>v(le),children:[n.jsx(st,{"data-testid":"select-profession",children:n.jsx(dt,{})}),n.jsx(it,{children:Mh.map(le=>n.jsx(ye,{value:le.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Xh,{profession:le.value,className:"w-3 h-3"}),le.label]})},le.value))})]})]})]}),n.jsx(Dn,{}),n.jsx("h4",{className:"text-sm font-medium",children:"Pricing (USD-based)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"usdEntryFee",children:"Entry Fee (USD)"}),n.jsx(Qe,{id:"usdEntryFee",type:"text",value:b,onChange:le=>w(le.target.value),placeholder:"5.00","data-testid":"input-usd-entry-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"usdPrize",children:"Prize (USD)"}),n.jsx(Qe,{id:"usdPrize",type:"text",value:C,onChange:le=>A(le.target.value),placeholder:"40.00","data-testid":"input-usd-prize"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"tokenType",children:"Token Type"}),n.jsxs(ct,{value:E,onValueChange:le=>T(le),children:[n.jsx(st,{"data-testid":"select-token-type",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"JEWEL",children:"JEWEL"}),n.jsx(ye,{value:"CRYSTAL",children:"CRYSTAL"}),n.jsx(ye,{value:"USDC",children:"USDC"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"maxEntries",children:"Max Entries"}),n.jsx(Qe,{id:"maxEntries",type:"number",value:k,onChange:le=>P(le.target.value),"data-testid":"input-max-entries"})]}),n.jsx(Dn,{}),n.jsx("h4",{className:"text-sm font-medium",children:"Special Race Filters"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"rarityFilter",children:"Rarity Filter"}),n.jsxs(ct,{value:M,onValueChange:I,children:[n.jsx(st,{"data-testid":"select-rarity-filter",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"common",children:"Common Only"}),n.jsx(ye,{value:"uncommon",children:"Up to Uncommon"}),n.jsx(ye,{value:"rare",children:"Up to Rare"}),n.jsx(ye,{value:"legendary",children:"Up to Legendary"}),n.jsx(ye,{value:"mythic",children:"All Rarities"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"maxMutations",children:"Max Mutations (empty = no limit)"}),n.jsx(Qe,{id:"maxMutations",type:"number",value:Q,onChange:le=>L(le.target.value),placeholder:"No limit","data-testid":"input-max-mutations"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(_e,{htmlFor:"isRecurrent",children:"Recurrent Pool"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-create new pool when this one fills"})]}),n.jsx(Yr,{id:"isRecurrent",checked:_,onCheckedChange:q,"data-testid":"switch-recurrent"})]})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(se,{onClick:Le,disabled:R.isPending,"data-testid":"button-confirm-create",children:[R.isPending&&n.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Pool"]})]})]})]}),n.jsx(qi,{open:l,onOpenChange:c,children:n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Edit Pool Settings"}),n.jsxs(Ks,{children:["Edit settings for ",d?.heroClassName," (",d?.profession,") pool"]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"edit-entry-fee",children:"Entry Fee (USD)"}),n.jsx(Qe,{id:"edit-entry-fee",type:"number",step:"0.01",value:b,onChange:le=>w(le.target.value),"data-testid":"input-edit-entry-fee"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"edit-prize",children:"Prize (USD)"}),n.jsx(Qe,{id:"edit-prize",type:"number",step:"0.01",value:C,onChange:le=>A(le.target.value),"data-testid":"input-edit-prize"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"edit-token",children:"Payment Token"}),n.jsxs(ct,{value:E,onValueChange:le=>T(le),children:[n.jsx(st,{"data-testid":"select-edit-token",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"JEWEL",children:"JEWEL"}),n.jsx(ye,{value:"CRYSTAL",children:"CRYSTAL"}),n.jsx(ye,{value:"USDC",children:"USDC"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"edit-max-entries",children:"Max Entries"}),n.jsx(Qe,{id:"edit-max-entries",type:"number",value:k,onChange:le=>P(le.target.value),"data-testid":"input-edit-max-entries"})]})]}),n.jsx(Dn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"edit-rarity",children:"Max Rarity Allowed"}),n.jsxs(ct,{value:M,onValueChange:I,children:[n.jsx(st,{"data-testid":"select-edit-rarity",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"common",children:"Common"}),n.jsx(ye,{value:"uncommon",children:"Uncommon"}),n.jsx(ye,{value:"rare",children:"Rare"}),n.jsx(ye,{value:"legendary",children:"Legendary"}),n.jsx(ye,{value:"mythic",children:"Mythic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"edit-mutations",children:"Max Mutations (empty = no limit)"}),n.jsx(Qe,{id:"edit-mutations",type:"number",placeholder:"No limit",value:Q,onChange:le=>L(le.target.value),"data-testid":"input-edit-mutations"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Yr,{id:"edit-recurrent",checked:_,onCheckedChange:q,"data-testid":"switch-edit-recurrent"}),n.jsx(_e,{htmlFor:"edit-recurrent",children:"Recurrent (auto-restart when finished)"})]})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsxs(se,{onClick:ae,disabled:me.isPending,"data-testid":"button-confirm-edit",children:[me.isPending&&n.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Racing"}),n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-racing-pools",children:xe.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[nt.length," open for registration"]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Pools"}),n.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-pools",children:F.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ge.length," finished"]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Fees Collected"}),n.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-fees-collected",children:kt}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL total"})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Prizes Awarded"}),n.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-prizes-awarded",children:Z}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JEWEL total"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs(Y,{className:"col-span-1",children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Racing Pools"}),n.jsx(Se,{children:"Organized by quest profession"})]}),n.jsxs(ct,{value:y,onValueChange:le=>N(le),children:[n.jsx(st,{className:"w-[160px]","data-testid":"select-profession-filter",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"all",children:"All Professions"}),Mh.map(le=>n.jsx(ye,{value:le.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Xh,{profession:le.value,className:"w-3 h-3"}),le.label]})},le.value))]})]})]})}),n.jsx(J,{children:B?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(le=>n.jsx(Te,{className:"h-16 w-full"},le))}):Ae.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Or,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No pools found"}),n.jsx("p",{className:"text-sm",children:"Try a different filter or create a pool"})]}):n.jsx(Hi,{className:"h-[600px]",children:n.jsx("div",{className:"space-y-4",children:y==="all"?Mh.map(le=>{const Ze=Lt[le.value];return Ze.length===0?null:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-medium text-muted-foreground",children:[n.jsx(Xh,{profession:le.value,className:"w-4 h-4"}),n.jsx("span",{children:le.label}),n.jsx(W,{variant:"secondary",className:"text-[10px]",children:Ze.length})]}),n.jsx("div",{className:"space-y-2",children:Ze.map(lt=>n.jsx(LR,{pool:lt,isSelected:t===lt.id,onSelect:()=>r(lt.id)},lt.id))})]},le.value)}):n.jsx("div",{className:"space-y-2",children:$e.map(le=>n.jsx(LR,{pool:le,isSelected:t===le.id,onSelect:()=>r(le.id)},le.id))})})})})]}),n.jsxs(Y,{className:"col-span-1",children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Pool Details"}),n.jsx(Se,{children:t?`Pool #${t}`:"Select a pool to view details"})]}),n.jsxs("div",{className:"flex gap-2",children:[t&&$?.state==="OPEN"&&n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>{const le=F.find(Ze=>Ze.id===t);le&&we(le)},"data-testid":"button-edit-pool",children:[n.jsx(LV,{className:"w-4 h-4 mr-2"}),"Edit"]}),t&&$?.state==="RACING"&&n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>te.mutate(t),disabled:te.isPending,"data-testid":"button-simulate-tick",children:[te.isPending?n.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Simulate Tick"]})]})]})}),n.jsx(J,{children:t?fe?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(le=>n.jsx(Te,{className:"h-12 w-full"},le))}):$?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.heroClassName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"State:"}),n.jsx("span",{className:"ml-2",children:JF($.state)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Entry Fee:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.usdEntryFee]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prize:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.usdPrize]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Token:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.tokenType})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Fees Collected:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["$",$.totalFeesCollectedUsd]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Rarity:"}),n.jsx("span",{className:"ml-2 font-medium capitalize",children:$.rarityFilter})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Max Mutations:"}),n.jsx("span",{className:"ml-2 font-medium",children:$.maxMutations??"No limit"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Recurrent:"}),n.jsx("span",{className:"ml-2",children:$.isRecurrent?n.jsx(PP,{className:"w-4 h-4 inline text-green-500"}):n.jsx(Il,{className:"w-4 h-4 inline text-muted-foreground"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prize Awarded:"}),n.jsx("span",{className:"ml-2",children:$.prizeAwarded?n.jsx(PP,{className:"w-4 h-4 inline text-green-500"}):n.jsx(Il,{className:"w-4 h-4 inline text-muted-foreground"})})]})]}),n.jsx(Dn,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(Mr,{className:"w-4 h-4"}),"Entries (",$.entries.length,"/",$.maxEntries,")"]}),$.entries.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No entries yet"}):n.jsx(Hi,{className:"h-[150px]",children:n.jsx("div",{className:"space-y-2",children:$.entries.map(le=>n.jsxs("div",{className:`p-2 border rounded-md text-sm ${le.isWinner?"border-yellow-500 bg-yellow-500/10":""}`,"data-testid":`entry-item-${le.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-mono text-xs",children:["Hero #",le.heroId]}),le.isWinner&&n.jsx(W,{className:"bg-yellow-500 text-black",children:"Winner"})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["XP: ",le.heroCurrentXp]}),n.jsx("span",{children:le.heroReadyToLevel?"Ready to level":"Training..."})]})]},le.id))})})]}),n.jsx(Dn,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(Vc,{className:"w-4 h-4"}),"Recent Events"]}),n.jsx(Hi,{className:"h-[150px]",children:pe?.events&&pe.events.length>0?n.jsx("div",{className:"space-y-2",children:pe.events.slice(-10).reverse().map(le=>n.jsxs("div",{className:"text-sm border-l-2 border-muted pl-2",children:[n.jsxs("p",{className:"text-muted-foreground text-xs",children:[le.eventType," - ",Sve(le.createdAt)]}),n.jsx("p",{className:"italic",children:le.commentary})]},le.id))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No events yet"})})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"Pool not found"}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yc,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Select a pool from the list"})]})})]})]})]})}function Ave(){const{data:e,isLoading:t,refetch:r}=Re({queryKey:["/api/admin/tokens"]}),a=Oe({mutationFn:async c=>await Ie("/api/admin/tokens/sync",{method:"POST",body:JSON.stringify({fullSync:c})}),onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/tokens"]})}}),s=c=>`${c.slice(0,6)}...${c.slice(-4)}`,l=c=>new Date(c).toLocaleString();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Token Registry"}),n.jsx("p",{className:"text-muted-foreground",children:"DFK Chain token metadata from RouteScan"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{variant:"outline",onClick:()=>r(),disabled:t,"data-testid":"button-refresh",children:[n.jsx(et,{className:`mr-2 h-4 w-4 ${t?"animate-spin":""}`}),"Refresh"]}),n.jsxs(se,{onClick:()=>a.mutate(!1),disabled:a.isPending,"data-testid":"button-sync-known",children:[a.isPending?n.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Na,{className:"mr-2 h-4 w-4"}),"Sync Known Tokens"]}),n.jsxs(se,{variant:"secondary",onClick:()=>a.mutate(!0),disabled:a.isPending,"data-testid":"button-sync-full",children:[a.isPending?n.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Full RouteScan Sync"]})]})]}),a.isSuccess&&n.jsx(Y,{className:"border-green-500/50 bg-green-500/10",children:n.jsx(J,{className:"pt-4",children:n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400","data-testid":"text-sync-result",children:["Sync complete: ",a.data.added," added, ",a.data.updated," updated, ",a.data.errors," errors"]})})}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Tr,{className:"h-5 w-5"}),"Registered Tokens"]}),n.jsxs(Se,{children:[e?.count||0," tokens in registry"]})]}),n.jsx(J,{children:t?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(et,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Symbol"}),n.jsx(V,{children:"Name"}),n.jsx(V,{children:"Address"}),n.jsx(V,{className:"text-center",children:"Decimals"}),n.jsx(V,{className:"text-center",children:"Holders"}),n.jsx(V,{children:"Chain"}),n.jsx(V,{children:"Last Updated"})]})}),n.jsxs(xt,{children:[e?.tokens.map(c=>n.jsxs(Pe,{"data-testid":`row-token-${c.id}`,children:[n.jsx(U,{children:n.jsx(W,{variant:"secondary","data-testid":`badge-symbol-${c.id}`,children:c.symbol})}),n.jsx(U,{className:"font-medium","data-testid":`text-name-${c.id}`,children:c.name}),n.jsx(U,{children:n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded","data-testid":`text-address-${c.id}`,children:s(c.address)})}),n.jsx(U,{className:"text-center","data-testid":`text-decimals-${c.id}`,children:c.decimals}),n.jsx(U,{className:"text-center","data-testid":`text-holders-${c.id}`,children:c.holders?c.holders.toLocaleString():"-"}),n.jsx(U,{children:n.jsx(W,{variant:"outline","data-testid":`badge-chain-${c.id}`,children:c.chain.toUpperCase()})}),n.jsx(U,{className:"text-muted-foreground text-sm","data-testid":`text-updated-${c.id}`,children:l(c.lastUpdatedAt)})]},c.id)),(!e?.tokens||e.tokens.length===0)&&n.jsx(Pe,{children:n.jsx(U,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:'No tokens registered. Click "Sync Known Tokens" to populate.'})})]})]})})]})]})}const Pve={light:"",dark:".dark"},ez=p.createContext(null);function tz(){const e=p.useContext(ez);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Mw=p.forwardRef(({id:e,className:t,children:r,config:a,...s},l)=>{const c=p.useId(),d=`chart-${e||c.replace(/:/g,"")}`;return n.jsx(ez.Provider,{value:{config:a},children:n.jsxs("div",{"data-chart":d,ref:l,className:De("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...s,children:[n.jsx(Ove,{id:d,config:a}),n.jsx($u,{children:r})]})})});Mw.displayName="Chart";const Ove=({id:e,config:t})=>{const r=Object.entries(t).filter(([,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Pve).map(([a,s])=>`
${s} [data-chart=${e}] {
${r.map(([l,c])=>{const d=c.theme?.[a]||c.color;return d?`  --color-${l}: ${d};`:null}).join(`
`)}
}
`).join(`
`)}}):null},IR=jg,Dw=p.forwardRef(({active:e,payload:t,className:r,indicator:a="dot",hideLabel:s=!1,hideIndicator:l=!1,label:c,labelFormatter:d,labelClassName:f,formatter:m,color:h,nameKey:g,labelKey:v},y)=>{const{config:N}=tz(),b=p.useMemo(()=>{if(s||!t?.length)return null;const[C]=t,A=`${v||C?.dataKey||C?.name||"value"}`,E=Lw(N,C,A),T=!v&&typeof c=="string"?N[c]?.label||c:E?.label;return d?n.jsx("div",{className:De("font-medium",f),children:d(T,t)}):T?n.jsx("div",{className:De("font-medium",f),children:T}):null},[c,d,t,s,f,N,v]);if(!e||!t?.length)return null;const w=t.length===1&&a!=="dot";return n.jsxs("div",{ref:y,className:De("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[w?null:b,n.jsx("div",{className:"grid gap-1.5",children:t.map((C,A)=>{const E=`${g||C.name||C.dataKey||"value"}`,T=Lw(N,C,E),k=h||C.payload.fill||C.color;return n.jsx("div",{className:De("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:m&&C?.value!==void 0&&C.name?m(C.value,C.name,C,A,C.payload):n.jsxs(n.Fragment,{children:[T?.icon?n.jsx(T.icon,{}):!l&&n.jsx("div",{className:De("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":w&&a==="dashed"}),style:{"--color-bg":k,"--color-border":k}}),n.jsxs("div",{className:De("flex flex-1 justify-between leading-none",w?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[w?b:null,n.jsx("span",{className:"text-muted-foreground",children:T?.label||C.name})]}),C.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:C.value.toLocaleString()})]})]})},C.dataKey)})})]})});Dw.displayName="ChartTooltip";const Tve=p.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:a="bottom",nameKey:s},l)=>{const{config:c}=tz();return r?.length?n.jsx("div",{ref:l,className:De("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:r.map(d=>{const f=`${s||d.dataKey||"value"}`,m=Lw(c,d,f);return n.jsxs("div",{className:De("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[m?.icon&&!t?n.jsx(m.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:d.color}}),m?.label]},d.value)})}):null});Tve.displayName="ChartLegend";function Lw(e,t,r){if(typeof t!="object"||t===null)return;const a="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let s=r;return r in t&&typeof t[r]=="string"?s=t[r]:a&&r in a&&typeof a[r]=="string"&&(s=a[r]),s in e?e[s]:e[r]}const kve=[{value:"1w",label:"1W"},{value:"1m",label:"1M"},{value:"3m",label:"3M"},{value:"1y",label:"1Y"},{value:"2y",label:"2Y"},{value:"all",label:"All"}],$R={bridgedIn:{label:"Bridged In",color:"hsl(var(--chart-1))"},bridgedOut:{label:"Bridged Out",color:"hsl(var(--chart-2))"},netFlow:{label:"Net Flow",color:"hsl(var(--chart-3))"},extracted:{label:"Extracted",color:"hsl(var(--chart-4))"},value:{label:"Value",color:"hsl(var(--chart-1))"}};function _ve(){const[e,t]=p.useState("all"),{data:r,isLoading:a}=Re({queryKey:["/api/admin/bridge/overview"]}),{data:s,isLoading:l}=Re({queryKey:["/api/admin/bridge/extractors",e],queryFn:async()=>{const E=await fetch(`/api/admin/bridge/extractors?timeRange=${e}&limit=1000`);if(!E.ok)throw new Error("Failed to fetch extractors");return E.json()}}),c=r&&!("error"in r)?r:null,d=Array.isArray(s)?s:[],f=E=>{const T=typeof E=="string"?parseFloat(E):E;return T>=1e9?`$${(T/1e9).toFixed(2)}B`:T>=1e6?`$${(T/1e6).toFixed(2)}M`:T>=1e3?`$${(T/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T)},m=E=>{const T=typeof E=="string"?parseFloat(E):E;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(T)},h=E=>new Date(E).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=E=>`${E.slice(0,6)}...${E.slice(-4)}`,v=c?.events?.totalUsdIn||0,y=c?.events?.totalUsdOut||0,N=v-y,b=c?.metrics?.extractorCount||0,w=c?.metrics?.totalExtracted||0,C=[{name:"Bridged In",value:v,fill:"hsl(var(--chart-1))"},{name:"Bridged Out",value:y,fill:"hsl(var(--chart-2))"}],A=d.slice(0,10).map((E,T)=>({name:g(E.wallet),extracted:parseFloat(E.netExtractedUsd),fill:`hsl(var(--chart-${T%5+1}))`}));return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"extractors-analysis",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Extractor Analysis"}),n.jsx("p",{className:"text-muted-foreground",children:"Analyze bridge flow delta and identify value extractors"})]}),a?n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(E=>n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(Te,{className:"h-4 w-24"})}),n.jsx(J,{children:n.jsx(Te,{className:"h-8 w-32"})})]},E))}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Y,{"data-testid":"card-bridged-in",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Bridged In"}),n.jsx(sp,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-bridged-in",children:f(v)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.events?.in?.toLocaleString()||0," events"]})]})]}),n.jsxs(Y,{"data-testid":"card-bridged-out",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Bridged Out"}),n.jsx(ip,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-bridged-out",children:f(y)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.events?.out?.toLocaleString()||0," events"]})]})]}),n.jsxs(Y,{"data-testid":"card-net-flow",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Net Flow (Delta)"}),N>=0?n.jsx(tr,{className:"h-4 w-4 text-green-500"}):n.jsx(Ou,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(J,{children:[n.jsxs("div",{className:`text-2xl font-bold ${N>=0?"text-green-600":"text-red-600"}`,"data-testid":"text-net-flow",children:[N>=0?"+":"",f(N)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:N>=0?"Net inflow to DFK":"Net outflow from DFK"})]})]}),n.jsxs(Y,{"data-testid":"card-extractors",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Extractors Identified"}),n.jsx($l,{className:"h-4 w-4 text-amber-500"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-extractor-count",children:b.toLocaleString()}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(w)," total extracted"]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Bridge Flow Breakdown"}),n.jsx(Se,{children:"Total USD value bridged in vs out"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"h-[300px]",children:n.jsx(Mw,{config:$R,className:"h-full w-full",children:n.jsxs(Pg,{children:[n.jsx(Lf,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",nameKey:"name",label:({name:E,value:T})=>`${E}: ${f(T)}`,labelLine:!0,children:C.map((E,T)=>n.jsx(ri,{fill:E.fill},`cell-${T}`))}),n.jsx(IR,{content:n.jsx(Dw,{formatter:E=>m(E)})}),n.jsx(yf,{})]})})}),n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),n.jsxs("span",{className:"text-lg font-bold",children:[v>0?(N/v*100).toFixed(1):0,"%"]})]}),n.jsx(Ut,{value:v>0?Math.max(0,N/v*100):0,className:"mt-2 h-2"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Percentage of bridged-in value retained in DFK"})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Top 10 Extractors"}),n.jsx(Se,{children:"Wallets with highest net extraction"})]}),n.jsx(J,{children:n.jsx("div",{className:"h-[300px]",children:A.length>0?n.jsx(Mw,{config:$R,className:"h-full w-full",children:n.jsxs(Uxe,{data:A,layout:"vertical",margin:{left:80,right:20,top:10,bottom:10},children:[n.jsx(NS,{type:"number",tickFormatter:E=>f(E)}),n.jsx(SS,{type:"category",dataKey:"name",width:75,tick:{fontSize:11}}),n.jsx(IR,{content:n.jsx(Dw,{formatter:E=>m(E)})}),n.jsx(w6,{dataKey:"extracted",radius:4,children:A.map((E,T)=>n.jsx(ri,{fill:E.fill},`cell-${T}`))})]})}):n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No extractor data available"})})})]})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),"All Extractors"]}),n.jsx(Se,{children:"Wallets that have extracted more value than they brought in (net extracted > $100)"})]}),n.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg","data-testid":"time-range-filter",children:kve.map(E=>n.jsx(se,{variant:e===E.value?"default":"ghost",size:"sm",onClick:()=>t(E.value),className:"h-7 px-3 text-xs font-medium","data-testid":`button-time-${E.value}`,children:E.label},E.value))})]})}),n.jsx(J,{children:l?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(E=>n.jsx(Te,{className:"h-12 w-full"},E))}):d.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No extractors identified yet. Run the bridge indexer and metrics refresh."}):n.jsx(Hi,{className:"h-[500px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-2 text-xs font-medium text-muted-foreground bg-muted/50 rounded-md",children:[n.jsx("div",{children:"Wallet"}),n.jsx("div",{children:"Summoner"}),n.jsx("div",{className:"text-right",children:"Bridged In"}),n.jsx("div",{className:"text-right",children:"Bridged Out"}),n.jsx("div",{className:"text-right",children:"Net Extracted"}),n.jsx("div",{className:"text-right",children:"Last Bridge Amt"}),n.jsx("div",{className:"text-center",children:"Flags"}),n.jsx("div",{className:"text-right",children:"Last Bridge"})]}),n.jsx(Dn,{}),d.map(E=>{const T=parseFloat(E.netExtractedUsd),k=E.extractorFlags?.includes("heavy_extractor"),P=E.extractorFlags?.includes("net_extractor");return n.jsxs("div",{className:"grid grid-cols-8 gap-2 px-3 py-3 text-sm items-center hover-elevate rounded-md","data-testid":`row-extractor-${E.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qc,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${E.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline flex items-center gap-1","data-testid":`link-wallet-${E.id}`,children:[g(E.wallet),n.jsx(mr,{className:"h-3 w-3"})]})]}),n.jsx("div",{className:"text-xs text-primary font-medium truncate","data-testid":`text-summoner-${E.id}`,children:E.summonerName||"*"}),n.jsx("div",{className:"text-right text-green-600 font-medium",children:f(E.totalBridgedInUsd)}),n.jsx("div",{className:"text-right text-red-600 font-medium",children:f(E.totalBridgedOutUsd)}),n.jsx("div",{className:`text-right font-bold ${T>0?"text-amber-600":"text-foreground"}`,children:f(T)}),n.jsx("div",{className:"text-right text-muted-foreground",children:E.lastBridgeAmountUsd?f(E.lastBridgeAmountUsd):"-"}),n.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[k&&n.jsx(W,{variant:"destructive",className:"text-xs",children:"Heavy"}),P&&!k&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Net"}),!k&&!P&&n.jsx(W,{variant:"outline",className:"text-xs",children:"-"})]}),n.jsx("div",{className:"text-right text-muted-foreground text-xs",children:E.lastBridgeAt?h(E.lastBridgeAt):"-"})]},E.id)})]})})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Flow Statistics"}),n.jsx(Se,{children:"Detailed breakdown of bridge activity"})]}),n.jsx(J,{children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Gi,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Value Bridged In"})]}),n.jsx("p",{className:"text-2xl font-bold",children:m(v)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Across ",c?.events?.in?.toLocaleString()||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Gi,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Value Bridged Out"})]}),n.jsx("p",{className:"text-2xl font-bold",children:m(y)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Across ",c?.events?.out?.toLocaleString()||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[N>=0?n.jsx(tr,{className:"h-5 w-5 text-green-500"}):n.jsx(Ou,{className:"h-5 w-5 text-red-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Net Flow (Delta)"})]}),n.jsxs("p",{className:`text-2xl font-bold ${N>=0?"text-green-600":"text-red-600"}`,children:[N>=0?"+":"",m(N)]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:N>=0?"Value retained in ecosystem":"Value extracted from ecosystem"})]})]})})]})]})}function Rve(){const[,e]=Va(),{data:t,isLoading:r,refetch:a}=Re({queryKey:["/api/admin/pools"],refetchInterval:3e4}),s=d=>d==null||isNaN(d)?"$0.00":d>=1e6?`$${(d/1e6).toFixed(2)}M`:d>=1e3?`$${(d/1e3).toFixed(2)}K`:`$${d.toFixed(2)}`,l=d=>d==null||isNaN(d)?"0.00%":`${(d*100).toFixed(2)}%`,c=d=>{e(`/admin/pools/${d}`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Garden Pools"}),n.jsx("p",{className:"text-muted-foreground",children:"LP pools with APR breakdowns and gardener analytics"})]}),n.jsxs(se,{variant:"outline",onClick:()=>a(),disabled:r,"data-testid":"button-refresh",children:[n.jsx(et,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Eu,{className:"h-5 w-5"}),"Active Pools"]}),n.jsxs(Se,{children:[t?.count||0," pools with staked liquidity"]})]}),n.jsx(J,{children:r?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(et,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"PID"}),n.jsx(V,{children:"Pair"}),n.jsx(V,{className:"text-right",children:"V1 TVL"}),n.jsx(V,{className:"text-right",children:"V2 TVL"}),n.jsx(V,{className:"text-right",children:"Total TVL"}),n.jsx(V,{className:"text-right",children:"Passive APR"}),n.jsx(V,{className:"text-right",children:"Active APR"}),n.jsx(V,{className:"text-right",children:"Total APR"}),n.jsx(V,{className:"w-10"})]})}),n.jsxs(xt,{children:[t?.pools.map(d=>n.jsxs(Pe,{className:"cursor-pointer hover-elevate",onClick:()=>c(d.pid),"data-testid":`row-pool-${d.pid}`,children:[n.jsx(U,{children:n.jsx(W,{variant:"outline","data-testid":`badge-pid-${d.pid}`,children:d.pid})}),n.jsx(U,{children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium","data-testid":`text-pair-${d.pid}`,children:d.pairName})})}),n.jsx(U,{className:"text-right","data-testid":`text-v1-tvl-${d.pid}`,children:d.v1TVL>0?n.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:s(d.v1TVL)}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right","data-testid":`text-v2-tvl-${d.pid}`,children:d.v2TVL>0?n.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:s(d.v2TVL)}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-tvl-${d.pid}`,children:s(d.tvl)}),n.jsx(U,{className:"text-right","data-testid":`text-passive-apr-${d.pid}`,children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(tr,{className:"h-3 w-3 text-muted-foreground"}),l(d.passiveAPR)]})}),n.jsx(U,{className:"text-right","data-testid":`text-active-apr-${d.pid}`,children:d.activeAPRMin===d.activeAPRMax?l(d.activeAPRMin):n.jsxs("span",{className:"text-muted-foreground",children:[l(d.activeAPRMin)," - ",l(d.activeAPRMax)]})}),n.jsx(U,{className:"text-right","data-testid":`text-total-apr-${d.pid}`,children:n.jsx(W,{variant:"secondary",children:d.totalAPRMin===d.totalAPRMax?l(d.totalAPRMin):`${l(d.totalAPRMin)} - ${l(d.totalAPRMax)}`})}),n.jsx(U,{children:n.jsx(af,{className:"h-4 w-4 text-muted-foreground"})})]},d.pid)),(!t?.pools||t.pools.length===0)&&n.jsx(Pe,{children:n.jsx(U,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No pools found. Check that pool analytics cache is populated."})})]})]})})]})]})}function Mve(){const{pid:e}=Ju(),[,t]=Va(),{toast:r}=an(),[a,s]=p.useState(4),[l,c]=p.useState("300000"),{data:d,isLoading:f,refetch:m}=Re({queryKey:["/api/admin/pools",e],enabled:!!e}),{data:h,isLoading:g,refetch:v,isFetching:y}=Re({queryKey:["/api/admin/pools",e,"all-stakers"],enabled:!!e}),{data:N,refetch:b}=Re({queryKey:["/api/admin/pool-indexer/status"],refetchInterval:2e3}),w=N?.unifiedIndexers?.find(R=>R.pid===Number(e)),C=w?.live?{isRunning:w.live.isRunning,currentBlock:w.live.currentBlock,targetBlock:w.live.targetBlock,totalEventsFound:(w.live.stakersFound||0)+(w.live.swapsFound||0)+(w.live.rewardsFound||0),totalStakersFound:w.live.stakersFound||0,batchesCompleted:0,startedAt:null,lastBatchAt:null,lastBatchEventsFound:0,percentComplete:w.live.percentComplete}:null,A=w?{pid:w.pid,lastBlock:w.lastIndexedBlock,stakersFound:w.live?.stakersFound||0,lastUpdated:w.updatedAt,isComplete:w.status==="complete"}:void 0,E=!!w?.autoRun,T=Oe({mutationFn:async()=>{const te=await(await Ie("POST","/api/admin/pool-indexer/unified/auto-run",{pid:Number(e),action:"start",intervalMs:parseInt(l)})).text();return te?JSON.parse(te):{success:!0}},onSuccess:()=>{r({title:"Auto-Run Started",description:`Unified indexer will run automatically every ${parseInt(l)/6e4} minutes.`}),b()},onError:R=>{r({title:"Error Starting Auto-Run",description:R.message,variant:"destructive"})}}),k=Oe({mutationFn:async()=>{const te=await(await Ie("POST","/api/admin/pool-indexer/unified/auto-run",{pid:Number(e),action:"stop"})).text();return te?JSON.parse(te):{success:!0}},onSuccess:R=>{r({title:"Auto-Run Stopped",description:`Completed ${R.result?.runsCompleted||0} runs before stopping.`}),b()},onError:R=>{r({title:"Error Stopping Auto-Run",description:R.message,variant:"destructive"})}}),P=R=>{R?T.mutate():k.mutate()},M=Oe({mutationFn:async()=>{const te=await(await Ie("POST","/api/admin/pool-indexer/unified/trigger",{pid:Number(e)})).text();return te?JSON.parse(te):{success:!0}},onSuccess:R=>{const te=R;r({title:"Unified Batch Complete",description:`Found ${te.result?.stakersUpdated||0} stakers, ${te.result?.swapsSaved||0} swaps, ${te.result?.rewardsSaved||0} rewards.`}),b(),v()},onError:R=>{r({title:"Indexer Error",description:R.message,variant:"destructive"})}}),I=Oe({mutationFn:async()=>(r({title:"Names Update",description:"Summoner name updates happen automatically during indexing."}),{success:!0}),onSuccess:()=>{v()},onError:R=>{r({title:"Update Error",description:R.message,variant:"destructive"})}}),Q=Oe({mutationFn:async()=>{const te=await(await Ie("POST","/api/admin/pool-indexer/unified/reset",{pid:Number(e)})).text();return te?JSON.parse(te):{success:!0}},onSuccess:()=>{r({title:"Index Reset",description:"Unified indexer has been reset. Run indexer to rebuild."}),b(),v()},onError:R=>{r({title:"Reset Error",description:R.message,variant:"destructive"})}}),L=R=>R==null?"$0.00":R>=1e6?`$${(R/1e6).toFixed(2)}M`:R>=1e3?`$${(R/1e3).toFixed(2)}K`:`$${R.toFixed(2)}`,_=R=>R==null?"0.00%":`${R.toFixed(2)}%`,q=R=>`${R.slice(0,6)}...${R.slice(-4)}`,ve=()=>{m(),v()},K=d?.pool,ee=d?.aprBreakdown,B=f||g,[X,$]=p.useState("1y"),fe=R=>{if(R==null)return 0;switch(X){case"1m":return R/12;case"24h":return R/365;default:return R}},pe=()=>{switch(X){case"1m":return"Monthly";case"24h":return"Daily";default:return"Annual"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(se,{variant:"ghost",size:"icon",onClick:()=>t("/admin/pools"),"data-testid":"button-back",children:n.jsx(Wi,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:K?.pairName||`Pool ${e}`}),n.jsxs("p",{className:"text-muted-foreground",children:["Pool ID: ",e," ",K?.lpToken&&` LP: ${q(K.lpToken)}`]})]})]}),n.jsxs(se,{variant:"outline",onClick:ve,disabled:B,"data-testid":"button-refresh",children:[n.jsx(et,{className:`mr-2 h-4 w-4 ${B?"animate-spin":""}`}),"Refresh"]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(et,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):K?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"APR Window:"}),n.jsx("div",{className:"flex gap-1",children:["1y","1m","24h"].map(R=>n.jsx(se,{variant:X===R?"default":"outline",size:"sm",onClick:()=>$(R),"data-testid":`button-apr-${R}`,children:R.toUpperCase()},R))}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",pe()," rates)"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Value Locked"}),n.jsx(Eu,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tvl",children:L(K.totalTVL)})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Passive APR"}),n.jsx(tr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-passive-apr",children:_(fe(ee?.passive?.totalPassive))}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Fee: ",_(fe(ee?.passive?.feeAprValue))," + Harvest: ",_(fe(ee?.passive?.harvestAprValue))]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Active APR"}),n.jsx(lr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-apr",children:fe(ee?.active?.questAprWorst)===fe(ee?.active?.questAprBest)?_(fe(ee?.active?.questAprWorst)):`${_(fe(ee?.active?.questAprWorst))} - ${_(fe(ee?.active?.questAprBest))}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Hero-dependent quest rewards"})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total APR"}),n.jsx(tr,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400","data-testid":"text-total-apr",children:fe(ee?.total?.worst)===fe(ee?.total?.best)?_(fe(ee?.total?.worst)):`${_(fe(ee?.total?.worst))} - ${_(fe(ee?.total?.best))}`}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined passive + active APR"})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),"All Gardeners List"]}),n.jsxs(Se,{className:"flex items-center gap-2 flex-wrap",children:[h?.count||0," wallets staked in this pool",typeof h?.activeWalletCount=="number"&&n.jsx(oD,{delayDuration:0,children:n.jsxs(ju,{children:[n.jsx(wu,{asChild:!0,children:n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground cursor-default",children:[n.jsx(TP,{className:"h-3 w-3"}),h.activeWalletCount," active wallets",n.jsx("span",{className:"text-[10px]",children:"(last 30d)"})]})}),n.jsx(fc,{children:n.jsx("p",{className:"max-w-xs text-sm",children:"Active wallets have recent activity in the past 30 days and a non-zero stake across V1 or V2."})})]})}),h?.source&&n.jsx(W,{variant:h.source==="indexed"?"default":"secondary",children:h.source==="indexed"?"Indexed":"Live Scan"})]})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>v(),disabled:y,"data-testid":"button-fetch-stakers",children:[n.jsx(et,{className:`mr-2 h-4 w-4 ${y?"animate-spin":""}`}),y?"Fetching...":"Fetch Stakers"]})]}),n.jsx(J,{children:g||y?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(et,{className:"h-8 w-8 animate-spin text-muted-foreground"}),n.jsx("span",{className:"ml-2 text-muted-foreground",children:"Scanning blockchain..."})]}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Wallet"}),n.jsx(V,{children:"Summoner"}),n.jsx(V,{className:"text-right",children:"V1 USD"}),n.jsx(V,{className:"text-right",children:"V2 USD"}),n.jsx(V,{className:"text-right",children:"Total"}),n.jsx(V,{className:"text-right",children:"Last Activity"})]})}),n.jsxs(xt,{children:[h?.stakers.map((R,te)=>n.jsxs(Pe,{"data-testid":`row-staker-${te}`,children:[n.jsx(U,{children:n.jsxs("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${R.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm hover:underline",onClick:me=>me.stopPropagation(),"data-testid":`link-wallet-${te}`,children:[n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:q(R.wallet)}),n.jsx(mr,{className:"h-3 w-3"})]})}),n.jsx(U,{"data-testid":`text-summoner-${te}`,children:R.summonerName?n.jsx("span",{className:"font-medium text-primary",children:R.summonerName}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-v1-${te}`,children:(()=>{const me=parseFloat(R.v1Value);return!isNaN(me)&&me>0?n.jsxs("span",{className:"text-amber-600 dark:text-amber-400",children:["$",me.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})()}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-v2-${te}`,children:(()=>{const me=parseFloat(R.v2Value);return!isNaN(me)&&me>0?n.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",me.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})})()}),n.jsx(U,{className:"text-right font-medium","data-testid":`text-total-${te}`,children:(()=>{const me=parseFloat(R.totalValue);return!isNaN(me)&&me>0?`$${me.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"})()}),n.jsx(U,{className:"text-right","data-testid":`text-activity-${te}`,children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx(W,{variant:R.lastActivity.type==="Deposit"?"default":"secondary",children:R.lastActivity.type}),R.lastActivity.amount&&n.jsxs("span",{className:"text-xs font-medium",children:[parseFloat(R.lastActivity.amount)>1e-4?parseFloat(R.lastActivity.amount).toFixed(4):"<0.0001"," LP"]}),R.lastActivity.date&&n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(R.lastActivity.date).toLocaleDateString()})]})})]},R.wallet)),(!h?.stakers||h.stakers.length===0)&&n.jsx(Pe,{children:n.jsx(U,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:'No stakers found. Click "Fetch Stakers" to scan blockchain.'})})]})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Na,{className:"h-5 w-5"}),"Unified Indexer"]}),n.jsx(Se,{children:"Scans Deposit, Withdraw, Swap, and Harvest events in a single blockchain pass"})]}),n.jsxs(J,{className:"space-y-4",children:[C&&(C.isRunning||C.completedAt&&E)&&n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-3","data-testid":"section-live-progress",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:C.isRunning?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"h-4 w-4 animate-spin text-primary"}),n.jsx("span",{className:"font-medium",children:"Indexing in Progress"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Na,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"Sync Complete"})]})}),n.jsxs(W,{variant:C.isRunning?"default":"secondary","data-testid":"badge-percent-complete",children:[C.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:C.percentComplete,className:"h-2","data-testid":"progress-indexer"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Current Block"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-current-block",children:C.currentBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Target Block"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-target-block",children:C.targetBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Events Found"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-events",children:C.totalEventsFound.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Batches Completed"}),n.jsx("p",{className:"font-semibold","data-testid":"text-live-batches",children:C.batchesCompleted.toLocaleString()})]})]}),C.completedAt&&!C.isRunning&&n.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Completed at ",new Date(C.completedAt).toLocaleTimeString()," - waiting for new blocks"]}),C.lastBatchAt&&C.isRunning&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last batch: ",new Date(C.lastBatchAt).toLocaleTimeString(),"(",C.lastBatchEventsFound," events)"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Indexed Block"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-block",children:C?.currentBlock?.toLocaleString()||A?.lastBlock?.toLocaleString()||"Not started"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Stakers Found"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-stakers",children:C?.totalStakersFound?.toLocaleString()||A?.stakersFound?.toLocaleString()||"0"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"text-lg font-semibold","data-testid":"text-indexer-events",children:C?.totalEventsFound?.toLocaleString()||"0"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(W,{variant:C?.isRunning||A?.isComplete?"default":"secondary","data-testid":"badge-indexer-status",children:C?.isRunning?"Indexing...":A?.isComplete?"Complete":"Idle"})]})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[n.jsx(UV,{className:`h-4 w-4 ${E?"text-green-500":"text-muted-foreground"}`}),n.jsx("span",{className:"text-sm font-medium",children:"Auto-Run:"}),n.jsx(Yr,{checked:E,onCheckedChange:P,disabled:T.isPending||k.isPending,"data-testid":"switch-auto-run"}),n.jsxs(ct,{value:l,onValueChange:c,disabled:E,children:[n.jsx(st,{className:"w-28","data-testid":"select-auto-run-interval",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"60000",children:"1 min"}),n.jsx(ye,{value:"300000",children:"5 min"}),n.jsx(ye,{value:"600000",children:"10 min"}),n.jsx(ye,{value:"1800000",children:"30 min"}),n.jsx(ye,{value:"3600000",children:"1 hour"})]})]}),E&&w?.autoRun&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(lM,{className:"h-3 w-3"}),n.jsxs("span",{children:[w.autoRun.runsCompleted," runs"]})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Workers:"}),n.jsxs(ct,{value:a.toString(),onValueChange:R=>s(Number(R)),children:[n.jsx(st,{className:"w-20","data-testid":"select-workers",children:n.jsx(dt,{})}),n.jsx(it,{children:[1,2,4,6,8].map(R=>n.jsx(ye,{value:R.toString(),children:R},R))})]})]}),n.jsxs(se,{onClick:()=>M.mutate(),disabled:M.isPending,"data-testid":"button-run-indexer",children:[M.isPending?n.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Pn,{className:"mr-2 h-4 w-4"}),M.isPending?"Indexing...":"Run Indexer Batch"]}),n.jsxs(se,{variant:"outline",onClick:()=>I.mutate(),disabled:I.isPending,"data-testid":"button-update-names",children:[I.isPending?n.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(TP,{className:"mr-2 h-4 w-4"}),I.isPending?"Updating...":"Update Summoner Names"]}),n.jsxs(se,{variant:"outline",onClick:()=>Q.mutate(),disabled:Q.isPending,"data-testid":"button-reset-index",children:[Q.isPending?n.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(bc,{className:"mr-2 h-4 w-4"}),"Reset Index"]})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"h-5 w-5"}),"Pool Activity"]}),n.jsx(Se,{children:"Recent staking and unstaking activity for this pool"})]}),n.jsx(J,{children:n.jsxs("div",{className:"py-8 text-center text-muted-foreground","data-testid":"text-activity-placeholder",children:[n.jsx("p",{children:"Activity tracking coming soon."}),n.jsx("p",{className:"text-sm mt-2",children:"This section will show recent deposits, withdrawals, and quest completions."})]})})]})]}):n.jsx(Y,{children:n.jsx(J,{className:"py-8",children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Pool not found or data unavailable."})})})]})}function nz({status:e,isRunning:t}){return t?n.jsxs(W,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(ke,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(W,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Gr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(W,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(er,{className:"w-3 h-3"}),"Error"]}):n.jsxs(W,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(Vc,{className:"w-3 h-3"}),"Idle"]})}function Ar(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function ej(e){if(!e)return 0;const t=parseFloat(e);return isNaN(t)?0:t}function Zh(e){return e.toLocaleString()}function rz(e,t){const r=typeof e=="number"&&!isNaN(e),a=typeof t=="number"&&!isNaN(t);return!r&&!a?null:r&&a&&e!==t?`${Zh(e)}  ${Zh(t)}`:Zh(r?e:t)}function Jh(e){return[...e].sort((t,r)=>t.pid-r.pid)}function Dve(e,t,r){if(t<=0||t>=100)return null;const a=r.get(e);if(!a||a.length<2)return null;const c=Date.now()-3e4,d=a.filter(N=>N.time>=c);if(d.length<2){if(a.length>=2){const N=a[0],b=a[a.length-1],w=b.time-N.time,C=b.percent-N.percent;if(w<5e3||C<=0)return null;const A=C/w;if(!isFinite(A)||A<=0)return null;const E=(100-t)/A;return FR(E)}return null}const f=d[0],m=d[d.length-1],h=m.time-f.time,g=m.percent-f.percent;if(h<3e3||g<=0)return null;const v=g/h;if(!isFinite(v)||v<=0)return null;const y=(100-t)/v;return isFinite(y)?FR(y):null}function FR(e){if(!isFinite(e)||e<0)return null;const t=Math.floor(e/1e3);if(t<60)return`~${t}s`;const r=Math.floor(t/60);if(r<60)return`~${r}m`;const a=Math.floor(r/60),s=r%60;if(a<24)return`~${a}h ${s}m`;const l=Math.floor(a/24),c=a%24;return`~${l}d ${c}h`}function Lve(e,t,r,a){const s=Date.now(),l=6e4;if(!a||r<=0||r>=100){e.delete(t);return}let c=e.get(t);c||(c=[],e.set(t,c));const d=c[c.length-1];(!d||s-d.time>=1e3)&&c.push({time:s,percent:r});const f=s-l;for(;c.length>0&&c[0].time<f;)c.shift()}function Ive(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Te,{className:"h-10 w-40"}),n.jsx(Te,{className:"h-10 w-40"}),n.jsx(Te,{className:"h-10 w-40"})]}),n.jsx(Y,{children:n.jsx(J,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4].map(e=>n.jsx(Te,{className:"h-12 w-full"},e))})})})]})}function zR({indexers:e,type:t,onTrigger:r,onAutoRun:a,isTriggering:s}){return!e||e.length===0?n.jsx(Y,{children:n.jsxs(J,{className:"p-8 text-center text-muted-foreground",children:["No ",t," indexers found. Trigger a batch to initialize."]})}):n.jsx(Y,{children:n.jsx(J,{className:"p-0",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-16",children:"Pool"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Progress"}),n.jsx(V,{className:"text-right",children:"Events"}),n.jsx(V,{className:"text-right",children:"Last Block"}),n.jsx(V,{className:"text-right",children:"Updated"}),n.jsx(V,{className:"text-right",children:"Actions"})]})}),n.jsx(xt,{children:e.map(l=>{const c=l.live?.isRunning||!1,d=l.live?.percentComplete||0,f=!!l.autoRun,m=l.live?.currentBlock??l.lastIndexedBlock,h=l.live?.targetBlock??l.lastIndexedBlock,g=rz(m,h),v=l.updatedAt?new Date(l.updatedAt).toLocaleTimeString():null,y=t==="swap"?l.swapEventCount??l.live?.totalEventsFound??l.totalEventsIndexed:l.rewardEventCount??l.live?.totalEventsFound??l.totalEventsIndexed;return n.jsxs(Pe,{"data-testid":`row-indexer-${t}-${l.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",l.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(nz,{status:l.status,isRunning:c}),f&&n.jsxs(W,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1 text-xs",children:[n.jsx(lr,{className:"w-3 h-3"}),"Auto (",l.autoRun.runsCompleted," runs)"]})]})}),n.jsxs(U,{children:[c&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ut,{value:d,className:"h-2 w-24"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.toFixed(1),"%"]}),g&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Blocks ",g]})]}),!c&&l.status==="complete"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-green-500",children:"Synced"}),g&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Last at ",g]})]})]}),n.jsx(U,{className:"text-right font-mono",children:Ar(y||0)}),n.jsx(U,{className:"text-right font-mono text-xs",children:m!==void 0?Zh(m):"-"}),n.jsx(U,{className:"text-right text-xs text-muted-foreground",children:v||"-"}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(se,{size:"sm",variant:"ghost",onClick:()=>r(l.pid),disabled:c||s,"data-testid":`button-trigger-${t}-${l.pid}`,children:s?n.jsx(ke,{className:"w-4 h-4 animate-spin"}):n.jsx(Pn,{className:"w-4 h-4"})}),n.jsx(se,{size:"sm",variant:f?"destructive":"outline",onClick:()=>a(l.pid,f?"stop":"start"),"data-testid":`button-auto-${t}-${l.pid}`,children:f?n.jsx(kr,{className:"w-4 h-4"}):n.jsx(lr,{className:"w-4 h-4"})})]})})]},l.indexerName)})})]})})})}function $ve({aggregates:e}){const t=(e||[]).filter(r=>r!=null&&r.pid!==void 0);return t.length===0?n.jsx(Y,{children:n.jsx(J,{className:"p-8 text-center text-muted-foreground",children:"No aggregates computed yet. Trigger aggregation to compute."})}):n.jsx(Y,{children:n.jsx(J,{className:"p-0",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-16",children:"Pool"}),n.jsx(V,{children:"Date"}),n.jsx(V,{className:"text-right",children:"TVL"}),n.jsx(V,{className:"text-right",children:"Volume 24h"}),n.jsx(V,{className:"text-right",children:"Fees 24h"}),n.jsx(V,{className:"text-right",children:"Rewards 24h"}),n.jsx(V,{className:"text-right",children:"Fee APR"}),n.jsx(V,{className:"text-right",children:"Reward APR"}),n.jsx(V,{className:"text-right",children:"Total APR"})]})}),n.jsx(xt,{children:t.map(r=>n.jsxs(Pe,{"data-testid":`row-aggregate-${r.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",r.pid]}),n.jsx(U,{children:r.date}),n.jsxs(U,{className:"text-right font-mono",children:["$",Ar(r.tvl)]}),n.jsxs(U,{className:"text-right font-mono",children:["$",Ar(r.volume24h)]}),n.jsxs(U,{className:"text-right font-mono",children:["$",Ar(r.fees24h)]}),n.jsxs(U,{className:"text-right font-mono",children:[Ar(r.rewards24h)," CRYSTAL"]}),n.jsxs(U,{className:"text-right font-mono text-blue-500",children:[ej(r.feeApr).toFixed(2),"%"]}),n.jsxs(U,{className:"text-right font-mono text-purple-500",children:[ej(r.harvestApr).toFixed(2),"%"]}),n.jsxs(U,{className:"text-right font-mono text-green-500 font-bold",children:[ej(r.totalApr).toFixed(2),"%"]})]},`${r.pid}-${r.date}`))})]})})})}function Fve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return null;const a=e.filter(d=>d.isRunning),s=e.reduce((d,f)=>d+(f.percentComplete??0),0)/e.length,l=Math.min(...e.map(d=>d.percentComplete??0)),c=Math.max(...e.map(d=>d.percentComplete??0));return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover-elevate rounded px-1 py-0.5",onClick:()=>r(!t),"data-testid":"worker-summary",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-14",children:[a.length,"/",e.length,"w"]}),n.jsx(Ut,{value:s,className:"h-1.5 flex-1 bg-blue-100"}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[s.toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:t?"":"+"})]}),t&&n.jsxs("div",{className:"pl-2 space-y-0.5 border-l-2 border-muted ml-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",l.toFixed(0),"% - ",c.toFixed(0),"%"]}),e.map(d=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["W",d.workerId]}),n.jsx(Ut,{value:d.percentComplete,className:`h-1 flex-1 ${d.isRunning?"bg-blue-100":"bg-muted"}`}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[(d.percentComplete??0).toFixed(0),"%"]})]},d.workerId))]})]})}function zve({indexers:e,onTrigger:t,onAutoRun:r,isTriggering:a,workerStatus:s,progressHistory:l}){for(const f of e){const m=f.live?.isRunning||!1,h=f.live?.percentComplete||0,g=`unified-${f.pid}`;Lve(l,g,h,m)}if(!e||e.length===0)return n.jsx(Y,{children:n.jsx(J,{className:"p-8 text-center text-muted-foreground",children:"No unified indexers found. Trigger a batch to initialize a pool."})});const c=new Map;if(s?.pools)for(const f of s.pools)c.set(f.pid,(c.get(f.pid)||0)+1);const d=Jh(e);return n.jsx(Y,{children:n.jsx(J,{className:"p-0",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-16",children:"Pool"}),n.jsx(V,{children:"Status"}),n.jsx(V,{className:"w-48",children:"Workers"}),n.jsx(V,{className:"text-right",children:"Stakers"}),n.jsx(V,{className:"text-right",children:"Swaps"}),n.jsx(V,{className:"text-right",children:"Rewards"}),n.jsx(V,{className:"text-right",children:"Actions"})]})}),n.jsx(xt,{children:d.map(f=>{const m=f.live?.isRunning||!1,h=f.live?.percentComplete||0,g=f.liveWorkers||f.live?.workers||[],v=c.get(f.pid)||0,y=v>0||!!f.autoRun,N=f.autoRun?.intervalMs?Math.round(f.autoRun.intervalMs/6e4):null,b=`unified-${f.pid}`,w=m?Dve(b,h,l):null,C=rz(f.live?.currentBlock??f.lastIndexedBlock,f.live?.targetBlock??f.lastIndexedBlock),A=Ar(f.v2StakerCount||0),E=f.v2TotalStaked?Ar(f.v2TotalStaked):null,T=f.swapEventCount??f.live?.swapsFound??0,k=f.rewardEventCount??f.live?.rewardsFound??0,P=f.updatedAt?new Date(f.updatedAt).toLocaleTimeString():null;return n.jsxs(Pe,{"data-testid":`row-indexer-unified-${f.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",f.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(nz,{status:f.status,isRunning:m}),y&&n.jsxs(W,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1 text-xs",children:[n.jsx(lr,{className:"w-3 h-3"}),v>0?`${v} workers`:"Auto",N?`  ${N}m`:""]}),w&&n.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`eta-unified-${f.pid}`,children:["ETA: ",w]}),C&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Blocks ",C]}),P&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Updated ",P]})]})}),n.jsx(U,{children:g.length>0?n.jsx(Fve,{workers:g}):m?n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ut,{value:h,className:"h-2 w-full"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[h.toFixed(1),"%"]}),C&&n.jsx("span",{className:"text-[11px] text-muted-foreground block",children:C})]}):f.status==="complete"?n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:"text-xs text-green-500",children:"Synced"}),C&&n.jsxs("span",{className:"text-[11px] text-muted-foreground block",children:["Last at ",C]})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:A}),E&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:[E," staked"]})]})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:Ar(T)}),m&&f.live?.swapsFound!==void 0&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["+",Ar(f.live.swapsFound)," this run"]})]})}),n.jsx(U,{className:"text-right font-mono",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsx("span",{children:Ar(k)}),m&&f.live?.rewardsFound!==void 0&&n.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["+",Ar(f.live.rewardsFound)," this run"]})]})}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(se,{size:"sm",variant:"ghost",onClick:()=>t(f.pid),disabled:m||a,"data-testid":`button-trigger-unified-${f.pid}`,children:a?n.jsx(ke,{className:"w-4 h-4 animate-spin"}):n.jsx(Pn,{className:"w-4 h-4"})}),n.jsx(se,{size:"sm",variant:y?"destructive":"outline",onClick:()=>r(f.pid,y?"stop":"start"),"data-testid":`button-auto-unified-${f.pid}`,children:y?n.jsx(kr,{className:"w-4 h-4"}):n.jsx(lr,{className:"w-4 h-4"})})]})})]},f.indexerName)})})]})})})}function Bve(){const{toast:e}=an(),[t,r]=p.useState("unified"),a=p.useRef(new Map),{data:s,isLoading:l,error:c,refetch:d}=Re({queryKey:["/api/admin/pool-indexer/status"],refetchInterval:5e3}),{data:f}=Re({queryKey:["/api/admin/pool-indexer/unified/status"],refetchInterval:5e3}),m=Oe({mutationFn:async pe=>Ie("POST","/api/admin/pool-indexer/swap/trigger",{pid:pe}),onSuccess:()=>{e({title:"Swap indexer triggered",description:"Batch started"}),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),h=Oe({mutationFn:async pe=>Ie("POST","/api/admin/pool-indexer/reward/trigger",{pid:pe}),onSuccess:()=>{e({title:"Reward indexer triggered",description:"Batch started"}),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),g=Oe({mutationFn:async({pid:pe,action:R})=>Ie("POST","/api/admin/pool-indexer/swap/auto-run",{pid:pe,action:R}),onSuccess:(pe,R)=>{e({title:`Swap auto-run ${R.action==="start"?"started":"stopped"}`,description:`Pool #${R.pid}`}),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),v=Oe({mutationFn:async({pid:pe,action:R})=>Ie("POST","/api/admin/pool-indexer/reward/auto-run",{pid:pe,action:R}),onSuccess:(pe,R)=>{e({title:`Reward auto-run ${R.action==="start"?"started":"stopped"}`,description:`Pool #${R.pid}`}),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),y=Oe({mutationFn:async()=>Ie("POST","/api/admin/pool-indexer/aggregate/trigger",{}),onSuccess:()=>{e({title:"Aggregation triggered",description:"Computing daily aggregates for all pools"}),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),N=Oe({mutationFn:async pe=>Ie("POST","/api/admin/pool-indexer/unified/trigger",{pid:pe}),onSuccess:()=>{e({title:"Unified indexer triggered",description:"Scanning all event types"}),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}}),b=Oe({mutationFn:async({pid:pe,action:R})=>Ie("POST","/api/admin/pool-indexer/unified/auto-run",{pid:pe,action:R}),onSuccess:(pe,R)=>{e({title:`Unified auto-run ${R.action==="start"?"started":"stopped"}`,description:`Pool #${R.pid}`}),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer/status"]})},onError:pe=>{e({title:"Error",description:pe.message,variant:"destructive"})}});if(l)return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Pool Indexer Status"}),n.jsx(Ive,{})]});if(c)return n.jsx("div",{className:"p-6",children:n.jsx(Y,{children:n.jsxs(J,{className:"p-8 text-center",children:[n.jsx(er,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error loading status"}),n.jsx("p",{className:"text-muted-foreground",children:c.message}),n.jsx(se,{onClick:()=>d(),className:"mt-4","data-testid":"button-retry",children:"Retry"})]})})});const w=Jh(s?.swapIndexers||[]),C=Jh(s?.rewardIndexers||[]),A=Jh(s?.unifiedIndexers||[]),E=s?.aggregates||[],T=w.reduce((pe,R)=>pe+(R.swapEventCount??R.totalEventsIndexed??0),0),k=C.reduce((pe,R)=>pe+(R.rewardEventCount??R.totalEventsIndexed??0),0),P=s?.totalSwapEventCount??T,M=s?.totalRewardEventCount??k,I=s?.poolsIndexed??A.length,Q=s?.totalPools??Math.max(A.length,w.length,C.length),L=A.reduce((pe,R)=>pe+(R.v2StakerCount||0),0),_=w.filter(pe=>pe.live?.isRunning).length,q=C.filter(pe=>pe.live?.isRunning).length,ve=A.filter(pe=>pe.live?.isRunning).length,K=w.length>0,ee=C.length>0,B=K?_:ve,X=ee?q:ve,$=K?w.length:A.length,fe=ee?C.length:A.length;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Pool Indexer Status"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage swap/reward event indexing"})]}),n.jsxs(se,{onClick:()=>d(),variant:"outline",disabled:l,"data-testid":"button-refresh",children:[n.jsx(et,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Active Workers"}),n.jsx(lr,{className:`h-4 w-4 ${f?.activeWorkers?"text-green-500":"text-muted-foreground"}`})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-workers",children:f?.activeWorkers??0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f?.activeWorkers?n.jsxs(n.Fragment,{children:["unified auto-run",f.activeWorkers>1?"s":""]}):"no workers running"})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Pools Indexed"}),n.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pools-indexed",children:[I," / ",Q||0]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ar(L)," stakers tracked"]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Swap Events"}),n.jsx(vc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-swaps",children:Ar(P)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:B>0?`${B} ${K?"indexer(s)":"unified worker(s)"} running`:`${$} ${K?"indexers":"unified pools"}`})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Reward Events"}),n.jsx(Tr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:Ar(M)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:X>0?`${X} ${ee?"indexer(s)":"unified worker(s)"} running`:`${fe} ${ee?"indexers":"unified pools"}`})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Daily Aggregates"}),n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-aggregates",children:E.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"pools with data"})]}),n.jsxs(se,{onClick:()=>y.mutate(),disabled:y.isPending,"data-testid":"button-compute-all",children:[y.isPending?n.jsx(ke,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(zs,{className:"w-4 h-4 mr-2"}),"Run All"]})]})})]})]}),n.jsxs(si,{value:t,onValueChange:r,children:[n.jsxs(is,{className:"flex-wrap gap-1",children:[n.jsxs(St,{value:"unified","data-testid":"tab-unified",children:[n.jsx(lr,{className:"w-4 h-4 mr-2"}),"Unified (",A.length,")"]}),n.jsxs(St,{value:"swaps","data-testid":"tab-swaps",children:[n.jsx(vc,{className:"w-4 h-4 mr-2"}),"Swaps (",w.length,")"]}),n.jsxs(St,{value:"rewards","data-testid":"tab-rewards",children:[n.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Rewards (",C.length,")"]}),n.jsxs(St,{value:"aggregates","data-testid":"tab-aggregates",children:[n.jsx(zs,{className:"w-4 h-4 mr-2"}),"Aggregates (",E.length,")"]})]}),n.jsxs(Tt,{value:"unified",className:"mt-4",children:[n.jsx(Y,{className:"mb-4",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(oe,{className:"text-sm",children:"Unified Indexer"}),n.jsx(Se,{children:"Scans all event types (Deposit, Withdraw, Swap, Harvest) in a single blockchain pass per pool. This consolidates staker tracking, swap volume analytics, and reward distribution into one efficient indexer."})]})}),n.jsx(zve,{indexers:A,onTrigger:pe=>N.mutate(pe),onAutoRun:(pe,R)=>b.mutate({pid:pe,action:R}),isTriggering:N.isPending,workerStatus:f,progressHistory:a.current})]}),n.jsx(Tt,{value:"swaps",className:"mt-4",children:n.jsx(zR,{indexers:w,type:"swap",onTrigger:pe=>m.mutate(pe),onAutoRun:(pe,R)=>g.mutate({pid:pe,action:R}),isTriggering:m.isPending})}),n.jsx(Tt,{value:"rewards",className:"mt-4",children:n.jsx(zR,{indexers:C,type:"reward",onTrigger:pe=>h.mutate(pe),onAutoRun:(pe,R)=>v.mutate({pid:pe,action:R}),isTriggering:h.isPending})}),n.jsx(Tt,{value:"aggregates",className:"mt-4",children:n.jsx($ve,{aggregates:E})})]})]})}function Uve({status:e,isRunning:t}){return t?n.jsxs(W,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(ke,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(W,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Gr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(W,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(er,{className:"w-3 h-3"}),"Error"]}):n.jsxs(W,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(Vc,{className:"w-3 h-3"}),"Idle"]})}function BR(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Hve(e,t,r){if(t<=0||t>=100)return null;const a=r.get(e);if(!a||a.length<2)return null;const c=Date.now()-3e4,d=a.filter(N=>N.time>=c);if(d.length<2){if(a.length>=2){const N=a[0],b=a[a.length-1],w=b.time-N.time,C=b.percent-N.percent;if(w<5e3||C<=0)return null;const A=C/w;if(!isFinite(A)||A<=0)return null;const E=(100-t)/A;return UR(E)}return null}const f=d[0],m=d[d.length-1],h=m.time-f.time,g=m.percent-f.percent;if(h<3e3||g<=0)return null;const v=g/h;if(!isFinite(v)||v<=0)return null;const y=(100-t)/v;return isFinite(y)?UR(y):null}function UR(e){if(!isFinite(e)||e<0)return null;const t=Math.floor(e/1e3);if(t<60)return`~${t}s`;const r=Math.floor(t/60);if(r<60)return`~${r}m`;const a=Math.floor(r/60),s=r%60;if(a<24)return`~${a}h ${s}m`;const l=Math.floor(a/24),c=a%24;return`~${l}d ${c}h`}function Vve(e,t,r,a){const s=Date.now(),l=6e4;if(!a||r<=0||r>=100){e.delete(t);return}let c=e.get(t);c||(c=[],e.set(t,c));const d=c[c.length-1];(!d||s-d.time>=1e3)&&c.push({time:s,percent:r});const f=s-l;for(;c.length>0&&c[0].time<f;)c.shift()}function qve(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Te,{className:"h-10 w-40"}),n.jsx(Te,{className:"h-10 w-40"})]}),n.jsx(Y,{children:n.jsx(J,{className:"p-0",children:n.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4].map(e=>n.jsx(Te,{className:"h-12 w-full"},e))})})})]})}function Kve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return null;const a=e.filter(d=>d.isRunning),s=e.reduce((d,f)=>d+(f.percentComplete??0),0)/e.length,l=Math.min(...e.map(d=>d.percentComplete??0)),c=Math.max(...e.map(d=>d.percentComplete??0));return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover-elevate rounded px-1 py-0.5",onClick:()=>r(!t),"data-testid":"worker-summary",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-14",children:[a.length,"/",e.length,"w"]}),n.jsx(Ut,{value:s,className:"h-1.5 flex-1 bg-blue-100"}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[s.toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:t?"":"+"})]}),t&&n.jsxs("div",{className:"pl-2 space-y-0.5 border-l-2 border-muted ml-1",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",l.toFixed(0),"% - ",c.toFixed(0),"%"]}),e.map(d=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground w-6",children:["W",d.workerId]}),n.jsx(Ut,{value:d.percentComplete,className:`h-1 flex-1 ${d.isRunning?"bg-blue-100":"bg-muted"}`}),n.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[(d.percentComplete??0).toFixed(0),"%"]})]},d.workerId))]})]})}function Wve(){const{toast:e}=an(),[t,r]=p.useState(!1),[a,s]=p.useState(!1),l=p.useRef(new Map),{data:c,isLoading:d,refetch:f}=Re({queryKey:["/api/admin/pool-indexer-v1/status"],refetchInterval:3e3}),m=Oe({mutationFn:async C=>(await Ie("POST","/api/admin/pool-indexer-v1/trigger",{pid:C})).json(),onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 batch triggered"})},onError:C=>{e({title:"Failed to trigger V1 batch",description:C.message,variant:"destructive"})}}),h=Oe({mutationFn:async({pid:C,action:A})=>(await Ie("POST","/api/admin/pool-indexer-v1/auto-run",{pid:C,action:A})).json(),onSuccess:(C,{action:A})=>{Me.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:`V1 auto-run ${A==="start"?"started":"stopped"}`})},onError:C=>{e({title:"Failed to toggle V1 auto-run",description:C.message,variant:"destructive"})}}),g=Oe({mutationFn:async()=>(r(!0),(await Ie("POST","/api/admin/pool-indexer-v1/start-all")).json()),onSuccess:C=>{r(!1),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 indexers started",description:`Started ${C.started} workers across ${C.totalPools} pools`})},onError:C=>{r(!1),e({title:"Failed to start V1 indexers",description:C.message,variant:"destructive"})}}),v=Oe({mutationFn:async()=>(s(!0),(await Ie("POST","/api/admin/pool-indexer-v1/stop-all")).json()),onSuccess:C=>{s(!1),Me.invalidateQueries({queryKey:["/api/admin/pool-indexer-v1/status"]}),e({title:"V1 indexers stopped",description:`Stopped ${C.totalWorkers} workers`})},onError:C=>{s(!1),e({title:"Failed to stop V1 indexers",description:C.message,variant:"destructive"})}}),y=c?.indexers||[],N=c?.workerStatus,b=N?.activeWorkers||0,w=new Map;if(N?.pools)for(const C of N.pools)w.set(C.pid,(w.get(C.pid)||0)+1);for(const C of y){const A=C.live?.isRunning||!1,E=C.live?.percentComplete||0,T=`v1-${C.pid}`;Vve(l.current,T,E,A)}return d?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(dc,{className:"w-6 h-6 text-amber-500"}),"V1 Pool Indexer (Legacy)"]}),n.jsx("p",{className:"text-muted-foreground",children:"Index staker positions from deprecated Master Gardener V1"})]})}),n.jsx(qve,{})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(dc,{className:"w-6 h-6 text-amber-500"}),"V1 Pool Indexer (Legacy)"]}),n.jsx("p",{className:"text-muted-foreground",children:"Index staker positions from deprecated Master Gardener V1"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(se,{variant:"outline",onClick:()=>f(),disabled:d,"data-testid":"button-refresh",children:[n.jsx(et,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Active V1 Workers"})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-workers",children:b}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[N?.workersPerPool||5," max per pool"]})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"V1 Pools Indexed"})}),n.jsxs(J,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pools-indexed",children:[c?.poolsIndexed??0," / ",c?.totalPools??14]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Legacy staker positions"})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium",children:"Global Actions"})}),n.jsxs(J,{className:"flex gap-2",children:[n.jsxs(se,{size:"sm",onClick:()=>g.mutate(),disabled:t||b>0,"data-testid":"button-start-all-v1",children:[t?n.jsx(ke,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(Pn,{className:"w-4 h-4 mr-1"}),"Start All V1"]}),n.jsxs(se,{size:"sm",variant:"destructive",onClick:()=>v.mutate(),disabled:a||b===0,"data-testid":"button-stop-all-v1",children:[a?n.jsx(ke,{className:"w-4 h-4 mr-1 animate-spin"}):n.jsx(kr,{className:"w-4 h-4 mr-1"}),"Stop All V1"]})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(dc,{className:"w-5 h-5 text-amber-500"}),"V1 Legacy Indexers"]}),n.jsx(Se,{children:"Track staker positions from the deprecated V1 Master Gardener contract"})]}),n.jsx(J,{className:"p-0",children:y.length===0?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No V1 indexers found. Start indexing to track legacy positions."}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-16",children:"Pool"}),n.jsx(V,{children:"Status"}),n.jsx(V,{className:"w-48",children:"Workers"}),n.jsx(V,{className:"text-right",children:"V1 Stakers"}),n.jsx(V,{className:"text-right",children:"Events"}),n.jsx(V,{className:"text-right",children:"Actions"})]})}),n.jsx(xt,{children:y.map(C=>{const A=C.live?.isRunning||!1,E=C.live?.percentComplete||0,T=C.live?.workers||[],k=w.get(C.pid)||0,P=k>0,M=`v1-${C.pid}`,I=A?Hve(M,E,l.current):null;return n.jsxs(Pe,{"data-testid":`row-indexer-v1-${C.pid}`,children:[n.jsxs(U,{className:"font-mono font-medium",children:["#",C.pid]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(Uve,{status:C.status,isRunning:A}),P&&n.jsxs(W,{variant:"outline",className:"bg-amber-500/20 text-amber-500 border-amber-500/30 gap-1 text-xs",children:[n.jsx(lr,{className:"w-3 h-3"}),"V1 (",k,"w)"]}),I&&n.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`eta-v1-${C.pid}`,children:["ETA: ",I]})]})}),n.jsx(U,{children:T.length>0?n.jsx(Kve,{workers:T}):n.jsx("span",{className:"text-xs text-muted-foreground",children:P?`${k} workers`:"No workers"})}),n.jsx(U,{className:"text-right font-mono",children:BR(C.v1StakerCount||0)}),n.jsx(U,{className:"text-right font-mono",children:BR(C.totalEventsIndexed)}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex gap-1 justify-end",children:[n.jsx(se,{size:"sm",variant:"ghost",onClick:()=>m.mutate(C.pid),disabled:A||m.isPending,"data-testid":`button-trigger-v1-${C.pid}`,children:m.isPending?n.jsx(ke,{className:"w-4 h-4 animate-spin"}):n.jsx(Pn,{className:"w-4 h-4"})}),n.jsx(se,{size:"sm",variant:P?"destructive":"outline",onClick:()=>h.mutate({pid:C.pid,action:P?"stop":"start"}),"data-testid":`button-auto-v1-${C.pid}`,children:P?n.jsx(kr,{className:"w-4 h-4"}):n.jsx(lr,{className:"w-4 h-4"})})]})})]},C.indexerName)})})]})})]})]})}function Gve({status:e,isRunning:t}){return t?n.jsxs(W,{variant:"outline",className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1","data-testid":"badge-status-running",children:[n.jsx(ke,{className:"w-3 h-3 animate-spin"}),"Running"]}):e==="complete"?n.jsxs(W,{variant:"outline",className:"bg-green-500/20 text-green-500 border-green-500/30 gap-1","data-testid":"badge-status-complete",children:[n.jsx(Gr,{className:"w-3 h-3"}),"Complete"]}):e==="error"?n.jsxs(W,{variant:"outline",className:"bg-red-500/20 text-red-500 border-red-500/30 gap-1","data-testid":"badge-status-error",children:[n.jsx(er,{className:"w-3 h-3"}),"Error"]}):n.jsxs(W,{variant:"outline",className:"bg-muted text-muted-foreground gap-1","data-testid":"badge-status-idle",children:[n.jsx(Vc,{className:"w-3 h-3"}),"Idle"]})}function ep(e){if(e==null)return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function Yve(e){return e.toLocaleString()}function Qve({workers:e}){const[t,r]=p.useState(!1);if(!e||e.length===0)return n.jsx("span",{className:"text-muted-foreground text-sm",children:"No workers"});const a=e.filter(l=>l.isRunning).length,s=e.reduce((l,c)=>l+c.percentComplete,0)/e.length;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>r(!t),className:"h-auto p-1 gap-1","data-testid":"button-expand-workers",children:[t?n.jsx(Hc,{className:"w-4 h-4"}):n.jsx(af,{className:"w-4 h-4"}),n.jsxs("span",{className:"text-sm",children:[e.length," workers (",a," active)  ",s.toFixed(1),"%"]})]}),t&&n.jsx("div",{className:"pl-4 space-y-1 text-xs",children:e.map(l=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:l.isRunning?"default":"secondary",className:"text-xs",children:["W",l.workerId]}),n.jsx(Ut,{value:l.percentComplete,className:"w-20 h-1"}),n.jsxs("span",{className:"text-muted-foreground",children:[l.percentComplete.toFixed(1),"%  ",ep(l.stakersFound)," stakers"]})]},l.workerId))})]})}function Xve(){const{toast:e}=an(),[t,r]=p.useState(!0),{data:a,isLoading:s,refetch:l}=Re({queryKey:["/api/admin/pool-indexer-harmony/status"],refetchInterval:t?3e3:!1});p.useEffect(()=>{const y=t?setInterval(()=>l(),3e3):void 0;return()=>{y&&clearInterval(y)}},[t,l]);const c=Oe({mutationFn:async y=>Ie("/api/admin/pool-indexer-harmony/trigger",{method:"POST",body:JSON.stringify({pid:y})}),onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"Indexer triggered",description:"Harmony indexer batch started"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),d=Oe({mutationFn:async({pid:y,action:N})=>Ie("/api/admin/pool-indexer-harmony/auto-run",{method:"POST",body:JSON.stringify({pid:y,action:N})}),onSuccess:(y,{action:N})=>{Me.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:N==="start"?"Auto-run started":"Auto-run stopped"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),f=Oe({mutationFn:async()=>Ie("/api/admin/pool-indexer-harmony/start-all",{method:"POST"}),onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"All indexers started"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),m=Oe({mutationFn:async()=>Ie("/api/admin/pool-indexer-harmony/stop-all",{method:"POST"}),onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/pool-indexer-harmony/status"]}),e({title:"All indexers stopped"})},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}});if(s)return n.jsxs("div",{className:"space-y-6 p-6","data-testid":"loading-skeleton",children:[n.jsx(Te,{className:"h-8 w-64"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Te,{className:"h-32"}),n.jsx(Te,{className:"h-32"}),n.jsx(Te,{className:"h-32"})]}),n.jsx(Te,{className:"h-64"})]});const h=a?.pools||[],g=h.filter(y=>y.isAutoRunning||y.isRunning),v=h.reduce((y,N)=>y+(N.stakerCount||0),0);return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"page-title",children:"Harmony Pool Indexer"}),n.jsx("p",{className:"text-muted-foreground",children:"Legacy Serendale Master Gardener on Harmony chain"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>l(),"data-testid":"button-refresh",children:[n.jsx(et,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>r(!t),"data-testid":"button-toggle-refresh",children:[n.jsx(et,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),t?"Auto ON":"Auto OFF"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-start-all",children:[n.jsx(lr,{className:"w-4 h-4 mr-2"}),"Start All"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>m.mutate(),disabled:m.isPending,"data-testid":"button-stop-all",children:[n.jsx(kr,{className:"w-4 h-4 mr-2"}),"Stop All"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Y,{"data-testid":"card-latest-block",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(Se,{children:"Latest Block"}),n.jsx(oe,{className:"text-xl",children:Yve(a?.latestBlock||0)})]})}),n.jsx(Y,{"data-testid":"card-pool-count",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(Se,{children:"Pools Discovered"}),n.jsxs(oe,{className:"text-xl",children:[h.length," / ",a?.poolLength||0]})]})}),n.jsx(Y,{"data-testid":"card-running-pools",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(Se,{children:"Running Pools"}),n.jsx(oe,{className:"text-xl",children:g.length})]})}),n.jsx(Y,{"data-testid":"card-total-stakers",children:n.jsxs(ie,{className:"pb-2",children:[n.jsx(Se,{children:"Total Stakers"}),n.jsx(oe,{className:"text-xl",children:ep(v)})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Pool Status"}),n.jsx(Se,{children:"Harmony Serendale LP pools with staking activity"})]}),n.jsx(J,{children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"PID"}),n.jsx(V,{children:"LP Token"}),n.jsx(V,{children:"Stakers"}),n.jsx(V,{children:"Total Staked"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Workers"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(xt,{children:h.length===0?n.jsx(Pe,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground",children:'No pools found. Click "Start All" to begin indexing.'})}):h.map(y=>{const N=a?.dbProgress?.find(b=>b.pid===y.pid);return n.jsxs(Pe,{"data-testid":`row-pool-${y.pid}`,children:[n.jsx(U,{className:"font-mono",children:y.pid}),n.jsx(U,{className:"font-mono text-xs max-w-[120px] truncate",title:y.lpToken,children:y.lpToken?`${y.lpToken.slice(0,10)}...${y.lpToken.slice(-6)}`:"-"}),n.jsx(U,{children:ep(y.stakerCount)}),n.jsx(U,{children:ep(y.totalStaked)}),n.jsx(U,{children:n.jsx(Gve,{status:N?.status||"idle",isRunning:y.isRunning||y.isAutoRunning})}),n.jsx(U,{children:n.jsx(Qve,{workers:y.liveWorkers})}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[y.isAutoRunning?n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>d.mutate({pid:y.pid,action:"stop"}),disabled:d.isPending,"data-testid":`button-stop-${y.pid}`,children:n.jsx(kr,{className:"w-4 h-4"})}):n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>d.mutate({pid:y.pid,action:"start"}),disabled:d.isPending,"data-testid":`button-start-${y.pid}`,children:n.jsx(Pn,{className:"w-4 h-4"})}),n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>c.mutate(y.pid),disabled:c.isPending,"data-testid":`button-trigger-${y.pid}`,children:n.jsx(et,{className:"w-4 h-4"})})]})})]},y.pid)})})]})})]})]})}function Dh(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(2)}function HR(e){return isNaN(e)||!isFinite(e)?"0.00%":`${e.toFixed(2)}%`}function Zve(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function Jve({status:e,isRunning:t}){if(t)return n.jsxs(W,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(ke,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(W,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function eye(){const{toast:e}=an(),{data:t,isLoading:r,refetch:a}=Re({queryKey:["/api/admin/jeweler/status"],refetchInterval:3e3}),{data:s,isLoading:l}=Re({queryKey:["/api/admin/jeweler/leaderboard"],refetchInterval:3e4}),c=Oe({mutationFn:async()=>await Ie("POST","/api/admin/jeweler/trigger",{}),onSuccess:()=>{e({title:"Jeweler indexer triggered"}),Me.invalidateQueries({queryKey:["/api/admin/jeweler/status"]})},onError:g=>{e({title:"Failed to trigger indexer",description:g.message,variant:"destructive"})}}),d=Oe({mutationFn:async g=>await Ie("POST","/api/admin/jeweler/auto-run",{action:g}),onSuccess:(g,v)=>{e({title:`Auto-run ${v==="start"?"started":"stopped"}`}),Me.invalidateQueries({queryKey:["/api/admin/jeweler/status"]})},onError:g=>{e({title:"Failed to manage auto-run",description:g.message,variant:"destructive"})}}),f=Oe({mutationFn:async()=>await Ie("POST","/api/admin/jeweler/refresh-balances",{}),onSuccess:()=>{e({title:"Balance refresh started",description:"Fetching live balances and summoner names for all stakers. This may take a few minutes - refresh the page to see updates."})},onError:g=>{e({title:"Failed to start balance refresh",description:g.message,variant:"destructive"})}}),m=t?.liveProgress?.isRunning||!1,h=t?.liveProgress?.percentComplete||0;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"page-title",children:[n.jsx(sf,{className:"w-6 h-6 text-purple-500"}),"Jeweler"]}),n.jsx("p",{className:"text-muted-foreground",children:"cJEWEL staking analytics and leaderboard"})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>a(),"data-testid":"button-refresh",children:[n.jsx(et,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Tr,{className:"w-4 h-4"}),"JEWEL Locked"]})}),n.jsxs(J,{children:[n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-jewel-locked",children:r?"...":Dh(t?.totalJewelLocked||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Dh(t?.totalCjewelSupply||0)," cJEWEL supply"]})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Mr,{className:"w-4 h-4"}),"Total Stakers"]})}),n.jsx(J,{children:n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-stakers",children:r?"...":(t?.totalStakers||0).toLocaleString()})})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(tr,{className:"w-4 h-4"}),"cJEWEL/JEWEL Ratio"]})}),n.jsx(J,{children:n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-ratio",children:r?"...":(t?.currentRatio||1).toFixed(6)})})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(tr,{className:"w-4 h-4 text-green-500"}),"APR"]})}),n.jsxs(J,{children:[n.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"text-apr",children:r?"...":HR(t?.apr7d||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["30d: ",HR(t?.apr30d||0)]})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{className:"text-lg",children:"Indexer Status"}),n.jsx(Se,{children:"Tracks cJEWEL minting/burning events to build staker leaderboard"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Jve,{status:t?.indexerProgress?.status||"idle",isRunning:m}),t?.isAutoRunning&&n.jsxs(W,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/30 gap-1",children:[n.jsx(lr,{className:"w-3 h-3"}),"Auto-run"]}),m&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ut,{value:h,className:"w-32 h-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{size:"sm",variant:"outline",onClick:()=>c.mutate(),disabled:m||c.isPending,"data-testid":"button-trigger",children:[c.isPending?n.jsx(ke,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Run Now"]}),n.jsxs(se,{size:"sm",variant:"outline",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-refresh-balances",children:[f.isPending?n.jsx(ke,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(et,{className:"w-4 h-4 mr-2"}),"Refresh Balances"]}),n.jsx(se,{size:"sm",variant:t?.isAutoRunning?"destructive":"outline",onClick:()=>d.mutate(t?.isAutoRunning?"stop":"start"),disabled:d.isPending,"data-testid":"button-auto-run",children:t?.isAutoRunning?n.jsxs(n.Fragment,{children:[n.jsx(kr,{className:"w-4 h-4 mr-2"}),"Stop Auto"]}):n.jsxs(n.Fragment,{children:[n.jsx(lr,{className:"w-4 h-4 mr-2"}),"Auto Run"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Last Block"}),n.jsx("p",{className:"font-mono","data-testid":"text-last-block",children:t?.indexerProgress?.lastIndexedBlock?.toLocaleString()||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Events Indexed"}),n.jsx("p",{className:"font-mono","data-testid":"text-events-indexed",children:t?.indexerProgress?.totalEventsIndexed?.toLocaleString()||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Stakers Found"}),n.jsx("p",{className:"font-mono","data-testid":"text-stakers-found",children:t?.indexerProgress?.totalStakersFound?.toLocaleString()||0})]})]}),t?.workersProgress&&t.workersProgress.length>0&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h4",{className:"text-sm font-medium",children:["Parallel Workers (",t.workersStatus?.activeWorkers||0,"/",t.workersStatus?.maxWorkers||5,")"]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.workersProgress.map(g=>n.jsxs("div",{className:"border rounded-lg p-3 space-y-2","data-testid":`worker-card-${g.workerId}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium text-sm",children:["Worker ",g.workerId]}),g.isRunning?n.jsxs(W,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 text-xs gap-1",children:[n.jsx(ke,{className:"w-2 h-2 animate-spin"}),"Running"]}):g.completedAt?n.jsx(W,{className:"bg-green-500/20 text-green-500 border-green-500/30 text-xs",children:"Done"}):n.jsx(W,{className:"bg-gray-500/20 text-gray-500 border-gray-500/30 text-xs",children:"Idle"})]}),n.jsx(Ut,{value:g.percentComplete,className:"h-1.5"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:[g.percentComplete.toFixed(1),"%"]}),n.jsxs("span",{children:[g.eventsFound.toLocaleString()," events"]})]}),n.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:[g.currentBlock.toLocaleString()," / ",(g.rangeEnd||g.targetBlock||0).toLocaleString()]})]},g.workerId))})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{className:"text-lg",children:"Top cJEWEL Holders"}),n.jsx(Se,{children:"Leaderboard of wallets with the most cJEWEL staked"})]}),n.jsx(J,{children:l?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(ke,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-12",children:"#"}),n.jsx(V,{children:"Wallet"}),n.jsx(V,{children:"Summoner"}),n.jsx(V,{className:"text-right",children:"cJEWEL"}),n.jsx(V,{className:"text-right",children:"JEWEL Value"}),n.jsx(V,{className:"text-right",children:"Lock End"}),n.jsx(V,{className:"text-right",children:"Last Activity"})]})}),n.jsxs(xt,{children:[(s?.stakers||[]).slice(0,50).map((g,v)=>n.jsxs(Pe,{"data-testid":`row-staker-${g.id}`,children:[n.jsx(U,{className:"font-mono text-muted-foreground",children:v+1}),n.jsx(U,{className:"font-mono text-sm",children:n.jsx("a",{href:`https://subnets.avax.network/defi-kingdoms/address/${g.wallet}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:Zve(g.wallet)})}),n.jsx(U,{children:g.summonerName||n.jsx("span",{className:"text-muted-foreground",children:"*"})}),n.jsx(U,{className:"text-right font-mono",children:Dh(g.cjewelBalance)}),n.jsx(U,{className:"text-right font-mono text-green-500",children:Dh(g.stakedJewel)}),n.jsx(U,{className:"text-right font-mono text-sm",children:g.lockEnd?n.jsx("span",{className:new Date(g.lockEnd)>new Date?"text-yellow-500":"text-muted-foreground",children:new Date(g.lockEnd).toLocaleDateString()}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(U,{className:"text-right",children:g.lastActivityType&&n.jsx(W,{variant:"outline",className:g.lastActivityType==="Deposit"?"bg-green-500/20 text-green-500 border-green-500/30":"bg-red-500/20 text-red-500 border-red-500/30",children:g.lastActivityType})})]},g.id)),(!s?.stakers||s.stakers.length===0)&&n.jsx(Pe,{children:n.jsx(U,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No stakers found. Run the indexer to populate data."})})]})]})})]})]})}var tye=Symbol("radix.slottable");function nye(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=tye,t}var az="AlertDialog",[rye]=xr(az,[sF]),ui=sF(),sz=e=>{const{__scopeAlertDialog:t,...r}=e,a=ui(t);return n.jsx(jF,{...a,...r,modal:!0})};sz.displayName=az;var aye="AlertDialogTrigger",iz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(wF,{...s,...a,ref:t})});iz.displayName=aye;var sye="AlertDialogPortal",lz=e=>{const{__scopeAlertDialog:t,...r}=e,a=ui(t);return n.jsx(NF,{...a,...r})};lz.displayName=sye;var iye="AlertDialogOverlay",oz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(kS,{...s,...a,ref:t})});oz.displayName=iye;var gc="AlertDialogContent",[lye,oye]=rye(gc),cye=nye("AlertDialogContent"),cz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,l=ui(r),c=p.useRef(null),d=tt(t,c),f=p.useRef(null);return n.jsx(bge,{contentName:gc,titleName:dz,docsSlug:"alert-dialog",children:n.jsx(lye,{scope:r,cancelRef:f,children:n.jsxs(_S,{role:"alertdialog",...l,...s,ref:d,onOpenAutoFocus:ze(s.onOpenAutoFocus,m=>{m.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(cye,{children:a}),n.jsx(uye,{contentRef:c})]})})})});cz.displayName=gc;var dz="AlertDialogTitle",uz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(RS,{...s,...a,ref:t})});uz.displayName=dz;var fz="AlertDialogDescription",mz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(MS,{...s,...a,ref:t})});mz.displayName=fz;var dye="AlertDialogAction",hz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=ui(r);return n.jsx(DS,{...s,...a,ref:t})});hz.displayName=dye;var pz="AlertDialogCancel",xz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=oye(pz,r),l=ui(r),c=tt(t,s);return n.jsx(DS,{...l,...a,ref:c})});xz.displayName=pz;var uye=({contentRef:e})=>{const t=`\`${gc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gc}\` by passing a \`${fz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},fye=sz,mye=iz,hye=lz,gz=oz,vz=cz,yz=hz,bz=xz,jz=uz,wz=mz;const Qu=fye,Xu=mye,pye=hye,Nz=p.forwardRef(({className:e,...t},r)=>n.jsx(gz,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Nz.displayName=gz.displayName;const Rc=p.forwardRef(({className:e,...t},r)=>n.jsxs(pye,{children:[n.jsx(Nz,{}),n.jsx(vz,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Rc.displayName=vz.displayName;const Mc=({className:e,...t})=>n.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",e),...t});Mc.displayName="AlertDialogHeader";const Dc=({className:e,...t})=>n.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dc.displayName="AlertDialogFooter";const Lc=p.forwardRef(({className:e,...t},r)=>n.jsx(jz,{ref:r,className:De("text-lg font-semibold",e),...t}));Lc.displayName=jz.displayName;const Ic=p.forwardRef(({className:e,...t},r)=>n.jsx(wz,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));Ic.displayName=wz.displayName;const $c=p.forwardRef(({className:e,...t},r)=>n.jsx(yz,{ref:r,className:De(xN(),e),...t}));$c.displayName=yz.displayName;const Fc=p.forwardRef(({className:e,...t},r)=>n.jsx(bz,{ref:r,className:De(xN({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Fc.displayName=bz.displayName;function Ms(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(4)}function tj(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString()}function xye(e){return`${e.slice(0,10)}...${e.slice(-6)}`}function gye({status:e,isRunning:t}){if(t)return n.jsxs(W,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(ke,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(W,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function vye({worker:e}){const t=e.completedAt!==null,r=e.isRunning?"text-blue-500":t?"text-green-500":e.isActive?"text-amber-500":"text-gray-500";return n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2","data-testid":`worker-card-${e.workerId}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-medium",children:["Worker ",e.workerId]}),e.isRunning&&n.jsx(ke,{className:"w-3 h-3 animate-spin text-blue-500"}),t&&n.jsx(W,{variant:"outline",className:"text-green-500 border-green-500/30",children:"Done"})]}),n.jsx("span",{className:`text-sm ${r}`,children:e.isRunning?"Indexing...":t?"Complete":e.isActive?"Waiting":"Idle"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Range: ",tj(e.rangeStart)," - ",e.rangeEnd?tj(e.rangeEnd):"latest"]}),n.jsx(Ut,{value:e.percentComplete,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Block ",tj(e.currentBlock)]}),n.jsxs("span",{children:[e.percentComplete.toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Events: ",e.eventsFound]}),n.jsxs("span",{className:"text-muted-foreground",children:["Runs: ",e.runsCompleted]})]})]})}function yye(){const{toast:e}=an(),[t,r]=p.useState(""),[a,s]=p.useState(null),{data:l,isLoading:c,refetch:d}=Re({queryKey:["/api/admin/gardening-quest/status"],refetchInterval:3e3}),{data:f,isLoading:m}=Re({queryKey:["/api/admin/gardening-quest/hero",a],enabled:a!==null}),h=Oe({mutationFn:async()=>await Ie("POST","/api/admin/gardening-quest/trigger",{}),onSuccess:()=>{e({title:"Gardening quest indexer triggered"}),Me.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to trigger indexer",description:P.message,variant:"destructive"})}}),g=Oe({mutationFn:async P=>await Ie("POST","/api/admin/gardening-quest/auto-run",{action:P}),onSuccess:(P,M)=>{e({title:`Auto-run ${M==="start"?"started with 5 parallel workers":"stopped"}`}),Me.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to manage auto-run",description:P.message,variant:"destructive"})}}),v=Oe({mutationFn:async({startBlock:P,clearRewards:M})=>await Ie("POST","/api/admin/gardening-quest/reset-to-block",{startBlock:P,clearRewards:M}),onSuccess:P=>{e({title:"Indexer reset to recent blocks",description:`Starting from block ${P.startBlock?.toLocaleString()}, ${P.blocksToIndex?.toLocaleString()} blocks to scan`}),Me.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Failed to reset indexer",description:P.message,variant:"destructive"})}}),y=Oe({mutationFn:async()=>await Ie("POST","/api/admin/gardening-quest/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"All gardening quest data cleared. Ready to re-index."}),Me.invalidateQueries({queryKey:["/api/admin/gardening-quest/status"]})},onError:P=>{e({title:"Reset failed",description:P.message,variant:"destructive"})}}),N=async()=>{const M=Math.max(0,56e6);v.mutate({startBlock:M,clearRewards:!0})},b=()=>{const P=parseInt(t);!isNaN(P)&&P>0&&s(P)},w=l?.liveProgress?.isRunning||!1,C=l?.liveProgress,A=l?.indexerProgress,E=l?.stats,T=l?.workers,k=(T?.activeWorkers||0)>0;return n.jsxs("div",{className:"space-y-6","data-testid":"page-gardening-quest",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Au,{className:"w-6 h-6 text-green-500"}),"Gardening Quest Rewards"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track actual CRYSTAL/JEWEL earned per hero from gardening quests"})]}),n.jsx(se,{variant:"outline",size:"icon",onClick:()=>d(),"data-testid":"button-refresh",children:n.jsx(et,{className:"w-4 h-4"})})]}),c?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(ke,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(sf,{className:"w-4 h-4 text-purple-500"}),"Total CRYSTAL"]})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-total-crystal",children:Ms(E?.totalCrystal||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[E?.crystalCount||0," rewards"]})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Tr,{className:"w-4 h-4 text-amber-500"}),"Total JEWEL"]})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-500","data-testid":"text-total-jewel",children:Ms(E?.totalJewel||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[E?.jewelCount||0," rewards"]})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Mr,{className:"w-4 h-4"}),"Unique Heroes"]})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-heroes",children:Ms(E?.uniqueHeroes||0)}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[E?.uniquePlayers||0," players"]})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Total Rewards"})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:Ms(E?.totalRewards||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"indexed events"})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{className:"w-5 h-5 text-amber-500"}),n.jsx("span",{children:"Parallel Workers"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[k&&n.jsxs(W,{className:"bg-green-500/20 text-green-500 border-green-500/30",children:[T?.activeWorkers," / ",T?.maxWorkers," Workers"]}),n.jsx(gye,{status:A?.status||"idle",isRunning:k||w})]})]}),n.jsx(Se,{children:"5 parallel workers with work-stealing for fast historical scanning"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{onClick:()=>h.mutate(),disabled:h.isPending||w||k,size:"sm","data-testid":"button-trigger",children:[h.isPending?n.jsx(ke,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Run Once"]}),l?.isAutoRunning?n.jsxs(se,{onClick:()=>g.mutate("stop"),disabled:g.isPending,variant:"destructive",size:"sm","data-testid":"button-stop-auto",children:[n.jsx(kr,{className:"w-4 h-4 mr-2"}),"Stop Workers"]}):n.jsxs(se,{onClick:()=>g.mutate("start"),disabled:g.isPending,variant:"outline",size:"sm","data-testid":"button-start-auto",children:[n.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Start 5 Workers"]}),n.jsxs(se,{onClick:N,disabled:v.isPending||l?.isAutoRunning||k,variant:"outline",size:"sm","data-testid":"button-reset-recent",children:[v.isPending?n.jsx(ke,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(et,{className:"w-4 h-4 mr-2"}),"Reset to Last 1M Blocks"]}),n.jsxs(Qu,{children:[n.jsx(Xu,{asChild:!0,children:n.jsxs(se,{size:"sm",variant:"destructive",disabled:y.isPending||l?.isAutoRunning||k||w,"data-testid":"button-reset-all",children:[n.jsx(bc,{className:"w-4 h-4 mr-2"}),"Reset All"]})}),n.jsxs(Rc,{children:[n.jsxs(Mc,{children:[n.jsx(Lc,{children:"Reset All Gardening Quest Data?"}),n.jsx(Ic,{children:"This will delete all indexed gardening quest data including pool rewards and hero earnings. You'll need to re-index to restore the data with the latest capture fields."})]}),n.jsxs(Dc,{children:[n.jsx(Fc,{children:"Cancel"}),n.jsxs($c,{onClick:()=>y.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset-all",children:[y.isPending?n.jsx(ke,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]}),T&&T.workers.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:T.workers.map(P=>n.jsx(vye,{worker:P},P.workerId))}),C&&w&&!k&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:["Block ",C.currentBlock.toLocaleString()," / ",C.targetBlock.toLocaleString()]}),n.jsxs("span",{children:[C.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:C.percentComplete}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Found ",C.eventsFound," rewards"]})]}),A&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t pt-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Last Block:"}),n.jsx("span",{className:"ml-2 font-mono",children:A.lastIndexedBlock.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Events Indexed:"}),n.jsx("span",{className:"ml-2",children:A.totalEventsIndexed.toLocaleString()})]}),A.lastError&&n.jsxs("div",{className:"col-span-2 text-red-500 text-xs",children:["Error: ",A.lastError]})]})]})]}),l?.poolBreakdown&&l.poolBreakdown.length>0&&n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Au,{className:"w-5 h-5 text-green-500"}),"Rewards by Pool"]}),n.jsx(Se,{children:"Breakdown of rewards earned across all gardening pools"})]}),n.jsx(J,{children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Pool"}),n.jsx(V,{className:"text-right",children:"CRYSTAL"}),n.jsx(V,{className:"text-right",children:"JEWEL"}),n.jsx(V,{className:"text-right",children:"Rewards"}),n.jsx(V,{className:"text-right",children:"Heroes"})]})}),n.jsx(xt,{children:l.poolBreakdown.map(P=>n.jsxs(Pe,{"data-testid":`row-pool-${P.poolId}`,children:[n.jsxs(U,{className:"font-medium",children:[P.poolName,P.poolId===255&&n.jsx(W,{variant:"outline",className:"ml-2 text-xs",children:"Unlimited"})]}),n.jsx(U,{className:"text-right text-purple-500 font-medium",children:Ms(P.crystalAmount)}),n.jsx(U,{className:"text-right text-amber-500 font-medium",children:Ms(P.jewelAmount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:P.rewardCount.toLocaleString()}),n.jsx(U,{className:"text-right text-muted-foreground",children:P.uniqueHeroes.toLocaleString()})]},P.poolId))})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Search Hero Rewards"}),n.jsx(Se,{children:"Look up actual rewards earned by a specific hero"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Qe,{type:"number",placeholder:"Enter Hero ID...",value:t,onChange:P=>r(P.target.value),onKeyDown:P=>P.key==="Enter"&&b(),className:"max-w-xs","data-testid":"input-hero-search"}),n.jsx(se,{onClick:b,disabled:m,"data-testid":"button-search-hero",children:m?n.jsx(ke,{className:"w-4 h-4 animate-spin"}):n.jsx(Gs,{className:"w-4 h-4"})})]}),f&&a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Hero ID"}),n.jsx("div",{className:"font-bold","data-testid":"text-hero-id",children:f.stats.heroId})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Quests"}),n.jsx("div",{className:"font-bold",children:f.stats.totalQuests}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.stats.manualQuestCount||0," manual / ",f.stats.expeditionCount||0," expedition"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total CRYSTAL"}),n.jsx("div",{className:"font-bold text-purple-500",children:Ms(f.stats.totalCrystal)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total JEWEL"}),n.jsx("div",{className:"font-bold text-amber-500",children:Ms(f.stats.totalJewel)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Quest"}),n.jsx("div",{className:"font-bold text-xs",children:f.stats.lastQuest?new Date(f.stats.lastQuest).toLocaleDateString():"-"})]})]}),f.rewards.length>0?n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Time"}),n.jsx(V,{children:"Source"}),n.jsx(V,{children:"Pool"}),n.jsx(V,{children:"Token"}),n.jsx(V,{className:"text-right",children:"Amount"}),n.jsx(V,{children:"Tx"})]})}),n.jsx(xt,{children:f.rewards.slice(0,20).map(P=>n.jsxs(Pe,{"data-testid":`row-reward-${P.id}`,children:[n.jsx(U,{className:"text-xs",children:new Date(P.timestamp).toLocaleString()}),n.jsx(U,{children:n.jsx(W,{variant:"outline",className:P.source==="expedition"?"border-blue-500/30 text-blue-500":"border-gray-500/30",children:P.source==="expedition"?"Expedition":"Manual"})}),n.jsx(U,{children:n.jsxs(W,{variant:"outline",children:["Pool ",P.poolId]})}),n.jsx(U,{children:n.jsx(W,{className:P.rewardSymbol==="CRYSTAL"?"bg-purple-500/20 text-purple-500":P.rewardSymbol==="JEWEL"?"bg-amber-500/20 text-amber-500":"",children:P.rewardSymbol})}),n.jsx(U,{className:"text-right font-mono",children:Ms(P.rewardAmount)}),n.jsx(U,{className:"text-xs font-mono",children:n.jsx("a",{href:`https://subnets.avax.network/defi-kingdoms/tx/${P.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:xye(P.txHash)})})]},P.id))})]}):n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No rewards found for this hero yet"})]})]})]})]})]})}function bye(e){const t=jye(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(Nye);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function jye(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=Cye(s),d=Sye(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wye=Symbol("radix.slottable");function Nye(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wye}function Sye(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function Cye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Eye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zf=Eye.reduce((e,t)=>{const r=bye(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Sz=["PageUp","PageDown"],Cz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ez={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},cd="Slider",[Iw,Aye,Pye]=tf(cd),[Az]=xr(cd,[Pye]),[Oye,Rg]=Az(cd),Pz=p.forwardRef((e,t)=>{const{name:r,min:a=0,max:s=100,step:l=1,orientation:c="horizontal",disabled:d=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[a],value:h,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:N,...b}=e,w=p.useRef(new Set),C=p.useRef(0),E=c==="horizontal"?Tye:kye,[T=[],k]=ea({prop:h,defaultProp:m,onChange:_=>{[...w.current][C.current]?.focus(),g(_)}}),P=p.useRef(T);function M(_){const q=Lye(T,_);L(_,q)}function I(_){L(_,C.current)}function Q(){const _=P.current[C.current];T[C.current]!==_&&v(T)}function L(_,q,{commit:ve}={commit:!1}){const K=zye(l),ee=Bye(Math.round((_-a)/l)*l+a,K),B=Ru(ee,[a,s]);k((X=[])=>{const $=Mye(X,B,q);if(Fye($,f*l)){C.current=$.indexOf(B);const fe=String($)!==String(X);return fe&&ve&&v($),fe?$:X}else return X})}return n.jsx(Oye,{scope:e.__scopeSlider,name:r,disabled:d,min:a,max:s,valueIndexToChangeRef:C,thumbs:w.current,values:T,orientation:c,form:N,children:n.jsx(Iw.Provider,{scope:e.__scopeSlider,children:n.jsx(Iw.Slot,{scope:e.__scopeSlider,children:n.jsx(E,{"aria-disabled":d,"data-disabled":d?"":void 0,...b,ref:t,onPointerDown:ze(b.onPointerDown,()=>{d||(P.current=T)}),min:a,max:s,inverted:y,onSlideStart:d?void 0:M,onSlideMove:d?void 0:I,onSlideEnd:d?void 0:Q,onHomeKeyDown:()=>!d&&L(a,0,{commit:!0}),onEndKeyDown:()=>!d&&L(s,T.length-1,{commit:!0}),onStepKeyDown:({event:_,direction:q})=>{if(!d){const ee=Sz.includes(_.key)||_.shiftKey&&Cz.includes(_.key)?10:1,B=C.current,X=T[B],$=l*ee*q;L(X+$,B,{commit:!0})}}})})})})});Pz.displayName=cd;var[Oz,Tz]=Az(cd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Tye=p.forwardRef((e,t)=>{const{min:r,max:a,dir:s,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:f,onStepKeyDown:m,...h}=e,[g,v]=p.useState(null),y=tt(t,E=>v(E)),N=p.useRef(void 0),b=Qc(s),w=b==="ltr",C=w&&!l||!w&&l;function A(E){const T=N.current||g.getBoundingClientRect(),k=[0,T.width],M=zS(k,C?[r,a]:[a,r]);return N.current=T,M(E-T.left)}return n.jsx(Oz,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:n.jsx(kz,{dir:b,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const T=A(E.clientX);c?.(T)},onSlideMove:E=>{const T=A(E.clientX);d?.(T)},onSlideEnd:()=>{N.current=void 0,f?.()},onStepKeyDown:E=>{const k=Ez[C?"from-left":"from-right"].includes(E.key);m?.({event:E,direction:k?-1:1})}})})}),kye=p.forwardRef((e,t)=>{const{min:r,max:a,inverted:s,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...m}=e,h=p.useRef(null),g=tt(t,h),v=p.useRef(void 0),y=!s;function N(b){const w=v.current||h.current.getBoundingClientRect(),C=[0,w.height],E=zS(C,y?[a,r]:[r,a]);return v.current=w,E(b-w.top)}return n.jsx(Oz,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:n.jsx(kz,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const w=N(b.clientY);l?.(w)},onSlideMove:b=>{const w=N(b.clientY);c?.(w)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:b=>{const C=Ez[y?"from-bottom":"from-top"].includes(b.key);f?.({event:b,direction:C?-1:1})}})})}),kz=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:f,...m}=e,h=Rg(cd,r);return n.jsx(zf.span,{...m,ref:t,onKeyDown:ze(e.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(d(g),g.preventDefault()):Sz.concat(Cz).includes(g.key)&&(f(g),g.preventDefault())}),onPointerDown:ze(e.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),h.thumbs.has(v)?v.focus():a(g)}),onPointerMove:ze(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:ze(e.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),l(g))})})}),_z="SliderTrack",Rz=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=Rg(_z,r);return n.jsx(zf.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:t})});Rz.displayName=_z;var $w="SliderRange",Mz=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=Rg($w,r),l=Tz($w,r),c=p.useRef(null),d=tt(t,c),f=s.values.length,m=s.values.map(v=>Iz(v,s.min,s.max)),h=f>1?Math.min(...m):0,g=100-Math.max(...m);return n.jsx(zf.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:d,style:{...e.style,[l.startEdge]:h+"%",[l.endEdge]:g+"%"}})});Mz.displayName=$w;var Fw="SliderThumb",Dz=p.forwardRef((e,t)=>{const r=Aye(e.__scopeSlider),[a,s]=p.useState(null),l=tt(t,d=>s(d)),c=p.useMemo(()=>a?r().findIndex(d=>d.ref.current===a):-1,[r,a]);return n.jsx(_ye,{...e,ref:l,index:c})}),_ye=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:s,...l}=e,c=Rg(Fw,r),d=Tz(Fw,r),[f,m]=p.useState(null),h=tt(t,A=>m(A)),g=f?c.form||!!f.closest("form"):!0,v=Sx(f),y=c.values[a],N=y===void 0?0:Iz(y,c.min,c.max),b=Dye(a,c.values.length),w=v?.[d.size],C=w?Iye(w,N,d.direction):0;return p.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${N}% + ${C}px)`},children:[n.jsx(Iw.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(zf.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":c.min,"aria-valuenow":y,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:ze(e.onFocus,()=>{c.valueIndexToChangeRef.current=a})})}),g&&n.jsx(Lz,{name:s??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:y},a)]})});Dz.displayName=Fw;var Rye="RadioBubbleInput",Lz=p.forwardRef(({__scopeSlider:e,value:t,...r},a)=>{const s=p.useRef(null),l=tt(s,a),c=Ox(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&h){const g=new Event("input",{bubbles:!0});h.call(d,t),d.dispatchEvent(g)}},[c,t]),n.jsx(zf.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});Lz.displayName=Rye;function Mye(e=[],t,r){const a=[...e];return a[r]=t,a.sort((s,l)=>s-l)}function Iz(e,t,r){const l=100/(r-t)*(e-t);return Ru(l,[0,100])}function Dye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Lye(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),a=Math.min(...r);return r.indexOf(a)}function Iye(e,t,r){const a=e/2,l=zS([0,50],[0,a]);return(a-l(t)*r)*r}function $ye(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Fye(e,t){if(t>0){const r=$ye(e);return Math.min(...r)>=t}return!0}function zS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function zye(e){return(String(e).split(".")[1]||"").length}function Bye(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var $z=Pz,Uye=Rz,Hye=Mz,Vye=Dz;const zi=p.forwardRef(({className:e,...t},r)=>n.jsxs($z,{ref:r,className:De("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(Uye,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(Hye,{className:"absolute h-full bg-primary"})}),n.jsx(Vye,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));zi.displayName=$z.displayName;const qye=[{id:0,name:"wJEWEL-xJEWEL"},{id:1,name:"CRYSTAL-AVAX"},{id:2,name:"CRYSTAL-wJEWEL"},{id:3,name:"CRYSTAL-USDC"},{id:4,name:"ETH-USDC"},{id:5,name:"wJEWEL-USDC"},{id:6,name:"CRYSTAL-ETH"},{id:7,name:"CRYSTAL-BTC.b"},{id:8,name:"CRYSTAL-KLAY"},{id:9,name:"wJEWEL-KLAY"},{id:10,name:"wJEWEL-AVAX"},{id:11,name:"wJEWEL-BTC.b"},{id:12,name:"wJEWEL-ETH"},{id:13,name:"BTC.b-USDC"}];function VR({label:e,tokenType:t,heroId:r,setHeroId:a,petId:s,setPetId:l,heroData:c,petData:d,onFetchHero:f,onFetchPet:m,heroLoading:h,petLoading:g,stamina:v,setStamina:y}){const N=t==="jewel"?"text-purple-500":"text-blue-500",b=t==="jewel"?"bg-purple-500/10":"bg-blue-500/10",w=t==="jewel"?sf:KH;return n.jsxs("div",{className:`p-4 rounded-lg border ${b}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(w,{className:`h-5 w-5 ${N}`}),n.jsx("h3",{className:`font-semibold ${N}`,children:e}),n.jsxs(W,{variant:"outline",className:N,children:["Earns ",t.toUpperCase()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(_e,{className:"flex items-center gap-2",children:[n.jsx(Bh,{className:"h-4 w-4"}),"Hero ID"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Qe,{value:r,onChange:C=>a(C.target.value),placeholder:"e.g. 123456","data-testid":`input-${t}-hero-id`}),n.jsx(se,{onClick:f,disabled:h||!r,size:"icon","data-testid":`button-fetch-${t}-hero`,children:h?n.jsx(ke,{className:"h-4 w-4 animate-spin"}):n.jsx(Gs,{className:"h-4 w-4"})})]}),c?.ok&&n.jsxs("div",{className:"text-sm p-2 bg-background/50 rounded-md space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Class:"}),n.jsxs(W,{variant:"outline",children:[c.class,"/",c.subClass]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Level:"}),n.jsx("span",{className:"font-mono",children:c.level})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"WIS/VIT:"}),n.jsxs("span",{className:"font-mono",children:[c.wisdom,"/",c.vitality]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Gardening:"}),n.jsx("span",{className:"font-mono",children:c.gardeningSkill})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Profession:"}),n.jsx(W,{variant:c.hasGardeningGene?"default":"secondary",children:c.profession})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(_e,{className:"flex items-center gap-2",children:[n.jsx(AH,{className:"h-4 w-4"}),"Pet ID (optional)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Qe,{value:s,onChange:C=>l(C.target.value),placeholder:"e.g. 789","data-testid":`input-${t}-pet-id`}),n.jsx(se,{onClick:m,disabled:g||!s,size:"icon","data-testid":`button-fetch-${t}-pet`,children:g?n.jsx(ke,{className:"h-4 w-4 animate-spin"}):n.jsx(Gs,{className:"h-4 w-4"})})]}),d?.ok&&n.jsxs("div",{className:"text-sm p-2 bg-background/50 rounded-md space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Name:"}),n.jsx("span",{children:d.name||`Pet #${d.petId}`})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Type:"}),n.jsx(W,{variant:d.isGardeningPet?"default":"secondary",children:d.isGardeningPet?"Gardening":`Egg Type ${d.eggType}`})]}),d.bonusType&&n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:[d.bonusType,":"]}),n.jsxs("span",{className:"font-mono text-green-500",children:["+",d.powerSurgeBonus||d.skilledGreenskeeperBonus,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Fed:"}),n.jsx(W,{variant:d.isFed?"default":"destructive",children:d.isFed?"Yes":"Hungry"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex justify-between",children:n.jsxs(_e,{children:["Stamina: ",v[0]]})}),n.jsx(zi,{value:v,onValueChange:y,max:250,min:1,step:1,"data-testid":`slider-${t}-stamina`})]})]})]})}function Kye(){const{toast:e}=an(),[t,r]=p.useState(""),[a,s]=p.useState(""),[l,c]=p.useState(null),[d,f]=p.useState(null),[m,h]=p.useState([25]),[g,v]=p.useState(""),[y,N]=p.useState(""),[b,w]=p.useState(null),[C,A]=p.useState(null),[E,T]=p.useState([25]),[k,P]=p.useState(""),[M,I]=p.useState("2"),[Q,L]=p.useState("0.1"),[_,q]=p.useState(null),{data:ve,isLoading:K}=Re({queryKey:["/api/admin/gardening-calc/reward-fund"],refetchInterval:6e4}),{data:ee,isLoading:B}=Re({queryKey:["/api/admin/gardening-validate/summary"]}),X=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/hero/${t}`)).json(),onSuccess:ae=>{ae.ok?(c(ae),h([ae.stamina]),e({title:"JEWEL Hero loaded",description:`${ae.class} Lv${ae.level} - ${ae.profession}`})):e({title:"Error",description:ae.error||"Hero not found",variant:"destructive"})},onError:ae=>{e({title:"Error",description:ae.message,variant:"destructive"})}}),$=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/pet/${a}`)).json(),onSuccess:ae=>{ae.ok?(f(ae),ae.isGardeningPet&&ae.bonusType?e({title:"JEWEL Pet loaded",description:`${ae.bonusType} +${ae.powerSurgeBonus||ae.skilledGreenskeeperBonus}%`}):ae.isGardeningPet||e({title:"Warning",description:`Not a gardening pet (egg type ${ae.eggType})`,variant:"destructive"})):e({title:"Error",description:ae.error||"Pet not found",variant:"destructive"})},onError:ae=>{e({title:"Error",description:ae.message,variant:"destructive"})}}),fe=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/hero/${g}`)).json(),onSuccess:ae=>{ae.ok?(w(ae),T([ae.stamina]),e({title:"CRYSTAL Hero loaded",description:`${ae.class} Lv${ae.level} - ${ae.profession}`})):e({title:"Error",description:ae.error||"Hero not found",variant:"destructive"})},onError:ae=>{e({title:"Error",description:ae.message,variant:"destructive"})}}),pe=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/pet/${y}`)).json(),onSuccess:ae=>{ae.ok?(A(ae),ae.isGardeningPet&&ae.bonusType?e({title:"CRYSTAL Pet loaded",description:`${ae.bonusType} +${ae.powerSurgeBonus||ae.skilledGreenskeeperBonus}%`}):ae.isGardeningPet||e({title:"Warning",description:`Not a gardening pet (egg type ${ae.eggType})`,variant:"destructive"})):e({title:"Error",description:ae.error||"Pet not found",variant:"destructive"})},onError:ae=>{e({title:"Error",description:ae.message,variant:"destructive"})}}),R=Oe({mutationFn:async()=>(await fetch(`/api/admin/gardening-calc/wallet/${k}/positions`)).json(),onSuccess:ae=>{ae.ok?(q(ae),ae.positions.length>0?(I(String(ae.positions[0].poolId)),L(ae.positions[0].lpSharePct),e({title:"Wallet loaded",description:`Found ${ae.positions.length} LP position(s)`})):e({title:"No positions",description:"No staked LP found for this wallet"})):e({title:"Error",description:ae.error||"Failed to fetch wallet",variant:"destructive"})},onError:ae=>{e({title:"Error",description:ae.message,variant:"destructive"})}}),te=Oe({mutationFn:async()=>{const ae=d?.isFed??!0,Le=C?.isFed??!0,Ee=await(await Ie("POST","/api/admin/gardening-calc/calculate-dual",{poolId:parseInt(M),playerAddress:k||"0x0000000000000000000000000000000000000000",lpShareOverride:k?null:parseFloat(Q)/100,jewelHero:{heroId:t,wisdom:l?.wisdom??50,vitality:l?.vitality??50,gardeningSkill:l?.gardeningSkill??0,hasGardeningGene:l?.hasGardeningGene??!1,stamina:m[0],petBonusPct:ae?d?.powerSurgeBonus??0:0,skilledGreenskeeperBonus:ae?d?.skilledGreenskeeperBonus??0:0,petFed:ae},crystalHero:{heroId:g,wisdom:b?.wisdom??50,vitality:b?.vitality??50,gardeningSkill:b?.gardeningSkill??0,hasGardeningGene:b?.hasGardeningGene??!1,stamina:E[0],petBonusPct:Le?C?.powerSurgeBonus??0:0,skilledGreenskeeperBonus:Le?C?.skilledGreenskeeperBonus??0:0,petFed:Le}})).json();if(!Ee.ok)throw new Error(Ee.error||"Calculation failed");return Ee},onError:ae=>{e({title:"Calculation Error",description:ae.message,variant:"destructive"})}}),me=te.data,we=ae=>{I(ae);const Le=_?.positions.find(F=>F.poolId===parseInt(ae));Le&&L(Le.lpSharePct)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(Au,{className:"h-6 w-6"}),"Gardening Yield Calculator"]}),n.jsx("p",{className:"text-muted-foreground",children:"Calculate expected rewards for two heroes per quest iteration"})]})}),n.jsxs(si,{defaultValue:"calculator",className:"space-y-4",children:[n.jsxs(is,{children:[n.jsxs(St,{value:"calculator","data-testid":"tab-calculator",children:[n.jsx(zs,{className:"h-4 w-4 mr-2"}),"Calculator"]}),n.jsxs(St,{value:"validation","data-testid":"tab-validation",children:[n.jsx(za,{className:"h-4 w-4 mr-2"}),"Validation"]})]}),n.jsx(Tt,{value:"calculator",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Quest Heroes"}),n.jsx(Se,{children:"Enter hero and pet IDs for both JEWEL and CRYSTAL earners"})]}),n.jsx(J,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(VR,{label:"JEWEL Hero",tokenType:"jewel",heroId:t,setHeroId:r,petId:a,setPetId:s,heroData:l,petData:d,onFetchHero:()=>X.mutate(),onFetchPet:()=>$.mutate(),heroLoading:X.isPending,petLoading:$.isPending,stamina:m,setStamina:h}),n.jsx(VR,{label:"CRYSTAL Hero",tokenType:"crystal",heroId:g,setHeroId:v,petId:y,setPetId:N,heroData:b,petData:C,onFetchHero:()=>fe.mutate(),onFetchPet:()=>pe.mutate(),heroLoading:fe.isPending,petLoading:pe.isPending,stamina:E,setStamina:T})]})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Garden Pool"}),n.jsx(Se,{children:"Select pool and LP position (shared by both heroes)"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(_e,{className:"flex items-center gap-2",children:[n.jsx(qc,{className:"h-4 w-4"}),"Wallet Address (optional)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Qe,{id:"walletAddress",value:k,onChange:ae=>P(ae.target.value),placeholder:"0x... to auto-detect LP positions","data-testid":"input-wallet-address"}),n.jsx(se,{onClick:()=>R.mutate(),disabled:R.isPending||!k,"data-testid":"button-fetch-wallet",children:R.isPending?n.jsx(ke,{className:"h-4 w-4 animate-spin"}):n.jsx(Gs,{className:"h-4 w-4"})})]}),_?.ok&&_.positions.length>0&&n.jsxs("div",{className:"text-sm p-2 bg-muted rounded-md",children:[n.jsx("div",{className:"font-medium mb-2",children:"Staked LP Positions:"}),_.positions.map(ae=>n.jsxs("div",{className:`flex justify-between p-1 rounded cursor-pointer hover-elevate ${M===String(ae.poolId)?"bg-accent":""}`,onClick:()=>we(String(ae.poolId)),children:[n.jsx("span",{children:ae.poolName}),n.jsxs("span",{className:"font-mono",children:[ae.lpSharePct,"%"]})]},ae.poolId))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"poolId",children:"Garden Pool"}),n.jsxs(ct,{value:M,onValueChange:we,children:[n.jsx(st,{"data-testid":"select-pool",children:n.jsx(dt,{placeholder:"Select pool"})}),n.jsx(it,{children:qye.map(ae=>n.jsx(ye,{value:String(ae.id),children:ae.name},ae.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"lpShare",children:"LP Share %"}),n.jsx(Qe,{id:"lpShare",type:"number",step:"0.0001",value:Q,onChange:ae=>L(ae.target.value),placeholder:"0.1",disabled:!!k,"data-testid":"input-lp-share"})]})]}),n.jsxs(se,{onClick:()=>te.mutate(),disabled:te.isPending,className:"w-full","data-testid":"button-calculate",children:[te.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(zs,{className:"h-4 w-4 mr-2"}),"Calculate Rewards"]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Quest Reward Fund"}),n.jsx(Se,{children:"Current balances available for rewards"})]}),n.jsx(J,{children:K?n.jsx(ke,{className:"h-6 w-6 animate-spin"}):n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-crystal-pool",children:ve?.crystalPool?.toLocaleString(void 0,{maximumFractionDigits:0})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-jewel-pool",children:ve?.jewelPool?.toLocaleString(void 0,{maximumFractionDigits:0})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL"})]})]})})]}),me?.ok&&me.jewelHero&&me.crystalHero&&n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5 text-green-500"}),"Calculated Rewards"]}),n.jsx(Se,{children:me.poolName})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["JEWEL Hero #",me.jewelHero.heroId||"N/A"]}),n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-jewel-reward",children:me.totalRewards?.jewel?.toFixed(4)??"0.0000"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[me.jewelHero.perStamina?.toFixed(6)??"0.000000","/stam"]})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["CRYSTAL Hero #",me.crystalHero.heroId||"N/A"]}),n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-crystal-reward",children:me.totalRewards?.crystal?.toFixed(4)??"0.0000"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[me.crystalHero.perStamina?.toFixed(6)??"0.000000","/stam"]})]})]}),n.jsxs("div",{className:"border-t pt-4 space-y-3 text-sm",children:[n.jsx("h4",{className:"font-medium",children:"Hero Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-2 bg-purple-500/5 rounded",children:[n.jsx("div",{className:"text-xs text-purple-500 font-medium mb-1",children:"JEWEL Hero"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Hero Factor:"}),n.jsx("span",{className:"font-mono",children:me.jewelHero.heroFactor?.toFixed(4)??"0.0000"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pet Mult:"}),n.jsxs("span",{className:"font-mono",children:[me.jewelHero.petMultiplier?.toFixed(2)??"1.00","x"]})]})]}),n.jsxs("div",{className:"p-2 bg-blue-500/5 rounded",children:[n.jsx("div",{className:"text-xs text-blue-500 font-medium mb-1",children:"CRYSTAL Hero"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Hero Factor:"}),n.jsx("span",{className:"font-mono",children:me.crystalHero.heroFactor?.toFixed(4)??"0.0000"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pet Mult:"}),n.jsxs("span",{className:"font-mono",children:[me.crystalHero.petMultiplier?.toFixed(2)??"1.00","x"]})]})]})]}),n.jsx("h4",{className:"font-medium pt-2",children:"Shared Pool Stats"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{children:"Pool Allocation:"}),n.jsxs("div",{className:"font-mono",children:[((me.shared?.poolAllocation??0)*100).toFixed(1),"%"]}),n.jsx("div",{children:"LP Share:"}),n.jsxs("div",{className:"font-mono",children:[((me.shared?.lpShare??0)*100).toFixed(4),"%"]})]})]})]})]})]})]})}),n.jsx(Tt,{value:"validation",className:"space-y-4",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Indexed Rewards Summary"}),n.jsx(Se,{children:"Statistics from on-chain gardening quest reward data"})]}),n.jsx(J,{children:B?n.jsx(ke,{className:"h-6 w-6 animate-spin"}):ee?.ok?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-rewards",children:parseInt(ee.summary.totalRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Rewards"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-heroes",children:parseInt(ee.summary.uniqueHeroes).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Heroes"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-players",children:parseInt(ee.summary.uniquePlayers).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Players"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-avg-reward",children:parseFloat(ee.summary.avgRewardAmount).toFixed(4)}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Reward"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-blue-500",children:parseInt(ee.summary.crystalRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"CRYSTAL Rewards"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-500/10 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-purple-500",children:parseInt(ee.summary.jewelRewards).toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"JEWEL Rewards"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Rewards by Pool"}),n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Pool"}),n.jsx(V,{className:"text-right",children:"Count"}),n.jsx(V,{className:"text-right",children:"Avg Reward"})]})}),n.jsx(xt,{children:ee.poolBreakdown.filter(ae=>ae.poolId!==255).sort((ae,Le)=>Le.count-ae.count).map(ae=>n.jsxs(Pe,{children:[n.jsx(U,{children:ae.poolName}),n.jsx(U,{className:"text-right font-mono",children:ae.count.toLocaleString()}),n.jsx(U,{className:"text-right font-mono",children:ae.avgReward.toFixed(4)})]},ae.poolId))})]})]}),parseInt(ee.summary.withSnapshots)===0&&n.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[n.jsx($l,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"LP Snapshots Not Available"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Historical rewards don't have LP position snapshots. New rewards indexed going forward will include heroLpStake and poolTotalLp for accurate yield validation."})]})]}):n.jsx("div",{className:"text-center text-muted-foreground",children:"No validation data available"})})]})})]})]})}const Wye={cv:"Crystalvale Tavern",sd:"Sundered Isles Barkeep"};function Lh(e){if(e==null)return 0;let t;if(typeof e=="string"){const r=e.match(/ability_(\d+)/);if(!r)return 0;t=parseInt(r[1],10)}else t=e;return isNaN(t)||t>=0&&t<=7?0:t>=8&&t<=11?1:t>=12&&t<=13?2:t===14?3:t>=16&&t<=23?0:t>=24&&t<=27?1:t>=28&&t<=29?2:t===30?3:0}function nj(e){return Lh(e.active1)+Lh(e.active2)+Lh(e.passive1)+Lh(e.passive2)}const wa=["Common","Uncommon","Rare","Legendary","Mythic"],rj=["text-gray-500","text-green-500","text-blue-500","text-orange-500","text-purple-500"],BS={0:"Warrior",1:"Knight",2:"Thief",3:"Archer",4:"Priest",5:"Wizard",6:"Monk",7:"Pirate",8:"Paladin",9:"DarkKnight",10:"Summoner",11:"Ninja",16:"Dragoon",17:"Sage",18:"DreadKnight",19:"Shapeshifter",24:"Bard"};function Fz(e){if(!e||e===0)return[];const t=[];for(let r=0;r<32;r++)e&1<<r&&t.push(BS[r]||`Class${r}`);return t}function sc(e){return`${((typeof e=="string"?parseFloat(e):e)*100).toFixed(0)}%`}function tp(e,t){const r=e??1,a=t??100;return r<=1&&a>=100?null:r===a?`Lv ${r}`:`Lv ${r}-${a}`}function zw(e){const t=e??9e3;return t>=9e3?null:`TTS ${t}`}function Gye(e){const t=[],r=tp(e.level_min,e.level_max);r&&t.push(r);const a=e.rarity_min??0,s=e.rarity_max??4;(a>0||s<4)&&(a===s?t.push(`${wa[a]} Only`):a>0&&s===4?t.push(`${wa[a]}+`):a===0&&s<4?t.push(`${wa[s]}`):t.push(`${wa[a]}-${wa[s]}`));const l=zw(e.max_team_stat_score);if(l&&t.push(l),e.must_include_class&&e.included_class_id!=null){const f=BS[e.included_class_id]||`Class${e.included_class_id}`;t.push(`Req: ${f}`)}const c=Fz(e.excluded_classes);c.length>0&&t.push(`No: ${c.slice(0,2).join(", ")}${c.length>2?"...":""}`),e.all_unique_classes&&t.push("Unique Classes"),e.no_triple_classes&&t.push("No Triples");const d=e.party_size??3;return t.length===0?`Open ${d}v${d}`:`${t.join(" ")} ${d}v${d}`}function Yye({status:e}){return e==="running"?n.jsxs(W,{variant:"default",className:"bg-green-500",children:[n.jsx(ke,{className:"h-3 w-3 mr-1 animate-spin"}),"Running"]}):e==="error"?n.jsx(W,{variant:"destructive",children:"Error"}):n.jsx(W,{variant:"secondary",children:"Idle"})}function Qye(){const{toast:e}=an(),[t,r]=p.useState("100"),[a,s]=p.useState("cv"),[l,c]=p.useState(null),[d,f]=p.useState(new Set),[m,h]=p.useState("all"),[g,v]=p.useState("any"),[y,N]=p.useState("4"),[b,w]=p.useState("any"),[C,A]=p.useState("10"),[E,T]=p.useState("price"),[k,P]=p.useState(null),[M,I]=p.useState(null),{data:Q,isLoading:L,refetch:_}=Re({queryKey:["/api/admin/tournament/status"],refetchInterval:5e3}),{data:q,isLoading:ve}=Re({queryKey:["/api/admin/tournament/recent"],refetchInterval:1e4}),{data:K,isLoading:ee,refetch:B}=Re({queryKey:["/api/admin/similarity/config"]}),{data:X,isLoading:$}=Re({queryKey:["/api/admin/battle-ready/recommendations"]}),fe=new URLSearchParams;m!=="all"&&fe.set("realm",m),g!=="any"&&fe.set("maxTts",g),y!=="any"&&fe.set("minRarity",y),b!=="any"&&fe.set("minCombatPower",b),C!=="any"&&fe.set("minLevel",C),fe.set("sortBy",E),fe.set("limit","100");const pe=fe.toString(),R=`/api/admin/tavern-listings${pe?`?${pe}`:""}`,{data:te,isLoading:me,refetch:we}=Re({queryKey:["/api/admin/tavern-listings",m,g,y,b,C,E],queryFn:async()=>{const z=await fetch(R);if(!z.ok)throw new Error("Failed to fetch tavern listings");return z.json()}}),{data:ae,refetch:Le}=Re({queryKey:["/api/admin/tavern-indexer/status"],refetchInterval:5e3}),F=Oe({mutationFn:async()=>Ie("POST","/api/admin/tavern-indexer/trigger",{}),onSuccess:()=>{e({title:"Indexing started",description:"Tavern indexer is now running"}),Le()},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),Ee=Oe({mutationFn:async()=>Ie("POST","/api/admin/tavern-indexer/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"Tavern data cleared. Starting fresh index with gene data..."}),Le(),we(),F.mutate()},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),{data:ne,isLoading:Ae,refetch:$e}=Re({queryKey:["/api/admin/tournament/patterns"]}),xe=p.useMemo(()=>{if(!ne?.patterns)return[];const z=new Map;for(const Xe of ne.patterns){const rt=Xe.signature;if(!z.has(rt))z.set(rt,Xe);else{const Ta=z.get(rt),ms=parseInt(String(Ta.occurrence_count))||0;(parseInt(String(Xe.occurrence_count))||0)>ms&&z.set(rt,Xe)}}return Array.from(z.values())},[ne?.patterns]),nt=k?ne?.patterns.find(z=>z.signature===k)?.labelInfo?.id:null,{data:Ge,isLoading:Lt}=Re({queryKey:["/api/admin/tournament/types",nt,"heroes"],queryFn:async()=>{const z=await fetch(`/api/admin/tournament/types/${nt}/heroes`);if(!z.ok)throw new Error("Failed to fetch heroes");return z.json()},enabled:!!nt}),kt=Oe({mutationFn:async z=>Ie("POST","/api/admin/tournament/types",z),onSuccess:()=>{e({title:"Label created",description:"Tournament type label saved"}),I(null),Me.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),Z=Oe({mutationFn:async z=>Ie("DELETE",`/api/admin/tournament/types/${z}`,{}),onSuccess:()=>{e({title:"Label deleted",description:"Tournament type label removed"}),Me.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),le=Oe({mutationFn:async()=>Ie("POST","/api/admin/tournament/trigger",{maxBattles:parseInt(t)||100,realm:a}),onSuccess:()=>{const z=Wye[a]||a;e({title:"Indexer triggered",description:`Battle indexing started for ${z}`}),Me.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),Ze=Oe({mutationFn:async z=>Ie("PUT","/api/admin/similarity/config",z),onSuccess:()=>{e({title:"Config saved",description:"Similarity weights updated"}),c(null),B()},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),lt=Oe({mutationFn:async()=>Ie("POST","/api/admin/tournament/stop"),onSuccess:()=>{e({title:"Indexer stopped",description:"Battle indexing stopped"}),Me.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),ln=Oe({mutationFn:async()=>Ie("POST","/api/admin/tournament/autorun/start",{maxBattlesPerRun:200}),onSuccess:()=>{e({title:"Auto-run started",description:"Indexer will run periodically"}),Me.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),vr=Oe({mutationFn:async()=>Ie("POST","/api/admin/tournament/autorun/stop"),onSuccess:()=>{e({title:"Auto-run stopped",description:"Periodic indexing stopped"}),Me.invalidateQueries({queryKey:["/api/admin/tournament/status"]})},onError:z=>{e({title:"Error",description:z.message,variant:"destructive"})}}),jn=Oe({mutationFn:async()=>Ie("POST","/api/admin/tournament/reset"),onSuccess:()=>{e({title:"Reset complete",description:"All tournament data cleared. Ready to re-index."}),Me.invalidateQueries({queryKey:["/api/admin/tournament/status"]}),Me.invalidateQueries({queryKey:["/api/admin/tournament/patterns"]}),Me.invalidateQueries({queryKey:["/api/admin/battle-ready/recommendations"]})},onError:z=>{e({title:"Reset failed",description:z.message,variant:"destructive"})}}),Je=l||K?.config,dl=Q?.progress,ul=Q?.stats,mn=Q?.live,mo=z=>{if(!z)return"N/A";if(z<60)return`${z}s`;if(z<3600)return`${Math.floor(z/60)}m ${z%60}s`;const Xe=Math.floor(z/3600),rt=Math.floor(z%3600/60);return`${Xe}h ${rt}m`},Bf=mn?.totalBattlesToProcess?Math.round(mn.battlesProcessed/mn.totalBattlesToProcess*100):0,fl=p.useMemo(()=>{if(!te)return[];const z=te.crystalvale||[],Xe=te.serendale||[];let rt;if(m==="cv"?rt=z:m==="sd"?rt=Xe:rt=[...z,...Xe],g!=="any"){const Ta=parseInt(g,10);rt=rt.filter(ms=>nj(ms)<=Ta)}return rt.sort((Ta,ms)=>(Ta.priceUSD??999999)-(ms.priceUSD??999999))},[te,m,g]),aa=p.useMemo(()=>{const z=fl.filter(Wn=>d.has(Wn.id)),Xe=z.filter(Wn=>Wn.nativeToken==="CRYSTAL").reduce((Wn,sa)=>Wn+sa.priceNative,0),rt=z.filter(Wn=>Wn.nativeToken==="JEWEL").reduce((Wn,sa)=>Wn+sa.priceNative,0),Ta=z.reduce((Wn,sa)=>Wn+(sa.priceUSD??0),0),ms=z.reduce((Wn,sa)=>Wn+nj(sa),0);return{crystalTotal:Xe,jewelTotal:rt,usdTotal:Ta,count:z.length,teamTts:ms}},[fl,d]),Ig=z=>{f(Xe=>{const rt=new Set(Xe);return rt.has(z)?rt.delete(z):rt.add(z),rt})},ml=()=>f(new Set);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(Or,{className:"h-8 w-8 text-primary"}),"Battle-Ready Heroes"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Index PVP battle data and configure similarity scoring for hero recommendations"})]}),n.jsxs(se,{variant:"outline",onClick:()=>_(),"data-testid":"button-refresh-status",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Battles Indexed"}),n.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tournaments-count",children:L?n.jsx(ke,{className:"h-4 w-4 animate-spin"}):ul?.tournaments.toLocaleString()||0})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Hero Placements"}),n.jsx(za,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-placements-count",children:L?n.jsx(ke,{className:"h-4 w-4 animate-spin"}):ul?.placements.toLocaleString()||0})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Hero Snapshots"}),n.jsx(nN,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-snapshots-count",children:L?n.jsx(ke,{className:"h-4 w-4 animate-spin"}):ul?.snapshots.toLocaleString()||0})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"pb-2 flex flex-row items-center justify-between gap-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Winners"}),n.jsx(Xr,{className:"h-4 w-4 text-yellow-500"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold text-yellow-500","data-testid":"text-winners-count",children:L?n.jsx(ke,{className:"h-4 w-4 animate-spin"}):ul?.placementBreakdown?.winner?.toLocaleString()||0})})]})]}),mn?.isRunning&&n.jsxs(Y,{className:"border-green-500/50 bg-green-500/5",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(ke,{className:"h-5 w-5 animate-spin text-green-500"}),"Indexer Running - ",mn.workers.length," Workers"]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{children:["Progress: ",mn.battlesProcessed," / ",mn.totalBattlesToProcess," battles"]}),n.jsxs("span",{className:"font-mono",children:[Bf,"%"]})]}),n.jsx(Ut,{value:Bf,className:"h-3","data-testid":"progress-indexer"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-green-500",children:mn.throughputPerMinute}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"battles/min"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mo(mn.estimatedSecondsRemaining)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mn.placementsIndexed}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"placements"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:mn.workQueueSize}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"queue size"})]})]}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:mn.workers.map(z=>n.jsxs("div",{className:`p-2 rounded border text-center text-xs ${z.status==="working"?"bg-green-500/20 border-green-500/50":z.status==="stealing"?"bg-yellow-500/20 border-yellow-500/50":z.status==="done"?"bg-muted border-muted-foreground/20":"bg-background border-border"}`,"data-testid":`worker-card-${z.id}`,children:[n.jsxs("div",{className:"font-bold",children:["W",z.id+1]}),n.jsx("div",{className:"capitalize",children:z.status}),n.jsx("div",{className:"text-muted-foreground",children:z.battlesProcessed})]},z.id))}),n.jsxs(se,{variant:"destructive",onClick:()=>lt.mutate(),disabled:lt.isPending,className:"w-full","data-testid":"button-stop-indexer",children:[lt.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(kr,{className:"h-4 w-4 mr-2"}),"Stop Indexer"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"h-5 w-5"}),"Indexer Control"]}),n.jsx(Se,{children:"Trigger battle data indexing with 5 parallel workers"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_e,{htmlFor:"maxBattles",children:"Max Battles:"}),n.jsx(Qe,{id:"maxBattles",type:"number",value:t,onChange:z=>r(z.target.value),className:"w-24","data-testid":"input-max-battles"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(_e,{children:[n.jsx(TV,{className:"h-4 w-4 inline mr-1"}),"Realm:"]}),n.jsxs(ct,{value:a,onValueChange:s,children:[n.jsx(st,{className:"w-48","data-testid":"select-realm",children:n.jsx(dt,{placeholder:"Select realm"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"cv",children:"Crystalvale Tavern"}),n.jsx(ye,{value:"sd",children:"Sundered Isles Barkeep"})]})]})]}),n.jsxs(se,{onClick:()=>le.mutate(),disabled:le.isPending||mn?.isRunning,"data-testid":"button-trigger-indexer",children:[le.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Index Battles"]})]}),n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Auto-Run (Production):"}),mn?.isAutoRunning?n.jsx(W,{variant:"default",className:"bg-green-500",children:"Active"}):n.jsx(W,{variant:"secondary",children:"Inactive"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(se,{size:"sm",variant:"outline",onClick:()=>ln.mutate(),disabled:ln.isPending||mn?.isAutoRunning,"data-testid":"button-start-autorun",children:[n.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Start Auto-Run"]}),n.jsxs(se,{size:"sm",variant:"outline",onClick:()=>vr.mutate(),disabled:vr.isPending||!mn?.isAutoRunning,"data-testid":"button-stop-autorun",children:[n.jsx(kr,{className:"h-3 w-3 mr-1"}),"Stop Auto-Run"]}),n.jsxs(Qu,{children:[n.jsx(Xu,{asChild:!0,children:n.jsxs(se,{size:"sm",variant:"destructive",disabled:jn.isPending||mn?.isRunning||mn?.isAutoRunning,"data-testid":"button-reset-tournaments",children:[n.jsx(bc,{className:"h-3 w-3 mr-1"}),"Reset & Re-index"]})}),n.jsxs(Rc,{children:[n.jsxs(Mc,{children:[n.jsx(Lc,{children:"Reset Tournament Data?"}),n.jsx(Ic,{children:"This will delete all indexed tournament data including heroes, placements, and snapshots. You'll need to re-index to restore the data with the latest capture fields (entry fees, rewards, etc)."})]}),n.jsxs(Dc,{children:[n.jsx(Fc,{children:"Cancel"}),n.jsxs($c,{onClick:()=>jn.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset",children:[jn.isPending?n.jsx(ke,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]})]}),n.jsxs("div",{className:"space-y-2 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Status:"}),n.jsx(Yye,{status:dl?.status||"idle"})]}),dl?.lastRunAt&&n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Last Run:"}),n.jsx("span",{children:new Date(dl.lastRunAt).toLocaleString()})]}),dl?.lastError&&n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:dl.lastError})]})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(sM,{className:"h-5 w-5"}),"Similarity Weights"]}),n.jsx(Se,{children:"Configure how heroes are scored for similarity to battle winners"})]}),n.jsx(J,{className:"space-y-4",children:ee?n.jsx(ke,{className:"h-8 w-8 animate-spin mx-auto"}):Je?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Stats Weight"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.statsWeight)*100],max:100,step:5,onValueChange:z=>c({...Je,statsWeight:(z[0]/100).toString()}),"data-testid":"slider-stats-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.statsWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Active Abilities"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.activeAbilitiesWeight)*100],max:100,step:5,onValueChange:z=>c({...Je,activeAbilitiesWeight:(z[0]/100).toString()}),"data-testid":"slider-active-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.activeAbilitiesWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Passive Abilities"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.passiveAbilitiesWeight)*100],max:100,step:5,onValueChange:z=>c({...Je,passiveAbilitiesWeight:(z[0]/100).toString()}),"data-testid":"slider-passive-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.passiveAbilitiesWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Class Match"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.classMatchWeight)*100],max:100,step:5,onValueChange:z=>c({...Je,classMatchWeight:(z[0]/100).toString()}),"data-testid":"slider-class-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.classMatchWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Rarity Match"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.rarityMatchWeight)*100],max:100,step:5,onValueChange:z=>c({...Je,rarityMatchWeight:(z[0]/100).toString()}),"data-testid":"slider-rarity-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.rarityMatchWeight)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Gene Quality"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{value:[parseFloat(Je.geneQualityWeight)*100],max:100,step:5,onValueChange:z=>c({...Je,geneQualityWeight:(z[0]/100).toString()}),"data-testid":"slider-gene-weight"}),n.jsx("span",{className:"w-12 text-sm",children:sc(Je.geneQualityWeight)})]})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Weight Sum:"}),n.jsx("span",{className:"font-mono",children:(parseFloat(Je.statsWeight)+parseFloat(Je.activeAbilitiesWeight)+parseFloat(Je.passiveAbilitiesWeight)+parseFloat(Je.classMatchWeight)+parseFloat(Je.rarityMatchWeight)+parseFloat(Je.geneQualityWeight)).toFixed(2)})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Weights are auto-normalized when calculating scores (final score always 0-1)"})]}),l&&n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsxs(se,{onClick:()=>Ze.mutate(l),disabled:Ze.isPending,"data-testid":"button-save-config",children:[Ze.isPending&&n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]}),n.jsx(se,{variant:"outline",onClick:()=>c(null),children:"Cancel"})]})]}):n.jsx("div",{className:"text-muted-foreground text-center py-4",children:"No config found. Trigger the indexer to create default config."})})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Recent Battle Winners"}),n.jsx(Se,{children:"Heroes that have won recent PVP battles with their combat stats"})]}),n.jsx(J,{children:$?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(ke,{className:"h-8 w-8 animate-spin"})}):X?.recommendations&&X.recommendations.length>0?n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Hero ID"}),n.jsx(V,{children:"Class"}),n.jsx(V,{children:"Level"}),n.jsx(V,{children:"Rarity"}),n.jsx(V,{children:"Combat Power"}),n.jsx(V,{children:"Stats"}),n.jsx(V,{children:"Abilities"})]})}),n.jsx(xt,{children:X.recommendations.slice(0,20).map(z=>{const Xe=z.snapshot,rt=z.tournament;return Xe?n.jsxs(Pe,{"data-testid":`row-winner-${Xe.heroId}`,children:[n.jsx(U,{className:"font-mono",children:Xe.heroId}),n.jsx(U,{children:Xe.mainClass}),n.jsx(U,{children:Xe.level}),n.jsx(U,{children:n.jsx("span",{className:rj[Xe.rarity]||"",children:wa[Xe.rarity]||Xe.rarity})}),n.jsx(U,{className:"font-bold",children:Xe.combatPowerScore||"N/A"}),n.jsxs(U,{className:"text-xs",children:["STR:",Xe.strength??"-"," AGI:",Xe.agility??"-"," DEX:",Xe.dexterity??"-",n.jsx("br",{}),"VIT:",Xe.vitality??"-"," END:",Xe.endurance??"-"," INT:",Xe.intelligence??"-"]}),n.jsx(U,{className:"text-xs text-muted-foreground",children:[Xe.active1,Xe.active2].filter(Boolean).join(", ")||"None"})]},`${Xe.heroId}-${rt?.tournamentId||Xe.tournamentId}`):null})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No battle winners indexed yet. Trigger the indexer to start collecting data."})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Recent Battles"}),n.jsx(Se,{children:"Recently indexed PVP battles with their requirements"})]}),n.jsx(J,{children:ve?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(ke,{className:"h-8 w-8 animate-spin"})}):q?.tournaments&&q.tournaments.length>0?n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Battle ID"}),n.jsx(V,{children:"Format"}),n.jsx(V,{children:"Level Range"}),n.jsx(V,{children:"Rarity Range"}),n.jsx(V,{children:"Party Size"}),n.jsx(V,{children:"Status"})]})}),n.jsx(xt,{children:q.tournaments.slice(0,20).map(z=>n.jsxs(Pe,{"data-testid":`row-battle-${z.tournamentId}`,children:[n.jsx(U,{className:"font-mono",children:z.tournamentId}),n.jsx(U,{children:z.format}),n.jsx(U,{children:tp(z.levelMin,z.levelMax)||n.jsx("span",{className:"text-muted-foreground",children:"Open"})}),n.jsx(U,{children:z.rarityMin!==0||z.rarityMax!==4?`${wa[z.rarityMin]||z.rarityMin} - ${wa[z.rarityMax]||z.rarityMax}`:n.jsx("span",{className:"text-muted-foreground",children:"Any"})}),n.jsxs(U,{children:[z.partySize,"v",z.partySize]}),n.jsx(U,{children:n.jsx(W,{variant:"secondary",children:z.status})})]},z.tournamentId))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No battles indexed yet."})})]}),n.jsxs(Y,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(iM,{className:"h-5 w-5"}),"Tournament Types"]}),n.jsxs(Se,{children:["Discovered tournament patterns with restrictions. ",ne?.totalLabels||0," labeled."]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>$e(),"data-testid":"button-refresh-patterns",children:[n.jsx(et,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]})}),n.jsx(J,{children:Ae?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(ke,{className:"h-8 w-8 animate-spin"})}):xe.length>0?n.jsxs("div",{className:"space-y-2",children:[M&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg mb-4 space-y-3","data-testid":"label-form",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:["Create Label for: ",n.jsx("code",{className:"text-xs",children:M.signature})]}),n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>I(null),children:"Cancel"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(_e,{htmlFor:"label-name",children:"Label Name"}),n.jsx(Qe,{id:"label-name",value:M.label,onChange:z=>I({...M,label:z.target.value}),placeholder:"e.g., Beginner 3v3","data-testid":"input-label-name"})]}),n.jsxs("div",{children:[n.jsx(_e,{htmlFor:"label-category",children:"Category"}),n.jsxs(ct,{value:M.category,onValueChange:z=>I({...M,category:z}),children:[n.jsx(st,{"data-testid":"select-label-category",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"open",children:"Open"}),n.jsx(ye,{value:"beginner",children:"Beginner"}),n.jsx(ye,{value:"veteran",children:"Veteran"}),n.jsx(ye,{value:"specialty",children:"Specialty"}),n.jsx(ye,{value:"general",children:"General"})]})]})]}),n.jsxs("div",{children:[n.jsx(_e,{htmlFor:"label-color",children:"Color"}),n.jsx(Qe,{id:"label-color",type:"color",value:M.color,onChange:z=>I({...M,color:z.target.value}),className:"h-9 w-full","data-testid":"input-label-color"})]})]}),n.jsxs(se,{onClick:()=>kt.mutate(M),disabled:!M.label||kt.isPending,"data-testid":"button-save-label",children:[kt.isPending?n.jsx(ke,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(Yl,{className:"h-4 w-4 mr-1"}),"Save Label"]})]}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-8"}),n.jsx(V,{children:"Type"}),n.jsx(V,{children:"Restrictions"}),n.jsx(V,{children:"Occurrences"}),n.jsx(V,{children:"Label"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(xt,{children:xe.slice(0,30).map((z,Xe)=>n.jsxs(n.Fragment,{children:[n.jsxs(Pe,{"data-testid":`row-pattern-${Xe}`,children:[n.jsx(U,{children:z.labelInfo&&n.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>P(k===z.signature?null:z.signature),"data-testid":`button-expand-${Xe}`,children:k===z.signature?n.jsx(Hc,{className:"h-4 w-4"}):n.jsx(af,{className:"h-4 w-4"})})}),n.jsxs(U,{children:[n.jsx("div",{className:"font-medium text-sm",children:Gye(z)}),n.jsx("div",{className:"text-xs font-mono text-muted-foreground truncate max-w-[200px]",title:z.signature,children:z.signature})]}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[tp(z.level_min,z.level_max)&&n.jsx(W,{variant:"default",className:"text-xs bg-blue-600",children:tp(z.level_min,z.level_max)}),n.jsxs(W,{variant:"outline",className:"text-xs",children:[z.party_size,"v",z.party_size]}),zw(z.max_team_stat_score)&&n.jsx(W,{variant:"default",className:"text-xs bg-amber-600",children:zw(z.max_team_stat_score)}),z.rarity_min!==null&&z.rarity_max!==null&&(z.rarity_min!==0||z.rarity_max!==4)&&n.jsxs(W,{variant:"outline",className:"text-xs",children:[wa[z.rarity_min]||"Common","-",wa[z.rarity_max]||"Mythic"]}),z.all_unique_classes&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"All Unique"}),z.no_triple_classes&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"No Triples"}),z.excluded_classes&&z.excluded_classes>0&&n.jsxs(W,{variant:"destructive",className:"text-xs",children:["No: ",Fz(z.excluded_classes).join(", ")]}),z.must_include_class&&z.included_class_id!==null&&n.jsxs(W,{className:"text-xs bg-green-600",children:["Req: ",BS[z.included_class_id]||`Class${z.included_class_id}`]}),z.max_hero_stat_score!==null&&z.max_hero_stat_score<3e3&&n.jsxs(W,{variant:"secondary",className:"text-xs",children:["Hero",z.max_hero_stat_score]}),z.battle_budget&&n.jsxs(W,{variant:"secondary",className:"text-xs",children:["Budget: ",z.battle_budget]}),z.battle_inventory&&z.battle_inventory>0&&n.jsxs(W,{variant:"secondary",className:"text-xs",children:["Inv: ",z.battle_inventory]}),z.shot_clock_duration&&z.shot_clock_duration!==45&&n.jsxs(W,{variant:"outline",className:"text-xs",children:[z.shot_clock_duration,"s"]}),z.min_glories&&z.min_glories>0&&n.jsxs(W,{variant:"outline",className:"text-xs bg-yellow-600/20 border-yellow-500",children:["Entry: ",z.min_glories," Glory"]}),z.max_sponsor_count&&z.max_sponsor_count>0&&n.jsx(W,{variant:"outline",className:"text-xs bg-blue-600/20 border-blue-500",children:"Sponsored"}),z.glory_bout&&n.jsx(W,{variant:"outline",className:"text-xs bg-purple-600/20 border-purple-500",children:"Glory Bout"}),z.private_battle&&n.jsx(W,{variant:"outline",className:"text-xs bg-gray-600/20 border-gray-500",children:"Private"}),z.map_id!==null&&z.map_id>0&&n.jsxs(W,{variant:"outline",className:"text-xs",children:["Map: ",z.map_id]}),z.excluded_consumables&&z.excluded_consumables>0&&n.jsx(W,{variant:"destructive",className:"text-xs",children:"No Items"}),z.excluded_origin&&z.excluded_origin>0&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Origin Excl"})]})}),n.jsx(U,{children:n.jsx("span",{className:"font-mono",children:typeof z.occurrence_count=="number"?z.occurrence_count.toLocaleString():parseInt(String(z.occurrence_count)).toLocaleString()})}),n.jsx(U,{children:z.label?n.jsx(W,{style:{backgroundColor:z.labelInfo?.color||"#6366f1"},children:z.label}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"Unlabeled"})}),n.jsx(U,{children:n.jsx("div",{className:"flex items-center gap-1",children:z.label?n.jsxs(n.Fragment,{children:[n.jsx(se,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>I({signature:z.signature,label:z.label||"",category:z.labelInfo?.category||"general",color:z.labelInfo?.color||"#6366f1"}),"data-testid":`button-edit-label-${Xe}`,children:n.jsx(Yi,{className:"h-3 w-3"})}),n.jsxs(Qu,{children:[n.jsx(Xu,{asChild:!0,children:n.jsx(se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive","data-testid":`button-delete-label-${Xe}`,children:n.jsx(rN,{className:"h-3 w-3"})})}),n.jsxs(Rc,{children:[n.jsxs(Mc,{children:[n.jsx(Lc,{children:"Delete Label"}),n.jsxs(Ic,{children:['Are you sure you want to delete the label "',z.label,'"? This cannot be undone.']})]}),n.jsxs(Dc,{children:[n.jsx(Fc,{children:"Cancel"}),n.jsx($c,{onClick:()=>z.labelInfo?.id&&Z.mutate(z.labelInfo.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]}):n.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>I({signature:z.signature,label:"",category:"general",color:"#6366f1"}),"data-testid":`button-add-label-${Xe}`,children:[n.jsx(Yl,{className:"h-3 w-3 mr-1"}),"Label"]})})})]},`${z.signature}-${Xe}`),k===z.signature&&z.labelInfo&&n.jsx(Pe,{children:n.jsx(U,{colSpan:6,className:"bg-muted/30",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"text-sm font-medium mb-2",children:['Winning Heroes for "',z.label,'"']}),Lt?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx(ke,{className:"h-4 w-4 animate-spin"})}):Ge?.heroes&&Ge.heroes.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Ge.heroes.slice(0,8).map((rt,Ta)=>n.jsxs("div",{className:"p-2 bg-background rounded border text-xs",children:[n.jsxs("div",{className:"font-medium",children:[rt.main_class,"/",rt.sub_class]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv ",rt.level," | ",n.jsx("span",{className:rj[rt.rarity],children:wa[rt.rarity]})]}),n.jsxs("div",{className:"text-muted-foreground",children:["STR:",rt.strength," AGI:",rt.agility," INT:",rt.intelligence]})]},Ta))}):n.jsx("div",{className:"text-muted-foreground text-xs",children:"No winning heroes found for this type."})]})})},`${z.signature}-heroes`)]}))})]})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tournament patterns discovered yet. Run the indexer to collect data."})})]}),n.jsxs(Y,{children:[n.jsx(ie,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(tq,{className:"h-5 w-5"}),"Tavern Listings"]}),n.jsx(Se,{children:"Tournament-ready heroes from both taverns (Mythic rarity by default)"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(ct,{value:m,onValueChange:z=>h(z),children:[n.jsx(st,{className:"w-40","data-testid":"select-tavern-filter",children:n.jsx(dt,{placeholder:"Filter tavern"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"all",children:"All Taverns"}),n.jsx(ye,{value:"cv",children:"Crystalvale"}),n.jsx(ye,{value:"sd",children:"Sundered Isles"})]})]}),n.jsxs(ct,{value:g,onValueChange:z=>v(z),children:[n.jsx(st,{className:"w-32","data-testid":"select-tts-filter",children:n.jsx(dt,{placeholder:"Max TTS"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"any",children:"Any TTS"}),n.jsx(ye,{value:"3",children:"TTS 3"}),n.jsx(ye,{value:"5",children:"TTS 5"}),n.jsx(ye,{value:"7",children:"TTS 7"}),n.jsx(ye,{value:"9",children:"TTS 9"})]})]}),n.jsxs(ct,{value:y,onValueChange:z=>N(z),children:[n.jsx(st,{className:"w-36","data-testid":"select-rarity-filter",children:n.jsx(dt,{placeholder:"Min Rarity"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"any",children:"Any Rarity"}),n.jsx(ye,{value:"2",children:"Rare+"}),n.jsx(ye,{value:"3",children:"Legendary+"}),n.jsx(ye,{value:"4",children:"Mythic"})]})]}),n.jsxs(ct,{value:b,onValueChange:z=>w(z),children:[n.jsx(st,{className:"w-40","data-testid":"select-combat-power-filter",children:n.jsx(dt,{placeholder:"Min Combat Power"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"any",children:"Any CP"}),n.jsx(ye,{value:"150",children:"CP 150 (L1)"}),n.jsx(ye,{value:"220",children:"CP 220 (L10)"}),n.jsx(ye,{value:"290",children:"CP 290 (L20)"})]})]}),n.jsxs(ct,{value:C,onValueChange:z=>A(z),children:[n.jsx(st,{className:"w-32","data-testid":"select-level-filter",children:n.jsx(dt,{placeholder:"Min Level"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"any",children:"Any Level"}),n.jsx(ye,{value:"10",children:"Level 10+"}),n.jsx(ye,{value:"20",children:"Level 20+"}),n.jsx(ye,{value:"50",children:"Level 50+"})]})]}),n.jsxs(ct,{value:E,onValueChange:z=>T(z),children:[n.jsx(st,{className:"w-36","data-testid":"select-sort-by",children:n.jsx(dt,{placeholder:"Sort By"})}),n.jsxs(it,{children:[n.jsx(ye,{value:"price",children:"Cheapest"}),n.jsx(ye,{value:"combat_power",children:"Strongest"}),n.jsx(ye,{value:"value",children:"Best Value"})]})]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>we(),"data-testid":"button-refresh-tavern",children:[n.jsx(et,{className:"h-4 w-4 mr-1"}),"Refresh"]}),aa.count>0&&n.jsxs(se,{variant:"ghost",size:"sm",onClick:ml,"data-testid":"button-clear-selection",children:["Clear (",aa.count,")"]})]})]})}),n.jsxs(J,{children:[aa.count>0&&n.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-lg flex flex-wrap items-center gap-4","data-testid":"team-cost-summary",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gi,{className:"h-5 w-5 text-green-500"}),n.jsxs("span",{className:"font-semibold",children:["Team (",aa.count," heroes):"]})]}),aa.crystalTotal>0&&n.jsxs(W,{variant:"outline",className:"text-blue-400","data-testid":"text-crystal-total",children:[aa.crystalTotal.toFixed(2)," CRYSTAL"]}),aa.jewelTotal>0&&n.jsxs(W,{variant:"outline",className:"text-purple-400","data-testid":"text-jewel-total",children:[aa.jewelTotal.toFixed(2)," JEWEL"]}),n.jsxs(W,{className:"bg-green-600","data-testid":"text-usd-total",children:["$",aa.usdTotal.toFixed(2)," USD"]}),n.jsxs(W,{variant:"outline",className:"text-orange-400","data-testid":"text-team-tts",children:["TTS: ",aa.teamTts]})]}),n.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg","data-testid":"tavern-indexer-status",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[ae?.status?.isRunning?n.jsx(ke,{className:"h-4 w-4 animate-spin text-yellow-500"}):n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.jsx("span",{className:"text-sm font-medium",children:ae?.status?.isRunning?"Indexing...":"Indexed"})]}),n.jsxs(W,{variant:"outline",className:"text-xs",children:[ae?.status?.totalHeroesIndexed||0," heroes"]}),te?.source==="indexed"&&te?.lastIndexed&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(te.lastIndexed.replace(" ","T")).toLocaleString()]}),te?.source==="live"&&n.jsx(W,{variant:"outline",className:"text-xs text-orange-400",children:"Live API"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>Ee.mutate(),disabled:ae?.status?.isRunning||Ee.isPending||F.isPending,"data-testid":"button-reset-tavern-indexer",children:[Ee.isPending?n.jsx(ke,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(bc,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsxs(se,{variant:"outline",size:"sm",onClick:()=>F.mutate(),disabled:ae?.status?.isRunning||F.isPending,"data-testid":"button-trigger-tavern-indexer",children:[ae?.status?.isRunning||F.isPending?n.jsx(ke,{className:"h-4 w-4 mr-1 animate-spin"}):n.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Re-index"]}),ae?.status?.autoRunActive&&n.jsx(W,{variant:"secondary",className:"text-xs",children:"Auto-refresh: 30min"})]})]}),ae?.stats&&ae.stats.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-4 text-xs text-muted-foreground",children:ae.stats.map(z=>n.jsxs("span",{children:[z.realm==="cv"?"CV":"SD",": ",z.total_heroes," heroes, avg ",parseFloat(z.avg_price).toFixed(1)," ",z.realm==="cv"?"CRYSTAL":"JEWEL"]},z.realm))})]}),me?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(ke,{className:"h-8 w-8 animate-spin"})}):fl.length>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["Source: ",te?.source==="indexed"?"Database":"Live API"," | Prices: CRYSTAL $",te?.prices.crystal?.toFixed(4)||"N/A"," | JEWEL $",te?.prices.jewel?.toFixed(4)||"N/A"]}),n.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-10"}),n.jsx(V,{children:"Hero ID"}),n.jsx(V,{children:"Class"}),n.jsx(V,{children:"Level"}),n.jsx(V,{children:"Rarity"}),n.jsx(V,{children:"CP"}),n.jsx(V,{children:"TTS"}),n.jsx(V,{children:"Profession"}),n.jsx(V,{children:"Summons"}),n.jsx(V,{children:"Stats"}),n.jsx(V,{className:"text-right",children:"Price"})]})}),n.jsx(xt,{children:fl.map(z=>n.jsxs(Pe,{"data-testid":`row-tavern-${z.id}`,className:d.has(z.id)?"bg-muted/50":"",children:[n.jsx(U,{children:n.jsx(hx,{checked:d.has(z.id),onCheckedChange:()=>Ig(z.id),"data-testid":`checkbox-hero-${z.id}`})}),n.jsx(U,{className:"font-mono text-xs",children:z.normalizedId}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:z.mainClassStr}),n.jsx("span",{className:"text-xs text-muted-foreground",children:z.subClassStr})]})}),n.jsx(U,{children:z.level}),n.jsx(U,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:rj[z.rarity]||"",children:wa[z.rarity]||z.rarity}),z.summonStone&&n.jsxs(W,{variant:"outline",className:`text-xs px-1 py-0 ${z.stoneTier==="greater"?"text-yellow-400 border-yellow-400/50":z.stoneTier==="normal"?"text-slate-300 border-slate-400/50":z.stoneTier==="lesser"?"text-amber-600 border-amber-500/50":"text-emerald-400 border-emerald-400/50"}`,"data-testid":`badge-stoned-${z.id}`,title:z.stoneTier&&z.stoneType?`${z.stoneTier.charAt(0).toUpperCase()+z.stoneTier.slice(1)} ${z.stoneType.charAt(0).toUpperCase()+z.stoneType.slice(1)} Stone`:"Enhancement Stone",children:[n.jsx(sf,{className:"h-3 w-3 mr-0.5"}),n.jsxs("span",{className:"text-[10px]",children:[z.stoneTier==="greater"?"G":z.stoneTier==="lesser"?"L":"",z.stoneType?z.stoneType.slice(0,3).toUpperCase():""]})]})]})}),n.jsx(U,{children:n.jsx(W,{variant:"secondary",className:"text-xs font-mono","data-testid":`text-hero-cp-${z.id}`,children:z.combatPower||z.strength+z.agility+z.intelligence+z.wisdom+z.luck+z.dexterity+z.vitality+z.endurance||0})}),n.jsx(U,{children:n.jsx(W,{variant:"outline",className:"text-xs","data-testid":`text-hero-tts-${z.id}`,children:nj(z)})}),n.jsx(U,{className:"text-xs",children:z.professionStr}),n.jsxs(U,{className:"text-xs",children:[z.summons,"/",z.maxSummons]}),n.jsxs(U,{className:"text-xs",children:["STR:",z.strength," AGI:",z.agility,n.jsx("br",{}),"INT:",z.intelligence," WIS:",z.wisdom]}),n.jsx(U,{className:"text-right",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:z.nativeToken==="CRYSTAL"?"text-blue-400 font-medium":"text-purple-400 font-medium",children:[z.priceNative.toFixed(2)," ",z.nativeToken]}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",z.priceUSD?.toFixed(2)??"N/A"]})]})})]},z.id))})]})})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No heroes for sale found. Try refreshing."})]})]})]})}const Xye="/assets/image_1767989909914-BoOIJOrw.png",Zye="/assets/image_1767989916670-CIB_QLg6.png",Jye="/assets/image_1767989924709-Cd-fX91X.png",e0e="/assets/image_1767989933201-CExWd6gH.png",t0e="/assets/image_1767989940273-D-256Xo-.png",n0e="/assets/image_1767989948128-DF1TFkq_.png",r0e={0:"B1",1:"B2",2:"B3",3:"B4",4:"B5",5:"B6",6:"B7",7:"B8",8:"B9",9:"B10",10:"B11",11:"B12",12:"B13",13:"B14",14:"B15",15:"B16",16:"A1",17:"A2",18:"A3",19:"A4",20:"A5",21:"A6",24:"E1",25:"E2",26:"E3",28:"X1"},a0e={0:"#ab9159",1:"#af3853",2:"#578761",3:"#068483",4:"#48321e",5:"#66489e",6:"#ca93a7",7:"#62a7e6",8:"#c34b1e",9:"#326988",10:"#513f4f",11:"#d48b41",12:"#dbfbf5",13:"#8f9bb3",14:"#c5bfa7",15:"#d7bc65",16:"#d7bc65",17:"#9b68ab",18:"#8d6b3a",19:"#566377",20:"#dbfbf5",21:"#8f9bb3",24:"#275435",25:"#77b23c",26:"#880016",28:"#353132"},s0e={0:"#203997",2:"#896693",4:"#bb3f55",6:"#0d7634",8:"#8d7136",10:"#613d8a",12:"#2494a2",14:"#a41e12"},i0e={0:"#c58135",2:"#f1ca9e",4:"#985e1c",6:"#57340c",8:"#e6a861",10:"#7b4a11",12:"#e5ac91",14:"#aa5c38"},qR={0:"#c5bfa7",1:"#a88b47",2:"#58381e",3:"#566f7d",4:"#2a386d",5:"#3f2e40",6:"#830e18",7:"#6f3a3c",8:"#cddef0",9:"#df7126",10:"#835138",11:"#86a637",16:"#6b173c",17:"#a0304d",18:"#78547c",19:"#352a51",24:"#147256",25:"#cf7794",26:"#c29d35",28:"#211f1f"},l0e={0:"Battle Hawk",1:"Wolf Mane",2:"Enchanter",3:"Wild Growth",4:"Pixel",5:"Sunrise",6:"Bouffant",7:"Agleam Spike",8:"Wayfinder",9:"Faded Topknot",10:"Side Shave",11:"Ronin",16:"Gruff",17:"Rogue Locs",18:"Stone Cold",19:"Zinra's Tail",20:"Hedgehog",21:"Delinquent",24:"Skegg",25:"Shinobi",26:"Sanjo",28:"Perfect Form"},o0e={0:"Windswept",1:"Fauna",2:"Enchantress",3:"Pineapple Top",4:"Pixie",5:"Darkweave Plait",6:"Coif",7:"Courtly Updo",8:"Cerulean Tuft",9:"Lorelei",10:"Casual Ponytail",11:"Wild Ponytail",16:"Vogue Locs",17:"Twilight Locs",18:"Ethereal Wisherah",19:"Kunoichi",20:"Sweeping Wisherah",21:"Chignon",24:"Regal Locks",25:"Moonlight Cascade",26:"Mystic Coil",28:"Divine Radiance"},c0e={0:"None",1:"Kitsune Ears",2:"Satyr Horns",3:"Ram Horns",4:"Imp Horns",5:"Cat Ears",6:"Minotaur Horns",7:"Faun Horns",8:"Draconic Horns",9:"Fae Circlet",10:"Ragfly Antennae",11:"Royal Crown",16:"Jagged Horns",17:"Spindle Horns",18:"Bear Ears",19:"Antennae",20:"Fallen Angel Coronet",21:"Power Horn",24:"Wood Elf Ears",25:"Snow Elf Ears",26:"Cranial Wings",28:"Insight Jewel"},d0e={0:"None",1:"Monkey Tail",2:"Cat Tail",3:"Imp Tail",4:"Minotaur Tail",5:"Daish",6:"Kitsune Tail",7:"Zweihnder",8:"Skeletal Wings",9:"Skeletal Tail",10:"Afflicted Spikes",11:"Traveler's Pack",16:"Gryphon Wings",17:"Draconic Wings",18:"Butterfly Wings",19:"Phoenix Wings",20:"Fallen Angel",21:"Crystal Wings",24:"Aura of the Inner Grove",25:"Ancient Orbs",26:"Arachnid Legs",28:"Cecaelia Tentacles"},aj={0:"Sand",1:"Rose",2:"Emerald",3:"Teal",4:"Brown",5:"Amethyst",6:"Pink",7:"Cornflower",8:"Auburn",9:"Ocean",10:"Plum",11:"Honey",16:"Wheat",17:"Lavender",18:"Chestnut",19:"Slate",20:"Forest",21:"Lime",24:"Crimson",25:"Obsidian",26:"Mint",28:"Silver"},u0e={0:"Azure",2:"Mirabella",4:"Izmir",6:"Turmalin",8:"Hazel",10:"Violet",12:"Aqua",14:"Crimson"},f0e={0:"Nomad",2:"Ginger",4:"Salmon",6:"Nutmeg",8:"Peach",10:"Copper",12:"Rose",14:"Terra"},KR={0:"Blacksmithing",2:"Goldsmithing",4:"Armorsmithing",6:"Woodworking",8:"Leatherworking",10:"Tailoring",12:"Enchanting",14:"Alchemy"},WR={0:"Basic1",1:"Basic2",2:"Basic3",3:"Basic4",4:"Basic5",5:"Basic6",6:"Basic7",7:"Basic8",16:"Advanced1",17:"Advanced2",18:"Advanced3",19:"Advanced4",24:"Elite1",25:"Elite2",28:"Exalted1"},m0e={0:"Desert",2:"Forest",4:"Plains",6:"Island",8:"Swamp",10:"Mountains",12:"City",14:"Arctic"};function h0e(e){return e.startsWith("A")||e.startsWith("E")||e.startsWith("X")}const p0e={0:"bg-gray-500",1:"bg-green-500",2:"bg-blue-500",3:"bg-orange-500",4:"bg-purple-500"};function va({title:e,probabilities:t,mutations:r}){let a;if(r?r instanceof Set?a=r:Array.isArray(r)?a=new Set(r):(console.warn(`[SummoningCalculator] Unexpected mutations format for ${e}:`,typeof r,r),a=new Set):a=new Set,!t||typeof t!="object")return null;const s=Object.entries(t).sort((l,c)=>c[1]-l[1]).filter(([l,c])=>c>0);return s.length===0?null:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("div",{className:"space-y-0.5",children:s.map(([l,c])=>{const d=a.has(l);return n.jsxs("div",{className:`flex justify-between text-xs py-0.5 px-1 rounded ${d?"bg-orange-500/20 text-orange-300":""}`,title:d?"Mutation (not in parent dominant genes)":void 0,children:[n.jsx("span",{className:d?"font-medium":"",children:l}),n.jsxs("span",{className:"font-mono",children:[c.toFixed(2),"%"]})]},l)})})]})}function Vr({title:e,probabilities:t,nameMap:r,colorMap:a,showPairNames:s,femaleNameMap:l}){if(!t||typeof t!="object")return null;const c=Object.entries(t).sort((d,f)=>f[1]-d[1]).filter(([d,f])=>f>0);return c.length===0?null:n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold text-sm",children:e}),n.jsx("div",{className:"space-y-0.5",children:c.map(([d,f])=>{const m=Number(d),h=r0e[m]||`?${m}`,g=h0e(h),v=a?.[m],y=r[m]||`Gene ${m}`;let N=y;if(s&&l){const b=l[m];b&&b!==y&&(N=`${y} / ${b}`)}return n.jsxs("div",{className:`flex items-center justify-between text-xs py-0.5 px-1 rounded gap-1 ${g?"bg-orange-500/20":""}`,children:[n.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[v&&n.jsx("div",{className:"w-3 h-3 rounded-sm border border-border/50 flex-shrink-0",style:{backgroundColor:v}}),n.jsxs("span",{className:`truncate ${g?"text-orange-300 font-medium":""}`,children:["(",h,") ",N]})]}),n.jsxs("span",{className:"font-mono flex-shrink-0",children:[f.toFixed(2),"%"]})]},d)})})]})}function x0e({genetics:e,title:t}){const r=[{name:"Class",value:e.mainClass},{name:"SubClass",value:e.subClass},{name:"Profession",value:e.profession},{name:"Stat Boost 1",value:e.statBoost1},{name:"Stat Boost 2",value:e.statBoost2},{name:"Active 1",value:e.active1},{name:"Active 2",value:e.active2},{name:"Passive 1",value:e.passive1},{name:"Passive 2",value:e.passive2},{name:"Element",value:e.element}];return n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:t}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-1 px-1",children:"Trait"}),n.jsx("th",{className:"text-left py-1 px-1",children:"Dominant"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R1"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R2"}),n.jsx("th",{className:"text-left py-1 px-1",children:"R3"})]})}),n.jsx("tbody",{children:r.map(({name:a,value:s})=>n.jsxs("tr",{className:"border-b border-border/50",children:[n.jsx("td",{className:"py-1 px-1 font-medium",children:a}),n.jsx("td",{className:"py-1 px-1",children:s?.dominant||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R1||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R2||"-"}),n.jsx("td",{className:"py-1 px-1 text-muted-foreground",children:s?.R3||"-"})]},a))})]})})]})}function GR({hero:e,genetics:t}){return n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs(oe,{className:"text-lg",children:["Hero #",e.normalizedId]}),n.jsx(W,{className:p0e[e.rarity],children:e.rarityName})]})}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Class:"})," ",e.mainClass]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"SubClass:"})," ",e.subClass]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Profession:"})," ",e.profession]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",e.level]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen:"})," ",e.generation]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Summons:"})," ",e.summonsRemaining,"/",e.maxSummons]})]}),n.jsx(Dn,{}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"STR:"})," ",e.strength]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"AGI:"})," ",e.agility]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"INT:"})," ",e.intelligence]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"WIS:"})," ",e.wisdom]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"LCK:"})," ",e.luck]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"DEX:"})," ",e.dexterity]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"VIT:"})," ",e.vitality]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"END:"})," ",e.endurance]})]}),t&&n.jsxs(n.Fragment,{children:[n.jsx(Dn,{}),n.jsx(x0e,{genetics:t,title:"Stat Genetics"})]})]})]})}function g0e(){const[e,t]=p.useState(""),[r,a]=p.useState(""),[s,l]=p.useState(null),[c,d]=p.useState("calculator"),[f,m]=p.useState(!1),[h,g]=p.useState(""),[v,y]=p.useState(""),[N,b]=p.useState(["cv","sd"]),[w,C]=p.useState("500"),[A,E]=p.useState("1"),[T,k]=p.useState("1"),[P,M]=p.useState(""),[I,Q]=p.useState(null),{data:L}=Re({queryKey:["/api/admin/sniper/filters"]}),_=Oe({mutationFn:async({hero1Id:$,hero2Id:fe})=>(await Ie("POST","/api/admin/summoning/calculate",{hero1Id:$,hero2Id:fe})).json(),onSuccess:$=>{$.ok&&l($)}}),q=()=>{!e||!r||_.mutate({hero1Id:e,hero2Id:r})};p.useEffect(()=>{if(f)return;const $=new URLSearchParams(window.location.search),fe=$.get("hero1"),pe=$.get("hero2");fe&&pe&&(t(fe),a(pe),m(!0),setTimeout(()=>{_.mutate({hero1Id:fe,hero2Id:pe})},100))},[f]);const ve=Oe({mutationFn:async()=>(await Ie("POST","/api/admin/sniper/search",{targetClass:h||void 0,targetProfession:v||void 0,realms:N,maxPricePerHero:parseFloat(w)||500,minSummonsRemaining:parseInt(A)||1,minLevel:parseInt(T)||1,maxTTS:P?parseFloat(P):null,limit:20})).json(),onSuccess:$=>{$.ok&&Q($)}}),K=()=>{!h&&!v||ve.mutate()},ee=$=>{b(fe=>fe.includes($)?fe.filter(pe=>pe!==$):[...fe,$])},B=$=>["Common","Uncommon","Rare","Legendary","Mythic"][$]||"Unknown",X=$=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][$]||"text-gray-400";return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zs,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summoning Calculator"}),n.jsx("p",{className:"text-muted-foreground",children:"Calculate offspring trait probabilities from two parent heroes"})]})]}),n.jsx(si,{value:c,onValueChange:d,className:"w-full",children:n.jsxs(is,{className:"flex flex-wrap h-auto gap-1 w-full sm:w-auto",children:[n.jsxs(St,{value:"calculator","data-testid":"tab-calculator",children:[n.jsx(zs,{className:"h-4 w-4 mr-1"}),"Calculator"]}),n.jsxs(St,{value:"infographics","data-testid":"tab-infographics",children:[n.jsx(fV,{className:"h-4 w-4 mr-1"}),"Infographics"]}),n.jsxs(St,{value:"sniper","data-testid":"tab-sniper",children:[n.jsx(za,{className:"h-4 w-4 mr-1"}),"Sniper"]})]})})]}),c==="calculator"&&n.jsxs(n.Fragment,{children:[n.jsxs(Y,{children:[n.jsx(ie,{children:n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"h-5 w-5"}),"Enter Parent Heroes"]})}),n.jsxs(J,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(_e,{htmlFor:"hero1",children:"Hero 1 ID"}),n.jsx(Qe,{id:"hero1",placeholder:"e.g. 62",value:e,onChange:$=>t($.target.value),"data-testid":"input-hero1-id"})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(_e,{htmlFor:"hero2",children:"Hero 2 ID"}),n.jsx(Qe,{id:"hero2",placeholder:"e.g. 569",value:r,onChange:$=>a($.target.value),"data-testid":"input-hero2-id"})]}),n.jsxs(se,{onClick:q,disabled:!e||!r||_.isPending,"data-testid":"button-calculate",children:[_.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(lf,{className:"h-4 w-4 mr-2"}),"Calculate"]})]}),_.isError&&n.jsxs("p",{className:"text-destructive text-sm mt-2",children:["Error: ",_.error?.message||"Failed to calculate"]})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(GR,{hero:s.parent1,genetics:s.genetics1}),n.jsx(GR,{hero:s.parent2,genetics:s.genetics2})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(bu,{className:"h-5 w-5"}),"Summoning Chances",n.jsxs(W,{variant:"outline",className:"ml-2",children:["Offspring Gen ",s.offspringGeneration]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("span",{className:"text-orange-400",children:"Orange"})," = Mutation (trait not in either parent's dominant gene)"]})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Stat Genes"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(va,{title:"Class",probabilities:s.probabilities.class,mutations:s.probabilities.mutations?.class}),n.jsx(va,{title:"Sub Class",probabilities:s.probabilities.subClass,mutations:s.probabilities.mutations?.subClass}),n.jsx(va,{title:"Profession",probabilities:s.probabilities.profession,mutations:s.probabilities.mutations?.profession}),n.jsx(va,{title:"Rarity",probabilities:s.probabilities.rarity}),n.jsx(va,{title:"Stat Boost 1",probabilities:s.probabilities.statBoost1,mutations:s.probabilities.mutations?.statBoost1}),n.jsx(va,{title:"Stat Boost 2",probabilities:s.probabilities.statBoost2,mutations:s.probabilities.mutations?.statBoost2})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mt-4",children:[n.jsx(va,{title:"Active 1",probabilities:s.probabilities.active1,mutations:s.probabilities.mutations?.active1}),n.jsx(va,{title:"Active 2",probabilities:s.probabilities.active2,mutations:s.probabilities.mutations?.active2}),n.jsx(va,{title:"Passive 1",probabilities:s.probabilities.passive1,mutations:s.probabilities.mutations?.passive1}),n.jsx(va,{title:"Passive 2",probabilities:s.probabilities.passive2,mutations:s.probabilities.mutations?.passive2}),n.jsx(va,{title:"Element",probabilities:s.probabilities.element,mutations:s.probabilities.mutations?.element})]})]}),n.jsx(Dn,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(yc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Visual Genes"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(Vr,{title:"Hair Style",probabilities:s.probabilities.hairStyle,nameMap:l0e,showPairNames:!0,femaleNameMap:o0e}),n.jsx(Vr,{title:"Hair Color",probabilities:s.probabilities.hairColor,nameMap:aj,colorMap:a0e}),n.jsx(Vr,{title:"Head App",probabilities:s.probabilities.headAppendage,nameMap:c0e}),n.jsx(Vr,{title:"Head App Color",probabilities:s.probabilities.appendageColor,nameMap:aj,colorMap:qR}),n.jsx(Vr,{title:"Back App",probabilities:s.probabilities.backAppendage,nameMap:d0e}),n.jsx(Vr,{title:"Back App Color",probabilities:s.probabilities.backAppendageColor,nameMap:aj,colorMap:qR})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-4",children:[n.jsx(Vr,{title:"Eye Color",probabilities:s.probabilities.eyeColor,nameMap:u0e,colorMap:s0e}),n.jsx(Vr,{title:"Skin Color",probabilities:s.probabilities.skinColor,nameMap:f0e,colorMap:i0e}),n.jsx(Vr,{title:"Crafting 1",probabilities:s.probabilities.crafting1,nameMap:KR}),n.jsx(Vr,{title:"Crafting 2",probabilities:s.probabilities.crafting2,nameMap:KR}),n.jsx(Vr,{title:"Visual Unknown 1",probabilities:s.probabilities.visualUnknown1,nameMap:WR}),n.jsx(Vr,{title:"Visual Unknown 2",probabilities:s.probabilities.visualUnknown2,nameMap:WR})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mt-4",children:[n.jsx(va,{title:"Gender",probabilities:s.probabilities.gender,mutations:s.probabilities.mutations?.gender}),n.jsx(Vr,{title:"Background",probabilities:s.probabilities.background,nameMap:m0e})]})]})]})]})]})]}),c==="infographics"&&n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(oM,{className:"h-5 w-5"}),"Visual Mutation Trees"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reference charts showing mutation paths from Basic  Advanced  Elite  Exalted  Transcendent"})]}),n.jsx(J,{children:n.jsxs(si,{defaultValue:"hairstyle",children:[n.jsxs(is,{className:"mb-4 flex-wrap h-auto gap-1",children:[n.jsx(St,{value:"hairstyle","data-testid":"tab-infographic-hairstyle",children:"Female Hairstyle"}),n.jsx(St,{value:"hairstyle-male","data-testid":"tab-infographic-hairstyle-male",children:"Male Hairstyle"}),n.jsx(St,{value:"head-app","data-testid":"tab-infographic-head-app",children:"Head Appendage"}),n.jsx(St,{value:"back-app","data-testid":"tab-infographic-back-app",children:"Back Appendage"}),n.jsx(St,{value:"app-color","data-testid":"tab-infographic-app-color",children:"Appendage Color"}),n.jsx(St,{value:"hair-color","data-testid":"tab-infographic-hair-color",children:"Hair Color"})]}),n.jsx(Tt,{value:"hairstyle",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:Xye,alt:"Female Hairstyle Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"hairstyle-male",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:Zye,alt:"Male Hairstyle Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"head-app",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:Jye,alt:"Head Appendage Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"back-app",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:e0e,alt:"Back Appendage Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"app-color",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:t0e,alt:"Appendage Color Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})}),n.jsx(Tt,{value:"hair-color",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("img",{src:n0e,alt:"Hair Color Summoning Tree",className:"max-w-full h-auto rounded-lg border"})})})]})})]}),c==="sniper"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(tM,{className:"h-5 w-5"}),"Search Filters"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Find optimal hero pairs from the tavern that maximize your chance of breeding specific traits"})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"targetClass",children:"Target Class"}),n.jsxs("select",{id:"targetClass",value:h,onChange:$=>g($.target.value),className:"w-full h-9 px-3 rounded-md border bg-background text-sm","data-testid":"select-target-class",children:[n.jsx("option",{value:"",children:"Any Class"}),L?.filters?.classes?.map($=>n.jsx("option",{value:$,children:$},$))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"targetProfession",children:"Target Profession"}),n.jsxs("select",{id:"targetProfession",value:v,onChange:$=>y($.target.value),className:"w-full h-9 px-3 rounded-md border bg-background text-sm","data-testid":"select-target-profession",children:[n.jsx("option",{value:"",children:"Any Profession"}),L?.filters?.professions?.map($=>n.jsx("option",{value:$,children:$},$))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"maxPrice",children:"Max Price (per hero)"}),n.jsx(Qe,{id:"maxPrice",type:"number",value:w,onChange:$=>C($.target.value),placeholder:"500","data-testid":"input-max-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"minSummons",children:"Min Summons Remaining"}),n.jsx(Qe,{id:"minSummons",type:"number",value:A,onChange:$=>E($.target.value),placeholder:"1","data-testid":"input-min-summons"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"minLevel",children:"Min Level"}),n.jsx(Qe,{id:"minLevel",type:"number",value:T,onChange:$=>k($.target.value),placeholder:"1","data-testid":"input-min-level"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"maxTTS",children:"Max TTS (leave empty for any)"}),n.jsx(Qe,{id:"maxTTS",type:"number",value:P,onChange:$=>M($.target.value),placeholder:"Any","data-testid":"input-max-tts"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_e,{children:"Realms:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:N.includes("cv")?"default":"outline",className:"cursor-pointer",onClick:()=>ee("cv"),"data-testid":"badge-realm-cv",children:"Crystalvale"}),n.jsx(W,{variant:N.includes("sd")?"default":"outline",className:"cursor-pointer",onClick:()=>ee("sd"),"data-testid":"badge-realm-sd",children:"Sundered Isles"})]})]}),n.jsxs(se,{onClick:K,disabled:!h&&!v||ve.isPending,"data-testid":"button-sniper-search",children:[ve.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(za,{className:"h-4 w-4 mr-2"}),"Find Best Pairs"]}),ve.isError&&n.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",ve.error?.message||"Search failed"]})]})]}),I&&n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"h-5 w-5"}),"Best Hero Pairs",n.jsxs(W,{variant:"outline",className:"ml-2",children:[I.pairs.length," pairs from ",I.totalHeroes," heroes"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ranked by efficiency (probability per token spent)"})]}),n.jsx(J,{children:I.pairs.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No matching hero pairs found. Try adjusting your filters."}):n.jsx("div",{className:"space-y-4",children:I.pairs.map(($,fe)=>n.jsx(Y,{className:"bg-muted/30",children:n.jsxs(J,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(W,{variant:"secondary",children:["#",fe+1]}),n.jsx(W,{variant:"outline",children:$.realm==="cv"?"Crystalvale":"Sundered Isles"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:"Hero 1"}),n.jsxs("div",{className:X($.hero1.rarity),children:[B($.hero1.rarity)," ",$.hero1.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Gen ",$.hero1.generation," | ",$.hero1.summonsRemaining," summons"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Gi,{className:"h-3 w-3"}),$.hero1.price.toFixed(2)," ",$.hero1.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${$.hero1.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(mr,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:"Hero 2"}),n.jsxs("div",{className:X($.hero2.rarity),children:[B($.hero2.rarity)," ",$.hero2.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Gen ",$.hero2.generation," | ",$.hero2.summonsRemaining," summons"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Gi,{className:"h-3 w-3"}),$.hero2.price.toFixed(2)," ",$.hero2.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${$.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(mr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[$.targetProbability.toFixed(1),"% chance"]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",$.totalCost.toFixed(2)," ",$.hero1.token]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Efficiency: ",$.efficiency.toFixed(4)]})]})]}),$.probabilities&&n.jsx("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-xs",children:$.probabilities.class&&Object.entries($.probabilities.class).slice(0,3).map(([pe,R])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[pe,":"]}),n.jsxs("span",{children:[R,"%"]})]},pe))})]})},fe))})})]})]})]})}const YR=[{id:0,name:"Common"},{id:1,name:"Uncommon"},{id:2,name:"Rare"},{id:3,name:"Legendary"},{id:4,name:"Mythic"}];function v0e(){const[e,t]=p.useState(["Archer","Berserker","Knight","Priest","Seer","Warrior","Wizard","Pirate"]),[r,a]=p.useState([]),[s,l]=p.useState([]),[c,d]=p.useState([]),[f,m]=p.useState(["cv","sd"]),[h,g]=p.useState(0),[v,y]=p.useState("0"),[N,b]=p.useState("1"),[w,C]=p.useState(""),[A,E]=p.useState(""),[T,k]=p.useState(null),[P,M]=p.useState("tavern"),[I,Q]=p.useState("regular"),[L,_]=p.useState(""),[q,ve]=p.useState("0.50"),[K,ee]=p.useState("efficiency"),{data:B}=Re({queryKey:["/api/admin/sniper/filters"]}),X=Oe({mutationFn:async()=>{const F=parseInt(v)||0;return(await Ie("POST","/api/admin/sniper/search",{targetClasses:e,targetProfessions:r,targetActiveSkills:s,targetPassiveSkills:c,realms:f,minRarity:h,minSummonsRemaining:F,maxSummonsRemaining:void 0,minLevel:parseInt(N)||1,targetTTSValue:w?parseInt(w):null,minTTSProbability:A?parseFloat(A):null,summonType:I,searchMode:P,myHeroId:P==="myHero"?L:void 0,bridgeFeeUsd:parseFloat(q)||0,sortBy:K,limit:20})).json()},onSuccess:F=>{F.ok&&k(F)}}),$=()=>{e.length===0&&r.length===0&&s.length===0&&c.length===0||P==="myHero"&&!L.trim()||X.mutate()},fe=F=>{t(Ee=>Ee.includes(F)?Ee.filter(ne=>ne!==F):[...Ee,F])},pe=F=>{a(Ee=>Ee.includes(F)?Ee.filter(ne=>ne!==F):[...Ee,F])},R=F=>{l(Ee=>Ee.includes(F)?Ee.filter(ne=>ne!==F):[...Ee,F])},te=F=>{d(Ee=>Ee.includes(F)?Ee.filter(ne=>ne!==F):[...Ee,F])},me=F=>{m(Ee=>Ee.includes(F)?Ee.filter(ne=>ne!==F):[...Ee,F])},we=F=>["Common","Uncommon","Rare","Legendary","Mythic"][F]||"Unknown",ae=F=>["text-gray-400","text-green-400","text-blue-400","text-orange-400","text-purple-400"][F]||"text-gray-400",Le=p.useMemo(()=>{if(!T?.pairs)return[];const F=[...T.pairs];switch(K){case"chance":return F.sort((Ee,ne)=>ne.targetProbability-Ee.targetProbability);case"price":return F.sort((Ee,ne)=>Ee.totalCostUsd-ne.totalCostUsd);case"skillScore":return F.sort((Ee,ne)=>(ne.tts?.expected||0)-(Ee.tts?.expected||0));case"efficiency":default:return F.sort((Ee,ne)=>ne.efficiency-Ee.efficiency)}},[T?.pairs,K]);return n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(za,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Summon Sniper"}),n.jsx("p",{className:"text-muted-foreground",children:"Find optimal hero pairs from the tavern to maximize breeding success for specific traits"})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2",children:[n.jsx(tM,{className:"h-5 w-5"}),"Search Filters"]}),n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx(mu,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:"Select multiple classes/professions to find heroes that can breed ANY of the selected traits. Results automatically show cheapest pairs ranked by efficiency."})]})]}),n.jsxs(J,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(_e,{children:"Search Mode"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{variant:P==="tavern"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${P==="tavern"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>M("tavern"),"data-testid":"badge-mode-tavern",children:[n.jsx(Mr,{className:"h-3.5 w-3.5 mr-1.5"}),"Two from Tavern"]}),n.jsxs(W,{variant:P==="myHero"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${P==="myHero"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>M("myHero"),"data-testid":"badge-mode-myhero",children:[n.jsx(Bh,{className:"h-3.5 w-3.5 mr-1.5"}),"Pair for My Hero"]})]}),P==="myHero"&&n.jsxs("div",{className:"mt-2",children:[n.jsx(_e,{htmlFor:"myHeroId",children:"Your Hero ID"}),n.jsx(Qe,{id:"myHeroId",type:"text",value:L,onChange:F=>_(F.target.value),placeholder:"Enter your hero ID (e.g., 1000000123456)",className:"mt-1 max-w-md","data-testid":"input-my-hero-id"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Find the best tavern hero to pair with your existing hero"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_e,{children:"Summon Type"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:I==="regular"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${I==="regular"?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>Q("regular"),"data-testid":"badge-summon-regular",children:"Regular Summon"}),n.jsx(W,{variant:I==="dark"?"default":"outline",className:`cursor-pointer text-sm py-1.5 px-4 transition-colors ${I==="dark"?"bg-purple-600 text-white ring-2 ring-purple-500 ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>Q("dark"),"data-testid":"badge-summon-dark",children:"Dark Summon"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:I==="regular"?"Standard summoning with full token cost. Heroes must have summons remaining.":"Dark summoning burns both heroes (1/4 cost). More summons = higher rarity chance."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_e,{children:"Target Classes (select one or more)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B?.filters?.classes?.map(F=>n.jsx(W,{variant:e.includes(F)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${e.includes(F)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>fe(F),"data-testid":`badge-class-${F.toLowerCase()}`,children:F},F))}),e.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",e.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_e,{children:"Target Professions (select one or more)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B?.filters?.professions?.map(F=>n.jsx(W,{variant:r.includes(F)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${r.includes(F)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>pe(F),"data-testid":`badge-profession-${F.toLowerCase()}`,children:F},F))}),r.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",r.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_e,{children:"Target Active Skills (optional)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B?.filters?.activeSkills?.map(F=>n.jsx(W,{variant:s.includes(F)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${s.includes(F)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>R(F),"data-testid":`badge-active-${F.toLowerCase().replace(/\s+/g,"-")}`,children:F},F))}),s.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",s.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_e,{children:"Target Passive Skills (optional)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:B?.filters?.passiveSkills?.map(F=>n.jsx(W,{variant:c.includes(F)?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${c.includes(F)?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>te(F),"data-testid":`badge-passive-${F.toLowerCase().replace(/\s+/g,"-")}`,children:F},F))}),c.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",c.join(", ")]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_e,{children:"Minimum Parent Rarity"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:YR.map(F=>n.jsx(W,{variant:h===F.id?"default":"outline",className:`cursor-pointer text-sm py-1 px-3 transition-colors ${h===F.id?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>g(F.id),"data-testid":`badge-rarity-${F.name.toLowerCase()}`,children:F.name},F.id))}),h>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only showing ",YR[h].name,"+ parents"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"minSummons",children:I==="dark"?"Summons Remaining (Fixed)":"Min Summons Remaining"}),I==="dark"?n.jsx("div",{className:"h-9 px-3 py-2 bg-muted rounded-md text-sm text-muted-foreground flex items-center",children:"Any (more summons = higher rarity chance)"}):n.jsx(Qe,{id:"minSummons",type:"number",value:v,onChange:F=>y(F.target.value),placeholder:"0","data-testid":"input-min-summons"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"minLevel",children:"Min Level"}),n.jsx(Qe,{id:"minLevel",type:"number",value:N,onChange:F=>b(F.target.value),placeholder:"1","data-testid":"input-min-level"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"targetTTSValue",children:"Target TTS"}),n.jsx(Qe,{id:"targetTTSValue",type:"number",min:"0",max:"12",value:w,onChange:F=>C(F.target.value),placeholder:"e.g. 8","data-testid":"input-target-tts-value"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"minTTSProbability",children:"Min % Chance"}),n.jsx(Qe,{id:"minTTSProbability",type:"number",step:"1",min:"0",max:"100",value:A,onChange:F=>E(F.target.value),placeholder:"e.g. 20","data-testid":"input-min-tts-probability"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("p",{className:"text-xs text-muted-foreground pb-2",children:"Filter pairs with at least X% chance of TTS  target"})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"bridgeFee",children:"Bridge Fee per Hero (USD)"}),n.jsx(Qe,{id:"bridgeFee",type:"number",step:"0.01",value:q,onChange:F=>ve(F.target.value),placeholder:"0.50","data-testid":"input-bridge-fee"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Metis heroes need bridging to CV for summoning. Estimate ~$0.50 per hero."})]})}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsx(_e,{children:"Realms:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:f.includes("cv")?"default":"outline",className:`cursor-pointer transition-colors ${f.includes("cv")?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>me("cv"),"data-testid":"badge-realm-cv",children:"Crystalvale"}),n.jsx(W,{variant:f.includes("sd")?"default":"outline",className:`cursor-pointer transition-colors ${f.includes("sd")?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-1 ring-offset-background":"hover:bg-muted"}`,onClick:()=>me("sd"),"data-testid":"badge-realm-sd",children:"Sundered Isles"})]})]}),n.jsxs(se,{onClick:$,disabled:e.length===0&&r.length===0||X.isPending,"data-testid":"button-sniper-search",children:[X.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(za,{className:"h-4 w-4 mr-2"}),"Find Best Pairs"]}),X.isError&&n.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",X.error?.message||"Search failed"]})]})]}),T&&n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(tr,{className:"h-5 w-5"}),T.userHero?"Best Tavern Matches":"Best Hero Pairs",n.jsxs(W,{variant:"outline",className:"ml-2",children:[T.pairs.length," ",T.userHero?"matches":"pairs"," from ",T.totalHeroes," heroes"]}),T.searchParams?.summonType==="dark"&&n.jsx(W,{className:"bg-purple-600 text-white",children:"Dark Summon"})]}),T.userHero&&n.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Bh,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Your Hero"})]}),n.jsxs("div",{className:`text-sm ${ae(T.userHero.rarity)}`,children:[we(T.userHero.rarity)," ",T.userHero.mainClass]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lv",T.userHero.level," Gen",T.userHero.generation," | ",T.userHero.summonsRemaining," summons | ID: ",T.userHero.id]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{children:"Sort by:"}),n.jsxs(ct,{value:K,onValueChange:F=>ee(F),children:[n.jsx(st,{className:"w-[180px] h-8","data-testid":"select-sort-by",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"efficiency",children:"Efficiency (%/$)"}),n.jsx(ye,{value:"chance",children:"Highest Chance"}),n.jsx(ye,{value:"price",children:"Lowest Price"}),n.jsx(ye,{value:"skillScore",children:"Offspring Skill Score"})]})]})]}),T.tokenPrices&&n.jsxs("p",{className:"text-xs",children:["Token prices: CRYSTAL $",T.tokenPrices.CRYSTAL?.toFixed(4)||"0",", JEWEL $",T.tokenPrices.JEWEL?.toFixed(4)||"0"]}),T.searchParams&&n.jsxs("p",{className:"text-xs",children:["Searching for: ",T.searchParams.targetClasses?.length>0&&`Classes: ${T.searchParams.targetClasses.join(" OR ")}`,T.searchParams.targetClasses?.length>0&&T.searchParams.targetProfessions?.length>0&&" AND ",T.searchParams.targetProfessions?.length>0&&`Professions: ${T.searchParams.targetProfessions.join(" OR ")}`,(T.searchParams.targetClasses?.length>0||T.searchParams.targetProfessions?.length>0)&&T.searchParams.targetActiveSkills?.length>0&&" AND ",T.searchParams.targetActiveSkills?.length>0&&`Active: ${T.searchParams.targetActiveSkills.join(" OR ")}`,(T.searchParams.targetClasses?.length>0||T.searchParams.targetProfessions?.length>0||T.searchParams.targetActiveSkills?.length>0)&&T.searchParams.targetPassiveSkills?.length>0&&" AND ",T.searchParams.targetPassiveSkills?.length>0&&`Passive: ${T.searchParams.targetPassiveSkills.join(" OR ")}`]})]})]}),n.jsx(J,{children:T.pairs.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No matching hero pairs found. Try adjusting your filters."}):n.jsx("div",{className:"space-y-4",children:Le.map((F,Ee)=>n.jsx(Y,{className:"bg-muted/30",children:n.jsxs(J,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(W,{variant:"secondary",children:["#",Ee+1]}),n.jsx(W,{variant:"outline",children:F.realm==="cv"?"Crystalvale":"Sundered Isles"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[T.userHero?n.jsxs("div",{className:"space-y-1 opacity-60",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:[n.jsx(Bh,{className:"h-3 w-3"})," Your Hero",n.jsx(W,{variant:"outline",className:"text-[10px] px-1 py-0",children:F.hero1.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:ae(F.hero1.rarity),children:[we(F.hero1.rarity)," ",F.hero1.mainClass]}),n.jsx("div",{className:"text-muted-foreground text-xs",children:"(Already owned)"})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:["Hero 1 (",F.hero1.id,")",n.jsx(W,{variant:"outline",className:"text-[10px] px-1 py-0",children:F.hero1.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:ae(F.hero1.rarity),children:[we(F.hero1.rarity)," ",F.hero1.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv",F.hero1.level," Gen",F.hero1.generation," | ",F.hero1.summonsRemaining," summons"]}),n.jsxs("div",{className:"text-muted-foreground",children:[F.hero1.price.toFixed(2)," ",F.hero1.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${F.hero1.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(mr,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium flex items-center gap-1",children:[T.userHero?`Tavern Match (${F.hero2.id})`:`Hero 2 (${F.hero2.id})`,n.jsx(W,{variant:"outline",className:"text-[10px] px-1 py-0",children:F.hero2.realm==="cv"?"CV":"SD"})]}),n.jsxs("div",{className:ae(F.hero2.rarity),children:[we(F.hero2.rarity)," ",F.hero2.mainClass]}),n.jsxs("div",{className:"text-muted-foreground",children:["Lv",F.hero2.level," Gen",F.hero2.generation," | ",F.hero2.summonsRemaining," summons"]}),n.jsxs("div",{className:"text-muted-foreground",children:[F.hero2.price.toFixed(2)," ",F.hero2.token]}),n.jsxs("a",{href:`https://game.defikingdoms.com/marketplace/heroes/${F.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View in Tavern ",n.jsx(mr,{className:"h-3 w-3"})]})]})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:[F.targetProbability.toFixed(1),"% chance"]}),n.jsxs("div",{className:"text-sm font-medium",children:["Total: $",F.totalCostUsd?.toFixed(2)||"0.00"," USD"]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["(",F.totalCost.toFixed(2)," ",F.hero1.token,")"]}),F.costs&&n.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[n.jsxs("div",{children:["Purchase: ",F.costs.purchaseCost.toFixed(2)," ",F.hero1.token]}),n.jsxs("div",{children:["Summon: ",F.costs.summonTokenCost," ",F.hero1.token]}),n.jsxs("div",{children:["Tears: ",F.costs.tearCount," (",F.costs.tearCost.toFixed(2)," ",F.hero1.token,")"]}),F.costs.heroesNeedingBridge>0&&n.jsxs("div",{className:"text-yellow-500",children:["Bridge: $",F.costs.bridgeCostUsd.toFixed(2)," (",F.costs.heroesNeedingBridge," hero",F.costs.heroesNeedingBridge>1?"es":"",")"]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-1",children:["Efficiency: ",F.efficiency.toFixed(4)," %/$"]})]})]}),F.probabilities&&n.jsx("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-2 text-xs",children:F.probabilities.class&&Object.entries(F.probabilities.class).slice(0,3).map(([ne,Ae])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[ne,":"]}),n.jsxs("span",{children:[Ae,"%"]})]},ne))}),F.tts&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Offspring TTS Probability"}),n.jsxs(W,{variant:"secondary",className:"text-xs",children:["Expected: ",F.tts.expected?.toFixed(1)??"0"]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-1 text-xs",children:Object.entries(F.tts.distribution||{}).filter(([ne,Ae])=>Ae>.5).sort((ne,Ae)=>parseInt(Ae[0])-parseInt(ne[0])).slice(0,8).map(([ne,Ae])=>n.jsxs("div",{className:"flex justify-between bg-muted/50 rounded px-2 py-1",children:[n.jsxs("span",{className:"text-muted-foreground",children:["TTS ",ne,":"]}),n.jsxs("span",{className:parseInt(ne)>=4?"text-green-400":"",children:[Ae.toFixed(1),"%"]})]},ne))}),F.tts.cumulative&&n.jsxs("div",{className:"flex gap-3 mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["TTS2: ",n.jsxs("span",{className:"text-foreground",children:[F.tts.cumulative[2]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS4: ",n.jsxs("span",{className:"text-green-400",children:[F.tts.cumulative[4]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS6: ",n.jsxs("span",{className:"text-yellow-400",children:[F.tts.cumulative[6]?.toFixed(1)??"0","%"]})]}),n.jsxs("span",{children:["TTS8: ",n.jsxs("span",{className:"text-orange-400",children:[F.tts.cumulative[8]?.toFixed(1)??"0","%"]})]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t",children:n.jsxs("a",{href:`/admin/summoning-calculator?hero1=${F.hero1.id}&hero2=${F.hero2.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-400 hover:underline","data-testid":`link-calculator-${Ee}`,children:["View Full Summon Chances ",n.jsx(mr,{className:"h-3 w-3"})]})})]})},Ee))})})]})]})}const y0e={cv:"Crystalvale",sd:"Sundered Isles"};function sj(e){if(!e)return"Never";const t=new Date(e),a=new Date().getTime()-t.getTime(),s=Math.floor(a/6e4),l=Math.floor(s/60),c=Math.floor(l/24);return s<1?"Just now":s<60?`${s}m ago`:l<24?`${l}h ${s%60}m ago`:`${c}d ${l%24}h ago`}function b0e(e){const t=Math.floor(e/1e3),r=Math.floor(t/60),a=Math.floor(r/60);return a>0?`${a}h ${r%60}m`:r>0?`${r}m ${t%60}s`:`${t}s`}function j0e(e){if(!e)return"--";const t=new Date(e),r=new Date,a=t.getTime()-r.getTime();return a<=0?"Soon":b0e(a)}function w0e(){const{toast:e}=an(),[t,r]=p.useState("--"),{data:a,isLoading:s,refetch:l}=Re({queryKey:["/api/admin/tavern-indexer/status"],refetchInterval:3e3}),{data:c,refetch:d}=Re({queryKey:["/api/admin/tavern-indexer/genes-status"],refetchInterval:5e3});p.useEffect(()=>{const k=setInterval(()=>{a?.status?.nextRunAt&&r(j0e(a.status.nextRunAt))},1e3);return()=>clearInterval(k)},[a?.status?.nextRunAt]);const f=Oe({mutationFn:async()=>Ie("POST","/api/admin/tavern-indexer/trigger",{}),onSuccess:()=>{e({title:"Indexing started",description:"Tavern indexer is now running"}),l()},onError:k=>{e({title:"Error",description:k.message,variant:"destructive"})}}),m=Oe({mutationFn:async()=>Ie("POST","/api/admin/tavern-indexer/reset",{}),onSuccess:()=>{e({title:"Reset complete",description:"Tavern index has been cleared"}),l()},onError:k=>{e({title:"Error",description:k.message,variant:"destructive"})}}),h=Oe({mutationFn:async()=>Ie("POST","/api/admin/tavern-indexer/start",{intervalMs:1800*1e3}),onSuccess:()=>{e({title:"Auto-run started",description:"Indexer will run every 30 minutes"}),l()},onError:k=>{e({title:"Error",description:k.message,variant:"destructive"})}}),g=Oe({mutationFn:async()=>Ie("POST","/api/admin/tavern-indexer/stop",{}),onSuccess:()=>{e({title:"Auto-run stopped",description:"Automatic indexing disabled"}),l()},onError:k=>{e({title:"Error",description:k.message,variant:"destructive"})}}),v=Oe({mutationFn:async()=>Ie("POST","/api/admin/tavern-indexer/backfill-genes",{maxHeroes:500}),onSuccess:()=>{e({title:"Gene backfill started",description:"Fetching gene data from GraphQL"}),d()},onError:k=>{e({title:"Error",description:k.message,variant:"destructive"})}}),y=a?.status,N=a?.progress||[],b=a?.stats||[],w=c?.status,C=c?.stats,A=b.reduce((k,P)=>k+Number(P.total_heroes||0),0),E=C?.complete||0,T=C?.percentage||0;return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(ke,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{className:"space-y-6 p-6","data-testid":"tavern-indexer-admin",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Tavern Indexer"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and control the marketplace hero indexer"})]}),n.jsx(se,{variant:"outline",size:"icon",onClick:()=>l(),"data-testid":"button-refresh",children:n.jsx(et,{className:"h-4 w-4"})})]}),n.jsxs(Y,{"data-testid":"card-worker-status",children:[n.jsx(ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[y?.isRunning?n.jsx(ke,{className:"h-5 w-5 animate-spin text-yellow-500"}):y?.autoRunActive?n.jsx(Gr,{className:"h-5 w-5 text-green-500"}):n.jsx(er,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(oe,{children:"Worker Status"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(W,{variant:y?.isRunning?"default":"secondary","data-testid":"badge-worker-status",children:y?.isRunning?"Running":"Idle"}),n.jsx(W,{variant:y?.autoRunActive?"default":"outline","data-testid":"badge-autorun-status",children:y?.autoRunActive?"Auto-Run ON":"Auto-Run OFF"})]})]})}),n.jsxs(J,{className:"space-y-4",children:[y?.isRunning&&y.workers&&y.workers.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Workers processing heroes..."}),y.workers.map((k,P)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("span",{children:["Worker ",k.id+1]}),n.jsxs("span",{className:"text-muted-foreground",children:[k.heroesProcessed||0," heroes  ",k.status]})]}),n.jsx(Ut,{value:k.status==="done"?100:k.status==="working"?50:0,className:"h-1.5"})]},P))]}),!y?.isRunning&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(Na,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-total-heroes",children:A.toLocaleString()}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Heroes"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(bu,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-complete-genes",children:E.toLocaleString()}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Complete Genes (",T.toFixed(0),"%)"]})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(Vc,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-last-run",children:N.length>0?sj(N.reduce((k,P)=>P.last_success_at?k?new Date(P.last_success_at)>new Date(k)?P.last_success_at:k:P.last_success_at:k,null)):"Never"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Last Indexed"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx(lM,{className:"h-5 w-5 mx-auto mb-1 text-muted-foreground"}),n.jsx("div",{className:"text-lg font-semibold","data-testid":"text-next-run",children:y?.autoRunActive&&y?.nextRunAt?t:"--"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Next Run"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap pt-2",children:[n.jsxs(se,{onClick:()=>f.mutate(),disabled:y?.isRunning||f.isPending,"data-testid":"button-trigger-index",children:[f.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Run Now"]}),y?.autoRunActive?n.jsxs(se,{variant:"outline",onClick:()=>g.mutate(),disabled:g.isPending,"data-testid":"button-stop-autorun",children:[n.jsx(kr,{className:"h-4 w-4 mr-2"}),"Stop Auto-Run"]}):n.jsxs(se,{variant:"outline",onClick:()=>h.mutate(),disabled:h.isPending,"data-testid":"button-start-autorun",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Start Auto-Run (30m)"]}),n.jsxs(Qu,{children:[n.jsx(Xu,{asChild:!0,children:n.jsxs(se,{variant:"destructive",disabled:y?.isRunning,"data-testid":"button-reset",children:[n.jsx(bc,{className:"h-4 w-4 mr-2"}),"Reset"]})}),n.jsxs(Rc,{children:[n.jsxs(Mc,{children:[n.jsx(Lc,{children:"Reset Tavern Index?"}),n.jsx(Ic,{children:"This will delete all indexed heroes and reset progress. You will need to re-index all heroes."})]}),n.jsxs(Dc,{children:[n.jsx(Fc,{children:"Cancel"}),n.jsx($c,{onClick:()=>m.mutate(),children:"Reset"})]})]})]})]})]})]}),n.jsxs(Y,{"data-testid":"card-chain-status",children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Per-Chain Status"}),n.jsx(Se,{children:"Last indexed time and hero count for each marketplace"})]}),n.jsx(J,{children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Realm"}),n.jsx(V,{children:"Heroes"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Last Success"}),n.jsx(V,{children:"Last Run"})]})}),n.jsx(xt,{children:N.length===0?n.jsx(Pe,{children:n.jsx(U,{colSpan:5,className:"text-center text-muted-foreground",children:"No indexing data yet. Run the indexer to populate."})}):N.map(k=>{const P=b.find(M=>M.realm===k.realm);return n.jsxs(Pe,{"data-testid":`row-chain-${k.realm}`,children:[n.jsx(U,{className:"font-medium",children:y0e[k.realm]||k.realm}),n.jsx(U,{children:P?.total_heroes?.toLocaleString()||k.heroes_indexed||0}),n.jsx(U,{children:n.jsx(W,{variant:k.status==="complete"?"default":k.status==="running"?"secondary":"outline",children:k.status})}),n.jsx(U,{className:"text-muted-foreground",children:sj(k.last_success_at)}),n.jsx(U,{className:"text-muted-foreground",children:sj(k.last_run_at)})]},k.realm)})})]})})]}),n.jsxs(Y,{"data-testid":"card-gene-backfill",children:[n.jsxs(ie,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bu,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(oe,{children:"Gene Data Status"})]}),n.jsx(W,{variant:w?.isRunning?"default":"secondary",children:w?.isRunning?"Backfilling...":"Idle"})]}),n.jsx(Se,{children:"Recessive gene data fetched from GraphQL for breeding calculations"})]}),n.jsxs(J,{className:"space-y-4",children:[C&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Complete gene data"}),n.jsxs("span",{className:"text-muted-foreground",children:[C.complete.toLocaleString()," / ",C.total.toLocaleString()," (",C.percentage.toFixed(1),"%)"]})]}),n.jsx(Ut,{value:C.percentage,className:"h-2"})]}),w?.isRunning&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ke,{className:"h-4 w-4 animate-spin"}),n.jsxs("span",{children:["Processed ",w.processed," heroes..."]}),w.errors>0&&n.jsxs(W,{variant:"destructive",className:"text-xs",children:[w.errors," errors"]})]}),n.jsxs(se,{variant:"outline",onClick:()=>v.mutate(),disabled:w?.isRunning||v.isPending,"data-testid":"button-backfill-genes",children:[v.isPending?n.jsx(ke,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(bu,{className:"h-4 w-4 mr-2"}),"Backfill Missing Genes"]})]})]}),y?.errors&&y.errors.length>0&&n.jsxs(Y,{"data-testid":"card-errors",children:[n.jsx(ie,{children:n.jsx(oe,{className:"text-destructive",children:"Recent Errors"})}),n.jsx(J,{children:n.jsx("ul",{className:"space-y-2 text-sm",children:y.errors.map((k,P)=>n.jsx("li",{className:"p-2 bg-destructive/10 rounded text-destructive",children:k},P))})})]})]})}function dr(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toLocaleString()}function ij(e){const t=typeof e=="string"?parseInt(e):e;return t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toLocaleString()}function N0e({nextRunAt:e}){const[t,r]=p.useState(e-Date.now());if(p.useEffect(()=>{const d=setInterval(()=>{const f=e-Date.now();r(f)},1e3);return()=>clearInterval(d)},[e]),t<=0)return n.jsx("span",{className:"text-blue-400 font-mono text-sm",children:"Running now..."});const a=Math.floor(t/1e3)%60,s=Math.floor(t/6e4)%60,l=Math.floor(t/36e5),c=[];return l>0&&c.push(`${l}h`),(s>0||l>0)&&c.push(`${s}m`),c.push(`${a}s`),n.jsx("span",{className:"font-mono text-sm text-emerald-400","data-testid":"countdown-timer",children:c.join(" ")})}function S0e({status:e,isRunning:t}){if(t)return n.jsxs(W,{className:"bg-blue-500/20 text-blue-500 border-blue-500/30 gap-1",children:[n.jsx(ke,{className:"w-3 h-3 animate-spin"}),"Running"]});const r={idle:"bg-gray-500/20 text-gray-500 border-gray-500/30",running:"bg-blue-500/20 text-blue-500 border-blue-500/30",complete:"bg-green-500/20 text-green-500 border-green-500/30",error:"bg-red-500/20 text-red-500 border-red-500/30"};return n.jsx(W,{className:r[e]||r.idle,children:e.charAt(0).toUpperCase()+e.slice(1)})}function QR({chain:e,chainStatus:t,liveProgress:r,onStart:a,onStop:s,onRun:l,onReset:c,isStarting:d,isStopping:f,isRunning:m,isResetting:h}){const g=r?.isRunning||t.isAutoRunning,v=e==="dfk"?"DFK Chain":"Metis",y=e==="dfk"?"Hunts":"Patrols",N=e==="dfk"?Pu:Ql;return n.jsxs(Y,{"data-testid":`card-chain-${e}`,children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(N,{className:"w-5 h-5 text-amber-500"}),n.jsxs("span",{children:[v," - ",y]})]}),n.jsx(S0e,{status:t.checkpoint.status,isRunning:g})]}),n.jsxs(Se,{children:["Chain ID: ",t.chainId," | ",y," encounter tracking",t.workerCount>0&&n.jsxs("span",{className:"ml-2 text-emerald-500",children:[" ",t.workerCount," workers active"]})]})]}),n.jsxs(J,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Block"}),n.jsx("div",{className:"font-mono font-bold","data-testid":`text-${e}-last-block`,children:ij(t.checkpoint.last_indexed_block)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Completions"}),n.jsx("div",{className:"font-bold text-green-500","data-testid":`text-${e}-completions`,children:dr(t.checkpoint.total_completions)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Rewards"}),n.jsx("div",{className:"font-bold text-amber-500","data-testid":`text-${e}-rewards`,children:dr(t.checkpoint.total_rewards)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Run"}),n.jsx("div",{className:"text-xs",children:t.checkpoint.last_indexed_at?new Date(t.checkpoint.last_indexed_at).toLocaleString():"Never"})]})]}),t.isAutoRunning&&t.timing&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-emerald-500/10 rounded-lg","data-testid":`eta-${e}`,children:[n.jsx(et,{className:"w-4 h-4 text-emerald-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Next batch in:"}),n.jsx(N0e,{nextRunAt:t.timing.nextRunAt})]}),r&&r.isRunning&&n.jsxs("div",{className:"space-y-2 p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:["Block ",ij(r.currentBlock)," / ",ij(r.targetBlock)]}),n.jsxs("span",{children:[r.percentComplete.toFixed(1),"%"]})]}),n.jsx(Ut,{value:r.percentComplete}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Completions: ",r.completionsFound]}),n.jsxs("span",{children:["Rewards: ",r.eventsFound]})]})]}),t.checkpoint.last_error&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-500/10 rounded text-red-500 text-sm",children:[n.jsx(er,{className:"w-4 h-4"}),t.checkpoint.last_error]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(se,{onClick:l,disabled:m||g,size:"sm","data-testid":`button-${e}-run`,children:[m?n.jsx(ke,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Run Batch"]}),t.isAutoRunning?n.jsxs(se,{onClick:s,disabled:f,variant:"destructive",size:"sm","data-testid":`button-${e}-stop`,children:[f?n.jsx(ke,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(kr,{className:"w-4 h-4 mr-2"}),"Stop Auto"]}):n.jsxs(se,{onClick:a,disabled:d,variant:"outline",size:"sm","data-testid":`button-${e}-start`,children:[d?n.jsx(ke,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Start Auto"]}),n.jsxs(Qu,{children:[n.jsx(Xu,{asChild:!0,children:n.jsxs(se,{size:"sm",variant:"outline",disabled:h||g,"data-testid":`button-${e}-reset`,children:[n.jsx(bc,{className:"w-4 h-4 mr-2"}),"Reset"]})}),n.jsxs(Rc,{children:[n.jsxs(Mc,{children:[n.jsxs(Lc,{children:["Reset ",v," Data?"]}),n.jsxs(Ic,{children:["This will delete all indexed ",y.toLowerCase()," data including completions, rewards, and equipment drops. You'll need to re-index to restore the data with the latest capture fields."]})]}),n.jsxs(Dc,{children:[n.jsx(Fc,{children:"Cancel"}),n.jsxs($c,{onClick:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":`button-${e}-confirm-reset`,children:[h?n.jsx(ke,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reset All Data"]})]})]})]})]})]})]})}function XR({activities:e,type:t}){const[r,a]=p.useState(null),[s,l]=p.useState([]),{data:c,isLoading:d}=Re({queryKey:[`/api/pve/loot-hierarchical/${r}`],enabled:r!==null}),f=c?.regularLoot||[],m=c?.seasonalLoot||[],h=c?.equipment||[],g=c?.totalCompletions||0,v=N=>{l(b=>b.includes(N)?b.filter(w=>w!==N):[...b,N])},y=N=>{switch(N){case"Mythic":return"text-purple-400";case"Legendary":return"text-orange-400";case"Rare":return"text-blue-400";case"Uncommon":return"text-green-400";default:return"text-gray-400"}};return e.length===0?n.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:["No ",t,"s indexed yet. Start the indexer to begin collecting data."]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"ID"}),n.jsx(V,{children:"Name"}),n.jsx(V,{className:"text-right",children:"Completions"}),n.jsx(V,{className:"text-right",children:"Rewards"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(xt,{children:e.map(N=>n.jsxs(Pe,{"data-testid":`row-activity-${N.id}`,className:r===N.id?"bg-muted/50":"",children:[n.jsx(U,{className:"font-mono",children:N.activity_id}),n.jsx(U,{className:"font-medium",children:N.name}),n.jsx(U,{className:"text-right",children:dr(N.total_completions)}),n.jsx(U,{className:"text-right",children:dr(N.total_rewards)}),n.jsx(U,{children:n.jsx(se,{variant:r===N.id?"secondary":"outline",size:"sm",onClick:()=>a(r===N.id?null:N.id),"data-testid":`button-view-loot-${N.id}`,children:r===N.id?"Hide Loot":"View Loot"})})]},N.id))})]}),r&&n.jsxs(Y,{className:"mt-4",children:[n.jsxs(ie,{children:[n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(rM,{className:"w-4 h-4"}),"Drop Rates for ",e.find(N=>N.id===r)?.name]}),n.jsx(Se,{children:g>0&&`Based on ${dr(g)} completions`})]}),n.jsx(J,{className:"space-y-6",children:d?n.jsx("div",{className:"flex items-center justify-center p-4",children:n.jsx(ke,{className:"w-6 h-6 animate-spin"})}):f.length>0||m.length>0||h.length>0?n.jsxs(n.Fragment,{children:[f.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground",children:"Consumables & Materials"}),n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Item"}),n.jsx(V,{className:"text-right",children:"Drops"}),n.jsx(V,{className:"text-right",children:"Sample Size"}),n.jsx(V,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(xt,{children:f.map((N,b)=>n.jsxs(Pe,{"data-testid":`row-loot-${b}`,children:[n.jsxs(U,{className:"font-medium",children:[N.item_name||N.item_address.slice(0,10)+"...",N.item_type&&n.jsx(W,{variant:"outline",className:"ml-2 text-xs",children:N.item_type})]}),n.jsx(U,{className:"text-right",children:dr(N.dropCount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:dr(N.totalCompletions||g)}),n.jsxs(U,{className:"text-right font-bold",children:[(N.observedRate*100).toFixed(2),"%"]})]},b))})]})]}),m.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground flex items-center gap-2",children:[n.jsx(lf,{className:"w-4 h-4 text-amber-400"}),"Seasonal Event Drops"]}),n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Item"}),n.jsx(V,{className:"text-right",children:"Drops"}),n.jsx(V,{className:"text-right",children:"Sample Size"}),n.jsx(V,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(xt,{children:m.map((N,b)=>n.jsxs(Pe,{"data-testid":`row-seasonal-${b}`,children:[n.jsxs(U,{className:"font-medium",children:[N.item_name||N.item_address.slice(0,10)+"...",n.jsx(W,{variant:"outline",className:"ml-2 text-xs text-amber-400 border-amber-400/30",children:"seasonal"})]}),n.jsx(U,{className:"text-right",children:dr(N.dropCount)}),n.jsx(U,{className:"text-right text-muted-foreground",children:dr(N.totalCompletions||g)}),n.jsxs(U,{className:"text-right font-bold text-amber-400",children:[(N.observedRate*100).toFixed(2),"%"]})]},b))})]})]}),h.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground flex items-center gap-2",children:[n.jsx(Ql,{className:"w-4 h-4"}),"Equipment Drops"]}),n.jsx("div",{className:"space-y-2",children:h.map(N=>n.jsxs("div",{className:"border rounded-lg",children:[n.jsxs("div",{className:"p-3 flex items-center justify-between cursor-pointer hover-elevate",onClick:()=>v(N.item_address),"data-testid":`equipment-parent-${N.item_id}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Pu,{className:"w-4 h-4 text-orange-400"}),n.jsx("span",{className:"font-medium",children:N.item_name||"Equipment"}),n.jsxs(W,{variant:"secondary",className:"text-xs",children:[N.variantCount," variants"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[dr(N.dropCount)," drops"]}),n.jsxs("span",{className:"font-bold text-green-400",children:[(N.observedRate*100).toFixed(2),"%"]}),n.jsx("span",{className:"text-muted-foreground",children:s.includes(N.item_address)?"":""})]})]}),Object.keys(N.rarityDistribution).length>0&&n.jsx("div",{className:"px-3 pb-2 flex gap-2 flex-wrap",children:Object.entries(N.rarityDistribution).map(([b,w])=>n.jsxs(W,{variant:"outline",className:`text-xs ${y(b)}`,children:[b,": ",w]},b))}),s.includes(N.item_address)&&N.variants.length>0&&n.jsx("div",{className:"border-t bg-muted/30",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Variant"}),n.jsx(V,{children:"Rarity"}),n.jsx(V,{className:"text-right",children:"Drops"}),n.jsx(V,{className:"text-right",children:"Drop Rate"})]})}),n.jsx(xt,{children:N.variants.map((b,w)=>n.jsxs(Pe,{"data-testid":`variant-${N.item_id}-${w}`,children:[n.jsxs(U,{className:"font-mono text-xs",children:[b.equipmentTypeName," #",b.displayId]}),n.jsx(U,{children:n.jsx(W,{variant:"outline",className:y(b.rarityName),children:b.rarityName})}),n.jsx(U,{className:"text-right",children:dr(b.dropCount)}),n.jsxs(U,{className:"text-right font-bold",children:[(b.observedRate*100).toFixed(3),"%"]})]},w))})]})})]},N.item_address))})]})]}):n.jsx("div",{className:"text-center p-4 text-muted-foreground",children:"No loot data available for this activity yet."})})]})]})}function C0e(){const{toast:e}=an(),[t,r]=p.useState("dfk"),{data:a,isLoading:s,error:l,refetch:c}=Re({queryKey:["/api/admin/pve/status"],refetchInterval:3e3,retry:1}),{data:d,isLoading:f}=Re({queryKey:["/api/pve/hunts"]}),{data:m,isLoading:h}=Re({queryKey:["/api/pve/patrols"]}),g=!!a&&!l,v=f||h,y=d?.hunts||[],N=m?.patrols||[],b=Oe({mutationFn:async k=>await Ie("POST",`/api/admin/pve/run/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} indexer batch started`}),Me.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to run indexer",description:k.message,variant:"destructive"})}}),w=Oe({mutationFn:async k=>await Ie("POST",`/api/admin/pve/start/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} auto-run started`}),Me.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to start auto-run",description:k.message,variant:"destructive"})}}),C=Oe({mutationFn:async k=>await Ie("POST",`/api/admin/pve/stop/${k}`,{}),onSuccess:(k,P)=>{e({title:`${P.toUpperCase()} auto-run stopped`}),Me.invalidateQueries({queryKey:["/api/admin/pve/status"]})},onError:k=>{e({title:"Failed to stop auto-run",description:k.message,variant:"destructive"})}}),A=Oe({mutationFn:async k=>await Ie("POST",`/api/admin/pve/reset/${k}`,{toBlock:0}),onSuccess:(k,P)=>{e({title:"Reset complete",description:`${P.toUpperCase()} data cleared. Ready to re-index.`}),Me.invalidateQueries({queryKey:["/api/admin/pve/status"]}),Me.invalidateQueries({queryKey:["/api/pve/hunts"]}),Me.invalidateQueries({queryKey:["/api/pve/patrols"]})},onError:k=>{e({title:"Reset failed",description:k.message,variant:"destructive"})}}),E=(a?.dfk?.checkpoint?.total_completions||0)+(a?.metis?.checkpoint?.total_completions||0),T=(a?.dfk?.checkpoint?.total_rewards||0)+(a?.metis?.checkpoint?.total_rewards||0);return n.jsxs("div",{className:"space-y-6","data-testid":"page-pve-droprates",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(za,{className:"w-6 h-6 text-red-500"}),"PVE Drop Rates"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track Hunts (DFK Chain) and Patrols (Metis) with Scavenger pet detection"})]}),n.jsx(se,{variant:"outline",size:"icon",onClick:()=>c(),"data-testid":"button-refresh",children:n.jsx(et,{className:"w-4 h-4"})})]}),v?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(ke,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[l&&n.jsx(Y,{className:"border-amber-500/50 bg-amber-500/10",children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[n.jsx(er,{className:"w-5 h-5"}),n.jsx("span",{children:"Admin controls unavailable - viewing public drop rate data only"})]})})}),g&&a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Pu,{className:"w-4 h-4 text-amber-500"}),"DFK Hunts"]})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-dfk-total",children:dr(a.dfk?.checkpoint?.total_completions||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"completions"})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Ql,{className:"w-4 h-4 text-blue-500"}),"Metis Patrols"]})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-metis-total",children:dr(a.metis?.checkpoint?.total_completions||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"completions"})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(ap,{className:"w-4 h-4 text-green-500"}),"Total Encounters"]})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-500","data-testid":"text-total-encounters",children:dr(E)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"indexed"})]})]}),n.jsxs(Y,{children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(rM,{className:"w-4 h-4 text-purple-500"}),"Total Drops"]})}),n.jsxs(J,{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-500","data-testid":"text-total-drops",children:dr(T)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"reward events"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx(QR,{chain:"dfk",chainStatus:a.dfk,liveProgress:a.liveProgress?.dfk,onStart:()=>w.mutate("dfk"),onStop:()=>C.mutate("dfk"),onRun:()=>b.mutate("dfk"),onReset:()=>A.mutate("dfk"),isStarting:w.isPending,isStopping:C.isPending,isRunning:b.isPending,isResetting:A.isPending}),n.jsx(QR,{chain:"metis",chainStatus:a.metis,liveProgress:a.liveProgress?.metis,onStart:()=>w.mutate("metis"),onStop:()=>C.mutate("metis"),onRun:()=>b.mutate("metis"),onReset:()=>A.mutate("metis"),isStarting:w.isPending,isStopping:C.isPending,isRunning:b.isPending,isResetting:A.isPending})]})]}),n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Activity Drop Rates"}),n.jsx(Se,{children:"View indexed activities and their loot drop statistics"})]}),n.jsx(J,{children:n.jsxs(si,{value:t,onValueChange:k=>r(k),children:[n.jsxs(is,{className:"mb-4",children:[n.jsxs(St,{value:"dfk","data-testid":"tab-hunts",children:[n.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Hunts (",y?.length||0,")"]}),n.jsxs(St,{value:"metis","data-testid":"tab-patrols",children:[n.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Patrols (",N?.length||0,")"]})]}),n.jsx(Tt,{value:"dfk",children:n.jsx(XR,{activities:y||[],type:"hunt"})}),n.jsx(Tt,{value:"metis",children:n.jsx(XR,{activities:N||[],type:"patrol"})})]})})]})]})]})}function Ih({status:e}){switch(e){case"success":return n.jsxs(W,{variant:"default",className:"bg-green-600","data-testid":"badge-status-success",children:[n.jsx(Gr,{className:"w-3 h-3 mr-1"})," Success"]});case"running":return n.jsxs(W,{variant:"secondary","data-testid":"badge-status-running",children:[n.jsx(ke,{className:"w-3 h-3 mr-1 animate-spin"})," Running"]});case"failed":return n.jsxs(W,{variant:"destructive","data-testid":"badge-status-failed",children:[n.jsx(er,{className:"w-3 h-3 mr-1"})," Failed"]});default:return n.jsxs(W,{variant:"outline","data-testid":"badge-status-unknown",children:[n.jsx(Vc,{className:"w-3 h-3 mr-1"})," ",e]})}}function fu(e){return e?new Date(e).toLocaleString():""}function ZR(e,t){if(!t)return"";const r=new Date(e).getTime(),a=new Date(t).getTime(),s=Math.round((a-r)/1e3);return s<60?`${s}s`:`${Math.floor(s/60)}m ${s%60}s`}function E0e(){const{toast:e}=an(),[t,r]=p.useState(null),[a,s]=p.useState(!1),{data:l,isLoading:c}=Re({queryKey:["/api/admin/hedge/combat/sync/summary"],refetchInterval:1e4}),{data:d,isLoading:f}=Re({queryKey:["/api/admin/hedge/combat/sync/runs"],refetchInterval:1e4}),{data:m,isLoading:h}=Re({queryKey:["/api/admin/hedge/combat/sources"]}),{data:g,isLoading:v}=Re({queryKey:["/api/admin/hedge/combat/sync/runs",t],enabled:!!t}),y=Oe({mutationFn:async()=>(await Ie("POST","/api/admin/hedge/combat/refresh",{discover:!0,concurrency:3})).json(),onSuccess:()=>{e({title:"Sync started",description:"Combat codex sync is now running"}),Me.invalidateQueries({queryKey:["/api/admin/hedge/combat/sync"]})},onError:w=>{e({title:"Sync failed",description:w.message,variant:"destructive"})}}),N=Oe({mutationFn:async({url:w,enabled:C})=>(await Ie("PATCH","/api/admin/hedge/combat/sources",{url:w,enabled:C})).json(),onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/hedge/combat/sources"]}),e({title:"Source updated"})},onError:w=>{e({title:"Failed to update source",description:w.message,variant:"destructive"})}}),b=l?.runningRun!==null||y.isPending;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Combat Sync Status"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage combat codex data ingestion from DFK Wiki"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kl,{href:"/admin/combat-classes",children:n.jsxs(se,{variant:"outline","data-testid":"button-view-classes",children:[n.jsx(Or,{className:"w-4 h-4 mr-2"}),"View Class Skills"]})}),n.jsxs(se,{onClick:()=>y.mutate(),disabled:b,"data-testid":"button-refresh-sync",children:[b?n.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Pn,{className:"w-4 h-4 mr-2"}),b?"Syncing...":"Run Sync"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Classes"}),n.jsx(NH,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:c?n.jsx(Te,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-class-count",children:l?.counts.classes??0})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Skills"}),n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:c?n.jsx(Te,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-skill-count",children:l?.counts.skills??0})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Keywords"}),n.jsx(iM,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:c?n.jsx(Te,{className:"h-8 w-16"}):n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-keyword-count",children:l?.counts.keywords??0})})]}),n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Last Sync"}),n.jsx(et,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(J,{children:c?n.jsx(Te,{className:"h-8 w-32"}):l?.lastRun?n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ih,{status:l.lastRun.status}),n.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-last-sync",children:fu(l.lastRun.started_at)})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Never"})})]})]}),n.jsxs(si,{defaultValue:"runs",className:"space-y-4",children:[n.jsxs(is,{children:[n.jsxs(St,{value:"runs","data-testid":"tab-runs",children:[n.jsx(Na,{className:"w-4 h-4 mr-2"})," Sync Runs"]}),n.jsxs(St,{value:"sources","data-testid":"tab-sources",children:[n.jsx(jV,{className:"w-4 h-4 mr-2"})," Sources"]})]}),n.jsx(Tt,{value:"runs",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Sync Run History"}),n.jsx(Se,{children:"Recent combat codex ingestion runs"})]}),n.jsx(J,{children:f?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(w=>n.jsx(Te,{className:"h-12 w-full"},w))}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"ID"}),n.jsx(V,{children:"Started"}),n.jsx(V,{children:"Duration"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"URLs"}),n.jsx(V,{children:"Classes"}),n.jsx(V,{children:"Skills"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(xt,{children:d?.results?.map(w=>n.jsxs(Pe,{"data-testid":`row-sync-run-${w.id}`,children:[n.jsx(U,{className:"font-mono",children:w.id}),n.jsx(U,{className:"text-sm",children:fu(w.startedAt)}),n.jsx(U,{className:"text-sm",children:ZR(w.startedAt,w.finishedAt)}),n.jsx(U,{children:n.jsx(Ih,{status:w.status})}),n.jsx(U,{children:w.discoveredUrls??""}),n.jsx(U,{children:w.classesIngested??""}),n.jsx(U,{children:w.skillsUpserted??""}),n.jsx(U,{children:n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{r(w.id),s(!0)},"data-testid":`button-view-run-${w.id}`,children:n.jsx(eV,{className:"w-4 h-4"})})})]},w.id))})]})})]})}),n.jsx(Tt,{value:"sources",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Combat Sources"}),n.jsx(Se,{children:"URLs discovered and tracked for combat data ingestion"})]}),n.jsx(J,{children:h?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(w=>n.jsx(Te,{className:"h-12 w-full"},w))}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"URL"}),n.jsx(V,{children:"Type"}),n.jsx(V,{children:"Discovered"}),n.jsx(V,{children:"Last Fetched"}),n.jsx(V,{children:"Enabled"})]})}),n.jsx(xt,{children:m?.results?.map((w,C)=>n.jsxs(Pe,{"data-testid":`row-source-${C}`,children:[n.jsx(U,{className:"max-w-xs truncate font-mono text-xs",children:w.url}),n.jsx(U,{children:n.jsx(W,{variant:"outline",children:w.kind})}),n.jsx(U,{className:"text-sm",children:fu(w.discoveredAt)}),n.jsx(U,{className:"text-sm",children:fu(w.lastFetchedAt)}),n.jsx(U,{children:n.jsx(Yr,{checked:w.enabled,onCheckedChange:A=>N.mutate({url:w.url,enabled:A}),disabled:N.isPending,"data-testid":`switch-source-enabled-${C}`})})]},w.url))})]})})]})})]}),n.jsx(qi,{open:a,onOpenChange:s,children:n.jsxs(Hs,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Vs,{children:[n.jsxs(qs,{children:["Sync Run #",t]}),n.jsx(Ks,{children:"Detailed breakdown of items processed during this sync run"})]}),v?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(w=>n.jsx(Te,{className:"h-8 w-full"},w))}):g?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",n.jsx(Ih,{status:g.run.status})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Started:"})," ",fu(g.run.startedAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Duration:"})," ",ZR(g.run.startedAt,g.run.finishedAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"URLs Discovered:"})," ",g.run.discoveredUrls??""]})]}),g.run.error&&n.jsxs("div",{className:"p-3 bg-destructive/10 rounded-md text-destructive text-sm",children:[n.jsx("strong",{children:"Error:"})," ",g.run.error]}),g.items.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2",children:["Processed Items (",g.items.length,")"]}),n.jsx("div",{className:"max-h-64 overflow-y-auto border rounded-md",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Type"}),n.jsx(V,{children:"Key"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Error"})]})}),n.jsx(xt,{children:g.items.map(w=>n.jsxs(Pe,{children:[n.jsx(U,{children:n.jsx(W,{variant:"outline",className:"text-xs",children:w.itemType})}),n.jsx(U,{className:"font-mono text-xs max-w-xs truncate",children:w.itemKey}),n.jsx(U,{children:n.jsx(Ih,{status:w.status})}),n.jsx(U,{className:"text-xs text-destructive max-w-xs truncate",children:w.error||""})]},w.id))})]})})]})]}):null]})})]})}function A0e(e){const t=P0e(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(T0e);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function P0e(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=_0e(s),d=k0e(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var O0e=Symbol("radix.slottable");function T0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O0e}function k0e(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function _0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var R0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zz=R0e.reduce((e,t)=>{const r=A0e(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function M0e(e){const t=D0e(e),r=p.forwardRef((a,s)=>{const{children:l,...c}=a,d=p.Children.toArray(l),f=d.find(I0e);if(f){const m=f.props.children,h=d.map(g=>g===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return n.jsx(t,{...c,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return n.jsx(t,{...c,ref:s,children:l})});return r.displayName=`${e}.Slot`,r}function D0e(e){const t=p.forwardRef((r,a)=>{const{children:s,...l}=r;if(p.isValidElement(s)){const c=F0e(s),d=$0e(l,s.props);return s.type!==p.Fragment&&(d.ref=a?yn(a,c):c),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L0e=Symbol("radix.slottable");function I0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L0e}function $0e(e,t){const r={...t};for(const a in t){const s=e[a],l=t[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...d)=>{const f=l(...d);return s(...d),f}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}function F0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var z0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],US=z0e.reduce((e,t)=>{const r=M0e(`Primitive.${t}`),a=p.forwardRef((s,l)=>{const{asChild:c,...d}=s,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Mg="Collapsible",[B0e,Bz]=xr(Mg),[U0e,HS]=B0e(Mg),Uz=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:l,onOpenChange:c,...d}=e,[f,m]=ea({prop:a,defaultProp:s??!1,onChange:c,caller:Mg});return n.jsx(U0e,{scope:r,disabled:l,contentId:$a(),open:f,onOpenToggle:p.useCallback(()=>m(h=>!h),[m]),children:n.jsx(US.div,{"data-state":qS(f),"data-disabled":l?"":void 0,...d,ref:t})})});Uz.displayName=Mg;var Hz="CollapsibleTrigger",Vz=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...a}=e,s=HS(Hz,r);return n.jsx(US.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":qS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:ze(e.onClick,s.onOpenToggle)})});Vz.displayName=Hz;var VS="CollapsibleContent",qz=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=HS(VS,e.__scopeCollapsible);return n.jsx(na,{present:r||s.open,children:({present:l})=>n.jsx(H0e,{...a,ref:t,present:l})})});qz.displayName=VS;var H0e=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:a,children:s,...l}=e,c=HS(VS,r),[d,f]=p.useState(a),m=p.useRef(null),h=tt(t,m),g=p.useRef(0),v=g.current,y=p.useRef(0),N=y.current,b=c.open||d,w=p.useRef(b),C=p.useRef(void 0);return p.useEffect(()=>{const A=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(A)},[]),un(()=>{const A=m.current;if(A){C.current=C.current||{transitionDuration:A.style.transitionDuration,animationName:A.style.animationName},A.style.transitionDuration="0s",A.style.animationName="none";const E=A.getBoundingClientRect();g.current=E.height,y.current=E.width,w.current||(A.style.transitionDuration=C.current.transitionDuration,A.style.animationName=C.current.animationName),f(a)}},[c.open,a]),n.jsx(US.div,{"data-state":qS(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!b,...l,ref:h,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:b&&s})});function qS(e){return e?"open":"closed"}var V0e=Uz,q0e=Vz,K0e=qz,Wa="Accordion",W0e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[KS,G0e,Y0e]=tf(Wa),[Dg]=xr(Wa,[Y0e,Bz]),WS=Bz(),Kz=gn.forwardRef((e,t)=>{const{type:r,...a}=e,s=a,l=a;return n.jsx(KS.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(J0e,{...l,ref:t}):n.jsx(Z0e,{...s,ref:t})})});Kz.displayName=Wa;var[Wz,Q0e]=Dg(Wa),[Gz,X0e]=Dg(Wa,{collapsible:!1}),Z0e=gn.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},collapsible:l=!1,...c}=e,[d,f]=ea({prop:r,defaultProp:a??"",onChange:s,caller:Wa});return n.jsx(Wz,{scope:e.__scopeAccordion,value:gn.useMemo(()=>d?[d]:[],[d]),onItemOpen:f,onItemClose:gn.useCallback(()=>l&&f(""),[l,f]),children:n.jsx(Gz,{scope:e.__scopeAccordion,collapsible:l,children:n.jsx(Yz,{...c,ref:t})})})}),J0e=gn.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},...l}=e,[c,d]=ea({prop:r,defaultProp:a??[],onChange:s,caller:Wa}),f=gn.useCallback(h=>d((g=[])=>[...g,h]),[d]),m=gn.useCallback(h=>d((g=[])=>g.filter(v=>v!==h)),[d]);return n.jsx(Wz,{scope:e.__scopeAccordion,value:c,onItemOpen:f,onItemClose:m,children:n.jsx(Gz,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(Yz,{...l,ref:t})})})}),[ebe,Lg]=Dg(Wa),Yz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:a,dir:s,orientation:l="vertical",...c}=e,d=gn.useRef(null),f=tt(d,t),m=G0e(r),g=Qc(s)==="ltr",v=ze(e.onKeyDown,y=>{if(!W0e.includes(y.key))return;const N=y.target,b=m().filter(I=>!I.ref.current?.disabled),w=b.findIndex(I=>I.ref.current===N),C=b.length;if(w===-1)return;y.preventDefault();let A=w;const E=0,T=C-1,k=()=>{A=w+1,A>T&&(A=E)},P=()=>{A=w-1,A<E&&(A=T)};switch(y.key){case"Home":A=E;break;case"End":A=T;break;case"ArrowRight":l==="horizontal"&&(g?k():P());break;case"ArrowDown":l==="vertical"&&k();break;case"ArrowLeft":l==="horizontal"&&(g?P():k());break;case"ArrowUp":l==="vertical"&&P();break}const M=A%C;b[M].ref.current?.focus()});return n.jsx(ebe,{scope:r,disabled:a,direction:s,orientation:l,children:n.jsx(KS.Slot,{scope:r,children:n.jsx(zz.div,{...c,"data-orientation":l,ref:f,onKeyDown:a?void 0:v})})})}),px="AccordionItem",[tbe,GS]=Dg(px),Qz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,value:a,...s}=e,l=Lg(px,r),c=Q0e(px,r),d=WS(r),f=$a(),m=a&&c.value.includes(a)||!1,h=l.disabled||e.disabled;return n.jsx(tbe,{scope:r,open:m,disabled:h,triggerId:f,children:n.jsx(V0e,{"data-orientation":l.orientation,"data-state":nB(m),...d,...s,ref:t,disabled:h,open:m,onOpenChange:g=>{g?c.onItemOpen(a):c.onItemClose(a)}})})});Qz.displayName=px;var Xz="AccordionHeader",Zz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Lg(Wa,r),l=GS(Xz,r);return n.jsx(zz.h3,{"data-orientation":s.orientation,"data-state":nB(l.open),"data-disabled":l.disabled?"":void 0,...a,ref:t})});Zz.displayName=Xz;var Bw="AccordionTrigger",Jz=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Lg(Wa,r),l=GS(Bw,r),c=X0e(Bw,r),d=WS(r);return n.jsx(KS.ItemSlot,{scope:r,children:n.jsx(q0e,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":s.orientation,id:l.triggerId,...d,...a,ref:t})})});Jz.displayName=Bw;var eB="AccordionContent",tB=gn.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Lg(Wa,r),l=GS(eB,r),c=WS(r);return n.jsx(K0e,{role:"region","aria-labelledby":l.triggerId,"data-orientation":s.orientation,...c,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});tB.displayName=eB;function nB(e){return e?"open":"closed"}var nbe=Kz,rbe=Qz,abe=Zz,rB=Jz,aB=tB;const sbe=nbe,sB=p.forwardRef(({className:e,...t},r)=>n.jsx(rbe,{ref:r,className:De("border-b",e),...t}));sB.displayName="AccordionItem";const iB=p.forwardRef(({className:e,children:t,...r},a)=>n.jsx(abe,{className:"flex",children:n.jsxs(rB,{ref:a,className:De("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Hc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));iB.displayName=rB.displayName;const lB=p.forwardRef(({className:e,children:t,...r},a)=>n.jsx(aB,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:De("pb-4 pt-0",e),children:t})}));lB.displayName=aB.displayName;function ibe({maturity:e}){switch(e){case"revised_through_tier_5":return n.jsx(W,{variant:"default",className:"bg-green-600","data-testid":"badge-maturity-revised",children:"Revised T1-5"});case"pre_alpha":return n.jsx(W,{variant:"secondary","data-testid":"badge-maturity-prealpha",children:"Pre-Alpha"});default:return n.jsx(W,{variant:"outline","data-testid":"badge-maturity-other",children:e})}}function lbe({tier:e}){const t=["bg-gray-500","bg-green-600","bg-blue-600","bg-purple-600","bg-orange-600","bg-red-600"];return n.jsxs(W,{className:t[Math.min(e,5)],"data-testid":`badge-tier-${e}`,children:["T",e]})}function obe({skills:e,className:t}){const[r,a]=p.useState(null),s=Array.from(new Set(e.map(d=>d.tier))).sort((d,f)=>d-f),l=Array.from(new Set(e.map(d=>d.discipline).filter(Boolean))),c=r!==null?e.filter(d=>d.tier===r):e;return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Filter by tier:"}),n.jsxs(se,{variant:r===null?"default":"outline",size:"sm",onClick:()=>a(null),"data-testid":`button-filter-all-${t}`,children:["All (",e.length,")"]}),s.map(d=>n.jsxs(se,{variant:r===d?"default":"outline",size:"sm",onClick:()=>a(d),"data-testid":`button-filter-tier-${d}-${t}`,children:["T",d," (",e.filter(f=>f.tier===d).length,")"]},d))]}),l.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:"Disciplines:"}),l.map(d=>n.jsx(W,{variant:"outline",className:"text-xs","data-testid":`badge-discipline-${d}`,children:d},d))]}),n.jsx("div",{className:"rounded-md border max-h-[400px] overflow-auto",children:n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-[60px]",children:"Tier"}),n.jsx(V,{children:"Ability"}),n.jsx(V,{children:"Discipline"}),n.jsx(V,{className:"w-[60px]",children:"Range"}),n.jsx(V,{className:"w-[60px]",children:"Mana"})]})}),n.jsx(xt,{children:c.map((d,f)=>n.jsxs(Pe,{"data-testid":`row-skill-${d.ability}`,children:[n.jsx(U,{children:n.jsx(lbe,{tier:d.tier})}),n.jsx(U,{className:"font-medium",children:d.ability}),n.jsx(U,{className:"text-muted-foreground",children:d.discipline||"-"}),n.jsx(U,{children:d.range??"-"}),n.jsx(U,{children:d.manaCost?parseFloat(d.manaCost).toFixed(0):"-"})]},`${d.ability}-${f}`))})]})})]})}function cbe(){const{toast:e}=an(),[t,r]=p.useState(""),{data:a,isLoading:s,error:l}=Re({queryKey:["/api/admin/hedge/combat/classes-summary"]}),c=Oe({mutationFn:async({className:g,validated:v})=>(await Ie("PATCH",`/api/admin/hedge/combat/classes/${encodeURIComponent(g)}/validate`,{validated:v})).json(),onSuccess:(g,v)=>{Me.invalidateQueries({queryKey:["/api/admin/hedge/combat/classes-summary"]}),e({title:v.validated?"Class validated":"Validation removed",description:`${v.className} is now ${v.validated?"available":"hidden"} to Hedge NPC`})},onError:g=>{e({title:"Failed to update validation",description:g.message,variant:"destructive"})}}),d=a?.classes||[],f=t?d.filter(g=>g.class.toLowerCase().includes(t.toLowerCase())||g.skills.some(v=>v.ability.toLowerCase().includes(t.toLowerCase()))):d,m=d.reduce((g,v)=>g+v.skillCount,0),h=d.filter(g=>g.validated).length;return n.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[n.jsx(Or,{className:"w-8 h-8"}),"Combat Class Summary"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Overview of all hero classes and their combat skills"})]}),n.jsx(Kl,{href:"/admin/hedge/combat-sync",children:n.jsx(se,{variant:"outline","data-testid":"button-back-to-sync",children:"Back to Combat Sync"})})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(Y,{"data-testid":"card-total-classes",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Classes"}),n.jsx(Ql,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Te,{className:"h-8 w-16"}):d.length})})]}),n.jsxs(Y,{"data-testid":"card-total-skills",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Total Skills"}),n.jsx(lr,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Te,{className:"h-8 w-16"}):m})})]}),n.jsxs(Y,{"data-testid":"card-revised-classes",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Revised Classes"}),n.jsx(Or,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Te,{className:"h-8 w-16"}):d.filter(g=>g.maturity==="revised_through_tier_5").length})})]}),n.jsxs(Y,{"data-testid":"card-validated-classes",children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(oe,{className:"text-sm font-medium",children:"Validated for Hedge"}),n.jsx(Gr,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsx(J,{children:n.jsx("div",{className:"text-2xl font-bold",children:s?n.jsx(Te,{className:"h-8 w-16"}):n.jsx("span",{className:h>0?"text-green-600":"",children:h})})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-4 h-4 text-muted-foreground"}),n.jsx(Qe,{placeholder:"Search classes or skills...",value:t,onChange:g=>r(g.target.value),className:"max-w-sm","data-testid":"input-search"})]}),s&&n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(Te,{className:"h-6 w-32"}),n.jsx(Te,{className:"h-4 w-48"})]}),n.jsx(J,{children:n.jsx(Te,{className:"h-24 w-full"})})]},g))}),l&&n.jsx(Y,{className:"border-destructive",children:n.jsx(J,{className:"pt-6",children:n.jsxs("p",{className:"text-destructive",children:["Failed to load combat classes: ",l.message]})})}),!s&&!l&&n.jsx(sbe,{type:"multiple",className:"space-y-4",children:f.map(g=>n.jsxs(sB,{value:g.class,className:"border rounded-lg px-4","data-testid":`accordion-class-${g.class}`,children:[n.jsx(iB,{className:"hover:no-underline py-4",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-left",children:[n.jsx("span",{className:"font-bold text-lg",children:g.class}),n.jsx(ibe,{maturity:g.maturity}),g.validated&&n.jsxs(W,{variant:"default",className:"bg-green-600","data-testid":`badge-validated-${g.class}`,children:[n.jsx(Gr,{className:"w-3 h-3 mr-1"}),"Validated"]}),n.jsxs(W,{variant:"outline","data-testid":`badge-skill-count-${g.class}`,children:[g.skillCount," skills"]}),g.disciplines.length>0&&g.disciplines.map(v=>n.jsx(W,{variant:"secondary",className:"text-xs",children:v},v))]})}),n.jsx(lB,{className:"pb-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("a",{href:g.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline flex items-center gap-1","data-testid":`link-source-${g.class}`,children:[n.jsx(mr,{className:"w-3 h-3"}),"View Official Documentation"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yr,{id:`validate-${g.class}`,checked:g.validated,onCheckedChange:v=>c.mutate({className:g.class,validated:v}),disabled:c.isPending,"data-testid":`switch-validate-${g.class}`}),n.jsx(_e,{htmlFor:`validate-${g.class}`,className:"text-sm",children:g.validated?"Validated for Hedge NPC":"Mark as validated"})]})]}),g.lastUpdateNote&&n.jsxs("p",{className:"text-sm text-muted-foreground border-l-2 pl-3",children:[g.lastUpdateNote.substring(0,200),"..."]}),n.jsx(obe,{skills:g.skills,className:g.class})]})})]},g.class))})]})}function JR(e){return e?new Date(e).toLocaleString():""}function lj({tierId:e}){switch(e){case"premium_plus":return n.jsx(Ws,{className:"w-4 h-4 text-yellow-500"});case"premium":return n.jsx(nM,{className:"w-4 h-4 text-blue-500"});default:return n.jsx(Ql,{className:"w-4 h-4 text-muted-foreground"})}}function dbe(){const{toast:e}=an(),[t,r]=p.useState(null),[a,s]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState({domain:"combat",resource:"skills",tier_id:"free",mode:"allowlist",rule:"[]"}),[m,h]=p.useState(!1),[g,v]=p.useState({domain:"combat",resource:"skills",tier_id:"free",sample:"{}"}),[y,N]=p.useState(null),{data:b,isLoading:w}=Re({queryKey:["/api/admin/hedge/entitlements/tiers"]}),{data:C,isLoading:A}=Re({queryKey:["/api/admin/hedge/entitlements/rules"]}),{data:E}=Re({queryKey:["/api/admin/hedge/schema/combat/skills"]}),T=Oe({mutationFn:async _=>(await Ie("PATCH",`/api/admin/hedge/entitlements/tiers/${_.tierId}`,_.patch)).json(),onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/hedge/entitlements/tiers"]}),s(!1),r(null),e({title:"Tier updated successfully"})},onError:_=>{e({title:"Failed to update tier",description:_.message,variant:"destructive"})}}),k=Oe({mutationFn:async _=>(await Ie("PUT","/api/admin/hedge/entitlements/rules",_)).json(),onSuccess:()=>{Me.invalidateQueries({queryKey:["/api/admin/hedge/entitlements/rules"]}),c(!1),e({title:"Rule saved successfully"})},onError:_=>{e({title:"Failed to save rule",description:_.message,variant:"destructive"})}}),P=Oe({mutationFn:async _=>(await Ie("POST","/api/admin/hedge/entitlements/preview",_)).json(),onSuccess:_=>{N(_)},onError:_=>{e({title:"Preview failed",description:_.message,variant:"destructive"})}}),M=()=>{t&&T.mutate({tierId:t.tier_id,patch:{display_name:t.display_name,description:t.description,price_monthly:t.price_monthly,enabled:t.enabled,sort_order:t.sort_order}})},I=()=>{try{const _=JSON.parse(d.rule);k.mutate({domain:d.domain,resource:d.resource,tier_id:d.tier_id,mode:d.mode,rule:_})}catch{e({title:"Invalid JSON",description:"Rule must be valid JSON",variant:"destructive"})}},Q=()=>{try{const _=JSON.parse(g.sample);P.mutate({domain:g.domain,resource:g.resource,tier_id:g.tier_id,sample:_})}catch{e({title:"Invalid JSON",description:"Sample must be valid JSON",variant:"destructive"})}},L=_=>{f(_?{domain:_.domain,resource:_.resource,tier_id:_.tier_id,mode:_.mode,rule:JSON.stringify(_.rule,null,2)}:{domain:"combat",resource:"skills",tier_id:"free",mode:"allowlist",rule:"[]"}),c(!0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:"Plans & Access"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage subscription tiers and entitlement rules"})]}),n.jsxs(se,{variant:"outline",onClick:()=>h(!0),"data-testid":"button-preview",children:[n.jsx(yc,{className:"w-4 h-4 mr-2"})," Preview Entitlements"]})]}),n.jsxs(si,{defaultValue:"tiers",className:"space-y-4",children:[n.jsxs(is,{children:[n.jsxs(St,{value:"tiers","data-testid":"tab-tiers",children:[n.jsx(Ws,{className:"w-4 h-4 mr-2"})," Tiers"]}),n.jsxs(St,{value:"rules","data-testid":"tab-rules",children:[n.jsx(Ql,{className:"w-4 h-4 mr-2"})," Rules"]}),n.jsxs(St,{value:"schema","data-testid":"tab-schema",children:[n.jsx(nM,{className:"w-4 h-4 mr-2"})," Schema"]})]}),n.jsx(Tt,{value:"tiers",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Subscription Tiers"}),n.jsx(Se,{children:"Configure available subscription plans and their features"})]}),n.jsx(J,{children:w?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(_=>n.jsx(Te,{className:"h-12 w-full"},_))}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Tier"}),n.jsx(V,{children:"Display Name"}),n.jsx(V,{children:"Price (Monthly)"}),n.jsx(V,{children:"Status"}),n.jsx(V,{children:"Order"}),n.jsx(V,{children:"Updated"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(xt,{children:b?.results?.map(_=>n.jsxs(Pe,{"data-testid":`row-tier-${_.tier_id}`,children:[n.jsxs(U,{className:"flex items-center gap-2",children:[n.jsx(lj,{tierId:_.tier_id}),n.jsx("span",{className:"font-mono text-sm",children:_.tier_id})]}),n.jsx(U,{children:_.display_name}),n.jsx(U,{children:_.price_monthly?`$${_.price_monthly}/mo`:"Free"}),n.jsx(U,{children:n.jsx(W,{variant:_.enabled?"default":"secondary",children:_.enabled?"Active":"Disabled"})}),n.jsx(U,{children:_.sort_order}),n.jsx(U,{className:"text-sm",children:JR(_.updated_at)}),n.jsx(U,{children:n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{r({..._}),s(!0)},"data-testid":`button-edit-tier-${_.tier_id}`,children:n.jsx(Yi,{className:"w-4 h-4"})})})]},_.tier_id))})]})})]})}),n.jsx(Tt,{value:"rules",children:n.jsxs(Y,{children:[n.jsxs(ie,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx(oe,{children:"Entitlement Rules"}),n.jsx(Se,{children:"Define what each tier can access"})]}),n.jsxs(se,{onClick:()=>L(),"data-testid":"button-add-rule",children:[n.jsx(Yl,{className:"w-4 h-4 mr-2"})," Add Rule"]})]}),n.jsx(J,{children:A?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(_=>n.jsx(Te,{className:"h-12 w-full"},_))}):n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Domain"}),n.jsx(V,{children:"Resource"}),n.jsx(V,{children:"Tier"}),n.jsx(V,{children:"Mode"}),n.jsx(V,{children:"Rule"}),n.jsx(V,{children:"Updated"}),n.jsx(V,{children:"Actions"})]})}),n.jsx(xt,{children:C?.results?.map(_=>n.jsxs(Pe,{"data-testid":`row-rule-${_.id}`,children:[n.jsx(U,{children:n.jsx(W,{variant:"outline",children:_.domain})}),n.jsx(U,{children:n.jsx(W,{variant:"outline",children:_.resource})}),n.jsxs(U,{className:"flex items-center gap-2",children:[n.jsx(lj,{tierId:_.tier_id}),n.jsx("span",{className:"text-sm",children:_.tier_id})]}),n.jsx(U,{children:n.jsx(W,{variant:"secondary",children:_.mode})}),n.jsx(U,{className:"font-mono text-xs max-w-xs truncate",children:JSON.stringify(_.rule)}),n.jsx(U,{className:"text-sm",children:JR(_.updated_at)}),n.jsx(U,{children:n.jsx(se,{variant:"ghost",size:"sm",onClick:()=>L(_),"data-testid":`button-edit-rule-${_.id}`,children:n.jsx(Yi,{className:"w-4 h-4"})})})]},_.id))})]})})]})}),n.jsx(Tt,{value:"schema",children:n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(oe,{children:"Combat Skill Fields"}),n.jsx(Se,{children:"Available fields for allowlist configuration"})]}),n.jsx(J,{children:E?.fields?n.jsxs(ht,{children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{children:"Field"}),n.jsx(V,{children:"Type"}),n.jsx(V,{children:"Description"})]})}),n.jsx(xt,{children:E.fields.map(_=>n.jsxs(Pe,{"data-testid":`row-field-${_.name}`,children:[n.jsx(U,{className:"font-mono text-sm",children:_.name}),n.jsx(U,{children:n.jsx(W,{variant:"outline",children:_.type})}),n.jsx(U,{className:"text-sm text-muted-foreground",children:_.description})]},_.name))})]}):n.jsx("p",{className:"text-muted-foreground",children:"No schema data available"})})]})})]}),n.jsx(qi,{open:a,onOpenChange:s,children:n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsxs(qs,{children:["Edit Tier: ",t?.tier_id]}),n.jsx(Ks,{children:"Update tier display settings and pricing"})]}),t&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Display Name"}),n.jsx(Qe,{value:t.display_name,onChange:_=>r({...t,display_name:_.target.value}),"data-testid":"input-tier-display-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Description"}),n.jsx(Su,{value:t.description||"",onChange:_=>r({...t,description:_.target.value}),"data-testid":"input-tier-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Price (Monthly USD)"}),n.jsx(Qe,{type:"number",value:t.price_monthly||"",onChange:_=>r({...t,price_monthly:_.target.value||null}),placeholder:"0.00","data-testid":"input-tier-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Sort Order"}),n.jsx(Qe,{type:"number",value:t.sort_order,onChange:_=>r({...t,sort_order:parseInt(_.target.value)||0}),"data-testid":"input-tier-sort-order"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yr,{checked:t.enabled,onCheckedChange:_=>r({...t,enabled:_}),"data-testid":"switch-tier-enabled"}),n.jsx(_e,{children:"Enabled"})]})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsxs(se,{onClick:M,disabled:T.isPending,"data-testid":"button-save-tier",children:[T.isPending?n.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(bj,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),n.jsx(qi,{open:l,onOpenChange:c,children:n.jsxs(Hs,{children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Edit Entitlement Rule"}),n.jsx(Ks,{children:"Configure access rules for a specific tier"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Domain"}),n.jsxs(ct,{value:d.domain,onValueChange:_=>f({...d,domain:_}),children:[n.jsx(st,{"data-testid":"select-rule-domain",children:n.jsx(dt,{})}),n.jsx(it,{children:n.jsx(ye,{value:"combat",children:"combat"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Resource"}),n.jsxs(ct,{value:d.resource,onValueChange:_=>f({...d,resource:_}),children:[n.jsx(st,{"data-testid":"select-rule-resource",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"skills",children:"skills"}),n.jsx(ye,{value:"classes",children:"classes"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Tier"}),n.jsxs(ct,{value:d.tier_id,onValueChange:_=>f({...d,tier_id:_}),children:[n.jsx(st,{"data-testid":"select-rule-tier",children:n.jsx(dt,{})}),n.jsx(it,{children:b?.results?.map(_=>n.jsx(ye,{value:_.tier_id,children:_.display_name},_.tier_id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Mode"}),n.jsxs(ct,{value:d.mode,onValueChange:_=>f({...d,mode:_}),children:[n.jsx(st,{"data-testid":"select-rule-mode",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"allowlist",children:"allowlist"}),n.jsx(ye,{value:"flags",children:"flags"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Rule (JSON)"}),n.jsx(Su,{value:d.rule,onChange:_=>f({...d,rule:_.target.value}),className:"font-mono text-sm min-h-[120px]",placeholder:'["field1", "field2"] or {"featureFlag": true}',"data-testid":"input-rule-json"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"For allowlist mode: array of field names. For flags mode: object with boolean flags."})]})]}),n.jsxs(oo,{children:[n.jsx(se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsxs(se,{onClick:I,disabled:k.isPending,"data-testid":"button-save-rule",children:[k.isPending?n.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(bj,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),n.jsx(qi,{open:m,onOpenChange:h,children:n.jsxs(Hs,{className:"max-w-2xl",children:[n.jsxs(Vs,{children:[n.jsx(qs,{children:"Preview Entitlements"}),n.jsx(Ks,{children:"Test how entitlements shape data for different tiers"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Domain"}),n.jsxs(ct,{value:g.domain,onValueChange:_=>v({...g,domain:_}),children:[n.jsx(st,{"data-testid":"select-preview-domain",children:n.jsx(dt,{})}),n.jsx(it,{children:n.jsx(ye,{value:"combat",children:"combat"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Resource"}),n.jsxs(ct,{value:g.resource,onValueChange:_=>v({...g,resource:_}),children:[n.jsx(st,{"data-testid":"select-preview-resource",children:n.jsx(dt,{})}),n.jsxs(it,{children:[n.jsx(ye,{value:"skills",children:"skills"}),n.jsx(ye,{value:"classes",children:"classes"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Tier"}),n.jsxs(ct,{value:g.tier_id,onValueChange:_=>v({...g,tier_id:_}),children:[n.jsx(st,{"data-testid":"select-preview-tier",children:n.jsx(dt,{})}),n.jsx(it,{children:b?.results?.map(_=>n.jsx(ye,{value:_.tier_id,children:_.display_name},_.tier_id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Sample Object (JSON)"}),n.jsx(Su,{value:g.sample,onChange:_=>v({...g,sample:_.target.value}),className:"font-mono text-sm min-h-[100px]",placeholder:'{"id": 1, "name": "Test", "damage": 50}',"data-testid":"input-preview-sample"})]}),n.jsxs(se,{onClick:Q,disabled:P.isPending,"data-testid":"button-run-preview",children:[P.isPending?n.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(yc,{className:"w-4 h-4 mr-2"}),"Preview"]}),y&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lj,{tierId:y.tier}),n.jsxs("span",{className:"font-medium",children:["Results for ",y.tier]})]}),Object.keys(y.features).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Feature Flags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(y.features).map(([_,q])=>n.jsxs(W,{variant:q?"default":"secondary",children:[q?n.jsx(Gr,{className:"w-3 h-3 mr-1"}):null,_]},_))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{children:"Shaped Result"}),n.jsx("pre",{className:"p-3 bg-muted rounded-md text-sm font-mono overflow-auto max-h-[200px]","data-testid":"text-preview-result",children:JSON.stringify(y.result,null,2)})]})]})]})]})})]})}const ube={0:"Guest",1:"Bronze",2:"Silver",3:"Gold",4:"Council"};function fbe(){const e=Y9(),r=new URLSearchParams(e).get("userId"),{toast:a}=an(),[s,l]=p.useState("apr");p.useEffect(()=>{const N=typeof window<"u"?localStorage.getItem("lpViewMode"):null;(N==="tokens"||N==="apr")&&l(N)},[]),p.useEffect(()=>{typeof window<"u"&&localStorage.setItem("lpViewMode",s)},[s]);const{data:c,isLoading:d,error:f}=Re({queryKey:["/api/admin/users",r,"account"],queryFn:async()=>{const N=await fetch("/api/admin/users");if(!N.ok)throw console.error("Failed to fetch users:",N.status,N.statusText),new Error(`HTTP ${N.status}`);const b=await N.json(),w=Array.isArray(b?.users)?b.users:Array.isArray(b)?b:null;if(!w)throw console.error("Invalid API response format:",b),new Error("Invalid API response");const C=w.find(A=>A.discordId===r);if(!C)throw new Error("User not found");return C},enabled:!!r,retry:1}),{data:m,isLoading:h,error:g}=Re({queryKey:["/api/admin/lp-positions",c?.walletAddress],queryFn:async()=>{console.log(`[LP Fetch] Fetching LP positions for wallet: ${c.walletAddress}`);const N=await fetch(`/api/admin/lp-positions/${c.walletAddress}`,{credentials:"include"});if(console.log(`[LP Fetch] Response status: ${N.status}`),!N.ok){const w=await N.text();throw console.error("[LP Fetch] Error response:",w),new Error(`HTTP ${N.status}`)}const b=await N.json();return console.log(`[LP Fetch] Got ${b.positions?.length||0} positions, total value: ${b.totalValue}`),{positions:b.positions||[],totalValue:b.totalValue||"0.00"}},enabled:!!c?.walletAddress,retry:1,staleTime:6e4});g&&console.error("[LP Fetch] Query error:",g);const v=N=>{const b=Number(N);return Number.isFinite(b)?b.toFixed(2):"0.00"},y=N=>{navigator.clipboard.writeText(N),a({title:"Copied to clipboard"})};return r?d?n.jsx("div",{className:"min-h-screen bg-background p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx(Te,{className:"h-12 w-64"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Te,{className:"h-48"}),n.jsx(Te,{className:"h-48"}),n.jsx(Te,{className:"h-48"}),n.jsx(Te,{className:"h-48"})]})]})}):f||!c?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(Y,{className:"w-full max-w-md",children:n.jsxs(J,{className:"p-6 text-center",children:[n.jsx("p",{className:"text-red-500",children:"Failed to load account data"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"User may not exist or you may need to log in"})]})})}):n.jsx("div",{className:"min-h-screen bg-background","data-testid":"account-page",children:n.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold","data-testid":"account-title",children:[c.discordUsername,"'s Dashboard"]}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Hedge Ledger Account Overview"})]}),n.jsx(W,{className:"text-sm px-3 py-1","data-testid":"badge-tier",children:ube[c.tier]||"Guest"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(Y,{"data-testid":"card-profile",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),"Profile"]})}),n.jsxs(J,{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discord"}),n.jsx("span",{className:"font-medium",children:c.discordUsername})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Archetype"}),n.jsx(W,{variant:"outline",children:c.archetype})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"State"}),n.jsx("span",{className:"font-medium",children:c.state})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Influence"}),n.jsx("span",{className:"font-medium",children:(c.influence||0).toLocaleString()})]})]})]}),n.jsxs(Y,{"data-testid":"card-wallet",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(qc,{className:"h-5 w-5"}),"Wallet"]})}),n.jsx(J,{className:"space-y-3 text-sm",children:c.walletAddress?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Address"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("code",{className:"text-xs",children:[c.walletAddress.slice(0,6),"...",c.walletAddress.slice(-4)]}),n.jsx(se,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>y(c.walletAddress),"data-testid":"button-copy-wallet",children:n.jsx(lp,{className:"h-3 w-3"})})]})]}),c.walletBalances&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.jewel).toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.crystal).toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"cJEWEL"}),n.jsx("span",{className:"font-medium",children:parseFloat(c.walletBalances.cJewel).toFixed(2)})]})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No wallet linked"})})]}),n.jsxs(Y,{"data-testid":"card-portfolio",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Tr,{className:"h-5 w-5"}),"DFK Portfolio"]})}),n.jsx(J,{className:"space-y-3 text-sm",children:c.dfkSnapshot?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Heroes"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.heroCount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Gen0 Heroes"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.gen0Count})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"LP Positions"}),n.jsx("span",{className:"font-medium",children:c.dfkSnapshot.lpPositionsCount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total LP Value"}),n.jsxs("span",{className:"font-medium",children:["$",c.dfkSnapshot.totalLPValue?.toFixed(2)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Streak"}),n.jsxs("span",{className:"font-medium",children:[c.dfkSnapshot.questingStreakDays||0," days"]})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No portfolio data available"})})]}),n.jsxs(Y,{"data-testid":"card-kpis",children:[n.jsx(ie,{className:"pb-2",children:n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(tr,{className:"h-5 w-5"}),"Performance"]})}),n.jsx(J,{className:"space-y-3 text-sm",children:c.kpis?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Engagement Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.engagementScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Financial Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.financialScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Retention Score"}),n.jsx("span",{className:"font-medium",children:c.kpis.retentionScore?.toFixed(0)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Messages (7d)"}),n.jsx("span",{className:"font-medium",children:c.kpis.messagesLast7d||0})]})]}):n.jsx("p",{className:"text-muted-foreground",children:"No KPI data available"})})]})]}),n.jsxs(Y,{"data-testid":"card-lp-positions",className:"mt-4",children:[n.jsxs(ie,{className:"pb-2 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[n.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[n.jsx(yV,{className:"h-5 w-5"}),"LP Positions (Garden Pools)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(se,{variant:s==="apr"?"default":"outline",size:"sm",onClick:()=>l("apr"),children:"APR %"}),n.jsx(se,{variant:s==="tokens"?"default":"outline",size:"sm",onClick:()=>l("tokens"),children:"Tokens / day"})]})]}),n.jsx(J,{children:c.walletAddress?h?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Te,{className:"h-16 w-full"}),n.jsx(Te,{className:"h-16 w-full"})]}):m?.positions&&m.positions.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Total Value: ",n.jsxs("span",{className:"font-semibold text-foreground",children:["$",m.totalValue]})]}),n.jsx("div",{className:"space-y-3",children:m.positions.map(N=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2","data-testid":`lp-position-${N.pid}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:N.pairName}),n.jsxs(W,{variant:"outline",className:"text-xs",children:["PID ",N.pid]})]}),n.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",N.userTVL]})]}),s==="apr"?n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total APR"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:N.poolData.totalAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Fee APR"}),n.jsx("div",{className:"font-medium",children:N.poolData.fee24hAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Harvesting APR"}),n.jsx("div",{className:"font-medium",children:N.poolData.harvesting24hAPR||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Boost"}),n.jsx("div",{className:"font-medium",children:N.poolData.gardeningQuestAPR?.worst&&N.poolData.gardeningQuestAPR?.best?`${N.poolData.gardeningQuestAPR.worst} - ${N.poolData.gardeningQuestAPR.best}`:"N/A"})]})]}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"JEWEL / day"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:v(N.poolData.daily?.jewel)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"CRYSTAL / day"}),n.jsx("div",{className:"font-medium text-green-600 dark:text-green-400",children:v(N.poolData.daily?.crystal)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Quest Boost"}),n.jsx("div",{className:"font-medium",children:N.poolData.gardeningQuestAPR?.worst&&N.poolData.gardeningQuestAPR?.best?`${N.poolData.gardeningQuestAPR.worst} - ${N.poolData.gardeningQuestAPR.best}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Share"}),n.jsx("div",{className:"font-medium",children:N.shareOfPool})]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-1 border-t",children:[n.jsxs("span",{children:["Pool Share: ",N.shareOfPool]}),n.jsxs("span",{children:["Pool TVL: ",N.poolData.totalTVL]})]})]},N.pid))})]}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No LP positions found in garden pools"}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No wallet linked to fetch LP positions"})})]})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(Y,{className:"w-full max-w-md",children:n.jsx(J,{className:"p-6 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No user ID provided"})})})})}const mbe={heroes:Mr,hunting:Pu,pvp:op,summoning:lf,defi:Tr,season:Jw,overall:tr},hbe={heroes:"Hero Progression",hunting:"Hunting & PvE",pvp:"PvP Competition",summoning:"Summoning Feats",defi:"DeFi Participation",season:"Seasonal",overall:"Overall"},pbe={summoner_of_legends:{label:"Legendary Summoner",color:"bg-purple-500/20 text-purple-300 border-purple-500/30"},mythmaker:{label:"Mythmaker",color:"bg-amber-500/20 text-amber-300 border-amber-500/30"},clucker_miracle:{label:"Miracle Hunter",color:"bg-red-500/20 text-red-300 border-red-500/30"},arena_victor:{label:"Arena Victor",color:"bg-blue-500/20 text-blue-300 border-blue-500/30"},lp_whale:{label:"LP Whale",color:"bg-green-500/20 text-green-300 border-green-500/30"}};function xbe({rank:e}){return e===1?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(Ws,{className:"h-5 w-5 text-yellow-400"}),n.jsx("span",{className:"font-bold text-yellow-400",children:"1st"})]}):e===2?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(_V,{className:"h-5 w-5 text-gray-300"}),n.jsx("span",{className:"font-bold text-gray-300",children:"2nd"})]}):e===3?n.jsxs("div",{className:"flex items-center gap-1","data-testid":`rank-badge-${e}`,children:[n.jsx(zh,{className:"h-5 w-5 text-orange-400"}),n.jsx("span",{className:"font-bold text-orange-400",children:"3rd"})]}):n.jsxs("span",{className:"text-muted-foreground","data-testid":`rank-badge-${e}`,children:["#",e]})}function gbe({leaderboards:e,selectedKey:t,onSelect:r}){const a=e.reduce((s,l)=>(s[l.categoryKey]||(s[l.categoryKey]=[]),s[l.categoryKey].push(l),s),{});return n.jsxs("div",{className:"w-64 border-r bg-card/50 min-h-screen","data-testid":"leaderboard-sidebar",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xr,{className:"h-5 w-5 text-primary"}),n.jsx("h2",{className:"font-semibold text-lg",children:"Leaderboards"})]})}),n.jsx(Hi,{className:"h-[calc(100vh-80px)]",children:n.jsx("div",{className:"p-2",children:Object.entries(a).map(([s,l])=>{const c=mbe[s]||Xr;return n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wide",children:[n.jsx(c,{className:"h-3 w-3"}),hbe[s]||s]}),l.map(d=>n.jsxs(se,{variant:t===d.key?"secondary":"ghost",className:"w-full justify-start text-left h-auto py-2 px-3",onClick:()=>r(d.key),"data-testid":`button-select-leaderboard-${d.key}`,children:[n.jsxs("div",{className:"flex flex-col items-start gap-0.5",children:[n.jsx("span",{className:"text-sm font-medium",children:d.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:d.timeWindow.replace("_"," ")})]}),n.jsx(af,{className:"h-4 w-4 ml-auto opacity-50"})]},d.key))]},s)})})})]})}function vbe({data:e,isLoading:t}){return t?n.jsx("div",{className:"space-y-3",children:[...Array(10)].map((r,a)=>n.jsx(Te,{className:"h-12 w-full"},a))}):e?e.entries.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[n.jsx(Xr,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"No entries yet"}),n.jsx("p",{className:"text-sm",children:"Rankings will appear after the next leaderboard run"})]}):n.jsxs(ht,{"data-testid":"leaderboard-table",children:[n.jsx(pt,{children:n.jsxs(Pe,{children:[n.jsx(V,{className:"w-20",children:"Rank"}),n.jsx(V,{children:"Player"}),n.jsx(V,{className:"text-right",children:"Score"}),n.jsx(V,{children:"Badges"})]})}),n.jsx(xt,{children:e.entries.map(r=>n.jsxs(Pe,{"data-testid":`leaderboard-row-${r.rank}`,children:[n.jsx(U,{children:n.jsx(xbe,{rank:r.rank})}),n.jsx(U,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium","data-testid":`player-name-${r.rank}`,children:r.displayName||r.walletPreview||"Anonymous"}),r.walletPreview&&r.displayName&&n.jsx("span",{className:"text-xs text-muted-foreground",children:r.walletPreview})]})}),n.jsx(U,{className:"text-right",children:n.jsx("span",{className:"font-bold text-lg","data-testid":`score-${r.rank}`,children:r.score.toLocaleString()})}),n.jsx(U,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:r.flags.map(a=>{const s=pbe[a];return s?n.jsx(W,{variant:"outline",className:`text-xs ${s.color}`,"data-testid":`badge-${a}-${r.rank}`,children:s.label},a):null})})})]},r.clusterId))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[n.jsx(Xr,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{children:"Select a leaderboard to view rankings"})]})}function e4(){const[e,t]=Q9("/leaderboards/:key"),[,r]=Va(),a=t?.key||null,[s,l]=p.useState(a),{data:c,isLoading:d}=Re({queryKey:["/api/leaderboards"]}),{data:f,isLoading:m}=Re({queryKey:["/api/leaderboards",s],enabled:!!s});p.useEffect(()=>{a&&a!==s&&l(a)},[a,s]),p.useEffect(()=>{if(c&&c.length>0&&!s){const g=c[0].key;l(g),r(`/leaderboards/${g}`,{replace:!0})}},[c,s,r]);const h=g=>{l(g),r(`/leaderboards/${g}`)};return d?n.jsxs("div",{className:"flex h-screen",children:[n.jsxs("div",{className:"w-64 border-r p-4",children:[n.jsx(Te,{className:"h-8 w-32 mb-4"}),[...Array(6)].map((g,v)=>n.jsx(Te,{className:"h-10 w-full mb-2"},v))]}),n.jsxs("div",{className:"flex-1 p-6",children:[n.jsx(Te,{className:"h-8 w-48 mb-4"}),n.jsx(Te,{className:"h-96 w-full"})]})]}):n.jsxs("div",{className:"flex h-screen bg-background","data-testid":"leaderboards-page",children:[n.jsx(gbe,{leaderboards:c||[],selectedKey:s,onSelect:h}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"p-6",children:[f&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h1",{className:"text-2xl font-bold","data-testid":"leaderboard-title",children:f.name}),n.jsx(W,{variant:"outline","data-testid":"time-window-badge",children:f.timeWindow.replace("_"," ")})]}),n.jsx("p",{className:"text-muted-foreground","data-testid":"leaderboard-description",children:f.description}),f.generatedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2","data-testid":"generated-at",children:["Last updated: ",new Date(f.generatedAt).toLocaleString()]})]}),n.jsx(Y,{children:n.jsx(J,{className:"p-0",children:n.jsx(vbe,{data:f||null,isLoading:m})})})]})})]})}const ybe={hero_progression:Or,economy_strategy:Tr,profession_specialization:aM,ownership_collection:Ws,behavior_engagement:Mr,seasonal_events:Jw,prestige_overall:nN,summoning_prestige:lf,overall:tr},t4={BASIC:"bg-stone-500/20 text-stone-300 border-stone-500/30",ADVANCED:"bg-blue-500/20 text-blue-300 border-blue-500/30",ELITE:"bg-purple-500/20 text-purple-300 border-purple-500/30",EXALTED:"bg-amber-500/20 text-amber-300 border-amber-500/30",LEGENDARY:"bg-orange-500/20 text-orange-300 border-orange-500/30"};function bbe({challenge:e,progress:t}){const r=t?.value_180d??t?.currentValue??0,a=t?.founders_mark??t?.foundersMarkAchieved??!1,s=[...e.tiers].sort((f,m)=>f.sortOrder-m.sortOrder);s.find(f=>f.isPrestige)||s[s.length-1];const l=t?.tier_code_180d??t?.highestTierAchieved,c=s.find(f=>f.thresholdValue>r),d=c?Math.min(100,r/c.thresholdValue*100):100;return n.jsxs(Y,{className:`hover-elevate transition-all ${a?"ring-2 ring-amber-500/50 shadow-amber-500/20 shadow-lg":""}`,"data-testid":`challenge-card-${e.key}`,children:[n.jsx(ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oe,{className:"text-base",children:e.name}),a&&n.jsx(Ws,{className:"w-4 h-4 text-amber-500","data-testid":`founders-mark-${e.key}`})]}),n.jsx(Se,{className:"text-xs mt-1",children:e.description})]}),l&&n.jsx(W,{variant:"outline",className:`text-xs ${t4[l]||""}`,"data-testid":`tier-badge-${e.key}`,children:l})]})}),n.jsx(J,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Progress"}),n.jsxs("span",{className:"font-medium","data-testid":`progress-value-${e.key}`,children:[r.toLocaleString(),c&&n.jsxs("span",{className:"text-muted-foreground",children:[" ","/ ",c.thresholdValue.toLocaleString()]})]})]}),n.jsx(Ut,{value:d,className:"h-2"}),n.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:s.map(f=>{const m=l&&s.findIndex(h=>h.tierCode===l)>=s.findIndex(h=>h.tierCode===f.tierCode);return n.jsxs(W,{variant:"outline",className:`text-xs ${m?t4[f.tierCode]||"":"opacity-40"}`,"data-testid":`tier-indicator-${e.key}-${f.tierCode}`,children:[f.isPrestige&&n.jsx(Ws,{className:"w-3 h-3 mr-1"}),f.displayName||f.tierCode]},f.tierCode)})})]})})]})}function jbe({feat:e}){return n.jsxs(Y,{className:`hover-elevate transition-all ${e.isUnlocked?"ring-1 ring-amber-500/30":"opacity-60"}`,"data-testid":`feat-card-${e.key}`,children:[n.jsx(ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[e.isUnlocked?n.jsx(SV,{className:"w-5 h-5 text-amber-500"}):n.jsx(EV,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx(oe,{className:"text-base",children:e.name}),n.jsx(Se,{className:"text-xs mt-1",children:e.description})]})]}),n.jsx(W,{variant:e.isUnlocked?"default":"outline",className:e.isUnlocked?"bg-amber-500/20 text-amber-300 border-amber-500/30":"","data-testid":`feat-status-${e.key}`,children:e.isUnlocked?"Unlocked":"Locked"})]})}),e.isUnlocked&&e.unlockedAt&&n.jsx(J,{className:"pt-0",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Achieved: ",new Date(e.unlockedAt).toLocaleDateString()]})})]})}function n4(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>n.jsxs(Y,{children:[n.jsxs(ie,{children:[n.jsx(Te,{className:"h-5 w-32"}),n.jsx(Te,{className:"h-4 w-48 mt-2"})]}),n.jsxs(J,{children:[n.jsx(Te,{className:"h-2 w-full"}),n.jsxs("div",{className:"flex gap-1 mt-3",children:[n.jsx(Te,{className:"h-5 w-16"}),n.jsx(Te,{className:"h-5 w-16"}),n.jsx(Te,{className:"h-5 w-16"})]})]})]},e))})})}function wbe(){const[e,t]=p.useState("challenges"),{data:r,isLoading:a}=Re({queryKey:["/api/challenges",{type:"challenges"}],queryFn:async()=>{const d=await fetch("/api/challenges?type=challenges");if(!d.ok)throw new Error("Failed to fetch challenges");return d.json()}}),{data:s,isLoading:l}=Re({queryKey:["/api/feats"],queryFn:async()=>{const d=await fetch("/api/feats");if(!d.ok)throw new Error("Failed to fetch feats");return d.json()}}),{data:c}=Re({queryKey:["/api/challenges/progress/demo"],queryFn:async()=>{const d=await fetch("/api/challenges/progress/demo");if(!d.ok)throw new Error("Failed to fetch progress");return d.json()},retry:!1});return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen","data-testid":"challenges-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"page-title",children:[n.jsx(Xr,{className:"w-6 h-6 text-primary"}),"Challenges & Feats"]}),n.jsx("p",{className:"text-muted-foreground",children:"Track your progress and unlock achievements"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[r&&n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"challenges-count",children:r.totalChallenges}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Challenges"})]}),s&&n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"feats-count",children:[s.unlockedCount,"/",s.totalFeats]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Feats Unlocked"})]})]})]}),n.jsxs(si,{value:e,onValueChange:t,className:"space-y-4",children:[n.jsxs(is,{children:[n.jsxs(St,{value:"challenges","data-testid":"tab-challenges",children:[n.jsx(tr,{className:"w-4 h-4 mr-2"}),"Challenges"]}),n.jsxs(St,{value:"feats","data-testid":"tab-feats",children:[n.jsx(zh,{className:"w-4 h-4 mr-2"}),"Feats"]})]}),n.jsxs(Tt,{value:"challenges",className:"space-y-6",children:[a?n.jsx(n4,{}):r?.categories.map(d=>{const f=ybe[d.key]||Xr;return n.jsxs("div",{className:"space-y-4","data-testid":`category-${d.key}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(f,{className:"w-5 h-5 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold",children:d.name}),n.jsx(W,{variant:"secondary",className:"text-xs",children:d.challenges.length})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d.description}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.challenges.map(m=>n.jsx(bbe,{challenge:m,progress:c?.progress[m.key]},m.key))})]},d.key)}),!a&&(!r?.categories||r.categories.length===0)&&n.jsx(Y,{className:"text-center py-12",children:n.jsxs(J,{children:[n.jsx(Xr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Challenges Yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Challenges will appear here once they're deployed."})]})})]}),n.jsx(Tt,{value:"feats",className:"space-y-6",children:l?n.jsx(n4,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(zh,{className:"w-5 h-5 text-amber-500"}),n.jsx("h2",{className:"text-lg font-semibold",children:"Lifetime Feats"}),n.jsxs(W,{variant:"secondary",className:"text-xs",children:[s?.unlockedCount||0,"/",s?.totalFeats||0," Unlocked"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Feats are permanent achievements that mark major accomplishments in your journey."}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s?.feats.map(d=>n.jsx(jbe,{feat:d},d.key))}),(!s?.feats||s.feats.length===0)&&n.jsx(Y,{className:"text-center py-12",children:n.jsxs(J,{children:[n.jsx(zh,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"No Feats Available"}),n.jsx("p",{className:"text-muted-foreground",children:"Feats will appear here once they're deployed."})]})})]})})]}),n.jsx(Y,{className:"bg-muted/30",children:n.jsx(J,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ws,{className:"w-4 h-4 text-amber-500"}),n.jsx("span",{className:"font-medium",children:"Founder's Mark:"}),n.jsx("span",{className:"text-muted-foreground",children:"Challenges with a golden border indicate you've achieved the top tier at some point. This is a permanent badge of honor, even if your current progress is lower."})]})})})]})}function Nbe(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(Y,{className:"w-full max-w-md mx-4",children:n.jsxs(J,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(er,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function At({children:e}){return n.jsx(PG,{requireAdmin:!0,children:n.jsx(WG,{children:e})})}function Sbe(){return console.log("[Router] Current path:",window.location.pathname),n.jsxs(J9,{children:[n.jsx(mt,{path:"/admin/login",component:YG}),n.jsx(mt,{path:"/admin/users/:discordId/dashboard",children:e=>(console.log("[Route] Matched /admin/users/:discordId/dashboard, params:",e),n.jsx(At,{children:n.jsx(nX,{})}))}),n.jsx(mt,{path:"/admin/users/:userId",children:e=>(console.log("[Route] Matched /admin/users/:userId, params:",e),n.jsx(At,{children:n.jsx(zQ,{})}))}),n.jsx(mt,{path:"/admin/users",children:()=>(console.log("[Route] Matched /admin/users"),n.jsx(At,{children:n.jsx(FQ,{})}))}),n.jsx(mt,{path:"/admin/expenses",children:()=>n.jsx(At,{children:n.jsx(rX,{})})}),n.jsx(mt,{path:"/admin/settings",children:()=>n.jsx(At,{children:n.jsx(iX,{})})}),n.jsx(mt,{path:"/admin/challenges/:id/edit",children:()=>n.jsx(At,{children:n.jsx(DR,{})})}),n.jsx(mt,{path:"/admin/challenges/:id",children:()=>n.jsx(At,{children:n.jsx(DR,{})})}),n.jsx(mt,{path:"/admin/challenges",children:()=>n.jsx(At,{children:n.jsx(_ge,{})})}),n.jsx(mt,{path:"/admin/bridge",children:()=>n.jsx(At,{children:n.jsx(age,{})})}),n.jsx(mt,{path:"/admin/value-allocation",children:()=>n.jsx(At,{children:n.jsx(sge,{})})}),n.jsx(mt,{path:"/admin/coverage-details",children:()=>n.jsx(At,{children:n.jsx(lge,{})})}),n.jsx(mt,{path:"/admin/tokens",children:()=>n.jsx(At,{children:n.jsx(Ave,{})})}),n.jsx(mt,{path:"/admin/extractors",children:()=>n.jsx(At,{children:n.jsx(_ve,{})})}),n.jsx(mt,{path:"/admin/pools/:pid",children:()=>n.jsx(At,{children:n.jsx(Mve,{})})}),n.jsx(mt,{path:"/admin/pools",children:()=>n.jsx(At,{children:n.jsx(Rve,{})})}),n.jsx(mt,{path:"/admin/pool-indexer",children:()=>n.jsx(At,{children:n.jsx(Bve,{})})}),n.jsx(mt,{path:"/admin/pool-indexer-v1",children:()=>n.jsx(At,{children:n.jsx(Wve,{})})}),n.jsx(mt,{path:"/admin/pool-indexer-harmony",children:()=>n.jsx(At,{children:n.jsx(Xve,{})})}),n.jsx(mt,{path:"/admin/jeweler",children:()=>n.jsx(At,{children:n.jsx(eye,{})})}),n.jsx(mt,{path:"/admin/gardening-quest",children:()=>n.jsx(At,{children:n.jsx(yye,{})})}),n.jsx(mt,{path:"/admin/gardening-calc",children:()=>n.jsx(At,{children:n.jsx(Kye,{})})}),n.jsx(mt,{path:"/admin/battle-ready",children:()=>n.jsx(At,{children:n.jsx(Qye,{})})}),n.jsx(mt,{path:"/admin/summoning-calculator",children:()=>n.jsx(At,{children:n.jsx(g0e,{})})}),n.jsx(mt,{path:"/admin/summon-sniper",children:()=>n.jsx(At,{children:n.jsx(v0e,{})})}),n.jsx(mt,{path:"/admin/tavern-indexer",children:()=>n.jsx(At,{children:n.jsx(w0e,{})})}),n.jsx(mt,{path:"/admin/pve-droprates",children:()=>n.jsx(At,{children:n.jsx(C0e,{})})}),n.jsx(mt,{path:"/admin/level-racer",children:()=>n.jsx(At,{children:n.jsx(Eve,{})})}),n.jsx(mt,{path:"/admin/hedge/combat-sync",children:()=>n.jsx(At,{children:n.jsx(E0e,{})})}),n.jsx(mt,{path:"/admin/combat-classes",children:()=>n.jsx(At,{children:n.jsx(cbe,{})})}),n.jsx(mt,{path:"/admin/hedge/plans",children:()=>n.jsx(At,{children:n.jsx(dbe,{})})}),n.jsx(mt,{path:"/admin/account",children:()=>n.jsx(At,{children:n.jsx(fbe,{})})}),n.jsx(mt,{path:"/admin",children:()=>(console.log("[Route] Matched /admin (dashboard)"),n.jsx(At,{children:n.jsx(QG,{})}))}),n.jsx(mt,{path:"/leaderboards/:key",children:()=>n.jsx(e4,{})}),n.jsx(mt,{path:"/leaderboards",children:()=>n.jsx(e4,{})}),n.jsx(mt,{path:"/challenges",children:()=>n.jsx(wbe,{})}),n.jsx(mt,{path:"/",children:()=>(window.location.href="/admin",null)}),n.jsx(mt,{children:()=>(console.log("[Route] No match - showing 404"),n.jsx(Nbe,{}))})]})}function Cbe(){return n.jsx(SU,{client:Me,children:n.jsx(oD,{children:n.jsxs(AG,{children:[n.jsx(vK,{}),n.jsx(Sbe,{})]})})})}T9.createRoot(document.getElementById("root")).render(n.jsx(Cbe,{}));
